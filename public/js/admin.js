/*! For license information please see admin.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[567],{3882:(e,t,i)=>{"use strict";i(4770);try{window.$=window.jQuery=i(4692),window.ClipboardJS=i(7576),i(2754),i(5378),i(1889),i(1193),i(1758),i(9914),i(8604),i(5314),i(8438),i(600),i(3170),window.bootbox=i(6206),i(2246),i(7574),i(5064),i(1839)}catch(e){console.log(e)}},1839:()=>{function e(e,t,i,n,o){$.post(e,{formId:t,source:i},(function(e){n.html(e).find("div.entry").each((function(){makeSelect($(this))})),renumber_geolocate()})).fail((function(e){var t=JSON.parse(e.responseText);o.modal("hide"),notify("exclamation-circle",t.message,"warning")}))}$((function(){var t=$("body");$(document).on("shown.bs.modal",(function(){!1===t.hasClass("modal-open")&&t.addClass("modal-open")}));var i=$(".global-modal");i.on("show.bs.modal",(function(e){var t=$(e.relatedTarget),i=$(this).find(".modal-body"),n=t.data("size");$(this).data("size",n),$(this).find("div.modal-dialog").addClass(n),$("#modal-title").html(t.data("title")),i.html('<div class="loader mx-auto"></div>'),i.load(t.data("url"),(function(){makeSelect($(".controls")),toggleGeoLocateCommunityForm(),$("#geolocate-source-select").length>0&&$("#geolocate-source-select").selectpicker()}))})).on("hidden.bs.modal",(function(){var e=$(this).data("size");$(this).find("div.modal-dialog").removeClass(e).data("size",""),$(this).find(".modal-body").html(""),$("#modal-title").html("")})),$(".modal-body").on("change","#community-form-select",(function(){toggleGeoLocateCommunityForm()})).on("submit",".modal-form",(function(e){$("#warning").html("").collapse("hide"),e.preventDefault();var t=new FormData(this);formPost($(this).attr("action"),t),i.modal("hide")})).on("change","#geolocate-form-select",(function(){if($("#warning").html("").collapse("hide"),""!==$(this).val()){var t=$(this).val(),n=$("#geolocate-source-select").val(),o=$("#geolocate-form-results");o.html('<div class="mt-5 loader mx-auto"></div>'),e($(this).data("url"),t,n,o,i)}else $("#name").val("")})).on("click",".geolocate-btn-add",(function(){$("#warning").html("").collapse("hide");var e=$(".default").clone().appendTo($("#controls"));e.find(".geolocate-field-default").removeClass("geolocate-field-default").addClass("geolocate-field").prop("required",!0),e.find(".header-select-default").removeClass("header-select-default").addClass("header-select").prop("required",!0),e.removeClass("default").addClass("entry").show(),makeSelect(e),renumber_geolocate()})).on("click",".geolocate-btn-remove",(function(){$("#warning").html("").collapse("hide"),1!==$("#controls").children("div.entry").length&&($("#controls div.entry:last").remove(),renumber_geolocate())})).on("click","#export",(function(){$("#warning").html("").collapse("hide"),$("form#geolocate-form").attr("action",$(this).data("url")).trigger("submit")})).on("submit","form#geolocate-form",(function(e){if(e.preventDefault(),checkDuplicates())$("#warning").html("GeoLocate Export fields my not contain duplicate values.").collapse("show");else{var t=checkRequiredValues();if(t.length>0)$("#warning").html("Geolocate requires the fields: "+t.toString()).collapse("show");else{var n=new FormData(this);formPost($(this).attr("action"),n),i.modal("hide")}}})).on("change","#geolocate-source-select",(function(t){if($("#warning").html("").hide(),"upload"!==$(this).val()){var n=$("#geolocate-form-select").val(),o=$(this).val(),r=$("#geolocate-fields");r.html('<div class="loader mx-auto"></div>'),e($(this).data("url"),n,o,r,i)}else $("#user-upload").trigger("click")}))})),makeSelect=function(e){e.find("select").each((function(){$(this).selectpicker()})).disableSelection()},renumber_geolocate=function(){var e=$("#controls > div.entry");e.each((function(e){$(this).find("select").each((function(){$(this).attr("name",$(this).attr("name").replace(/\[[0-9]+\]/g,"["+e+"]"))}))})),$("#entries").val(e.length)},formPost=function(e,t){$.ajax({type:"POST",url:e,data:t,cache:!1,contentType:!1,processData:!1,async:!1}).done((function(e){e.error?notify("exclamation-circle",e.message,"warning"):notify("exclamation-circle",e.message,"success")})).fail((function(e){var t=JSON.parse(e.responseText);notify("exclamation-circle",t.message,"warning")}))},toggleGeoLocateCommunityForm=function(){0!==$("#community-form-select").length&&(""===$("#community-form-select").val()?($("#community-row").collapse("show"),$("#community").attr("required",!0),$("#community-label").attr("required",!0)):($("#community-row").collapse("hide"),$("#community").removeAttr("required"),$("#community-label").removeAttr("required")))},checkDuplicates=function(){var e=!1,t=[];return $("select.geolocate-field").each((function(){$.inArray($(this).val(),t)>-1&&(e=!0),t.push($(this).val())})),e},checkRequiredValues=function(){var e=["County","Country","Locality","ScientificName","StateProvince"];return $("select.geolocate-field").each((function(){$.inArray($(this).val(),e)>-1&&e.splice($.inArray($(this).val(),e),1)})),e}},5064:()=>{function e(){$(".controls").children(".entry").each((function(e){$(this).find("legend").html("Resource "+(e+1)),$(this).find(":input").each((function(){$(this).attr("id",$(this).attr("id").replace(/\[[0-9]+\]/g,"["+e+"]")),$(this).attr("name",$(this).attr("name").replace(/\[[0-9]+\]/g,"["+e+"]"))}))}))}$((function(){new ClipboardJS(".clipboard");var t=$("#user-group"),i=$("#group-input");t.change((function(){"new"===this.value?i.show():i.hide()})),t.length&&("new"===t.val()?i.show():i.hide());var n=$("a.home-project-list");n.click((function(e){var t=$(this).data("count");$.get($(this).attr("href")+"/"+t,(function(e){$(".recent-projects-pane").html(e),n.data("count",t+5)})),e.preventDefault()}));var o=$(".textarea");o.length&&o.summernote({height:200,toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]]]}),$.datetimepicker.setLocale("en"),$(".date-time-picker").datetimepicker({format:"Y-m-d H:i",allowTimes:["00:00","00:30","01:00","01:30","02:00","02:30","03:00","03:30","04:00","04:30","05:00","05:30","06:00","06:30","07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30"]}),$(document).on("click",".btn-add",(function(t){t.preventDefault();var i=$(".controls"),n=$(this).parents(".entry:first"),o=$(n.clone()).appendTo(i);o.find(":input").each((function(){$(this).val("")})),o.find(".custom-file-label").each((function(){$(this).text("")})),o.find(":file").each((function(){$(this).val("")})),i.find(".entry:last span.btn-add").removeClass("btn-add").addClass("btn-remove").html('<i class="fas fa-minus"></i>'),e()})).on("click",".btn-remove",(function(t){return $(this).parents(".entry:first").remove(),e(),t.preventDefault(),!1})),$(document).on("click","[data-confirm=confirmation]",(function(){var e=$(this).is("[data-href]")?$(this).data("href"):$(this).attr("href"),t=$(this).data("method");bootbox.confirm({title:$(this).data("title"),message:$(this).data("content"),buttons:{cancel:{label:'<i class="fas fa-times-circle"></i> Cancel',className:"btn btn-primary"},confirm:{label:'<i class="fas fa-check-circle"></i> Confirm',className:"btn btn-primary"}},callback:function(i){i&&$(this).append((function(){var i="\n";return i+="<form action='"+e+"' method='POST' style='display:none'>\n",i+="<input type='hidden' name='_method' value='"+t+"'>\n",i+="<input type='hidden' name='_token' value='"+$("meta[name=csrf-token]").attr("content")+"'>\n",i+="</form>\n"})).find("form").submit()}})})),$(".project-banner").on("click",(function(){var e=$(this).data("name"),t=$("#banner-file");t.val(e),t.attr("value",e),$("#banner-img").attr("src",Laravel.habitatBannersPath+e),$("#project-banner-modal .close").click()})),$(document).on("change",".custom-file-input",(function(){var e=$(this).val().split("\\").pop();$(this).prev(".custom-file-label").addClass("selected").html(e)})),setInterval((function(){var e=$("#footer"),t=$(window).height(),i=e.height(),n=e.position().top+i,o=t-n+10;n<t?e.css("margin-top",o+"px"):e.css("margin-top","0px")}),250)}))},4770:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a.apply(this,arguments)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function u(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=c(e);if(t){var o=c(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return u(this,i)}}var p=function(){function e(){o(this,e)}return s(e,[{key:"listenForWhisper",value:function(e,t){return this.listen(".client-"+e,t)}},{key:"notification",value:function(e){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",e)}},{key:"stopListeningForWhisper",value:function(e,t){return this.stopListening(".client-"+e,t)}}]),e}(),f=function(){function e(t){o(this,e),this.namespace=t}return s(e,[{key:"format",value:function(e){return[".","\\"].includes(e.charAt(0))?e.substring(1):(this.namespace&&(e=this.namespace+"."+e),e.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(e){this.namespace=e}}]),e}();var m,g=function(e){l(i,e);var t=h(i);function i(e,n,r){var s;return o(this,i),(s=t.call(this)).name=n,s.pusher=e,s.options=r,s.eventFormatter=new f(s.options.namespace),s.subscribe(),s}return s(i,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(e,t){return this.on(this.eventFormatter.format(e),t),this}},{key:"listenToAll",value:function(e){var t=this;return this.subscription.bind_global((function(i,n){if(!i.startsWith("pusher:")){var o=t.options.namespace.replace(/\./g,"\\"),r=i.startsWith(o)?i.substring(o.length+1):"."+i;e(r,n)}})),this}},{key:"stopListening",value:function(e,t){return t?this.subscription.unbind(this.eventFormatter.format(e),t):this.subscription.unbind(this.eventFormatter.format(e)),this}},{key:"stopListeningToAll",value:function(e){return e?this.subscription.unbind_global(e):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(e){return this.on("pusher:subscription_succeeded",(function(){e()})),this}},{key:"error",value:function(e){return this.on("pusher:subscription_error",(function(t){e(t)})),this}},{key:"on",value:function(e,t){return this.subscription.bind(e,t),this}}]),i}(p),v=function(e){l(i,e);var t=h(i);function i(){return o(this,i),t.apply(this,arguments)}return s(i,[{key:"whisper",value:function(e,t){return this.pusher.channels.channels[this.name].trigger("client-".concat(e),t),this}}]),i}(g),b=function(e){l(i,e);var t=h(i);function i(){return o(this,i),t.apply(this,arguments)}return s(i,[{key:"whisper",value:function(e,t){return this.pusher.channels.channels[this.name].trigger("client-".concat(e),t),this}}]),i}(g),y=function(e){l(i,e);var t=h(i);function i(){return o(this,i),t.apply(this,arguments)}return s(i,[{key:"here",value:function(e){return this.on("pusher:subscription_succeeded",(function(t){e(Object.keys(t.members).map((function(e){return t.members[e]})))})),this}},{key:"joining",value:function(e){return this.on("pusher:member_added",(function(t){e(t.info)})),this}},{key:"whisper",value:function(e,t){return this.pusher.channels.channels[this.name].trigger("client-".concat(e),t),this}},{key:"leaving",value:function(e){return this.on("pusher:member_removed",(function(t){e(t.info)})),this}}]),i}(v),w=function(e){l(i,e);var t=h(i);function i(e,n,r){var s;return o(this,i),(s=t.call(this)).events={},s.listeners={},s.name=n,s.socket=e,s.options=r,s.eventFormatter=new f(s.options.namespace),s.subscribe(),s}return s(i,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(e,t){return this.on(this.eventFormatter.format(e),t),this}},{key:"stopListening",value:function(e,t){return this.unbindEvent(this.eventFormatter.format(e),t),this}},{key:"subscribed",value:function(e){return this.on("connect",(function(t){e(t)})),this}},{key:"error",value:function(e){return this}},{key:"on",value:function(e,t){var i=this;return this.listeners[e]=this.listeners[e]||[],this.events[e]||(this.events[e]=function(t,n){i.name===t&&i.listeners[e]&&i.listeners[e].forEach((function(e){return e(n)}))},this.socket.on(e,this.events[e])),this.listeners[e].push(t),this}},{key:"unbind",value:function(){var e=this;Object.keys(this.events).forEach((function(t){e.unbindEvent(t)}))}},{key:"unbindEvent",value:function(e,t){this.listeners[e]=this.listeners[e]||[],t&&(this.listeners[e]=this.listeners[e].filter((function(e){return e!==t}))),t&&0!==this.listeners[e].length||(this.events[e]&&(this.socket.removeListener(e,this.events[e]),delete this.events[e]),delete this.listeners[e])}}]),i}(p),x=function(e){l(i,e);var t=h(i);function i(){return o(this,i),t.apply(this,arguments)}return s(i,[{key:"whisper",value:function(e,t){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(e),data:t}),this}}]),i}(w),C=function(e){l(i,e);var t=h(i);function i(){return o(this,i),t.apply(this,arguments)}return s(i,[{key:"here",value:function(e){return this.on("presence:subscribed",(function(t){e(t.map((function(e){return e.user_info})))})),this}},{key:"joining",value:function(e){return this.on("presence:joining",(function(t){return e(t.user_info)})),this}},{key:"whisper",value:function(e,t){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(e),data:t}),this}},{key:"leaving",value:function(e){return this.on("presence:leaving",(function(t){return e(t.user_info)})),this}}]),i}(x),k=function(e){l(i,e);var t=h(i);function i(){return o(this,i),t.apply(this,arguments)}return s(i,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(e,t){return this}},{key:"listenToAll",value:function(e){return this}},{key:"stopListening",value:function(e,t){return this}},{key:"subscribed",value:function(e){return this}},{key:"error",value:function(e){return this}},{key:"on",value:function(e,t){return this}}]),i}(p),S=function(e){l(i,e);var t=h(i);function i(){return o(this,i),t.apply(this,arguments)}return s(i,[{key:"whisper",value:function(e,t){return this}}]),i}(k),$=function(e){l(i,e);var t=h(i);function i(){return o(this,i),t.apply(this,arguments)}return s(i,[{key:"whisper",value:function(e,t){return this}}]),i}(k),_=function(e){l(i,e);var t=h(i);function i(){return o(this,i),t.apply(this,arguments)}return s(i,[{key:"here",value:function(e){return this}},{key:"joining",value:function(e){return this}},{key:"whisper",value:function(e,t){return this}},{key:"leaving",value:function(e){return this}}]),i}(S),D=function(){function e(t){o(this,e),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(t),this.connect()}return s(e,[{key:"setOptions",value:function(e){this.options=a(this._defaultOptions,e);var t=this.csrfToken();return t&&(this.options.auth.headers["X-CSRF-TOKEN"]=t,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=t),(t=this.options.bearerToken)&&(this.options.auth.headers.Authorization="Bearer "+t,this.options.userAuthentication.headers.Authorization="Bearer "+t),e}},{key:"csrfToken",value:function(){var e;return"undefined"!=typeof window&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:"undefined"!=typeof document&&"function"==typeof document.querySelector&&(e=document.querySelector('meta[name="csrf-token"]'))?e.getAttribute("content"):null}}]),e}(),T=function(e){l(i,e);var t=h(i);function i(){var e;return o(this,i),(e=t.apply(this,arguments)).channels={},e}return s(i,[{key:"connect",value:function(){void 0!==this.options.client?this.pusher=this.options.client:this.options.Pusher?this.pusher=new this.options.Pusher(this.options.key,this.options):this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(e,t,i){return this.channel(e).listen(t,i)}},{key:"channel",value:function(e){return this.channels[e]||(this.channels[e]=new g(this.pusher,e,this.options)),this.channels[e]}},{key:"privateChannel",value:function(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new v(this.pusher,"private-"+e,this.options)),this.channels["private-"+e]}},{key:"encryptedPrivateChannel",value:function(e){return this.channels["private-encrypted-"+e]||(this.channels["private-encrypted-"+e]=new b(this.pusher,"private-encrypted-"+e,this.options)),this.channels["private-encrypted-"+e]}},{key:"presenceChannel",value:function(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new y(this.pusher,"presence-"+e,this.options)),this.channels["presence-"+e]}},{key:"leave",value:function(e){var t=this;[e,"private-"+e,"private-encrypted-"+e,"presence-"+e].forEach((function(e,i){t.leaveChannel(e)}))}},{key:"leaveChannel",value:function(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),i}(D),j=function(e){l(i,e);var t=h(i);function i(){var e;return o(this,i),(e=t.apply(this,arguments)).channels={},e}return s(i,[{key:"connect",value:function(){var e=this,t=this.getSocketIO();return this.socket=t(this.options.host,this.options),this.socket.on("reconnect",(function(){Object.values(e.channels).forEach((function(e){e.subscribe()}))})),this.socket}},{key:"getSocketIO",value:function(){if(void 0!==this.options.client)return this.options.client;if("undefined"!=typeof io)return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(e,t,i){return this.channel(e).listen(t,i)}},{key:"channel",value:function(e){return this.channels[e]||(this.channels[e]=new w(this.socket,e,this.options)),this.channels[e]}},{key:"privateChannel",value:function(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new x(this.socket,"private-"+e,this.options)),this.channels["private-"+e]}},{key:"presenceChannel",value:function(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new C(this.socket,"presence-"+e,this.options)),this.channels["presence-"+e]}},{key:"leave",value:function(e){var t=this;[e,"private-"+e,"presence-"+e].forEach((function(e){t.leaveChannel(e)}))}},{key:"leaveChannel",value:function(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),i}(D),O=function(e){l(i,e);var t=h(i);function i(){var e;return o(this,i),(e=t.apply(this,arguments)).channels={},e}return s(i,[{key:"connect",value:function(){}},{key:"listen",value:function(e,t,i){return new k}},{key:"channel",value:function(e){return new k}},{key:"privateChannel",value:function(e){return new S}},{key:"encryptedPrivateChannel",value:function(e){return new $}},{key:"presenceChannel",value:function(e){return new _}},{key:"leave",value:function(e){}},{key:"leaveChannel",value:function(e){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),i}(D),I=function(){function e(t){o(this,e),this.options=t,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return s(e,[{key:"channel",value:function(e){return this.connector.channel(e)}},{key:"connect",value:function(){if("reverb"==this.options.broadcaster)this.connector=new T(a(a({},this.options),{cluster:""}));else if("pusher"==this.options.broadcaster)this.connector=new T(this.options);else if("socket.io"==this.options.broadcaster)this.connector=new j(this.options);else if("null"==this.options.broadcaster)this.connector=new O(this.options);else{if("function"!=typeof this.options.broadcaster||!function(e){try{new e}catch(e){if(e.message.includes("is not a constructor"))return!1}return!0}(this.options.broadcaster))throw new Error("Broadcaster ".concat(n(this.options.broadcaster)," ").concat(this.options.broadcaster," is not supported."));this.connector=new this.options.broadcaster(this.options)}}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(e){return this.connector.presenceChannel(e)}},{key:"leave",value:function(e){this.connector.leave(e)}},{key:"leaveChannel",value:function(e){this.connector.leaveChannel(e)}},{key:"leaveAllChannels",value:function(){for(var e in this.connector.channels)this.leaveChannel(e)}},{key:"listen",value:function(e,t,i){return this.connector.listen(e,t,i)}},{key:"private",value:function(e){return this.connector.privateChannel(e)}},{key:"encryptedPrivate",value:function(e){if(this.connector instanceof j)throw new Error("Broadcaster ".concat(n(this.options.broadcaster)," ").concat(this.options.broadcaster," does not support encrypted private channels."));return this.connector.encryptedPrivateChannel(e)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){"function"==typeof Vue&&Vue.http&&this.registerVueRequestInterceptor(),"function"==typeof axios&&this.registerAxiosRequestInterceptor(),"function"==typeof jQuery&&this.registerjQueryAjaxSetup(),"object"===("undefined"==typeof Turbo?"undefined":n(Turbo))&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var e=this;Vue.http.interceptors.push((function(t,i){e.socketId()&&t.headers.set("X-Socket-ID",e.socketId()),i()}))}},{key:"registerAxiosRequestInterceptor",value:function(){var e=this;axios.interceptors.request.use((function(t){return e.socketId()&&(t.headers["X-Socket-Id"]=e.socketId()),t}))}},{key:"registerjQueryAjaxSetup",value:function(){var e=this;void 0!==jQuery.ajax&&jQuery.ajaxPrefilter((function(t,i,n){e.socketId()&&n.setRequestHeader("X-Socket-Id",e.socketId())}))}},{key:"registerTurboRequestInterceptor",value:function(){var e=this;document.addEventListener("turbo:before-fetch-request",(function(t){t.detail.fetchOptions.headers["X-Socket-Id"]=e.socketId()}))}}]),e}(),E=i(6479),R=i.n(E);window.Pusher=R(),window.Echo=new I({broadcaster:"reverb",key:"biospex-pusher",wsHost:"dev.biospex.test",wsPort:null!=="443"?"443":80,wssPort:null!=="443"?"443":443,forceTLS:"https"===(null!==(m="https")?m:"https"),enabledTransports:["ws","wss"]}),window.axios=i(6425),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var P=document.head.querySelector("meta[name='csrf-token']");P?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=P.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token")},6206:function(e,t,i){var n,o,r;function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}!function(){"use strict";o=[i(4692)],n=function e(t,i){var n,o,r,a;Object.keys||(Object.keys=(n=Object.prototype.hasOwnProperty,o=!{toString:null}.propertyIsEnumerable("toString"),a=(r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("function"!=typeof e&&("object"!=s(e)||null===e))throw new TypeError("Object.keys called on non-object");var t,i,l=[];for(t in e)n.call(e,t)&&l.push(t);if(o)for(i=0;i<a;i++)n.call(e,r[i])&&l.push(r[i]);return l}));var l={};l.VERSION="5.0.0";var c={},d={dialog:'<div class="bootbox modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><div class="bootbox-body"></div></div></div></div></div>',header:'<div class="modal-header"><h5 class="modal-title"></h5></div>',footer:'<div class="modal-footer"></div>',closeButton:'<button type="button" class="bootbox-close-button close" aria-hidden="true">&times;</button>',form:'<form class="bootbox-form"></form>',button:'<button type="button" class="btn"></button>',option:"<option></option>",promptMessage:'<div class="bootbox-prompt-message"></div>',inputs:{text:'<input class="bootbox-input bootbox-input-text form-control" autocomplete="off" type="text" />',textarea:'<textarea class="bootbox-input bootbox-input-textarea form-control"></textarea>',email:'<input class="bootbox-input bootbox-input-email form-control" autocomplete="off" type="email" />',select:'<select class="bootbox-input bootbox-input-select form-control"></select>',checkbox:'<div class="form-check checkbox"><label class="form-check-label"><input class="form-check-input bootbox-input bootbox-input-checkbox" type="checkbox" /></label></div>',radio:'<div class="form-check radio"><label class="form-check-label"><input class="form-check-input bootbox-input bootbox-input-radio" type="radio" name="bootbox-radio" /></label></div>',date:'<input class="bootbox-input bootbox-input-date form-control" autocomplete="off" type="date" />',time:'<input class="bootbox-input bootbox-input-time form-control" autocomplete="off" type="time" />',number:'<input class="bootbox-input bootbox-input-number form-control" autocomplete="off" type="number" />',password:'<input class="bootbox-input bootbox-input-password form-control" autocomplete="off" type="password" />',range:'<input class="bootbox-input bootbox-input-range form-control-range" autocomplete="off" type="range" />'}},u={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body",value:"",inputType:"text",swapButtonOrder:!1,centerVertical:!1};function h(e,t){var i=e.length,n={};if(i<1||i>2)throw new Error("Invalid argument length");return 2===i||"string"==typeof e[0]?(n[t[0]]=e[0],n[t[1]]=e[1]):n=e[0],n}function p(e,i,n){return t.extend(!0,{},e,h(i,n))}function f(e,t,i,n){var o;return n&&n[0]&&(o=n[0].locale||u.locale,(n[0].swapButtonOrder||u.swapButtonOrder)&&(t=t.reverse())),m(p({className:"bootbox-"+e,buttons:g(t,o)},n,i),t)}function m(e,t){var n={};return w(t,(function(e,t){n[t]=!0})),w(e.buttons,(function(e){if(n[e]===i)throw new Error('button key "'+e+'" is not allowed (options are '+t.join(" ")+")")})),e}function g(e,t){for(var i={},n=0,o=e.length;n<o;n++){var r=e[n],s=r.toLowerCase(),a=r.toUpperCase();i[s]={label:v(a,t)}}return i}function v(e,t){var i=c[t];return i?i[e]:c.en[e]}function b(e){var i,n;if("object"!=s(e))throw new Error("Please supply an object of options");if(!e.message)throw new Error("Please specify a message");return(e=t.extend({},u,e)).buttons||(e.buttons={}),i=e.buttons,n=y(i),w(i,(function(o,r,s){if(t.isFunction(r)&&(r=i[o]={callback:r}),"object"!==t.type(r))throw new Error('button with key "'+o+'" must be an object');if(r.label||(r.label=o),!r.className){var a=!1;a=e.swapButtonOrder?0===s:s===n-1,r.className=n<=2&&a?"btn-primary":"btn-secondary btn-default"}})),e}function y(e){return Object.keys(e).length}function w(e,i){var n=0;t.each(e,(function(e,t){i(e,t,n++)}))}function x(e,i,n){e.stopPropagation(),e.preventDefault(),t.isFunction(n)&&!1===n.call(i,e)||i.modal("hide")}function C(e,t,n,o,r,s){if(o!==i)if("date"===t)e.attr(n,o),/(\d{4})-(\d{2})-(\d{2})/.test(o)||console.warn('Browsers which natively support the "date" input type expect date values to be of the form "YYYY-MM-DD"  (see ISO-8601 https://www.iso.org/iso-8601-date-and-time-format.html). Bootbox does not enforce this rule, but your '+n+" value may not be enforced by this browser.");else if("time"===t){if(!/([01][0-9]|2[0-3]):[0-5][0-9]?:[0-5][0-9]/.test(o))throw new Error('"'+n+'" is not a valid time. See https://www.w3.org/TR/2012/WD-html-markup-20120315/datatypes.html#form.data.time for more information.');if(!(r===i||s.max>s.min))throw new Error('"max" must be greater than "min". See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-'+n+" for more information.");e.attr(n,o)}else{if(isNaN(o))throw new Error('"'+n+'" must be a valid number. See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-'+n+" for more information.");if(!(r===i||s.max>s.min))throw new Error('"max" must be greater than "min". See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-'+n+" for more information.");e.attr(n,o)}return e}return l.locales=function(e){return e?c[e]:c},l.addLocale=function(e,i){return t.each(["OK","CANCEL","CONFIRM"],(function(e,t){if(!i[t])throw new Error('Please supply a translation for "'+t+'"')})),c[e]={OK:i.OK,CANCEL:i.CANCEL,CONFIRM:i.CONFIRM},l},l.removeLocale=function(e){if("en"===e)throw new Error('"en" is used as the default and fallback locale and cannot be removed.');return delete c[e],l},l.setLocale=function(e){return l.setDefaults("locale",e)},l.setDefaults=function(){var e={};return 2===arguments.length?e[arguments[0]]=arguments[1]:e=arguments[0],t.extend(u,e),l},l.hideAll=function(){return t(".bootbox").modal("hide"),l},l.init=function(i){return e(i||t)},l.dialog=function(e){if(t.fn.modal===i)throw new Error('"$.fn.modal" is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.');if(e=b(e),t.fn.modal.Constructor.VERSION){e.fullBootstrapVersion=t.fn.modal.Constructor.VERSION;var n=e.fullBootstrapVersion.indexOf(".");e.bootstrap=e.fullBootstrapVersion.substring(0,n)}else e.bootstrap="2",e.fullBootstrapVersion="2.3.2",console.warn("Bootbox will *mostly* work with Bootstrap 2, but we do not officially support it. Please upgrade, if possible.");var o=t(d.dialog),r=o.find(".modal-dialog"),s=o.find(".modal-body"),a=(t(d.header),t(d.footer)),l=e.buttons,c={onEscape:e.onEscape};if(s.find(".bootbox-body").html(e.message),y(e.buttons)>0&&(w(l,(function(e,i){var n=t(d.button);switch(n.data("bb-handler",e),n.addClass(i.className),e){case"ok":case"confirm":n.addClass("bootbox-accept");break;case"cancel":n.addClass("bootbox-cancel")}n.html(i.label),a.append(n),c[e]=i.callback})),s.after(a)),!0===e.animate&&o.addClass("fade"),e.className&&o.addClass(e.className),e.size&&(e.fullBootstrapVersion.substring(0,3)<"3.1"&&console.warn('"size" requires Bootstrap 3.1.0 or higher. You appear to be using '+e.fullBootstrapVersion+". Please upgrade to use this option."),"large"===e.size?r.addClass("modal-lg"):"small"===e.size&&r.addClass("modal-sm")),e.title&&(s.before(d.header),o.find(".modal-title").html(e.title)),e.closeButton){var u=t(d.closeButton);e.title?e.bootstrap>3?o.find(".modal-header").append(u):o.find(".modal-header").prepend(u):u.prependTo(s)}return e.centerVertical&&(e.fullBootstrapVersion<"4.0.0"&&console.warn('"centerVertical" requires Bootstrap 4.0.0-beta.3 or higher. You appear to be using '+e.fullBootstrapVersion+". Please upgrade to use this option."),r.addClass("modal-dialog-centered")),o.one("hide.bs.modal",(function(e){e.target===this&&(o.off("escape.close.bb"),o.off("click"))})),o.one("hidden.bs.modal",(function(e){e.target===this&&o.remove()})),o.one("shown.bs.modal",(function(e){o.find(".bootbox-accept:first").trigger("focus")})),"static"!==e.backdrop&&o.on("click.dismiss.bs.modal",(function(e){o.children(".modal-backdrop").length&&(e.currentTarget=o.children(".modal-backdrop").get(0)),e.target===e.currentTarget&&o.trigger("escape.close.bb")})),o.on("escape.close.bb",(function(e){c.onEscape&&x(e,o,c.onEscape)})),o.on("click",".modal-footer button",(function(e){var i=t(this).data("bb-handler");x(e,o,c[i])})),o.on("click",".bootbox-close-button",(function(e){x(e,o,c.onEscape)})),o.on("keyup",(function(e){27===e.which&&o.trigger("escape.close.bb")})),t(e.container).append(o),o.modal({backdrop:!!e.backdrop&&"static",keyboard:!1,show:!1}),e.show&&o.modal("show"),o},l.alert=function(){var e;if((e=f("alert",["ok"],["message","callback"],arguments)).callback&&!t.isFunction(e.callback))throw new Error("alert requires callback property to be a function when provided");return e.buttons.ok.callback=e.onEscape=function(){return!t.isFunction(e.callback)||e.callback.call(this)},l.dialog(e)},l.confirm=function(){var e;if(e=f("confirm",["cancel","confirm"],["message","callback"],arguments),!t.isFunction(e.callback))throw new Error("confirm requires a callback");return e.buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,!1)},e.buttons.confirm.callback=function(){return e.callback.call(this,!0)},l.dialog(e)},l.prompt=function(){var e,n,o,r,s,a;if(o=t(d.form),(e=f("prompt",["cancel","confirm"],["title","callback"],arguments)).value||(e.value=u.value),e.inputType||(e.inputType=u.inputType),s=e.show===i?u.show:e.show,e.show=!1,e.buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,null)},e.buttons.confirm.callback=function(){var i;if("checkbox"===e.inputType)i=r.find("input:checked").map((function(){return t(this).val()})).get();else if("radio"===e.inputType)i=r.find("input:checked").val();else{if(r[0].checkValidity&&!r[0].checkValidity())return!1;i=r.val()}return e.callback.call(this,i)},!e.title)throw new Error("prompt requires a title");if(!t.isFunction(e.callback))throw new Error("prompt requires a callback");if(!d.inputs[e.inputType])throw new Error("Invalid prompt type");switch(r=t(d.inputs[e.inputType]),e.inputType){case"text":case"textarea":case"email":case"password":r.val(e.value),e.placeholder&&r.attr("placeholder",e.placeholder),e.pattern&&r.attr("pattern",e.pattern),e.maxlength&&r.attr("maxlength",e.maxlength),e.required&&r.prop({required:!0});break;case"date":case"time":case"number":case"range":if(r.val(e.value),e.placeholder&&r.attr("placeholder",e.placeholder),e.pattern&&r.attr("pattern",e.pattern),e.required&&r.prop({required:!0}),"date"!==e.inputType&&e.step){if(!("any"===e.step||!isNaN(e.step)&&e.step>0))throw new Error('"step" must be a valid positive number or the value "any". See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-step for more information.');r.attr("step",e.step)}r=C(r=C(r,e.inputType,"min",e.min,e.max,e),e.inputType,"max",e.max,e.min,e);break;case"select":var c={};if(a=e.inputOptions||[],!t.isArray(a))throw new Error("Please pass an array of input options");if(!a.length)throw new Error("prompt with select requires at least one option value");e.placeholder&&r.attr("placeholder",e.placeholder),e.required&&r.prop({required:!0}),w(a,(function(e,n){var o=r;if(n.value===i||n.text===i)throw new Error('each option needs a "value" and a "text" property');n.group&&(c[n.group]||(c[n.group]=t("<optgroup />").attr("label",n.group)),o=c[n.group]);var s=t(d.option);s.attr("value",n.value).text(n.text),o.append(s)})),w(c,(function(e,t){r.append(t)})),r.val(e.value);break;case"checkbox":var h=t.isArray(e.value)?e.value:[e.value];if(!(a=e.inputOptions||[]).length)throw new Error("prompt with checkbox requires options");r=t("<div/>"),w(a,(function(n,o){if(o.value===i||o.text===i)throw new Error('each option needs a "value" and a "text" property');var s=t(d.inputs[e.inputType]);s.find("input").attr("value",o.value),s.find("label").append("\n"+o.text),w(h,(function(e,t){t===o.value&&s.find("input").prop("checked",!0)})),r.append(s)}));break;case"radio":if(e.value!==i&&t.isArray(e.value))throw new Error('prompt with radio requires a single, non-array value for "value".');if(!(a=e.inputOptions||[]).length)throw new Error("prompt with radio requires options");r=t("<div/>");var p=!0;w(a,(function(n,o){if(o.value===i||o.text===i)throw new Error('each option needs a "value" and a "text" property');var s=t(d.inputs[e.inputType]);s.find("input").attr("value",o.value),s.find("label").append("\n"+o.text),e.value!==i&&o.value===e.value&&(s.find("input").prop("checked",!0),p=!1),r.append(s)})),p&&r.find('input[type="radio"]').first().prop("checked",!0)}if(o.append(r),o.on("submit",(function(e){e.preventDefault(),e.stopPropagation(),n.find(".bootbox-accept").trigger("click")})),""!==t.trim(e.message)){var m=t(d.promptMessage).html(e.message);o.prepend(m),e.message=o}else e.message=o;return(n=l.dialog(e)).off("shown.bs.modal"),n.on("shown.bs.modal",(function(){r.focus()})),!0===s&&n.modal("show"),n},l.addLocale("en",{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"}),l},void 0===(r="function"==typeof n?n.apply(t,o):n)||(e.exports=r)}()},2246:()=>{var e;$((function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(document).on("click",".prevent-default",(function(e){e.preventDefault()})),$('[data-hover="tooltip"]').tooltip(),$(document).ajaxComplete((function(){$('[data-hover="tooltip"]').tooltip()})),$(".hamburger").click((function(){$(this).toggleClass("is-active")})),Laravel.flashMessage.length&&notify(Laravel.flashIcon,Laravel.flashMessage,Laravel.flashType),$(".sort-page").on("click",(function(){sortPage($(this))})),$(".toggle-view-btn").on("click",(function(){var e=$(this).html(),t=$(this).data("value");$(this).html(t),$(this).data("value",e)})),$("#scoreboard-modal").on("show.bs.modal",(function(e){var t=$(this).find(".modal-body"),i=$(e.relatedTarget),n=i.data("channel"),o=i.data("event");t.html('<div class="loader mx-auto"></div>'),t.load(i.data("href"),(function(){var e=t.find(".clockdiv"),i=t.find("#date").html();null!==i&&(initializeClock(e,i),Echo.channel(n).listen("ScoreboardEvent",(function(n){$.each(n.data,(function(n,r){Number(n)===Number(o)&&(t.html(r),e=t.find(".clockdiv"),i=t.find("#date").html(),initializeClock(e,i))}))})))}))})).on("hidden.bs.modal",(function(){$(this).find(".modal-body").html(""),clearInterval(e)})),$(".event-export").on("click",(function(){var e=$(this).data("href"),t=$(this).data("success"),i=$(this).data("error");notify("info-circle","Request is being sent.","info"),$.get(e,(function(e){notify(!0===e?"check-circle":"times-circle",!0===e?t:i,!0===e?"success":"danger")}))})),clockDiv(),$("#process-modal").length&&($("#process-modal").on("shown.bs.modal",(function(e){fetchPoll(),pollInterval=setInterval(fetchPoll,6e4)})).on("hidden.bs.modal",(function(){clearInterval(pollInterval)})),Echo.channel(Laravel.ocrChannel).listen("PollOcrEvent",(function(e){var t=polling_data(e.data);$("#ocr-html").html(t)})),Echo.channel(Laravel.exportChannel).listen("PollExportEvent",(function(e){var t=polling_data(e.data);$("#export-html").html(t)}))),$("#wedigbio-progress-modal").on("show.bs.modal",(function(e){var t=$(this).find(".modal-body"),i=$(e.relatedTarget),n=i.data("channel"),o=i.data("uuid");t.html('<div class="loader mx-auto"></div>'),t.load(i.data("href"),(function(){null!==t.find("#inProgress").html()&&Echo.channel(n).listen("WeDigBioProgressEvent",(function(e){$.each(e.data,(function(e,i){o==o&&t.html(i)}))}))}))})).on("hidden.bs.modal",(function(){$(this).find(".modal-body").html(""),clearInterval(e)}))})),fetchPoll=function(){$.get("/poll")},polling_data=function(e){var t=$.parseJSON(Laravel.groupIds),i="";return $.each(e.payload,(function(n){if(-1===$.inArray(e.payload[n].groupId,t))return!0;i+=e.payload[n].notice})),i||e.message},sortPage=function(e){var t=e.data(),i=$("#"+t.target);i.html('<span class="loader"></span>'),$.post(t.url,t).done((function(n){i.html(n),setOrder(t.order,e),clockDiv()}))},setOrder=function(e,t){var i=t.find("i");switch(t.siblings("span").data("order","asc").find("i").removeClass().addClass("fas fa-sort"),e){case"asc":t.data("order","desc"),i.removeClass().addClass("fas fa-sort-up");break;case"desc":t.data("order",""),i.removeClass().addClass("fas fa-sort-down");break;default:t.data("order","asc"),i.removeClass().addClass("fas fa-sort")}},getTimeRemaining=function(e){var t=Date.parse(e)-Date.parse(new Date),i=Math.floor(t/1e3%60),n=Math.floor(t/1e3/60%60),o=Math.floor(t/36e5%24);return{total:t,days:Math.floor(t/864e5),hours:o,minutes:n,seconds:i}},clockDiv=function(){$(".clockdiv").each((function(){var e=$(this).data("value");initializeClock($(this),e)}))},initializeClock=function(t,i){var n=t.find(".days"),o=t.find(".hours"),r=t.find(".minutes"),s=t.find(".seconds");function a(){var t=getTimeRemaining(i);n.html(t.days),o.html(("0"+t.hours).slice(-2)),r.html(("0"+t.minutes).slice(-2)),s.html(("0"+t.seconds).slice(-2)),t.total<=0&&clearInterval(e)}a(),e=setInterval(a,1e3)},notify=function(e,t,i){$.notify({icon:"fas fa-"+e+" fa-2x",message:t},{type:i,allow_dismiss:!0,placement:{from:"top",align:"center"},offset:5,spacing:10,animate:{enter:"animate__animated animate__fadeInDown",exit:"animate__animated animate__fadeOutUp"},delay:6e3})}},7574:()=>{function e(e,t){bootbox.alert({title:e,message:t})}$.jgrid=$.jgrid||{},$.jgrid.no_legacy_api=!0,$.jgrid.useJSON=!0,$.jgrid.defaults.responsive=!0,$.jgrid.cellattr=$.jgrid.cellattr||{},$((function(){if($("#jqGridTable").length>0){var t=Laravel.dataUrl,i=Laravel.maxCount,n=Laravel.checkbox,o=Laravel.exportUrl,r=Laravel.route,s=Laravel.subjectIds,a=JSON.parse(Laravel.model),l=a.colModel,c=a.colNames,d=$("#jqGridTable");!function(e){for(var t={imagePreview:function(e){var t=encodeURIComponent(e);return'<a href="'+e+'" target="_new">View Image</a>&nbsp;&nbsp;<a href="#" class="thumb-view" data-url="'+Laravel.imagePreviewPath+t+'" data-toggle="modal" data-dismiss="modal" data-toggle="modal" data-size="modal-lg" data-target="#global-modal" data-hover="tooltip" data-title="Preview Thumbnail" title="Preview Thumbnail">View Thumb</a>&nbsp;&nbsp;<a href="#" class="url-view" data-url="'+Laravel.imagePreviewPath+e+'&url-view=true" data-toggle="modal" data-dismiss="modal" data-toggle="modal" data-size="modal-lg" data-target="#global-modal" data-hover="tooltip" data-title="View URL" title="Preview URL">View URL</a>'}},i=0;i<e.length;i++){var n=e[i];n.hasOwnProperty("formatter")&&t.hasOwnProperty(n.formatter)&&(n.formatter=t[n.formatter])}}(l);var u,h,p="ColumnChooserAndLocalStorage.colState",f=function(e){var t,i,n,o,r,s=this.jqGrid("getGridParam","colModel"),a=s.length,l=this.jqGrid("getGridParam","postData"),c={search:this.jqGrid("getGridParam","search"),page:this.jqGrid("getGridParam","page"),sortname:this.jqGrid("getGridParam","sortname"),sortorder:this.jqGrid("getGridParam","sortorder"),permutation:e,colStates:{}},d=c.colStates;for(void 0!==l.filters&&(c.filters=l.filters),t=0;t<a;t++)"rn"!==(n=(i=s[t]).name)&&"cb"!==n&&"subgrid"!==n&&(d[n]={width:i.width,hidden:i.hidden});o=p,r=c,void 0!==window.localStorage&&window.localStorage.setItem(o,JSON.stringify(r))},m=function(){var e;e=p,void 0!==window.localStorage&&window.localStorage.removeItem(e),window.location.reload()},g=function(){$("#subject-count-html").html(s.length),s.length>i&&$("#max").addClass("red")},v=function(e,t){var i=$.inArray(e,s);!t&&i>=0?s.splice($.inArray(e,s),1):i<0&&s.push(e)},b=!0;u=function(e){var t,i,n,o=e.length,r=function(e){if(void 0!==window.localStorage)return JSON.parse(window.localStorage.getItem(e))}(p);if(r)for(i=r.colStates,t=0;t<o;t++)"rn"!==(n=e[t].name)&&"cb"!==n&&"subgrid"!==n&&(e[t]=$.extend(!0,{},e[t],i[n]));return r}(l),h=null!=u,d.jqGrid({jsonReader:{repeatitems:!1,root:"rows",page:"page",total:"total",records:"records",cell:"",id:"id"},url:t,mtype:"GET",datatype:"json",colNames:c,colModel:l,cmTemplate:{autoResizable:!0,editable:!0},guiStyle:"bootstrap4",iconSet:"fontAwesome",rowNum:25,page:h?u.page:1,search:!!h&&u.search,postData:h?{filters:u.filters}:{},sortname:h?u.sortname:"id",sortorder:h?u.sortorder:"desc",autoResizing:{compact:!0},autoWidthColumns:!0,autowidth:!0,rowList:[25,50,100,500,1e3],viewrecords:!0,autoencode:!0,sortable:!0,toppager:!0,pager:!0,multiselect:n,selarrrow:s,searching:{searchOnEnter:!0,searchOperators:!0},onSelectRow:function(e,t){v(e,t),g()},onSelectAll:function(e,t){var i,n,o;for(i=0,n=e.length;i<n;i++)o=e[i],v(o,t);g()},loadComplete:function(){b&&(b=!1,h&&$(this).jqGrid("remapColumns",u.permutation,!0)),f.call($(this),this.p.remapColumns),function(){if(n){d.jqGrid("resetSelection");var e=d.jqGrid("getDataIDs");$.each(e,(function(e,t){$.inArray(t,s)>-1&&d.jqGrid("setSelection",t,!1)}))}}(),g()}}).jqGrid("navGrid",{add:!1,edit:!1,del:!1,search:!0},{},{},{},{afterShowSearch:function(e){e.closest(".ui-jqdialog").position({of:window,my:"center center",at:"center center"})},width:700,multipleSearch:!0,recreateFilter:!0}).jqGrid("navButtonAdd",{caption:"",buttonicon:"fas fa-columns",title:"Choose columns",onClickButton:function(){d.jqGrid("columnChooser",{classname:"columnChooser",modal:!0,width:600,done:function(e){e&&this.jqGrid("remapColumns",e,!0)}}),$(".ui-multiselect ul.selected").height("500px"),$(".ui-multiselect ul.available").height("500px")}}).jqGrid("navButtonAdd",{caption:"",buttonicon:"fas fa-eraser",title:"Clear saved grid's settings",onClickButton:m}).jqGrid("navButtonAdd",{caption:"",buttonicon:"fas fa-file-export",title:"Export to CSV",onClickButton:function(){var t=d.jqGrid("getGridParam","postData").filters;$.ajax({type:"post",url:o,data:{filters:t,route:r}}).done((function(){e("Export Submitted","You will receive an email when the export is complete.")})).fail((function(){e("Export Error","Export submission failed. Please contact Admin.")}))}}).jqGrid("filterToolbar").jqGrid("gridResize"),$("#gridForm").submit((function(){if(s.length>i)return $("#max").addClass("red"),!1;m(),$("#subject-ids").val(s)}))}}))},8438:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(5285)],n=function(e){e.widget("ui.multiselect",{options:{sortable:!0,searchable:!0,doubleClickable:!0,animated:"fast",show:"slideDown",hide:"slideUp",dividerLocation:.6,availableFirst:!1,nodeComparator:function(e,t){var i=e.text(),n=t.text();return i==n?0:i<n?-1:1}},_create:function(){this.element.hide(),this.id=this.element.attr("id"),this.container=e('<div class="ui-multiselect ui-helper-clearfix ui-widget"></div>').insertAfter(this.element),this.count=0,this.selectedContainer=e('<div class="selected"></div>').appendTo(this.container),this.availableContainer=e('<div class="available"></div>')[this.options.availableFirst?"prependTo":"appendTo"](this.container),this.selectedActions=e('<div class="actions ui-widget-header ui-helper-clearfix"><span class="count">0 '+e.ui.multiselect.locale.itemsCount+'</span><a href="#" class="remove-all">'+e.ui.multiselect.locale.removeAll+"</a></div>").appendTo(this.selectedContainer),this.availableActions=e('<div class="actions ui-widget-header ui-helper-clearfix"><input type="text" class="search empty ui-widget-content ui-corner-all"/><a href="#" class="add-all">'+e.ui.multiselect.locale.addAll+"</a></div>").appendTo(this.availableContainer),this.selectedList=e('<ul class="selected connected-list"><li class="ui-helper-hidden-accessible"></li></ul>').bind("selectstart",(function(){return!1})).appendTo(this.selectedContainer),this.availableList=e('<ul class="available connected-list"><li class="ui-helper-hidden-accessible"></li></ul>').bind("selectstart",(function(){return!1})).appendTo(this.availableContainer);var t=this;this.container.width(this.element.width()+1),this.selectedContainer.width(Math.floor(this.element.width()*this.options.dividerLocation)),this.availableContainer.width(Math.floor(this.element.width()*(1-this.options.dividerLocation))),this.selectedList.height(Math.max(this.element.height()-this.selectedActions.height(),1)),this.availableList.height(Math.max(this.element.height()-this.availableActions.height(),1)),this.options.animated||(this.options.show="show",this.options.hide="hide"),this._populateLists(this.element.find("option")),this.options.sortable&&this.selectedList.sortable({placeholder:"ui-state-highlight",axis:"y",update:function(i,n){t.selectedList.find("li").each((function(){e(this).data("optionLink")&&e(this).data("optionLink").remove().appendTo(t.element)}))},receive:function(i,n){n.item.data("optionLink").prop("selected",!0),t.count+=1,t._updateCount(),t.selectedList.children(".ui-draggable").each((function(){e(this).removeClass("ui-draggable"),e(this).data("optionLink",n.item.data("optionLink")),e(this).data("idx",n.item.data("idx")),t._applyItemState(e(this),!0)})),setTimeout((function(){n.item.remove()}),1)}}),this.options.searchable?this._registerSearchEvents(this.availableContainer.find("input.search")):e(".search").hide(),this.container.find(".remove-all").click((function(){return t._populateLists(t.element.find("option").prop("selected",!1)),!1})),this.container.find(".add-all").click((function(){var i=t.element.find("option").not(":selected");return t.availableList.children("li:hidden").length>1?t.availableList.children("li").each((function(t){e(this).is(":visible")&&e(i[t-1]).prop("selected",!0)})):i.prop("selected",!0),t._populateLists(t.element.find("option")),!1}))},destroy:function(){this.element.show(),this.container.remove(),e.Widget.prototype.destroy.apply(this,arguments)},_populateLists:function(t){this.selectedList.children(".ui-element").remove(),this.availableList.children(".ui-element").remove(),this.count=0;var i=this;e(t.map((function(t){var n=e(this).is(":selected"),o=i._getOptionNode(this).appendTo(n?i.selectedList:i.availableList).show();return n&&(i.count+=1),i._applyItemState(o,n),o.data("idx",t),o[0]})));this._updateCount(),i._filter.apply(this.availableContainer.find("input.search"),[i.availableList])},_updateCount:function(){this.element.trigger("change"),this.selectedContainer.find("span.count").text(this.count+" "+e.ui.multiselect.locale.itemsCount)},_getOptionNode:function(t){t=e(t);var i=e('<li class="ui-state-default ui-element" title="'+t.text()+'" data-selected-value="'+t.val()+'"><span class="ui-icon"></span>'+t.text()+'<a href="#" class="action"><span class="ui-corner-all ui-icon"></span></a></li>').hide();return i.data("optionLink",t),i},_cloneWithData:function(e){var t=e.clone(!1,!1);return t.data("optionLink",e.data("optionLink")),t.data("idx",e.data("idx")),t},_setSelected:function(t,i){if(t.data("optionLink").prop("selected",i),i){var n=this._cloneWithData(t);return t[this.options.hide](this.options.animated,(function(){e(this).remove()})),n.appendTo(this.selectedList).hide()[this.options.show](this.options.animated),this._applyItemState(n,!0),n}var o=this.availableList.find("li"),r=this.options.nodeComparator,s=null,a=t.data("idx"),l=r(t,e(o[a]));if(l){for(;a>=0&&a<o.length;)if(l>0?a++:a--,l!=r(t,e(o[a]))){s=o[l>0?a:a+1];break}}else s=o[a];var c=this._cloneWithData(t);return s?c.insertBefore(e(s)):c.appendTo(this.availableList),t[this.options.hide](this.options.animated,(function(){e(this).remove()})),c.hide()[this.options.show](this.options.animated),this._applyItemState(c,!1),c},_applyItemState:function(e,t){t?(this.options.sortable?e.children("span").addClass("ui-icon-arrowthick-2-n-s").removeClass("ui-helper-hidden").addClass("ui-icon"):e.children("span").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon"),e.find("a.action span").addClass("ui-icon-minus").removeClass("ui-icon-plus"),this._registerRemoveEvents(e.find("a.action"))):(e.children("span").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon"),e.find("a.action span").addClass("ui-icon-plus").removeClass("ui-icon-minus"),this._registerAddEvents(e.find("a.action"))),this._registerDoubleClickEvents(e),this._registerHoverEvents(e)},_filter:function(t){var i=e(this),n=t.children("li"),o=n.map((function(){return e(this).text().toLowerCase()})),r=e.trim(i.val().toLowerCase()),s=[];r?(n.hide(),o.each((function(e){this.indexOf(r)>-1&&s.push(e)})),e.each(s,(function(){e(n[this]).show()}))):n.show()},_registerDoubleClickEvents:function(t){this.options.doubleClickable&&t.dblclick((function(i){0===e(i.target).closest(".action").length&&t.find("a.action").click()}))},_registerHoverEvents:function(t){t.removeClass("ui-state-hover"),t.mouseover((function(){e(this).addClass("ui-state-hover")})),t.mouseout((function(){e(this).removeClass("ui-state-hover")}))},_registerAddEvents:function(t){var i=this;t.click((function(){i._setSelected(e(this).parent(),!0);return i.count+=1,i._updateCount(),!1})),this.options.sortable&&t.each((function(){e(this).parent().draggable({connectToSortable:i.selectedList,helper:function(){var t=i._cloneWithData(e(this)).width(e(this).width()-50);return t.width(e(this).width()),t},appendTo:i.container,containment:i.container,revert:"invalid"})}))},_registerRemoveEvents:function(t){var i=this;t.click((function(){return i._setSelected(e(this).parent(),!1),i.count-=1,i._updateCount(),!1}))},_registerSearchEvents:function(t){var i=this;t.focus((function(){e(this).addClass("ui-state-active")})).blur((function(){e(this).removeClass("ui-state-active")})).keypress((function(e){if(13==e.keyCode)return!1})).keyup((function(){i._filter.apply(this,[i.availableList])}))}}),e.extend(e.ui.multiselect,{locale:{addAll:"Add all",removeAll:"Remove all",itemsCount:"items selected"}})},void 0===(r="function"==typeof n?n.apply(t,o):n)||(e.exports=r)}()},7526:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),i=t[0],n=t[1];return 3*(i+n)/4-n},t.toByteArray=function(e){var t,i,r=a(e),s=r[0],l=r[1],c=new o(function(e,t,i){return 3*(t+i)/4-i}(0,s,l)),d=0,u=l>0?s-4:s;for(i=0;i<u;i+=4)t=n[e.charCodeAt(i)]<<18|n[e.charCodeAt(i+1)]<<12|n[e.charCodeAt(i+2)]<<6|n[e.charCodeAt(i+3)],c[d++]=t>>16&255,c[d++]=t>>8&255,c[d++]=255&t;2===l&&(t=n[e.charCodeAt(i)]<<2|n[e.charCodeAt(i+1)]>>4,c[d++]=255&t);1===l&&(t=n[e.charCodeAt(i)]<<10|n[e.charCodeAt(i+1)]<<4|n[e.charCodeAt(i+2)]>>2,c[d++]=t>>8&255,c[d++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,r=[],s=16383,a=0,c=n-o;a<c;a+=s)r.push(l(e,a,a+s>c?c:a+s));1===o?(t=e[n-1],r.push(i[t>>2]+i[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],r.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return r.join("")};for(var i=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)i[s]=r[s],n[r.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function l(e,t,n){for(var o,r,s=[],a=t;a<n;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(i[(r=o)>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},1889:(e,t,i)=>{var n,o,r;o=[i(4692)],void 0===(r="function"==typeof(n=function(e){var t={element:"body",position:null,type:"info",allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'};function i(i,n,o){n={content:{message:"object"==typeof n?n.message:n,title:n.title?n.title:"",icon:n.icon?n.icon:"",url:n.url?n.url:"#",target:n.target?n.target:"-"}},o=e.extend(!0,{},n,o),this.settings=e.extend(!0,{},t,o),this._defaults=t,"-"==this.settings.content.target&&(this.settings.content.target=this.settings.url_target),this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"},"number"==typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset}),this.init()}String.format=function(){for(var e=arguments[0],t=1;t<arguments.length;t++)e=e.replace(RegExp("\\{"+(t-1)+"\\}","gm"),arguments[t]);return e},e.extend(i.prototype,{init:function(){var e=this;this.buildNotify(),this.settings.content.icon&&this.setIcon(),"#"!=this.settings.content.url&&this.styleURL(),this.styleDismiss(),this.placement(),this.bind(),this.notify={$ele:this.$ele,update:function(t,i){var n={};for(var t in"string"==typeof t?n[t]=i:n=t,n)switch(t){case"type":this.$ele.removeClass("alert-"+e.settings.type),this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+e.settings.type),e.settings.type=n[t],this.$ele.addClass("alert-"+n[t]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+n[t]);break;case"icon":var o=this.$ele.find('[data-notify="icon"]');"class"==e.settings.icon_type.toLowerCase()?o.removeClass(e.settings.content.icon).addClass(n[t]):(o.is("img")||o.find("img"),o.attr("src",n[t]));break;case"progress":var r=e.settings.delay-e.settings.delay*(n[t]/100);this.$ele.data("notify-delay",r),this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",n[t]).css("width",n[t]+"%");break;case"url":this.$ele.find('[data-notify="url"]').attr("href",n[t]);break;case"target":this.$ele.find('[data-notify="url"]').attr("target",n[t]);break;default:this.$ele.find('[data-notify="'+t+'"]').html(n[t])}var s=this.$ele.outerHeight()+parseInt(e.settings.spacing)+parseInt(e.settings.offset.y);e.reposition(s)},close:function(){e.close()}}},buildNotify:function(){var t=this.settings.content;this.$ele=e(String.format(this.settings.template,this.settings.type,t.title,t.message,t.url,t.target)),this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align),this.settings.allow_dismiss||this.$ele.find('[data-notify="dismiss"]').css("display","none"),(this.settings.delay<=0&&!this.settings.showProgressbar||!this.settings.showProgressbar)&&this.$ele.find('[data-notify="progressbar"]').remove()},setIcon:function(){"class"==this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[data-notify="icon"]').is("img")?this.$ele.find('[data-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleDismiss:function(){this.$ele.find('[data-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+2})},styleURL:function(){this.$ele.find('[data-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:"0px",position:"absolute",top:"0px",width:"100%",zIndex:this.settings.z_index+1})},placement:function(){var t=this,i=this.settings.offset.y,n={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",zIndex:this.settings.z_index},o=!1,r=this.settings;switch(e('[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each((function(){return i=Math.max(i,parseInt(e(this).css(r.placement.from))+parseInt(e(this).outerHeight())+parseInt(r.spacing))})),1==this.settings.newest_on_top&&(i=this.settings.offset.y),n[this.settings.placement.from]=i+"px",this.settings.placement.align){case"left":case"right":n[this.settings.placement.align]=this.settings.offset.x+"px";break;case"center":n.left=0,n.right=0}this.$ele.css(n).addClass(this.settings.animate.enter),e.each(Array("webkit-","moz-","o-","ms-",""),(function(e,i){t.$ele[0].style[i+"AnimationIterationCount"]=1})),e(this.settings.element).append(this.$ele),1==this.settings.newest_on_top&&(i=parseInt(i)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(i)),e.isFunction(t.settings.onShow)&&t.settings.onShow.call(this.$ele),this.$ele.one(this.animations.start,(function(e){o=!0})).one(this.animations.end,(function(i){e.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)})),setTimeout((function(){o||e.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)}),600)},bind:function(){var t=this;if(this.$ele.find('[data-notify="dismiss"]').on("click",(function(){t.close()})),this.$ele.mouseover((function(t){e(this).data("data-hover","true")})).mouseout((function(t){e(this).data("data-hover","false")})),this.$ele.data("data-hover","false"),this.settings.delay>0){t.$ele.data("notify-delay",t.settings.delay);var i=setInterval((function(){var e=parseInt(t.$ele.data("notify-delay"))-t.settings.timer;if("false"===t.$ele.data("data-hover")&&"pause"==t.settings.mouse_over||"pause"!=t.settings.mouse_over){var n=(t.settings.delay-e)/t.settings.delay*100;t.$ele.data("notify-delay",e),t.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",n).css("width",n+"%")}e<=-t.settings.timer&&(clearInterval(i),t.close())}),t.settings.timer)}},close:function(){var t=this,i=parseInt(this.$ele.css(this.settings.placement.from)),n=!1;this.$ele.data("closing","true").addClass(this.settings.animate.exit),t.reposition(i),e.isFunction(t.settings.onClose)&&t.settings.onClose.call(this.$ele),this.$ele.one(this.animations.start,(function(e){n=!0})).one(this.animations.end,(function(i){e(this).remove(),e.isFunction(t.settings.onClosed)&&t.settings.onClosed.call(this)})),setTimeout((function(){n||(t.$ele.remove(),t.settings.onClosed&&t.settings.onClosed(t.$ele))}),600)},reposition:function(t){var i=this,n='[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',o=this.$ele.nextAll(n);1==this.settings.newest_on_top&&(o=this.$ele.prevAll(n)),o.each((function(){e(this).css(i.settings.placement.from,t),t=parseInt(t)+parseInt(i.settings.spacing)+e(this).outerHeight()}))}}),e.notify=function(e,t){return new i(this,e,t).notify},e.notifyDefaults=function(i){return t=e.extend(!0,{},t,i)},e.notifyClose=function(t){void 0===t||"all"==t?e("[data-notify]").find('[data-notify="dismiss"]').trigger("click"):e('[data-notify-position="'+t+'"]').find('[data-notify="dismiss"]').trigger("click")}})?n.apply(t,o):n)||(e.exports=r)},5378:function(e,t,i){var n,o;void 0===this&&void 0!==window&&window,n=[i(4692)],o=function(e){return function(e){!function(e){"use strict";var t=["sanitize","whiteList","sanitizeFn"],i=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],n={"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},o=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,r=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function s(t,n){var s=t.nodeName.toLowerCase();if(-1!==e.inArray(s,n))return-1===e.inArray(s,i)||Boolean(t.nodeValue.match(o)||t.nodeValue.match(r));for(var a=e(n).filter((function(e,t){return t instanceof RegExp})),l=0,c=a.length;l<c;l++)if(s.match(a[l]))return!0;return!1}function a(e,t,i){if(i&&"function"==typeof i)return i(e);for(var n=Object.keys(t),o=0,r=e.length;o<r;o++)for(var a=e[o].querySelectorAll("*"),l=0,c=a.length;l<c;l++){var d=a[l],u=d.nodeName.toLowerCase();if(-1!==n.indexOf(u))for(var h=[].slice.call(d.attributes),p=[].concat(t["*"]||[],t[u]||[]),f=0,m=h.length;f<m;f++){var g=h[f];s(g,p)||d.removeAttribute(g.nodeName)}else d.parentNode.removeChild(d)}}"classList"in document.createElement("_")||function(t){if("Element"in t){var i="classList",n="prototype",o=t.Element[n],r=Object,s=function(){var t=e(this);return{add:function(e){return e=Array.prototype.slice.call(arguments).join(" "),t.addClass(e)},remove:function(e){return e=Array.prototype.slice.call(arguments).join(" "),t.removeClass(e)},toggle:function(e,i){return t.toggleClass(e,i)},contains:function(e){return t.hasClass(e)}}};if(r.defineProperty){var a={get:s,enumerable:!0,configurable:!0};try{r.defineProperty(o,i,a)}catch(t){void 0!==t.number&&-2146823252!==t.number||(a.enumerable=!1,r.defineProperty(o,i,a))}}else r[n].__defineGetter__&&o.__defineGetter__(i,s)}}(window);var l,c,d=document.createElement("_");if(d.classList.add("c1","c2"),!d.classList.contains("c2")){var u=DOMTokenList.prototype.add,h=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,u.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,h.bind(this))}}if(d.classList.toggle("c3",!1),d.classList.contains("c3")){var p=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:p.call(this,e)}}function f(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==c.call(e))throw new TypeError;var i=t.length,n=String(e),o=n.length,r=1<arguments.length?arguments[1]:void 0,s=r?Number(r):0;s!=s&&(s=0);var a=Math.min(Math.max(s,0),i);if(i<o+a)return!1;for(var l=-1;++l<o;)if(t.charCodeAt(a+l)!=n.charCodeAt(l))return!1;return!0}function m(e,t){var i,n=e.selectedOptions,o=[];if(t){for(var r=0,s=n.length;r<s;r++)(i=n[r]).disabled||"OPTGROUP"===i.parentNode.tagName&&i.parentNode.disabled||o.push(i);return o}return n}function g(e,t){for(var i,n=[],o=t||e.selectedOptions,r=0,s=o.length;r<s;r++)(i=o[r]).disabled||"OPTGROUP"===i.parentNode.tagName&&i.parentNode.disabled||n.push(i.value);return e.multiple?n:n.length?n[0]:null}d=null,String.prototype.startsWith||(l=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),c={}.toString,l?l(String.prototype,"startsWith",{value:f,configurable:!0,writable:!0}):String.prototype.startsWith=f),Object.keys||(Object.keys=function(e,t,i){for(t in i=[],e)i.hasOwnProperty.call(e,t)&&i.push(t);return i}),HTMLSelectElement&&!HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")&&Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var v={useDefault:!1,_set:e.valHooks.select.set};e.valHooks.select.set=function(t,i){return i&&!v.useDefault&&e(t).data("selected",!0),v._set.apply(this,arguments)};var b=null,y=function(){try{return new Event("change"),!0}catch(e){return!1}}();function w(e,t,i,n){for(var o=["display","subtext","tokens"],r=!1,s=0;s<o.length;s++){var a=o[s],l=e[a];if(l&&(l=l.toString(),"display"===a&&(l=l.replace(/<[^>]+>/g,"")),n&&(l=_(l)),l=l.toUpperCase(),r="contains"===i?0<=l.indexOf(t):l.startsWith(t)))break}return r}function x(e){return parseInt(e,10)||0}e.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent?(y?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t)):i.fireEvent?((t=document.createEventObject()).eventType=e,i.fireEvent("on"+e,t)):this.trigger(e)};var C={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},k=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,S=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function $(e){return C[e]}function _(e){return(e=e.toString())&&e.replace(k,$).replace(S,"")}var D,T,j,O,I=(D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T="(?:"+Object.keys(D).join("|")+")",j=RegExp(T),O=RegExp(T,"g"),function(e){return e=null==e?"":""+e,j.test(e)?e.replace(O,E):e});function E(e){return D[e]}var R={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},P=27,A=13,N=32,F=9,M=38,L=40,z={success:!1,major:"3"};try{z.full=(e.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),z.major=z.full[0],z.success=!0}catch(n){}var q=0,B=".bs.select",H={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},G={MENU:"."+H.MENU},W={div:document.createElement("div"),span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment()};W.noResults=W.li.cloneNode(!1),W.noResults.className="no-results",W.a.setAttribute("role","option"),W.a.className="dropdown-item",W.subtext.className="text-muted",W.text=W.span.cloneNode(!1),W.text.className="text",W.checkMark=W.span.cloneNode(!1);var U=new RegExp(M+"|"+L),V=new RegExp("^"+F+"$|"+P),Y={li:function(e,t,i){var n=W.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?n.appendChild(e):n.innerHTML=e),void 0!==t&&""!==t&&(n.className=t),null!=i&&n.classList.add("optgroup-"+i),n},a:function(e,t,i){var n=W.a.cloneNode(!0);return e&&(11===e.nodeType?n.appendChild(e):n.insertAdjacentHTML("beforeend",e)),void 0!==t&&""!==t&&n.classList.add.apply(n.classList,t.split(/\s+/)),i&&n.setAttribute("style",i),n},text:function(e,t){var i,n,o=W.text.cloneNode(!1);if(e.content)o.innerHTML=e.content;else{if(o.textContent=e.text,e.icon){var r=W.whitespace.cloneNode(!1);(n=(!0===t?W.i:W.span).cloneNode(!1)).className=this.options.iconBase+" "+e.icon,W.fragment.appendChild(n),W.fragment.appendChild(r)}e.subtext&&((i=W.subtext.cloneNode(!1)).textContent=e.subtext,o.appendChild(i))}if(!0===t)for(;0<o.childNodes.length;)W.fragment.appendChild(o.childNodes[0]);else W.fragment.appendChild(o);return W.fragment},label:function(e){var t,i,n=W.text.cloneNode(!1);if(n.innerHTML=e.display,e.icon){var o=W.whitespace.cloneNode(!1);(i=W.span.cloneNode(!1)).className=this.options.iconBase+" "+e.icon,W.fragment.appendChild(i),W.fragment.appendChild(o)}return e.subtext&&((t=W.subtext.cloneNode(!1)).textContent=e.subtext,n.appendChild(t)),W.fragment.appendChild(n),W.fragment}},X=function(t,i){var n=this;v.useDefault||(e.valHooks.select.set=v._set,v.useDefault=!0),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.options=i,this.selectpicker={main:{},search:{},current:{},view:{},isSearching:!1,keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout((function(){n.selectpicker.keydown.keyHistory=""}),800)}}}},this.sizeInfo={},null===this.options.title&&(this.options.title=this.$element.attr("title"));var o=this.options.windowPadding;"number"==typeof o&&(this.options.windowPadding=[o,o,o,o]),this.val=X.prototype.val,this.render=X.prototype.render,this.refresh=X.prototype.refresh,this.setStyle=X.prototype.setStyle,this.selectAll=X.prototype.selectAll,this.deselectAll=X.prototype.deselectAll,this.destroy=X.prototype.destroy,this.remove=X.prototype.remove,this.show=X.prototype.show,this.hide=X.prototype.hide,this.init()};function J(i){var n,o=arguments,r=i;if([].shift.apply(o),!z.success){try{z.full=(e.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(i){X.BootstrapVersion?z.full=X.BootstrapVersion.split(" ")[0].split("."):(z.full=[z.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",i))}z.major=z.full[0],z.success=!0}if("4"===z.major){var s=[];X.DEFAULTS.style===H.BUTTONCLASS&&s.push({name:"style",className:"BUTTONCLASS"}),X.DEFAULTS.iconBase===H.ICONBASE&&s.push({name:"iconBase",className:"ICONBASE"}),X.DEFAULTS.tickIcon===H.TICKICON&&s.push({name:"tickIcon",className:"TICKICON"}),H.DIVIDER="dropdown-divider",H.SHOW="show",H.BUTTONCLASS="btn-light",H.POPOVERHEADER="popover-header",H.ICONBASE="",H.TICKICON="bs-ok-default";for(var a=0;a<s.length;a++)i=s[a],X.DEFAULTS[i.name]=H[i.className]}var l=this.each((function(){var i=e(this);if(i.is("select")){var s=i.data("selectpicker"),a="object"==typeof r&&r;if(s){if(a)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s.options[l]=a[l])}else{var c=i.data();for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&-1!==e.inArray(d,t)&&delete c[d];var u=e.extend({},X.DEFAULTS,e.fn.selectpicker.defaults||{},c,a);u.template=e.extend({},X.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},c.template,a.template),i.data("selectpicker",s=new X(this,u))}"string"==typeof r&&(n=s[r]instanceof Function?s[r].apply(s,o):s.options[r])}}));return void 0!==n?n:l}X.VERSION="1.13.18",X.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:H.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:H.ICONBASE,tickIcon:H.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:n},X.prototype={constructor:X,init:function(){var e=this,t=this.$element.attr("id"),i=this.$element[0],n=i.form;q++,this.selectId="bs-select-"+q,i.classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),i.classList.contains("show-tick")&&(this.options.showTick=!0),this.$newElement=this.createDropdown(),this.buildData(),this.$element.after(this.$newElement).prependTo(this.$newElement),n&&null===i.form&&(n.id||(n.id="form-"+this.selectId),i.setAttribute("form",n.id)),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(G.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),i.classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(H.MENURIGHT),void 0!==t&&this.$button.attr("data-id",t),this.checkDisabled(),this.clickListener(),this.options.liveSearch?(this.liveSearchListener(),this.focusedParent=this.$searchbox[0]):this.focusedParent=this.$menuInner[0],this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+B,(function(){if(e.isVirtual()){var t=e.$menuInner[0],i=t.firstChild.cloneNode(!1);t.replaceChild(i,t.firstChild),t.scrollTop=0}})),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$element.trigger("hide"+B,t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden"+B,t)},"show.bs.dropdown":function(t){e.$element.trigger("show"+B,t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown"+B,t)}}),i.hasAttribute("required")&&this.$element.on("invalid"+B,(function(){e.$button[0].classList.add("bs-invalid"),e.$element.on("shown"+B+".invalid",(function(){e.$element.val(e.$element.val()).off("shown"+B+".invalid")})).on("rendered"+B,(function(){this.validity.valid&&e.$button[0].classList.remove("bs-invalid"),e.$element.off("rendered"+B)})),e.$button.on("blur"+B,(function(){e.$element.trigger("focus").trigger("blur"),e.$button.off("blur"+B)}))})),setTimeout((function(){e.buildList(),e.$element.trigger("loaded"+B)}))},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",i=this.multiple?' aria-multiselectable="true"':"",n="",o=this.autofocus?" autofocus":"";z.major<4&&this.$element.parent().hasClass("input-group")&&(n=" input-group-btn");var r,s="",a="",l="",c="";return this.options.header&&(s='<div class="'+H.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(a='<div class="bs-searchbox"><input type="search" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+I(this.options.liveSearchPlaceholder)+'"')+' role="combobox" aria-label="Search" aria-controls="'+this.selectId+'" aria-autocomplete="list"></div>'),this.multiple&&this.options.actionsBox&&(l='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+H.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+H.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(c='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+H.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),r='<div class="dropdown bootstrap-select'+t+n+'"><button type="button" tabindex="-1" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+o+' role="combobox" aria-owns="'+this.selectId+'" aria-haspopup="listbox" aria-expanded="false"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===z.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+H.MENU+" "+("4"===z.major?"":H.SHOW)+'">'+s+a+l+'<div class="inner '+H.SHOW+'" role="listbox" id="'+this.selectId+'" tabindex="-1" '+i+'><ul class="'+H.MENU+" inner "+("4"===z.major?H.SHOW:"")+'" role="presentation"></ul></div>'+c+"</div></div>",e(r)},setPositionData:function(){this.selectpicker.view.canHighlight=[],this.selectpicker.view.size=0,this.selectpicker.view.firstHighlightIndex=!1;for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),i&&(this.selectpicker.view.size++,t.posinset=this.selectpicker.view.size,!1===this.selectpicker.view.firstHighlightIndex&&(this.selectpicker.view.firstHighlightIndex=e)),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(t,i,n){var o,r,s=this,l=0,c=[];if(this.selectpicker.isSearching=t,this.selectpicker.current=t?this.selectpicker.search:this.selectpicker.main,this.setPositionData(),i)if(n)l=this.$menuInner[0].scrollTop;else if(!s.multiple){var d=s.$element[0],u=(d.options[d.selectedIndex]||{}).liIndex;if("number"==typeof u&&!1!==s.options.size){var h=s.selectpicker.main.data[u],p=h&&h.position;p&&(l=p-(s.sizeInfo.menuInnerHeight+s.sizeInfo.liHeight)/2)}}function f(e,i){var n,l,d,u,h,p,f,m,g=s.selectpicker.current.elements.length,v=[],b=!0,y=s.isVirtual();s.selectpicker.view.scrollTop=e,n=Math.ceil(s.sizeInfo.menuInnerHeight/s.sizeInfo.liHeight*1.5),l=Math.round(g/n)||1;for(var w=0;w<l;w++){var x=(w+1)*n;if(w===l-1&&(x=g),v[w]=[w*n+(w?1:0),x],!g)break;void 0===h&&e-1<=s.selectpicker.current.data[x-1].position-s.sizeInfo.menuInnerHeight&&(h=w)}if(void 0===h&&(h=0),p=[s.selectpicker.view.position0,s.selectpicker.view.position1],d=Math.max(0,h-1),u=Math.min(l-1,h+1),s.selectpicker.view.position0=!1===y?0:Math.max(0,v[d][0])||0,s.selectpicker.view.position1=!1===y?g:Math.min(g,v[u][1])||0,f=p[0]!==s.selectpicker.view.position0||p[1]!==s.selectpicker.view.position1,void 0!==s.activeIndex&&(r=s.selectpicker.main.elements[s.prevActiveIndex],c=s.selectpicker.main.elements[s.activeIndex],o=s.selectpicker.main.elements[s.selectedIndex],i&&(s.activeIndex!==s.selectedIndex&&s.defocusItem(c),s.activeIndex=void 0),s.activeIndex&&s.activeIndex!==s.selectedIndex&&s.defocusItem(o)),void 0!==s.prevActiveIndex&&s.prevActiveIndex!==s.activeIndex&&s.prevActiveIndex!==s.selectedIndex&&s.defocusItem(r),(i||f)&&(m=s.selectpicker.view.visibleElements?s.selectpicker.view.visibleElements.slice():[],s.selectpicker.view.visibleElements=!1===y?s.selectpicker.current.elements:s.selectpicker.current.elements.slice(s.selectpicker.view.position0,s.selectpicker.view.position1),s.setOptionStatus(),(t||!1===y&&i)&&(b=!function(e,t){return e.length===t.length&&e.every((function(e,i){return e===t[i]}))}(m,s.selectpicker.view.visibleElements)),(i||!0===y)&&b)){var C,k,S=s.$menuInner[0],$=document.createDocumentFragment(),_=S.firstChild.cloneNode(!1),D=s.selectpicker.view.visibleElements,T=[];S.replaceChild(_,S.firstChild),w=0;for(var j=D.length;w<j;w++){var O,I,E=D[w];s.options.sanitize&&(O=E.lastChild)&&(I=s.selectpicker.current.data[w+s.selectpicker.view.position0])&&I.content&&!I.sanitized&&(T.push(O),I.sanitized=!0),$.appendChild(E)}if(s.options.sanitize&&T.length&&a(T,s.options.whiteList,s.options.sanitizeFn),!0===y?(C=0===s.selectpicker.view.position0?0:s.selectpicker.current.data[s.selectpicker.view.position0-1].position,k=s.selectpicker.view.position1>g-1?0:s.selectpicker.current.data[g-1].position-s.selectpicker.current.data[s.selectpicker.view.position1-1].position,S.firstChild.style.marginTop=C+"px",S.firstChild.style.marginBottom=k+"px"):(S.firstChild.style.marginTop=0,S.firstChild.style.marginBottom=0),S.firstChild.appendChild($),!0===y&&s.sizeInfo.hasScrollBar){var R=S.firstChild.offsetWidth;if(i&&R<s.sizeInfo.menuInnerInnerWidth&&s.sizeInfo.totalMenuWidth>s.sizeInfo.selectWidth)S.firstChild.style.minWidth=s.sizeInfo.menuInnerInnerWidth+"px";else if(R>s.sizeInfo.menuInnerInnerWidth){s.$menu[0].style.minWidth=0;var P=S.firstChild.offsetWidth;P>s.sizeInfo.menuInnerInnerWidth&&(s.sizeInfo.menuInnerInnerWidth=P,S.firstChild.style.minWidth=s.sizeInfo.menuInnerInnerWidth+"px"),s.$menu[0].style.minWidth=""}}}if(s.prevActiveIndex=s.activeIndex,s.options.liveSearch){if(t&&i){var A,N=0;s.selectpicker.view.canHighlight[N]||(N=1+s.selectpicker.view.canHighlight.slice(1).indexOf(!0)),A=s.selectpicker.view.visibleElements[N],s.defocusItem(s.selectpicker.view.currentActive),s.activeIndex=(s.selectpicker.current.data[N]||{}).index,s.focusItem(A)}}else s.$menuInner.trigger("focus")}f(l,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",(function(e,t){s.noScroll||f(this.scrollTop,t),s.noScroll=!1})),e(window).off("resize"+B+"."+this.selectId+".createView").on("resize"+B+"."+this.selectId+".createView",(function(){s.$newElement.hasClass(H.SHOW)&&f(s.$menuInner[0].scrollTop)}))},focusItem:function(e,t,i){if(e){t=t||this.selectpicker.main.data[this.activeIndex];var n=e.firstChild;n&&(n.setAttribute("aria-setsize",this.selectpicker.view.size),n.setAttribute("aria-posinset",t.posinset),!0!==i&&(this.focusedParent.setAttribute("aria-activedescendant",n.id),e.classList.add("active"),n.classList.add("active")))}},defocusItem:function(e){e&&(e.classList.remove("active"),e.firstChild&&e.firstChild.classList.remove("active"))},setPlaceholder:function(){var e=this,t=!1;if(this.options.title&&!this.multiple){this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),t=!0;var i=this.$element[0],n=!1,o=!this.selectpicker.view.titleOption.parentNode,r=i.selectedIndex,s=i.options[r],a=window.performance&&window.performance.getEntriesByType("navigation"),l=a&&a.length?"back_forward"!==a[0].type:2!==window.performance.navigation.type;o&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",n=!s||0===r&&!1===s.defaultSelected&&void 0===this.$element.data("selected")),!o&&0===this.selectpicker.view.titleOption.index||i.insertBefore(this.selectpicker.view.titleOption,i.firstChild),n&&l?i.selectedIndex=0:"complete"!==document.readyState&&window.addEventListener("pageshow",(function(){e.selectpicker.view.displayedValue!==i.value&&e.render()}))}return t},buildData:function(){var e=':not([hidden]):not([data-hidden="true"])',t=[],i=0,n=this.setPlaceholder()?1:0;this.options.hideDisabled&&(e+=":not(:disabled)");var o=this.$element[0].querySelectorAll("select > *"+e);function r(e){var i=t[t.length-1];i&&"divider"===i.type&&(i.optID||e.optID)||((e=e||{}).type="divider",t.push(e))}function s(e,i){if((i=i||{}).divider="true"===e.getAttribute("data-divider"),i.divider)r({optID:i.optID});else{var n=t.length,o=e.style.cssText,s=o?I(o):"",a=(e.className||"")+(i.optgroupClass||"");i.optID&&(a="opt "+a),i.optionClass=a.trim(),i.inlineStyle=s,i.text=e.textContent,i.content=e.getAttribute("data-content"),i.tokens=e.getAttribute("data-tokens"),i.subtext=e.getAttribute("data-subtext"),i.icon=e.getAttribute("data-icon"),e.liIndex=n,i.display=i.content||i.text,i.type="option",i.index=n,i.option=e,i.selected=!!e.selected,i.disabled=i.disabled||!!e.disabled,t.push(i)}}function a(o,a){var l=a[o],c=!(o-1<n)&&a[o-1],d=a[o+1],u=l.querySelectorAll("option"+e);if(u.length){var h,p,f={display:I(l.label),subtext:l.getAttribute("data-subtext"),icon:l.getAttribute("data-icon"),type:"optgroup-label",optgroupClass:" "+(l.className||"")};i++,c&&r({optID:i}),f.optID=i,t.push(f);for(var m=0,g=u.length;m<g;m++){var v=u[m];0===m&&(p=(h=t.length-1)+g),s(v,{headerIndex:h,lastIndex:p,optID:f.optID,optgroupClass:f.optgroupClass,disabled:l.disabled})}d&&r({optID:i})}}for(var l=o.length,c=n;c<l;c++){var d=o[c];"OPTGROUP"!==d.tagName?s(d,{}):a(c,o)}this.selectpicker.main.data=this.selectpicker.current.data=t},buildList:function(){var e=this,t=this.selectpicker.main.data,i=[],n=0;function o(t){var o,r=0;switch(t.type){case"divider":o=Y.li(!1,H.DIVIDER,t.optID?t.optID+"div":void 0);break;case"option":(o=Y.li(Y.a(Y.text.call(e,t),t.optionClass,t.inlineStyle),"",t.optID)).firstChild&&(o.firstChild.id=e.selectId+"-"+t.index);break;case"optgroup-label":o=Y.li(Y.label.call(e,t),"dropdown-header"+t.optgroupClass,t.optID)}t.element=o,i.push(o),t.display&&(r+=t.display.length),t.subtext&&(r+=t.subtext.length),t.icon&&(r+=1),n<r&&(n=r,e.selectpicker.view.widestOption=i[i.length-1])}!e.options.showTick&&!e.multiple||W.checkMark.parentNode||(W.checkMark.className=this.options.iconBase+" "+e.options.tickIcon+" check-mark",W.a.appendChild(W.checkMark));for(var r=t.length,s=0;s<r;s++)o(t[s]);this.selectpicker.main.elements=this.selectpicker.current.elements=i},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){var e,t=this,i=this.$element[0],n=this.setPlaceholder()&&0===i.selectedIndex,o=m(i,this.options.hideDisabled),r=o.length,s=this.$button[0],l=s.querySelector(".filter-option-inner-inner"),c=document.createTextNode(this.options.multipleSeparator),d=W.fragment.cloneNode(!1),u=!1;if(s.classList.toggle("bs-placeholder",t.multiple?!r:!g(i,o)),t.multiple||1!==o.length||(t.selectpicker.view.displayedValue=g(i,o)),"static"===this.options.selectedTextFormat)d=Y.text.call(this,{text:this.options.title},!0);else if(!1===(this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&1<r&&(1<(e=this.options.selectedTextFormat.split(">")).length&&r>e[1]||1===e.length&&2<=r))){if(!n){for(var h=0;h<r&&h<50;h++){var p=o[h],f=this.selectpicker.main.data[p.liIndex],v={};this.multiple&&0<h&&d.appendChild(c.cloneNode(!1)),p.title?v.text=p.title:f&&(f.content&&t.options.showContent?(v.content=f.content.toString(),u=!0):(t.options.showIcon&&(v.icon=f.icon),t.options.showSubtext&&!t.multiple&&f.subtext&&(v.subtext=" "+f.subtext),v.text=p.textContent.trim())),d.appendChild(Y.text.call(this,v,!0))}49<r&&d.appendChild(document.createTextNode("..."))}}else{var b=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(b+=":not(:disabled)");var y=this.$element[0].querySelectorAll("select > option"+b+", optgroup"+b+" option"+b).length,w="function"==typeof this.options.countSelectedText?this.options.countSelectedText(r,y):this.options.countSelectedText;d=Y.text.call(this,{text:w.replace("{0}",r.toString()).replace("{1}",y.toString())},!0)}if(null==this.options.title&&(this.options.title=this.$element.attr("title")),d.childNodes.length||(d=Y.text.call(this,{text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),s.title=d.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&u&&a([d],t.options.whiteList,t.options.sanitizeFn),l.innerHTML="",l.appendChild(d),z.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")){var x=s.querySelector(".filter-expand"),C=l.cloneNode(!0);C.className="filter-expand",x?s.replaceChild(C,x):s.appendChild(C)}this.$element.trigger("rendered"+B)},setStyle:function(e,t){var i,n=this.$button[0],o=this.$newElement[0],r=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),z.major<4&&(o.classList.add("bs3"),o.parentNode.classList&&o.parentNode.classList.contains("input-group")&&(o.previousElementSibling||o.nextElementSibling)&&(o.previousElementSibling||o.nextElementSibling).classList.contains("input-group-addon")&&o.classList.add("bs3-has-addon")),i=e?e.trim():r,"add"==t?i&&n.classList.add.apply(n.classList,i.split(" ")):"remove"==t?i&&n.classList.remove.apply(n.classList,i.split(" ")):(r&&n.classList.remove.apply(n.classList,r.split(" ")),i&&n.classList.add.apply(n.classList,i.split(" ")))},liHeight:function(t){if(t||!1!==this.options.size&&!Object.keys(this.sizeInfo).length){var i,n=W.div.cloneNode(!1),o=W.div.cloneNode(!1),r=W.div.cloneNode(!1),s=document.createElement("ul"),a=W.li.cloneNode(!1),l=W.li.cloneNode(!1),c=W.a.cloneNode(!1),d=W.span.cloneNode(!1),u=this.options.header&&0<this.$menu.find("."+H.POPOVERHEADER).length?this.$menu.find("."+H.POPOVERHEADER)[0].cloneNode(!0):null,h=this.options.liveSearch?W.div.cloneNode(!1):null,p=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,f=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,m=this.$element.find("option")[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,d.className="text",c.className="dropdown-item "+(m?m.className:""),n.className=this.$menu[0].parentNode.className+" "+H.SHOW,n.style.width=0,"auto"===this.options.width&&(o.style.minWidth=0),o.className=H.MENU+" "+H.SHOW,r.className="inner "+H.SHOW,s.className=H.MENU+" inner "+("4"===z.major?H.SHOW:""),a.className=H.DIVIDER,l.className="dropdown-header",d.appendChild(document.createTextNode("​")),this.selectpicker.current.data.length)for(var g=0;g<this.selectpicker.current.data.length;g++){var v=this.selectpicker.current.data[g];if("option"===v.type){i=v.element;break}}else i=W.li.cloneNode(!1),c.appendChild(d),i.appendChild(c);if(l.appendChild(d.cloneNode(!0)),this.selectpicker.view.widestOption&&s.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),s.appendChild(i),s.appendChild(a),s.appendChild(l),u&&o.appendChild(u),h){var b=document.createElement("input");h.className="bs-searchbox",b.className="form-control",h.appendChild(b),o.appendChild(h)}p&&o.appendChild(p),r.appendChild(s),o.appendChild(r),f&&o.appendChild(f),n.appendChild(o),document.body.appendChild(n);var y,w=i.offsetHeight,C=l?l.offsetHeight:0,k=u?u.offsetHeight:0,S=h?h.offsetHeight:0,$=p?p.offsetHeight:0,_=f?f.offsetHeight:0,D=e(a).outerHeight(!0),T=!!window.getComputedStyle&&window.getComputedStyle(o),j=o.offsetWidth,O=T?null:e(o),I={vert:x(T?T.paddingTop:O.css("paddingTop"))+x(T?T.paddingBottom:O.css("paddingBottom"))+x(T?T.borderTopWidth:O.css("borderTopWidth"))+x(T?T.borderBottomWidth:O.css("borderBottomWidth")),horiz:x(T?T.paddingLeft:O.css("paddingLeft"))+x(T?T.paddingRight:O.css("paddingRight"))+x(T?T.borderLeftWidth:O.css("borderLeftWidth"))+x(T?T.borderRightWidth:O.css("borderRightWidth"))},E={vert:I.vert+x(T?T.marginTop:O.css("marginTop"))+x(T?T.marginBottom:O.css("marginBottom"))+2,horiz:I.horiz+x(T?T.marginLeft:O.css("marginLeft"))+x(T?T.marginRight:O.css("marginRight"))+2};r.style.overflowY="scroll",y=o.offsetWidth-j,document.body.removeChild(n),this.sizeInfo.liHeight=w,this.sizeInfo.dropdownHeaderHeight=C,this.sizeInfo.headerHeight=k,this.sizeInfo.searchHeight=S,this.sizeInfo.actionsHeight=$,this.sizeInfo.doneButtonHeight=_,this.sizeInfo.dividerHeight=D,this.sizeInfo.menuPadding=I,this.sizeInfo.menuExtras=E,this.sizeInfo.menuWidth=j,this.sizeInfo.menuInnerInnerWidth=j-I.horiz,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=y,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var t,i=e(window),n=this.$newElement.offset(),o=e(this.options.container);this.options.container&&o.length&&!o.is("body")?((t=o.offset()).top+=parseInt(o.css("borderTopWidth")),t.left+=parseInt(o.css("borderLeftWidth"))):t={top:0,left:0};var r=this.options.windowPadding;this.sizeInfo.selectOffsetTop=n.top-t.top-i.scrollTop(),this.sizeInfo.selectOffsetBot=i.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-t.top-r[2],this.sizeInfo.selectOffsetLeft=n.left-t.left-i.scrollLeft(),this.sizeInfo.selectOffsetRight=i.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-t.left-r[1],this.sizeInfo.selectOffsetTop-=r[0],this.sizeInfo.selectOffsetLeft-=r[3]},setMenuSize:function(e){this.getSelectPosition();var t,i,n,o,r,s,a,l,c=this.sizeInfo.selectWidth,d=this.sizeInfo.liHeight,u=this.sizeInfo.headerHeight,h=this.sizeInfo.searchHeight,p=this.sizeInfo.actionsHeight,f=this.sizeInfo.doneButtonHeight,m=this.sizeInfo.dividerHeight,g=this.sizeInfo.menuPadding,v=0;if(this.options.dropupAuto&&(a=d*this.selectpicker.current.elements.length+g.vert,l=this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&a+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot,!0===this.selectpicker.isSearching&&(l=this.selectpicker.dropup),this.$newElement.toggleClass(H.DROPUP,l),this.selectpicker.dropup=l),"auto"===this.options.size)o=3<this.selectpicker.current.elements.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,i=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,n=o+u+h+p+f,s=Math.max(o-g.vert,0),this.$newElement.hasClass(H.DROPUP)&&(i=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),t=(r=i)-u-h-p-f-g.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var b=0;b<this.options.size;b++)"divider"===this.selectpicker.current.data[b].type&&v++;t=(i=d*this.options.size+v*m+g.vert)-g.vert,r=i+u+h+p+f,n=s=""}this.$menu.css({"max-height":r+"px",overflow:"hidden","min-height":n+"px"}),this.$menuInner.css({"max-height":t+"px","overflow-y":"auto","min-height":s+"px"}),this.sizeInfo.menuInnerHeight=Math.max(t,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth),"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(H.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-c),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(t){if(this.liHeight(t),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var i=this,n=e(window);this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",(function(){return i.setMenuSize()})),"auto"===this.options.size?n.off("resize"+B+"."+this.selectId+".setMenuSize scroll"+B+"."+this.selectId+".setMenuSize").on("resize"+B+"."+this.selectId+".setMenuSize scroll"+B+"."+this.selectId+".setMenuSize",(function(){return i.setMenuSize()})):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&n.off("resize"+B+"."+this.selectId+".setMenuSize scroll"+B+"."+this.selectId+".setMenuSize")}this.createView(!1,!0,t)},setWidth:function(){var e=this;"auto"===this.options.width?requestAnimationFrame((function(){e.$menu.css("min-width","0"),e.$element.on("loaded"+B,(function(){e.liHeight(),e.setMenuSize();var t=e.$newElement.clone().appendTo("body"),i=t.css("width","auto").children("button").outerWidth();t.remove(),e.sizeInfo.selectWidth=Math.max(e.sizeInfo.totalMenuWidth,i),e.$newElement.css("width",e.sizeInfo.selectWidth+"px")}))})):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){function t(t){var a={},l=r.options.display||!!e.fn.dropdown.Constructor.Default&&e.fn.dropdown.Constructor.Default.display;r.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(H.DROPUP,t.hasClass(H.DROPUP)),i=t.offset(),s.is("body")?n={top:0,left:0}:((n=s.offset()).top+=parseInt(s.css("borderTopWidth"))-s.scrollTop(),n.left+=parseInt(s.css("borderLeftWidth"))-s.scrollLeft()),o=t.hasClass(H.DROPUP)?0:t[0].offsetHeight,(z.major<4||"static"===l)&&(a.top=i.top-n.top+o,a.left=i.left-n.left),a.width=t[0].offsetWidth,r.$bsContainer.css(a)}this.$bsContainer=e('<div class="bs-container" />');var i,n,o,r=this,s=e(this.options.container);this.$button.on("click.bs.dropdown.data-api",(function(){r.isDisabled()||(t(r.$newElement),r.$bsContainer.appendTo(r.options.container).toggleClass(H.SHOW,!r.$button.hasClass(H.SHOW)).append(r.$menu))})),e(window).off("resize"+B+"."+this.selectId+" scroll"+B+"."+this.selectId).on("resize"+B+"."+this.selectId+" scroll"+B+"."+this.selectId,(function(){r.$newElement.hasClass(H.SHOW)&&t(r.$newElement)})),this.$element.on("hide"+B,(function(){r.$menu.data("height",r.$menu.height()),r.$bsContainer.detach()}))},setOptionStatus:function(e){var t=this;if(t.noScroll=!1,t.selectpicker.view.visibleElements&&t.selectpicker.view.visibleElements.length)for(var i=0;i<t.selectpicker.view.visibleElements.length;i++){var n=t.selectpicker.current.data[i+t.selectpicker.view.position0],o=n.option;o&&(!0!==e&&t.setDisabled(n.index,n.disabled),t.setSelected(n.index,o.selected))}},setSelected:function(e,t){var i,n,o=this.selectpicker.main.elements[e],r=this.selectpicker.main.data[e],s=void 0!==this.activeIndex,a=this.activeIndex===e||t&&!this.multiple&&!s;r.selected=t,n=o.firstChild,t&&(this.selectedIndex=e),o.classList.toggle("selected",t),a?(this.focusItem(o,r),this.selectpicker.view.currentActive=o,this.activeIndex=e):this.defocusItem(o),n&&(n.classList.toggle("selected",t),t?n.setAttribute("aria-selected",!0):this.multiple?n.setAttribute("aria-selected",!1):n.removeAttribute("aria-selected")),a||s||!t||void 0===this.prevActiveIndex||(i=this.selectpicker.main.elements[this.prevActiveIndex],this.defocusItem(i))},setDisabled:function(e,t){var i,n=this.selectpicker.main.elements[e];this.selectpicker.main.data[e].disabled=t,i=n.firstChild,n.classList.toggle(H.DISABLED,t),i&&("4"===z.major&&i.classList.toggle(H.DISABLED,t),t?(i.setAttribute("aria-disabled",t),i.setAttribute("tabindex",-1)):(i.removeAttribute("aria-disabled"),i.setAttribute("tabindex",0)))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){this.isDisabled()?(this.$newElement[0].classList.add(H.DISABLED),this.$button.addClass(H.DISABLED).attr("aria-disabled",!0)):this.$button[0].classList.contains(H.DISABLED)&&(this.$newElement[0].classList.remove(H.DISABLED),this.$button.removeClass(H.DISABLED).attr("aria-disabled",!1))},clickListener:function(){var t=this,i=e(document);function n(){t.options.liveSearch?t.$searchbox.trigger("focus"):t.$menuInner.trigger("focus")}function o(){t.dropdown&&t.dropdown._popper&&t.dropdown._popper.state.isCreated?n():requestAnimationFrame(o)}i.data("spaceSelect",!1),this.$button.on("keyup",(function(e){/(32)/.test(e.keyCode.toString(10))&&i.data("spaceSelect")&&(e.preventDefault(),i.data("spaceSelect",!1))})),this.$newElement.on("show.bs.dropdown",(function(){3<z.major&&!t.dropdown&&(t.dropdown=t.$button.data("bs.dropdown"),t.dropdown._menu=t.$menu[0])})),this.$button.on("click.bs.dropdown.data-api",(function(){t.$newElement.hasClass(H.SHOW)||t.setSize()})),this.$element.on("shown"+B,(function(){t.$menuInner[0].scrollTop!==t.selectpicker.view.scrollTop&&(t.$menuInner[0].scrollTop=t.selectpicker.view.scrollTop),3<z.major?requestAnimationFrame(o):n()})),this.$menuInner.on("mouseenter","li a",(function(e){var i=this.parentElement,n=t.isVirtual()?t.selectpicker.view.position0:0,o=Array.prototype.indexOf.call(i.parentElement.children,i),r=t.selectpicker.current.data[o+n];t.focusItem(i,r,!0)})),this.$menuInner.on("click","li a",(function(i,n){var o=e(this),r=t.$element[0],s=t.isVirtual()?t.selectpicker.view.position0:0,a=t.selectpicker.current.data[o.parent().index()+s],l=a.index,c=g(r),d=r.selectedIndex,u=r.options[d],h=!0;if(t.multiple&&1!==t.options.maxOptions&&i.stopPropagation(),i.preventDefault(),!t.isDisabled()&&!o.parent().hasClass(H.DISABLED)){var p=a.option,f=e(p),v=p.selected,y=f.parent("optgroup"),w=y.find("option"),x=t.options.maxOptions,C=y.data("maxOptions")||!1;if(l===t.activeIndex&&(n=!0),n||(t.prevActiveIndex=t.activeIndex,t.activeIndex=void 0),t.multiple){if(p.selected=!v,t.setSelected(l,!v),t.focusedParent.focus(),!1!==x||!1!==C){var k=x<m(r).length,S=C<y.find("option:selected").length;if(x&&k||C&&S)if(x&&1==x)r.selectedIndex=-1,p.selected=!0,t.setOptionStatus(!0);else if(C&&1==C){for(var $=0;$<w.length;$++){var _=w[$];_.selected=!1,t.setSelected(_.liIndex,!1)}p.selected=!0,t.setSelected(l,!0)}else{var D="string"==typeof t.options.maxOptionsText?[t.options.maxOptionsText,t.options.maxOptionsText]:t.options.maxOptionsText,T="function"==typeof D?D(x,C):D,j=T[0].replace("{n}",x),O=T[1].replace("{n}",C),I=e('<div class="notify"></div>');T[2]&&(j=j.replace("{var}",T[2][1<x?0:1]),O=O.replace("{var}",T[2][1<C?0:1])),p.selected=!1,t.$menu.append(I),x&&k&&(I.append(e("<div>"+j+"</div>")),h=!1,t.$element.trigger("maxReached"+B)),C&&S&&(I.append(e("<div>"+O+"</div>")),h=!1,t.$element.trigger("maxReachedGrp"+B)),setTimeout((function(){t.setSelected(l,!1)}),10),I[0].classList.add("fadeOut"),setTimeout((function(){I.remove()}),1050)}}}else u&&(u.selected=!1),p.selected=!0,t.setSelected(l,!0);!t.multiple||t.multiple&&1===t.options.maxOptions?t.$button.trigger("focus"):t.options.liveSearch&&t.$searchbox.trigger("focus"),h&&(!t.multiple&&d===r.selectedIndex||(b=[p.index,f.prop("selected"),c],t.$element.triggerNative("change")))}})),this.$menu.on("click","li."+H.DISABLED+" a, ."+H.POPOVERHEADER+", ."+H.POPOVERHEADER+" :not(.close)",(function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),t.options.liveSearch&&!e(i.target).hasClass("close")?t.$searchbox.trigger("focus"):t.$button.trigger("focus"))})),this.$menuInner.on("click",".divider, .dropdown-header",(function(e){e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.trigger("focus"):t.$button.trigger("focus")})),this.$menu.on("click","."+H.POPOVERHEADER+" .close",(function(){t.$button.trigger("click")})),this.$searchbox.on("click",(function(e){e.stopPropagation()})),this.$menu.on("click",".actions-btn",(function(i){t.options.liveSearch?t.$searchbox.trigger("focus"):t.$button.trigger("focus"),i.preventDefault(),i.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll()})),this.$button.on("focus"+B,(function(e){var i=t.$element[0].getAttribute("tabindex");void 0!==i&&e.originalEvent&&e.originalEvent.isTrusted&&(this.setAttribute("tabindex",i),t.$element[0].setAttribute("tabindex",-1),t.selectpicker.view.tabindex=i)})).on("blur"+B,(function(e){void 0!==t.selectpicker.view.tabindex&&e.originalEvent&&e.originalEvent.isTrusted&&(t.$element[0].setAttribute("tabindex",t.selectpicker.view.tabindex),this.setAttribute("tabindex",-1),t.selectpicker.view.tabindex=void 0)})),this.$element.on("change"+B,(function(){t.render(),t.$element.trigger("changed"+B,b),b=null})).on("focus"+B,(function(){t.options.mobile||t.$button[0].focus()}))},liveSearchListener:function(){var e=this;this.$button.on("click.bs.dropdown.data-api",(function(){e.$searchbox.val()&&(e.$searchbox.val(""),e.selectpicker.search.previousValue=void 0)})),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",(function(e){e.stopPropagation()})),this.$searchbox.on("input propertychange",(function(){var t=e.$searchbox[0].value;if(e.selectpicker.search.elements=[],e.selectpicker.search.data=[],t){var i=[],n=t.toUpperCase(),o={},r=[],s=e._searchStyle(),a=e.options.liveSearchNormalize;a&&(n=_(n));for(var l=0;l<e.selectpicker.main.data.length;l++){var c=e.selectpicker.main.data[l];o[l]||(o[l]=w(c,n,s,a)),o[l]&&void 0!==c.headerIndex&&-1===r.indexOf(c.headerIndex)&&(0<c.headerIndex&&(o[c.headerIndex-1]=!0,r.push(c.headerIndex-1)),o[c.headerIndex]=!0,r.push(c.headerIndex),o[c.lastIndex+1]=!0),o[l]&&"optgroup-label"!==c.type&&r.push(l)}l=0;for(var d=r.length;l<d;l++){var u=r[l],h=r[l-1],p=(c=e.selectpicker.main.data[u],e.selectpicker.main.data[h]);("divider"!==c.type||"divider"===c.type&&p&&"divider"!==p.type&&d-1!==l)&&(e.selectpicker.search.data.push(c),i.push(e.selectpicker.main.elements[u]))}e.activeIndex=void 0,e.noScroll=!0,e.$menuInner.scrollTop(0),e.selectpicker.search.elements=i,e.createView(!0),function(e,t){e.length||(W.noResults.innerHTML=this.options.noneResultsText.replace("{0}",'"'+I(t)+'"'),this.$menuInner[0].firstChild.appendChild(W.noResults))}.call(e,i,t)}else e.selectpicker.search.previousValue&&(e.$menuInner.scrollTop(0),e.createView(!1));e.selectpicker.search.previousValue=t}))},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){var t=this.$element[0];if(void 0===e)return this.$element.val();var i=g(t);if(b=[null,null,i],this.$element.val(e).trigger("changed"+B,b),this.$newElement.hasClass(H.SHOW))if(this.multiple)this.setOptionStatus(!0);else{var n=(t.options[t.selectedIndex]||{}).liIndex;"number"==typeof n&&(this.setSelected(this.selectedIndex,!1),this.setSelected(n,!0))}return this.render(),b=null,this.$element},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);var t=this.$element[0],i=0,n=0,o=g(t);t.classList.add("bs-select-hidden");for(var r=0,s=this.selectpicker.current.data,a=s.length;r<a;r++){var l=s[r],c=l.option;c&&!l.disabled&&"divider"!==l.type&&(l.selected&&i++,!0===(c.selected=e)&&n++)}t.classList.remove("bs-select-hidden"),i!==n&&(this.setOptionStatus(),b=[null,null,o],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(t){var i,n,o,r,s,a=e(this),l=a.hasClass("dropdown-toggle"),c=(l?a.closest(".dropdown"):a.closest(G.MENU)).data("this"),d=c.findLis(),u=!1,h=t.which===F&&!l&&!c.options.selectOnTab,p=U.test(t.which)||h,f=c.$menuInner[0].scrollTop,m=!0===c.isVirtual()?c.selectpicker.view.position0:0;if(!(112<=t.which&&t.which<=123))if(!(n=c.$newElement.hasClass(H.SHOW))&&(p||48<=t.which&&t.which<=57||96<=t.which&&t.which<=105||65<=t.which&&t.which<=90)&&(c.$button.trigger("click.bs.dropdown.data-api"),c.options.liveSearch))c.$searchbox.trigger("focus");else{if(t.which===P&&n&&(t.preventDefault(),c.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),p){if(!d.length)return;-1!==(i=(o=c.selectpicker.main.elements[c.activeIndex])?Array.prototype.indexOf.call(o.parentElement.children,o):-1)&&c.defocusItem(o),t.which===M?(-1!==i&&i--,i+m<0&&(i+=d.length),c.selectpicker.view.canHighlight[i+m]||-1==(i=c.selectpicker.view.canHighlight.slice(0,i+m).lastIndexOf(!0)-m)&&(i=d.length-1)):t.which!==L&&!h||(++i+m>=c.selectpicker.view.canHighlight.length&&(i=c.selectpicker.view.firstHighlightIndex),c.selectpicker.view.canHighlight[i+m]||(i=i+1+c.selectpicker.view.canHighlight.slice(i+m+1).indexOf(!0))),t.preventDefault();var g=m+i;t.which===M?0===m&&i===d.length-1?(c.$menuInner[0].scrollTop=c.$menuInner[0].scrollHeight,g=c.selectpicker.current.elements.length-1):u=(s=(r=c.selectpicker.current.data[g]).position-r.height)<f:t.which!==L&&!h||(i===c.selectpicker.view.firstHighlightIndex?(c.$menuInner[0].scrollTop=0,g=c.selectpicker.view.firstHighlightIndex):u=f<(s=(r=c.selectpicker.current.data[g]).position-c.sizeInfo.menuInnerHeight)),o=c.selectpicker.current.elements[g],c.activeIndex=c.selectpicker.current.data[g].index,c.focusItem(o),c.selectpicker.view.currentActive=o,u&&(c.$menuInner[0].scrollTop=s),c.options.liveSearch?c.$searchbox.trigger("focus"):a.trigger("focus")}else if(!a.is("input")&&!V.test(t.which)||t.which===N&&c.selectpicker.keydown.keyHistory){var v,b,y=[];t.preventDefault(),c.selectpicker.keydown.keyHistory+=R[t.which],c.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(c.selectpicker.keydown.resetKeyHistory.cancel),c.selectpicker.keydown.resetKeyHistory.cancel=c.selectpicker.keydown.resetKeyHistory.start(),b=c.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(b)&&(b=b.charAt(0));for(var x=0;x<c.selectpicker.current.data.length;x++){var C=c.selectpicker.current.data[x];w(C,b,"startsWith",!0)&&c.selectpicker.view.canHighlight[x]&&y.push(C.index)}if(y.length){var k=0;d.removeClass("active").find("a").removeClass("active"),1===b.length&&(-1===(k=y.indexOf(c.activeIndex))||k===y.length-1?k=0:k++),v=y[k],u=0<f-(r=c.selectpicker.main.data[v]).position?(s=r.position-r.height,!0):(s=r.position-c.sizeInfo.menuInnerHeight,r.position>f+c.sizeInfo.menuInnerHeight),o=c.selectpicker.main.elements[v],c.activeIndex=y[k],c.focusItem(o),o&&o.firstChild.focus(),u&&(c.$menuInner[0].scrollTop=s),a.trigger("focus")}}n&&(t.which===N&&!c.selectpicker.keydown.keyHistory||t.which===A||t.which===F&&c.options.selectOnTab)&&(t.which!==N&&t.preventDefault(),c.options.liveSearch&&t.which===N||(c.$menuInner.find(".active a").trigger("click",!0),a.trigger("focus"),c.options.liveSearch||(t.preventDefault(),e(document).data("spaceSelect",!0))))}},mobile:function(){this.options.mobile=!0,this.$element[0].classList.add("mobile-device")},refresh:function(){var t=e.extend({},this.options,this.$element.data());this.options=t,this.checkDisabled(),this.buildData(),this.setStyle(),this.render(),this.buildList(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+B)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.selectpicker.view.titleOption&&this.selectpicker.view.titleOption.parentNode&&this.selectpicker.view.titleOption.parentNode.removeChild(this.selectpicker.view.titleOption),this.$element.off(B).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),e(window).off(B+"."+this.selectId)}};var K=e.fn.selectpicker;function Q(){if(e.fn.dropdown)return(e.fn.dropdown.Constructor._dataApiKeydownHandler||e.fn.dropdown.Constructor.prototype.keydown).apply(this,arguments)}e.fn.selectpicker=J,e.fn.selectpicker.Constructor=X,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=K,this},e(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.dropdown.data-api",':not(.bootstrap-select) > [data-toggle="dropdown"]',Q).on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > .dropdown-menu",Q).on("keydown"+B,'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',X.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',(function(e){e.stopPropagation()})),e(window).on("load"+B+".data-api",(function(){e(".selectpicker").each((function(){var t=e(this);J.call(t,t.data())}))}))}(e)}(e)}.apply(t,n),void 0===o||(e.exports=o)},8287:(e,t,i)=>{"use strict";var n=i(7526),o=i(251),r=i(4634);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return c(this,e,t,i)}function c(e,t,i,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,i,n){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t);return e}(e,t,i,n):"string"==typeof t?function(e,t,i){"string"==typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,i);e=a(e,n);var o=e.write(t,i);o!==n&&(e=e.slice(0,o));return e}(e,t,i):function(e,t){if(l.isBuffer(t)){var i=0|p(t.length);return 0===(e=a(e,i)).length||t.copy(e,0,0,i),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):h(e,t);if("Buffer"===t.type&&r(t.data))return h(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(d(t),e=a(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function h(e,t){var i=t.length<0?0:0|p(t.length);e=a(e,i);for(var n=0;n<i;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return B(e).length;default:if(n)return q(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,i);case"utf8":case"utf-8":return _(this,t,i);case"ascii":return T(this,t,i);case"latin1":case"binary":return j(this,t,i);case"base64":return $(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function v(e,t,i,n,o){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=o?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(o)return-1;i=e.length-1}else if(i<0){if(!o)return-1;i=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:b(e,t,i,n,o);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):b(e,[t],i,n,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,i,n,o){var r,s=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,i/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var d=-1;for(r=i;r<a;r++)if(c(e,r)===c(t,-1===d?0:r-d)){if(-1===d&&(d=r),r-d+1===l)return d*s}else-1!==d&&(r-=r-d),d=-1}else for(i+l>a&&(i=a-l),r=i;r>=0;r--){for(var u=!0,h=0;h<l;h++)if(c(e,r+h)!==c(t,h)){u=!1;break}if(u)return r}return-1}function y(e,t,i,n){i=Number(i)||0;var o=e.length-i;n?(n=Number(n))>o&&(n=o):n=o;var r=t.length;if(r%2!=0)throw new TypeError("Invalid hex string");n>r/2&&(n=r/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[i+s]=a}return s}function w(e,t,i,n){return H(q(t,e.length-i),e,i,n)}function x(e,t,i,n){return H(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function C(e,t,i,n){return x(e,t,i,n)}function k(e,t,i,n){return H(B(t),e,i,n)}function S(e,t,i,n){return H(function(e,t){for(var i,n,o,r=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(i=e.charCodeAt(s))>>8,o=i%256,r.push(o),r.push(n);return r}(t,e.length-i),e,i,n)}function $(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function _(e,t,i){i=Math.min(e.length,i);for(var n=[],o=t;o<i;){var r,s,a,l,c=e[o],d=null,u=c>239?4:c>223?3:c>191?2:1;if(o+u<=i)switch(u){case 1:c<128&&(d=c);break;case 2:128==(192&(r=e[o+1]))&&(l=(31&c)<<6|63&r)>127&&(d=l);break;case 3:r=e[o+1],s=e[o+2],128==(192&r)&&128==(192&s)&&(l=(15&c)<<12|(63&r)<<6|63&s)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:r=e[o+1],s=e[o+2],a=e[o+3],128==(192&r)&&128==(192&s)&&128==(192&a)&&(l=(15&c)<<18|(63&r)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(d=l)}null===d?(d=65533,u=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),o+=u}return function(e){var t=e.length;if(t<=D)return String.fromCharCode.apply(String,e);var i="",n=0;for(;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=D));return i}(n)}t.hp=l,t.IS=50,l.TYPED_ARRAY_SUPPORT=void 0!==i.g.TYPED_ARRAY_SUPPORT?i.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),s(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,i){return c(null,e,t,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,i){return function(e,t,i,n){return d(t),t<=0?a(e,t):void 0!==i?"string"==typeof n?a(e,t).fill(i,n):a(e,t).fill(i):a(e,t)}(null,e,t,i)},l.allocUnsafe=function(e){return u(null,e)},l.allocUnsafeSlow=function(e){return u(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,o=0,r=Math.min(i,n);o<r;++o)if(e[o]!==t[o]){i=e[o],n=t[o];break}return i<n?-1:n<i?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!r(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=l.allocUnsafe(t),o=0;for(i=0;i<e.length;++i){var s=e[i];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,o),o+=s.length}return n},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?_(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",i=t.IS;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,i,n,o){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||i>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=i)return 0;if(n>=o)return-1;if(t>=i)return 1;if(this===e)return 0;for(var r=(o>>>=0)-(n>>>=0),s=(i>>>=0)-(t>>>=0),a=Math.min(r,s),c=this.slice(n,o),d=e.slice(t,i),u=0;u<a;++u)if(c[u]!==d[u]){r=c[u],s=d[u];break}return r<s?-1:s<r?1:0},l.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return v(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return v(this,e,t,i,!1)},l.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var o=this.length-t;if((void 0===i||i>o)&&(i=o),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var r=!1;;)switch(n){case"hex":return y(this,e,t,i);case"utf8":case"utf-8":return w(this,e,t,i);case"ascii":return x(this,e,t,i);case"latin1":case"binary":return C(this,e,t,i);case"base64":return k(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,i);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),r=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function T(e,t,i){var n="";i=Math.min(e.length,i);for(var o=t;o<i;++o)n+=String.fromCharCode(127&e[o]);return n}function j(e,t,i){var n="";i=Math.min(e.length,i);for(var o=t;o<i;++o)n+=String.fromCharCode(e[o]);return n}function O(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var o="",r=t;r<i;++r)o+=z(e[r]);return o}function I(e,t,i){for(var n=e.slice(t,i),o="",r=0;r<n.length;r+=2)o+=String.fromCharCode(n[r]+256*n[r+1]);return o}function E(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,i,n,o,r){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<r)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function P(e,t,i,n){t<0&&(t=65535+t+1);for(var o=0,r=Math.min(e.length-i,2);o<r;++o)e[i+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function A(e,t,i,n){t<0&&(t=4294967295+t+1);for(var o=0,r=Math.min(e.length-i,4);o<r;++o)e[i+o]=t>>>8*(n?o:3-o)&255}function N(e,t,i,n,o,r){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function F(e,t,i,n,r){return r||N(e,0,i,4),o.write(e,t,i,n,23,4),i+4}function M(e,t,i,n,r){return r||N(e,0,i,8),o.write(e,t,i,n,52,8),i+8}l.prototype.slice=function(e,t){var i,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=l.prototype;else{var o=t-e;i=new l(o,void 0);for(var r=0;r<o;++r)i[r]=this[r+e]}return i},l.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||E(e,t,this.length);for(var n=this[e],o=1,r=0;++r<t&&(o*=256);)n+=this[e+r]*o;return n},l.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||E(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},l.prototype.readUInt8=function(e,t){return t||E(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||E(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||E(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||E(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||E(e,t,this.length);for(var n=this[e],o=1,r=0;++r<t&&(o*=256);)n+=this[e+r]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||E(e,t,this.length);for(var n=t,o=1,r=this[e+--n];n>0&&(o*=256);)r+=this[e+--n]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readInt8=function(e,t){return t||E(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||E(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){t||E(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||E(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||E(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||E(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||E(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||R(this,e,t,i,Math.pow(2,8*i)-1,0);var o=1,r=0;for(this[t]=255&e;++r<i&&(o*=256);)this[t+r]=e/o&255;return t+i},l.prototype.writeUIntBE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||R(this,e,t,i,Math.pow(2,8*i)-1,0);var o=i-1,r=1;for(this[t+o]=255&e;--o>=0&&(r*=256);)this[t+o]=e/r&255;return t+i},l.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):A(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*i-1);R(this,e,t,i,o-1,-o)}var r=0,s=1,a=0;for(this[t]=255&e;++r<i&&(s*=256);)e<0&&0===a&&0!==this[t+r-1]&&(a=1),this[t+r]=(e/s|0)-a&255;return t+i},l.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*i-1);R(this,e,t,i,o-1,-o)}var r=i-1,s=1,a=0;for(this[t+r]=255&e;--r>=0&&(s*=256);)e<0&&0===a&&0!==this[t+r+1]&&(a=1),this[t+r]=(e/s|0)-a&255;return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):A(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,i){return F(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return F(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return M(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return M(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var o,r=n-i;if(this===e&&i<t&&t<n)for(o=r-1;o>=0;--o)e[o+t]=this[o+i];else if(r<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<r;++o)e[o+t]=this[o+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+r),t);return r},l.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var r;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(r=t;r<i;++r)this[r]=e;else{var s=l.isBuffer(e)?e:q(new l(e,n).toString()),a=s.length;for(r=0;r<i-t;++r)this[r+t]=s[r%a]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){var i;t=t||1/0;for(var n=e.length,o=null,r=[],s=0;s<n;++s){if((i=e.charCodeAt(s))>55295&&i<57344){if(!o){if(i>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&r.push(239,191,189);continue}o=i;continue}if(i<56320){(t-=3)>-1&&r.push(239,191,189),o=i;continue}i=65536+(o-55296<<10|i-56320)}else o&&(t-=3)>-1&&r.push(239,191,189);if(o=null,i<128){if((t-=1)<0)break;r.push(i)}else if(i<2048){if((t-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return r}function B(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,i,n){for(var o=0;o<n&&!(o+i>=t.length||o>=e.length);++o)t[o+i]=e[o];return o}},7576:function(e){var t;t=function(){return function(){var e={686:function(e,t,i){"use strict";i.d(t,{default:function(){return C}});var n=i(279),o=i.n(n),r=i(370),s=i.n(r),a=i(817),l=i.n(a);function c(e){try{return document.execCommand(e)}catch(e){return!1}}var d=function(e){var t=l()(e);return c("cut"),t},u=function(e,t){var i=function(e){var t="rtl"===document.documentElement.getAttribute("dir"),i=document.createElement("textarea");i.style.fontSize="12pt",i.style.border="0",i.style.padding="0",i.style.margin="0",i.style.position="absolute",i.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;return i.style.top="".concat(n,"px"),i.setAttribute("readonly",""),i.value=e,i}(e);t.container.appendChild(i);var n=l()(i);return c("copy"),i.remove(),n},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},i="";return"string"==typeof e?i=u(e,t):e instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null==e?void 0:e.type)?i=u(e.value,t):(i=l()(e),c("copy")),i};function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,i=void 0===t?"copy":t,n=e.container,o=e.target,r=e.text;if("copy"!==i&&"cut"!==i)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==o){if(!o||"object"!==p(o)||1!==o.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===i&&o.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===i&&(o.hasAttribute("readonly")||o.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return r?h(r,{container:n}):o?"cut"===i?d(o):h(o,{container:n}):void 0};function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function g(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=y(e);if(t){var o=y(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return function(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,i)}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function w(e,t){var i="data-clipboard-".concat(e);if(t.hasAttribute(i))return t.getAttribute(i)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(r,e);var t,i,n,o=b(r);function r(e,t){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(i=o.call(this)).resolveOptions(t),i.listenClick(e),i}return t=r,i=[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===m(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=s()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget,i=this.action(t)||"copy",n=f({action:i,container:this.container,target:this.target(t),text:this.text(t)});this.emit(n?"success":"error",{action:i,text:n,trigger:t,clearSelection:function(){t&&t.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(e){return w("action",e)}},{key:"defaultTarget",value:function(e){var t=w("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return w("text",e)}},{key:"destroy",value:function(){this.listener.destroy()}}],n=[{key:"copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return h(e,t)}},{key:"cut",value:function(e){return d(e)}},{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,i=!!document.queryCommandSupported;return t.forEach((function(e){i=i&&!!document.queryCommandSupported(e)})),i}}],i&&g(t.prototype,i),n&&g(t,n),r}(o()),C=x},828:function(e){if("undefined"!=typeof Element&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},438:function(e,t,i){var n=i(828);function o(e,t,i,n,o){var s=r.apply(this,arguments);return e.addEventListener(i,s,o),{destroy:function(){e.removeEventListener(i,s,o)}}}function r(e,t,i,o){return function(i){i.delegateTarget=n(i.target,t),i.delegateTarget&&o.call(e,i)}}e.exports=function(e,t,i,n,r){return"function"==typeof e.addEventListener?o.apply(null,arguments):"function"==typeof i?o.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return o(e,t,i,n,r)})))}},879:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var i=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===i||"[object HTMLCollection]"===i)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},370:function(e,t,i){var n=i(879),o=i(438);e.exports=function(e,t,i){if(!e&&!t&&!i)throw new Error("Missing required arguments");if(!n.string(t))throw new TypeError("Second argument must be a String");if(!n.fn(i))throw new TypeError("Third argument must be a Function");if(n.node(e))return function(e,t,i){return e.addEventListener(t,i),{destroy:function(){e.removeEventListener(t,i)}}}(e,t,i);if(n.nodeList(e))return function(e,t,i){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,i)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,i)}))}}}(e,t,i);if(n.string(e))return function(e,t,i){return o(document.body,e,t,i)}(e,t,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(e){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var i=e.hasAttribute("readonly");i||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),i||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(e),n.removeAllRanges(),n.addRange(o),t=n.toString()}return t}},279:function(e){function t(){}t.prototype={on:function(e,t,i){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:i}),this},once:function(e,t,i){var n=this;function o(){n.off(e,o),t.apply(i,arguments)}return o._=t,this.on(e,o,i)},emit:function(e){for(var t=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),n=0,o=i.length;n<o;n++)i[n].fn.apply(i[n].ctx,t);return this},off:function(e,t){var i=this.e||(this.e={}),n=i[e],o=[];if(n&&t)for(var r=0,s=n.length;r<s;r++)n[r].fn!==t&&n[r].fn._!==t&&o.push(n[r]);return o.length?i[e]=o:delete i[e],this}},e.exports=t,e.exports.TinyEmitter=t}},t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n](o,o.exports,i),o.exports}return i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i(686)}().default},e.exports=t()},600:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t){"use strict";__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(4692)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(i){return t(i,e.document)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}("undefined"!=typeof window?window:this,(function($,document){"use strict";var englishLanguageDefaults={name:"English (United States)",nameEnglish:"English (United States)",isRTL:!1,defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",pgtext:"Page {0} of {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",savetext:"Saving..."},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],addGroupTitle:"Add subgroup",deleteGroupTitle:"Delete group",addRuleTitle:"Add rule",deleteRuleTitle:"Delete rule",operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(e){return e<11||13<e?["st","nd","rd","th"][Math.min((e-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",masks:{ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",YearMonth:"F, Y"}}}};$.jgrid=$.jgrid||{};var jgrid=$.jgrid;jgrid.locales=jgrid.locales||{};var locales=jgrid.locales,COMPONENT_NAMES={GRID_BOX_DIV:0,GRID_OVERLAY_DIV:1,LOADING_DIV:2,DIALOG_ALERT_DIV:3,DIALOG_SEARCH_DIV:4,DIALOG_VIEW_DIV:5,DIALOG_EDIT_DIV:6,DIALOG_DELETE_DIV:7,GRID_VIEW_DIV:8,TITLE_BAR_DIV:9,UPPER_TOOLBAR_DIV:10,TOP_PAGER_DIV:11,HEADER_DIV:12,HEADER_BOX_DIV:13,HEADER_TABLE:14,HEADER_COLS_ROW:15,HEADER_COLS:16,HEADER_ROWS:47,HEADER_TH:48,HEADER_SORTABLE_DIV:49,HEADER_RESIZABLE_SPAN:50,HEADER_SELECT_ALL_ROWS_CHECKBOX:45,SEARCH_TOOLBAR:17,BODY_DIV:18,BODY_SCROLL_FULL_DIV:19,BODY_SCROLL_TOP_DIV:20,BODY_TABLE:21,GRID:21,BODY_COLS_ROW:22,BODY_COLS:23,BODY_DATA_ROWS:24,FOOTER_DIV:25,FOOTER_BOX_DIV:26,FOOTER_TABLE:27,FOOTER_DATA_ROWS:28,BOTTOM_TOOLBAR_DIV:29,FROZEN_HEADER_DIV:30,FROZEN_HEADER_TABLE:31,FROZEN_HEADER_COLS_ROW:32,FROZEN_HEADER_COLS:33,FROZEN_SEARCH_TOOLBAR:34,FROZEN_FOOTER_DIV:35,FROZEN_FOOTER_TABLE:36,FROZEN_FOOTER_DATA_ROWS:37,FROZEN_BODY_DIV:38,FROZEN_BODY_TABLE:39,FROZEN_BODY_COLS_ROW:40,FROZEN_BODY_COLS:41,FROZEN_BODY_DATA_ROWS:42,COLUMN_RESIZER_DIV:43,BOTTOM_PAGER_DIV:44,SEARCH_OPERATION_MENU_UL:46};(null==jgrid.defaults||$.isEmptyObject(locales)||void 0===locales["en-US"])&&(void 0===locales["en-US"]&&$.extend(!0,jgrid,{locales:{"en-US":englishLanguageDefaults}}),jgrid.defaults=jgrid.defaults||{},void 0===jgrid.defaults.locale&&(jgrid.defaults.locale="en-US")),jgrid.defaults=jgrid.defaults||{};var defaults=jgrid.defaults;$.extend(!0,jgrid,{version:"4.15.5-pre",productName:"free jqGrid",defaults:{},search:{},edit:{},view:{},del:{},nav:{},col:{},errors:{},formatter:{unused:""},icons:{jQueryUI:{common:"ui-icon",pager:{first:"ui-icon-seek-first",prev:"ui-icon-seek-prev",next:"ui-icon-seek-next",last:"ui-icon-seek-end"},sort:{asc:"ui-icon-triangle-1-n",desc:"ui-icon-triangle-1-s"},gridMinimize:{visible:"ui-icon-circle-triangle-n",hidden:"ui-icon-circle-triangle-s"},nav:{edit:"ui-icon-pencil",add:"ui-icon-plus",del:"ui-icon-trash",search:"ui-icon-search",refresh:"ui-icon-refresh",view:"ui-icon-document",save:"ui-icon-disk",cancel:"ui-icon-cancel",newbutton:"ui-icon-newwin"},actions:{edit:"ui-icon-pencil",del:"ui-icon-trash",save:"ui-icon-disk",cancel:"ui-icon-cancel"},form:{close:"ui-icon-closethick",prev:"ui-icon-triangle-1-w",next:"ui-icon-triangle-1-e",save:"ui-icon-disk",undo:"ui-icon-close",del:"ui-icon-scissors",cancel:"ui-icon-cancel",resizableLtr:"ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se"},search:{search:"ui-icon-search",reset:"ui-icon-arrowreturnthick-1-w",query:"ui-icon-comment"},subgrid:{plus:"ui-icon-plus",minus:"ui-icon-minus",openLtr:"ui-icon-caret-1-sw",openRtl:"ui-icon-caret-1-se"},grouping:{plus:"ui-icon-circlesmall-plus",minus:"ui-icon-circlesmall-minus"},treeGrid:{minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off",plusLtr:"ui-icon-triangle-1-e",plusRtl:"ui-icon-triangle-1-w"}},fontAwesome:{common:"fa",pager:{common:"fa-fw",first:"fa-step-backward",prev:"fa-backward",next:"fa-forward",last:"fa-step-forward"},sort:{common:"fa-lg",asc:"fa-sort-asc",desc:"fa-sort-desc"},gridMinimize:{visible:"fa-chevron-circle-up",hidden:"fa-chevron-circle-down"},nav:{common:"fa-lg fa-fw",edit:"fa-pencil",add:"fa-plus",del:"fa-trash-o",search:"fa-search",refresh:"fa-refresh",view:"fa-file-o",save:"fa-floppy-o",cancel:"fa-ban",newbutton:"fa-external-link"},actions:{common:"fa-fw",edit:"fa-pencil",del:"fa-trash-o",save:"fa-floppy-o",cancel:"fa-ban"},form:{close:"fa-times",prev:"fa-caret-left",next:"fa-caret-right",save:"fa-floppy-o",undo:"fa-undo",del:"fa-trash-o",cancel:"fa-ban",resizableLtr:"fa-rss fa-rotate-270"},search:{search:"fa-search",reset:"fa-undo",query:"fa-comments-o"},subgrid:{common:"fa-fw",plus:"fa-plus",minus:"fa-minus",openLtr:"fa-reply fa-rotate-180",openRtl:"fa-share fa-rotate-180"},grouping:{common:"fa-fw",plus:"fa-plus-square-o",minus:"fa-minus-square-o"},treeGrid:{common:"fa-fw",minus:"fa-lg fa-sort-desc",leaf:"fa-dot-circle-o",plusLtr:"fa-lg fa-caret-right",plusRtl:"fa-lg fa-caret-left"},checkbox:{checkedClasses:"fa-check-square-o",checked:"fa-check-square-o fa-lg",unchecked:"fa-square-o fa-lg"}},fontAwesome5:{pager:{common:"fa-fw",first:"fa-step-backward",prev:"fa-backward",next:"fa-forward",last:"fa-step-forward"},sort:{common:"fa-lg",asc:"fa-sort-up",desc:"fa-sort-down"},gridMinimize:{visible:"fa-chevron-circle-up",hidden:"fa-chevron-circle-down"},nav:{common:"fa-lg fa-fw",edit:"fa-pencil-alt",add:"fa-plus",del:"fa-trash-alt",search:"fa-search",refresh:"fa-sync",view:"fa-file",save:"fa-save",cancel:"fa-ban",newbutton:"fa-external-link-alt"},actions:{common:"fa-fw",edit:"fa-pencil-alt",del:"fa-trash-alt",save:"fa-save",cancel:"fa-ban"},form:{close:"fa-times",prev:"fa-caret-left",next:"fa-caret-right",save:"fa-save",undo:"fa-undo",del:"fa-trash-alt",cancel:"fa-ban",resizableLtr:"fa-rss fa-lg fa-rotate-270"},search:{search:"fa-search",reset:"fa-undo",query:"fa-comments"},subgrid:{common:"fa-fw",plus:"fa-plus",minus:"fa-minus",openLtr:"fa-reply fa-rotate-180",openRtl:"fa-share fa-rotate-180"},grouping:{common:"fa-fw",plus:"fa-plus-square",minus:"fa-minus-square"},treeGrid:{common:"fa-fw",minus:"fa-lg fa-sort-down",leaf:"fa-dot-circle",plusLtr:"fa-lg fa-caret-right",plusRtl:"fa-lg fa-caret-left"},checkbox:{ignoreParents:!0,checkedClasses:"fa-check-square",checked:"far fa-check-square fa-lg",unchecked:"far fa-square fa-lg"}},fontAwesomeBrands:{baseIconSet:"fontAwesome5",common:"fab"},fontAwesomeLight:{baseIconSet:"fontAwesome5",common:"fal"},fontAwesomeRegular:{baseIconSet:"fontAwesome5",common:"far"},fontAwesomeSolid:{baseIconSet:"fontAwesome5",common:"fas"},fontAwesomeSVG:{baseIconSet:"fontAwesome5",common:"fas"},glyph:{common:"glyphicon",pager:{common:"",first:"glyphicon-step-backward",prev:"glyphicon-backward",next:"glyphicon-forward",last:"glyphicon-step-forward"},sort:{common:"",asc:"glyphicon-triangle-top",desc:"glyphicon-triangle-bottom"},gridMinimize:{visible:"glyphicon-circle-arrow-up",hidden:"glyphicon-circle-arrow-down"},nav:{common:"",edit:"glyphicon-edit",add:"glyphicon-plus",del:"glyphicon-trash",search:"glyphicon-search",refresh:"glyphicon-refresh",view:"glyphicon-file",save:"glyphicon-save",cancel:"glyphicon-ban-circle",newbutton:"glyphicon-new-window"},actions:{common:"",edit:"glyphicon-edit",del:"glyphicon-trash",save:"glyphicon-save",cancel:"glyphicon-ban-circle"},form:{close:"glyphicon-remove-circle",prev:"glyphicon-step-backward",next:"glyphicon-step-forward",save:"glyphicon-save",undo:"glyphicon-repeat",del:"glyphicon-trash",cancel:"glyphicon-ban-circle",resizableLtr:"glyphicon-import"},search:{search:"glyphicon-search",reset:"glyphicon-repeat",query:"glyphicon-cog"},subgrid:{common:"",plus:"glyphicon-zoom-in",minus:"glyphicon-zoom-out",openLtr:"glyphicon-indent-left",openRtl:"glyphicon-indent-left"},grouping:{common:"",plus:"glyphicon-expand",minus:"glyphicon-collapse-down"},treeGrid:{common:"",minus:"glyphicon-triangle-bottom",leaf:"glyphicon-record",plusLtr:"glyphicon-triangle-right",plusRtl:"glyphicon-triangle-left"},checkbox:{checkedClasses:"glyphicon-check",checked:"glyphicon-check",unchecked:"glyphicon-unchecked"}}},guiStyles:{jQueryUI:{gBox:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all",gView:"",overlay:"ui-widget-overlay",loading:"ui-state-default ui-state-active",hDiv:"ui-state-default ui-corner-top",hTable:"",colHeaders:"ui-state-default",states:{select:"ui-state-highlight",disabled:"ui-state-disabled ui-jqgrid-disablePointerEvents",hover:"ui-state-hover",error:"ui-state-error",active:"ui-state-active",textOfClickable:"ui-state-default"},dialog:{header:"ui-widget-header ui-dialog-titlebar ui-corner-all ui-helper-clearfix",window:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all ui-front",document:"",subdocument:"",body:"",footer:"",content:"ui-widget-content",hr:"ui-widget-content",closeButton:"ui-corner-all",fmButton:"ui-state-default",dataField:"ui-widget-content ui-corner-all",viewCellLabel:"ui-widget-content",viewLabel:"",viewCellData:"ui-widget-content",viewData:"",leftCorner:"ui-corner-left",rightCorner:"ui-corner-right",defaultCorner:"ui-corner-all"},filterToolbar:{dataField:"ui-widget-content"},subgrid:{thSubgrid:"ui-state-default",rowSubTable:"ui-widget-content",row:"ui-widget-content",tdStart:"",tdWithIcon:"ui-widget-content",buttonDiv:"",button:"",tdData:"ui-widget-content",legacyTable:""},grid:"",gridRow:"ui-widget-content",rowNum:"ui-state-default",gridFooter:"",rowFooter:"ui-widget-content",gridTitle:"ui-widget-header ui-corner-top",gridError:"ui-state-error",gridErrorText:"",titleButton:"ui-corner-all",toolbarUpper:"ui-state-default",toolbarBottom:"ui-state-default",actionsDiv:"ui-widget-content",actionsButton:"ui-corner-all",pager:{pager:"ui-state-default",pagerButton:"ui-corner-all",pagerInput:"ui-widget-content",pagerSelect:"ui-widget-content"},navButton:"ui-corner-all",searchDialog:{operator:"ui-corner-all",label:"ui-corner-all",elem:"ui-corner-all",operationGroup:"",addRuleButton:"ui-corner-all",deleteRuleButton:"ui-corner-all",operationSelect:"ui-corner-all",addGroupButton:"ui-corner-all",deleteGroupButton:"ui-corner-all"},searchToolbar:{menu:"ui-menu-jqueryui ui-menu ui-widget ui-widget-content ui-corner-all",menuItem:"ui-menu-item",menuItemButton:"ui-corner-all",operButton:"ui-corner-all",clearButton:"ui-corner-all"},top:"ui-corner-top",bottom:"ui-corner-bottom",resizer:"ui-widget-header"},bootstrap:{gBox:"ui-jqgrid-bootstrap",gView:"panel-info",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-condensed table-bordered",colHeaders:"",states:{select:"success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"hidden",closeButton:"btn btn-xs btn-default",fmButton:"btn btn-default",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-default",actionsDiv:"",actionsButton:"btn btn-xs btn-default",toolbarUpper:"",toolbarBottom:"",pager:{pager:"panel-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-default",deleteRuleButton:"btn btn-xs btn-default",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-default",deleteGroupButton:"btn btn-xs btn-default"},searchToolbar:{menu:"dropdown-menu",menuItem:"",menuItemButton:"ui-corner-all",operButton:"btn btn-xs btn-default",clearButton:"btn btn-xs btn-default"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"},bootstrapPrimary:{baseGuiStyle:"bootstrap",dialog:{closeButton:"btn btn-xs close",fmButton:"btn btn-primary"},searchDialog:{addRuleButton:"btn btn-xs btn-primary",deleteRuleButton:"btn btn-xs btn-primary",addGroupButton:"btn btn-xs btn-primary",deleteGroupButton:"btn btn-xs btn-primary"}},bootstrap4:{gBox:"ui-jqgrid-bootstrap",gView:"card",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-sm table-bordered",colHeaders:"",states:{select:"table-success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",hoverTh:"table-active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"d-none",closeButton:"btn btn-xs btn-outline-primary",fmButton:"btn btn-outline-secondary",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-outline-primary",actionsDiv:"",actionsButton:"btn btn-xs btn-outline-secondary",toolbarUpper:"",toolbarBottom:"",pager:{pager:"card-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-default",deleteRuleButton:"btn btn-xs btn-default",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-default",deleteGroupButton:"btn btn-xs btn-default"},searchToolbar:{menu:"dropdown-menu",menuItem:"",menuItemButton:"dropdown-item",operButton:"btn btn-xs btn-outline-secondary",clearButton:"btn btn-xs btn-outline-secondary"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"}},htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/").replace(/&#39;/g,"'").replace(/&#47;/g,"/").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#47;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldEncodePostedData:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldDecodePostedData:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},clearArray:function(e){for(;0<e.length;)e.pop()},format:function(e){var t=$.makeArray(arguments).slice(1);return null==e&&(e=""),e.replace(/\{(\d+)\}/g,(function(e,i){return t[i]}))},template:function(e){var t,i=$.makeArray(arguments).slice(1),n=i.length;return null==e&&(e=""),e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((\.*?)?\))?)?\}/g,(function(e,o){var r,s;if(!isNaN(parseInt(o,10)))return i[parseInt(o,10)];for(t=0;t<n;t++)if($.isArray(i[t]))for(s=(r=i[t]).length;s--;)if(o===r[s].nm)return r[s].v}))},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var e,t=-1;return"Microsoft Internet Explorer"===navigator.appName?null!=(e=/(MSIE) ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent))&&3===e.length&&(t=parseFloat(e[2]||-1)):"Netscape"===navigator.appName&&null!=(e=/rv:([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent))&&2===e.length&&(t=parseFloat(e[1]||-1)),t},fixMaxHeightOfDiv:function(e){return"Microsoft Internet Explorer"===navigator.appName?Math.min(e,1533917):null!=/(Firefox)/.exec(navigator.userAgent)?Math.min(e,17895696):e},getRelativeRect:function(e){var t,i,n=e instanceof $&&0<e.length?e[0]:e,o=$(n).outerHeight(),r=$(this).closest(".ui-jqgrid")[0];return r?(t=null!=n.getBoundingClientRect?n.getBoundingClientRect():$(n).offset(),i=null!=r.getBoundingClientRect?r.getBoundingClientRect():$(r).offset(),{top:t.top+o-i.top,left:t.left-i.left}):{top:0,left:0}},getCellIndex:function(e){var t=$(e);return t.is("tr")||null==(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0])?-1:jgrid.msie?$.inArray(t,t.parentNode.cells):t.cellIndex},stripHtml:function(e){return(e=String(e))?(e=e.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,""))&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/"/g,"'"):"":e},stripPref:function(e,t){var i=$.type(e);return"string"!==i&&"number"!==i||(t=""!==(e=String(e))?String(t).replace(String(e),""):t),t},getRes:function(e,t){var i,n=t.split("."),o=n.length;if(null!=e){for(i=0;i<o;i++){if(!n[i])return null;if(void 0===(e=e[n[i]]))break;if("string"==typeof e)return e}return e}},parseDate:function(e,t,i,n){var o,r,s,a=0,l=0,c="string"==typeof t?t.match(/^\/Date\((([\-+])?[0-9]+)(([\-+])([0-9]{2})([0-9]{2}))?\)\/$/):null,d=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},u={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},h=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t};if(void 0===(n=function(e,t){var i,n,o=["AmPm","dayNames","masks","monthNames","userLocalTime","parseRe","S","srcformat"],r=t||{},s=(jgrid.formatter||{}).date||{},a=((locales[(e||$.jgrid.defaults).locale]||{}).formatter||{}).date,l=o.length,c={};for(i=0;i<l;i++)void 0!==r[n=o[i]]?c[n]=r[n]:void 0!==s[n]?c[n]=s[n]:void 0!==a[n]&&(c[n]=a[n]);return c}(this.p,n)).parseRe&&(n.parseRe=/[#%\\\/:_;.,\t\s\-]/),n.masks.hasOwnProperty(e)&&(e=n.masks[e]),t&&null!=t)if(isNaN(t)||"u"!==String(e).toLowerCase())if(isNaN(t)||"u1000"!==String(e).toLowerCase())if(t.constructor===Date)a=t;else if(null!==c)a=new Date(parseInt(c[1],10)),c[3]&&(l=60*Number(c[5])+Number(c[6]),l*="-"===c[4]?1:-1,l-=a.getTimezoneOffset(),a.setTime(Number(Number(a)+60*l*1e3)));else{for("ISO8601Long"===n.srcformat&&"Z"===t.charAt(t.length-1)&&(l-=(new Date).getTimezoneOffset()),t=String(t).replace(/\T/g,"#").replace(/\t/,"%").split(n.parseRe),e=e.replace(/\T/g,"#").replace(/\t/,"%").split(n.parseRe),r=0,s=Math.min(e.length,t.length);r<s;r++){switch(e[r]){case"M":-1!==(o=$.inArray(t[r],n.monthNames))&&o<12&&(t[r]=o+1,u.m=t[r]);break;case"F":-1!==(o=$.inArray(t[r],n.monthNames,12))&&11<o&&(t[r]=o+1-12,u.m=t[r]);break;case"n":u.m=parseInt(t[r],10);break;case"j":u.d=parseInt(t[r],10);break;case"g":u.h=parseInt(t[r],10);break;case"a":-1!==(o=$.inArray(t[r],n.AmPm))&&o<2&&t[r]===n.AmPm[o]&&(t[r]=o,u.h=h(t[r],u.h));break;case"A":-1!==(o=$.inArray(t[r],n.AmPm))&&1<o&&t[r]===n.AmPm[o]&&(t[r]=o-2,u.h=h(t[r],u.h))}void 0===t[r]||""===t[r]||isNaN(t[r])||(u[e[r].toLowerCase()]=parseInt(t[r],10))}if(u.f&&(u.m=u.f),0===u.m&&0===u.y&&0===u.d)return"&#160;";u.m=parseInt(u.m,10)-1;var p=u.y;70<=p&&p<=99?u.y=1900+u.y:0<=p&&p<=69&&(u.y=2e3+u.y),a=new Date(u.y,u.m,u.d,u.h,u.i,u.s,u.u),0!==l&&a.setTime(Number(Number(a)+60*l*1e3))}else a=new Date(parseFloat(t));else a=new Date(1e3*parseFloat(t));else a=new Date(u.y,u.m,u.d,u.h,u.i,u.s,u.u);if(n.userLocalTime&&0===l&&0!=(l-=(new Date).getTimezoneOffset())&&a.setTime(Number(Number(a)+60*l*1e3)),void 0===i)return a;if(n.masks.hasOwnProperty(i)?i=n.masks[i]:i||(i="Y-m-d"),"u1000"===i.toLowerCase())return a.getTime();var f=a.getHours(),m=a.getMinutes(),g=a.getDate(),v=a.getMonth()+1,b=a.getTimezoneOffset(),y=a.getSeconds(),w=a.getMilliseconds(),x=a.getDay(),C=a.getFullYear(),k=(x+6)%7+1,S=(new Date(C,v-1,g)-new Date(C,0,1))/864e5,_=k<5?Math.floor((S+k-1)/7)+1:Math.floor((S+k-1)/7)||((new Date(C-1,0,1).getDay()+6)%7<4?53:52),D={d:d(g),D:n.dayNames[x],j:g,l:n.dayNames[x+7],N:k,S:n.S(g),w:x,z:S,W:_,F:n.monthNames[v-1+12],m:d(v),M:n.monthNames[v-1],n:v,t:"?",L:"?",o:"?",Y:C,y:String(C).substring(2),a:f<12?n.AmPm[0]:n.AmPm[1],A:f<12?n.AmPm[2]:n.AmPm[3],B:"?",g:f%12||12,G:f,h:d(f%12||12),H:d(f),i:d(m),s:d(y),u:w,e:"?",I:"?",O:(0<b?"-":"+")+d(100*Math.floor(Math.abs(b)/60)+Math.abs(b)%60,4),P:"?",T:(String(a).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[\-+]\d{4})?)\b/g)||[""]).pop().replace(/[^\-+\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(a/1e3)};return i.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,(function(e){return D.hasOwnProperty(e)?D[e]:e.substring(1)}))},parseDateToNumber:function(e,t){var i=jgrid.parseDate.call(this,e,t);return i instanceof Date?i.getTime():0},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},getGridComponentId:function(e){if(null==this.p||!this.p.id)return"";var t=this.p.id;switch(e){case COMPONENT_NAMES.GRID:return t;case COMPONENT_NAMES.GRID_BOX_DIV:return"gbox_"+t;case COMPONENT_NAMES.GRID_VIEW_DIV:return"gview_"+t;case COMPONENT_NAMES.DIALOG_ALERT_DIV:return"alertmod_"+t;case COMPONENT_NAMES.COLUMN_RESIZER_DIV:return"rs_m"+t;case COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX:return"cb_"+t;case COMPONENT_NAMES.SEARCH_OPERATION_MENU_UL:return"sopt_menu";default:return""}},getGridComponentIdSelector:function(e){var t=jgrid.getGridComponentId.call(this,e);return t?"#"+jgrid.jqID(t):""},isHTMLElement:function(e){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?e instanceof HTMLElement:null!=e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},getGridComponent:function(e,t){var i;if(t instanceof $||0<t.length)i=t[0];else{if(!jgrid.isHTMLElement(t))return $();t=$(i=t)}switch(e){case COMPONENT_NAMES.BODY_TABLE:return t.hasClass("ui-jqgrid-bdiv")?t.children("div").children(".ui-jqgrid-btable"):$();case COMPONENT_NAMES.HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.children("div").children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.children("div").children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.FROZEN_HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FROZEN_FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.BODY_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=i.grid?$(i.grid.bDiv):$();case COMPONENT_NAMES.HEADER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=i.grid?$(i.grid.hDiv):$();case COMPONENT_NAMES.FOOTER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=i.grid?$(i.grid.sDiv):$();default:return $()}},fixScrollOffsetAndhBoxPadding:function(){var e=this.grid;if(e){var t=this.p,i=e.bDiv,n=function(e){var n=$(e).children("div").first();n.css(n.hasClass("ui-jqgrid-hbox-rtl")?"padding-left":"padding-right",t.scrollOffset),e.scrollLeft=i.scrollLeft};0<$(i).width()&&(t.scrollOffset=i.offsetWidth-i.clientWidth,n(e.hDiv),e.sDiv&&n(e.sDiv))}},mergeCssClasses:function(){var e,t,i,n,o=$.makeArray(arguments),r={},s=[];for(e=0;e<o.length;e++)for(i=String(o[e]).replace(/[\t\r\n\f]/g," ").split(" "),t=0;t<i.length;t++)""===(n=i[t])||r.hasOwnProperty(n)||(r[n]=!0,s.push(n));return s.join(" ")},hasOneFromClasses:function(e,t){var i,n=$(e),o=String(t).replace(/[\t\r\n\f]/g," ").split(" "),r=o.length;for(i=0;i<r;i++)if(n.hasClass(o[i]))return!0;return!1},hasAllClasses:function(e,t){var i,n=$(e),o=String(t).replace(/[\t\r\n\f]/g," ").split(" "),r=o.length;for(i=0;i<r;i++)if(!n.hasClass(o[i]))return!1;return!0},detectRowEditing:function(e){return this.grid&&null!=this.p&&null!=this.p.editingInfo&&null!=this.p.editingInfo[e]?this.p.editingInfo[e]:null},getCell:function(e,t){var i,n,o=this.grid,r=this.p;return o&&r?((e instanceof $||0<e.length)&&(e=e[0]),("object"==typeof HTMLTableRowElement||"function"==typeof HTMLTableRowElement)&&e instanceof HTMLTableRowElement&&null!=e.cells?(n=$(e.cells[t]),null!=(i=o.fbRows)&&t<i[0].cells.length?n.add(i[e.rowIndex].cells[t]):n):$()):$()},getDataFieldOfCell:function(e,t){var i,n=this.p,o=jgrid.getCell.call(this,e,t);return n.treeGrid&&0<o.children("div.tree-wrap").length&&(o=o.children("span.cell-wrapperleaf,span.cell-wrapper")),n.colModel[t].autoResizable?0===(i=o.children("span."+n.autoResizing.wrapperClassName)).length&&(i=o):i=o,i},enumEditableCells:function(e,t,i){var n=this,o=n.grid,r=n.rows,s=n.p;if(null==o||null==r||null==s||null==e||null==e.rowIndex||!e.id||!$.isFunction(i))return null;var a,l,c,d,u,h,p,f,m,g,v,b=s.colModel,y=b.length,w=e.rowIndex,x=o.fbRows,C=null!=x,k=C?x[w]:null;for(C&&(e=n.rows[w]),a=0;a<y&&("cb"===(c=(l=b[a]).name)||"subgrid"===c||"rn"===c||(C&&!l.frozen&&(C=!1),m=(C?k:e).cells[a],(g=$(m)).hasClass("not-editable-cell")||(v=g.width(),!0===s.treeGrid&&c===s.ExpandColumn?(v-=g.children("div.tree-wrap").outerWidth(),g=g.children("span.cell-wrapperleaf,span.cell-wrapper").first()):v=0,u=stripPref(s.idPrefix,e.id),d={rowid:e.id,id:u,iCol:a,iRow:w,cmName:c,cm:l,mode:t,td:m,tr:e,trFrozen:k,dataElement:g[0],dataWidth:v},"local"===s.datatype&&(p=null!=(h=s._index[u])?s.data[h]:void 0)&&(d.item=p),l.edittype||(l.edittype="text"),((s.editingInfo[e.id]||{}).editable||{}).hasOwnProperty(c)?f=s.editingInfo[e.id].editable[c]:(f=l.editable,f=$.isFunction(f)?f.call(n,d):f),!0!==f&&"hidden"!==f||(d.editable=f,!1!==i.call(n,d)))));a++);},getEditedValue:function(e,t,i,n){var o,r,s,a,l,c,d=t.formatoptions||{},u=t.editoptions||{},h=u.custom_value,p="[name="+jgrid.jqID(t.name)+"]",f=this,m=$(f);if("hidden"===n||"readonly"===n)return $(f).jqGrid("getCell",e.closest("tr.jqgrow").attr("id"),t.name);switch(t.edittype){case"checkbox":r=["Yes","No"],"string"==typeof u.value&&(r=u.value.split(":")),o=e.find("input[type=checkbox]").is(":checked")?r[0]:r[1];break;case"text":case"password":case"textarea":case"button":o=(a=e.find("input"+p+",textarea"+p)).val(),"date"===a.prop("type")&&3===String(o).split("-").length&&(s=d.newformat||m.jqGrid("getGridRes","formatter.date.newformat"),o=jgrid.parseDate.call(f,"Y-m-d",o,s));break;case"select":a=e.find("select option:selected"),u.multiple?(l=[],c=[],a.each((function(){l.push($(this).val()),c.push($(this).text())})),o=l.join(","),i.text=c.join(",")):(o=a.val(),i.text=a.text()),i.value=o;break;case"custom":try{if(!$.isFunction(h))throw"e1";if(void 0===(o=h.call(f,e.find(".customelement"),"get")))throw"e2"}catch(e){var g,v=jgrid.info_dialog,b=function(e){m.jqGrid("getGridRes",e)};switch(String(e)){case"e1":g="function 'custom_value' "+b("edit.msg.nodefined");break;case"e2":break;default:g=e.message}v&&$.isFunction(v)?v.call(f,b("errors.errcap"),g,b("edit.bClose")):($.isFunction(defaults.fatalError)?defaults.fatalError:alert)(g)}break;default:o=e.find("*"+p).text()}return o},guid:1,uidPref:"jqg",randId:function(e){return(e||jgrid.uidPref)+jgrid.guid++},getAccessor:function(e,t){var i,n,o,r=[];if($.isFunction(t))return t(e);if(null!=e&&e.hasOwnProperty(t))return e[t];try{if("string"==typeof t&&(r=t.split(".")),o=r.length)for(i=e;null!=i&&o--;)n=r.shift(),i=i.hasOwnProperty(n)?i[n]:void 0}catch(e){}return i},getXmlData:function(e,t,i){var n="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;if($.isFunction(t))return t(e);if(n&&n[2])return n[1]?$(n[1],e).attr(n[2]):$(e).attr(n[2]);if(void 0!==e){var o=$(e).find(t);return i?o:0<o.length?$(o).text():void 0}},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div></div></div>"),t=e.appendTo("body").find("td").width();return e.remove(),.1<Math.abs(t-5)},isCellClassHidden:function(e){if(null==e||""===e)return!1;var t=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;' class='"+(e||"")+"'></td></tr></table></div></div></div>"),i=t.appendTo("body").find("td").is(":hidden");return t.remove(),i},cell_width:!0,ajaxOptions:{},from:function(source){var context=this,QueryObject=function(d,q){var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],toString=Object.prototype.toString;if("object"!=typeof d||!d.push)throw"data provides is not an array";if(0<d.length&&"object"!=typeof d[0])throw"data items are not objects";return this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+" || '')"),_trim&&t.push(")"),_usecase||t.push(".toUpperCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/"/g,'\\"'),_usecase?e:e.toUpperCase()},this._funcLoop=function(e){var t=[];return $.each(_data,(function(i,n){t.push(e(n))})),t},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;t<_orDepth;t++)_query+="(";_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null===_lastField?_lastCommand(e):_lastCommand(_lastField,e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,i){return void 0===i&&(i=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:("[object Date]"===toString.call(e)&&"[object Date]"===toString.call(t)||_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),e<t?-i:t<e?i:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var i=_sorting[t].by,n=_sorting[t].dir,o=_sorting[t].type,r=_sorting[t].datefmt,s=_sorting[t].sfunc;if(t===_sorting.length-1)return self._getOrder(e,i,n,o,r,s);t++;var a,l,c,d=self._getGroup(e,i,n,o,r),u=[];for(a=0;a<d.length;a++)for(c=self._doSort(d[a].items,t),l=0;l<c.length;l++)u.push(c[l]);return u},this._getOrder=function(e,t,i,n,o,r){var s,a,l,c=[],d=[],u="a"===i?1:-1;void 0===n&&(n="text"),l="float"===n||"number"===n||"currency"===n||"numeric"===n?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?Number.NEGATIVE_INFINITY:t}:"int"===n||"integer"===n?function(e){return null!=e?parseFloat(String(e).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===n||"datetime"===n?function(e){return jgrid.parseDateToNumber.call(context,o,e)}:$.isFunction(n)?n:function(e){return e=null!=e?$.trim(String(e)):"",_usecase?e:e.toUpperCase()},$.each(e,(function(e,i){void 0===(a=""!==t?jgrid.getAccessor(i,t):i)&&(a=""),a=l.call(context,a,i),d.push({vSort:a,data:i,index:e})})),$.isFunction(r)?d.sort((function(e,t){return r.call(context,e.vSort,t.vSort,u,e.data,t.data)})):d.sort((function(e,t){return self._compare(e.vSort,t.vSort,u)}));for(var h=0,p=e.length;h<p;)s=d[h].index,c.push(e[s]),h++;return c},this._getGroup=function(e,t,i,n,o){var r=[],s=null,a=null;return $.each(self._getOrder(e,t,i,n,o),(function(e,i){var n=jgrid.getAccessor(i,t);null==n&&(n=""),self._equals(a,n)||(a=n,null!==s&&r.push(s),s=self._group(t,n)),s.items.push(i)})),null!==s&&r.push(s),r},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match||($.each(_data,(function(){(function(){var localMath='(function (context) {\nvar yesObject = { 1: 1, x: 1, "true": 1, yes: 1, y: 1, on: 1 },noObject = { 0: 1, "false": 1, no: 1, n: 1, off: 1 },normilizeBoolean = function (v) {\nif (typeof v === "string") {\nif (noObject[v.toLowerCase()]) { return false; } else if (yesObject[v.toLowerCase()]) { return true; } }\nreturn !!v;\n},intFunc = function (jQuery, self) { return '+match+"; }; return intFunc.call(context.item, context.jQuery, context.context); }(this))";eval(localMath)&&results.push(this.item)}).call({item:this,jQuery:$,context})})),_data=results),self},this.data=function(){return _data},this.select=function(e){if(self.execute(),$.isFunction(e)){var t=[];return $.each(_data,(function(i,n){t.push(e(n))})),t}return self._hasData()?(self._performSort(),_data):[]},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),0<_data.length)},this.andNot=function(e,t,i){return _negate=!_negate,self.and(e,t,i)},this.orNot=function(e,t,i){return _negate=!_negate,self.or(e,t,i)},this.not=function(e,t,i){return self.andNot(e,t,i)},this.and=function(e,t,i){return _queuedOperator=" && ",void 0===e?self:self._repeatCommand(e,t,i)},this.or=function(e,t,i){return _queuedOperator=" || ",void 0===e?self:self._repeatCommand(e,t,i)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,i,n,o){var r=t;void 0===i&&(i=null);var s=i,a=void 0===o.stype?"text":o.stype;if(null!==i)switch(a){case"int":case"integer":s=String(s).replace(_stripNum,""),s=isNaN(Number(s))||""===s?"0":Number(s),r="parseInt("+r+"||0,10)",s=String(parseInt(s,10));break;case"boolean":r="normilizeBoolean("+r+")",s="normilizeBoolean("+String(s)+")";break;case"float":case"number":case"currency":case"numeric":s=String(s).replace(_stripNum,""),s=isNaN(Number(s))||""===s?"0":Number(s),r="parseFloat("+r+"||0)",s=String(s);break;case"date":case"datetime":s=String(jgrid.parseDateToNumber.call(context,o.newfmt||"Y-m-d",s)),r='jQuery.jgrid.parseDateToNumber.call(self,"'+o.srcfmt+'",'+r+")";break;default:r=self._getStr(r),s=self._getStr('"'+self._toStr(s)+'"')}return self._append(r+" "+n+" "+s),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,i){return self._compareValues(self.equals,e,t,"==",i)},this.notEquals=function(e,t,i){return self._compareValues(self.equals,e,t,"!==",i)},this.isNull=function(e,t,i){return self._compareValues(self.equals,e,null,"===",i)},this.greater=function(e,t,i){return self._compareValues(self.greater,e,t,">",i)},this.less=function(e,t,i){return self._compareValues(self.less,e,t,"<",i)},this.greaterOrEquals=function(e,t,i){return self._compareValues(self.greaterOrEquals,e,t,">=",i)},this.lessOrEquals=function(e,t,i){return self._compareValues(self.lessOrEquals,e,t,"<=",i)},this.startsWith=function(e,t){var i=null==t?e:t,n=_trim?$.trim(i.toString()).length:i.toString().length;return self._append(self._getStr(e)+".substr(0,"+n+") == "+self._getStr('"'+self._toStr(t)+'"')),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var i=null==t?e:t,n=_trim?$.trim(i.toString()).length:i.toString().length;return self._append(self._getStr(e)+".substr("+self._getStr(e)+".length-"+n+","+n+') == "'+self._toStr(t)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return self._append(self._getStr(e)+'.indexOf("'+self._toStr(t)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,i,n){return self._hasData()?self._getGroup(_data,e,t,i,n):null},this.orderBy=function(e,t,i,n,o){return null==i&&(i="text"),null==n&&(n="Y-m-d"),null==o&&(o=!1),"desc"!==(t=null==t?"a":$.trim(t.toString().toLowerCase()))&&"descending"!==t||(t="d"),"asc"!==t&&"ascending"!==t||(t="a"),_sorting.push({by:e,dir:t,type:i,datefmt:n,sfunc:o}),self},this.inSet=function(e,t,i){var n=void 0===t?null:t,o=void 0===i.stype?"text":i.stype;return n=self._getStr('"'+self._toStr(n)+'"'),"text"!==o?self._compareValues(self.equals,e,t,"==",i):(self._append("jQuery.inArray("+self._getStr(e)+","+n+".split('"+(context.p.inFilterSeparator||",")+"')) >= 0"),self._setCommand(self.inSet,e),self._resetNegate(),self)},this.custom=function(e,t,i){return self._append("self.p.customSortOperations."+e+'.filter.call(self,{item:this,cmName:"'+t+'",iCol:self.p.iColByName["'+t+'"]>=0 ? self.p.iColByName["'+t+'"] : self.p.iPropByName["'+t+'"],isAddProp:self.p.iColByName["'+t+'"]<0,searchValue:"'+i+'"})'),self._setCommand(self.custom,t),self._resetNegate(),self},self};return new QueryObject(source,null)},serializeFeedback:function(e,t,i){var n,o=this;return o instanceof $&&0<o.length&&(o=o[0]),"string"==typeof i?i:"string"==typeof(n=$(o).triggerHandler(t,i))?n:(null!=n&&"object"==typeof n||(n=i),$.isFunction(e)?e.call(o,n):n)},fullBoolFeedback:function(e,t){var i=$.makeArray(arguments).slice(2),n=$(this).triggerHandler(t,i);if(n=!1!==n&&"stop"!==n,$.isFunction(e)){var o=e.apply(this,i);!1!==o&&"stop"!==o||(n=!1)}return n},feedback:function(e,t,i,n){var o=this;if(o instanceof $&&0<o.length&&(o=o[0]),null==e||"string"!=typeof n||n.length<2)return null;var r="on"===n.substring(0,2)?"jqGrid"+t+n.charAt(2).toUpperCase()+n.substring(3):"jqGrid"+t+n.charAt(0).toUpperCase()+n.substring(1),s=$.makeArray(arguments).slice(4),a=e[n+i];return s.unshift(r),s.unshift(a),jgrid.fullBoolFeedback.apply(o,s)},builderSortIcons:function(e){var t=this,i=t.p,n=$(t),o=n.jqGrid("getGuiStyles","states.disabled"),r=function(r){var s=i.colModel[e],a=null!=s&&$.isFunction(s.sortIconName)?s.sortIconName:i.sortIconName,l=$.isFunction(a)?a.call(t,{order:r,iCol:e,cm:s}):n.jqGrid("getIconRes","sort."+r);return jgrid.mergeCssClasses("ui-grid-ico-sort","ui-icon-"+r,"horizontal"===i.viewsortcols[1]?"ui-i-"+r:"",o,l,"ui-sort-"+i.direction)};return"<span class='s-ico"+(i.sortIconsBeforeText?" jqgrid-icons-first":"")+"' style='display:none'><span class='"+r("asc")+"'></span><span class='"+r("desc")+"'></span></span>"},builderFmButon:function(e,t,i,n,o){var r=this.p,s=$(this),a=function(e){return s.jqGrid("getGuiStyles","dialog."+e)};return null==r?"":"<a id='"+e+"' class='"+jgrid.mergeCssClasses("fm-button",a("fmButton"),a("right"===o?"rightCorner":"left"===o?"leftCorner":"defaultCorner"),"right"===n?"fm-button-icon-right":"left"===n?"fm-button-icon-left":"")+"' role='button' tabindex='0'>"+(i?"<span class='fm-button-icon "+(s.jqGrid("getIconRes",i)||i)+"'></span>":"")+(t?"<span class='fm-button-text'>"+t+"</span>":"")+"</a>"},convertOnSaveLocally:function(e,t,i,n,o,r){if(null==this.p)return e;if($.isFunction(t.convertOnSave))return t.convertOnSave.call(this,{newValue:e,cm:t,oldValue:i,id:n,item:o,iCol:r});if("boolean"!=typeof i&&"number"!=typeof i)return e;if("boolean"!=typeof i||"checkbox"!==t.edittype&&"checkbox"!==t.formatter)"number"!=typeof i||isNaN(e)||("number"===t.formatter||"currency"===t.formatter?e=parseFloat(e):"integer"===t.formatter&&(e=parseInt(e,10)));else{var s=String(e).toLowerCase(),a=null!=t.editoptions&&"string"==typeof t.editoptions.value?t.editoptions.value.split(":"):["yes","no"];0<=$.inArray(s,["1","true",a[0].toLowerCase()])?e=!0:0<=$.inArray(s,["0","false",a[1].toLowerCase()])&&(e=!1)}return e},parseDataToHtml:function(e,t,i,n,o,r,s){var a,l,c,d,u,h,p,f,m,g,v,b,y,w,x,C,k,S,_,D,T,j,O,I,E,R,P,A=this,N=A.p,F=$(A),M=!1,L=[],z=[],q=!0!==N.altRows||F.jqGrid("isBootstrapGuiStyle")?"":N.altclass,B=N.groupingView,H=!1,G=parseInt(N.rowNum,10),W=$.fn.jqGrid,U=!0===N.treeGrid&&-1<N.treeANode?A.rows[N.treeANode].rowIndex+1:A.rows.length,V=A.formatCol;for(U<=1&&(N.rowIndexes={}),("local"===N.datatype&&!N.deselectAfterSort||N.multiPageSelection)&&(M=!0),r&&(G*=r+1),a=0;a<Math.min(e,G);a++){for(u=t[a],h=i[a],p=null!=n?n[a]:h,c=((1===o?0:o)+a)%2==1?q:"",M?N.multiselect?(d=-1!==$.inArray(u,N.selarrrow))&&null===N.selrow&&(N.selrow=u):d=u===N.selrow:d=!1,f=L.length,L.push(""),l=0;l<N.colModel.length;l++)switch(m=N.colModel[l].name){case"rn":L.push((O=l,I=a,E=N.page,R=N.rowNum,P=(parseInt(E,10)-1)*parseInt(R,10)+1+I,"<td role='gridcell' class='"+W.getGuiStyles.call(F,"rowNum","jqgrid-rownum")+"' "+V(O,I,P,null,I,!0)+">"+P+"</td>"));break;case"cb":L.push((D=void 0,D="&nbsp;",T=!(T=void 0),j={rowid:C=u,iRow:S=a,iCol:k=l,data:h,checked:_=d},$.isFunction(N.hasMultiselectCheckBox)&&(T=N.hasMultiselectCheckBox.call(A,j)),T&&(D=$.isFunction(N.checkboxHtml)?N.checkboxHtml.call(A,j):"<input type='checkbox' id='jqg_"+N.id+"_"+C+"' class='cbox' name='jqg_"+N.id+"_"+C+"'"+(_?" checked='checked' aria-checked='true'":" aria-checked='false'")+"/>"),"<td role='gridcell' "+V(k,S,"",null,C,!0)+">"+D+"</td>"));break;case"subgrid":L.push(W.addSubGridCell.call(F,l,a+o,u,h));break;default:L.push((g=u,v=h[m],y=p,w=h,"<td role='gridcell' "+V(b=l,a+o,x=A.formatter(g,v,b,y,"add",w),y,g,w)+">"+x+"</td>"))}N.grouping&&(W.groupingPrepare&&!B._locgr&&W.groupingPrepare.call(F,h,a),H=$.isFunction(B.groupCollapse)?B.groupCollapse.call(A,{group:B.groups[B.groups.length-1],rowid:u,data:h}):B.groupCollapse),L[f]=A.constructTr(u,H,c,h,p,d),L.push("</tr>"),N.rowIndexes[u]=U,U++,N.grouping&&(z.push(L),L=[]),L.length>N.maxItemsToJoin&&(L=[L.join("")])}return N.grouping&&W.groupingRender&&(s&&(B._locgr=!0),L=[W.groupingRender.call(F,z,G)],jgrid.clearArray(z)),L},fillSelectOptions:function(e,t,i,n,o,r){var s,a,l,c,d,u,h,p,f=[],m=!1,g=function(e,t){if(0<t)return e};if(t){if("function"==typeof t&&(t=t()),"string"==typeof t)for(a=t.split(n),s=0;s<a.length;s++)2<(l=a[s].split(i)).length&&(l[1]=$.map(l,g).join(i)),f.push({value:l[0],innerHtml:l[1],selectValue:$.trim(l[0]),selectText:$.trim(l[1]),selected:!1}),""===l[0]&&(m=!0);else if("object"==typeof t)for(h in t)t.hasOwnProperty(h)&&f.push({value:h,innerHtml:t[h],selectValue:$.trim(h),selectText:$.trim(t[h]),selected:!1}),""===h&&(m=!0);if("string"==typeof r){for(p=o?$.map(r.split(","),(function(e){return $.trim(e)})):[$.trim(r)],r=$.trim(r),s=0;s<f.length;s++)d=f[s],o||d.selectValue!==r||(u=d.selected=!0),o&&-1<$.inArray(d.selectValue,p)&&(u=d.selected=!0);if(!u)for(s=0;s<f.length;s++)d=f[s],o||d.selectText!==r||(d.selected=!0),o&&-1<$.inArray(d.selectText,p)&&(d.selected=!0)}for(s=0;s<f.length;s++)d=f[s],(c=document.createElement("option")).value=d.value,c.innerHTML=d.innerHtml,d.selected&&(c.selected=!0),e.appendChild(c);return m}},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)}});var clearArray=jgrid.clearArray,jqID=jgrid.jqID,getGridComponentIdSelector=jgrid.getGridComponentIdSelector,getGridComponentId=jgrid.getGridComponentId,getGridComponent=jgrid.getGridComponent,stripPref=jgrid.stripPref,randId=jgrid.randId,getAccessor=jgrid.getAccessor,convertOnSaveLocally=jgrid.convertOnSaveLocally,stripHtml=jgrid.stripHtml,htmlEncode=jgrid.htmlEncode,htmlDecode=jgrid.htmlDecode,mergeCssClasses=jgrid.mergeCssClasses,hasOneFromClasses=jgrid.hasOneFromClasses,feedback=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)};$.fn.jqGrid=function(e){var t,i=$.fn.jqGrid;if("string"==typeof e){if(!(t=i[e]))throw"jqGrid - No such method: "+e;return t.apply(this,$.makeArray(arguments).slice(1))}return this.each((function(){if(!this.grid){var t,n,o=this,r=$(o),s=$.isFunction,a=$.isArray,l=$.extend,c=$.inArray,d=$.trim,u=$.each,h=i.setSelection,p=i.getGridRes,f=s(defaults.fatalError)?defaults.fatalError:alert,m=e.locale||defaults.locale||"en-US",g=null!=locales[m]&&"boolean"==typeof locales[m].isRTL&&locales[m].isRTL?"rtl":"ltr",v=e.iconSet||defaults.iconSet||("bootstrap"===(e.guiStyle||defaults.guiStyle)||"bootstrapPrimary"===(e.guiStyle||defaults.guiStyle)?"glyph":"jQueryUI"),b=e.guiStyle||defaults.guiStyle||"jQueryUI",y=function(e){return i.getIconRes.call(o,e)},w=function(e,t){return r.jqGrid("getGuiStyles",e,t)};null==e&&(e={datatype:"local"}),void 0!==e.datastr&&a(e.datastr)&&(n=e.datastr,e.datastr=[]),void 0!==e.data&&(t=e.data,e.data=[]),null!=jgrid.formatter&&null!=jgrid.formatter.unused||f("CRITICAL ERROR!!!\n\n\nOne uses probably\n\n\t$.extend($.jgrid.defaults, {...});\n\nto set default settings of jqGrid instead of the usage the DEEP version of jQuery.extend (with true as the first parameter):\n\n\t$.extend(true, $.jgrid.defaults, {...});\n\nOne other possible reason:\n\nyou included some OLD version of language file (grid.locale-en.js for example) AFTER jquery.jqGrid.min.js. For example all language files of jqGrid 4.7.0 uses non-deep call of jQuery.extend.\n\n\nSome options of jqGrid could still work, but another one will be broken."),void 0===e.datatype&&void 0!==e.dataType&&(e.datatype=e.dataType,delete e.dataType),void 0===e.mtype&&void 0!==e.type&&(e.mtype=e.type,delete e.type),o.p={iconSet:v};var x=l(!0,{height:"auto",page:1,rowNum:20,maxRowNum:1e4,pagingDuringEditing:"prevent",sortingDuringEditing:"prevent",reloadingDuringEditing:"prevent",autoresizeOnLoad:!1,columnsToReResizing:[],autoResizing:{wrapperClassName:"ui-jqgrid-cell-wrapper",minColWidth:33,maxColWidth:300,adjustGridWidth:!0,compact:!1,fixWidthOnShrink:!1},doubleClickSensitivity:250,minResizingWidth:10,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],additionalProperties:[],arrayReader:[],rowList:[],colNames:[],sortorder:"asc",threeStateSort:!1,sortname:"",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],editingInfo:{},shrinkToFit:!0,xmlReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,singleSelectClickMode:"toggle",selectOnContextMenu:!0,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:function(e,t,i){if("abort"!==t&&"abort"!==i){var n=e.getResponseHeader("Content-Type"),o=e.responseText||"",s=function(e){try{var t,i=$.parseJSON(e),n=[];for(t in i)i.hasOwnProperty(t)&&"StackTrace"!==t&&n.push(t+": "+i[t]);e=n.join("<br />")}catch(e){}return e};"text/html"===n?o=function(e){var t,i,n,o=document.createElement("div");for(n=/<body[^>]*>([\s\S]*)<\/body\s*>/gim.exec(e),o.innerHTML=null!=n&&2===n.length?n[1]:e,i=(t=o.getElementsByTagName("script")).length;i--;)t[i].parentNode.removeChild(t[i]);e=o.innerHTML;try{""===$.trim($(e).text())&&(e="")}catch(e){}return e}(o):("application/json"===n||"text/plain"===n)&&(o=s(o)),500!==e.status&&0!==e.status&&(o=(t||i)+(i&&i!==t?": "+i:"")+" "+e.status+" "+e.statusText+(""!==o?"<hr />":"")+o),r.jqGrid("displayErrorMessage",o||t||i)}},loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,forceClientSorting:!1,multiselect:!1,multikey:!1,editurl:"clientArray",search:!1,caption:"",hidegrid:!0,hiddengrid:!1,useUnformattedDataForCellAttr:!0,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",filters:"filters",nd:"nd",id:"id",idold:"idOld",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,iCol:-1,iRow:-1,nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,resetPageAfterSort:!0,multiPageSelection:!1,selectAllMode:"filtered",scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:16,multiselectWidth:16,multiselectPosition:"left",gridview:!0,rownumWidth:25,rownumbers:!1,pagerpos:"center",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!0,autoEncodeOnEdit:!1,remapColumns:[],cmNamesInputOrder:[],ajaxGridOptions:{},direction:g,toppager:!1,headertitles:!1,scrollTimeout:40,maxItemsToJoin:32768,data:[],lastSelectedData:[],quickEmpty:"quickest",_index:{},indexByColumnData:{},dataIndexById:{},iColByName:{},iPropByName:{},reservedColumnNames:["rn","cb","subgrid"],grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,useDefaultValuesOnGrouping:!0,summary:[],displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1,commonIconClass:y("grouping.common"),plusicon:y("grouping.plus"),minusicon:y("grouping.minus")},ignoreCase:!0,cmTemplate:{},idPrefix:"",iconSet:v,guiStyle:b,locale:m,multiSort:!1,showSortOrder:!0,sortOrderPosition:"afterSortIcons",multiSortOrder:"lastClickedFirstSorted",maxSortColumns:3,treeIcons:{commonIconClass:y("treeGrid.common"),plusLtr:y("treeGrid.plusLtr"),plusRtl:y("treeGrid.plusRtl"),minus:y("treeGrid.minus"),leaf:y("treeGrid.leaf")}},defaults,{navOptions:l(!0,{commonIconClass:y("nav.common"),editicon:y("nav.edit"),addicon:y("nav.add"),delicon:y("nav.del"),searchicon:y("nav.search"),refreshicon:y("nav.refresh"),viewicon:y("nav.view"),saveicon:y("nav.save"),cancelicon:y("nav.cancel"),buttonicon:y("nav.newbutton")},jgrid.nav||{}),actionsNavOptions:l(!0,{commonIconClass:y("actions.common"),editicon:y("actions.edit"),delicon:y("actions.del"),saveicon:y("actions.save"),cancelicon:y("actions.cancel")},jgrid.actionsNav||{}),formEditing:l(!0,{commonIconClass:y("form.common"),prevIcon:y("form.prev"),nextIcon:y("form.next"),saveicon:[!0,"left",y("form.save")],closeicon:[!0,"left",y("form.undo")]},jgrid.edit||{}),searching:l(!0,{commonIconClass:y("search.common"),findDialogIcon:y("search.search"),resetDialogIcon:y("search.reset"),queryDialogIcon:y("search.query")},jgrid.search||{}),formViewing:l(!0,{commonIconClass:y("form.common"),prevIcon:y("form.prev"),nextIcon:y("form.next"),closeicon:[!0,"left",y("form.cancel")]},jgrid.view||{}),formDeleting:l(!0,{commonIconClass:y("form.common"),delicon:[!0,"left",y("form.del")],cancelicon:[!0,"left",y("form.cancel")]},jgrid.del||{})},e||{}),C=function(e){return p.call(r,e)},k=function(e){var t=jgrid.getRes(x,e);return void 0!==t?t:p.call(r,"defaults."+e)};if(x.recordpos=x.recordpos||("rtl"===x.direction?"left":"right"),x.autoResizing.widthOfVisiblePartOfSortIcon=void 0!==x.autoResizing.widthOfVisiblePartOfSortIcon?x.autoResizing.widthOfVisiblePartOfSortIcon:"fontAwesome"===x.iconSet?13:12,x.datatype=void 0!==x.datatype?x.datatype:void 0!==t||null==x.url?"local":null!=x.jsonReader&&"object"==typeof x.jsonReader?"json":"xml",x.jsonReader=x.jsonReader||{},x.url=x.url||"",x.cellsubmit=void 0!==x.cellsubmit?x.cellsubmit:void 0===x.cellurl?"clientArray":"remote",x.gridview=void 0!==x.gridview?x.gridview:null==x.afterInsertRow,void 0!==t&&(x.data=t,e.data=t),void 0!==n&&(x.datastr=n,e.datastr=n),"TABLE"===o.tagName.toUpperCase())if(""===o.id&&r.attr("id",randId()),void 0!==document.documentMode&&document.documentMode<=5)f("Grid can not be used in this ('quirks') mode!");else{r.empty().attr("tabindex","0"),(o.p=x).id=o.id,x.idSel="#"+jqID(o.id),x.gBoxId=getGridComponentId.call(o,COMPONENT_NAMES.GRID_BOX_DIV),x.gBox=getGridComponentIdSelector.call(o,COMPONENT_NAMES.GRID_BOX_DIV),x.gViewId=getGridComponentId.call(o,COMPONENT_NAMES.GRID_VIEW_DIV),x.gView=getGridComponentIdSelector.call(o,COMPONENT_NAMES.GRID_VIEW_DIV),x.rsId=getGridComponentId.call(o,COMPONENT_NAMES.COLUMN_RESIZER_DIV),x.rs=getGridComponentIdSelector.call(o,COMPONENT_NAMES.COLUMN_RESIZER_DIV),x.cbId=getGridComponentId.call(o,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX),x.cb=getGridComponentIdSelector.call(o,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX);var S=jgrid.fixScrollOffsetAndhBoxPadding,_=function(e){var t,i={},n=e.length;for(t=0;t<n;t++)i[e[t].name]=t;return i},D=function(){var e,t,i={},n=x.colModel,o=n.length;for(e=0;e<o;e++)((t=n[e]).createColumnIndex||x.createColumnIndex&&!1!==t.createColumnIndex||"select"===t.stype&&(t.searchoptions||{}).generateValue||"select"===t.edittype&&(t.editoptions||{}).generateValue)&&(i[n[e].name]={});return i},T=function(e){var t,i,n={},o=e.length;for(t=0;t<o;t++)n["string"==typeof(i=e[t])?i:i.name]=t;return n},j=function(){var e,t,i={};for(this.p.rowIndexes=i,t=0;t<this.rows.length;t++)e=this.rows[t],$(e).hasClass("jqgrow")&&(i[e.id]=e.rowIndex)},O=function(e){var t=$(this).data("pageX");t?(t=(t=String(t).split(";"))[t.length-1],$(this).data("pageX",t+";"+e.pageX)):$(this).data("pageX",e.pageX)},I=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},E={headers:[],cols:[],footers:[],dragStart:function(e,t,i,n){var o=this,r=$(o.bDiv),s=r.closest(x.gBox).offset(),a=n.offset().left+("rtl"===x.direction?0:o.headers[e].width+(jgrid.cell_width?0:I(x.cellLayout,0))-2);o.resizing={idx:e,startX:a,sOL:a,moved:!1,delta:a-t.pageX},o.curGbox=$(x.rs),o.curGbox.prependTo("body"),o.curGbox.css({display:"block",left:a,top:i[1]+s.top+1,height:i[2]}),o.curGbox.css("height",i[2]-(o.curGbox.outerHeight()-o.curGbox.height())+"px"),o.curGbox.data("idx",e),o.curGbox.data("delta",a-t.pageX),O.call(this.curGbox,t),feedback.call(getGridComponent(COMPONENT_NAMES.BODY_TABLE,r)[0],"resizeStart",t,e),document.onselectstart=function(){return!1},$(document).on("mousemove.jqGrid",(function(e){if(E.resizing)return E.dragMove(e),!1})).on("mouseup.jqGrid"+x.id,(function(){if(E.resizing)return E.dragEnd(),!1}))},dragMove:function(e){var t=this,i=t.resizing;if(i){var n,o,r=e.pageX+i.delta-i.startX,s=t.headers,a=s[i.idx],l="ltr"===x.direction?a.width+r:a.width-r,c=((x.colModel[i.idx]||{}).autoResizing||{}).minColWidth||x.minResizingWidth;i.moved=!0,c<l&&(null==t.curGbox&&(t.curGbox=$(x.rs)),t.curGbox.css({left:i.sOL+r}),!0===x.forceFit?(n=s[i.idx+x.nv],(o="ltr"===x.direction?n.width-r:n.width+r)>x.autoResizing.minColWidth&&(a.newWidth=l,n.newWidth=o)):(t.newWidth="ltr"===x.direction?x.tblwidth+r:x.tblwidth-r,a.newWidth=l))}},resizeColumn:function(e,t,n){var o,r=this,s=r.headers,a=r.footers,l=s[e],c=l.newWidth||l.width,d=getGridComponent(COMPONENT_NAMES.BODY_TABLE,r.bDiv),u=getGridComponent(COMPONENT_NAMES.HEADER_TABLE,r.hDiv).children("thead").children("tr").first()[0].cells;c=parseInt(c,10),x.colModel[e].width=c,l.width=c,u[e].style.width=c+"px",r.cols[e].style.width=c+"px",r.fbRows&&($(r.fbRows[0].cells[e]).css("width",c),$(getGridComponent(COMPONENT_NAMES.FROZEN_HEADER_TABLE,r.fhDiv)[0].rows[0].cells[e]).css("width",c),x.footerrow&&$(getGridComponent(COMPONENT_NAMES.FROZEN_FOOTER_TABLE,r.fsDiv)[0].rows[0].cells[e]).css("width",c)),0<a.length&&(a[e].style.width=c+"px"),!0!==n&&S.call(d[0]),!0===x.forceFit?(c=(o=s[e+x.nv]).newWidth||o.width,o.width=c,u[e+x.nv].style.width=c+"px",r.cols[e+x.nv].style.width=c+"px",0<a.length&&(a[e+x.nv].style.width=c+"px"),x.colModel[e+x.nv].width=c):(x.tblwidth=r.newWidth||x.tblwidth,!0!==n&&(r.hDiv.scrollLeft=r.bDiv.scrollLeft,x.footerrow&&(r.sDiv.scrollLeft=r.bDiv.scrollLeft))),x.autowidth||void 0!==x.widthOrg&&"auto"!==x.widthOrg&&"100%"!==x.widthOrg||!0===n||i.setGridWidth.call(d,r.newWidth+x.scrollOffset,!1),t||feedback.call(d[0],"resizeStop",c,e)},dragEnd:function(){var e=this;e.hDiv.style.cursor="default",e.resizing&&(null!==e.resizing&&!0===e.resizing.moved&&($(e.headers[e.resizing.idx].el).removeData("autoResized"),e.resizeColumn(e.resizing.idx,!1)),$(x.rs).removeData("pageX"),e.resizing=!1,setTimeout((function(){$(x.rs).css("display","none").prependTo(x.gBox)}),x.doubleClickSensitivity)),e.curGbox=null,document.onselectstart=function(){return!0},$(document).off("mousemove.jqGrid mouseup.jqGrid"+x.id)},populateVisible:function(){var e=this,t=$(e),i=e.grid,n=i.bDiv,o=$(n);i.timer&&clearTimeout(i.timer),i.timer=null;var r=o.height();if(r){var s,a;if(e.rows.length)try{a=(s=e.rows[1])&&$(s).outerHeight()||i.prevRowHeight}catch(e){a=i.prevRowHeight}if(a){i.prevRowHeight=a;var l=x.rowNum;i.scrollTop=n.scrollTop;var c,d,u,h=i.scrollTop,p=Math.round(t.position().top)-h,f=p+t.height(),m=a*l;if(f<r&&p<=0&&(void 0===x.lastpage||(parseInt((f+h+m-1)/m,10)||0)<=x.lastpage)&&(d=parseInt((r-f+m-1)/m,10)||1,0<=f||d<2||!0===x.scroll?(c=(Math.round((f+h)/m)||0)+1,p=-1):p=1),0<p&&(c=(parseInt(h/m,10)||0)+1,d=(parseInt((h+r)/m,10)||0)+2-c,u=!0),d){if(x.lastpage&&(c>x.lastpage||1===x.lastpage||c===x.page&&c===x.lastpage))return;i.hDiv.loading?i.timer=setTimeout((function(){i.populateVisible.call(e)}),x.scrollTimeout):(x.page=c,u&&(i.selectionPreserver.call(e),i.emptyRows.call(e,!1,!1)),i.populate.call(e,d))}}}},scrollGrid:function(){if(x.scroll){var e=this.scrollTop;void 0===E.scrollTop&&(E.scrollTop=0),e!==E.scrollTop&&(E.scrollTop=e,E.timer&&clearTimeout(E.timer),E.timer=setTimeout((function(){E.populateVisible.call(o)}),x.scrollTimeout))}return E.hDiv.scrollLeft=this.scrollLeft,x.footerrow&&(E.sDiv.scrollLeft=this.scrollLeft),!1},selectionPreserver:function(){var e=$(this),t=x.selrow,i=x.selarrrow?$.makeArray(x.selarrrow):null,n=this.grid.bDiv,o=n.scrollLeft,r=function(){var s;if(x.selrow=null,!x.multiPageSelection){if(clearArray(x.selarrrow),x.multiselect&&i&&0<i.length)for(s=0;s<i.length;s++)i[s]!==t&&h.call(e,i[s],!1,null);t&&h.call(e,t,!1,null)}n.scrollLeft=o,e.off(".selectionPreserver",r)};e.on("jqGridGridComplete.selectionPreserver",r)}};o.grid=E,feedback.call(o,"beforeInitGrid"),x.iColByName=_(x.colModel),x.iPropByName=T(x.additionalProperties),jgrid.msie=0<jgrid.msiever();var R,P=$("<div class='"+w("gView","ui-jqgrid-view")+"' role='grid' aria-multiselectable='"+!!x.multiselect+"'></div>"),A=jgrid.msie;x.direction=d(x.direction.toLowerCase()),-1===c(x.direction,["ltr","rtl"])&&(x.direction="ltr"),R=x.direction,$(P).insertBefore(o),r.removeClass("scroll").appendTo(P);var N=$("<div class='"+w("gBox","ui-jqgrid")+"'></div>");$(N).attr({id:x.gBoxId,dir:R}).insertBefore(P),$(P).attr("id",x.gViewId).appendTo(N),$("<div class='"+w("overlay","jqgrid-overlay")+"' id='lui_"+x.id+"'></div>").insertBefore(P),$("<div class='"+w("loading","loading")+"' id='load_"+x.id+"'>"+k("loadtext")+"</div>").insertBefore(P),r.attr({role:"presentation","aria-labelledby":"gbox_"+o.id});var F,M=function(e,t,i,n,r,a){var l,c,d,u,h,p=x.colModel[e],f=p.autoResizable?"<span class='"+x.autoResizing.wrapperClassName+"'>":"",m=p.autoResizable?i.substring(f.length,i.length-7):i,g=x.useUnformattedDataForCellAttr&&null!=a?a[p.name]:p.autoResizable?m:i,v=p.classes,b=p.align?"text-align:"+p.align+";":"",y=function(e){return"string"==typeof e?e.replace(/'/g,"&#39;"):e},w=" aria-describedby='"+x.id+"_"+p.name+"'";if(!0===p.hidden&&(b+="display:none;"),0===t)b+="width: "+E.headers[e].width+"px;";else if((s(p.cellattr)||"string"==typeof p.cellattr&&null!=jgrid.cellattr&&s(jgrid.cellattr[p.cellattr]))&&"string"==typeof(c=(s(p.cellattr)?p.cellattr:jgrid.cellattr[p.cellattr]).call(o,r,g,n,p,a,m)))for(c=c.replace(/\n/g,"&#xA;");;){if(null===(d=/^\s*(\w+[\w|\-]*)\s*=\s*([\"|\'])(.*?)\2(.*)/.exec(c))||d.length<5)return!h&&p.title&&(h=g),w+" style='"+y(b)+"'"+(v?" class='"+y(v)+"'":"")+(h?" title='"+y(h)+"'":"");switch(u=d[3],c=d[4],d[1].toLowerCase()){case"class":v?v+=" "+u:v=u;break;case"title":h=u;break;case"style":b+=u;break;default:w+=" "+d[1]+"="+d[2]+u+d[2]}}return l=""!==b?"style='"+b+"'":"",(l+=(void 0!==v?" class='"+v+"'":"")+(p.title&&g?" title='"+stripHtml(i).replace(/'/g,"&apos;")+"'":""))+w},L=function(e){return null==e||""===e?"&#160;":x.autoencode?htmlEncode(e):String(e)},z=function(e){var t=x.treeReader,i=t.loaded,n=t.leaf_field,o=t.expanded_field,r=function(e){return!0===e||"true"===e||"1"===e};if("nested"===x.treeGridModel&&!e[n]){var s=parseInt(e[t.left_field],10),a=parseInt(e[t.right_field],10);e[n]=a===s+1}void 0!==e[i]&&(e[i]=r(e[i])),e[n]=r(e[n]),e[o]=r(e[o])},q=function(e,t){var i,n;for(i in x.indexByColumnData)x.indexByColumnData.hasOwnProperty(i)&&(n=e[i],e.hasOwnProperty(i)&&void 0!==n&&""!==n&&(x.ignoreCase&&(n=String(n).toLowerCase()),void 0===x.indexByColumnData[i][n]&&(x.indexByColumnData[i][n]={}),x.indexByColumnData[i][n][t]=e[i],void 0===x.dataIndexById[t]&&(x.dataIndexById[t]={}),void 0===x.dataIndexById[t][i]&&(x.dataIndexById[t][i]={}),x.dataIndexById[t][i][n]=x.indexByColumnData[i][n]))},B=function(){var e,t,i,n,r,c,d,u,h,p,f,m,g=x.data,v=g.length,b=x.localReader,y=x.additionalProperties,w=b.cell,C=x.arrayReaderInfos;if("local"===x.datatype&&!0===b.repeatitems)for(n=!1===x.keyName?s(b.id)?b.id.call(o,g):b.id:x.keyName,isNaN(n)?s(n)||null!=x.arrayReaderInfos[n]&&(r=x.arrayReaderInfos[n].order):r=Number(n),e=0;e<v;e++){for(h in t=g[e],i=w&&getAccessor(t,w)||t,p=a(i),d={},C)C.hasOwnProperty(h)&&(m=C[h],c=getAccessor(i,p?m.order:m.name),1===m.type&&null!=(f=y[m.index])&&s(f.convert)&&(c=f.convert(c,i)),void 0!==c&&(d[h]=c));void 0!==d[n]?u=void 0!==d[n]?d[n]:randId():(void 0===(u=getAccessor(t,a(t)?r:n))&&(u=getAccessor(i,a(i)?r:n)),void 0===u&&(u=randId())),u=String(u),d[b.id]=u,x.treeGrid&&z(d),l(g[e],d)}else if(x.treeGrid)for(e=0;e<v;e++)z(g[e])},H=function(){var e,t,i,n,o=x.data.length;for(e=!1===x.keyName||x.loadonce&&x.dataTypeOrg?x.localReader.id:x.keyName,x._index={},x.dataIndexById={},x.indexByColumnData=D(),t=0;t<o;t++)n=x.data[t],void 0===(i=getAccessor(n,e))&&(i=String(randId()),void 0===n[e]&&(n[e]=i)),x._index[i]=t,q.call(this,n,i)},G=function(e,t){var i,n,r,a=x.colModel,l=a.length,c=function(e){return null==e||""===e?"&#160;":htmlEncode(e)},d=function(e){return null==e||""===e?"&#160;":String(e)};for(i=0;i<l;i++)(n=a[i]).cellBuilder=null,e||(r={colModel:n,gid:x.id,pos:i},void 0===n.formatter?n.cellBuilder=x.autoencode?c:d:"string"==typeof n.formatter&&null!=$.fn.fmatter&&s($.fn.fmatter.getCellBuilder)?n.cellBuilder=$.fn.fmatter.getCellBuilder.call(o,n.formatter,r,t||"add"):s(n.getCellBuilder)&&(n.cellBuilder=n.getCellBuilder.call(o,r,t||"add")))},W=function(e,t,n,o){var r=this,l=$(r),c=new Date,d=x.datatype,u="local"!==d&&x.loadonce||"xmlstring"===d||"jsonstring"===d,h=("xmlstring"===d||"xml"===d)&&$.isXMLDoc(e),p="_id_",f=x.localReader,m=getAccessor;if(e&&("xml"!==d||h)){switch(-1!==x.treeANode||x.scroll?t=1<t?t:1:(E.emptyRows.call(r,!1,!0),t=1),u&&(clearArray(x.data),clearArray(x.lastSelectedData),x._index={},x.grouping&&null!=x.groupingView&&(x.groupingView.groups=[],x.groupingView._locgr=!1),x.localReader.id=p),x.reccount=0,d){case"xml":case"xmlstring":f=x.xmlReader,m=jgrid.getXmlData;break;case"json":case"jsonp":case"jsonstring":f=x.jsonReader}var g,v,b,y,w,C,k,S,_,D,T,O,R,P={},A=x.colModel,N=A.length,F=x.arrayReaderInfos,M={},L=function(e){return function(t){var i=null!=t&&s(t.getAttribute)?t.getAttribute(e):null;return null!==i?i:void 0}},B=function(e){return function(){var t,i=M[e];if(null!=i)return 0<(t=i.childNodes).length?t[0].nodeValue:void 0}};x.page=I(m(e,f.page),x.page),x.lastpage=I(m(e,f.total),1),x.records=I(m(e,f.records)),s(f.userdata)?x.userData=f.userdata.call(r,e)||{}:h?m(e,f.userdata,!0).each((function(){x.userData[this.getAttribute("name")]=$(this).text()})):x.userData=m(e,f.userdata)||{},G();var H,W,U,V,Y={},X=x.additionalProperties,J=function(e,t){h&&"string"==typeof t&&(/^\w+$/.test(t)?Y[e]=B(t):/^\[\w+\]$/.test(t)&&(Y[e]=L(t.substring(1,t.length-1))))},K=function(e){var t=e.name,i=h?e.xmlmap||t:("local"===d&&!x.dataTypeOrg||"jsonstring"===d||"json"===d||"jsonp"===d)&&e.jsonmap||t;!1!==x.keyName&&!0===e.key&&(x.keyName=t),("string"==typeof i||s(i))&&(Y[t]=i),s(i)||J(t,i)};for(g=0;g<N;g++)K(A[g]);for(N=X.length,g=0;g<N;g++)"object"==typeof(U=X[g])&&null!=U?K(U):J(U,U);if(w=!1===x.keyName?s(f.id)?f.id.call(r,e):f.id:x.keyName,isNaN(w)?s(w)||(F[w]&&(C=F[w].order),h&&!1===x.keyName&&("string"==typeof w&&/^\[\w+\]$/.test(w)?w=L(w.substring(1,w.length-1)):"string"==typeof w&&/^\w+$/.test(w)&&(w=B(w)))):C=Number(w),y=m(e,f.root,!0),f.row)if(1===y.length&&"string"==typeof f.row&&/^\w+$/.test(f.row)){for(V=[],T=(D=y[0].childNodes).length,_=0;_<T;_++)1===(O=D[_]).nodeType&&O.nodeName===f.row&&V.push(O);y=V}else y=m(y,f.row,!0);null==y&&a(e)&&(y=e),y||(y=[]),0<(b=y.length)&&x.page<=0&&(x.page=1);var Q=parseInt(x.rowNum,10);o&&(Q*=o+1);var Z,ee,te=[],ie=[];for(V=[],g=0;g<b;g++){if(ee=y[g],v=f.repeatitems&&f.cell&&m(ee,f.cell,!0)||ee,H=f.repeatitems&&(h||a(v)),P={},M={},h&&!H&&null!=v)for(T=(D=v.childNodes).length,_=0;_<T;_++)1===(O=D[_]).nodeType&&(M[O.nodeName]=O);for(S in F)F.hasOwnProperty(S)&&(R=F[S],H?(W=v[R.order],h&&null!=W&&(W=W.textContent||W.text)):W=null!=Y[S]&&"string"!=typeof Y[S]?Y[S].call(r,v,{cmName:S,iItem:g}):m(v,"string"==typeof Y[S]?Y[S]:R.name),1===R.type&&null!=(U=X[R.index])&&s(U.convert)&&(W=U.convert(W,v)),void 0!==W&&(P[S]=W));if(void 0!==P[w]?Z=void 0!==P[w]?P[w]:randId():(void 0===(Z=m(ee,a(ee)?C:w))&&(Z=m(v,a(v)?C:w)),void 0===Z&&(Z=randId())),void 0===P[w]&&(P[w]=Z),Z=String(Z),k=x.idPrefix+Z,x.treeGrid&&z(P),g<Q)ie.push(k),te.push(v),V.push(P);else if(!u)break;(u||!0===x.treeGrid)&&(P[p]=Z,x.data.push(P),q(P,Z),x._index[P[p]]=x.data.length-1)}if(u&&!0!==x.treeGrid){if(x.forceClientSorting)return;x.lastSelectedData=x.data.slice()}var ne=jgrid.parseDataToHtml.call(r,b,ie,V,te,t,o,u);G(!0);var oe=-1<x.treeANode?x.treeANode:0,re=$(r.tBodies[0]);if(!0===x.treeGrid&&0<oe?$(r.rows[oe]).after(ne.join("")):x.scroll?re.append(ne.join("")):(null==r.firstElementChild||void 0!==document.documentMode&&document.documentMode<=9?re.html(re.html()+ne.join("")):r.firstElementChild.innerHTML+=ne.join(""),r.grid.cols=r.rows[0].cells),x.grouping){j.call(r);var se,ae=function(e){var t=$(this).closest("tr.jqgroup").attr("id");return l.jqGrid("groupingToggle",t,this,e),!1};for(g=0;g<r.rows.length;g++)(se=$(r.rows[g])).hasClass("jqgroup")&&se.children("td").children("span.tree-wrap").click(ae)}if(!0===x.subGrid)try{i.addSubGrid.call(l,x.iColByName.subgrid)}catch(e){}if(!1===x.gridview||s(x.afterInsertRow))for(g=0;g<Math.min(b,Q);g++)feedback.call(r,"afterInsertRow",ie[g],V[g],te[g]);if(x.totaltime=new Date-c,0<g&&0===x.records&&(x.records=b),clearArray(ne),!0===x.treeGrid)try{i.setTreeNode.call(l,oe+1,g+oe+1)}catch(e){}x.reccount=Math.min(b,Q),x.treeANode=-1,x.userDataOnFooter&&i.footerData.call(l,"set",x.userData,!0),u&&(x.records=b,x.lastpage=Math.ceil(b/Q)),n||r.updatepager(!1,!0),function(){var e,t,i=$.fn.fmatter;for(e=0;e<x.colModel.length;e++)"string"==typeof(t=x.colModel[e].formatter)&&null!=i&&s(i[t])&&s(i[t].pageFinalization)&&i[t].pageFinalization.call(this,e)}.call(r)}},U=function(e){var t,i=e.outerWidth();return i<=0&&(t=$(this).closest(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",$(document.body).append("<div id='testpg' class='"+w("gBox","ui-jqgrid")+"' style='font-size:"+t+";visibility:hidden;margin:0;padding:0;' ></div>"),$(e).clone().appendTo("#testpg"),i=$("#testpg>.ui-pg-table").width(),$("#testpg").remove()),0<i&&e.parent().width(i),i},V=function(){this.grid.hDiv.loading=!0,x.hiddengrid||i.progressBar.call($(this),{method:"show",loadtype:x.loadui,htmlcontent:k("loadtext")})},Y=function(){this.grid.hDiv.loading=!1,i.progressBar.call($(this),{method:"hide",loadtype:x.loadui})},X=function(e){var t=this,n=$(t),r=t.grid;if(!r.hDiv.loading){var c,d,h=x.scroll&&!1===e,p={},m=x.prmNames;x.page<=0&&(x.page=Math.min(1,x.lastpage)),null!==m.search&&(p[m.search]=x.search),null!==m.nd&&(p[m.nd]=(new Date).getTime()),(isNaN(parseInt(x.rowNum,10))||parseInt(x.rowNum,10)<=0)&&(x.rowNum=x.maxRowNum),null!==m.rows&&(p[m.rows]=x.rowNum),null!==m.page&&(p[m.page]=x.page),null!==m.sort&&(p[m.sort]=x.sortname),null!==m.order&&(p[m.order]=x.sortorder),null!==x.rowTotal&&null!==m.totalrows&&(p[m.totalrows]=x.rowTotal);var g=s(x.loadComplete),v=g?x.loadComplete:null,b=0;if(1<(e=e||1)?null!==m.npage?(p[m.npage]=e,b=e-1,e=1):v=function(i){x.page++,r.hDiv.loading=!1,g&&x.loadComplete.call(t,i),X.call(t,e-1)}:null!==m.npage&&delete x.postData[m.npage],x.grouping&&i.groupingSetup){i.groupingSetup.call(n);var y,w,k,_,D=x.groupingView,T="";for(y=0;y<D.groupField.length;y++){for(w=D.groupField[y],k=0;k<x.colModel.length;k++)(_=x.colModel[k]).name===w&&_.index&&(w=_.index);T+=w+" "+D.groupOrder[y]+", "}p[m.sort]=T+p[m.sort]}l(x.postData,p);var j=x.scroll?t.rows.length-1:1,O=function(){S.call(t),x.autowidth||void 0!==x.widthOrg&&"auto"!==x.widthOrg&&"100%"!==x.widthOrg||i.setGridWidth.call(n,x.tblwidth+x.scrollOffset,!1)},I=function(){var e;if(x.autoresizeOnLoad)i.autoResizeAllColumns.call(n),clearArray(x.columnsToReResizing),x.autowidth&&i.setGridWidth.call(n,n.closest(".ui-jqgrid").parent().width(),!0);else{for(e=0;e<x.columnsToReResizing.length;e++)i.autoResizeColumn.call(n,x.columnsToReResizing[e]);clearArray(x.columnsToReResizing)}},R=function(){feedback.call(t,"loadComplete",d),I(),n.triggerHandler("jqGridAfterLoadComplete",[d]),Y.call(t),x.datatype="local",x.datastr=null,O()},P=function(i){n.triggerHandler("jqGridLoadComplete",[i]),v&&v.call(t,i),I(),n.triggerHandler("jqGridAfterLoadComplete",[i]),h&&r.populateVisible.call(t),1===e&&Y.call(t),O()},A=function(){var n=function(){var e=$(this),t=x.multiSort?[]:"",n={},o=!1,r={},l=[],c=[],d=C("formatter.date.srcformat"),h=C("formatter.date.newformat");if(!a(x.data))return{};x.multiSort&&Z(t,n);var p,m,g=!!x.grouping&&x.groupingView,v=function(e,i,n){var s,a,u=e.index||e.name,f=e.sorttype||"text";if(r[e.name]={reader:x.dataTypeOrg?e.name:e.jsonmap||e.name,iCol:i,stype:f,srcfmt:"",newfmt:"",sfunc:e.sortfunc||null,isAddProp:!0===n},"date"!==f&&"datetime"!==f||(e.formatter&&"string"==typeof e.formatter&&"date"===e.formatter?(s=e.formatoptions&&e.formatoptions.srcformat?e.formatoptions.srcformat:d,a=e.formatoptions&&e.formatoptions.newformat?e.formatoptions.newformat:h):s=a=e.datefmt||"Y-m-d",r[e.name].srcfmt=s,r[e.name].newfmt=a),x.grouping)for(m=0,p=g.groupField.length;m<p;m++)e.name===g.groupField[m]&&(l[m]=r[u],c[m]=u);x.multiSort||o||e.index!==x.sortname&&e.name!==x.sortname||(t=e.name,o=!0)};if(u(x.colModel,(function(e){v(this,e)})),u(x.additionalProperties,(function(e){v("string"==typeof this?{name:this}:this,e,!0)})),x.treeGrid)return i.SortTree.call(e,t,x.sortorder,null!=r[t]&&r[t].stype?r[t].stype:"text",null!=r[t]&&r[t].srcfmt?r[t].srcfmt:""),!1;var b={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().inSet:e.andNot().inSet},in:function(e){return e.inSet},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},y=jgrid.from.call(this,x.data);if(x.ignoreCase&&(y=y.ignoreCase()),!0===x.search){var w=x.postData[(x.searching||{}).sFilter||x.prmNames.filters];if(w)"string"==typeof w&&(w=$.parseJSON(w)),function e(t){var i,n,o,a,l,c,d,u=0;if(null!=t.groups){for((n=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase())&&y.orBegin(),i=0;i<t.groups.length;i++){0<u&&n&&y.or();try{e(t.groups[i])}catch(e){f(e)}u++}n&&y.orEnd()}if(null!=t.rules)try{for((o=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase())&&y.orBegin(),i=0;i<t.rules.length;i++)l=t.rules[i],a=t.groupOp.toString().toUpperCase(),b[l.op]&&l.field?(0<u&&a&&"OR"===a&&(y=y.or()),null!=(d=r[l.field])&&(c=d.reader,y=b[l.op](y,a)(s(c)?'jQuery.jgrid.getAccessor(this,jQuery("'+x.idSel+'")[0].p.colModel['+d.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+c+"')",l.data,r[l.field]))):null!=x.customSortOperations&&null!=x.customSortOperations[l.op]&&s(x.customSortOperations[l.op].filter)&&(y=y.custom(l.op,l.field,l.data)),u++;o&&y.orEnd()}catch(e){f(e)}}(w);else try{var k=r[x.postData.searchField];y=b[x.postData.searchOper](y)(s(k.reader)?'jQuery.jgrid.getAccessor(this,jQuery("'+x.idSel+'")[0].p.colModel['+k.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+k.reader+"')",x.postData.searchString,r[x.postData.searchField])}catch(e){}}if(x.grouping)for(m=0;m<p&&m<c.length&&m<l.length;m++)y.orderBy(c[m],g.groupOrder[m],l[m].stype,l[m].srcfmt);x.multiSort?u(t,(function(){y.orderBy(this,n[this],r[this].stype,r[this].srcfmt,r[this].sfunc)})):t&&x.sortorder&&o&&y.orderBy(x.sortname,"DESC"===x.sortorder.toUpperCase()?"d":"a",r[t].stype,r[t].srcfmt,r[t].sfunc),x.lastSelectedData=y.select();var S=parseInt(x.rowNum,10),_=x.lastSelectedData.length,D=parseInt(x.page,10),T=Math.ceil(_/S),j={};if(x.grouping&&x.groupingView._locgr){var O,I,E;if(x.groupingView.groups=[],x.footerrow&&x.userDataOnFooter){for(I in x.userData)x.userData.hasOwnProperty(I)&&(x.userData[I]=0);E=!0}for(O=0;O<_;O++){if(E)for(I in x.userData)x.userData.hasOwnProperty(I)&&(x.userData[I]+=parseFloat(x.lastSelectedData[O][I]||0));i.groupingPrepare.call(e,x.lastSelectedData[O],O,S)}}r=y=null;var R=x.localReader;return j[R.total]=T,j[R.page]=D,j[R.records]=_,j[R.root]=x.lastSelectedData.slice((D-1)*S,D*S),j[R.userdata]=x.userData,j}.call(t);W.call(t,n,j,1<e,b),P(n)};if(!feedback.call(t,"beforeRequest"))return;if(s(x.datatype))return void x.datatype.call(t,x.postData,"load_"+x.id,j,e,b);switch(c=x.datatype.toLowerCase(),$(E.eDiv).hide(),c){case"json":case"jsonp":case"xml":case"script":$.ajax(l({url:x.url,type:x.mtype,dataType:c,data:jgrid.serializeFeedback.call(o,x.serializeGridData,"jqGridSerializeGridData",x.postData),success:function(i,n,o){x.jqXhr=null,$(E.eDiv).hide(),s(x.beforeProcessing)&&!1===x.beforeProcessing.call(t,i,n,o)?Y.call(t):(W.call(t,i,j,1<e,b),P(i),(x.loadonce||x.treeGrid)&&(x.dataTypeOrg=x.datatype,x.datatype="local",x.forceClientSorting&&A()))},error:function(i,n,o){x.jqXhr=null,s(x.loadError)&&x.loadError.call(t,i,n,o),1===e&&Y.call(t)},beforeSend:function(e,i){var n=!0;if(s(x.loadBeforeSend)&&(n=x.loadBeforeSend.call(t,e,i)),void 0===n&&(n=!0),!1===n)return!1;x.jqXhr=e,V.call(t)}},jgrid.ajaxOptions,x.ajaxGridOptions));break;case"xmlstring":V.call(t),d="string"==typeof x.datastr?$.parseXML(x.datastr):x.datastr,W.call(t,d),R(),x.forceClientSorting&&A();break;case"jsonstring":V.call(t),d=x.datastr&&"string"==typeof x.datastr?$.parseJSON(x.datastr):x.datastr,W.call(t,d),R(),x.forceClientSorting&&A();break;case"local":case"clientside":V.call(t),x.datatype="local",A()}}},J=function(e){var t=this.grid;$(x.cb,t.hDiv).prop("checked",e),x.frozenColumns&&$(x.cb,t.fhDiv).prop("checked",e)},K=function(e){var t,i;for(t=0;t<x.savedRow.length;t++)i=x.savedRow[t],"save"===e?i.hasOwnProperty("ic")?r.jqGrid("saveCell",i.id,i.ic):r.jqGrid("saveRow",i.id):i.hasOwnProperty("ic")?r.jqGrid("restoreCell",i.id,i.ic):r.jqGrid("restoreRow",i.id)},Q=function(e,t){var i,n,r,s,a,l,c,d,u,h=w("states.hover"),p=w("states.disabled"),f="<td class='ui-pg-button "+p+"'><span class='ui-separator'></span></td>",m="",g="<table style='table-layout:auto;white-space: pre;"+("left"===x.pagerpos?"margin-right:auto;":"right"===x.pagerpos?"margin-left:auto;":"margin-left:auto;margin-right:auto;")+"' class='ui-pg-table'><tbody><tr>",v="",b=function(e,t,i){return!(0<x.savedRow.length&&"prevent"===x.pagingDuringEditing||!feedback.call(o,"onPaging",e,{newPage:t,currentPage:I(x.page,1),lastPage:I(x.lastpage,1),currentRowNum:I(x.rowNum,10),newRowNum:i})||(x.selrow=null,x.multiselect&&(x.multiPageSelection||clearArray(x.selarrrow),J.call(o,!1)),K(x.pagingDuringEditing),0))};if(t+="_"+e,i="pg_"+e,n=e+"_left",r=e+"_center",s=e+"_right",$("#"+jqID(e)).append("<div id='"+i+"' class='ui-pager-control' role='group'><table class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;'><tbody><tr><td id='"+n+"' class='ui-jqgrid-pg-left'"+(void 0!==x.pagerLeftWidth?" style='width:"+x.pagerLeftWidth+"px;'":"")+"></td><td id='"+r+"' class='ui-jqgrid-pg-center'"+(void 0!==x.pagerCenterWidth?" style='width:"+x.pagerCenterWidth+"px;'":"")+"></td><td id='"+s+"' class='ui-jqgrid-pg-right'"+(void 0!==x.pagerRightWidth?" style='width:"+x.pagerRightWidth+"px;'":"")+"></td></tr></tbody></table></div>").attr("dir","ltr"),i="#"+jqID(i),0<x.rowList.length){v="<td dir='"+R+"'>";var C,S=k("pgrecs");for(v+="<select class='"+w("pager.pagerSelect","ui-pg-selbox")+"' "+(S?"title='"+S+"'":"")+">",l=0;l<x.rowList.length;l++)1===(C=x.rowList[l].toString().split(":")).length&&(C[1]=C[0]),v+="<option value='"+C[0]+"'"+(I(x.rowNum,0)===I(C[0],0)?" selected='selected'":"")+">"+C[1]+"</option>";v+="</select></td>"}if("rtl"===R&&(g+=v),!0===x.pginput&&(m="<td dir='"+R+"'>"+jgrid.format(k("pgtext")||"","<input aria-label='Page No.' class='"+w("pager.pagerInput","ui-pg-input")+"' type='text' size='2' maxlength='7' value='0'/>","<span id='sp_1_"+e+"'>0</span>")+"</td>"),e="#"+jqID(e),!0===x.pgbuttons){var _=["first","prev","next","last"],D=_.slice(),T=w("pager.pagerButton","ui-pg-button");for("rtl"===R&&_.reverse(),l=0;l<_.length;l++)g+=(c=_[l],d=D[l],u=k("pg"+c),"<td role='button' tabindex='0' id='"+c+t+"' class='"+T+"' "+(u?"title='"+u+"'":"")+"><span class='"+y("pager."+d)+"'></span></td>"),1===l&&(g+=""!==m?f+m+f:"")}else""!==m&&(g+=m);"ltr"===R&&(g+=v),g+="</tr></tbody></table>",!0===x.viewrecords&&$("td"+e+"_"+x.recordpos,i).append("<span dir='"+R+"' style='text-align:"+x.recordpos+"' class='ui-paging-info'></span>");var j=$("td"+e+"_"+x.pagerpos,i);j.append(g),a=U.call(this,j.children(".ui-pg-table")),x._nvtd=[],x._nvtd[0]=a?Math.floor((x.width-a)/2):Math.floor(x.width/3),x._nvtd[1]=0,g=null,$(".ui-pg-selbox",i).on("change",(function(){var e=I(this.value,10),t=Math.round(x.rowNum*(x.page-1)/e-.5)+1;return b("records",t,e)&&(x.page=t,x.rowNum=e,x.pager&&$(".ui-pg-selbox",x.pager).val(e),x.toppager&&$(".ui-pg-selbox",x.toppager).val(e),X.call(o)),!1})),!0===x.pgbuttons&&($(".ui-pg-button",i).hover((function(){hasOneFromClasses(this,p)?this.style.cursor="default":($(this).addClass(h),this.style.cursor="pointer")}),(function(){hasOneFromClasses(this,p)||($(this).removeClass(h),this.style.cursor="default")})),$("#first"+jqID(t)+", #prev"+jqID(t)+", #next"+jqID(t)+", #last"+jqID(t)).click((function(){if(hasOneFromClasses(this,p))return!1;var e=I(x.page,1),i=e,n=this.id,r=I(x.lastpage,1),s=!1,a=!0,l=!0,c=!0,d=!0;return 0===r||1===r?(e<=1&&(l=a=!1),d=c=!1):1<r&&1<=e?1===e?l=a=!1:e===r&&(d=c=!1):1<r&&0===e&&(d=c=!1,e=r-1),this.id==="first"+t&&a&&(n="first",i=1,s=!0),this.id==="prev"+t&&l&&(n="prev",i=e-1,s=!0),this.id==="next"+t&&c&&(n="next",i=e+1,s=!0),this.id==="last"+t&&d&&(n="last",i=r,s=!0),b(n,i,I(x.rowNum,10))&&(x.page=i,s&&X.call(o)),!1}))),!0===x.pginput&&$("input.ui-pg-input",i).on("keypress.jqGrid",(function(e){var t=e.charCode||e.keyCode||0,i=I($(this).val(),1);return 13===t?(b("user",i,I(x.rowNum,10))&&($(this).val(i),x.page=0<$(this).val()?$(this).val():x.page,X.call(o)),!1):this})),j.children(".ui-pg-table").on("keydown.jqGrid",(function(e){var t;13===e.which&&0<(t=j.find(":focus")).length&&t.trigger("click")}))},Z=function(e,t,i){if(u((x.sortname+" "+x.sortorder).split(","),(function(){var t=$.trim(this).split(" ");2===t.length&&e.push(t[0])})),null!=i){var n=$.inArray(i.index||i.name,e);""!==i.lso&&n<0?e.push(i.index||i.name):""===i.lso&&0<=n&&e.splice(n,1)}u(x.colModel,(function(){var i,n=this.index||this.name;this.lso&&(i=this.lso.split("-"),$.inArray(n,e)<0&&e.push(n),t[n]=i[i.length-1])}))},ee=function(e,t,n,r,a,l){var d=this,h=d.grid,p=x.colModel[t],f=w("states.disabled");if(null!=p&&p.sortable&&!(0<x.savedRow.length&&"prevent"===x.sortingDuringEditing)){if(x.lastsort===t&&""!==x.sortname?"asc"===x.sortorder?x.sortorder="desc":"desc"===x.sortorder?x.sortorder="asc":x.sortorder=p.firstsortorder||"asc":x.sortorder=p.firstsortorder||"asc",p.lso?"asc"===p.lso?p.lso+="-desc":"desc"===p.lso?p.lso+="-asc":"asc-desc"!==p.lso&&"desc-asc"!==p.lso||!x.threeStateSort&&!x.multiSort||(p.lso=""):p.lso=p.firstsortorder||"asc",!n&&x.resetPageAfterSort&&(x.page=1),x.multiSort)!function(e,t){var i,n="",r=x.colModel[e],a=w("states.disabled"),l=x.frozenColumns?$(o.grid.headers[e].el).add($(t)):$(o.grid.headers[e].el),d=l.find("span.s-ico"),h=d.children("span.ui-icon-asc"),p=d.children("span.ui-icon-desc"),f=h,m=p,g=[],v={};if(l.find("span.ui-grid-ico-sort").addClass(a),l.attr("aria-selected","false"),r.lso?(d.show(),"desc"===(i=(i=r.lso.split("-"))[i.length-1])&&(f=p,m=h),f.removeClass(a).css("display",""),x.showOneSortIcon&&m.hide(),l.attr("aria-selected","true")):x.viewsortcols[0]||d.hide(),Z(g,v,r),"string"==typeof x.sortname&&""!==x.sortname&&x.sortname.split(",").length<g.length){var b=function(e){u(x.colModel,(function(){var t,i="#jqgh_"+jgrid.jqID(x.id+"_"+this.name),n=$(i);if(this.lso&&(this.index||this.name)===e){if("function"==typeof g.indexOf)t=g.indexOf(e);else{for(t=0;t<g.length&&g[t]!==e;t++);t===g.length&&(t=-1)}0<=t&&(g.splice(t,1),this.lso="")}x.frozenColumns&&(n=n.add($(E.fhDiv).find(i))),n.children(".s-ico")[this.lso?"show":"hide"]()}))};if("lastClickedFirstSorted"===x.multiSortOrder&&1<g.length)for(g.unshift(g[g.length-1]),g.pop();g.length>x.maxSortColumns;)b(g[g.length-1]);else s(x.multiSortOrder)&&(g=x.multiSortOrder.call(o,{sortNames:g,cm:r,sortDirs:v,removeSorting:b})||g)}u(g,(function(){0<n.length&&(n+=", "),n+=this+" "+v[this],x.sortorder=v[this]})),x.sortname=n.substring(0,n.length-x.sortorder.length-1),x.showSortOrder&&u(x.colModel,(function(){if(this.sortable){var e=c(this.name,g),t="#jqgh_"+jgrid.jqID(x.id+"_"+this.name),i=$(t);x.frozenColumns&&(i=i.add($(E.fhDiv).find(t))),i.children(".ui-jqgrid-sort-order").html(e<0?"&nbsp;":s(x.formatSortOrder)?x.formatSortOrder.call(o,{cm:this,sortIndex:e}):e+1)}}))}(t,a);else{if(r){if(x.lastsort===t&&x.sortorder===r&&!n)return;x.sortorder=r}var m=h.headers,g=h.fhDiv,v=m[x.lastsort]?$(m[x.lastsort].el):$(),b=x.frozenColumns?$(a):$(m[t].el),y=b.find("span.s-ico"),C=y.children(".ui-icon-"+x.sortorder),k=y.children(".ui-icon-"+("asc"===x.sortorder?"desc":"asc"));p=x.colModel[x.lastsort],v.find(".ui-grid-ico-sort").addClass(f),v.attr("aria-selected","false"),x.frozenColumns&&(g.find(".ui-grid-ico-sort").addClass(f),g.find("th").attr("aria-selected","false")),x.viewsortcols[0]||(x.lastsort!==t?(x.frozenColumns&&g.find("span.s-ico").hide(),v.find("span.s-ico").hide(),y.show()):""===x.sortname&&y.show()),x.lastsort!==t&&"true"===v.data("autoResized")&&(null!=p&&null!=p.autoResizing&&p.autoResizing.compact||x.autoResizing.compact)&&x.columnsToReResizing.push(x.lastsort),p=x.colModel[t],y.css("display",""),""!==p.lso?(C.removeClass(f).css("display",""),x.showOneSortIcon&&k.removeClass(f).hide(),b.attr("aria-selected","true")):(b.attr("aria-selected","false"),x.threeStateSort&&(x.sortorder="",x.viewsortcols[0]||y.hide())),x.lastsort!==t&&"true"===b.data("autoResized")&&(null!=p&&null!=p.autoResizing&&p.autoResizing.compact||x.autoResizing.compact)&&x.columnsToReResizing.push(t),x.sortname=p.index||e}if(feedback.call(d,"onSortCol",x.sortname,t,x.sortorder,l||{})){if("local"===x.datatype?x.deselectAfterSort&&!x.multiPageSelection&&i.resetSelection.call($(d)):x.multiPageSelection||(x.selrow=null,x.multiselect&&(J.call(d,!1),clearArray(x.selarrrow))),K(x.sortingDuringEditing),x.scroll){var S=h.bDiv.scrollLeft;E.emptyRows.call(d,!0,!1),h.hDiv.scrollLeft=S}x.subGrid&&"local"===x.datatype&&$("td.sgexpanded","#"+jqID(x.id)).each((function(){$(this).trigger("click")})),X.call(d),x.lastsort=t,x.sortname!==e&&t&&(x.lastsort=t)}else x.lastsort=t}},te=function(e){return x.iColByName[(e.id||"").substring(x.id.length+1)]};-1===c(x.multikey,["shiftKey","altKey","ctrlKey"])&&(x.multikey=!1),x.keyName=!1,x.sortorder=x.sortorder.toLowerCase(),jgrid.cell_width=jgrid.cellWidth();var ie,ne,oe=jgrid.cmTemplate;for(ie=0;ie<x.colModel.length;ie++)F="string"==typeof(ne=x.colModel[ie]).template?null==oe||"object"!=typeof oe[ne.template]&&!s(oe[ne.template])?{}:oe[ne.template]:ne.template,s(F)&&(F=F.call(o,{cm:ne,iCol:ie})),ne=l(!0,{},x.cmTemplate,F||{},ne),!1===x.keyName&&!0===ne.key&&(x.keyName=ne.name),x.colModel[ie]=ne;for(x.indexByColumnData=D(),ie=0;ie<x.additionalProperties.length;ie++)ne=x.additionalProperties[ie],!1===x.keyName&&!0===ne.key&&(x.keyName=ne.name);if(0===x.colNames.length)for(ie=0;ie<x.colModel.length;ie++)x.colNames[ie]=void 0!==x.colModel[ie].label?x.colModel[ie].label:x.colModel[ie].name;if(x.colNames.length===x.colModel.length){if(!0===x.grouping&&(x.scroll=!1,x.rownumbers=!1,x.treeGrid=!1,x.gridview=!0),x.subGrid&&s(i.setSubGrid))try{i.setSubGrid.call(r)}catch(t){}if(x.multiselect&&("left"===x.multiselectPosition||"right"===x.multiselectPosition)){var re="left"===x.multiselectPosition?"unshift":"push";x.colNames[re]("<input id='"+x.cbId+"' class='cbox' type='checkbox' aria-checked='false'/>"),x.colModel[re]({name:"cb",width:jgrid.cell_width?x.multiselectWidth+x.cellLayout:x.multiselectWidth,labelClasses:"jqgh_cbox",classes:"td_cbox",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})}if(x.rownumbers&&(x.colNames.unshift(""),x.colModel.unshift({name:"rn",width:jgrid.cell_width?x.rownumWidth+x.cellLayout:x.rownumWidth,labelClasses:"jqgh_rn",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),x.iColByName=_(x.colModel),x.xmlReader=l(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},x.xmlReader),x.jsonReader=l(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},x.jsonReader),x.localReader=l(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},x.localReader),x.scroll&&(x.pgbuttons=!1,x.pginput=!1,x.rowList=[]),!0===x.treeGrid){try{i.setTreeGrid.call(r)}catch(t){}"local"!==x.datatype&&(x.localReader={id:"_id_"}),x.iPropByName=T(x.additionalProperties)}if(function(){var e,t,i,n=x.remapColumns,o=x.colModel,r=o.length,s=[];for(e=0;e<r;e++)i=o[e].name,c(i,x.reservedColumnNames)<0&&s.push(i);if(null!=n)for(t=s.slice(),e=0;e<n.length;e++)s[e]=t[n[e]];x.cmNamesInputOrder=s}(),function(){var e,t,i,n,o,r=x.colModel,s=x.cmNamesInputOrder,a=x.additionalProperties,l=s.length;for(x.arrayReaderInfos={},t=x.arrayReaderInfos,o=0;o<l;o++)i=s[o],c(i,x.reservedColumnNames)<0&&!t.hasOwnProperty(i)&&(void 0!==(n=x.iColByName[i])?t[i]={name:i,index:n,order:o,type:0}:void 0!==(n=x.iPropByName[i])?t[i]={name:i,index:n,order:o,type:1}:i===(x.prmNames.rowidName||"rowid")&&(t[i]={index:n,type:2}));for(l=r.length,e=0;e<l;e++)i=r[e].name,c(i,x.reservedColumnNames)<0&&!t.hasOwnProperty(i)&&(t[i]={name:i,index:e,order:o,type:0},o++);for(l=a.length,e=0;e<l;e++)null==(i=a[e])||t.hasOwnProperty(i)||("object"==typeof i&&"string"===$.type(i.name)&&(i=i.name),t[i]={name:i,index:e,order:o,type:1},o++)}(),x.data.length&&(B.call(o),H.call(o)),!0===x.shrinkToFit&&!0===x.forceFit)for(ie=x.colModel.length-1;0<=ie;ie--)if(!0!==x.colModel[ie].hidden){x.colModel[ie].resizable=!1;break}var se,ae,le,ce,de,ue,he,pe,fe,me=[],ge=[],ve=[],be="<thead><tr class='ui-jqgrid-labels' role='row'>",ye="<tbody><tr style='display:none;'>",we=w("states.hover"),xe=w("states.hoverTh")||we,Ce=w("states.disabled");if(x.multiSort)for(me=x.sortname.split(","),fe=0;fe<me.length;fe++)ve=d(me[fe]).split(" "),me[fe]=d(ve[0]),ge[fe]=ve[1]?d(ve[1]):x.sortorder||"asc";for(ie=0;ie<x.colNames.length;ie++){switch(ne=x.colModel[ie],de=x.headertitles||ne.headerTitle?" title='"+stripHtml("string"==typeof ne.headerTitle?ne.headerTitle:x.colNames[ie])+"'":"",be+="<th id='"+x.id+"_"+ne.name+"' class='"+w("colHeaders","ui-th-column ui-th-"+R+" "+(ne.labelClasses||""))+"'"+de+">",se=ne.index||ne.name,ne.labelAlign){case"left":ue="text-align:left;";break;case"right":ue="text-align:right;";break;case"likeData":ue=void 0===ne.align||"left"===ne.align?"text-align:left;":"right"===ne.align?"text-align:right;":"";break;default:ue=""}be+="<div id='jqgh_"+x.id+"_"+ne.name+"'"+(A?" class='ui-th-div-ie'":"")+(""===ue?"":" style='"+ue+"'")+" role='columnheader'>",pe=ne.autoResizable&&"actions"!==ne.formatter||ne.rotated?"<span class='"+x.autoResizing.wrapperClassName+"'>"+x.colNames[ie]+"</span>":x.colNames[ie],x.sortIconsBeforeText?(be+=(x.builderSortIcons||jgrid.builderSortIcons).call(o,ie),be+=pe):(be+=pe,be+=(x.builderSortIcons||jgrid.builderSortIcons).call(o,ie)),be+="</div></th>",ye+="<td></td>",ne.width=ne.width?parseInt(ne.width,10):150,"boolean"!=typeof ne.title&&(ne.title=!0),ne.lso="",se===x.sortname&&(x.lastsort=ie,ne.lso=x.sortorder||ne.firstsortorder||"asc"),x.multiSort&&-1!==(ve=c(se,me))&&(ne.lso=ge[ve])}be+="</tr></thead>",ye+="</tr></tbody>";var ke,Se,$e,_e,De,Te,je,Oe,Ie,Ee,Re,Pe=$("<table class='"+w("hTable","ui-jqgrid-htable")+"' style='width:1px' role='presentation' aria-labelledby='gbox_"+x.id+"'>"+be+ye+"</table>");if($(Pe[0].tHead).children("tr").children("th").hover((function(){$(this).addClass(xe)}),(function(){$(this).removeClass(xe)})),x.multiselect&&$(x.cb,Pe).on("click",(function(){var e,t,i,n=w("states.select"),r=[],s=x.iColByName.cb,a=function(e,t){$(e)[t?"addClass":"removeClass"](n).attr(t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"}),void 0!==s&&$(e.cells[s]).children("input.cbox").prop("checked",t)},l=E.fbRows,c=Ce+" ui-subgrid jqgroup jqfoot jqgfirstrow jqgskipselect",d=x._index;if(clearArray(x.selarrrow),this.checked){if(e=!0,x.selrow=1<o.rows.length?o.rows[o.rows.length-1].id:null,x.multiPageSelection&&("local"===x.datatype||x.treeGrid))if("filtered"===x.selectAllMode&&null!=x.lastSelectedData&&0<x.lastSelectedData.length)for(x.selarrrow=[],i=0;i<x.lastSelectedData.length;i++)x.lastSelectedData[i].hasOwnProperty(x.localReader.id)&&x.selarrrow.push(x.idPrefix+x.lastSelectedData[i][x.localReader.id]);else if(null!=x.data&&0<x.data.length&&null!=d)for(t in d)d.hasOwnProperty(t)&&x.selarrrow.push(x.idPrefix+t)}else e=!1,x.selrow=null;var u=e?x.selarrrow:r;$(o.rows).each((function(t){hasOneFromClasses(this,c)||(a(this,e),$.inArray(this.id,u)<0&&u.push(this.id),l&&a(l[t],e))})),feedback.call(o,"onSelectAll",e?x.selarrrow:r,e)})),!0===x.autowidth){var Ae=Math.floor($(N).innerWidth());x.width=0<Ae?Ae:"nw"}isNaN(x.width)?isNaN(parseFloat(x.width))||(x.width=parseFloat(x.width)):x.width=Number(x.width),x.widthOrg=x.width,De=0,Te=jgrid.cell_width?0:I(x.cellLayout,0),je=0,Oe=I(x.scrollOffset,0),Ie=!1,Ee=0,Re=jgrid.isCellClassHidden,u(x.colModel,(function(){if(void 0===this.hidden&&(this.hidden=!1),x.grouping&&x.autowidth){var e=c(this.name,x.groupingView.groupField);0<=e&&x.groupingView.groupColumnShow.length>e&&(this.hidden=!x.groupingView.groupColumnShow[e])}this.widthOrg=Se=I(this.width,0),!1!==this.hidden||Re(this.classes)||(De+=Se+Te,this.fixed?Ee+=Se+Te:je++)})),isNaN(x.width)&&(x.width=De+(!1!==x.shrinkToFit||isNaN(x.height)?0:Oe)),E.width=x.width,x.tblwidth=De,!1===x.shrinkToFit&&!0===x.forceFit&&(x.forceFit=!1),!0===x.shrinkToFit&&0<je&&($e=E.width-Te*je-Ee,isNaN(x.height)||($e-=Oe,Ie=!0),De=0,u(x.colModel,(function(e){!1!==this.hidden||Re(this.classes)||this.fixed||(Se=Math.round($e*this.width/(x.tblwidth-Te*je-Ee)),this.width=Se,De+=Se,ke=e)})),_e=0,Ie?E.width-Ee-(De+Te*je)!==Oe&&(_e=E.width-Ee-(De+Te*je)-Oe):Ie||1===Math.abs(E.width-Ee-(De+Te*je))||(_e=E.width-Ee-(De+Te*je)),x.colModel[ke].width+=_e,x.tblwidth=De+_e+Te*je+Ee,x.tblwidth>x.width&&(x.colModel[ke].width-=x.tblwidth-parseInt(x.width,10),x.tblwidth=x.width)),$(N).css("width",E.width+"px").append("<div class='"+w("resizer","ui-jqgrid-resize-mark")+"' id='"+x.rsId+"'>&#160;</div>"),$(x.rs).on("selectstart",(function(){return!1})).click(O).dblclick((function(e){var t=$(this).data("idx"),n=$(this).data("pageX"),s=x.colModel[t];if(null==n||null==s)return!1;var a=String(n).split(";"),l=parseFloat(a[0]),c=parseFloat(a[1]);return 2===a.length&&(5<Math.abs(l-c)||5<Math.abs(e.pageX-l)||5<Math.abs(e.pageX-c))||(feedback.call(o,"resizeDblClick",t,s,e)&&s.autoResizable&&i.autoResizeColumn.call(r,t),feedback.call(o,"afterResizeDblClick",{iCol:t,cm:s,cmName:s.name})),!1})),$(P).css("width",E.width+"px");var Ne="";x.footerrow&&(Ne+="<table role='presentation' style='width:1px' class='"+w("gridFooter","ui-jqgrid-ftable")+"'><tbody><tr role='row' class='"+w("rowFooter","footrow footrow-"+R)+"'>");var Fe="<tr class='"+w("gridRow","jqgfirstrow ui-row-"+x.direction)+"' role='row' style='height:auto'>";if(x.disableClick=!1,$("th",Pe[0].tHead.rows[0]).each((function(e){var t=x.colModel[e],i=t.name,n=$(this),r=n.children("div"),a=r.children("span.s-ico"),l=x.showOneSortIcon;ae=t.width,void 0===t.resizable&&(t.resizable=!0),t.resizable?(le=document.createElement("span"),$(le).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+R).on("selectstart",(function(){return!1})),n.addClass(x.resizeclass)):le="",n.css("width",ae+"px").prepend(le);var d="";if(!(le=null)===t.hidden&&(n.css("display","none"),d="display:none;"),Fe+="<td role='gridcell' "+(t.classes?"class='"+t.classes+"' ":"")+"style='height:0;width:"+ae+"px;"+d+"'></td>",E.headers[e]={width:ae,el:this},"boolean"!=typeof(ce=t.sortable)&&(t.sortable=!0,ce=!0),"cb"!==i&&"subgrid"!==i&&"rn"!==i&&ce&&x.viewsortcols[2]&&r.addClass("ui-jqgrid-sortable"),ce)if(x.multiSort){var u="desc"===t.lso?"asc":"desc";x.viewsortcols[0]?(a.css("display",""),t.lso&&(a.children("span.ui-icon-"+t.lso).removeClass(Ce),l&&a.children("span.ui-icon-"+u).hide())):t.lso&&(a.css("display",""),a.children("span.ui-icon-"+t.lso).removeClass(Ce),l&&a.children("span.ui-icon-"+u).hide()),x.showSortOrder&&(ve=c(i,me),a["beforeSortIcons"===x.sortOrderPosition?"before":"after"]("<span class='ui-jqgrid-sort-order'>"+(ve<0?"&nbsp;":s(x.formatSortOrder)?x.formatSortOrder.call(o,{cm:this,sortIndex:ve}):ve+1)+"</span>"))}else{var h="desc"===x.sortorder?"asc":"desc";x.viewsortcols[0]?(a.css("display",""),e===x.lastsort&&(a.children("span.ui-icon-"+x.sortorder).removeClass(Ce),l&&a.children("span.ui-icon-"+h).hide())):e===x.lastsort&&""!==t.lso&&(a.css("display",""),a.children("span.ui-icon-"+x.sortorder).removeClass(Ce),l&&a.children("span.ui-icon-"+h).hide())}x.footerrow&&(Ne+="<td role='gridcell' "+M(e,0,"",null,"",!1)+">&#160;</td>")})).mousedown((function(e){var t,i,n=$(this),o=n.closest(".ui-jqgrid-hdiv").hasClass("frozen-div");if(1===$(e.target).closest("th>span.ui-jqgrid-resize").length)return null!=(t=te(this))&&(!0===x.forceFit&&(x.nv=function(e){var t,i=e,n=e;for(t=e+1;t<x.colModel.length;t++)if(!0!==x.colModel[t].hidden){n=t;break}return n-i}(t)),E.dragStart(t,e,(i=[n.position().left+n.outerWidth()],"rtl"===x.direction&&(i[0]=x.width-i[0]),i[0]-=o?0:E.bDiv.scrollLeft,i.push($(E.hDiv).position().top),i.push($(E.bDiv).offset().top-$(E.hDiv).offset().top+$(E.bDiv).height()+(E.sDiv?$(E.sDiv).height():0)),i),n)),!1})).click((function(e){if(x.disableClick)return x.disableClick=!1;var t,i,n="th.ui-th-column>div";x.viewsortcols[2]?n+=".ui-jqgrid-sortable":n+=">span.s-ico>span.ui-grid-ico-sort";var r=$(e.target).closest(n);if(1===r.length){x.viewsortcols[2]||(t=!0,i=r.hasClass("ui-icon-desc")?"asc":"desc");var s=te(this);return null!=s&&ee.call(o,$("div",this)[0].id.substring(5+x.id.length+1),s,t,i,this,e),!1}})),x.sortable&&s(i.sortableColumns))try{i.sortableColumns.call(r,$(Pe[0].tHead.rows[0]))}catch(t){}x.footerrow&&(Ne+="</tr></tbody></table>"),Fe+="</tr>",r.html("<tbody>"+Fe+"</tbody>"),r.addClass(w("grid","ui-jqgrid-btable"+(!0===x.altRows&&r.jqGrid("isBootstrapGuiStyle")?" table-striped":"")));var Me,Le,ze=!(!x.caption||!0!==x.hiddengrid),qe=$("<div class='ui-jqgrid-hbox"+("rtl"===R?"-rtl":"")+"'></div>"),Be=w("top"),He=w("bottom");E.hDiv=document.createElement("div"),$(E.hDiv).css({width:E.width+"px"}).addClass(w("hDiv","ui-jqgrid-hdiv")).append(qe).scroll((function(){var e=$(this).next(".ui-jqgrid-bdiv")[0];return e&&(e.scrollLeft=this.scrollLeft),!1})),$(qe).append(Pe),Pe=null,ze&&$(E.hDiv).hide(),x.rowNum=parseInt(x.rowNum,10),(isNaN(x.rowNum)||x.rowNum<=0)&&(x.rowNum=x.maxRowNum),x.pager&&("string"==typeof x.pager&&"#"!==x.pager.substr(0,1)?(Le=x.pager,Me=$("#"+jqID(x.pager))):!0===x.pager?(Le=randId(),(Me=$("<div id='"+Le+"'></div>")).appendTo("body"),x.pager="#"+jqID(Le)):Le=(Me=$(x.pager)).attr("id"),0<Me.length?(Me.css({width:E.width+"px"}).addClass(w("pager.pager","ui-jqgrid-pager "+He)).appendTo(N),ze&&Me.hide(),Q.call(o,Le,""),x.pager="#"+jqID(Le)):x.pager=""),!1===x.cellEdit&&!0===x.hoverrows&&r.on("mouseover.jqGrid",(function(e){he=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(he).attr("class")&&$(he).addClass(we)})).on("mouseout.jqGrid",(function(e){he=$(e.target).closest("tr.jqgrow"),$(he).removeClass(we)}));var Ge=function(e){var t,i,n;do{if(0<(t=$(e).closest("td")).length){if(n=(i=t.parent()).parent().parent(),i.is(".jqgrow")&&(n[0]===this||n.is("table.ui-jqgrid-btable")&&(n[0].id||"").replace("_frozen","")===this.id))break;e=t.parent()}}while(0<t.length);return t};r.before(E.hDiv).click((function(e){var t=w("states.select"),n=e.target,s=Ge.call(o,n),a=s.parent();if(0!==a.length&&!hasOneFromClasses(a,Ce)){var l=a[0].id,c=s[0].cellIndex,d=$(n).hasClass("cbox")&&$(n).is(":enabled")&&!hasOneFromClasses(n,Ce),u=feedback.call(o,"beforeSelectRow",l,e),p=!1,f=jgrid.detectRowEditing.call(o,l),m=null!=f&&"cellEditing"!==f.mode;if("A"!==n.tagName&&(!m||d)){if(feedback.call(o,"onCellSelect",l,c,s.html(),e),!0===x.cellEdit){if(u&&x.multiselect&&d){if(h.call(r,l,!0,e),d&&!x.noCellSelection)return;p=!0}try{i.editCell.call(r,a[0].rowIndex,c,!0)}catch(e){}if(!x.multiselect||!x.noCellSelection||x.multiboxonly&&p)return}if(u)if(x.multikey)e[x.multikey]&&!p?h.call(r,l,!0,e):x.multiselect&&d&&(d=$("#jqg_"+jqID(x.id)+"_"+l).is(":checked"),$("#jqg_"+jqID(x.id)+"_"+l).prop("checked",!d));else if(x.multiselect&&x.multiboxonly)if(d&&!p)h.call(r,l,!0,e);else{var g=x.frozenColumns?x.id+"_frozen":"";$(x.selarrrow).each((function(e,n){var o=i.getGridRowById.call(r,n);o&&$(o).removeClass(t),$("#jqg_"+jqID(x.id)+"_"+jqID(n)).prop("checked",!1),g&&($("#"+jqID(n),"#"+jqID(g)).removeClass(t),$("#jqg_"+jqID(x.id)+"_"+jqID(n),"#"+jqID(g)).prop("checked",!1))})),clearArray(x.selarrrow),p||h.call(r,l,!0,e)}else{var v=x.selrow;p||h.call(r,l,!0,e),"toggle"!==x.singleSelectClickMode||x.multiselect||v!==l||(o.grid.fbRows&&(a=a.add(o.grid.fbRows[a[0].rowIndex]===a[0]?o.rows[a[0].rowIndex]:o.grid.fbRows[a[0].rowIndex])),a.removeClass(t).attr({"aria-selected":"false",tabindex:"-1"}),x.selrow=null)}else d&&$(n).prop("checked",!1)}}})).on("reloadGrid",(function(e,t){var n=this,o=n.grid,r=$(this),s=n.p;if(0<s.savedRow.length&&"prevent"===s.reloadingDuringEditing)return!1;if(!0===s.treeGrid&&(s.datatype=s.treedatatype),t=l({},defaults.reloadGridOptions||{},s.reloadGridOptions||{},t||{}),"local"===s.datatype&&s.dataTypeOrg&&s.loadonce&&t.fromServer&&(s.datatype=s.dataTypeOrg,delete s.dataTypeOrg),t.current&&o.selectionPreserver.call(n),"local"===s.datatype?(s.multiPageSelection||i.resetSelection.call(r),s.data.length&&(B.call(n),H.call(n))):s.treeGrid||s.multiPageSelection||(s.selrow=null,s.multiselect&&(clearArray(s.selarrrow),J.call(n,!1)),clearArray(s.savedRow),s.editingInfo={}),K(s.reloadingDuringEditing),s.iRow=-1,s.iCol=-1,s.scroll&&E.emptyRows.call(n,!0,!1),t.page){var a=parseInt(t.page,10);a>s.lastpage&&(a=s.lastpage),a<1&&(a=1),s.page=a,o.prevRowHeight?o.bDiv.scrollTop=(a-1)*o.prevRowHeight*s.rowNum:o.bDiv.scrollTop=0}return o.prevRowHeight&&s.scroll&&void 0===t.page?(delete s.lastpage,o.populateVisible.call(n)):o.populate.call(n),!0===s._inlinenav&&r.jqGrid("showAddEditButtons",!1),!1})).dblclick((function(e){var t=Ge.call(o,e.target),i=t.parent();if(0<t.length&&!feedback.call(o,"ondblClickRow",i.attr("id"),i[0].rowIndex,t[0].cellIndex,e))return!1})).on("contextmenu",(function(e){var t=Ge.call(o,e.target),i=t.parent(),n=i.attr("id");if(0!==t.length)return x.multiselect||x.selrow===n||!0!==x.selectOnContextMenu||h.call(r,n,!0,e),!!feedback.call(o,"onRightClickRow",n,i[0].rowIndex,t[0].cellIndex,e)&&void 0})),E.bDiv=document.createElement("div"),A&&"auto"===String(x.height).toLowerCase()&&(x.height="100%"),$(E.bDiv).append($("<div style='position:relative;'></div>").append("<div></div>").append(o)).addClass("ui-jqgrid-bdiv").css({height:x.height+(isNaN(x.height)?"":"px"),width:E.width+"px"}).scroll(E.scrollGrid),x.maxHeight&&$(E.bDiv).css("max-height",x.maxHeight+(isNaN(x.maxHeight)?"":"px")),r.css({width:"1px"}),$.support.tbody||2===$(">tbody",o).length&&$(">tbody:gt(0)",o).remove(),x.multikey&&$(E.bDiv).on(jgrid.msie?"selectstart":"mousedown",(function(){return!1})),ze&&$(E.bDiv).hide(),E.cDiv=document.createElement("div");var We=y("gridMinimize.visible"),Ue=y("gridMinimize.hidden"),Ve=k("showhide"),Ye=!0===x.hidegrid?$("<a role='link' class='"+w("titleButton","ui-jqgrid-titlebar-close")+"'"+(Ve?" title='"+Ve+"'":"")+"/>").hover((function(){Ye.addClass(we)}),(function(){Ye.removeClass(we)})).append("<span class='"+We+"'></span>"):"";if($(E.cDiv).append("<span class='ui-jqgrid-title'>"+x.caption+"</span>").append(Ye).addClass(w("gridTitle","ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===R?"-rtl ":" ")+Be)),$(E.cDiv).insertBefore(E.hDiv),x.toolbar[0]){E.uDiv=document.createElement("div"),"top"===x.toolbar[1]?$(E.uDiv).insertBefore(E.hDiv):"bottom"===x.toolbar[1]&&$(E.uDiv).insertAfter(E.hDiv);var Xe=w("toolbarUpper","ui-userdata");"both"===x.toolbar[1]?(E.ubDiv=document.createElement("div"),$(E.uDiv).addClass(Xe).attr("id","t_"+x.id).insertBefore(E.hDiv),$(E.ubDiv).addClass(w("toolbarBottom","ui-userdata")).attr("id","tb_"+x.id).insertAfter(E.hDiv),ze&&$(E.ubDiv).hide()):$(E.uDiv).width(E.width).addClass(Xe).attr("id","t_"+x.id),ze&&$(E.uDiv).hide()}if("string"==typeof x.datatype&&(x.datatype=x.datatype.toLowerCase()),x.toppager?(x.toppager=x.id+"_toppager",E.topDiv=$("<div id='"+x.toppager+"'></div>")[0],$(E.topDiv).addClass(w("pager.pager","ui-jqgrid-toppager"+(x.caption?"":" "+Be))).css({width:E.width+"px"}).insertBefore(E.hDiv),Q.call(o,x.toppager,"_t"),x.toppager="#"+jqID(x.toppager)):""!==x.pager||x.scroll||(x.rowNum=x.maxRowNum),x.footerrow&&(E.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],qe=$("<div class='ui-jqgrid-hbox"+("rtl"===R?"-rtl":"")+"'></div>"),$(E.sDiv).append(qe).width(E.width).insertAfter(E.hDiv),$(qe).append(Ne),E.footers=$(".ui-jqgrid-ftable",E.sDiv)[0].rows[0].cells,x.rownumbers&&(E.footers[0].className=w("rowNum","jqgrid-rownum")),ze&&$(E.sDiv).hide()),qe=null,x.caption){var Je=x.datatype;!0===x.hidegrid&&($(".ui-jqgrid-titlebar-close",E.cDiv).click((function(e){var t=".ui-jqgrid-bdiv,.ui-jqgrid-hdiv,.ui-jqgrid-pager,.ui-jqgrid-sdiv",i=this;!0===x.toolbar[0]&&("both"===x.toolbar[1]&&(t+=",#"+jqID($(E.ubDiv).attr("id"))),t+=",#"+jqID($(E.uDiv).attr("id")));var n=$(t,x.gView).length;return x.toppager&&(t+=","+x.toppager),"visible"===x.gridstate?$(t,x.gBox).slideUp("fast",(function(){0==--n&&($("span",i).removeClass(We).addClass(Ue),x.gridstate="hidden",$(x.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",x.gBox).hide(),$(E.cDiv).addClass(He),ze||feedback.call(o,"onHeaderClick",x.gridstate,e))})):"hidden"===x.gridstate&&($(E.cDiv).removeClass(He),$(t,x.gBox).slideDown("fast",(function(){0==--n&&($("span",i).removeClass(Ue).addClass(We),ze&&(x.datatype=Je,X.call(o),ze=!1),x.gridstate="visible",$(x.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",x.gBox).show(),ze||feedback.call(o,"onHeaderClick",x.gridstate,e))}))),!1})),ze&&(x.datatype="local",$(".ui-jqgrid-titlebar-close",E.cDiv).trigger("click")))}else $(E.cDiv).hide(),$(E.cDiv).nextAll("div:visible").first().addClass("ui-corner-top");$(E.hDiv).after(E.bDiv),E.eDiv=$("<div class='"+w("gridError","ui-jqgrid-errorbar ui-jqgrid-errorbar-"+R)+"' style='display:none;'><span class='"+w("gridErrorText","ui-jqgrid-error")+"'></span></div>")[0],$(E.hDiv).after(E.eDiv),$(N).click(O).dblclick((function(e){var t=$(x.rs),n=t.offset(),s=t.data("idx"),a=t.data("delta"),l=x.colModel[s],c=$(this).data("pageX")||t.data("pageX");if(null==c||null==l)return!1;var d=String(c).split(";"),u=parseFloat(d[0]),h=parseFloat(d[1]);return 2===d.length&&(5<Math.abs(u-h)||5<Math.abs(e.pageX-u)||5<Math.abs(e.pageX-h))||(feedback.call(o,"resizeDblClick",s,l)&&n.left-1<=e.pageX+a&&e.pageX+a<=n.left+t.outerWidth()+1&&l.autoResizable&&i.autoResizeColumn.call(r,s),feedback.call(o,"afterResizeDblClick",{iCol:s,cm:l,cmName:l.name})),!1})),x.pager||$(E.cDiv).nextAll("div:visible").filter(":last").addClass(He),$(".ui-jqgrid-labels",E.hDiv).on("selectstart",(function(){return!1})),o.formatCol=M,o.sortData=ee,o.updatepager=function(e,t){var i,n,o,r,s,a,l,c,d=this,u=$(d),h=d.grid,p=x.pager||"",f=x.pager?"_"+x.pager.substr(1):"",m=h.bDiv,g=$.fmatter?$.fmatter.NumberFormat:null,v=x.toppager?"_"+x.toppager.substr(1):"",b=w("states.hover"),y=w("states.disabled");if((o=parseInt(x.page,10)-1)<0&&(o=0),s=(o*=parseInt(x.rowNum,10))+x.reccount,x.scroll){var S=$(getGridComponent(COMPONENT_NAMES.BODY_TABLE,m)[0].rows).slice(1);o=s-S.length,x.reccount=S.length;var _=S.outerHeight()||h.prevRowHeight;if(_){var D=o*_,T=jgrid.fixMaxHeightOfDiv.call(d,parseInt(x.records,10)*_);$(m).children("div").first().css({height:T+"px"}).children("div").first().css({height:D+"px",display:""}),0===m.scrollTop&&1<x.page&&(m.scrollTop=x.rowNum*(x.page-1)*_)}m.scrollLeft=h.hDiv.scrollLeft}if(p+=x.toppager?(p?",":"")+x.toppager:""){if(l=C("formatter.integer")||{},i=I(x.page),n=I(x.lastpage),$(".selbox",p).prop("disabled",!1),!0===x.pginput){var j=$(".ui-pg-input",p),O=String(x.page).length;j.val(x.page),j.each((function(){var e=parseInt($(this).attr("size"),10);0<e&&e<O&&$(this).attr("size",O)})),c=x.toppager?"#sp_1"+f+",#sp_1"+v:"#sp_1"+f,$(c).html($.fmatter?g(x.lastpage,l):x.lastpage).closest(".ui-pg-table").each((function(){U.call(d,$(this))}))}x.viewrecords&&(0===x.reccount?$(".ui-paging-info",p).html(k("emptyrecords")):(r=o+1,a=x.records,$.fmatter&&(r=g(r,l),s=g(s,l),a=g(a,l)),$(".ui-paging-info",p).html(jgrid.format(k("recordtext"),r,s,a)))),!0===x.pgbuttons&&(n<=0&&(i=0),i<=0&&(i=n=0),1===i||0===i?($("#first"+f+", #prev"+f).addClass(y).removeClass(b),x.toppager&&$("#first_t"+v+", #prev_t"+v).addClass(y).removeClass(b)):($("#first"+f+", #prev"+f).removeClass(y),x.toppager&&$("#first_t"+v+", #prev_t"+v).removeClass(y)),i===n||0===i?($("#next"+f+", #last"+f).addClass(y).removeClass(b),x.toppager&&$("#next_t"+v+", #last_t"+v).addClass(y).removeClass(b)):($("#next"+f+", #last"+f).removeClass(y),x.toppager&&$("#next_t"+v+", #last_t"+v).removeClass(y)))}!0===e&&!0===x.rownumbers&&$(">td.jqgrid-rownum",d.rows).each((function(e){$(this).html(o+1+e)})),t&&x.jqgdnd&&u.jqGrid("gridDnD","updateDnD"),feedback.call(d,"gridComplete"),u.triggerHandler("jqGridAfterGridComplete")},o.refreshIndex=H,o.addItemDataToColumnIndex=q,o.removeItemDataFromColumnIndex=function(e){var t,i,n,o=x.dataIndexById[e];if(null!=o){for(t in o)if(o.hasOwnProperty(t))for(n in i=o[t])i.hasOwnProperty(n)&&(delete x.indexByColumnData[t][n][e],$.isEmptyObject(x.indexByColumnData[t][n])&&delete x.indexByColumnData[t][n]);delete x.dataIndexById[e]}},o.generateValueFromColumnIndex=function(e,t,i){var n,o,r=$(this).jqGrid("getUniqueValueFromColumnIndex",e),s="";if(null!=r)for(i=i||";",t=t||":",n=0,o=r.length;n<o;n++)""!==s&&(s+=i||";"),s+=r[n]+(t||":")+r[n];return s},o.setHeadCheckBox=J,o.fixScrollOffsetAndhBoxPadding=S,o.constructTr=function(e,t,n,o,r,a){var l,c="-1",d="",u=t?"display:none;":"",h=w("gridRow","jqgrow ui-row-"+x.direction)+(n?" "+n:"")+(a?" "+w("states.select"):""),p=$(this).triggerHandler("jqGridRowAttr",[o,r,e]);if("object"!=typeof p&&(p=s(x.rowattr)?x.rowattr.call(this,o,r,e):"string"==typeof x.rowattr&&null!=jgrid.rowattr&&s(jgrid.rowattr[x.rowattr])?jgrid.rowattr[x.rowattr].call(this,o,r,e):{}),null!=p&&!$.isEmptyObject(p)){p.hasOwnProperty("id")&&(e=p.id,delete p.id),p.hasOwnProperty("tabindex")&&(c=p.tabindex,delete p.tabindex),p.hasOwnProperty("style")&&(u+=p.style,delete p.style),p.hasOwnProperty("class")&&(h+=" "+p.class,delete p.class);try{delete p.role}catch(e){}for(l in p)p.hasOwnProperty(l)&&(d+=" "+l+"="+p[l])}if(x.treeGrid&&parseInt(o[x.treeReader.level_field],10)!==parseInt(x.tree_root_level,10)){var f=i.getNodeParent.call($(this),o);!f||!f.hasOwnProperty(x.treeReader.expanded_field)||f[x.treeReader.expanded_field]||t||(u+="display:none;")}return"<tr role='row' id='"+e+"' tabindex='"+c+"' class='"+h+"'"+(""===u?"":" style='"+u+"'")+d+">"},o.formatter=function(e,t,i,n,r,a){var l,c,d=x.colModel[i];if(void 0!==d.formatter){var u={rowId:e=""!==String(x.idPrefix)?(c=e,stripPref(x.idPrefix,c)):e,colModel:d,gid:x.id,pos:i,rowData:a||n};l=s(d.cellBuilder)?d.cellBuilder.call(o,t,u,n,r):s(d.formatter)?d.formatter.call(o,t,u,n,r):$.fmatter?$.fn.fmatter.call(o,d.formatter,t,u,n,r):L(t)}else l=L(t);if(l=d.autoResizable&&"actions"!==d.formatter?"<span class='"+x.autoResizing.wrapperClassName+"'>"+l+"</span>":l,x.treeGrid&&"edit"!==r&&(null==x.ExpandColumn&&0===i||x.ExpandColumn===d.name)){null==a&&(a=x.data[x._index[e]]);var h=parseInt(a[x.treeReader.level_field]||0,10),p=0===parseInt(x.tree_root_level,10)?h:h-1,f=a[x.treeReader.leaf_field],m=a[x.treeReader.expanded_field],g=a[x.treeReader.icon_field],v=f?(null!=g&&""!==g?g:x.treeIcons.leaf)+" tree-leaf":m?x.treeIcons.minus+" tree-minus":x.treeIcons.plus+" tree-plus";if(!f&&g&&"string"==typeof g){var b=g.split(",");2===b.length&&(v=m?b[0]:b[1])}l="<div class='tree-wrap' style='width:"+18*(p+1)+"px;'><div class='"+mergeCssClasses(x.treeIcons.commonIconClass,v,"treeclick")+"' style='"+(!0===x.ExpandColClick?"cursor:pointer;":"")+("rtl"===x.direction?"margin-right:":"margin-left:")+18*p+"px;'></div></div><span class='cell-wrapper"+(f?"leaf":"")+"'"+(x.ExpandColClick?" style='cursor:pointer;'":"")+">"+l+"</span>"}return l},l(E,{populate:X,emptyRows:function(e,t){var i=E.bDiv,n=null!=E.fbDiv?E.fbDiv.children(".ui-jqgrid-btable")[0]:null,o=function(e){if(e){var t=e.rows,i=t[0];if(x.deepempty)t&&$(t).slice(1).remove();else if(x.quickEmpty)if("quickest"===x.quickEmpty)e.replaceChild(document.createElement("tbody"),e.tBodies[0]),e.firstChild.appendChild(i);else for(;1<t.length;)e.deleteRow(t.length-1);else $(e.firstChild).empty().append(i)}};$(this).off(".jqGridFormatter"),o(this),o(n),e&&x.scroll&&($(i.firstChild).css({height:"auto"}),$(i.firstChild.firstChild).css({height:0,display:"none"}),0!==i.scrollTop&&(i.scrollTop=0)),!0===t&&x.treeGrid&&(clearArray(x.data),clearArray(x.lastSelectedData),x._index={},x.dataIndexById={},x.indexByColumnData={}),x.rowIndexes={},x.iRow=-1,x.iCol=-1},beginReq:V,endReq:Y}),o.addXmlData=W,o.addJSONData=W,o.rebuildRowIndexes=j,o.grid.cols=o.rows[0].cells,feedback.call(o,"onInitGrid"),x.treeGrid&&"local"===x.datatype&&null!=x.data&&0<x.data.length&&(x.datatype="jsonstring",x.datastr=x.data,x.data=[]),X.call(o),x.hiddengrid=!1}else f(C("errors.model"))}else f("Element is not a table!")}}))};var base=$.fn.jqGrid;jgrid.extend({getGridRes:function(e){var t=this[0];if(!t||!t.grid||!t.p)return null;var i=jgrid.getRes(locales[t.p.locale],e)||jgrid.getRes(locales["en-US"],e),n=jgrid.getRes(jgrid,e);return"object"!=typeof i||null===i||$.isArray(i)?void 0!==n?n:i:$.extend(!0,{},i,n||{})},getGuiStyles:function(e,t){var i=this instanceof $&&0<this.length?this[0]:this;if(!i||!i.grid||!i.p)return"";var n,o=i.p.guiStyle||jgrid.defaults.guiStyle||"jQueryUI",r=jgrid.getRes(jgrid.guiStyles[o],e);return void 0===r&&"string"==typeof(n=jgrid.getRes(jgrid.guiStyles[o],"baseGuiStyle"))&&(r=jgrid.getRes(jgrid.guiStyles[n],e)),jgrid.mergeCssClasses(r||"",t||"")},isBootstrapGuiStyle:function(){return 0<=$.inArray("ui-jqgrid-bootstrap",$(this).jqGrid("getGuiStyles","gBox").split(" "))},displayErrorMessage:function(e){var t=this instanceof $&&0<this.length?this[0]:this;if(t&&t.grid&&t.p&&e){var i=$(t.grid.eDiv),n=i.children(".ui-jqgrid-error");n.html(e),i.show(),t.p.errorDisplayTimeout&&setTimeout((function(){n.empty(),i.hide()}),t.p.errorDisplayTimeout)}},getIconRes:function(e){var t=this instanceof $&&0<this.length?this[0]:this;if(!t||!t.p)return"";var i=t.p,n=jgrid.icons[i.iconSet],o=function(e,t,i){var n,o,r,s=t.split("."),a=s.length,l=[];if(null==(e="string"==typeof e?jgrid.icons[e]:e))return"";for((n=e).common?l.push(n.common):i&&i.common&&l.push(i.common),r=0;r<a&&(o=s[r]);r++){if(r+1===a&&n.ignoreParents&&(l=[]),void 0===(n=n[o])){if("common"===o)break;return""}if("string"==typeof n){l.push(n);break}null!=n&&n.common&&l.push(n.common)}return jgrid.mergeCssClasses.apply(this,l)};if(null==n)return"";var r=o(i.iconSet,e);return""===r&&null!=n.baseIconSet&&(r=o(n.baseIconSet,e,jgrid.icons[i.iconSet])),r||""},isInCommonIconClass:function(e){var t=this instanceof $&&0<this.length?this[0]:this;if(!t||!t.p)return"";var i=t.p,n=jgrid.icons[i.iconSet];if(null==n)return!1;var o=n.common;if(void 0===o){if(null==n.baseIconSet)return!1;if(null==(n=jgrid.icons[n.baseIconSet]))return!1;o=n.common}return"string"==typeof o&&0<=$.inArray(e,o.split(" "))},getUniqueValueFromColumnIndex:function(e){var t=this[0];if(!t||!t.grid)return null;var i,n=[],o="",r=t.p.indexByColumnData[e];if(null!=r){for(o in r)if(r.hasOwnProperty(o)){for(i in r[o])if(r[o].hasOwnProperty(i)){o=String(r[o][i]);break}n.push(o)}t.p.ignoreCase?void 0===String.prototype.localeCompare?n.sort((function(e,t){var i=e.toLowerCase(),n=t.toLowerCase();return i===n?0:n<i?1:-1})):n.sort((function(e,t){return String(e).toLowerCase().localeCompare(String(t).toLowerCase())})):n.sort()}return n},generateDatalistFromColumnIndex:function(e){if(!this[0]||!this[0].grid)return null;var t,i,n=this.jqGrid("getUniqueValueFromColumnIndex",e),o=$("<datalist></datalist>");if(!(null!=n&&0<n.length))return $();for(t=0,i=n.length;t<i;t++)o.append($("<option></option>").attr("value",n[t]));return o},getGridParam:function(e){var t=this[0];return t&&t.grid?e?void 0!==t.p[e]?t.p[e]:null:t.p:null},setGridParam:function(e,t){return this.each((function(){null==t&&(t=!1),this.grid&&"object"==typeof e&&(!0===t?$.extend(this.p,e):$.extend(!0,this.p,e))}))},abortAjaxRequest:function(){return this.each((function(){null!=this.p.jqXhr&&this.p.jqXhr.abort(),this.grid.endReq.call(this)}))},getGridRowById:function(e){if(null==e)return null;var t,i=e.toString();return this.each((function(){var n,o,r=this.rows;if(null!=this.p.rowIndexes&&(o=r[this.p.rowIndexes[i]])&&o.id===i&&(t=o),!t)try{for(n=r.length;n--;)if(o=r[n],i===o.id){t=o;break}}catch(n){t=0<(t=$(this.grid.bDiv).find("#"+jqID(e))).length?t[0]:null}})),t},getDataIDs:function(){var e=[];return this.each((function(){var t,i,n=this.rows,o=n.length;if(o&&0<o)for(t=0;t<o;t++)i=n[t],$(i).hasClass("jqgrow")&&e.push(i.id)})),e},setSelection:function(e,t,i){return this.each((function(){var n,o,r,s,a,l,c,d,u,h,p,f,m,g,v=this,b=$(v),y=v.p,w=base.getGuiStyles,x=base.getGridRowById,C=w.call(b,"states.select"),k=w.call(b,"states.disabled"),S=v.grid.fbRows,_=function(e,t){var i=t?"addClass":"removeClass",n=y.iColByName.cb,o=t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"},r=function(e){$(e)[i](C).attr(o),void 0!==n&&$(e.cells[n]).children("input.cbox").prop("checked",t)};r(e),S&&r(S[e.rowIndex])};void 0!==e&&(t=!1!==t,null!=i&&0<(c=$(i.target).closest("tr.jqgrow")).length&&(o=c[0],S&&(o=v.rows[o.rowIndex])),null==o&&(o=x.call(b,e)),!o||!o.className||-1<o.className.indexOf(k)||(!0===y.scrollrows&&null!=(r=x.call(b,e))&&0<=(r=r.rowIndex)&&(u=v.rows[r],(p=(h=v.grid.bDiv).clientHeight)+(f=h.scrollTop)<=(m=$(u).position().top)+(g=u.clientHeight)?h.scrollTop=m-(p+f)+g+f:m<p+f&&m<f&&(h.scrollTop=m)),y.multiselect?(v.setHeadCheckBox(!1),y.selrow=o.id,d=jgrid.detectRowEditing.call(v,o.id),-1===(s=$.inArray(y.selrow,y.selarrrow))?(n=!0,y.selarrrow.push(y.selrow)):null===d||"inlineEditing"!==d.mode&&$(i.target).hasClass("cbox")?(n=!1,y.selarrrow.splice(s,1),a=y.selarrrow[0],y.selrow=void 0===a?null:a):n=!0,"ui-subgrid"!==o.className&&_(o,n),t&&feedback.call(v,"onSelectRow",o.id,n,i||{})):"ui-subgrid"!==o.className&&(y.selrow!==o.id?(null!==y.selrow&&(l=x.call(b,y.selrow))&&_(l,!1),_(o,!0),n=!0):n=!1,y.selrow=o.id,t&&feedback.call(v,"onSelectRow",o.id,n,i||{}))))}))},resetSelection:function(e){return this.each((function(){var t,i=this,n=$(this),o=i.p,r=base.getGuiStyles,s=base.getGridRowById,a=r.call(n,"states.select"),l="edit-cell "+a,c="selected-row "+r.call(n,"states.hover"),d=o.iColByName.cb,u=void 0!==d,h=i.grid.fbRows,p=function(e){var t,i="removeClass",n={"aria-selected":"false",tabindex:"-1"};$(e)[i](a).attr(n),u&&$(e.cells[d]).children("input.cbox").prop("checked",!1),h&&(t=h[e.rowIndex],$(t)[i](a).attr(n),u&&$(t.cells[d]).children("input.cbox").prop("checked",!1))};if(void 0!==e){if(t=s.call(n,e),p(t),u){i.setHeadCheckBox(!1);var f=$.inArray(e,o.selarrrow);-1!==f&&o.selarrrow.splice(f,1)}}else o.multiselect?($(i.rows).each((function(){var e=$.inArray(this.id,o.selarrrow);-1!==e&&(p(this),o.selarrrow.splice(e,1))})),i.setHeadCheckBox(!1),o.multiPageSelection||clearArray(o.selarrrow),o.selrow=null):o.selrow&&(t=s.call(n,o.selrow),p(t),o.selrow=null);!0===o.cellEdit&&0<=parseInt(o.iCol,10)&&0<=parseInt(o.iRow,10)&&(null!=(t=i.rows[o.iRow])&&($(t.cells[o.iCol]).removeClass(l),$(t).removeClass(c)),h&&null!=(t=h[o.iRow])&&($(t.cells[o.iCol]).removeClass(l),$(t).removeClass(c)))}))},isCellEditing:function(e,t,i){var n=this[0],o=jgrid.detectRowEditing.call(n,e);if(null!=o&&("inlineEditing"===o.mode||"cellEditing"===o.mode&&o.savedRow.ic===t)){t=isNaN(t)?n.p.iColByName[t]:parseInt(t,10);var r=null!=i&&i.id===e?i:base.getGridRowById.call($(n),e),s=n.p.colModel[t],a=s.editable;if($.isFunction(a)&&(a=a.call(n,{rowid:e,id:stripPref(n.p.idPrefix,e),iCol:t,iRow:r.rowIndex,cmName:s.name,cm:s,mode:o.mode,td:r.cells[t],tr:r,dataElement:jgrid.getDataFieldOfCell.call(n,r,t)[0]})),!0===a)return!0}return!1},getRowData:function(e,t){var i,n={};return"object"==typeof e&&(t=e,e=void 0),t=t||{},this.each((function(){var o,r,s,a,l,c,d,u=this,h=u.p,p=!1,f=1,m=u.rows;if(void 0===e)p=!0,i=[],f=m.length;else if(!(o=base.getGridRowById.call($(u),e)))return n;for(r=0;r<f;r++)if(p&&(o=m[r]),$(o).hasClass("jqgrow")){for(jgrid.detectRowEditing.call(u,e),a=$(o).find("td[role=gridcell]"),s=0;s<a.length;s++)if(c=(l=h.colModel[s]).name,$.inArray(c,h.reservedColumnNames)<0&&"actions"!==l.formatter&&(!t.skipHidden||!l.hidden))if(d=a[s],base.isCellEditing.call($(u),e,s,o))n[c]=jgrid.getEditedValue.call(u,jgrid.getDataFieldOfCell.call(u,o,s),l,{},l.editable);else if(!0===h.treeGrid&&c===h.ExpandColumn)n[c]=htmlDecode($("span",d).first().html());else try{n[c]=$.unformat.call(u,d,{rowId:e,colModel:l},s)}catch(o){n[c]=htmlDecode($(d).html())}!t.includeId||!1!==h.keyName&&null!=n[h.keyName]||(n[h.prmNames.id]=stripPref(h.idPrefix,o.id)),p&&(i.push(n),n={})}})),i||n},delRowData:function(e){var t=!1;return this.each((function(){var i,n,o,r=this,s=r.p,a=$.jgrid.detectRowEditing.call(r,e);if(!(i=base.getGridRowById.call($(r),e)))return!1;if(s.subGrid&&(o=$(i).next()).hasClass("ui-subgrid")&&o.remove(),null!=a)try{"inlineEditing"===a.mode&&null!=base.restoreRow?base.restoreRow.call($(r),e):"cellEditing"===a.mode&&null!=base.restoreCell&&base.restoreCell.call($(r),a.savedRow.id,a.savedRow.ic)}catch(i){}if(i.rowIndex===s.iRow&&(s.iRow=-1,s.iCol=-1),$(i).remove(),s.records--,s.reccount--,r.updatepager(!0,!1),t=!0,s.multiselect&&-1!==(n=$.inArray(e,s.selarrrow))&&s.selarrrow.splice(n,1),s.multiselect&&0<s.selarrrow.length?s.selrow=s.selarrrow[s.selarrrow.length-1]:s.selrow===e&&(s.selrow=null),"local"===s.datatype){var l=stripPref(s.idPrefix,e),c=s._index[l];void 0!==c&&(r.removeItemDataFromColumnIndex(l),s.data.splice(c,1),r.refreshIndex())}if(r.rebuildRowIndexes(),!0===s.altRows&&t&&!$(r).jqGrid("isBootstrapGuiStyle")){var d=s.altclass,u=r.grid.fbRows;$(r.rows).each((function(e){var t=$(this);u&&(t=t.add(u[this.rowIndex])),t[e%2==0?"addClass":"removeClass"](d)}))}feedback.call(r,"afterDelRow",e)})),t},setRowData:function(e,t,i){var n=!0;return this.each((function(){var o,r=this,s=r.p,a=typeof i,l={};if(!r.grid)return!1;if(!(o=base.getGridRowById.call($(r),e)))return!1;if(t)try{var c,d=stripPref(s.idPrefix,e),u=s._index[d],h={},p=null!=u?s.data[u]:void 0;if($(s.colModel).each((function(e){var i=this,n=i.name,o=getAccessor(t,n);void 0!==o&&("local"===s.datatype&&null!=p&&(o=convertOnSaveLocally.call(r,o,i,p[n],d,p,e),$.isFunction(i.saveLocally)?i.saveLocally.call(r,{newValue:o,newItem:l,oldItem:p,id:d,cm:i,cmName:n,iCol:e}):l[n]=o),h[n]=o)})),$(s.colModel).each((function(i){var n,a=this.name,c=getAccessor(t,a),d=$(o.cells[i]);if(void 0!==c){"local"===s.datatype&&null!=p&&(c=l[a]),n=this.title?{title:c}:{},c=r.formatter(e,c,i,t,"edit",h),"select"===this.formatter&&(n=this.title?{title:stripHtml(c)}:{});var u=d;!0===s.treeGrid&&a===s.ExpandColumn&&(u=u.children("span.cell-wrapperleaf,span.cell-wrapper").first()),u.html(c),d.attr(n),s.frozenColumns&&(u=$(r.grid.fbRows[o.rowIndex].cells[i]),!0===s.treeGrid&&a===s.ExpandColumn&&(u=u.children("span.cell-wrapperleaf,span.cell-wrapper").first()),u.html(c).attr(n))}})),"local"===s.datatype){if(s.treeGrid)for(c in s.treeReader)s.treeReader.hasOwnProperty(c)&&delete l[s.treeReader[c]];void 0!==p&&(s.data[u]=$.extend(!0,p,l),r.removeItemDataFromColumnIndex(d),r.addItemDataToColumnIndex(s.data[u],d))}feedback.call(r,"afterSetRow",{rowid:e,inputData:t,iData:u,iRow:o.rowIndex,tr:o,localData:l,cssProp:i})}catch(a){n=!1}n&&("string"===a?$(o).addClass(i):null!==i&&"object"===a&&$(o).css(i))})),n},changeRowid:function(e,t){return this.each((function(){var i,n,o,r,s,a,l,c=this,d=$(c),u=c.p;if(c.grid&&u&&e!==t&&(r=d.jqGrid("getGridRowById",e))&&null==d.jqGrid("getGridRowById",t)){var h=jgrid.stripPref(u.idPrefix,e),p=jgrid.stripPref(u.idPrefix,t),f=!1===u.keyName?u.prmNames.id:u.keyName,m=function(){var e=this.id,t=e.length-h.length;0<t&&e.substr(t)===h&&$(this).attr("id",e.substr(0,t)+p)};for(0<=u.iColByName[f]&&d.jqGrid("setCell",e,f,p),"local"===u.datatype&&void 0!==u._index[h]&&(u._index[p]=u._index[h],i=u.data[u._index[h]],delete u._index[h],i.hasOwnProperty(f)&&(i[f]=p)),u.rowIndexes[t]=r.rowIndex,delete u.rowIndexes[e],(s=null==c.grid.fbRows?$(r):$(r).add(c.grid.fbRows[r.rowIndex])).attr("id",t),u.selrow===e&&(u.selrow=t),$.isArray(u.selarrrow)&&0<=(n=$.inArray(e,u.selarrrow))&&(u.selarrrow[n]=t),u.multiselect&&(o="jqg_"+u.id+"_"+t,s.find("input.cbox").attr("id",o).attr("name",o)),n=0;n<u.colModel.length;n++)"actions"===(a=u.colModel[n]).formatter?s.find(".ui-jqgrid-actions .ui-pg-div").each(m):("showlink"===a.formatter||null!=a.unformat&&null!=a.formatter)&&(l=d.jqGrid("getCell",t,n),d.jqGrid("setCell",t,n,l,!1,!1,!0));feedback.call(c,"afterChangeRowid",{rowid:t,oldRowid:e,iRow:r.rowIndex,tr:r})}}))},addRowData:function(e,t,i,n){$.inArray(i,["first","last","before","after","afterSelected","beforeSelected"])<0&&(i="last");var o,r,s,a,l,c,d,u,h,p,f,m=!1;return t&&($.isArray(t)?(c=!0,d=e):c=!(t=[t]),this.each((function(){var g,v,b=this,y=b.p,w=t.length,x=$(b),C=b.rows,k=0,S=base.getGridRowById,_=y.colModel,D=y.additionalProperties;for(c||(void 0!==e?e=String(e):(e=randId(),!1!==y.keyName&&(d=y.keyName,void 0!==t[0][d]&&(e=t[0][d])))),u=y.altclass;k<w;){if(h=t[k],r=[],c)try{void 0===(e=h[d])&&(e=randId())}catch(g){e=randId()}for(f=jgrid.stripPref(y.idPrefix,e),g={},a=0;a<_.length;a++)p=_[a],"rn"!==(o=p.name)&&"cb"!==o&&"subgrid"!==o&&(l=convertOnSaveLocally.call(b,h[o],p,void 0,f,{},a),$.isFunction(p.saveLocally)?p.saveLocally.call(b,{newValue:l,newItem:g,oldItem:{},id:f,rowid:e,cm:p,cmName:o,iCol:a}):void 0!==l&&(g[o]=l));for(a=0;a<D.length;a++)"object"==typeof(o=D[a])&&o.hasOwnProperty("name")&&(o=o.name),void 0!==(l=getAccessor(h,o))&&(g[o]=l);if("local"===y.datatype&&(g[y.localReader.id]=f,y._index[f]=y.data.length,y.data.push(g),b.addItemDataToColumnIndex(g,f)),v=y.grouping,y.grouping=!1,r=jgrid.parseDataToHtml.call(b,1,[e],[h]),y.grouping=v,r=r.join(""),0===C.length)$(b.tBodies[0]).append(r);else switch("afterSelected"!==i&&"beforeSelected"!==i||(void 0===n&&null!==y.selrow?(n=y.selrow,i="afterSelected"===i?"after":"before"):i="afterSelected"===i?"last":"first"),i){case"last":$(C[C.length-1]).after(r),s=C.length-1;break;case"first":$(C[0]).after(r),s=1;break;case"after":(s=S.call(x,n))&&($(C[s.rowIndex+1]).hasClass("ui-subgrid")?($(C[s.rowIndex+1]).after(r),s=s.rowIndex+2):($(s).after(r),s=s.rowIndex+1));break;case"before":(s=S.call(x,n))&&($(s).before(r),s=s.rowIndex-1)}!0===y.subGrid&&base.addSubGrid.call(x,y.iColByName.subgrid,s),y.records++,y.reccount++,0===y.lastpage&&(y.lastpage=1),feedback.call(b,"afterAddRow",{rowid:e,inputData:t,position:i,srcRowid:n,iRow:s,tr:C[s],localData:g,iData:y.data.length-1}),k++}!0!==y.altRows||c||x.jqGrid("isBootstrapGuiStyle")||("last"===i?(C.length-1)%2==0&&$(C[C.length-1]).addClass(u):$(C).each((function(e){e%2==1?$(this).addClass(u):$(this).removeClass(u)}))),b.rebuildRowIndexes(),b.updatepager(!0,!0),m=!0}))),m},footerData:function(e,t,i){var n=!1,o={};return null==e&&(e="get"),"boolean"!=typeof i&&(i=!0),e=e.toLowerCase(),this.each((function(){var r,s,a,l,c=this,d=c.p;if(!c.grid||!d.footerrow)return!1;if("set"===e&&function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(t))return!1;n=!0;var u=$(c.grid.sDiv).children(".ui-jqgrid-hbox"+("rtl"===d.direction?"-rtl":"")).children(".ui-jqgrid-ftable")[0];if(null==u||null==u.rows)return!1;var h=u.rows[0].cells,p=d.colModel,f=null==c.grid.fsDiv?{}:c.grid.fsDiv.children(".ui-jqgrid-ftable")[0].rows[0].cells;if("get"===e)for(l=0;l<p.length;l++)a=p[l].name,$.inArray(a,d.reservedColumnNames)<0&&(!1!==t?(r=$(h[l]).text(),$.trim(r)&&(o[a]=r)):o[a]=$(h[l]).html());else if("set"===e)for(a in t)l=d.iColByName[a],t.hasOwnProperty(a)&&void 0!==l&&(r=i?c.formatter("",t[a],l,t,"edit"):t[a],(s=$(h[l]).add(f[l])).html(r),p[l].title&&s.attr({title:stripHtml(r)}))})),"get"===e?o:n},resetColumnResizerHeight:function(){return this.each((function(){if($.jgrid.msie){var e,t,i,n,o=this.grid.headers;for(i=0;i<o.length;i++)(n=(e=$(o[i].el)).height())&&0<(t=e.children(".ui-jqgrid-resize")).length&&.5<Math.abs(n-t.height())&&e.children(".ui-jqgrid-resize").height(n)}}))},rotateColumnHeaders:function(e,t){return this.each((function(){var i,n,o,r,s,a,l,c,d,u,h,p,f,m,g,v,b=$(this),y=this.p,w=y.frozenColumns&&$.isFunction(base.getNumberOfFrozenColumns)?b.jqGrid("getNumberOfFrozenColumns"):0;for($.isArray(e)||(e=[e]),i=0;i<e.length;i++)a=e[i],0<=(n=isNaN(a)?y.iColByName[a]:parseInt(a,10))&&(o=this.grid.headers[n].el,l=(r=n<w?$(o).add($(this.grid.fhDiv.find("#"+jqID(o.id)))):$(o)).children("div"),c=l.children("span.s-ico"),u=l.children("span.ui-jqgrid-sort-order"),(d=l.children("span."+y.autoResizing.wrapperClassName)).length<1&&(c.detach(),u.detach(),l.wrapInner("<span class='"+y.autoResizing.wrapperClassName+"'></span>"),d=l.children("span."+y.autoResizing.wrapperClassName),l.each((function(e){e<c.length&&$(this).append(c[e]),e<u.length&&$(this).append(u[e])}))),h=c.outerWidth(!0),p=d.outerWidth(),g=parseFloat(r.css("padding-top")||0),v=parseFloat(r.css("padding-bottom")||0),f=parseFloat(r.css("padding-left")||0),m=parseFloat(r.css("padding-right")||0),y.showSortOrder&&(h+=.5*h),s=void 0===t||0===t?p+h+f+m:t,r.height(s),r.css({paddingTop:m+"px",paddingBottom:f+"px",paddingLeft:g+"px",paddingRight:v+"px"}),l.css("min-width",s-f-m+"px").addClass("ui-jqgrid-rotate").css({bottom:0}),y.colModel[n].rotated=!0);b.jqGrid("resetColumnResizerHeight"),y.frozenColumns&&setTimeout((function(){b.triggerHandler("jqGridResetFrozenHeights",{header:{resizeDiv:!0,resizedRows:{iRowStart:0,iRowEnd:-1}},resizeFooter:!0,body:{resizeDiv:!0,resizedRows:{iRowStart:-1,iRowEnd:-1}}})}),0)}))},showHideCol:function(e,t,i){return this.each((function(){var n,o=this,r=$(o),s=o.grid,a=!1,l=o.p,c=jgrid.cell_width?0:l.cellLayout;if(s){"string"==typeof e&&(e=[e]),i=i||{};var d=""==(t="none"!==t&&!1!==t?"":"none"),u=l.groupHeader,h=u&&("object"==typeof u||$.isFunction(u));if(h&&!i.skipSetGroupHeaders&&base.destroyGroupHeader.call(r,!1),$(l.colModel).each((function(r){var u=function(e){var i,n,o,s,a,c,u,h,p,f,m,g,v,b,y;for(i=0,n=e.length;i<n;i++)s=(o=e[i]).cells[r],(!$(o).hasClass("jqgroup")||null!=s&&1===s.colSpan)&&(a=$(s),0===i&&$(o).hasClass("jqgfirstrow")?(a.css("height","1px"),a.css("display",t),a.css("height","0")):a.css("display",t),d&&null!=s&&"TH"===s.tagName.toUpperCase()&&a.hasClass("ui-th-column")&&(c=a.children("div")).hasClass("ui-jqgrid-rotate")&&(u=c.children("span.s-ico"),(h=c.children("span."+l.autoResizing.wrapperClassName)).outerHeight(),p=h.outerWidth(),u.outerHeight(),f=u.outerWidth(!0),0<h.length&&(g=parseFloat(a.css("padding-top")||0),v=parseFloat(a.css("padding-bottom")||0),b=parseFloat(a.css("padding-left")||0),y=parseFloat(a.css("padding-right")||0),l.showSortOrder&&(f+=.5*f),m=p+f+b+y,a.height(m),a.css({paddingTop:y+"px",paddingBottom:b+"px",paddingLeft:g+"px",paddingRight:v+"px"}),c.css("min-width",m-b-y+"px").css({bottom:0}))))};if(-1!==$.inArray(this.name,e)&&this.hidden===d){if(!0===l.frozenColumns&&!0===this.frozen&&!i.notSkipFrozen)return!0;u($(s.hDiv).find(".ui-jqgrid-htable>thead>tr")),!0===l.frozenColumns&&null!=s.fhDiv&&u($(s.fhDiv).find(".ui-jqgrid-htable>thead>tr")),u(o.rows),!0===l.frozenColumns&&null!=s.fbRows&&u(o.rows),l.footerrow&&(u($(s.sDiv).find("tr.footrow")),!0===l.frozenColumns&&null!=s.fsDiv&&u($(s.fsDiv).find("tr.footrow"))),n=parseInt(this.width,10),"none"===t?l.tblwidth-=n+c:l.tblwidth+=n+c,this.hidden=!d,a=!0,i.skipFeedback?(i.toReport=i.toReport||{},i.toReport[this.name]=d):feedback.call(o,"onShowHideCol",d,this.name,r,i)}})),!0===a){var p=l.autowidth||void 0!==l.widthOrg&&"auto"!==l.widthOrg&&"100%"!==l.widthOrg?l.width:l.tblwidth+parseInt(l.scrollOffset,10);i.skipSetGridWidth?i.newGridWidth=p:base.setGridWidth.call(r,p)}if(h&&!i.skipSetGroupHeaders)if(null!=l.pivotOptions&&null!=l.pivotOptions.colHeaders&&1<l.pivotOptions.colHeaders.length){var f,m=l.pivotOptions.colHeaders;for(f=0;f<m.length;f++)m[f]&&m[f].groupHeaders.length&&base.setGroupHeaders.call(r,m[f])}else base.setGroupHeaders.call(r,l.groupHeader)}}))},hideCol:function(e,t){return this.each((function(){base.showHideCol.call($(this),e,"none",t)}))},showCol:function(e,t){return this.each((function(){base.showHideCol.call($(this),e,"",t)}))},remapColumns:function(e,t,i){var n,o,r,s,a=this[0],l=a.p,c=a.grid,d=$.makeArray,u=!0===l.frozenColumns,h=this.jqGrid("getNumberOfFrozenColumns");function p(e){var t=e.length?d(e):$.extend({},e);$.each(s,(function(i){e[i]=t[this]}))}function f(e,t){(t?e.children(t):e.children()).each((function(){var e=this,t=d(e.cells);$.each(s,(function(i){var n=t[this],o=e.cells[i];null!=n&&null!=o&&n.cellIndex!==i&&n.parentNode.insertBefore(n,o)}))}))}if(null!=c&&null!=l){for(s=function(){var t,i=[],n=[],o=e.length;for(t=0;t<o;t++)u&&e[t]<h?i.push(e[t]):n.push(e[t]);return i.concat(n)}(),p(l.colModel),p(l.colNames),p(c.headers),r=$(c.hDiv).children("div").children("table.ui-jqgrid-htable").children("thead"),u&&null!=c.fhDiv&&(r=r.add(c.fhDiv.children("table.ui-jqgrid-htable").children("thead"))),f(r,i&&":not(.ui-jqgrid-labels)"),t&&(r=$(a.tBodies[0]),u&&null!=c.fbDiv&&(r=r.add(c.fbDiv.children("table.ui-jqgrid-btable").children("tbody").first())),f(r,"tr.jqgfirstrow,tr.jqgrow,tr.jqfoot")),l.footerrow&&(r=$(c.sDiv).children("div").children("table.ui-jqgrid-ftable").children("tbody").first(),u&&null!=c.fsDiv&&(r=r.add(c.fsDiv.children("table.ui-jqgrid-ftable").children("tbody").first())),f(r)),l.remapColumns&&(l.remapColumns.length?p(l.remapColumns):l.remapColumns=d(s)),l.lastsort=$.inArray(l.lastsort,s),l.iColByName={},n=0,o=l.colModel.length;n<o;n++)l.iColByName[l.colModel[n].name]=n;feedback.call(a,"onRemapColumns",s,t,i)}},remapColumnsByName:function(e,t,i){var n,o,r=this[0].p,s=[],a=e.slice(),l=$.inArray;for(r.subGrid&&l("subgrid",a)<0&&a.unshift("subgrid"),r.multiselect&&l("cb",a)<0&&a.unshift("cb"),r.rownumbers&&l("rn",a)<0&&a.unshift("rn"),n=0,o=a.length;n<o;n++)s.push(r.iColByName[a[n]]);return base.remapColumns.call(this,s,t,i),this},setGridWidth:function(e,t){return this.each((function(){var i,n,o,r,s=this,a=s.p,l=s.grid,c=0,d=0,u=!1,h=0,p=jgrid.isCellClassHidden,f=e;if(l&&null!=a){s.fixScrollOffsetAndhBoxPadding();var m,g,v,b,y=a.colModel,w=a.scrollOffset,x=jgrid.cell_width?0:a.cellLayout,C=l.headers,k=l.footers,S=l.bDiv,_=l.hDiv,D=l.sDiv,T=l.cols,j=$(_).find(">div>.ui-jqgrid-htable>thead>tr").first()[0].cells,O=function(e){l.width=a.width=e,$(a.gBox).css("width",e+"px"),$(a.gView).css("width",e+"px"),$(S).css("width",e+"px"),$(_).css("width",e+"px"),a.pager&&$(a.pager).css("width",e+"px"),a.toppager&&$(a.toppager).css("width",e+"px"),!0===a.toolbar[0]&&($(l.uDiv).css("width",e+"px"),"both"===a.toolbar[1]&&$(l.ubDiv).css("width",e+"px")),a.footerrow&&$(D).css("width",e+"px")};if("boolean"!=typeof t&&(t=a.shrinkToFit),!isNaN(f)){if(O(f=parseInt(f,10)),!1===t&&!0===a.forceFit&&(a.forceFit=!1),!0===t){if($.each(y,(function(){!1!==this.hidden||p(this.classes)||(i=this.widthOrg,c+=i+x,this.fixed?h+=this.width+x:d++)})),0===d)return;if(a.tblwidth=parseInt(c,10),o=f-x*d-h,isNaN(a.height)||(S.clientHeight<S.scrollHeight||1===s.rows.length)&&(u=!0,o-=w),(b=o/(a.tblwidth-x*d-h))<0)return;if(v=(c=0)<T.length,$.each(y,(function(e){!1!==this.hidden||p(this.classes)||this.fixed||(i=Math.round(this.widthOrg*b),this.width=i,c+=i,C[e].width=i,j[e].style.width=i+"px",a.footerrow&&(k[e].style.width=i+"px"),v&&(T[e].style.width=i+"px"),n=e)})),!n)return;r=0,u?f-h-(c+x*d)!==w&&(r=f-h-(c+x*d)-w):1!==Math.abs(f-h-(c+x*d))&&(r=f-h-(c+x*d)),(m=y[n]).width+=r,a.tblwidth=parseInt(c+r+x*d+h,10),a.tblwidth>f&&(g=a.tblwidth-parseInt(f,10),a.tblwidth=f,m.width=m.width-g),i=m.width,C[n].width=i,j[n].style.width=i+"px",v&&(T[n].style.width=i+"px"),a.footerrow&&(k[n].style.width=i+"px"),a.tblwidth+(u?w:0)<a.width&&O(a.tblwidth+(u?w:0)),S.offsetWidth>S.clientWidth&&(a.autowidth||void 0!==a.widthOrg&&"auto"!==a.widthOrg&&"100%"!==a.widthOrg||O(S.offsetWidth))}a.tblwidth&&(a.tblwidth=parseInt(a.tblwidth,10),f=a.tblwidth,_.scrollLeft=S.scrollLeft,g=Math.abs(f-a.width),a.shrinkToFit&&!t&&g<3&&0<g&&(f<a.width&&O(f),S.offsetWidth>S.clientWidth&&(a.autowidth||void 0!==a.widthOrg&&"auto"!==a.widthOrg&&"100%"!==a.widthOrg||O(S.offsetWidth)))),s.fixScrollOffsetAndhBoxPadding();var I={resizeDiv:!0,resizedRows:{iRowStart:t?0:-1,iRowEnd:-1}};$(s).triggerHandler("jqGridResetFrozenHeights",[{header:I,resizeFooter:!0,body:I}])}}}))},setGridHeight:function(e){return this.each((function(){var t=this,i=t.grid,n=t.p;if(i){var o=$(i.bDiv);o.css({height:e+(isNaN(e)?"":"px")}),!0===n.frozenColumns&&$(n.idSel+"_frozen").parent().height(o.height()-16),n.height=e,n.scroll&&i.populateVisible.call(t),t.fixScrollOffsetAndhBoxPadding(),$(t).triggerHandler("jqGridResetFrozenHeights")}}))},setCaption:function(e){return this.each((function(){var t=this.grid.cDiv;this.p.caption=e,$("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",t).html(e),$(t).show(),$(t).nextAll("div").removeClass(base.getGuiStyles.call(this,"top")),$(this).triggerHandler("jqGridResetFrozenHeights")}))},setLabel:function(e,t,i,n){return this.each((function(){var o,r,s=this.p;if(this.grid){if(isNaN(e)){if(void 0===(o=s.iColByName[e]))return}else o=parseInt(e,10);0<=o&&(r=$(this.grid.headers[o].el),s.frozenColumns&&(r=r.add(this.grid.fhDiv.find("#"+jqID(r)))),t&&(r.each((function(){var e=$("[id^=jqgh_]",this),i=e.children("span.ui-jqgrid-cell-wrapper");if(0<i.length)i.html(t);else{var n=$(".s-ico",this);e.empty().html(t)[s.sortIconsBeforeText?"prepend":"append"](n)}})),s.colNames[o]=t),i&&("string"==typeof i?r.addClass(i):r.css(i)),"object"==typeof n&&r.attr(n))}}))},setCell:function(e,t,i,n,o,r){return this.each((function(){var s,a,l,c,d,u,h,p,f,m,g,v=this,b=v.p,y=b.colModel,w={};if(v.grid&&0<=(s=isNaN(t)?b.iColByName[t]:parseInt(t,10))&&(u=base.getGridRowById.call($(v),e))){if(h=jgrid.getCell.call(v,u,s),""!==i||!0===r){if(c=y[s],"local"===b.datatype&&(m=stripPref(b.idPrefix,e),void 0!==(g=b._index[m])&&(d=b.data[g])),null==d){for(l=0;l<u.cells.length;l++)if(l!==s&&0<(p=jgrid.getDataFieldOfCell.call(v,u,l)).length){try{f=$.unformat.call(v,p,{rowId:e,colModel:y[l]},l)}catch(s){f=htmlDecode(p[0].innerHTML)}w[y[l].name]=f}}else w=d;w[c.name]=i,a=v.formatter(e,i,s,w,"edit");var x=h;!0===b.treeGrid&&c.name===b.ExpandColumn&&(x=x.children("span.cell-wrapperleaf,span.cell-wrapper").first()),x.html(a),c.title&&h.attr({title:i}),null!=d&&(a=convertOnSaveLocally.call(v,i,c,d[c.name],m,d,s),$.isFunction(c.saveLocally)?c.saveLocally.call(v,{newValue:a,newItem:d,oldItem:d,id:m,cm:c,cmName:c.name,iCol:s}):d[c.name]=a)}(n||o)&&(h=jgrid.getCell.call(v,u,s),n&&h["string"==typeof n?"addClass":"css"](n),"object"==typeof o&&h.attr(o))}}))},getCell:function(e,t){var i=!1;return this.each((function(){var n,o,r,s,a=this,l=a.p;if(a.grid&&0<=(n=isNaN(t)?l.iColByName[t]:parseInt(t,10))&&(o=base.getGridRowById.call($(a),e))){r=jgrid.getDataFieldOfCell.call(a,o,n).first(),s=l.colModel[n];try{i=base.isCellEditing.call($(a),e,n,o)?jgrid.getEditedValue.call(a,r,s,{},s.editable):$.unformat.call(a,r,{rowId:o.id,colModel:s},n)}catch(n){i=htmlDecode(r.html())}}})),i},getCol:function(e,t,i){var n,o,r,s,a=[],l=0;return t="boolean"==typeof t&&t,void 0===i&&(i=!1),this.each((function(){var c,d,u=this,h=u.p;if(u.grid&&0<=(c=isNaN(e)?h.iColByName[e]:parseInt(e,10))){var p,f,m=u.rows,g=m.length,v=0,b=0,y=h.colModel[c];if(g&&0<g){for(;v<g;){if(p=m[v],$(p).hasClass("jqgrow")){d=jgrid.getDataFieldOfCell.call(u,p,c).first(),f=p.id;try{n=base.isCellEditing.call($(u),f,c,p)?jgrid.getEditedValue.call(u,d,y,{},y.editable):$.unformat.call(u,d,{rowId:f,colModel:y},c)}catch(c){n=htmlDecode(d.html())}i?(s=parseFloat(n),isNaN(s)||(l+=s,void 0===r&&(r=o=s),o=Math.min(o,s),r=Math.max(r,s),b++)):t?a.push({id:f,value:n}):a.push(n)}v++}if(i)switch(i.toLowerCase()){case"sum":a=l;break;case"avg":a=l/b;break;case"count":a=g-1;break;case"min":a=o;break;case"max":a=r}}}})),a},clearGridData:function(e){return this.each((function(){var t=this,i=t.p,n=t.rows,o=t.grid;o&&i&&n&&("boolean"!=typeof e&&(e=!1),$(t).off(".jqGridFormatter"),o.emptyRows.call(t,!1,!0),i.footerrow&&e&&$(".ui-jqgrid-ftable td",o.sDiv).html("&#160;"),i.selrow=null,clearArray(i.selarrrow),clearArray(i.savedRow),i.editingInfo={},clearArray(i.data),clearArray(i.lastSelectedData),i._index={},i.rowIndexes={},i.dataIndexById={},i.indexByColumnData={},i.records=0,i.page=1,i.lastpage=0,i.reccount=0,t.updatepager(!0,!1))}))},getInd:function(e,t){var i=base.getGridRowById.call($(this),e);return!!i&&(!0===t?i:i.rowIndex)},bindKeys:function(e){var t=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each((function(){var e=this,i=e.p,n=$(e);i.scrollrows=t.scrollingRows,n.on("keydown.jqGrid",(function(o){var r=$(this).find("tr[tabindex=0]")[0],s=jgrid.detectRowEditing.call(e,$(o.target).closest("tr.jqgrow").attr("id")),a=function(e){do{if(null===(r=r[e]))return}while($(r).is(":hidden")||!$(r).hasClass("jqgrow"));base.setSelection.call(n,r.id,!0),o.preventDefault()},l=function(o,r){var s=t["on"+o+(r||"")];n.triggerHandler("jqGridKey"+o,[i.selrow]),$.isFunction(s)&&s.call(e,i.selrow)},c=function(e){if(i.treeGrid){var t=i.data[i._index[stripPref(i.idPrefix,r.id)]][i.treeReader.expanded_field];"Right"===e&&(t=!t),t&&$(r).find("div.treeclick").trigger("click")}l(e,"Key")};if(r&&null===s)switch(o.keyCode){case 38:a("previousSibling");break;case 40:a("nextSibling");break;case 37:c("Left");break;case 39:c("Right");break;case 13:l("Enter");break;case 32:l("Space")}}))}))},unbindKeys:function(){return this.each((function(){$(this).off("keydown.jqGrid")}))},getLocalRow:function(e){var t,i=!1;return this.each((function(){var n=this.p;void 0!==e&&null!=n&&null!=n._index&&null!=n.data&&0<=(t=n._index[stripPref(n.idPrefix,e)])&&(i=n.data[t])})),i},progressBar:function(e){return e=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},e||{}),this.each((function(){var t="show"===e.method,i=jqID(this.p.id),n=$("#load_"+i);switch(""!==e.htmlcontent&&n.html(e.htmlcontent),e.loadtype){case"disable":break;case"enable":n.toggle(t);break;case"block":$("#lui_"+i).toggle(t),n.toggle(t)}}))},setColWidth:function(e,t,i,n){return this.each((function(){var o,r=$(this),s=this.grid,a=this.p;if("string"==typeof e){if(void 0===(e=a.iColByName[e]))return}else if("number"!=typeof e)return;null!=(o=s.headers[e])&&(o.newWidth=t,s.newWidth=a.tblwidth+t-o.width,s.resizeColumn(e,!a.frozenColumns,n),!1===i||n||(this.fixScrollOffsetAndhBoxPadding(),base.setGridWidth.call(r,s.newWidth+a.scrollOffset,!1)))}))},getAutoResizableWidth:function(e){var t=this;if(0===t.length)return-1;var i,n,o,r,s,a=(t=t[0]).rows,l=t.p,c=l.colModel[e],d=$(t.grid.headers[e].el),u=d.children("div"),h=parseFloat(d.css(c.rotated?"padding-top":"padding-left")||0),p=parseFloat(d.css(c.rotated?"padding-bottom":"padding-right")||0),f=u.children("span.s-ico"),m=u.children(".ui-jqgrid-sort-order"),g=u.children("."+l.autoResizing.wrapperClassName),v=c.rotated?g.outerHeight():g.outerWidth(),b=parseFloat(g.css(c.rotated?"height":"width")||0),y=0,w=0,x=null!=c.autoResizing&&void 0!==c.autoResizable.compact?c.autoResizable.compact:l.autoResizing.compact,C=l.autoResizing.wrapperClassName;if(null==c||!c.autoResizable||0===g.length||c.hidden||jgrid.isCellClassHidden(c.classes)||c.fixed)return-1;for(x&&!f.is(":visible")&&"none"===f.css("display")||(w=c.rotated?f.outerHeight(!0):f.outerWidth(!0)+(0<m.length?m.outerWidth(!0):0),l.sortIconsBeforeText||(w-="rtl"===l.direction?parseFloat(f.css("padding-left")||0)+parseFloat(f.css("margin-left")||0):parseFloat(f.css("padding-right")||0)+parseFloat(f.css("margin-right")||0))),c.rotated?w=Math.max(w,v+h+p):w+=v+h+(b===v?h+p:0)+parseFloat(u.css("margin-left")||0)+parseFloat(u.css("margin-right")||0),o=0,a=t.rows;o<a.length;o++)n=(i=a[o]).cells[e],r=$(i.cells[e]),null!=n&&($(i).hasClass("jqgrow")&&"none"!==i.style.display&&"none"!==n.style.display||$(i).hasClass("jqgroup")&&1===n.colSpan)?(s=$(n.firstChild)).hasClass(C)?w=Math.max(w,s.outerWidth()+y):l.treeGrid&&l.ExpandColumn===c.name&&(s=r.children(".cell-wrapper,.cell-wrapperleaf"),w=Math.max(w,s.outerWidth()+y+r.children(".tree-wrap").outerWidth())):$(i).hasClass("jqgfirstrow")&&(y=(jgrid.cell_width?parseFloat(r.css("padding-left")||0)+parseFloat(r.css("padding-right")||0):0)+parseFloat(r.css("border-right")||0)+parseFloat(r.css("border-left")||0));return w=Math.max(w,null!=c.autoResizing&&void 0!==c.autoResizing.minColWidth?c.autoResizing.minColWidth:l.autoResizing.minColWidth),Math.min(w,null!=c.autoResizing&&void 0!==c.autoResizing.maxColWidth?c.autoResizing.maxColWidth:l.autoResizing.maxColWidth)},autoResizeColumn:function(e,t){return this.each((function(){var i,n=$(this),o=this.p,r=o.colModel[e],s=$(this.grid.headers[e].el),a=base.getAutoResizableWidth.call(n,e),l=(r.autoResizing||{}).resetWidthOrg;null==r||a<0||a===r.width||(base.setColWidth.call(n,e,a,o.autoResizing.adjustGridWidth&&!o.autoResizing.fixWidthOnShrink&&!t,t),o.autoResizing.fixWidthOnShrink&&o.shrinkToFit&&!t&&(r.fixed=!0,i=r.widthOrg,r.widthOrg=r.width,base.setGridWidth.call(n,o.width,!0),r.widthOrg=i,r.fixed=!1),(l||void 0===l&&o.autoResizing.resetWidthOrg)&&(r.widthOrg=r.width),s.data("autoResized","true"))}))},autoResizeAllColumns:function(){return this.each((function(){var e,t,i=$(this),n=this.p,o=n.colModel,r=o.length,s=n.shrinkToFit,a=n.autoResizing.adjustGridWidth,l=n.autoResizing.fixWidthOnShrink,c=parseInt(n.widthOrg,10),d=this.grid,u=base.autoResizeColumn;for(n.shrinkToFit=!1,n.autoResizing.adjustGridWidth=!0,n.autoResizing.fixWidthOnShrink=!1,e=0;e<r;e++)(t=o[e]).autoResizable&&"actions"!==t.formatter&&u.call(i,e,!0);d.hDiv.scrollLeft=d.bDiv.scrollLeft,n.footerrow&&(d.sDiv.scrollLeft=d.bDiv.scrollLeft),this.fixScrollOffsetAndhBoxPadding(),isNaN(c)?a&&base.setGridWidth.call(i,d.newWidth+n.scrollOffset,!1):base.setGridWidth.call(i,c,!1),n.autoResizing.fixWidthOnShrink=l,n.autoResizing.adjustGridWidth=a,n.shrinkToFit=s}))}});var getTdByColumnIndex=function(e,t){var i=this.grid.fbRows;return null!=(e=null!=i&&i[0].cells.length>t?i[e.rowIndex]:e)&&null!=e.cells?$(e.cells[t]):$()},safeHeightSet=function(e,t){var i=e.height();1<=Math.abs(i-t)&&0<t&&(e.height(t),i=e.height(),1<=Math.abs(t-i)&&e.height(t+Math.round(t-i)))};jgrid.extend({editCell:function(e,t,i){return this.each((function(){var n,o,r,s,a=this,l=$(a),c=a.p,d=a.rows;if(a.grid&&!0===c.cellEdit&&null!=d&&null!=d[e]&&(e=parseInt(e,10),t=parseInt(t,10),!isNaN(e)&&!isNaN(t))){var u,h=d[e],p=null!=h?h.id:null,f=$(h),m=parseInt(c.iCol,10),g=parseInt(c.iRow,10),v=$(d[g]),b=c.savedRow;if(null!=p){if(c.selrow=p,c.knv||l.jqGrid("GridNav"),0<b.length&&0<v.length){if(!0===i&&e===g&&t===m)return;l.jqGrid("saveCell",b[0].id,b[0].ic)}else setTimeout((function(){$("#"+jgrid.jqID(c.knv)).attr("tabindex","-1").focus()}),1);if("subgrid"!==(n=(s=c.colModel[t]).name)&&"cb"!==n&&"rn"!==n){r=getTdByColumnIndex.call(a,h,t);var y=s.editable;$.isFunction(y)&&(y=y.call(a,{rowid:p,iCol:t,iRow:e,cmName:n,cm:s,mode:"cell"}));var w=l.jqGrid("getGuiStyles","states.select","edit-cell"),x=l.jqGrid("getGuiStyles","states.hover","selected-row");if(!0!==y||!0!==i||r.hasClass("not-editable-cell"))c.noCellSelection||(0<=m&&0<=g&&(getTdByColumnIndex.call(a,v[0],m).removeClass(w),v.removeClass(x)),r.addClass(w),f.addClass(x)),o=r.html().replace(/&#160;/gi,""),feedback.call(a,"onSelectCell",p,n,o,e,t);else{c.noCellSelection||(0<=m&&0<=g&&(getTdByColumnIndex.call(a,v[0],m).removeClass(w),v.removeClass(x)),r.addClass(w),f.addClass(x)),s.edittype||(s.edittype="text"),u=s.edittype;try{o=$.unformat.call(a,r,{rowId:p,colModel:s},t)}catch(n){o="textarea"===u?r.text():r.html()}if(c.autoEncodeOnEdit&&(o=jgrid.oldDecodePostedData(o)),("&nbsp;"===o||"&#160;"===o||1===o.length&&160===o.charCodeAt(0))&&(o=""),$.isFunction(c.formatCell)){var C=c.formatCell.call(a,p,n,o,e,t);void 0!==C&&(o=C)}feedback.call(a,"beforeEditCell",p,n,o,e,t),b.push({id:e,ic:t,name:n,v:o}),c.editingInfo[p]={mode:"cellEditing",savedRow:b[b.length-1],editable:{}},c.editingInfo[p].editable[n]=y;var k=$.extend({},s.editoptions||{},{id:e+"_"+n,name:n,rowId:p,mode:"cell",cm:s,iCol:t}),S=jgrid.createEl.call(a,u,k,o,!0,$.extend({},jgrid.ajaxOptions,c.ajaxSelectOptions||{})),_=r,D=!0===c.treeGrid&&n===c.ExpandColumn;D&&(_=r.children("span.cell-wrapperleaf,span.cell-wrapper")),_.html("").append(S).attr("tabindex","0"),D&&$(S).width(r.width()-r.children("div.tree-wrap").outerWidth()),jgrid.bindEv.call(a,S,k),c.frozenColumns&&t<l.jqGrid("getNumberOfFrozenColumns")&&safeHeightSet($(a.rows[h.rowIndex].cells[t]),r.height()),setTimeout((function(){$(S).focus()}),0),$("input, select, textarea",r).on("keydown",(function(i){if(27===i.keyCode&&(0<$("input.hasDatepicker",r).length?$(".ui-datepicker").is(":hidden")?l.jqGrid("restoreCell",e,t):$("input.hasDatepicker",r).datepicker("hide"):l.jqGrid("restoreCell",e,t)),13===i.keyCode&&!i.shiftKey)return l.jqGrid("saveCell",e,t),!1;if(9===i.keyCode){if(a.grid.hDiv.loading)return!1;i.shiftKey?l.jqGrid("prevCell",e,t):l.jqGrid("nextCell",e,t)}i.stopPropagation()})),feedback.call(a,"afterEditCell",p,n,o,e,t)}c.iCol=t,c.iRow=e}}}}))},saveCell:function(e,t){return this.each((function(){var i=this,n=$(i),o=i.p,r=i.grid,s=jgrid.info_dialog,a=jgrid.jqID;if(r&&!0===o.cellEdit){var l=n.jqGrid("getGridRes","errors"),c=l.errcap,d=n.jqGrid("getGridRes","edit").bClose,u=o.savedRow,h=1<=u.length?0:null;if(null!==h){var p,f=i.rows[e],m=null!=f?f.id:null,g=null!=f?$(f):$(),v=o.colModel[t],b=v.name,y=getTdByColumnIndex.call(i,f,t),w={},x=jgrid.getEditedValue.call(i,y,v,w);if(x!==u[h].v){void 0!==(p=n.triggerHandler("jqGridBeforeSaveCell",[m,b,x,e,t]))&&(x=p),$.isFunction(o.beforeSaveCell)&&void 0!==(p=o.beforeSaveCell.call(i,m,b,x,e,t))&&(x=p);var C=jgrid.checkValues.call(i,x,t,void 0,void 0,{oldValue:u[h].v,newValue:x,cmName:b,rowid:m,iCol:t,iRow:e,cm:v,tr:f,td:y,mode:"cell"}),k=v.formatoptions||{};if(null==C||!0===C||!0===C[0]){var S=n.triggerHandler("jqGridBeforeSubmitCell",[m,b,x,e,t])||{};if($.isFunction(o.beforeSubmitCell)&&((S=o.beforeSubmitCell.call(i,m,b,x,e,t))||(S={})),0<$("input.hasDatepicker",y).length&&$("input.hasDatepicker",y).datepicker("hide"),"date"===v.formatter&&!0!==k.sendFormatted&&(x=$.unformat.date.call(i,x,v)),"remote"===o.cellsubmit)if(o.cellurl){var _={};_[b]=x;var D=o.prmNames,T=D.id,j=D.oper;_[T]=jgrid.stripPref(o.idPrefix,m),_[j]=D.editoper,_=$.extend(S,_),o.autoEncodeOnEdit&&$.each(_,(function(e,t){$.isFunction(t)||(_[e]=jgrid.oldEncodePostedData(t))})),n.jqGrid("progressBar",{method:"show",loadtype:o.loadui,htmlcontent:n.jqGrid("getGridRes","defaults.savetext")||"Saving..."}),r.hDiv.loading=!0,$.ajax($.extend({url:$.isFunction(o.cellurl)?o.cellurl.call(i,o.cellurl,e,t,m,x,b):o.cellurl,data:jgrid.serializeFeedback.call(i,o.serializeCellData,"jqGridSerializeCellData",_),type:"POST",complete:function(a){if(r.endReq.call(i),(a.status<300||304===a.status)&&(0!==a.status||4!==a.readyState)){var l=n.triggerHandler("jqGridAfterSubmitCell",[i,a,_.id,b,x,e,t])||[!0,""];(!0===l||!0===l[0]&&$.isFunction(o.afterSubmitCell))&&(l=o.afterSubmitCell.call(i,a,_.id,b,x,e,t)),null==l||!0===l||!0===l[0]?(n.jqGrid("setCell",m,t,x,!1,!1,!0),y.addClass("dirty-cell"),g.addClass("edited"),feedback.call(i,"afterSaveCell",m,b,x,e,t),u.splice(0,1),delete o.editingInfo[m]):(s.call(i,c,l[1],d),n.jqGrid("restoreCell",e,t))}},error:function(r,a,l){n.triggerHandler("jqGridErrorCell",[r,a,l]),$.isFunction(o.errorCell)?o.errorCell.call(i,r,a,l):s.call(i,c,r.status+" : "+r.statusText+"<br/>"+a,d),n.jqGrid("restoreCell",e,t)}},jgrid.ajaxOptions,o.ajaxCellOptions||{}))}else try{s.call(i,c,l.nourl,d),n.jqGrid("restoreCell",e,t)}catch(a){}if("clientArray"===o.cellsubmit){if(n.jqGrid("setCell",m,t,"select"===v.edittype&&"select"!==v.formatter?w.text:x,!1,!1,!0),y.addClass("dirty-cell"),g.addClass("edited"),feedback.call(i,"afterSaveCell",m,b,x,e,t),o.frozenColumns&&t<n.jqGrid("getNumberOfFrozenColumns"))try{i.rows[f.rowIndex].cells[t].style.height=""}catch(a){}u.splice(0,1),delete o.editingInfo[m]}}else try{setTimeout((function(){var e=jgrid.getRelativeRect.call(i,y);s.call(i,c,x+" "+C[1],d,{top:e.top,left:e.left+$(i).closest(".ui-jqgrid").offset().left})}),50),n.jqGrid("restoreCell",e,t)}catch(a){}}else n.jqGrid("restoreCell",e,t)}setTimeout((function(){$("#"+a(o.knv)).attr("tabindex","-1").focus()}),0)}}))},restoreCell:function(e,t){return this.each((function(){var i,n,o,r=this,s=r.p,a=r.rows[e],l=a.id;if(r.grid&&!0===s.cellEdit){var c=s.savedRow,d=getTdByColumnIndex.call(r,a,t);if(1<=c.length){if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker",d).datepicker("hide")}catch(i){}if(n=s.colModel[t],!0===s.treeGrid&&null!=n&&n.name===s.ExpandColumn?d.children("span.cell-wrapperleaf,span.cell-wrapper").empty():d.empty(),d.attr("tabindex","-1"),i=c[0].v,null!=n&&(o=n.formatoptions||{},"date"===n.formatter&&!0!==o.sendFormatted&&(i=$.unformat.date.call(r,i,n)),$(r).jqGrid("setCell",l,t,i,!1,!1,!0),s.frozenColumns&&t<$(r).jqGrid("getNumberOfFrozenColumns")))try{r.rows[a.rowIndex].cells[t].style.height=""}catch(i){}feedback.call(r,"afterRestoreCell",l,i,e,t),c.splice(0,1),delete s.editingInfo[l]}setTimeout((function(){$("#"+s.knv).attr("tabindex","-1").focus()}),0)}}))},nextCell:function(e,t){return this.each((function(){var i,n,o,r=this,s=$(r),a=r.p,l=!1,c=r.rows;if(r.grid&&!0===a.cellEdit&&null!=c&&null!=c[e]){for(i=t+1;i<a.colModel.length;i++)if(n=(o=a.colModel[i]).editable,$.isFunction(n)&&(n=n.call(r,{rowid:c[e].id,iCol:i,iRow:e,cmName:o.name,cm:o,mode:"cell"})),!0===n){l=i;break}!1!==l?s.jqGrid("editCell",e,l,!0):0<a.savedRow.length&&s.jqGrid("saveCell",e,t)}}))},prevCell:function(e,t){return this.each((function(){var i,n,o,r=this,s=$(r),a=r.p,l=!1,c=r.rows;if(r.grid&&!0===a.cellEdit&&null!=c&&null!=c[e]){for(i=t-1;0<=i;i--)if(n=(o=a.colModel[i]).editable,$.isFunction(n)&&(n=n.call(r,{rowid:c[e].id,iCol:i,iRow:e,cmName:o.name,cm:o,mode:"cell"})),!0===n){l=i;break}!1!==l?s.jqGrid("editCell",e,l,!0):0<a.savedRow.length&&s.jqGrid("saveCell",e,t)}}))},GridNav:function(){return this.each((function(){var e,t,i=this,n=$(i),o=i.p,r=i.grid;if(r&&!0===o.cellEdit){var s=r.bDiv;o.knv=o.id+"_kn";var a=$("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+o.knv+"'></div></div>");$(a).insertBefore(r.cDiv),$("#"+o.knv).focus().keydown((function(r){var s=parseInt(o.iRow,10),a=parseInt(o.iCol,10);switch(t=r.keyCode,"rtl"===o.direction&&(37===t?t=39:39===t&&(t=37)),t){case 38:0<s-1&&(l(s-1,a,"vu"),n.jqGrid("editCell",s-1,a,!1));break;case 40:s+1<=i.rows.length-1&&(l(s+1,a,"vd"),n.jqGrid("editCell",s+1,a,!1));break;case 37:0<=a-1&&(l(s,e=c(a-1,"lft"),"h"),n.jqGrid("editCell",s,e,!1));break;case 39:a+1<=o.colModel.length-1&&(l(s,e=c(a+1,"rgt"),"h"),n.jqGrid("editCell",s,e,!1));break;case 13:0<=a&&0<=s&&n.jqGrid("editCell",s,a,!0);break;default:return!0}return!1}))}function l(e,t,n){var o=i.rows[e];if("v"===n.substr(0,1)){var r=s.clientHeight,a=s.scrollTop,l=o.offsetTop+o.clientHeight,c=o.offsetTop;"vd"===n&&a+r<=l&&(s.scrollTop=s.scrollTop+o.clientHeight),"vu"===n&&c<a&&(s.scrollTop=s.scrollTop-o.clientHeight)}if("h"===n){var d=s.clientWidth,u=s.scrollLeft,h=o.cells[t],p=h.offsetLeft+h.clientWidth,f=h.offsetLeft;p>=d+parseInt(u,10)?s.scrollLeft=s.scrollLeft+h.clientWidth:f<u&&(s.scrollLeft=s.scrollLeft-h.clientWidth)}}function c(e,t){var i,n=0,r=o.colModel;if("lft"===t)for(n=e+1,i=e;0<=i;i--)if(!0!==r[i].hidden){n=i;break}if("rgt"===t)for(n=e-1,i=e;i<r.length;i++)if(!0!==r[i].hidden){n=i;break}return n}}))},getChangedCells:function(e){var t=[];return e||(e="all"),this.each((function(){var i=this,n=i.p,o=jgrid.htmlDecode,r=i.rows;i.grid&&!0===n.cellEdit&&$(r).each((function(s){var a={};if($(this).hasClass("edited")){var l=this;$(this.cells).each((function(t){var c=n.colModel[t],d=c.name,u=getTdByColumnIndex.call(i,l,t);if("cb"!==d&&"subgrid"!==d&&"rn"!==d&&("dirty"!==e||u.hasClass("dirty-cell")))try{a[d]=$.unformat.call(i,u[0],{rowId:r[s].id,colModel:c},t)}catch(t){a[d]=o(u.html())}})),a.id=this.id,t.push(a)}}))})),t}});var getGuiStyles=base.getGuiStyles,getGridRes=base.getGridRes;jgrid.jqModal=jgrid.jqModal||{},$.extend(!0,jgrid.jqModal,{toTop:!0}),$.extend(jgrid,{showModal:function(e){e.w.show()},closeModal:function(e){e.w.hide().attr("aria-hidden","true"),e.o&&e.o.remove()},hideModal:function(e,t){var i=!(!(t=$.extend({jqm:!0,gb:"",removemodal:!1},t||{})).gb||"string"!=typeof t.gb||"#gbox_"!==t.gb.substr(0,6))&&$("#"+t.gb.substr(6))[0],n=$(e);if(t.onClose){var o=i?t.onClose.call(i,e):t.onClose(e);if("boolean"==typeof o&&!o)return}if($.fn.jqm&&!0===t.jqm)n.attr("aria-hidden","true").jqmHide();else{if(""!==t.gb)try{$(">.jqgrid-overlay",t.gb).first().hide()}catch(e){}n.hide().attr("aria-hidden","true")}t.removemodal&&n.remove()},createModal:function(e,t,i,n,o,r,s){var a=jgrid.jqID,l=this.p;i=$.extend(!0,{resizingRightBottomIcon:base.getIconRes.call(this,"form.resizableLtr")},jgrid.jqModal||{},null!=l&&l.jqModal||{},i);var c=document.createElement("div"),d="#"+a(e.themodal),u="rtl"===$(i.gbox).attr("dir"),h=!!e.resizeAlso&&"#"+a(e.resizeAlso);s=$.extend({},s||{}),c.className=getGuiStyles.call(this,"dialog.window","ui-jqdialog"),c.id=e.themodal,c.dir=u?"rtl":"ltr";var p=document.createElement("div");p.className=getGuiStyles.call(this,"dialog.document"),$(p).attr("role","document");var f=document.createElement("div");f.className=getGuiStyles.call(this,"dialog.subdocument"),p.appendChild(f),c.appendChild(p);var m=document.createElement("div");m.className=getGuiStyles.call(this,"dialog.header","ui-jqdialog-titlebar "+(u?"ui-jqdialog-titlebar-rtl":"ui-jqdialog-titlebar-ltr")),m.id=e.modalhead,$(m).append("<span class='ui-jqdialog-title'>"+i.caption+"</span>");var g=getGuiStyles.call(this,"states.hover"),v=$("<a aria-label='Close' class='"+getGuiStyles.call(this,"dialog.closeButton","ui-jqdialog-titlebar-close")+"'></a>").hover((function(){v.addClass(g)}),(function(){v.removeClass(g)})).append("<span class='"+base.getIconRes.call(this,"form.close")+"'></span>");$(m).append(v);var b=document.createElement("div");$(b).addClass(getGuiStyles.call(this,"dialog.content","ui-jqdialog-content")).attr("id",e.modalcontent),$(b).append(t),f.appendChild(b),$(f).prepend(m),!0===r?$("body").append(c):"string"==typeof r?$(r).append(c):$(c).insertBefore(n),$(c).css(s),void 0===i.jqModal&&(i.jqModal=!0);var y={};if($.fn.jqm&&!0===i.jqModal?(0===i.left&&0===i.top&&i.overlay&&((i=$(o).offset()).left+=4,i.top+=4),y.top=i.top+"px",y.left=i.left):0===i.left&&0===i.top||(y.left=i.left,y.top=i.top+"px"),$("a.ui-jqdialog-titlebar-close",m).click((function(){var e=$(d).data("onClose")||i.onClose,t=$(d).data("gbox")||i.gbox;return jgrid.hideModal(d,{gb:t,jqm:i.jqModal,onClose:e,removemodal:i.removemodal||!1}),!1})),0!==i.width&&i.width||(i.width=300),0!==i.height&&i.height||(i.height=200),!i.zIndex){var w=$(n).parents("*[role=dialog]").first().css("z-index");w?(i.zIndex=parseInt(w,10)+2,i.toTop=!0):i.zIndex=950}if(y.left&&(y.left+="px"),$(c).css($.extend({width:isNaN(i.width)?"auto":i.width+"px",height:isNaN(i.height)?"auto":i.height+"px",zIndex:i.zIndex},y)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":e.modalhead,"aria-hidden":"true"}),void 0===i.drag&&(i.drag=!0),void 0===i.resize&&(i.resize=!0),i.drag)if($.fn.jqDrag)$(m).css("cursor","move"),$(c).jqDrag(m);else try{$(c).draggable({handle:$("#"+a(m.id))})}catch(e){}if(i.resize)if($.fn.jqResize)$(b).append("<div class='jqResize ui-resizable-handle ui-resizable-se "+i.resizingRightBottomIcon+"'></div>"),$(d).jqResize(".jqResize",h);else try{$(c).resizable({handles:"se, sw",alsoResize:h})}catch(e){}!0===i.closeOnEscape&&$(c).keydown((function(e){if(27===e.which){var t=$(d).data("onClose")||i.onClose;jgrid.hideModal(d,{gb:i.gbox,jqm:i.jqModal,onClose:t,removemodal:i.removemodal||!1,formprop:!i.recreateForm||!1,form:i.form||""})}}))},viewModal:function(e,t){if(t=$.extend(!0,{overlay:30,modal:!1,overlayClass:getGuiStyles.call(this,"overlay"),onShow:jgrid.showModal,onHide:jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},jgrid.jqModal||{},t||{}),$.fn.jqm&&!0===t.jqm)t.jqM?$(e).attr("aria-hidden","false").jqm(t).jqmShow():$(e).attr("aria-hidden","false").jqmShow();else{""!==t.gbox&&($(">.jqgrid-overlay",t.gbox).first().show(),$(e).data("gbox",t.gbox)),$(e).show().attr("aria-hidden","false");try{$(":input:visible",e)[0].focus()}catch(e){}}},info_dialog:function(e,t,i,n){var o=this,r=o.p,s=$.extend(!0,{width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]},jgrid.jqModal||{},null!=r&&r.jqModal||{},{caption:"<b>"+e+"</b>"},n||{}),a=s.jqModal;$.fn.jqm&&!a&&(a=!1);var l,c="",d=getGuiStyles.call(o,"states.hover");if(0<s.buttons.length)for(l=0;l<s.buttons.length;l++)void 0===s.buttons[l].id&&(s.buttons[l].id="info_button_"+l),c+=jgrid.builderFmButon.call(o,s.buttons[l].id,s.buttons[l].text);var u=isNaN(s.dataheight)?s.dataheight:s.dataheight+"px",h="text-align:"+s.align+";",p=$("#info_dialog"),f="<div id='info_id'>";f+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+u+";"+h+"'>"+t+"</div>",(i||""!==c)&&(f+="<hr class='"+getGuiStyles.call(o,"dialog.hr")+"' style='margin:1px'/><div style='text-align:"+s.buttonalign+";padding:.8em 0 .5em 0;background-image:none;border-width: 1px 0 0 0;'>"+(i?jgrid.builderFmButon.call(o,"closedialog",i):"")+c+"</div>"),f+="</div>";try{"false"===p.attr("aria-hidden")&&jgrid.hideModal("#info_dialog",{jqm:a}),p.remove()}catch(e){}jgrid.createModal.call(o,{themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",resizeAlso:"infocnt"},f,s,"","",!0),p=$("#info_dialog"),c&&$.each(s.buttons,(function(){$("#"+jgrid.jqID(this.id),"#info_id").on("click",{click:this.onClick},(function(e){return $.isFunction(e.data.click)&&e.data.click.call(o,e,p),!1}))})),$("#closedialog","#info_id").click((function(){return jgrid.hideModal("#info_dialog",{jqm:a,onClose:p.data("onClose")||s.onClose,gb:p.data("gbox")||s.gbox}),!1})),$(".fm-button","#info_dialog").hover((function(){$(this).addClass(d)}),(function(){$(this).removeClass(d)})),$.isFunction(s.beforeOpen)&&s.beforeOpen(),jgrid.viewModal.call(o,"#info_dialog",{onHide:function(e){e.w.hide().remove(),e.o&&e.o.remove()},modal:s.modal,jqm:a}),$.isFunction(s.afterOpen)&&s.afterOpen();try{p.focus()}catch(e){}},bindEv:function(e,t){$.isFunction(t.dataInit)&&t.dataInit.call(this,e,t),t.dataEvents&&$.each(t.dataEvents,(function(){void 0!==this.data?$(e).on(this.type,"object"==typeof this.data&&null!==this.data?$.extend(!0,{},t,this.data):this.data,this.fn):$(e).on(this.type,t,this.fn)}))},createEl:function(e,t,i,n,o){var r="",s=this,a=s.p,l=jgrid.info_dialog,c=function(e){return getGridRes.call($(s),e)},d=c("errors.errcap"),u=c("edit"),h=u.msg,p=u.bClose;function f(e,t,i){var n=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value","generateValue","postData","selectFilled","rowId","column","mode","cm","iCol"];void 0!==i&&$.isArray(i)&&$.merge(n,i),$.each(t,(function(t,i){-1===$.inArray(t,n)&&$(e).attr(t,i)})),t.hasOwnProperty("id")||$(e).attr("id",jgrid.randId())}if(null==t)return"";switch(e){case"textarea":r=document.createElement("textarea"),n?t.cols||$(r).css({width:"100%","box-sizing":"border-box"}):t.cols||(t.cols=19),t.rows||(t.rows=2),("&nbsp;"===i||"&#160;"===i||1===i.length&&160===i.charCodeAt(0))&&(i=""),r.value=i,f(r,t),$(r).attr({role:"textbox"});break;case"checkbox":if((r=document.createElement("input")).type="checkbox",""!==i&&null!=i||(i=t.hasOwnProperty("defaultValue")?$.isFunction(t.defaultValue)?t.defaultValue.call(s,{cellValue:i,options:t}):t.defaultValue:"false"),t.value){var m=t.value.split(":");i===m[0]&&(r.checked=!0,r.defaultChecked=!0),r.value=i,$(r).data("offval",m[1])}else{var g=String(i).toLowerCase();g.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==g?(r.checked=!0,r.defaultChecked=!0,r.value=i):r.value="on",$(r).data("offval","off")}f(r,t,["value"]),$(r).attr({role:"checkbox","aria-checked":r.checked?"true":"false"});break;case"select":r=document.createElement("select");var v,b=[],y=null;!0===t.multiple||"multiple"===t.multiple?(v=!0,r.multiple="multiple",$(r).attr("aria-multiselectable","true"),b=i.split(","),b=$.map(b,(function(e){return $.trim(e)}))):(v=!1,b[0]=$.trim(i)),void 0===t.size&&(t.size=v?3:1);try{y=t.rowId}catch(e){}if(a&&a.idPrefix&&(y=jgrid.stripPref(a.idPrefix,y)),void 0===t.dataUrl&&t.generateValue&&null!=a.indexByColumnData[t.cm.name]&&(t.value=s.generateValueFromColumnIndex(t.cm.name,t.separator,t.delimiter)),void 0!==t.dataUrl){var w=t.postData||o.postData,x={elem:r,options:t,cm:t.cm,mode:t.mode,rowid:y,iCol:t.iCol,ovm:b};f(r,t,w?["postData"]:void 0),$.ajax($.extend({url:$.isFunction(t.dataUrl)?t.dataUrl.call(s,y,i,String(t.name),x):t.dataUrl,type:"GET",dataType:"html",data:$.isFunction(w)?w.call(s,y,i,String(t.name)):w,context:x,success:function(e,t,i){var n=this.ovm,o=this.elem,r=this.cm,a=this.iCol,l=$.extend({},this.options),c=this.rowid,d=this.mode,u=$.isFunction(l.buildSelect)?l.buildSelect.call(s,e,i,r,a):e;"string"==typeof u&&(u=$($.trim(u)).html()),u&&($(o).append(u),setTimeout((function(){var e;$("option",o).each((function(t){0===t&&o.multiple&&(this.selected=!1),-1<$.inArray($.trim($(this).val()),n)&&(this.selected=!0,e=!0)})),e||$("option",o).each((function(){-1<$.inArray($.trim($(this).text()),n)&&(this.selected=!0)})),jgrid.fullBoolFeedback.call(s,l.selectFilled,"jqGridSelectFilled",{elem:o,options:l,cm:r,rowid:c,mode:d,cmName:null!=r?r.name:l.name,iCol:a})}),0))}},o||{}))}else t.value&&(jgrid.fillSelectOptions(r,t.value,void 0===t.separator?":":t.separator,void 0===t.delimiter?";":t.delimiter,v,i),f(r,t,["value"]),jgrid.fullBoolFeedback.call(s,t.selectFilled,"jqGridSelectFilled",{elem:r,options:t,cm:t.cm,rowid:y,mode:t.mode,cmName:null!=t.cm?t.cm.name:t.name,iCol:t.iCol}));break;case"text":case"password":case"button":var C;C="button"===e?"button":"textbox",(r=document.createElement("input")).type=e,f(r,t),r.value=i,"button"!==e&&(n?t.size||$(r).css({width:"100%","box-sizing":"border-box"}):t.size||(t.size=20)),$(r).attr("role",C);break;case"image":case"file":(r=document.createElement("input")).type=e,f(r,t);break;case"custom":r=document.createElement("span");try{if(!$.isFunction(t.custom_element))throw"editoptions.custom_element is not a function";var k=t.custom_element.call(s,i,t);if(!(k instanceof jQuery||jgrid.isHTMLElement(k)||"string"==typeof k))throw"editoptions.custom_element returns value of a wrong type";k=$(k).addClass("customelement").attr({id:t.id,name:t.name}),$(r).empty().append(k)}catch(e){"e1"===e&&l.call(s,d,"function 'custom_element' "+h.nodefined,p),"e2"===e?l.call(s,d,"function 'custom_element' "+h.novalue,p):l.call(s,d,"string"==typeof e?e:e.message,p)}}return r},checkDate:function(e,t){var i,n={};if(i=-1!==(e=e.toLowerCase()).indexOf("/")?"/":-1!==e.indexOf("-")?"-":-1!==e.indexOf(".")?".":"/",e=e.split(i),3!==(t=t.split(i)).length)return!1;var o,r,s,a,l,c=-1,d=-1,u=-1;for(r=0;r<e.length;r++)s=isNaN(t[r])?0:parseInt(t[r],10),n[e[r]]=s,-1!==(o=e[r]).indexOf("y")&&(c=r),-1!==o.indexOf("m")&&(u=r),-1!==o.indexOf("d")&&(d=r);return o="y"===e[c]||"yyyy"===e[c]?4:"yy"===e[c]?2:-1,-1!==c&&(a=n[e[c]].toString(),2===o&&1===a.length&&(o=1),!(a.length!==o||0===n[e[c]]&&"00"!==t[c]||-1===u||(a=n[e[u]].toString()).length<1||n[e[u]]<1||12<n[e[u]]||-1===d||(a=n[e[d]].toString()).length<1||n[e[d]]<1||31<n[e[d]]||2===n[e[u]]&&n[e[d]]>((l=n[e[c]])%4!=0||l%100==0&&l%400!=0?28:29)||n[e[d]]>[0,31,29,31,30,31,30,31,31,30,31,30,31][n[e[u]]]))},isEmpty:function(e){return!(!e.match(/^\s+$/)&&""!==e)},checkTime:function(e){var t;if(!jgrid.isEmpty(e)){if(!(t=e.match(/^(\d{1,2}):(\d{2})([apAP][Mm])?$/)))return!1;if(t[3]){if(t[1]<1||12<t[1])return!1}else if(23<t[1])return!1;if(59<t[2])return!1}return!0},checkValues:function(e,t,i,n,o){var r,s,a,l,c,d=this,u=d.p,h=u.colModel,p=jgrid.isEmpty,f=getGridRes.call($(d),"edit.msg"),m=function(e){var t=r[e];return $.isFunction(t)?t.call(d,o):t},g=getGridRes.call($(d),"formatter.date.masks");if(void 0===i){if("string"==typeof t&&(t=u.iColByName[t]),void 0===t||t<0)return[!0,"",""];l=h[t],r=l.editrules,null!=l.formoptions&&(s=l.formoptions.label)}else r=i,s=void 0===n?"_":n,l=h[t];if(r){if(s||(s=null!=u.colNames?u.colNames[t]:l.label),!0===m("required")&&p(e))return[!1,s+": "+f.required,""];var v=!1!==m("required");if(!0===m("number")&&(!1!==v||!p(e))&&isNaN(e))return[!1,s+": "+f.number,""];if(void 0!==r.minValue&&!isNaN(r.minValue)&&parseFloat(e)<parseFloat(r.minValue))return[!1,s+": "+f.minValue+" "+r.minValue,""];if(void 0!==r.maxValue&&!isNaN(r.maxValue)&&parseFloat(e)>parseFloat(r.maxValue))return[!1,s+": "+f.maxValue+" "+r.maxValue,""];if(!0===m("email")&&!(!1===v&&p(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)))return[!1,s+": "+f.email,""];if(!0===m("integer")&&(!1!==v||!p(e))){if(isNaN(e))return[!1,s+": "+f.integer,""];if(e%1!=0||-1!==e.indexOf("."))return[!1,s+": "+f.integer,""]}if(!0===m("date")&&!(!1===v&&p(e)||(l.formatoptions&&l.formatoptions.newformat?(a=l.formatoptions.newformat,g.hasOwnProperty(a)&&(a=g[a])):a=h[t].datefmt||"Y-m-d",jgrid.checkDate(a,e))))return[!1,s+": "+f.date+" - "+a,""];if(!0===m("time")&&!(!1===v&&p(e)||jgrid.checkTime(e)))return[!1,s+": "+f.date+" - hh:mm (am/pm)",""];if(!0===m("url")&&!(!1===v&&p(e)||/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i.test(e)))return[!1,s+": "+f.url,""];if(!0===r.custom){if(!1!==v||!p(e))return $.isFunction(r.custom_func)?(c=r.custom_func.call(d,e,s,t),$.isArray(c)?c:[!1,f.customarray,""]):[!1,f.customfcheck,""]}else if($.isFunction(r.custom)&&(!1!==v||!p(e)))return c=r.custom.call(d,o),$.isArray(c)?c:[!1,f.customarray,""]}return[!0,"",""]}}),jgrid.extend({getColProp:function(e){var t,i=this[0];return null!=i&&i.grid&&void 0!==(t=i.p.iColByName[e])?i.p.colModel[t]:{}},setColProp:function(e,t){return this.each((function(){var i,n=this.p;this.grid&&null!=n&&t&&void 0!==(i=n.iColByName[e])&&$.extend(!0,n.colModel[i],t)}))},sortGrid:function(e,t,i){return this.each((function(){var n,o,r,s=this.grid,a=this.p,l=a.colModel,c=l.length,d=!1;if(s)for(e||(e=a.sortname),"boolean"!=typeof t&&(t=!1),o=0;o<c;o++)if((n=l[o]).index===e||n.name===e){!0===a.frozenColumns&&!0===n.frozen&&(d=s.fhDiv.find("#"+jqID(a.id+"_"+e))),d&&0!==d.length||(d=s.headers[o].el),("boolean"!=typeof(r=n.sortable)||r)&&this.sortData(n.index||n.name,o,t,i,d);break}}))},clearBeforeUnload:function(){return this.each((function(){var e,t=this,i=t.p,n=t.grid,o=jgrid.clearArray,r=Object.prototype.hasOwnProperty;$.isFunction(n.emptyRows)&&n.emptyRows.call(t,!0,!0),$(document).off("mousemove.jqGrid mouseup.jqGrid"+i.id),$(t).off();var s,a=n.headers.length;for(s=0;s<a;s++)n.headers[s].el=null;for(e in n)n.hasOwnProperty(e)&&(n.propOrMethod=null);var l=["formatCol","sortData","updatepager","refreshIndex","setHeadCheckBox","constructTr","clearToolbar","fixScrollOffsetAndhBoxPadding","rebuildRowIndexes","modalAlert","toggleToolbar","triggerToolbar","formatter","addXmlData","addJSONData","ftoolbar","_inlinenav","nav","grid","p"];for(a=l.length,s=0;s<a;s++)r.call(t,l[s])&&(t[l[s]]=null);t._index={},o(i.data),o(i.lastSelectedData),o(i.selarrrow),o(i.savedRow),i.editingInfo={}}))},GridDestroy:function(){return this.each((function(){var e=this.p;if(this.grid&&null!=e){e.pager&&$(e.pager).remove();try{$("#alertmod_"+jqID(e.id)).remove(),$(this).jqGrid("clearBeforeUnload"),$(e.gBox).remove()}catch(e){}}}))},GridUnload:function(){return this.each((function(){var e=$(this),t=this.p,i=$.fn.jqGrid;this.grid&&(e.removeClass(i.getGuiStyles.call(e,"grid","ui-jqgrid-btable")),t.pager&&(t.pager.substr(1,$.jgrid.uidPref.length)===$.jgrid.uidPref?$(t.pager).remove():$(t.pager).empty().removeClass(i.getGuiStyles.call(e,"pager.pager","ui-jqgrid-pager "+i.getGuiStyles.call(e,"bottom"))).removeAttr("style").removeAttr("dir")),e.jqGrid("clearBeforeUnload"),e.removeAttr("style").removeAttr("tabindex").removeAttr("role").removeAttr("aria-labelledby").removeAttr("style"),e.empty(),e.insertBefore(t.gBox).show(),$(t.pager).insertBefore(t.gBox).show(),$(t.gBox).remove())}))},setGridState:function(e){return this.each((function(){var t=this,i=t.p,n=t.grid,o=n.cDiv,r=$(n.uDiv),s=$(n.ubDiv);if(n&&null!=i){var a=function(e){return base.getIconRes.call(t,"gridMinimize."+e)},l=a("visible"),c=a("hidden");"hidden"===e?($(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv",i.gView).slideUp("fast"),i.pager&&$(i.pager).slideUp("fast"),i.toppager&&$(i.toppager).slideUp("fast"),!0===i.toolbar[0]&&("both"===i.toolbar[1]&&s.slideUp("fast"),r.slideUp("fast")),i.footerrow&&$(".ui-jqgrid-sdiv",i.gBox).slideUp("fast"),$(".ui-jqgrid-titlebar-close span",o).removeClass(l).addClass(c),i.gridstate="hidden"):"visible"===e&&($(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv",i.gView).slideDown("fast"),i.pager&&$(i.pager).slideDown("fast"),i.toppager&&$(i.toppager).slideDown("fast"),!0===i.toolbar[0]&&("both"===i.toolbar[1]&&s.slideDown("fast"),r.slideDown("fast")),i.footerrow&&$(".ui-jqgrid-sdiv",i.gBox).slideDown("fast"),$(".ui-jqgrid-titlebar-close span",o).removeClass(c).addClass(l),i.gridstate="visible")}}))},filterToolbar:function(e){return this.each((function(){var t=this,i=t.grid,n=$(t),o=t.p,r=jgrid.info_dialog,s=jgrid.htmlEncode;if(!this.ftoolbar){var a,l=$.extend(!0,{autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:o.prmNames.filters,stringResult:!1,groupOp:"AND",defaultSearch:"bw",idMode:"new",searchOperators:!1,resetIcon:"&times;",applyLabelClasses:!0,loadFilterDefaults:!0,operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^",in:"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},jgrid.search,o.searching||{},e||{}),c=o.colModel,d=function(e){return getGridRes.call(n,e)},u=d("errors.errcap"),h=d("edit.bClose"),p=d("edit.msg"),f=getGuiStyles.call(t,"states.hover"),m=getGuiStyles.call(t,"states.select"),g=getGuiStyles.call(t,"filterToolbar.dataField"),v={},b=function(e){var t="gs_";switch(l.idMode){case"compatibility":t+=o.idPrefix;break;case"new":t+=o.id+"_"}return t+e},y=function(e){return"#"+jqID(b(e))},w=function(e){var t=(e.value||"").split(":");return{on:t[0]||"on",off:t[1]||"off"}},x=function(e){var t,i,n,r,s,a,d=o.postData[l.sFilter],u={},h=o.iColByName;if(e)for(i=0;i<c.length;i++)!1!==(s=c[i]).search&&(a=s.searchoptions||{},u[s.name]={op:a.sopt?a.sopt[0]:"select"===s.stype||"checkbox"===s.stype?"eq":l.defaultSearch,data:void 0!==a.defaultValue?a.defaultValue:""});if(!d||!o.search)return u;if("string"==typeof d)try{d=$.parseJSON(d)}catch(e){d={}}else d=d||{};if(n=d.rules||{},null==d||null!=d.groupOp&&null!=l.groupOp&&d.groupOp.toUpperCase()!==l.groupOp.toUpperCase()||null==n||0===n.length||null!=d.groups&&0<d.groups.length)return u;for(i=0;i<n.length;i++)for(r=n[i],s=c[h[r.field]],t=0;t<c.length;t++)if(((s=c[t]).index||s.name)===r.field&&!1!==s.search){if((a=s.searchoptions||{}).sopt){if($.inArray(r.op,a.sopt)<0)continue}else if("select"===s.stype||"checkbox"===s.stype){if("eq"!==r.op)continue}else if(r.op!==l.defaultSearch)continue;u[s.name]={op:r.op,data:r.data}}return u},C=function(e,t){switch(t){case 1:e.data("state",1).prop({checked:!0,indeterminate:!1});break;case 0:e.data("state",0).prop({checked:!1,indeterminate:!1});break;default:e.data("state",-1).prop({checked:!1,indeterminate:!0})}},k=function(){var e={},r=0,s={};$.each(c,(function(){var n,a,c=this,u=c.index||c.name,h=c.searchoptions||{},p=$(y(c.name),!0===c.frozen&&!0===o.frozenColumns?i.fhDiv:i.hDiv),f=function(e,t){var i=c.formatoptions||{};return void 0!==i[e]?i[e]:d("formatter."+(t||c.formatter)+"."+e)},m=function(e){var t=f("thousandsSeparator").replace(/([\.\*\_\'\(\)\{\}\+\?\\])/g,"\\$1");return e.replace(new RegExp(t,"g"),"")};if(a=l.searchOperators?p.parent().prev().children("a").data("soper")||l.defaultSearch:h.sopt?h.sopt[0]:"select"===c.stype||"checkbox"===c.stype?"eq":l.defaultSearch,"custom"===c.stype&&$.isFunction(h.custom_value)&&0<p.length&&"SPAN"===p[0].nodeName.toUpperCase())n=h.custom_value.call(t,p.children(".customelement").first(),"get");else if("select"===c.stype)n=p.prop("multiple")?null==(n=p.val())||0===n.length?"":n.join(o.inFilterSeparator||","):p.val();else if("checkbox"===c.stype){var g=w(h);switch(p.data("state")){case-1:n="";break;case 0:n=g.off;break;default:n=g.on}}else switch(n=$.trim(p.val()),c.formatter){case"integer":""!==(n=m(n).replace(f("decimalSeparator","number"),"."))&&(n=String(parseInt(n,10)));break;case"number":""!==(n=m(n).replace(f("decimalSeparator"),"."))&&"0"===String(n).charAt(0)&&(n=String(parseFloat(n)));break;case"currency":var v=f("prefix"),b=f("suffix");v&&v.length&&n.substr(0,v.length)===v&&(n=n.substr(v.length)),b&&b.length&&n.length>b.length&&n.substr(n.length-b.length,b.length)===b&&(n=n.substr(0,n.length-b.length)),""!==(n=m(n).replace(f("decimalSeparator"),"."))&&(n=String(parseFloat(n)))}if(n||"nu"===a||"nn"===a||0<=$.inArray(a,o.customUnaryOperations))e[u]=n,s[u]=a,r++;else if(e.hasOwnProperty(u)&&delete e[u],!l.stringResult&&!l.searchOperators&&"local"!==o.datatype)try{null!=o.postData&&o.postData.hasOwnProperty(u)&&delete o.postData[u]}catch(n){}}));var a,u=0<r;if(l.stringResult||l.searchOperators||"local"===o.datatype){var h='{"groupOp":"'+l.groupOp+'","rules":[',p=0;$.each(e,(function(e,t){0<p&&(h+=","),h+='{"field":"'+e+'",',h+='"op":"'+s[e]+'",',h+='"data":"'+(t+="").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',p++})),h+="]}",o.postData[l.sFilter]=h,$.each([l.sField,l.sValue,l.sOper],(function(e,t){o.postData.hasOwnProperty(t)&&delete o.postData[t]}))}else $.extend(o.postData,e);o.searchurl&&(a=o.url,n.jqGrid("setGridParam",{url:o.searchurl}));var f="stop"===n.triggerHandler("jqGridToolbarBeforeSearch");!f&&$.isFunction(l.beforeSearch)&&(f=l.beforeSearch.call(t)),f||n.jqGrid("setGridParam",{search:u}).trigger("reloadGrid",[$.extend({page:1},l.reloadGridSearchOptions||{})]),a&&n.jqGrid("setGridParam",{url:a}),n.triggerHandler("jqGridToolbarAfterSearch"),$.isFunction(l.afterSearch)&&l.afterSearch.call(t)},S=d("search.odata")||[],_=o.customSortOperations,D=[],T=$("<tr></tr>",{class:"ui-search-toolbar",role:"row form"});l.loadFilterDefaults&&(v=x()||{}),$.each(c,(function(e){var i,s,c,m,y,w,x,j=this,O="filter",I=j.searchoptions||{},E=j.editoptions||{},R=$("<th></th>",{class:getGuiStyles.call(t,"colHeaders","ui-th-column ui-th-"+o.direction+" "+(l.applyLabelClasses&&j.labelClasses||"")),role:"gridcell","aria-describedby":o.id+"_"+j.name}),P=$("<div></div>"),A=$("<table class='ui-search-table'><tbody><tr><td class='ui-search-oper'></td><td class='ui-search-input'></td><td class='ui-search-clear' style='width:1px'></td></tr></tbody></table>"),N=A.children("tbody").children("tr").children("td"),F=N.eq(0),M=N.eq(1),L=N.eq(2);if(!0===this.hidden&&R.css("display","none"),this.search=!1!==this.search,void 0===this.stype&&(this.stype="text"),i=$.extend({mode:O,name:j.name,cm:j,iCol:e,id:b(j.name)},I),this.search){if(l.searchOperators){for(m=o.search&&null!=v[this.name]?v[this.name].op:i.sopt?i.sopt[0]:"select"===j.stype||"checkbox"===j.stype?"eq":l.defaultSearch,y=0;y<S.length;y++)if(S[y].oper===m){c=l.operands[m]||"";break}var z;if(void 0===c&&null!=_)for(z in _)if(_.hasOwnProperty(z)&&z===m){c=_[z].operand;break}void 0===c&&(c="="),F.append("<a title='"+(null!=i.searchtitle?i.searchtitle:d("search.operandTitle"))+"' data-soper='"+m+"' class='"+getGuiStyles.call(t,"searchToolbar.operButton","soptclass")+"' data-colname='"+this.name+"'>"+c+"</a>")}if(F.data("colindex",e),null!=i.sopt&&1!==i.sopt.length||F.hide(),o.search&&null!=v[this.name]&&(i.defaultValue=v[this.name].data),void 0===i.clearSearch&&(i.clearSearch="text"===this.stype),i.clearSearch){var q=$.isFunction(l.resetTitle)?l.resetTitle.call(t,{options:l,cm:j,cmName:j.name,iCol:e}):(d("search.resetTitle")||"Clear Search Value")+" "+jgrid.stripHtml(o.colNames[e]);L.append("<a title='"+q+"' aria-label='"+q+"' class='"+getGuiStyles.call(t,"searchToolbar.clearButton","clearsearchclass")+"'><span>"+l.resetIcon+"</span></a>")}else L.hide();switch(P.append(A),this.stype){case"checkbox":var B=void 0!==i.defaultValue?i.defaultValue:"-1";x=$("<input role='search' type='checkbox' class='"+g+"' name='"+(j.index||j.name)+"' id='"+b(j.name)+"' aria-labelledby='jqgh_"+o.id+"_"+j.name+"' data-state='"+B+"'/>"),"-1"===B?x.prop("indeterminate",!0):"1"===B&&x.prop("checked",!0),x.click((function(){var e=$(this);switch(e.data("state")){case-1:C(e,1);break;case 0:C(e,-1);break;default:C(e,0)}!0===l.autosearch&&k()})),M.append(x),i.attr&&x.attr(i.attr),D.push({elem:x[0],options:i});break;case"select":var H,G,W;if(s=this.surl||i.dataUrl)$.ajax($.extend({url:s,context:{$tdInput:M,options:i,cm:j,iCol:e},dataType:"html",success:function(e,n,o){var r,s,a,c=this.cm,d=this.iCol,u=this.options,h=this.$tdInput;void 0!==u.buildSelect?(r=u.buildSelect.call(t,e,o,c,d))&&h.append(r):h.append(e),(a=h.children("select")).attr({name:c.index||c.name,id:b(c.name)}),u.attr&&a.attr(u.attr),a.addClass(g),a.css({width:"100%"}),0===a.find("option[value='']").length&&"string"==typeof i.noFilterText&&((s=document.createElement("option")).value="",s.innerHTML=i.noFilterText,a.prepend(s),null!=$(a[0].options[a[0].selectedIndex]).attr("selected")||a[0].multiple||(a[0].selectedIndex=0)),a[0].multiple&&0===a.find("option[selected]").length&&-1!==a[0].selectedIndex&&(a[0].options[a[0].selectedIndex].selected=!1),void 0!==u.defaultValue&&a.val(u.defaultValue),jgrid.bindEv.call(t,a[0],u),jgrid.fullBoolFeedback.call(t,u.selectFilled,"jqGridSelectFilled",{elem:a[0],options:u,cm:c,cmName:c.name,iCol:d,mode:O}),!0===l.autosearch&&a.change((function(){return k(),!1}))}},jgrid.ajaxOptions,o.ajaxSelectOptions||{}));else if(j.searchoptions?(H=void 0===I.value?E.value||"":I.value,G=void 0===I.separator?E.separator||":":I.separator,W=void 0===I.delimiter?E.delimiter||";":I.delimiter):j.editoptions&&(H=void 0===E.value?"":E.value,G=void 0===E.separator?":":E.separator,W=void 0===E.delimiter?";":E.delimiter),I.generateValue&&null!=o.indexByColumnData[j.name]&&(H=t.generateValueFromColumnIndex(j.name,G,W)),H){if((w=document.createElement("select")).style.width="100%",x=$(w).attr({name:j.index||j.name,role:"search",id:b(j.name),"aria-describedby":o.id+"_"+j.name}),i.attr&&x.attr(i.attr),!jgrid.fillSelectOptions(w,H,G,W,null!=i.attr&&i.attr.multiple)&&"string"==typeof i.noFilterText){var U=document.createElement("option");U.value="",U.innerHTML=i.noFilterText,U.selected=!0,x.prepend(U)}void 0!==i.defaultValue&&x.val(i.defaultValue),x.addClass(g),D.push({elem:w,options:i}),M.append(w),jgrid.fullBoolFeedback.call(t,i.selectFilled,"jqGridSelectFilled",{elem:w,options:j.searchoptions||E,cm:j,cmName:j.name,iCol:e,mode:O}),!0===l.autosearch&&x.change((function(){return k(),!1}))}break;case"text":if(x=$("<input role='search' type='text' class='"+g+"' name='"+(j.index||j.name)+"' id='"+b(j.name)+"' aria-labelledby='jqgh_"+o.id+"_"+j.name+"' value='"+(void 0!==i.defaultValue?i.defaultValue:"")+"'/>"),M.append(x),j.createColumnIndex&&i.generateDatalist){var V="dl_"+b(j.name),Y=n.jqGrid("generateDatalistFromColumnIndex",j.name);null!=Y&&0<Y.length&&(x.attr("list",V),M.append(Y.attr("id",V)))}i.attr&&x.attr(i.attr),D.push({elem:x[0],options:i}),!0===l.autosearch&&(l.searchOnEnter?x.keypress((function(e){return 13===(e.charCode||e.keyCode||0)?(k(),!1):this})):x.keydown((function(e){switch(e.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:a&&clearTimeout(a),a=setTimeout((function(){k()}),l.autosearchDelay)}})));break;case"custom":M.append("<span style='width:100%;padding:0;box-sizing:border-box;' name='"+(j.index||j.name)+"' id='"+b(j.name)+"'/>");try{if(!$.isFunction(i.custom_element))throw"e1";var X=i.custom_element.call(t,void 0!==i.defaultValue?i.defaultValue:"",i);if(!X)throw"e2";X=$(X).addClass("customelement"),P.find("span[name='"+(j.index||j.name)+"']").append(X)}catch(e){"e1"===e&&r.call(t,u,"function 'custom_element' "+p.nodefined,h),"e2"===e?r.call(t,u,"function 'custom_element' "+p.novalue,h):r.call(t,u,"string"==typeof e?e:e.message,h)}}}R.append(P),R.find(".ui-search-oper .soptclass,.ui-search-clear .clearsearchclass").hover((function(){$(this).addClass(f)}),(function(){$(this).removeClass(f)})),T.append(R),l.searchOperators||F.hide()})),$(i.hDiv).find(">div>.ui-jqgrid-htable>thead").append(T),$.each(D,(function(){jgrid.bindEv.call(t,this.elem,this.options)})),l.searchOperators&&($(".soptclass",T).click((function(e){var i=$(this).offset();!function(e,i,r){$("#sopt_menu").remove(),i=parseInt(i,10),r=parseInt(r,10)+18;var a,d,u=0,h=[],p=$(e).data("soper"),g=$(e).data("colname"),v=$(".ui-jqgrid-view").css("font-size")||"11px",b="<ul id='sopt_menu' class='"+getGuiStyles.call(t,"searchToolbar.menu","ui-search-menu")+"' role='menu' tabindex='0' style='z-index:9999;display:block;font-size:"+v+";left:"+i+"px;top:"+r+"px;'>";if(void 0!==(u=o.iColByName[g])){var y,w,x,C,D,T=c[u],j=$.extend({},T.searchoptions);for(j.sopt||(j.sopt=[],j.sopt[0]="select"===T.stype||"checkbox"===T.stype?"eq":l.defaultSearch),$.each(S,(function(){h.push(this.oper)})),null!=_&&$.each(_,(function(e){h.push(e)})),u=0;u<j.sopt.length;u++)x=j.sopt[u],-1!==(d=$.inArray(x,h))&&(void 0!==(y=S[d])?(C=l.operands[x],D=y.text):null!=_&&(C=(w=_[x]).operand,D=w.text),a=p===x?m:"",b+='<li class="'+getGuiStyles.call(t,"searchToolbar.menuItem","ui-jqgrid-menu-item "+a)+'" role="presentation"><a class="'+getGuiStyles.call(t,"searchToolbar.menuItemButton","g-menu-item")+'" tabindex="0" role="menuitem" value="'+s(x)+'" data-oper="'+s(C)+'"><table><tr><td style="width:25px">'+s(C)+"</td><td>"+s(D)+"</td></tr></table></a></li>");b+="</ul>",$("body").append(b),$("#sopt_menu > li > a").hover((function(){$(this).addClass(f)}),(function(){$(this).removeClass(f)})).click((function(){var t=$(this).attr("value"),i=$(this).data("oper");if(n.triggerHandler("jqGridToolbarSelectOper",[t,i,e]),$("#sopt_menu").hide(),$(e).data("soper",t).text(i),!0===l.autosearch){var r=$(e).parent().next().children()[0];($(r).val()||"nu"===t||"nn"===t||0<=$.inArray(t,o.customUnaryOperations))&&k()}}))}}(this,i.left,i.top),e.stopPropagation()})),$("body").on("click",(function(e){"soptclass"!==e.target.className&&$("#sopt_menu").hide()}))),$(".clearsearchclass",T).click((function(){var e,t,i=$(this).closest(".ui-search-clear"),n=i.siblings(".ui-search-oper"),r=n.children("a"),s=r.data("soper"),a=parseInt(n.data("colindex"),10),d=i.siblings(".ui-search-input"),u=c[a],h=$.extend({},u.searchoptions||{}),p=h.defaultValue||"";switch(u.stype){case"select":p?d.find("select").val(p):d.find("select")[0].selectedIndex=0;break;case"checkbox":C(d.find("input[type=checkbox]"),-1);break;default:d.find("input").val(p)}("nu"===s||"nn"===s||0<=$.inArray(s,o.customUnaryOperations))&&(e=h.sopt?h.sopt[0]:"select"===u.stype||"checkbox"===u.stype?"eq":l.defaultSearch,t=null!=_&&null!=_[e]?_[e].operand:l.operands[e]||"",r.data("soper",e).text(t)),!0===l.autosearch&&k()})),t.ftoolbar=!0,t.triggerToolbar=k,t.clearToolbar=function(e){var r,s={},a=0;e="boolean"!=typeof e||e,$.each(c,(function(){var e,n,l=this,c=$(y(l.name),!0===l.frozen&&!0===o.frozenColumns?i.fhDiv:i.hDiv),d=l.searchoptions||{};switch(void 0!==d.defaultValue&&(e=d.defaultValue),r=l.index||l.name,l.stype){case"checkbox":C(c,-1);break;case"select":if(n=!(0<c.length&&c[0].multiple),c.find("option").each((function(t){if(this.selected=0===t&&n,$(this).val()===e)return!(this.selected=!0)})),void 0!==e)s[r]=e,a++;else try{delete o.postData[r]}catch(l){}break;case"text":if(c.val(e||""),void 0!==e)s[r]=e,a++;else try{delete o.postData[r]}catch(l){}break;case"custom":$.isFunction(d.custom_value)&&0<c.length&&"SPAN"===c[0].nodeName.toUpperCase()&&(void 0===e&&(e=""),d.custom_value.call(t,c.children(".customelement").first(),"set",e))}}));var d,u=0<a;if(o.resetsearch=!0,l.stringResult||l.searchOperators||"local"===o.datatype){var h='{"groupOp":"'+l.groupOp+'","rules":[',p=0;$.each(s,(function(e,t){0<p&&(h+=","),h+='{"field":"'+e+'",',h+='"op":"eq",',h+='"data":"'+(t+="").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',p++})),h+="]}",o.postData[l.sFilter]=h,$.each([l.sField,l.sValue,l.sOper],(function(e,t){o.postData.hasOwnProperty(t)&&delete o.postData[t]}))}else $.extend(o.postData,s);o.searchurl&&(d=o.url,n.jqGrid("setGridParam",{url:o.searchurl}));var f="stop"===n.triggerHandler("jqGridToolbarBeforeClear");!f&&$.isFunction(l.beforeClear)&&(f=l.beforeClear.call(t)),f||e&&n.jqGrid("setGridParam",{search:u}).trigger("reloadGrid",[$.extend({page:1},l.reloadGridResetOptions||{})]),d&&n.jqGrid("setGridParam",{url:d}),n.triggerHandler("jqGridToolbarAfterClear"),$.isFunction(l.afterClear)&&l.afterClear.call(t)},t.toggleToolbar=function(){var e=$("tr.ui-search-toolbar",i.hDiv),t=!0===o.frozenColumns&&$("tr.ui-search-toolbar",i.fhDiv);"none"===e.css("display")?(e.show(),t&&t.show()):(e.hide(),t&&t.hide()),!0===o.frozenColumns&&(n.jqGrid("destroyFrozenColumns"),n.jqGrid("setFrozenColumns"))},!0===o.frozenColumns&&(n.jqGrid("destroyFrozenColumns"),n.jqGrid("setFrozenColumns")),n.on("jqGridRefreshFilterValues.filterToolbar"+(l.loadFilterDefaults?" jqGridAfterLoadComplete.filterToolbar":""),(function(){var e,i,n,r,s,a,c,d=x(!0)||{};if(l.stringResult||l.searchOperators||"local"===o.datatype||!o.search){for(e in d)if(d.hasOwnProperty(e)&&(i=d[e],a=(n=$(y(e))).closest("th.ui-th-column"),0<n.length&&0<a.length)){if(c=(o.colModel[a[0].cellIndex]||{}).searchoptions||{},"SELECT"===n[0].tagName.toUpperCase()&&n[0].multiple)n.val(i.data.split(o.inFilterSeparator||","));else if(n.is("input[type=checkbox]")){var u=w(c);C(n,i.data===u.on?1:i.data===u.off?0:-1)}else if(0<n.find(".customelement").length&&$.isFunction(c.custom_value)){var h=c.custom_value.call(t,n.find(".customelement").first(),"get");""===i.data&&void 0!==c.defaultValue&&(i.data=c.defaultValue),void 0===h&&(h=""),i.data!==h&&String(i.data)!==String(h)&&c.custom_value.call(t,n.find(".customelement").first(),"set",i.data)}else""===i.data&&void 0!==c.defaultValue&&(i.data=c.defaultValue),$.trim(n.val())!==String(i.data)&&n.val(i.data);(r=n.closest(".ui-search-input").siblings(".ui-search-oper").children(".soptclass")).data("soper",i.op),r.text(l.operands[i.op]||(o.customSortOperations[i.op]||{}).operand)}for(s=0;s<o.colModel.length;s++)e=o.colModel[s].name,d.hasOwnProperty(e)||$(y(e)).val("")}}))}}))},destroyFilterToolbar:function(){return this.each((function(){var e=this;e.ftoolbar&&(e.triggerToolbar=null,e.clearToolbar=null,e.toggleToolbar=null,e.ftoolbar=!1,$(e.grid.hDiv).find("table thead tr.ui-search-toolbar").remove(),!0===e.p.frozenColumns&&$(e).jqGrid("destroyFrozenColumns").jqGrid("setFrozenColumns"))}))},destroyGroupHeader:function(e){return void 0===e&&(e=!0),this.each((function(){var t,i,n,o,r,s=this.grid,a=this.p.colModel,l=$("table.ui-jqgrid-htable thead",s.hDiv);if(s){$(this).off(".setGroupHeaders");var c=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),d=s.headers;for(t=0,i=d.length;t<i;t++){r=a[t].hidden?"none":"",n=$(d[t].el).width(d[t].width).css("display",r);try{n.removeAttr("rowSpan")}catch(t){n.attr("rowSpan",1)}c.append(n),0<(o=n.children("span.ui-jqgrid-resize")).length&&(o[0].style.height=""),n.children("div")[0].style.top=""}$(l).children("tr.ui-jqgrid-labels").remove(),$(l).prepend(c),!0===e&&$(this).jqGrid("setGridParam",{groupHeader:null})}}))},setGroupHeaders:function(e){return e=$.extend({useColSpanStyle:!1,applyLabelClasses:!0,groupHeaders:[]},e||{}),this.each((function(){this.p.groupHeader=e;var t,i,n,o,r,s,a,l,c,d,u,h,p,f,m=this,g=0,v=m.p,b=v.colModel,y=b.length,w=m.grid.headers,x=$("table.ui-jqgrid-htable",m.grid.hDiv),C=jgrid.isCellClassHidden,k=x.children("thead").children("tr.ui-jqgrid-labels"),S=k.last().addClass("jqg-second-row-header"),_=x.children("thead"),D=x.find(".jqg-first-row-header");void 0===D[0]?D=$("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):D.empty();var T=function(e,t){var i;for(i=0;i<t.length;i++)if(t[i].startColumnName===e)return t[i];return 0};for($(m).prepend(_),n=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header"),t=0;t<y;t++)if(r=w[t].el,s=$(r),i=b[t],a={height:"0",width:w[t].width+"px",display:i.hidden?"none":""},$("<th>",{role:"gridcell"}).css(a).addClass("ui-first-th-"+v.direction+(e.applyLabelClasses?" "+(i.labelClasses||""):"")).appendTo(D),r.style.width="",f=getGuiStyles.call(m,"colHeaders","ui-th-column-header ui-th-"+v.direction+" "+(e.applyLabelClasses&&i.labelClasses||"")),c=T(i.name,e.groupHeaders)){for(d=c.numberOfColumns,u=c.titleText,l=h=0;l<d&&t+l<y;l++)b[t+l].hidden||C(b[t+l].classes)||h++;o=$("<th>").addClass(f).html(u||"&nbsp;"),0<h&&o.attr("colspan",String(h)),v.headertitles&&o.attr("title",o.text()),0===h&&o.hide(),s.before(o),n.append(r),g=d-1}else 0===g?e.useColSpanStyle?s.attr("rowspan",k.length+1):($("<th>").addClass(f).css({display:i.hidden?"none":"","border-top":"0 none"}).insertBefore(s),n.append(r)):(n.append(r),g--);(p=$(m).children("thead")).prepend(D),n.insertAfter(S),x.prepend(p),$(m).triggerHandler("jqGridAfterSetGroupHeaders")}))},getNumberOfFrozenColumns:function(){var e=this;if(0===e.length)return 0;var t,i=(e=e[0]).p.colModel,n=i.length,o=-1;for(t=0;t<n&&!0===i[t].frozen;t++)o=t;return o+1},setFrozenColumns:function(e){return e=e||{},this.each((function(){var t=this,i=$(t),n=t.p,o=t.grid;if(o&&null!=n&&!0!==n.frozenColumns){var r,s,a=n.colModel,l=a.length,c=-1,d=!1,u=[],h=jqID(n.id),p=getGuiStyles.call(t,"states.hover");if(!0!==n.subGrid&&!0!==n.treeGrid&&!n.scroll){for(r=0;r<l&&!0===a[r].frozen;r++)d=!0,c=r,u.push("#jqgh_"+h+"_"+jqID(a[r].name));if(n.sortable){s=$(o.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels");try{s.sortable("destroy")}catch(s){}i.jqGrid("setGridParam",{sortable:{options:{items:0<u.length?">th:not(:has("+u.join(",")+"),:hidden)":">th:not(:hidden)"}}}),i.jqGrid("sortableColumns",s)}if(0<=c&&d){var f=n.caption?$(o.cDiv).outerHeight():0,m=$(".ui-jqgrid-htable",n.gView).height();n.toppager&&(f+=$(o.topDiv).outerHeight()),!0===n.toolbar[0]&&"bottom"!==n.toolbar[1]&&(f+=$(o.uDiv).outerHeight()),o.fhDiv=$("<div style='position:absolute;overflow:hidden;"+("rtl"===n.direction?"right:0;border-top-left-radius:0;":"left:0;border-top-right-radius:0;")+"top:"+f+"px;height:"+m+"px;' class='"+getGuiStyles.call(t,"hDiv","frozen-div ui-jqgrid-hdiv")+"'></div>"),o.fbDiv=$("<div style='position:absolute;overflow:hidden;"+("rtl"===n.direction?"right:0;":"left:0;")+"top:"+(parseInt(f,10)+parseInt(m,10)+1)+"px;overflow:hidden;' class='frozen-bdiv ui-jqgrid-bdiv'></div>"),$(n.gView).append(o.fhDiv);var g=$(".ui-jqgrid-htable",n.gView).clone(!0),v=g[0].tHead.rows;if(n.groupHeader){$(v[0].cells).filter(":gt("+c+")").remove(),$(v).filter(".jqg-third-row-header").each((function(){$(this).children("th[id]").each((function(){var e,i=$(this).attr("id");i&&i.substr(0,t.id.length+1)===t.id+"_"&&(e=i.substr(t.id.length+1),n.iColByName[e]>c&&$(this).remove())}))}));var b,y=-1,w=-1;$(v).filter(".jqg-second-row-header").children("th").each((function(){if(b=parseInt($(this).attr("colspan")||1,10),1<parseInt($(this).attr("rowspan")||1,10)?(y++,w++):b&&(y+=b,w++),y===c)return!1})),y!==c&&(w=c),$(v).filter(".jqg-second-row-header,.ui-search-toolbar").each((function(){$(this).children(":gt("+w+")").remove()}))}else $(v).each((function(){$(this).children(":gt("+c+")").remove()}));if($(g).width(1),$(o.fhDiv).append(g).scroll((function(){this.scrollLeft=0})),n.footerrow){var x=$(".ui-jqgrid-bdiv",n.gView).height();o.fsDiv=$("<div style='position:absolute;"+("rtl"===n.direction?"right:0;":"left:0;")+"top:"+(parseInt(f,10)+parseInt(m,10)+parseInt(x,10)+1)+"px;' class='frozen-sdiv ui-jqgrid-sdiv'></div>"),$(n.gView).append(o.fsDiv);var C=$(".ui-jqgrid-ftable",n.gView).clone(!0);$("tr",C).each((function(){$("td:gt("+c+")",this).remove()})),$(C).width(1),$(o.fsDiv).append(C)}$(n.gView).append(o.fbDiv),$(o.bDiv).scroll((function(){$(o.fbDiv).scrollTop($(this).scrollTop())})),$(o.fbDiv).on("mousewheel.setFrozenColumns DOMMouseScroll.setFrozenColumns",(function(i){o.bDiv.scrollTop+=$.isFunction(e.mouseWheel)?e.mouseWheel.call(t,i):"mousewheel"===i.type?-i.originalEvent.wheelDelta/10:6*i.originalEvent.detail})),!0===n.hoverrows&&$(n.idSel).off("mouseover.jqGrid mouseout.jqGrid");var k=function(e,t){var i=e.height();1<=Math.abs(i-t)&&0<t&&(e.height(t),i=e.height(),1<=Math.abs(t-i)&&e.height(t+Math.round(t-i)))},S=function(e,t){var i=e.width();1<=Math.abs(i-t)&&(e.width(t),i=e.width(),1<=Math.abs(t-i)&&e.width(t+Math.round(t-i)))},_=function(e,t,i,o){var s,a,l,c,d,u,h,p,f,m,g,v,b=$(t).position().top;if(null!=e&&0<e.length){if(e[0].scrollTop=t.scrollTop,e.css("rtl"===n.direction?{top:b,right:0}:{top:b,left:0}),l=e.children("table").children("thead").children("tr"),0===(c=$(t).children("div").children("table").children("thead").children("tr")).length&&0<e.children("table").length&&(l=$(e.children("table")[0].rows),c=$($(t).children("div").children("table")[0].rows)),m=0<(a=Math.min(l.length,c.length))?$(l[0]).position().top:0,g=0<a?$(c[0]).position().top:0,0<=i)for(0<=o&&(a=Math.min(o+1,a)),s=i;s<a;s++)if("none"!==(d=$(c[s])).css("display")&&d.is(":visible")){if(b=d.position().top,h=(u=$(l[s])).position().top,p=d.height(),null!=n.groupHeader&&n.groupHeader.useColSpanStyle)for(v=d[0].cells,r=0;r<v.length;r++)null!=(f=v[r])&&"TH"===f.nodeName.toUpperCase()&&(p=Math.max(p,$(f).height()));k(u,p+(b-g)+(m-h))}k(e,t.clientHeight)}},D={resizeDiv:!0,resizedRows:{iRowStart:0,iRowEnd:-1}},T={header:D,resizeFooter:!0,body:D};i.on("jqGridAfterGridComplete.setFrozenColumns",(function(){$(n.idSel+"_frozen").remove(),$(o.fbDiv).height(o.hDiv.clientHeight);var e=$(this).clone(!0),t=e[0].rows,r=i[0].rows;if($(t).filter("tr[role=row]").each((function(){$(this.cells).filter("td[role=gridcell]:gt("+c+")").remove()})),o.fbRows=t,e.width(1).attr("id",n.id+"_frozen"),e.appendTo(o.fbDiv),!0===n.hoverrows){var s=function(e,t,i){$(e)[t](p),$(i[e.rowIndex])[t](p)};$(t).filter(".jqgrow").hover((function(){s(this,"addClass",r)}),(function(){s(this,"removeClass",r)})),$(r).filter(".jqgrow").hover((function(){s(this,"addClass",t)}),(function(){s(this,"removeClass",t)}))}_(o.fhDiv,o.hDiv,0,-1),_(o.fbDiv,o.bDiv,0,-1),o.sDiv&&_(o.fsDiv,o.sDiv,0,-1)}));var j=function(e){$(o.fbDiv).scrollTop($(o.bDiv).scrollTop()),e.header.resizeDiv&&_(o.fhDiv,o.hDiv,e.header.resizedRows.iRowStart,e.header.resizedRows.iRowEnd),e.body.resizeDiv&&_(o.fbDiv,o.bDiv,e.body.resizedRows.iRowStart,e.body.resizedRows.iRowEnd),e.resizeFooter&&o.sDiv&&e.resizeFooter&&_(o.fsDiv,o.sDiv,0,-1);var t=o.fhDiv[0].clientWidth;e.header.resizeDiv&&null!=o.fhDiv&&1<=o.fhDiv.length&&k($(o.fhDiv),o.hDiv.clientHeight),e.body.resizeDiv&&null!=o.fbDiv&&0<o.fbDiv.length&&S($(o.fbDiv),t),e.resizeFooter&&null!=o.fsDiv&&0<=o.fsDiv.length&&S($(o.fsDiv),t)};$(n.gBox).on("resizestop.setFrozenColumns",(function(){setTimeout((function(){j(T)}),50)})),i.on("jqGridInlineEditRow.setFrozenColumns jqGridInlineAfterRestoreRow.setFrozenColumns jqGridInlineAfterSaveRow.setFrozenColumns jqGridAfterEditCell.setFrozenColumns jqGridAfterRestoreCell.setFrozenColumns jqGridAfterSaveCell.setFrozenColumns jqGridResizeStop.setFrozenColumns",(function(e,t){var n=i.jqGrid("getInd",t);j({header:{resizeDiv:!1,resizedRows:{iRowStart:-1,iRowEnd:-1}},resizeFooter:!0,body:{resizeDiv:!0,resizedRows:{iRowStart:n,iRowEnd:n}}})})),i.on("jqGridResizeStop.setFrozenColumns",(function(){j(T)})),i.on("jqGridResetFrozenHeights.setFrozenColumns",(function(e,t){j(t||T)})),o.hDiv.loading||setTimeout((function(){i.triggerHandler("jqGridAfterGridComplete")}),0),n.frozenColumns=!0}}}}))},destroyFrozenColumns:function(){return this.each((function(){var e=$(this),t=this.grid,i=this.p,n=jqID(i.id);if(t&&!0===i.frozenColumns){if($(t.fhDiv).remove(),$(t.fbDiv).off(".setFrozenColumns"),$(t.fbDiv).remove(),t.fhDiv=null,t.fbDiv=null,t.fbRows=null,i.footerrow&&($(t.fsDiv).remove(),t.fsDiv=null),e.off(".setFrozenColumns"),!0===i.hoverrows){var o,r=getGuiStyles.call(this,"states.hover");e.on("mouseover.jqGrid",(function(e){o=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(o).attr("class")&&$(o).addClass(r)})).on("mouseout.jqGrid",(function(e){o=$(e.target).closest("tr.jqgrow"),$(o).removeClass(r)}))}if(i.frozenColumns=!1,i.sortable){var s=$(t.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels");s.sortable("destroy"),e.jqGrid("setGridParam",{sortable:{options:{items:">th:not(:has(#jqgh_"+n+"_cb,#jqgh_"+n+"_rn,#jqgh_"+n+"_subgrid),:hidden)"}}}),e.jqGrid("sortableColumns",s)}}}))}}),$.fn.jqFilter=function(e){if("string"==typeof e){var t=$.fn.jqFilter[e];if(!t)throw"jqFilter - No such method: "+e;var i=$.makeArray(arguments).slice(1);return t.apply(this,i)}var n=$.extend(!0,{filter:null,columns:[],onChange:null,afterRedraw:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[],operands:null,numopts:["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],stropts:["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},jgrid.filter,e||{});return this.each((function(){if(!this.filter){null!==(this.p=n).filter&&void 0!==n.filter||(n.filter={groupOp:n.groupOps[0].op,rules:[],groups:[]});var e,t,i=n.columns.length,o=/msie/i.test(navigator.userAgent)&&!window.opera,r=$.isFunction,s=null!=jgrid.defaults&&r(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert,a=function(){return $("#"+jgrid.jqID(n.id))[0]||null},l=function(e,t){return $(a()).jqGrid("getGuiStyles",e,t||"")},c=function(e){return $(a()).jqGrid("getGridRes","search."+e)},d=function(e){var t=a(),i=t.p.iColByName[e];return void 0!==i?{cm:t.p.colModel[i],iCol:i}:void 0!==(i=t.p.iPropByName[e])?{cm:t.p.additionalProperties[i],iCol:i,isAddProp:!0}:{cm:null,iCol:-1}},u=l("states.error"),h=l("dialog.content");if(n.initFilter=$.extend(!0,{},n.filter),i){for(e=0;e<i;e++)(t=n.columns[e]).stype?t.inputtype=t.stype:t.inputtype||(t.inputtype="text"),t.sorttype?t.searchtype=t.sorttype:t.searchtype||(t.searchtype="string"),void 0===t.hidden&&(t.hidden=!1),t.label||(t.label=t.name),t.cmName=t.name,t.index&&(t.name=t.index),t.hasOwnProperty("searchoptions")||(t.searchoptions={}),t.hasOwnProperty("searchrules")||(t.searchrules={});n.showQuery&&$(this).append("<table class='queryresult "+h+"' style='display:block;max-width:440px;border:0px none;' dir='"+n.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var p=function(e,t){var i=[!0,""],o=a();if(r(t.searchrules))i=t.searchrules.call(o,e,t);else if(jgrid&&jgrid.checkValues)try{i=jgrid.checkValues.call(o,e,-1,t.searchrules,t.label)}catch(e){}i&&i.length&&!1===i[0]&&(n.error=!i[0],n.errmsg=i[1])};this.onchange=function(){return n.error=!1,n.errmsg="",!!r(n.onChange)&&n.onChange.call(a(),n,this)},this.reDraw=function(){$("table.group:first",this).remove();var e=this.createTableForGroup(n.filter,null);$(this).append(e),r(n.afterRedraw)&&n.afterRedraw.call(a(),n,this)},this.createTableForGroup=function(e,t){var i,o=this,r=$("<table class='"+l("searchDialog.operationGroup","group")+"' style='border:0px none;'><tbody></tbody></table>"),s="left";"rtl"===n.direction&&(s="right",r.attr("dir","rtl")),null===t&&r.append("<tr class='error' style='display:none;'><th colspan='5' class='"+u+"' align='"+s+"'></th></tr>");var a=$("<tr></tr>");r.append(a);var d=$("<th colspan='5' align='"+s+"'></th>");if(a.append(d),!0===n.ruleButtons){var h=$("<select class='"+l("searchDialog.operationSelect","opsel")+"'></select>");d.append(h);var p,f="";for(i=0;i<n.groupOps.length;i++)p=e.groupOp===o.p.groupOps[i].op?" selected='selected'":"",f+="<option value='"+o.p.groupOps[i].op+"'"+p+">"+o.p.groupOps[i].text+"</option>";h.append(f).on("change",(function(){e.groupOp=$(h).val(),o.onchange()}))}var m,g,v,b="<span></span>";if(n.groupButton&&(b=$("<input type='button' value='+ {}' title='"+c("addGroupTitle")+"' class='"+l("searchDialog.addGroupButton","add-group")+"'/>")).on("click",(function(){return void 0===e.groups&&(e.groups=[]),e.groups.push({groupOp:n.groupOps[0].op,rules:[],groups:[]}),o.reDraw(),o.onchange(),!1})),d.append(b),!0===n.ruleButtons){var y,w=$("<input type='button' value='+' title='"+c("addRuleTitle")+"' class='"+l("searchDialog.addRuleButton","add-rule ui-add")+"'/>");w.on("click",(function(){var t,n,r;for(void 0===e.rules&&(e.rules=[]),i=0;i<o.p.columns.length;i++)if(t=void 0===o.p.columns[i].search||o.p.columns[i].search,n=!0===o.p.columns[i].hidden,!0===o.p.columns[i].searchoptions.searchhidden&&t||t&&!n){y=o.p.columns[i];break}return r=y.searchoptions.sopt?y.searchoptions.sopt:o.p.sopt?o.p.sopt:-1!==$.inArray(y.searchtype,o.p.strarr)?o.p.stropts:o.p.numopts,e.rules.push({field:y.name,op:r[0],data:""}),o.reDraw(),!1})),d.append(w)}if(null!==t){var x=$("<input type='button' value='-' title='"+c("deleteGroupTitle")+"' class='"+l("searchDialog.deleteGroupButton","delete-group")+"'/>");d.append(x),x.on("click",(function(){for(i=0;i<t.groups.length;i++)if(t.groups[i]===e){t.groups.splice(i,1);break}return o.reDraw(),o.onchange(),!1}))}if(void 0!==e.groups)for(i=0;i<e.groups.length;i++)m=$("<tr></tr>"),r.append(m),g=$("<td class='first'></td>"),m.append(g),(v=$("<td colspan='4'></td>")).append(this.createTableForGroup(e.groups[i],e)),m.append(v);if(void 0===e.groupOp&&(e.groupOp=o.p.groupOps[0].op),void 0!==e.rules)for(i=0;i<e.rules.length;i++)r.append(this.createTableRowForRule(e.rules[i],e));return r},this.createTableRowForRule=function(e,t){var i,s,u,h,p=this,f=a(),m=$("<tr></tr>"),g="";m.append("<td class='first'></td>");var v=$("<td class='columns'></td>");m.append(v);var b,y=$("<select class='"+l("searchDialog.label","selectLabel")+"'></select>"),w=[];v.append(y),y.on("change",(function(){e.field=$(y).val();var t,i,n=$(this).parents("tr:first");for(i=0;i<p.p.columns.length;i++)if(p.p.columns[i].name===e.field){t=p.p.columns[i];break}if(t){var a=$.extend({},t.editoptions||{});delete a.readonly,delete a.disabled;var c=$.extend({},a||{},t.searchoptions||{},d(t.cmName),{id:jgrid.randId(),name:t.name,mode:"search"});c.column=t,o&&"text"===t.inputtype&&(c.size||(c.size=10));var u=jgrid.createEl.call(f,t.inputtype,$.extend({},c,c.attr||{}),"",!0,p.p.ajaxSelectOptions||{},!0);$(u).addClass(l("searchDialog.elem","input-elm")),s=c.sopt?c.sopt:p.p.sopt?p.p.sopt:-1!==$.inArray(t.searchtype,p.p.strarr)?p.p.stropts:p.p.numopts;var h,m,g,v="",x=0;for(w=[],$.each(p.p.ops,(function(){w.push(this.oper)})),p.p.cops&&$.each(p.p.cops,(function(e){w.push(e)})),i=0;i<s.length;i++)m=s[i],-1!==(b=$.inArray(s[i],w))&&(g=void 0!==(h=p.p.ops[b])?h.text:p.p.cops[m].text,0===x&&(e.op=m),v+="<option value='"+m+"'>"+g+"</option>",x++);if($(".selectopts",n).empty().append(v),$(".selectopts",n)[0].selectedIndex=0,jgrid.msie&&jgrid.msiever()<9){var C=parseInt($("select.selectopts",n)[0].offsetWidth,10)+1;$(".selectopts",n).width(C),$(".selectopts",n).css("width","auto")}if($(".data",n).empty().append(u),t.createColumnIndex&&c.generateDatalist){var k="dl_"+u.id,S=$(f).jqGrid("generateDatalistFromColumnIndex",t.name);null!=S&&0<S.length&&($(u).attr("list",k),$(".data",n).append(S.attr("id",k)))}jgrid.bindEv.call(f,u,c),$(".input-elm",n).on("change",c,(function(t){var i=t.target,n=t.data.column;e.data=n&&"custom"===n.inputtype&&r(n.searchoptions.custom_value)?n.searchoptions.custom_value.call(f,$(this).find(".customelement").first(),"get"):i.value,$(i).is("input[type=checkbox]")&&!$(i).is(":checked")&&(e.data=$(i).data("offval")),p.onchange()})),setTimeout((function(){e.data=$(u).val(),p.onchange()}),0)}}));var x,C,k=0;for(i=0;i<p.p.columns.length;i++)x=void 0===p.p.columns[i].search||p.p.columns[i].search,C=!0===p.p.columns[i].hidden,(!0===p.p.columns[i].searchoptions.searchhidden&&x||x&&!C)&&(h="",e.field===p.p.columns[i].name&&(h=" selected='selected'",k=i),g+="<option value='"+p.p.columns[i].name+"'"+h+">"+p.p.columns[i].label+"</option>");y.append(g);var S=$("<td class='operators'></td>");m.append(S),u=n.columns[k],o&&"text"===u.inputtype&&(u.searchoptions.size||(u.searchoptions.size=10));var _=$.extend({},u.editoptions||{});delete _.readonly,delete _.disabled;var D=$.extend({},_,u.searchoptions||{},d(u.cmName),{id:jgrid.randId(),name:u.name,mode:"search"});D.column=u;var T=jgrid.createEl.call(f,u.inputtype,$.extend({},D,D.attr||{}),e.data,!0,p.p.ajaxSelectOptions||{},!0);("nu"===e.op||"nn"===e.op||0<=$.inArray(e.op,f.p.customUnaryOperations))&&($(T).attr("readonly","true"),$(T).attr("disabled","true"));var j,O,I=$("<select class='"+l("searchDialog.operator","selectopts")+"'></select>");for(S.append(I),I.on("change",(function(){e.op=$(I).val();var t=$(this).parents("tr:first"),i=$(".input-elm",t)[0];"nu"===e.op||"nn"===e.op||0<=$.inArray(e.op,f.p.customUnaryOperations)?(e.data="","SELECT"!==i.tagName.toUpperCase()&&(i.value=""),i.setAttribute("readonly","true"),i.setAttribute("disabled","true")):("SELECT"===i.tagName.toUpperCase()&&(e.data=i.value),i.removeAttribute("readonly"),i.removeAttribute("disabled")),p.onchange()})),s=u.searchoptions.sopt?u.searchoptions.sopt:p.p.sopt?p.p.sopt:-1!==$.inArray(u.searchtype,p.p.strarr)?p.p.stropts:p.p.numopts,g="",$.each(p.p.ops,(function(){w.push(this.oper)})),p.p.cops&&$.each(p.p.cops,(function(e){w.push(e)})),i=0;i<s.length;i++)O=s[i],-1!==(b=$.inArray(s[i],w))&&(j=p.p.ops[b],g+="<option value='"+O+"'"+(h=e.op===O?" selected='selected'":"")+">"+(void 0!==j?j.text:p.p.cops[O].text)+"</option>");I.append(g);var E=$("<td class='data'></td>");if(m.append(E),E.append(T),u.createColumnIndex&&u.searchoptions.generateDatalist){var R="dl_"+T.id,P=$(f).jqGrid("generateDatalistFromColumnIndex",u.name);null!=P&&0<P.length&&($(T).attr("list",R),E.append(P.attr("id",R)))}jgrid.bindEv.call(f,T,u.searchoptions),$(T).addClass(l("searchDialog.elem","input-elm")).on("change",(function(){e.data="custom"===u.inputtype?u.searchoptions.custom_value.call(f,$(this).find(".customelement").first(),"get"):$(this).val(),$(this).is("input[type=checkbox]")&&!$(this).is(":checked")&&(e.data=$(this).data("offval")),$.isArray(e.data)&&(e.data=e.data.join(n.inFilterSeparator||",")),p.onchange()}));var A=$("<td></td>");if(m.append(A),!0===n.ruleButtons){var N=$("<input type='button' value='-' title='"+c("deleteRuleTitle")+"' class='"+l("searchDialog.deleteRuleButton","delete-rule ui-del")+"'/>");A.append(N),N.on("click",(function(){for(i=0;i<t.rules.length;i++)if(t.rules[i]===e){t.rules.splice(i,1);break}return p.reDraw(),p.onchange(),!1}))}return m},this.getStringForGroup=function(e){var t,i="(";if(void 0!==e.groups)for(t=0;t<e.groups.length;t++){1<i.length&&(i+=" "+e.groupOp+" ");try{i+=this.getStringForGroup(e.groups[t])}catch(e){s(e)}}if(void 0!==e.rules)try{for(t=0;t<e.rules.length;t++)1<i.length&&(i+=" "+e.groupOp+" "),i+=this.getStringForRule(e.rules[t])}catch(e){s(e)}return"()"==(i+=")")?"":i},this.getStringForRule=function(e){var t,i,o,s="",l="",c=e.data;for(t=0;t<n.ops.length;t++)if(n.ops[t].oper===e.op){s=n.operands.hasOwnProperty(e.op)?n.operands[e.op]:"",l=n.ops[t].oper;break}if(""===l&&null!=n.cops)for(o in n.cops)if(n.cops.hasOwnProperty(o)&&(l=o,s=n.cops[o].operand,r(n.cops[o].buildQueryValue)))return n.cops[o].buildQueryValue.call(n,{cmName:e.field,searchValue:c,operand:s});for(t=0;t<n.columns.length;t++)if(n.columns[t].name===e.field){i=n.columns[t];break}return null==i?"":("bw"!==l&&"bn"!==l||(c+="%"),"ew"!==l&&"en"!==l||(c="%"+c),"cn"!==l&&"nc"!==l||(c="%"+c+"%"),"in"!==l&&"ni"!==l||(c=" ("+c+")"),n.errorcheck&&p(e.data,i),-1!==$.inArray(i.searchtype,["int","integer","float","number","currency"])||"nn"===l||"nu"===l||0<=$.inArray(l,a().p.customUnaryOperations)?e.field+" "+s+" "+c:e.field+" "+s+' "'+c+'"')},this.resetFilter=function(){n.filter=$.extend(!0,{},n.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){$("th."+u,this).html(""),$("tr.error",this).hide()},this.showError=function(){$("th."+u,this).html(n.errmsg),$("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(n.filter)},this.toString=function(){var e=this;function t(t){if(e.p.errorcheck){var i,n;for(i=0;i<e.p.columns.length;i++)if(e.p.columns[i].name===t.field){n=e.p.columns[i];break}n&&p(t.data,n)}return t.op+"(item."+t.field+",'"+t.data+"')"}return function e(i){var n,o="(";if(void 0!==i.groups)for(n=0;n<i.groups.length;n++)1<o.length&&("OR"===i.groupOp?o+=" || ":o+=" && "),o+=e(i.groups[n]);if(void 0!==i.rules)for(n=0;n<i.rules.length;n++)1<o.length&&("OR"===i.groupOp?o+=" || ":o+=" && "),o+=t(i.rules[n]);return"()"==(o+=")")?"":o}(n.filter)},this.reDraw(),n.showQuery&&this.onchange(),this.filter=!0}}}))},$.extend($.fn.jqFilter,{toSQLString:function(){var e="";return this.each((function(){e=this.toUserFriendlyString()})),e},filterData:function(){var e;return this.each((function(){e=this.p.filter})),e},getParameter:function(e){return void 0!==e&&this.p.hasOwnProperty(e)?this.p[e]:this.p},resetFilter:function(){return this.each((function(){this.resetFilter()}))},addFilter:function(e){"string"==typeof e&&(e=$.parseJSON(e)),this.each((function(){this.p.filter=e,this.reDraw(),this.onchange()}))}});var xmlJsonClass={xml2json:function(e,t){9===e.nodeType&&(e=e.documentElement);var i=this.removeWhite(e),n=this.toObj(i),o=this.toJson(n,e.nodeName,"\t");return"{\n"+t+(t?o.replace(/\t/g,t):o.replace(/\t|\n/g,""))+"\n}"},json2xml:function(e,t){var i,n=function(e,t,i){var o,r,s,a,l="";if(e instanceof Array)if(0===e.length)l+=i+"<"+t+">__EMPTY_ARRAY_</"+t+">\n";else for(o=0,r=e.length;o<r;o+=1)l+=i+n(e[o],t,i+"\t")+"\n";else if("object"==typeof e){for(a in s=!1,l+=i+"<"+t,e)e.hasOwnProperty(a)&&("@"===a.charAt(0)?l+=" "+a.substr(1)+'="'+e[a].toString()+'"':s=!0);if(l+=s?">":"/>",s){for(a in e)e.hasOwnProperty(a)&&("#text"===a?l+=e[a]:"#cdata"===a?l+="<![CDATA["+e[a]+"]]>":"@"!==a.charAt(0)&&(l+=n(e[a],a,i+"\t")));l+=("\n"===l.charAt(l.length-1)?i:"")+"</"+t+">"}}else"function"==typeof e?l+=i+"<"+t+"><![CDATA["+e+"]]></"+t+">":(void 0===e&&(e=""),'""'===e.toString()||0===e.toString().length?l+=i+"<"+t+">__EMPTY_STRING_</"+t+">":l+=i+"<"+t+">"+e.toString()+"</"+t+">");return l},o="";for(i in e)e.hasOwnProperty(i)&&(o+=n(e[i],i,""));return t?o.replace(/\t/g,t):o.replace(/\t|\n/g,"")},toObj:function(e){var t,i,n={},o=/function/i,r=0,s=0,a=!1;if(1===e.nodeType){if(e.attributes.length)for(t=0;t<e.attributes.length;t+=1)n["@"+e.attributes[t].nodeName]=(e.attributes[t].nodeValue||"").toString();if(e.firstChild){for(i=e.firstChild;i;i=i.nextSibling)1===i.nodeType?a=!0:3===i.nodeType&&i.nodeValue.match(/[^ \f\n\r\t\v]/)?r+=1:4===i.nodeType&&(s+=1);if(a)if(r<2&&s<2)for(this.removeWhite(e),i=e.firstChild;i;i=i.nextSibling)3===i.nodeType?n["#text"]=this.escape(i.nodeValue):4===i.nodeType?o.test(i.nodeValue)?n[i.nodeName]=[n[i.nodeName],i.nodeValue]:n["#cdata"]=this.escape(i.nodeValue):n[i.nodeName]?n[i.nodeName]instanceof Array?n[i.nodeName][n[i.nodeName].length]=this.toObj(i):n[i.nodeName]=[n[i.nodeName],this.toObj(i)]:n[i.nodeName]=this.toObj(i);else e.attributes.length?n["#text"]=this.escape(this.innerXml(e)):n=this.escape(this.innerXml(e));else if(r)e.attributes.length?n["#text"]=this.escape(this.innerXml(e)):"__EMPTY_ARRAY_"===(n=this.escape(this.innerXml(e)))?n="[]":"__EMPTY_STRING_"===n&&(n="");else if(s)if(1<s)n=this.escape(this.innerXml(e));else for(i=e.firstChild;i;i=i.nextSibling){if(o.test(e.firstChild.nodeValue)){n=e.firstChild.nodeValue;break}n["#cdata"]=this.escape(i.nodeValue)}}e.attributes.length||e.firstChild||(n=null)}else 9===e.nodeType?n=this.toObj(e.documentElement):(null!=$.jgrid&&null!=$.jgrid.defaults&&$.isFunction($.jgrid.defaults.fatalError)?$.jgrid.defaults.fatalError:alert)("unhandled node type: "+e.nodeType);return n},toJson:function(e,t,i,n){void 0===n&&(n=!0);var o,r,s,a=t?'"'+t+'"':"",l="\t",c="\n",d=[],u=[];if(n||(c=l=""),"[]"===e)a+=t?":[]":"[]";else if(e instanceof Array){for(r=0,o=e.length;r<o;r+=1)d[r]=this.toJson(e[r],"",i+l,n);a+=(t?":[":"[")+(1<d.length?c+i+l+d.join(","+c+i+l)+c+i:d.join(""))+"]"}else if(null===e)a+=(t&&":")+"null";else if("object"==typeof e){for(s in e)e.hasOwnProperty(s)&&(u[u.length]=this.toJson(e[s],s,i+l,n));a+=(t?":{":"{")+(1<u.length?c+i+l+u.join(","+c+i+l)+c+i:u.join(""))+"}"}else a+="string"==typeof e?(t&&":")+'"'+e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"':(t&&":")+e.toString();return a},innerXml:function(e){var t,i="",n=function(e){var t,i,o="";if(1===e.nodeType){for(o+="<"+e.nodeName,t=0;t<e.attributes.length;t+=1)o+=" "+e.attributes[t].nodeName+'="'+(e.attributes[t].nodeValue||"").toString()+'"';if(e.firstChild){for(o+=">",i=e.firstChild;i;i=i.nextSibling)o+=n(i);o+="</"+e.nodeName+">"}else o+="/>"}else 3===e.nodeType?o+=e.nodeValue:4===e.nodeType&&(o+="<![CDATA["+e.nodeValue+"]]>");return o};if(e.hasOwnProperty("innerHTML"))i=e.innerHTML;else for(t=e.firstChild;t;t=t.nextSibling)i+=n(t);return i},escape:function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();for(var t,i=e.firstChild;i;)3===i.nodeType?i.nodeValue.match(/[^ \f\n\r\t\v]/)?i=i.nextSibling:(t=i.nextSibling,e.removeChild(i),i=t):(1===i.nodeType&&this.removeWhite(i),i=i.nextSibling);return e}};window.xmlJsonClass=xmlJsonClass;var jgridFeedback=jgrid.feedback,fullBoolFeedback=jgrid.fullBoolFeedback,builderFmButon=jgrid.builderFmButon,addFormIcon=function(e,t,i){var n;!0===t[0]&&(n="<span class='"+mergeCssClasses("fm-button-icon",i,t[2])+"'></span>","right"===t[1]?e.addClass("fm-button-icon-right").append(n):e.addClass("fm-button-icon-left").prepend(n))},getGuiStateStyles=function(e){return getGuiStyles.call(this,"states."+e)},hideRowsWithoutVissibleCells=function(e){e.find("tr[data-rowpos]").each((function(){var e=0;$(this).children("td").each((function(){"hidden"!==$(this).css("visibility")&&e++})),e||$(this).hide()}))},isEmptyString=function(e){return"&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0)};jgrid.extend({searchGrid:function(e){return this.each((function(){var t=this,i=$(t),n=t.p;if(t.grid&&null!=n){var o=$.extend(!0,{drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:n.prmNames.filters,loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,removemodal:!0,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE",in:"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"IS NOT NULL"}},base.getGridRes.call(i,"search"),jgrid.search||{},n.searching||{},e||{}),r="fbox_"+n.id,s=o.commonIconClass,a={themodal:"searchmod"+r,modalhead:"searchhd"+r,modalcontent:"searchcnt"+r,resizeAlso:r},l="#"+jqID(a.themodal),c=n.gBox,d=n.gView,u=$.each,h=n.postData[o.sFilter],p=function(){var e=$.makeArray(arguments);return e.unshift("Search"),e.unshift("Filter"),e.unshift(o),jgridFeedback.apply(t,e)},f=function(){jgrid.hideModal(l,{gb:c,jqm:o.jqModal,onClose:o.onClose,removemodal:o.removemodal})};if("string"==typeof h&&(h=""!==$.trim(h)?$.parseJSON(h):void 0),$(l).remove(),void 0!==$(l)[0])T($("#fbox_"+jqID(n.id)));else{var m=$("<div><div id='"+r+"' class='"+getGuiStyles.call(t,"dialog.body","searchFilter")+"' style='overflow:auto'></div></div>").insertBefore(d);"rtl"===n.direction&&m.attr("dir","rtl");var g,v,b="",y="",w=!1,x=-1,C=$.extend([],n.colModel),k=builderFmButon.call(t,r+"_search",o.Find,mergeCssClasses(s,o.findDialogIcon),"right"),S=builderFmButon.call(t,r+"_reset",o.Reset,mergeCssClasses(s,o.resetDialogIcon),"left");if(o.showQuery&&(b=builderFmButon.call(t,r+"_query","Query",mergeCssClasses(s,o.queryDialogIcon),"left")+"&#160;"),o.searchForAdditionalProperties&&u(n.additionalProperties,(function(){var e="string"==typeof this?{name:this}:this;e.label||(e.label=e.name),e.isAddProp=!0,C.push(e)})),o.columns.length?(C=o.columns,g=C[x=0].index||C[0].name):u(C,(function(e,t){if(t.label||(t.label=t.isAddProp?t.name:n.colNames[e]),!w){var i=void 0===t.search||t.search,o=!0===t.hidden;(t.searchoptions&&!0===t.searchoptions.searchhidden&&i||i&&!o)&&(w=!0,g=t.index||t.name,x=e)}})),!h&&g||!1===o.multipleSearch){var _="eq";0<=x&&C[x].searchoptions&&C[x].searchoptions.sopt?_=C[x].searchoptions.sopt[0]:o.sopt&&o.sopt.length&&(_=o.sopt[0]),h={groupOp:"AND",rules:[{field:g,op:_,data:""}]}}w=!1,o.tmplNames&&o.tmplNames.length&&(w=!0,y=o.tmplLabel,y+="<select class='ui-template'>",y+="<option value='default'>Default</option>",u(o.tmplNames,(function(e,t){y+="<option value='"+e+"'>"+t+"</option>"})),y+="</select>"),v="<div class='"+getGuiStyles.call(t,"dialog.footer")+"'><table class='EditTable' style='border:0px none;margin-top:5px' id='"+r+"_2'><tbody><tr><td colspan='2'><hr class='"+getGuiStyles.call(t,"dialog.hr")+"' style='margin:1px'/></td></tr><tr><td class='EditButton EditButton-"+n.direction+"'  style='float:"+("rtl"===n.direction?"right":"left")+";'>"+S+y+"</td><td class='EditButton EditButton-"+n.direction+"'>"+b+k+"</td></tr></tbody></table></div>",r=jqID(r),o.gbox=c,o.height="auto",$(r="#"+r).jqFilter({columns:C,filter:o.loadDefaults?h:null,showQuery:o.showQuery,errorcheck:o.errorcheck,sopt:o.sopt,groupButton:o.multipleGroup,ruleButtons:o.multipleSearch,afterRedraw:o.afterRedraw,ops:o.odata,cops:n.customSortOperations,operands:o.operands,ajaxSelectOptions:n.ajaxSelectOptions,groupOps:o.groupOps,onChange:function(e,i){e.showQuery&&$(".query",i).text(i.toUserFriendlyString()),fullBoolFeedback.call(t,o.afterChange,"jqGridFilterAfterChange",$(r),o,e,i)},direction:n.direction,id:n.id}),m.append(v),w&&o.tmplFilters&&o.tmplFilters.length&&$(".ui-template",m).on("change",(function(){var e=$(this).val();return"default"===e?$(r).jqFilter("addFilter",h):$(r).jqFilter("addFilter",o.tmplFilters[parseInt(e,10)]),!1})),!0===o.multipleGroup&&(o.multipleSearch=!0),p("onInitialize",$(r)),o.layer?jgrid.createModal.call(t,a,m,o,d,$(c)[0],"#"+jqID(o.layer),{position:"relative"}):jgrid.createModal.call(t,a,m,o,d,$(c)[0]),(o.searchOnEnter||o.closeOnEscape)&&$(l).keydown((function(e){var t=$(e.target);return!o.searchOnEnter||13!==e.which||t.hasClass("add-group")||t.hasClass("add-rule")||t.hasClass("delete-group")||t.hasClass("delete-rule")||t.hasClass("fm-button")&&t.is("[id$=_query]")?o.closeOnEscape&&27===e.which?($("#"+jqID(a.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1):void 0:($(r+"_search").click(),!1)})),b&&$(r+"_query").on("click",(function(){return $(".queryresult",m).toggle(),!1})),void 0===o.stringResult&&(o.stringResult=o.multipleSearch),$(r+"_search").on("click",(function(){var e,s={},a="",l=$(r),c=l.find(".input-elm");if(c.filter(":focus")&&(c=c.filter(":focus")),c.change(),e=l.jqFilter("filterData"),o.errorcheck&&(l[0].hideError(),o.showQuery||l.jqFilter("toSQLString"),l[0].p.error))return l[0].showError(),!1;if(o.stringResult||"local"===n.datatype){try{a=JSON.stringify(e)}catch(e){}"string"==typeof a&&(s[o.sFilter]=a,u([o.sField,o.sValue,o.sOper],(function(){s[this]=""})))}else o.multipleSearch?(s[o.sFilter]=e,u([o.sField,o.sValue,o.sOper],(function(){s[this]=""}))):(s[o.sField]=e.rules[0].field,s[o.sValue]=e.rules[0].data,s[o.sOper]=e.rules[0].op,s[o.sFilter]="");return $.extend(n.postData,s),fullBoolFeedback.call(t,o.onSearch,"jqGridFilterSearch",n.filters)&&(n.search=!0,i.trigger("reloadGrid",[$.extend({page:1},o.reloadGridSearchOptions||{})])),o.closeAfterSearch&&f(),!1})),$(r+"_reset").on("click",(function(){var e={},s=$(r);return n.search=!1,!(n.resetsearch=!0)===o.multipleSearch?e[o.sField]=e[o.sValue]=e[o.sOper]="":e[o.sFilter]="",s[0].resetFilter(),w&&$(".ui-template",m).val("default"),$.extend(n.postData,e),fullBoolFeedback.call(t,o.onReset,"jqGridFilterReset")&&i.trigger("reloadGrid",[$.extend({page:1},o.reloadGridResetOptions||{})]),o.closeAfterReset&&f(),!1})),T($(r));var D=getGuiStateStyles.call(t,"hover");$(".fm-button:not(."+getGuiStateStyles.call(t,"disabled").split(" ").join(".")+")",m).hover((function(){$(this).addClass(D)}),(function(){$(this).removeClass(D)}))}}function T(e){p("beforeShow",e)&&($(l).data("onClose",o.onClose),jgrid.viewModal.call(t,l,{gbox:c,jqm:o.jqModal,overlay:o.overlay,modal:o.modal,overlayClass:o.overlayClass,toTop:o.toTop,onHide:function(e){e.w.remove(),e.o&&e.o.remove()}}),p("afterShow",e))}}))},editGridRow:function(e,t){return this.each((function(){var i=this,n=$(i),o=i.p;if(i.grid&&null!=o&&e){var r,s,a=o.id,l=base.getGridRes,c=base.setSelection,d=$.extend(!0,{top:0,left:0,width:300,datawidth:"auto",height:"auto",dataheight:"auto",drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",labelswidth:"",savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:getGuiStyles.call(this,"overlay"),removemodal:!0,skipPostTypes:["image","file"],saveui:"enable",savetext:l.call(n,"defaults.savetext")||"Saving..."},l.call(n,"edit"),jgrid.edit,o.formEditing||{},t||{}),u="FrmGrid_"+a,h=u,p="TblGrid_"+a,f="#"+jqID(p),m=f+"_2",g={themodal:"editmod"+a,modalhead:"edithd"+a,modalcontent:"editcnt"+a,resizeAlso:u},v="#"+jqID(g.themodal),b=o.gBox,y=o.colModel,w=o.iColByName,x=1,C=0,k=d.commonIconClass,S=function(){jgrid.hideModal(v,{gb:b,jqm:d.jqModal,onClose:d.onClose,removemodal:d.removemodal})},_=l.call(n,"errors.errcap"),D=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift("AddEdit"),e.unshift(d),jgridFeedback.apply(i,e)},T=getGuiStateStyles.call(i,"hover"),j=getGuiStateStyles.call(i,"disabled"),O=getGuiStateStyles.call(i,"select"),I=getGuiStateStyles.call(i,"active"),E=getGuiStateStyles.call(i,"error");$(v).remove(),u="#"+jqID(u),"new"===e?(e="_empty",s="add",d.caption=d.addCaption):(d.caption=d.editCaption,s="edit");var R=!0;!d.checkOnUpdate||!0!==d.jqModal&&void 0!==d.jqModal||d.modal||(R=!1);var P=isNaN(d.dataheight)?d.dataheight:d.dataheight+"px",A=isNaN(d.datawidth)?d.datawidth:d.datawidth+"px",N=$("<form name='FormPost' id='"+h+"' class='FormGrid' onSubmit='return false;' style='width:"+A+";overflow:auto;position:relative;height:"+P+";'></form>").data("disabled",!1),F=$("<table id='"+p+"' class='EditTable'><tbody></tbody></table>");$(y).each((function(){var e=this.formoptions;x=Math.max(x,e&&e.colpos||0),C=Math.max(C,e&&e.rowpos||0)})),$(N).append(F);var M=$("<tr id='FormError' style='display:none'><td class='"+E+"' colspan='"+2*x+"'>&#160;</td></tr>");if(M[0].rp=0,$(F).append(M),(M=$("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+2*x+"'>"+(d.topinfo||"&#160;")+"</td></tr>"))[0].rp=0,$(F).append(M),D("beforeInitData",N,s)){!function(){var t=jgrid.detectRowEditing.call(i,e);if(null!=t)if("inlineEditing"===t.mode)base.restoreRow.call(n,e);else{var o=t.savedRow,r=i.rows[o.id];base.restoreCell.call(n,o.id,o.ic),$(r.cells[o.ic]).removeClass("edit-cell "+O),$(r).addClass(O).attr({"aria-selected":"true",tabindex:"0"})}}();var L="rtl"===o.direction,z=L?"nData":"pData",q=L?"pData":"nData";!function(e,t,r){var s,l=0,c=[],h=!1,p=$(t),f=String(d.labelswidth)+(!d.labelswidth||isNaN(d.labelswidth)?"":"px"),m="<td class='CaptionTD"+(f?"' style='width:"+f+";":"")+"'>&#160;</td><td class='DataTD'>&#160;</td>",g="";for(s=1;s<=r;s++)g+=m;if("_empty"!==e&&(h=base.getInd.call(n,e)),$(y).each((function(t){var s,a,f,m,v,b=this,y=b.name,w=b.editable,x=!1,C=!1,k="_empty"===e?"addForm":"editForm";switch($.isFunction(w)&&(w=w.call(i,{rowid:e,iCol:t,iRow:h,cmName:y,cm:b,mode:k})),a=!(b.editrules&&!0===b.editrules.edithidden||!0!==b.hidden&&"hidden"!==w),String(w).toLowerCase()){case"hidden":w=!0;break;case"disabled":x=w=!0;break;case"readonly":C=w=!0}if("cb"!==y&&"subgrid"!==y&&!0===w&&"rn"!==y){if(!1===h)m="";else{s=$(i.rows[h].cells[t]);try{m=$.unformat.call(i,s,{rowId:e,colModel:b},t)}catch(t){m=b.edittype&&"textarea"===b.edittype?s.text():s.html()}isEmptyString(m)&&(m="")}var S=$.extend({},b.editoptions||{},{id:y,name:y,rowId:e,mode:k,cm:b,iCol:t}),_=$.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},b.formoptions||{}),D=parseInt(_.rowpos,10)||l+1,T=parseInt(2*(parseInt(_.colpos,10)||1),10);if("_empty"===e&&S.defaultValue&&(m=$.isFunction(S.defaultValue)?S.defaultValue.call(i):S.defaultValue),b.edittype||(b.edittype="text"),o.autoEncodeOnEdit&&(m=jgrid.oldDecodePostedData(m)),v=jgrid.createEl.call(i,b.edittype,S,m,!1,$.extend({},jgrid.ajaxOptions,o.ajaxSelectOptions||{})),(d.checkOnSubmit||d.checkOnUpdate)&&(d._savedData[y]=m),$(v).addClass("FormElement"),-1<$.inArray(b.edittype,["text","textarea","checkbox","password","select"])&&$(v).addClass(getGuiStyles.call(i,"dialog.dataField")),f=p.find("tr[data-rowpos="+D+"]"),_.rowabove){var O=$("<tr><td class='contentinfo' colspan='"+2*r+"'>"+_.rowcontent+"</td></tr>");p.append(O),O[0].rp=D}0===f.length&&(f=$("<tr data-rowpos='"+D+"'></tr>").addClass("FormData").attr("id","tr_"+y),$(f).append(g),p.append(f),f[0].rp=D);var I=$("td:eq("+(T-2)+")",f[0]),E=$("td:eq("+(T-1)+")",f[0]);I.html(void 0===_.label?o.colNames[t]:_.label||"&#160;");var R=E[isEmptyString(E.html())?"html":"append"](_.elmprefix);if(R.append(v).append(_.elmsuffix),"INPUT"===v.tagName.toUpperCase()&&b.createColumnIndex&&S.generateDatalist){var P=n.jqGrid("generateDatalistFromColumnIndex",b.name);null!=P&&0<P.length&&($(v).attr("list","dl_"+v.id),R.append(P.attr("id","dl_"+v.id)))}x?(I.addClass(j),E.addClass(j),$(v).prop("readonly",!0),$(v).prop("disabled",!0)):C&&$(v).prop("readonly",!0),"custom"===b.edittype&&$.isFunction(S.custom_value)&&S.custom_value.call(i,$("#"+jqID(y),u),"set",m),jgrid.bindEv.call(i,v,S),a&&I.add(E).css("visibility","hidden"),c[l]=t,l++}})),hideRowsWithoutVissibleCells(p),0<l){var v=$("<tr class='FormData' style='display:none'><td class='CaptionTD'>&#160;</td><td colspan='"+(2*r-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+a+"_id' value='"+e+"'/></td></tr>");v[0].rp=l+999,p.append(v),(d.checkOnSubmit||d.checkOnUpdate)&&(d._savedData[a+"_id"]=e)}}(e,F,x);var B=builderFmButon.call(i,z,"",mergeCssClasses(k,d.prevIcon),"","left"),H=builderFmButon.call(i,q,"",mergeCssClasses(k,d.nextIcon),"","right"),G=builderFmButon.call(i,"sData",d.bSubmit),W=builderFmButon.call(i,"cData",d.bCancel),U="<div class='"+getGuiStyles.call(i,"dialog.footer")+"'><table class='EditTable' id='"+p+"_2'><tbody><tr><td colspan='2'><hr class='"+getGuiStyles.call(i,"dialog.hr")+"' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton navButton-"+o.direction+"'>"+(L?H+B:B+H)+"</td><td class='EditButton EditButton-"+o.direction+"'>"+G+"&#160;"+W+"</td></tr>";if(U+="<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+(d.bottominfo||"&#160;")+"</td></tr>",U+="</tbody></table></div>",0<C){var V=[];$.each($(F)[0].rows,(function(e,t){V[e]=t})),V.sort((function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0})),$.each(V,(function(e,t){$("tbody",F).append(t)}))}d.gbox=b;var Y=!1;!0===d.closeOnEscape&&(d.closeOnEscape=!1,Y=!0);var X=$("<div></div>").append($("<div class='"+getGuiStyles.call(i,"dialog.body")+"'></div>").append(N)).append(U);if(jgrid.createModal.call(i,g,X,d,o.gView,$(b)[0]),d.topinfo&&$(".tinfo",f).show(),d.bottominfo&&$(".binfo",m).show(),U=X=null,$(v).keydown((function(e){var t,i,n=(e.target.tagName||"").toUpperCase();if(!0===$(u).data("disabled"))return!1;if(13===e.which&&"TEXTAREA"!==n){if(i=(t=$(m).find(":focus")).attr("id"),0<t.length&&0<=$.inArray(i,["pData","nData","cData"]))return t.trigger("click"),!1;if(!0===d.savekey[0]&&13===d.savekey[1])return $("#sData",m).trigger("click"),!1}if(!0===d.savekey[0]&&e.which===d.savekey[1]&&"TEXTAREA"!==n)return $("#sData",m).trigger("click"),!1;if(27===e.which)return ie()&&Y&&S(),!1;if(!0===d.navkeys[0]){if("_empty"===$("#id_g",f).val())return!0;if(e.which===d.navkeys[1])return $("#pData",m).trigger("click"),!1;if(e.which===d.navkeys[2])return $("#nData",m).trigger("click"),!1}})),d.checkOnUpdate&&($("a.ui-jqdialog-titlebar-close span",v).removeClass("jqmClose"),$("a.ui-jqdialog-titlebar-close",v).off("click").click((function(){return ie()&&S(),!1}))),addFormIcon($("#sData",m),d.saveicon,k),addFormIcon($("#cData",m),d.closeicon,k),d.checkOnSubmit||d.checkOnUpdate){G=builderFmButon.call(i,"sNew",d.bYes),H=builderFmButon.call(i,"nNew",d.bNo),W=builderFmButon.call(i,"cNew",d.bExit);var J=d.zIndex||999;J++,$("<div class='"+d.overlayClass+" jqgrid-overlay confirm' style='z-index:"+J+";display:none;'>&#160;</div><div class='"+getGuiStyles.call(i,"dialog.content","confirm ui-jqconfirm")+"' style='z-index:"+(J+1)+"'>"+d.saveData+"<br/><br/>"+G+H+W+"</div>").insertAfter(u),$("#sNew",v).click((function(){return ee(),$(u).data("disabled",!1),$(".confirm",v).hide(),!1})),$("#nNew",v).click((function(){return $(".confirm",v).hide(),$(u).data("disabled",!1),setTimeout((function(){$(u).find("input,textarea,select,button,object,*[tabindex]").filter(":input:visible:not(:disabled)").first().focus()}),0),!1})),$("#cNew",v).click((function(){return $(".confirm",v).hide(),$(u).data("disabled",!1),S(),!1}))}D("onInitializeForm",$(u),s),"_empty"!==e&&d.viewPagerButtons?$("#pData,#nData",m).show():$("#pData,#nData",m).hide(),D("beforeShowForm",$(u),s),$(v).data("onClose",d.onClose),jgrid.viewModal.call(i,v,{gbox:b,jqm:d.jqModal,overlay:d.overlay,modal:d.modal,overlayClass:d.overlayClass,toTop:d.toTop,onHide:function(e){e.w.remove(),e.o&&e.o.remove()}}),R||$("."+jqID(d.overlayClass)).click((function(){return ie()&&S(),!1})),$(".fm-button",v).hover((function(){$(this).addClass(T)}),(function(){$(this).removeClass(T)})),$("#sData",m).click((function(){return r={},$("#FormError",f).hide(),Q(),"_empty"===r[a+"_id"]?ee():!0===d.checkOnSubmit&&te(r,d._savedData)?($(u).data("disabled",!0),$(".confirm",v).show()):ee(),!1})),$("#cData",m).click((function(){return ie()&&S(),!1})),$("#nData",m).click((function(){if(!ie())return!1;$("#FormError",f).hide();var e=oe();if(e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]){if(!D("onclickPgButtons","next",$(u),e[1][e[0]]))return!1;Z(e[1][e[0]+1],u),c.call(n,e[1][e[0]+1]),D("afterclickPgButtons","next",$(u),e[1][e[0]+1]),ne(e[0]+1,e)}return!1})),$("#pData",m).click((function(){if(!ie())return!1;$("#FormError",f).hide();var e=oe();if(-1!==e[0]&&e[1][e[0]-1]){if(!D("onclickPgButtons","prev",$(u),e[1][e[0]]))return!1;if(hasOneFromClasses($("#"+jqID(e[1][e[0]-1])),j))return!1;Z(e[1][e[0]-1],u),c.call(n,e[1][e[0]-1]),D("afterclickPgButtons","prev",$(u),e[1][e[0]-1]),ne(e[0]-1,e)}return!1})),D("afterShowForm",$(u),s);var K=oe();ne(K[0],K)}}function Q(){return $(f+" > tbody > tr > td .FormElement").each((function(){var e,t,o=$(".customelement",this),s=o.length?o.attr("name"):this.name,a=w[s],c=void 0!==a&&y[a]||{},u=c.editoptions||{};if(o.length&&$.isFunction(u.custom_value)){try{if(r[s]=u.custom_value.call(i,$("#"+jqID(s),f),"get"),void 0===r[s])throw"e1"}catch(e){"e1"===e?jgrid.info_dialog.call(i,_,"function 'custom_value' "+d.msg.novalue,d.bClose):jgrid.info_dialog.call(i,_,e.message,d.bClose)}return!0}switch(t=$(this)[0].type){case"checkbox":var h="string"==typeof u.value?u.value.split(":"):["Yes","No"];r[s]=$(this).is(":checked")?h[0]:h[1];break;case"select-one":r[s]=$("option:selected",this).val();break;case"select-multiple":r[s]=$(this).val(),r[s]=r[s]?r[s].join(","):"";var p=[];$("option:selected",this).each((function(e,t){p[e]=$(t).text()}));break;case"date":r[s]=$(this).val(),3===String(r[s]).split("-").length&&(e=(c.formatoptions||{}).newformat||l.call(n,"formatter.date.newformat"),r[s]=jgrid.parseDate.call(n[0],"Y-m-d",r[s],e));break;default:void 0!==t&&$.inArray(t,d.skipPostTypes)<0&&(r[s]=$(this).val())}})),!0}function Z(e,t){var r,s,l,c,u,h=0;(d.checkOnSubmit||d.checkOnUpdate)&&(d._savedData={},d._savedData[a+"_id"]=e);var p=o.colModel;if("_empty"===e)return $(p).each((function(){r=this.name,l=$.extend({},this.editoptions||{}),(s=$("#"+jqID(r),t))&&s.length&&null!==s[0]&&(c="","custom"===this.edittype&&$.isFunction(l.custom_value)?l.custom_value.call(i,s,"set",c):l.defaultValue?(c=$.isFunction(l.defaultValue)?l.defaultValue.call(i):l.defaultValue,"checkbox"===s[0].type?(u=c.toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==u?(s[0].checked=!0,s[0].defaultChecked=!0,s[0].value=c):(s[0].checked=!1,s[0].defaultChecked=!1):s.val(c)):"checkbox"===s[0].type?(s[0].checked=!1,s[0].defaultChecked=!1,c=$(s).data("offval")):s[0].type&&"select"===s[0].type.substr(0,6)?s[0].selectedIndex=0:s.val(c),(!0===d.checkOnSubmit||d.checkOnUpdate)&&(d._savedData[r]=c))})),void $("#id_g",t).val(e);var m=base.getInd.call(n,e,!0);m&&($(m.cells).filter("td[role=gridcell]").each((function(n){var s;if("cb"!==(r=p[n].name)&&"subgrid"!==r&&"rn"!==r&&!0===p[n].editable){try{s=$.unformat.call(i,$(this),{rowId:e,colModel:p[n]},n)}catch(e){s="textarea"===p[n].edittype?$(this).text():$(this).html()}switch(o.autoEncodeOnEdit&&(s=jgrid.oldDecodePostedData(s)),(!0===d.checkOnSubmit||d.checkOnUpdate)&&(d._savedData[r]=s),r="#"+jqID(r),p[n].edittype){case"password":case"text":case"button":case"image":case"textarea":isEmptyString(s)&&(s=""),$(r,t).val(s);break;case"select":var a=s.split(",");a=$.map(a,(function(e){return $.trim(e)})),$(r+" option",t).each((function(){var e,t=this,i=$(t),o=$.trim(i.val());if(p[n].editoptions.multiple||a[0]!==o?p[n].editoptions.multiple&&-1<(e=$.inArray(o,a))?(a.splice(e,1),t.selected=!0):t.selected=!1:(a.splice(0,1),t.selected=!0),0===a.length)return!1})),0<a.length&&$(r+" option",t).each((function(){var e,t=$(this),i=$.trim(t.text());if(p[n].editoptions.multiple||$.trim(s)!==i&&a[0]!==i?p[n].editoptions.multiple&&-1<(e=$.inArray(i,a))&&(a.splice(e,1),this.selected=!0):(a.splice(0,1),this.selected=!0),0===a.length)return!1}));break;case"checkbox":s=String(s),s=p[n].editoptions&&p[n].editoptions.value?p[n].editoptions.value.split(":")[0]===s:(s=s.toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==s,$(r,t).prop({checked:s,defaultChecked:s});break;case"custom":try{if(!p[n].editoptions||!$.isFunction(p[n].editoptions.custom_value))throw"e1";p[n].editoptions.custom_value.call(i,$(r,t),"set",s)}catch(e){"e1"===e?jgrid.info_dialog.call(i,_,"function 'custom_value' "+d.msg.nodefined,d.bClose):jgrid.info_dialog.call(i,_,e.message,d.bClose)}}h++}})),0<h&&$("#id_g",f).val(e))}function ee(){var t,l,h,p,g,v,b,w,x,C=[!0,"",""],k=C,_={},D=o.prmNames,T=base.getInd.call(n,e),j=!1===T?null:i.rows[T],O=n.triggerHandler("jqGridAddEditBeforeCheckValues",[r,$(u),s]);for(h in O&&"object"==typeof O&&(r=O),T=!1===T?-1:T,$.isFunction(d.beforeCheckValues)&&(O=d.beforeCheckValues.call(i,r,$(u),s))&&"object"==typeof O&&(r=O),r)if(r.hasOwnProperty(h)&&(w=o.iColByName[h],null!=(k=jgrid.checkValues.call(i,r[h],h,void 0,void 0,{oldValue:"_empty"===e?null:base.getCell.call(n,e,w),newValue:r[h],cmName:h,rowid:e,cm:y[w],iCol:w,iRow:T,tr:j,td:null==j?null:j.cells[w],mode:"_empty"===e?"addForm":"editForm"}))&&!0!==k||(k=C),!1===k[0]))break;if(x=d.url||o.editurl,$.each(y,(function(e,t){var n=t.name;r.hasOwnProperty(n)&&("date"!==t.formatter||null!=t.formatoptions&&!0===t.formatoptions.sendFormatted||(r[n]=$.unformat.date.call(i,r[n],t)),"clientArray"!==x&&t.editoptions&&!0===t.editoptions.NullIfEmpty&&""===r[n]&&(r[n]="null"))})),k[0]&&(void 0===(_=n.triggerHandler("jqGridAddEditClickSubmit",[d,r,s]))&&$.isFunction(d.onclickSubmit)&&(_=d.onclickSubmit.call(i,d,r,s)||{}),null!=(k=n.triggerHandler("jqGridAddEditBeforeSubmit",[r,$(u),s]))&&!0!==k||(k=C),k[0]&&$.isFunction(d.beforeSubmit)&&(null!=(k=d.beforeSubmit.call(i,r,$(u),s))&&!0!==k||(k=C))),k[0]&&!d.processing){if(d.processing=!0,$("#sData",m).addClass(I),v=d.url||o.editurl,l=D.oper,t="clientArray"===v&&!1!==o.keyName?o.keyName:D.id,r[l]="_empty"===$.trim(r[a+"_id"])?D.addoper:D.editoper,(r[l]!==D.addoper||void 0===r[t])&&(r[t]=r[a+"_id"]),delete r[a+"_id"],r=$.extend(r,d.editData,_),!0===o.treeGrid){if(r[l]===D.addoper){p=o.selrow;var E="adjacency"===o.treeGridModel?o.treeReader.parent_id_field:"parent_id";r[E]=p}for(g in o.treeReader)if(o.treeReader.hasOwnProperty(g)&&(b=o.treeReader[g],r.hasOwnProperty(b))){if(r[l]===D.addoper&&"parent_id_field"===g)continue;delete r[b]}}r[t]=jgrid.stripPref(o.idPrefix,r[t]),o.autoEncodeOnEdit&&$.each(r,(function(e,t){$.isFunction(t)||(r[e]=jgrid.oldEncodePostedData(t))}));var R=$.extend({url:$.isFunction(v)?v.call(i,r[t],s,r,d):v,type:$.isFunction(d.mtype)?d.mtype.call(i,s,d,r[t],r):d.mtype,data:jgrid.serializeFeedback.call(i,$.isFunction(d.serializeEditData)?d.serializeEditData:o.serializeEditData,"jqGridAddEditSerializeEditData",r),complete:function(e,h){if(n.jqGrid("progressBar",{method:"hide",loadtype:d.saveui}),$("#sData",m).removeClass(I),r[t]=$("#id_g",f).val(),300<=e.status&&304!==e.status||0===e.status&&4===e.readyState?(k[0]=!1,k[1]=n.triggerHandler("jqGridAddEditErrorTextFormat",[e,s]),$.isFunction(d.errorTextFormat)?k[1]=d.errorTextFormat.call(i,e,s):k[1]=h+" Status: '"+e.statusText+"'. Error code: "+e.status):(null!=(k=n.triggerHandler("jqGridAddEditAfterSubmit",[e,r,s]))&&!0!==k||(k=C),k[0]&&$.isFunction(d.afterSubmit)&&(null!=(k=d.afterSubmit.call(i,e,r,s))&&!0!==k||(k=C))),!1===k[0])$("#FormError>td",f).html(k[1]),$("#FormError",f).show();else{o.autoEncodeOnEdit&&$.each(r,(function(e,t){r[e]=jgrid.oldDecodePostedData(t)}));var g,v=[$.extend({},d.reloadGridOptions||{})];if(r[l]===D.addoper?(k[2]||(k[2]=jgrid.randId()),null==r[t]||"_empty"===r[t]||r[l]===D.addoper?r[t]=k[2]:k[2]=r[t],d.reloadAfterSubmit?n.trigger("reloadGrid",v):!0===o.treeGrid?base.addChildNode.call(n,k[2],p,r):base.addRowData.call(n,k[2],r,d.addedrow),d.closeAfterAdd?(!0!==o.treeGrid&&c.call(n,k[2]),S()):d.clearAfterAdd&&Z("_empty",u)):(d.reloadAfterSubmit?(n.trigger("reloadGrid",v),d.closeAfterEdit||setTimeout((function(){c.call(n,r[t])}),1e3)):!0===o.treeGrid?base.setTreeRow.call(n,r[t],r):base.setRowData.call(n,r[t],r),d.closeAfterEdit&&S()),$.isFunction(d.afterComplete)){var b=e;setTimeout((function(){n.triggerHandler("jqGridAddEditAfterComplete",[b,r,$(u),s]),d.afterComplete.call(i,b,r,$(u),s),b=null}),50)}if((d.checkOnSubmit||d.checkOnUpdate)&&($(u).data("disabled",!1),"_empty"!==d._savedData[a+"_id"]))for(g in d._savedData)d._savedData.hasOwnProperty(g)&&r[g]&&(d._savedData[g]=r[g])}d.processing=!1;try{$(u).find("input,textarea,select,button,object,*[tabindex]").filter(":input:visible:not(:disabled)").first().focus()}catch(e){}}},jgrid.ajaxOptions,d.ajaxEditOptions);if(R.url||d.useDataProxy||($.isFunction(o.dataProxy)?d.useDataProxy=!0:(k[0]=!1,k[1]+=" "+jgrid.errors.nourl)),k[0])if(n.jqGrid("progressBar",{method:"show",loadtype:d.saveui,htmlcontent:d.savetext}),d.useDataProxy){var P=o.dataProxy.call(i,R,"set_"+a);void 0===P&&(P=[!0,""]),!1===P[0]?(k[0]=!1,k[1]=P[1]||"Error deleting the selected row!"):(R.data.oper===D.addoper&&d.closeAfterAdd&&S(),R.data.oper===D.editoper&&d.closeAfterEdit&&S())}else"clientArray"===R.url?(d.reloadAfterSubmit=!1,r=R.data,R.complete({status:200,statusText:""},"")):$.ajax(R)}!1===k[0]&&($("#FormError>td",f).html(k[1]),$("#FormError",f).show())}function te(e,t){var i,n=!1;for(i in e)if(e.hasOwnProperty(i)&&String(e[i])!==String(t[i])){n=!0;break}return n}function ie(){var e=!0;return $("#FormError",f).hide(),d.checkOnUpdate&&(r={},Q(),te(r,d._savedData)&&($(u).data("disabled",!0),$(".confirm",v).show(),e=!1)),e}function ne(e,t){var i=t[1].length-1;0===e||void 0!==t[1][e-1]&&hasOneFromClasses($("#"+jqID(t[1][e-1])),j)?$("#pData",m).addClass(j):$("#pData",m).removeClass(j),e===i||void 0!==t[1][e+1]&&hasOneFromClasses($("#"+jqID(t[1][e+1])),j)?$("#nData",m).addClass(j):$("#nData",m).removeClass(j)}function oe(){var e=base.getDataIDs.call(n),t=$("#id_g",f).val();return[$.inArray(t,e),e]}}))},viewGridRow:function(e,t){return this.each((function(){var i=this,n=$(i),o=i.p;if(i.grid&&null!=o&&e){var r=o.id,s=$.extend(!0,{top:0,left:0,width:0,datawidth:"auto",height:"auto",dataheight:"auto",drag:!0,resize:!0,closeOnEscape:!1,labelswidth:"",navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,removemodal:!0},base.getGridRes.call(n,"view"),jgrid.view||{},o.formViewing||{},t||{}),a="#ViewGrid_"+jqID(r),l="#ViewTbl_"+jqID(r),c=l+"_2",d="ViewGrid_"+r,u="ViewTbl_"+r,h=s.commonIconClass,p={themodal:"viewmod"+r,modalhead:"viewhd"+r,modalcontent:"viewcnt"+r,resizeAlso:d},f="#"+jqID(p.themodal),m=o.gBox,g=o.colModel,v=1,b=0,y=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift("View"),e.unshift(s),jgridFeedback.apply(i,e)},w=function(){jgrid.hideModal(f,{gb:m,jqm:s.jqModal,onClose:s.onClose,removemodal:s.removemodal})},x=getGuiStateStyles.call(i,"hover"),C=getGuiStateStyles.call(i,"disabled"),k=isNaN(s.dataheight)?s.dataheight:s.dataheight+"px",S=isNaN(s.datawidth)?s.datawidth:s.datawidth+"px",_=$("<div class='"+getGuiStyles.call(i,"dialog.body")+"'><form name='FormPost' id='"+d+"' class='FormGrid' style='width:"+S+";overflow:auto;position:relative;height:"+k+";'></form></div>"),D=_.children("form.FormGrid"),T=$("<table id='"+u+"' class='EditTable'><tbody></tbody></table>");if($(f).remove(),$(g).each((function(){var e=this.formoptions;v=Math.max(v,e&&e.colpos||0),b=Math.max(b,e&&e.rowpos||0)})),D.append(T),y("beforeInitData",D)){!function(e,t,r){var a,l,c,d,u,h,p,f,m=0,v=[],b=base.getInd.call(n,e),y=getGuiStyles.call(i,"dialog.viewData"),w=$(t),x=getGuiStyles.call(i,"dialog.viewLabel"),C=String(s.labelswidth)+(!s.labelswidth||isNaN(s.labelswidth)?"":"px"),k="<td class='"+getGuiStyles.call(i,"dialog.viewCellLabel","CaptionTD form-view-label")+(C?"' style='width:"+C+";":"")+"'>&#160;</td><td class='"+getGuiStyles.call(i,"dialog.viewCellData","DataTD form-view-data")+"'>&#160;</td>",S="",_=["integer","number","currency"],D=0,T=0;for(u=0;u<r;u++)S+=k;if($(g).each((function(){var e=this;(l=(!e.editrules||!0!==e.editrules.edithidden)&&!0===e.hidden)||"right"!==e.align||(e.formatter&&-1!==$.inArray(e.formatter,_)?D=Math.max(D,parseInt(e.width,10)):T=Math.max(T,parseInt(e.width,10)))})),h=0!==D?D:0!==T?T:0,$(g).each((function(e){var t=this;if(a=t.name,p=!1,l=(!t.editrules||!0!==t.editrules.edithidden)&&!0===t.hidden,f="boolean"!=typeof t.viewable||t.viewable,"cb"!==a&&"subgrid"!==a&&"rn"!==a&&f){d=!1===b?"":jgrid.getDataFieldOfCell.call(i,i.rows[b],e).html(),p="right"===t.align&&0!==h;var n=$.extend({},{rowabove:!1,rowcontent:""},t.formoptions||{}),s=parseInt(n.rowpos,10)||m+1,u=parseInt(2*(parseInt(n.colpos,10)||1),10);if(n.rowabove){var g=$("<tr><td class='contentinfo' colspan='"+2*r+"'>"+n.rowcontent+"</td></tr>");w.append(g),g[0].rp=s}0===(c=w.find("tr[data-rowpos="+s+"]")).length&&((c=$("<tr data-rowpos='"+s+"'></tr>").addClass("FormData").attr("id","trv_"+a)).append(S),w.append(c),c[0].rp=s);var C=void 0===n.label?o.colNames[e]:n.label,k=$("td:eq("+(u-1)+")",c[0]),_=$("td:eq("+(u-2)+")",c[0]);_.html("<label for='"+a+"'"+(x?" class='"+x+"'>":">")+(C||"&nbsp;")+"</label>"),k[isEmptyString(k.html())?"html":"append"]("<span id='"+a+"'"+(y?" class='"+y+"'>":">")+(d||"&nbsp;")+"</span>").attr("id","v_"+a),p&&$("td:eq("+(u-1)+") span",c[0]).css({"text-align":"right",width:h+"px"}),l&&_.add(k).css("visibility","hidden"),v[m]=e,m++}})),hideRowsWithoutVissibleCells(w),0<m){var j=$("<tr class='FormData' style='display:none'><td class='CaptionTD'>&#160;</td><td colspan='"+(2*r-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+e+"'/></td></tr>");j[0].rp=m+99,w.append(j)}}(e,T,v);var j="rtl"===o.direction,O=j?"nData":"pData",I=j?"pData":"nData",E=builderFmButon.call(i,O,"",mergeCssClasses(h,s.prevIcon),"","left"),R=builderFmButon.call(i,I,"",mergeCssClasses(h,s.nextIcon),"","right"),P=builderFmButon.call(i,"cData",s.bClose);if(0<b){var A=[];$.each($(T)[0].rows,(function(e,t){A[e]=t})),A.sort((function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0})),$.each(A,(function(e,t){$("tbody",T).append(t)}))}s.gbox=m;var N=$("<div></div>").append(_).append("<div class='"+getGuiStyles.call(i,"dialog.footer")+"'><table border='0' class='EditTable' id='"+u+"_2'><tbody><tr id='Act_Buttons'><td class='navButton navButton-"+o.direction+"' width='"+(s.labelswidth||"auto")+"'>"+(j?R+E:E+R)+"</td><td class='EditButton EditButton-"+o.direction+"'>"+P+"</td></tr></tbody></table></div>");jgrid.createModal.call(i,p,N,s,o.gView,$(o.gView)[0]),s.viewPagerButtons||$("#pData, #nData",c).hide(),N=null,$(f).keydown((function(e){var t,i;if(!0===$(a).data("disabled"))return!1;if(13===e.which&&(i=(t=$(c).find(":focus")).attr("id"),0<t.length&&0<=$.inArray(i,["pData","nData","cData"])))return t.trigger("click"),!1;if(27===e.which)return s.closeOnEscape&&w(),!1;if(!0===s.navkeys[0]){if(e.which===s.navkeys[1])return $("#pData",c).trigger("click"),!1;if(e.which===s.navkeys[2])return $("#nData",c).trigger("click"),!1}})),addFormIcon($("#cData",c),s.closeicon,h),y("beforeShowForm",$(a)),jgrid.viewModal.call(i,f,{gbox:m,jqm:s.jqModal,overlay:s.overlay,toTop:s.toTop,modal:s.modal,onHide:function(e){e.w.remove(),e.o&&e.o.remove()}}),$(".fm-button:not(."+C.split(" ").join(".")+")",c).hover((function(){$(this).addClass(x)}),(function(){$(this).removeClass(x)})),M(),$("#cData",c).click((function(){return w(),!1})),$("#nData",c).click((function(){$("#FormError",l).hide();var e=q();if(e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]){if(!y("onclickPgButtons","next",$(a),e[1][e[0]]))return!1;L(e[1][e[0]+1]),base.setSelection.call(n,e[1][e[0]+1]),y("afterclickPgButtons","next",$(a),e[1][e[0]+1]),z(e[0]+1,e)}return M(),!1})),$("#pData",c).click((function(){$("#FormError",l).hide();var e=q();if(-1!==e[0]&&e[1][e[0]-1]){if(!y("onclickPgButtons","prev",$(a),e[1][e[0]]))return!1;L(e[1][e[0]-1]),base.setSelection.call(n,e[1][e[0]-1]),y("afterclickPgButtons","prev",$(a),e[1][e[0]-1]),z(e[0]-1,e)}return M(),!1}));var F=q();z(F[0],F)}}function M(){!0!==s.closeOnEscape&&!0!==s.navkeys[0]||setTimeout((function(){$("#cData").focus()}),0)}function L(e){var t,o,r=0,s=base.getInd.call(n,e,!0);s&&($("td",s).each((function(e){o=g[e],"cb"!==(t=o.name)&&"subgrid"!==t&&"rn"!==t&&(t=jqID("v_"+t),$("#"+t+" span",l).html(jgrid.getDataFieldOfCell.call(i,s,e).html()),r++)})),0<r&&$("#id_g",l).val(e))}function z(e,t){var i=t[1].length-1;0===e||void 0!==t[1][e-1]&&hasOneFromClasses($("#"+jqID(t[1][e-1])),C)?$("#pData",c).addClass(C):$("#pData",c).removeClass(C),e===i||void 0!==t[1][e+1]&&hasOneFromClasses($("#"+jqID(t[1][e+1])),C)?$("#nData",c).addClass(C):$("#nData",c).removeClass(C)}function q(){var e=base.getDataIDs.call(n),t=$("#id_g",l).val();return[$.inArray(t,e),e]}}))},delGridRow:function(e,t){return this.each((function(){var i=this,n=i.p,o=$(i);if(i.grid&&null!=n&&e){var r,s,a,l,c=n.id,d=$.extend(!0,{top:0,left:0,width:240,removemodal:!0,height:"auto",dataheight:"auto",datawidth:"auto",drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,closeOnEscape:!1,delData:{},idSeparator:",",onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1,delui:"disable",deltext:base.getGridRes.call(o,"defaults.deltext")||"Deleting..."},base.getGridRes.call(o,"del"),jgrid.del||{},n.formDeleting||{},t||{}),u="DelTbl_"+c,h="#DelTbl_"+jqID(c),p={themodal:"delmod"+c,modalhead:"delhd"+c,modalcontent:"delcnt"+c,resizeAlso:u},f="#"+jqID(p.themodal),m=n.gBox,g=d.commonIconClass,v=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift("Delete"),e.unshift(d),jgridFeedback.apply(i,e)},b=getGuiStateStyles.call(i,"hover"),y=getGuiStateStyles.call(i,"active"),w=getGuiStateStyles.call(i,"error");if($.isArray(e)||(e=[String(e)]),void 0!==$(f)[0]){if(!v("beforeInitData",$(h)))return;$("#DelData>td",h).text(e.join(d.idSeparator)).data("rowids",e),$("#DelError",h).hide(),!0===d.processing&&(d.processing=!1,$("#dData",h).removeClass(y)),v("beforeShowForm",$(h)),jgrid.viewModal.call(i,f,{gbox:m,jqm:d.jqModal,jqM:!1,overlay:d.overlay,toTop:d.toTop,modal:d.modal}),v("afterShowForm",$(h))}else{var x=isNaN(d.dataheight)?d.dataheight:d.dataheight+"px",C=isNaN(d.datawidth)?d.datawidth:d.datawidth+"px",k="<div class='"+getGuiStyles.call(i,"dialog.body")+"'><div id='"+u+"' class='formdata' style='width:"+C+";overflow:auto;position:relative;height:"+x+";'>";k+="<table class='DelTable'><tbody>",k+="<tr id='DelError' style='display:none'><td class='"+w+"'></td></tr>",k+="<tr id='DelData' style='display:none'><td >"+e.join(d.idSeparator)+"</td></tr>",k+="<tr><td class='delmsg'>"+d.msg+"</td></tr>",k+="</tbody></table></div></div>";var S=builderFmButon.call(i,"dData",d.bSubmit),_=builderFmButon.call(i,"eData",d.bCancel);if(k+="<div class='"+getGuiStyles.call(i,"dialog.footer")+"'><table class='EditTable' id='"+u+"_2'><tbody><tr><td><hr class='"+getGuiStyles.call(i,"dialog.hr")+"' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton EditButton-"+n.direction+"'>"+S+"&#160;"+_+"</td></tr></tbody></table></div>",d.gbox=m,jgrid.createModal.call(i,p,k,d,n.gView,$(n.gView)[0]),$("#DelData>td",h).data("rowids",e),!v("beforeInitData",$(k)))return;$(".fm-button",h+"_2").hover((function(){$(this).addClass(b)}),(function(){$(this).removeClass(b)})),addFormIcon($("#dData",h+"_2"),d.delicon,g),addFormIcon($("#eData",h+"_2"),d.cancelicon,g),$("#dData",h+"_2").click((function(){var e,t=[!0,""],u=$("#DelData>td",h),p=u.text(),g=u.data("rowids"),b={};if($.isFunction(d.onclickSubmit)&&(b=d.onclickSubmit.call(i,d,p,g)||{}),$.isFunction(d.beforeSubmit)&&(t=d.beforeSubmit.call(i,p,g)||t),t[0]&&!d.processing){if(d.processing=!0,a=n.prmNames,r=$.extend({},d.delData,b),l=a.oper,r[l]=a.deloper,s=a.id,!(p=g.slice()).length)return!1;for(e in p)p.hasOwnProperty(e)&&(p[e]=jgrid.stripPref(n.idPrefix,p[e]));r[s]=p.join(d.idSeparator),$(this).addClass(y);var w=d.url||n.editurl,x=$.extend({url:$.isFunction(w)?w.call(i,r[s],r,d,g):w,type:d.mtype,data:$.isFunction(d.serializeDelData)?d.serializeDelData.call(i,r,g):r,complete:function(e,s){var a;if(o.jqGrid("progressBar",{method:"hide",loadtype:d.delui}),$("#dData",h+"_2").removeClass(y),300<=e.status&&304!==e.status||0===e.status&&4===e.readyState?(t[0]=!1,$.isFunction(d.errorTextFormat)?t[1]=d.errorTextFormat.call(i,e):t[1]=s+" Status: '"+e.statusText+"'. Error code: "+e.status):$.isFunction(d.afterSubmit)&&(t=d.afterSubmit.call(i,e,r,g)||[!0]),!1===t[0])$("#DelError>td",h).html(t[1]),$("#DelError",h).show();else{if("local"===n.datatype||!0===n.treeGrid||!d.reloadAfterSubmit)if(!0===n.treeGrid)try{base.delTreeNode.call(o,g[0])}catch(e){}else for(g=g.slice(),a=0;a<g.length;a++)base.delRowData.call(o,g[a]);d.reloadAfterSubmit&&o.trigger("reloadGrid",[$.extend({},d.reloadGridOptions||{})]),setTimeout((function(){v("afterComplete",e,p,$(h),g)}),50)}d.processing=!1,t[0]&&jgrid.hideModal(f,{gb:m,jqm:d.jqModal,onClose:d.onClose,removemodal:d.removemodal})}},jgrid.ajaxOptions,d.ajaxDelOptions);if(x.url||d.useDataProxy||($.isFunction(n.dataProxy)?d.useDataProxy=!0:(t[0]=!1,t[1]+=" "+jgrid.errors.nourl)),t[0])if(o.jqGrid("progressBar",{method:"show",loadtype:d.delui,htmlcontent:d.deltext}),d.useDataProxy){var C=n.dataProxy.call(i,x,"del_"+c);void 0===C&&(C=[!0,""]),!1===C[0]?(t[0]=!1,t[1]=C[1]||"Error deleting the selected row!"):jgrid.hideModal(f,{gb:m,jqm:d.jqModal,onClose:d.onClose,removemodal:d.removemodal})}else"clientArray"===x.url?(r=x.data,x.complete({status:200,statusText:""},"")):$.ajax(x)}return!1===t[0]&&($("#DelError>td",h).html(t[1]),$("#DelError",h).show()),!1})),$("#eData",h+"_2").click((function(){return jgrid.hideModal(f,{gb:m,jqm:d.jqModal,onClose:d.onClose,removemodal:d.removemodal}),!1})),v("beforeShowForm",$(h)),jgrid.viewModal.call(i,f,{gbox:m,jqm:d.jqModal,overlay:d.overlay,toTop:d.toTop,modal:d.modal}),v("afterShowForm",$(h))}!0===d.closeOnEscape&&setTimeout((function(){$(".ui-jqdialog-titlebar-close","#"+jqID(p.modalhead)).attr("tabindex","-1").focus()}),0)}}))},navGrid:function(e,t,i,n,o,r,s){return"object"==typeof e&&(s=r,r=o,o=n,n=i,i=t,t=e,e=void 0),n=n||{},i=i||{},s=s||{},o=o||{},r=r||{},this.each((function(){var a=this,l=a.p,c=$(a);if(a.grid&&null!=l&&!(a.nav&&0<$(e).find(".navtable").length)){var d=l.id,u=$.extend({edit:!0,add:!0,del:!0,search:!0,refresh:!0,refreshstate:"firstpage",view:!1,closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,hideEmptyPagerParts:!0,alertwidth:200,alertheight:"auto",alerttop:null,removemodal:!0,alertleft:null,alertzIndex:null,iconsOverText:!1},base.getGridRes.call(c,"nav"),jgrid.nav||{},l.navOptions||{},t||{});u.position=u.position||("rtl"===l.direction?"right":"left");var h,p,f,m=l.idSel,g=l.gBox,v=u.commonIconClass,b={themodal:"alertmod_"+d,modalhead:"alerthd_"+d,modalcontent:"alertcnt_"+d},y=function(){var e=document.documentElement,t=window,i=1024,n=768,o=c.closest(".ui-jqgrid").offset();void 0===$("#"+jqID(b.themodal))[0]&&(u.alerttop||u.alertleft||(void 0!==t.innerWidth?(i=t.innerWidth,n=t.innerHeight):null!=e&&void 0!==e.clientWidth&&0!==e.clientWidth&&(i=e.clientWidth,n=e.clientHeight),i=i/2-parseInt(u.alertwidth,10)/2-o.left+(void 0!==t.pageXOffset?t.pageXOffset:(e||document.body.parentNode||document.body).scrollLeft),n=n/2-25-o.top+(void 0!==t.pageYOffset?t.pageYOffset:(e||document.body.parentNode||document.body).scrollTop)),jgrid.createModal.call(a,b,"<div class='"+getGuiStyles.call(a,"dialog.body")+"'><div>"+u.alerttext+"</div></div>",{gbox:g,jqModal:u.jqModal,drag:!0,resize:!0,caption:u.alertcap,top:null!=u.alerttop?u.alerttop:n,left:null!=u.alertleft?u.alertleft:i,width:u.alertwidth,height:u.alertheight,closeOnEscape:u.closeOnEscape,zIndex:u.alertzIndex,removemodal:u.removemodal},l.gView,$(g)[0],!1)),jgrid.viewModal.call(a,"#"+jqID(b.themodal),{gbox:g,toTop:u.alertToTop,jqm:u.jqModal});var r=$("#"+jqID(b.modalhead)).find(".ui-jqdialog-titlebar-close");r.attr({tabindex:"0",href:"#",role:"button"}),setTimeout((function(){r.focus()}),50)},w=function(e){var t;if(13===e.which&&0<(t=$(this).find(".ui-pg-button").filter(":focus")).length){var i=t[0].id,n=i.substr(0,0<$(this).closest(".ui-jqgrid-toppager").length?i.length-d.length-5:i.length-d.length-1)+"mod"+l.id,o=$(".ui-jqdialog").filter(":visible").map((function(){return this.id}));if($.inArray(n,o)<0)return t.trigger("click"),!1}},x=getGuiStateStyles.call(a,"hover"),C=getGuiStateStyles.call(a,"disabled"),k=getGuiStyles.call(a,"navButton","ui-pg-button");if(a.grid){a.modalAlert=y,void 0===e&&(l.pager?(e=l.pager,l.toppager&&(u.cloneToTop=!0)):l.toppager&&(e=l.toppager));var S,_,D,T,j,O,I,E=1,R=["left","center","right"],P="<div class='"+getGuiStyles.call(a,"navButton","ui-pg-button "+getGuiStateStyles.call(a,"disabled"))+"'><span class='ui-separator'></span></div>",A=function(){hasOneFromClasses(this,C)||$(this).addClass(x)},N=function(){$(this).removeClass(x)},F=function(){return hasOneFromClasses(this,C)||($.isFunction(u.addfunc)?u.addfunc.call(a,n):base.editGridRow.call(c,"new",n)),!1},M=function(e,t,i){if(!hasOneFromClasses(this,C)){var n=l.selrow;n?$.isFunction(e)?e.call(a,n,i):base[t].call(c,n,i):y()}return!1},L=function(){return M.call(this,u.editfunc,"editGridRow",i)},z=function(){return M.call(this,u.viewfunc,"viewGridRow",s)},q=function(){var e;return hasOneFromClasses(this,C)||(l.multiselect?0===(e=l.selarrrow).length&&(e=null):e=l.selrow,e?$.isFunction(u.delfunc)?u.delfunc.call(a,e,o):base.delGridRow.call(c,e,o):y()),!1},B=function(){return hasOneFromClasses(this,C)||($.isFunction(u.searchfunc)?u.searchfunc.call(a,r):base.searchGrid.call(c,r)),!1},H=function(){if(!hasOneFromClasses(this,C)){$.isFunction(u.beforeRefresh)&&u.beforeRefresh.call(a),l.search=!1,l.resetsearch=!0;try{if("currentfilter"!==u.refreshstate){l.postData.filters="";try{$("#fbox_"+m).jqFilter("resetFilter")}catch(e){}$.isFunction(a.clearToolbar)&&a.clearToolbar(!1)}}catch(e){}switch(u.refreshstate){case"firstpage":c.trigger("reloadGrid",[$.extend({},u.reloadGridOptions||{},{page:1})]);break;case"current":case"currentfilter":c.trigger("reloadGrid",[$.extend({},u.reloadGridOptions||{},{current:!0})])}$.isFunction(u.afterRefresh)&&u.afterRefresh.call(a)}return!1},G=function(e,t,i){var n=$("<div class='"+k+"' tabindex='0' role='button'></div>"),o=u[e+"icon"],r=$.trim(u[e+"text"]);return n.append("<div class='ui-pg-div'><span class='"+(u.iconsOverText?mergeCssClasses("ui-pg-button-icon-over-text",v,o):mergeCssClasses(v,o))+"'></span>"+(r?"<span class='ui-pg-button-text"+(u.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+r+"</span>":"")+"</div>"),$(f).append(n),n.attr({title:u[e+"title"]||"",id:t||e+"_"+T}).click(i).hover(A,N),n};for(u.cloneToTop&&l.toppager&&(E=2),S=0;S<E;S++){if(f=$("<div class='ui-pg-table navtable' role='toolbar' style='float:"+("rtl"===l.direction?"right":"left")+";table-layout:auto;'></div>"),0===S?(T=d,(D=e)===l.toppager&&(T+="_top",E=1)):(D=l.toppager,T=d+"_top"),u.add&&G("add",n.id,F),u.edit&&G("edit",i.id,L),u.view&&G("view",s.id,z),u.del&&G("del",o.id,q),(u.add||u.edit||u.del||u.view)&&$(f).append(P),u.search&&(_=G("search",r.id,B),r.showOnLoad&&!0===r.showOnLoad&&$(_,f).click()),u.refresh&&G("refresh","",H),p=$(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",$("body").append("<div id='testpg2' class='"+getGuiStyles.call(a,"gBox","ui-jqgrid")+"' style='font-size:"+p+";visibility:hidden;' ></div>"),h=$(f).clone().appendTo("#testpg2").width(),$("#testpg2").remove(),$(D+"_"+u.position,D).append(f),u.hideEmptyPagerParts)for(j=0;j<R.length;j++)R[j]!==u.position&&(0===(I=$(D+"_"+R[j],D)).length||0===I[0].childNodes.length?I.hide():1===I[0].childNodes.length&&(O=I[0].firstChild,!$(O).is("table.ui-pg-table")||0!==O.rows&&0!==O.rows[0].cells.length||I.hide()));l._nvtd&&(h>l._nvtd[0]&&($(D+"_"+u.position,D).width(h),l._nvtd[0]=h),l._nvtd[1]=h),a.nav=!0,f.on("keydown.jqGrid",w)}c.triggerHandler("jqGridResetFrozenHeights")}}}))},navButtonAdd:function(e,t){return"object"==typeof e&&(t=e,e=void 0),this.each((function(){var i=this,n=i.p;if(i.grid){var o=$.extend({caption:"newButton",title:"",onClickButton:null,position:"last",iconsOverText:!1},base.getGridRes.call($(i),"nav"),jgrid.nav||{},n.navOptions||{},t||{}),r=o.id,s=getGuiStateStyles.call(i,"hover"),a=getGuiStateStyles.call(i,"disabled"),l=getGuiStyles.call(i,"navButton","ui-pg-button");if(void 0===e)if(n.pager){if(base.navButtonAdd.call($(i),n.pager,o),!n.toppager)return;e=n.toppager,r&&(r+="_top")}else n.toppager&&(e=n.toppager);"string"==typeof e&&0!==e.indexOf("#")&&(e="#"+jqID(e));var c=$(".navtable",e),d=o.commonIconClass;if(0<c.length){if(r&&0<c.find("#"+jqID(r)).length)return;var u=$("<div tabindex='0' role='button'></div>");"NONE"===o.buttonicon.toString().toUpperCase()?$(u).addClass(l).append("<div class='ui-pg-div'>"+(o.caption?"<span class='ui-pg-button-text"+(o.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+o.caption+"</span>":"")+"</div>"):$(u).addClass(l).append("<div class='ui-pg-div'><span class='"+(o.iconsOverText?mergeCssClasses("ui-pg-button-icon-over-text",d,o.buttonicon):mergeCssClasses(d,o.buttonicon))+"'></span>"+(o.caption?"<span class='ui-pg-button-text"+(o.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+o.caption+"</span>":"")+"</div>"),r&&$(u).attr("id",r),"first"===o.position&&0<c.children("div.ui-pg-button").length?c.children("div.ui-pg-button").first().before(u):c.append(u),$(u,c).attr("title",o.title||"").click((function(e){return hasOneFromClasses(this,a)||$.isFunction(o.onClickButton)&&o.onClickButton.call(i,o,e),!1})).hover((function(){hasOneFromClasses(this,a)||$(this).addClass(s)}),(function(){$(this).removeClass(s)})),$(i).triggerHandler("jqGridResetFrozenHeights")}}}))},navSeparatorAdd:function(e,t){return t=$.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},t||{}),this.each((function(){if(this.grid){var i=this.p,n=getGuiStyles.call(this,"navButton","ui-pg-button "+getGuiStateStyles.call(this,"disabled"));if(void 0===e)if(i.pager){if(base.navSeparatorAdd.call($(this),i.pager,t),!i.toppager)return;e=i.toppager}else i.toppager&&(e=i.toppager);"string"==typeof e&&0!==e.indexOf("#")&&(e="#"+jqID(e));var o=$(".navtable",e);if(0<o.length){var r="<div class='"+n+"'><span class='"+t.sepclass+"'></span>"+t.sepcontent+"</div>";"first"===t.position?0===o.children("div.ui-pg-button").length?o.append(r):o.children("div.ui-pg-button").first().before(r):o.append(r)}}}))},GridToForm:function(e,t){return this.each((function(){var i,n,o,r;if(this.grid){var s=base.getRowData.call($(this),e);if(s)for(i in s)if(s.hasOwnProperty(i))if((n=$("[name="+jqID(i)+"]",t)).is("input:radio")||n.is("input:checkbox"))for(o=0;o<n.length;o++)(r=$(n[o])).prop("checked",r.val()===String(s[i]));else n.val(isEmptyString(s[i])?"":s[i])}}))},FormToGrid:function(e,t,i,n){return this.each((function(){if(this.grid){i||(i="set"),n||(n="first");var o=$(t).serializeArray(),r={};$.each(o,(function(e,t){r[t.name]=t.value})),"add"===i?base.addRowData.call($(this),e,r,n):"set"===i&&base.setRowData.call($(this),e,r)}}))}}),jgrid.extend({groupingSetup:function(){return this.each((function(){var e,t,i,n,o,r=this.p,s=r.colModel,a=r.groupingView,l=function(){return""};if(null===a||"object"!=typeof a&&!$.isFunction(a))r.grouping=!1;else if(a.groupField.length){for(void 0===a.visibiltyOnNextGrouping&&(a.visibiltyOnNextGrouping=[]),a.lastvalues=[],a._locgr||(a.groups=[]),a.counters=[],e=0;e<a.groupField.length;e++)a.groupOrder[e]||(a.groupOrder[e]="asc"),a.groupText[e]||(a.groupText[e]="{0}"),"boolean"!=typeof a.groupColumnShow[e]&&(a.groupColumnShow[e]=!0),"boolean"!=typeof a.groupSummary[e]&&(a.groupSummary[e]=!1),a.groupSummaryPos[e]||(a.groupSummaryPos[e]="footer"),n=s[r.iColByName[a.groupField[e]]],!0===a.groupColumnShow[e]?(a.visibiltyOnNextGrouping[e]=!0,null!=n&&!0===n.hidden&&base.showCol.call($(this),a.groupField[e])):(a.visibiltyOnNextGrouping[e]=$("#"+jgrid.jqID(r.id+"_"+a.groupField[e])).is(":visible"),null!=n&&!0!==n.hidden&&base.hideCol.call($(this),a.groupField[e]));for(a.summary=[],a.hideFirstGroupCol&&(a.formatDisplayField[0]=function(e){return e}),t=0,i=s.length;t<i;t++)n=s[t],a.hideFirstGroupCol&&(n.hidden||a.groupField[0]!==n.name||(n.formatter=l)),n.summaryType&&(o={nm:n.name,st:n.summaryType,v:"",sr:n.summaryRound,srt:n.summaryRoundType||"round"},n.summaryDivider&&(o.sd=n.summaryDivider,o.vd=""),a.summary.push(o))}else r.grouping=!1}))},groupingPrepare:function(e,t){return this.each((function(){var i,n,o,r,s,a,l,c,d,u=this,h=u.p,p=h.groupingView,f=p.groups,m=p.counters,g=p.lastvalues,v=p.isInTheSameGroup,b=p.groupField.length,y=!1,w=base.groupingCalculations.handler,x=function(){var t,i,n;for(t=0;t<s.summary.length;t++)i=s.summary[t],n=$.isArray(i.st)?i.st[r.idx]:i.st,$.isFunction(n)?i.v=n.call(u,i.v,i.nm,e,r):(i.v=w.call($(u),n,i.v,i.nm,i.sr,i.srt,e),"avg"===n.toLowerCase()&&i.sd&&(i.vd=w.call($(u),n,i.vd,i.sd,i.sr,i.srt,e)));return s.summary},C=function(e,t){if(null==e&&p.useDefaultValuesOnGrouping){var i,n=void 0!==h.iColByName[t]?h.colModel[h.iColByName[t]]:h.additionalProperties[h.iPropByName[t]];null!=n&&null!=n.formatter&&(null!=n.formatoptions&&void 0!==n.formatoptions.defaultValue?e=n.formatoptions.defaultValue:"string"==typeof n.formatter&&void 0!==(i=$(u).jqGrid("getGridRes","formatter."+n.formatter+".defaultValue"))&&(e=i))}return e};for(i=0;i<b;i++)if(a=p.groupField[i],l=C(e[a],a),null==(d=null==(c=p.displayField[i])?null:C(e[c],c))&&(d=l),void 0!==l){for(o=[],n=0;n<=i;n++)o.push(e[p.groupField[n]]);for(r={idx:i,dataIndex:a,value:l,displayValue:d,startRow:t,cnt:1,keys:o,summary:[]},s={cnt:1,pos:f.length,summary:$.extend(!0,[],p.summary)},0===t?(f.push(r),g[i]=l,m[i]=s):"object"==typeof l||($.isArray(v)&&$.isFunction(v[i])?v[i].call(u,g[i],l,i,p):g[i]===l)?y?(f.push(r),g[i]=l,m[i]=s):((s=m[i]).cnt+=1,f[s.pos].cnt=s.cnt):(f.push(r),g[i]=l,y=!0,m[i]=s),f[s.pos].summary=x(),n=s.pos-1;0<=n;n--)if(f[n].idx<f[s.pos].idx){f[s.pos].parentGroupIndex=n,f[s.pos].parentGroup=f[n];break}}})),this},getGroupHeaderIndex:function(e,t){var i=this[0].p,n=t?$(t).closest("tr.jqgroup"):$("#"+jgrid.jqID(e)),o=parseInt(n.data("jqgrouplevel"),10),r=i.id+"ghead_"+o+"_";return isNaN(o)||!n.hasClass("jqgroup")||e.length<=r.length?-1:parseInt(e.substring(r.length),10)},groupingToggle:function(e,t){return this.each((function(){var i,n,o,r=this,s=r.p,a=s.groupingView,l=a.minusicon,c=a.plusicon,d=t?$(t).closest("tr.jqgroup"):$("#"+jgrid.jqID(e)),u=function(e){return e.find(">td>span.tree-wrap")},h=!0,p=!1,f=[],m=function(e){var t,i=e.length;for(t=0;t<i;t++)f.push(e[t])},g=parseInt(d.data("jqgrouplevel"),10);for(s.frozenColumns&&0<d.length&&(n=d[0].rowIndex,d=(d=$(r.rows[n])).add(r.grid.fbRows[n])),o=u(d),jgrid.hasAllClasses(o,l)?(o.removeClass(l).addClass(c),p=!0):o.removeClass(c).addClass(l),d=d.next();d.length;d=d.next())if(d.hasClass("jqfoot")){if(i=parseInt(d.data("jqfootlevel"),10),p){if(i=parseInt(d.data("jqfootlevel"),10),(!a.showSummaryOnHide&&i===g||g<i)&&m(d),i<g)break}else if((i===g||a.showSummaryOnHide&&i===g+1)&&m(d),i<=g)break}else if(d.hasClass("jqgroup"))if(i=parseInt(d.data("jqgrouplevel"),10),p){if(i<=g)break;m(d)}else{if(i<=g)break;i===g+1&&(u(d).removeClass(l).addClass(c),m(d)),h=!1}else(p||h)&&m(d);$(f).css("display",p?"none":""),s.frozenColumns&&$(r).triggerHandler("jqGridResetFrozenHeights",[{header:{resizeDiv:!1,resizedRows:{iRowStart:-1,iRowEnd:-1}},resizeFooter:!1,body:{resizeDiv:!0,resizedRows:{iRowStart:n,iRowEnd:d.length?d[0].rowIndex-1:-1}}}]),r.fixScrollOffsetAndhBoxPadding(),$(r).triggerHandler("jqGridGroupingClickGroup",[e,p]),$.isFunction(s.onClickGroup)&&s.onClickGroup.call(r,e,p)})),!1},groupingRender:function(e,t){var i="",n=this[0],o=n.p,r=0,s=[],a=o.groupingView,l=$.makeArray(a.groupSummary),c=a.groupField.length,d=a.groups,u=o.colModel,h=u.length,p=o.page,f="jqGridShowHideCol.groupingRender",m=function(e){return base.getGuiStyles.call(n,"gridRow",e)},g=m("jqgroup ui-row-"+o.direction),v=m("jqfoot ui-row-"+o.direction);function b(e,t,i,r,s){var l,c,p,f,m,g,v,b,y,w,x,C,k,S=d[e],_="",D=0,T=!0;if(0!==t&&0!==d[e].idx)for(l=e;0<=l;l--)if(d[l].idx===d[e].idx-t){S=d[l];break}for(c=S.cnt,x=void 0===s?r:0;x<h;x++){for(p="&#160;",w=u[x],b=0;b<S.summary.length;b++)if(y=S.summary[b],C=$.isArray(y.st)?y.st[i.idx]:y.st,k=$.isArray(w.summaryTpl)?w.summaryTpl[i.idx]:w.summaryTpl||"{0}",y.nm===w.name){"string"==typeof C&&"avg"===C.toLowerCase()&&(y.sd&&y.vd?y.v=y.v/y.vd:y.v&&0<c&&(y.v=y.v/c));try{y.groupCount=S.cnt,y.groupIndex=S.dataIndex,y.groupValue=S.value,g=n.formatter("",y.v,x,y)}catch(e){g=y.v}p=jgrid.format(k,g),w.summaryFormat&&(p=w.summaryFormat.call(n,i,p,g,w,y));break}m=f=!1,void 0!==s&&T&&(w.hidden||(p=s,T=!1,1<r&&(f=!0,D=r-1),m=w.align,w.align="rtl"===o.direction?"right":"left",a.iconColumnName=w.name)),v=!1,0<D&&!w.hidden&&"&#160;"===p?(v=!0,m&&(w.align=m),D--):(_+="<td role='gridcell' "+n.formatCol(x,1,"")+(f?"colspan='"+r+"'":"")+">"+p+"</td>",f=!1,m&&(w.align=m),v&&(w.hidden=!1,D--))}return _}return $.each(u,(function(e,t){var i;for(i=0;i<c;i++)if(a.groupField[i]===t.name){s[i]=e;break}})),l.reverse(),$.each(d,(function(f,m){var y,w,x,C,k,S,_,D,T=o.id+"ghead_"+m.idx,j=T+"_"+f,O=$.isFunction(a.groupCollapse)?a.groupCollapse.call(n,{group:m,rowid:j}):a.groupCollapse,I=1,E=0,R=c-1===m.idx,P=null!=m.parentGroup&&m.parentGroup.collapsed,A="<span style='cursor:pointer;margin-"+("rtl"===o.direction?"right:":"left:")+12*m.idx+"px;' class='"+a.commonIconClass+" "+(O?a.plusicon:a.minusicon)+" tree-wrap'></span>";if(a._locgr&&!(m.startRow+m.cnt>(p-1)*t&&m.startRow<p*t))return!0;P&&(O=!0),void 0!==O&&(m.collapsed=O),r++;try{$.isArray(a.formatDisplayField)&&$.isFunction(a.formatDisplayField[m.idx])?(m.displayValue=a.formatDisplayField[m.idx].call(n,m.displayValue,m.value,u[s[m.idx]],m.idx,m,f),y=m.displayValue):y=n.formatter(j,m.displayValue,s[m.idx],m.value,m)}catch(f){y=m.displayValue}if(i+="<tr id='"+j+"' data-jqgrouplevel='"+m.idx+"' "+(O&&P?"style='display:none;' ":"")+"role='row' class='"+g+" "+T+"'>","string"!=typeof(D=$.isFunction(a.groupText[m.idx])?a.groupText[m.idx].call(n,y,m.cnt,m.summary):jgrid.template(a.groupText[m.idx],y,m.cnt,m.summary))&&"number"!=typeof D&&(D=y),"header"===a.groupSummaryPos[m.idx]?(I=1,"cb"!==u[0].name&&"cb"!==u[1].name||I++,"subgrid"!==u[0].name&&"subgrid"!==u[1].name||I++,i+=b(f,0,m,I,A+"<span class='cell-wrapper'>"+D+"</span>")):i+="<td role='gridcell' style='padding-left:"+12*m.idx+"px;' colspan='"+h+"'>"+A+D+"</td>",i+="</tr>",R){for(S=d[f+1],k=m.startRow,_=void 0!==S?S.startRow:d[f].startRow+d[f].cnt,a._locgr&&(E=(p-1)*t)>m.startRow&&(k=E),x=k;x<_&&e[x-E];x++)i+=e[x-E].join("");if("header"!==a.groupSummaryPos[m.idx]){if(void 0!==S){for(w=0;w<a.groupField.length&&S.dataIndex!==a.groupField[w];w++);r=a.groupField.length-w}for(C=0;C<r;C++)l[C]&&(i+="<tr data-jqfootlevel='"+(m.idx-C)+(O&&(0<m.idx-C||!a.showSummaryOnHide)?"' style='display:none;'":"'")+" role='row' class='"+v+"'>",i+=b(f,C,d[m.idx-C],0),i+="</tr>");r=w}}})),this.off(f).on(f,(function(){var e,t,i,r,s=o.iColByName[a.iconColumnName];if(0<=$.inArray("header",a.groupSummaryPos)){for(r=0;r<u.length;r++)if(!u[r].hidden){i=r;break}if(void 0===i||s===i)return;for(e=0;e<n.rows.length;e++)t=n.rows[e],$(t).hasClass("jqgroup")&&($(t.cells[i]).html(t.cells[s].innerHTML),$(t.cells[s]).html("&nbsp;"));a.iconColumnName=u[i].name}})),i},groupingGroupBy:function(e,t){return this.each((function(){var i,n,o=this.p,r=o.groupingView;for("string"==typeof e&&(e=[e]),o.grouping=!0,r._locgr=!1,void 0===r.visibiltyOnNextGrouping&&(r.visibiltyOnNextGrouping=[]),i=0;i<r.groupField.length;i++)n=o.colModel[o.iColByName[r.groupField[i]]],!r.groupColumnShow[i]&&r.visibiltyOnNextGrouping[i]&&null!=n&&!0===n.hidden&&base.showCol.call($(this),r.groupField[i]);for(i=0;i<e.length;i++)r.visibiltyOnNextGrouping[i]=$(o.idSel+"_"+jgrid.jqID(e[i])).is(":visible");o.groupingView=$.extend(o.groupingView,t||{}),r.groupField=e,$(this).trigger("reloadGrid")}))},groupingRemove:function(e){return this.each((function(){var t,i=this.p,n=this.tBodies[0],o=i.groupingView;if(void 0===e&&(e=!0),!(i.grouping=!1)===e){for(t=0;t<o.groupField.length;t++)!o.groupColumnShow[t]&&o.visibiltyOnNextGrouping[t]&&base.showCol.call($(this),o.groupField);$("tr.jqgroup, tr.jqfoot",n).remove(),$("tr.jqgrow",n).filter(":hidden").show()}else $(this).trigger("reloadGrid")}))},groupingCalculations:{handler:function(e,t,i,n,o,r){var s,a,l={sum:function(){return parseFloat(t||0)+parseFloat(r[i]||0)},min:function(){return""===t?parseFloat(r[i]||0):Math.min(parseFloat(t),parseFloat(r[i]||0))},max:function(){return""===t?parseFloat(r[i]||0):Math.max(parseFloat(t),parseFloat(r[i]||0))},count:function(){return""===t&&(t=0),r.hasOwnProperty(i)?t+1:0},avg:function(){return l.sum()}};if(!l[e])throw"jqGrid Grouping No such method: "+e;return s=l[e](),null!=n&&("fixed"===o?s=s.toFixed(n):(a=Math.pow(10,n),s=Math.round(s*a)/a)),s}}}),$.jgrid.extend({jqGridImport:function(e){return e=$.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},e||{}),this.each((function(){var t,i=this,n=function(e,t){var n,o,r,s,a=$(t.xmlGrid.config,e)[0],l=$(t.xmlGrid.data,e)[0];if(xmlJsonClass.xml2json){for(r in n=xmlJsonClass.xml2json(a," "),n=$.parseJSON(n))n.hasOwnProperty(r)&&(o=n[r]);void 0!==o&&(l?(s=n.grid.datatype,n.grid.datatype="xmlstring",n.grid.datastr=e,$(i).jqGrid(o).jqGrid("setGridParam",{datatype:s})):$(i).jqGrid(o))}else(null!=jgrid.defaults&&$.isFunction(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert)("xml2json or parse are not present")},o=function(e,t){if(e&&"string"==typeof e){var n,o=$.parseJSON(e),r=o[t.jsonGrid.config],s=o[t.jsonGrid.data];s?(n=r.datatype,r.datatype="jsonstring",r.datastr=s,$(i).jqGrid(r).jqGrid("setGridParam",{datatype:n})):$(i).jqGrid(r)}};switch(e.imptype){case"xml":$.ajax($.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"xml",context:e,complete:function(e){!(e.status<300||304===e.status)||0===e.status&&4===e.readyState||(n(e.responseXML,this),$(i).triggerHandler("jqGridImportComplete",[e,this]),$.isFunction(this.importComplete)&&this.importComplete(e))}},e.ajaxOptions));break;case"xmlstring":e.impstring&&"string"==typeof e.impstring&&(t=$.parseXML(e.impstring))&&(n(t,e),$(i).triggerHandler("jqGridImportComplete",[t,e]),$.isFunction(e.importComplete)&&e.importComplete(t),e.impstring=null);break;case"json":$.ajax($.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"json",context:e,complete:function(e){try{!(e.status<300||304===e.status)||0===e.status&&4===e.readyState||(o(e.responseText,this),$(i).triggerHandler("jqGridImportComplete",[e,this]),$.isFunction(this.importComplete)&&this.importComplete(e))}catch(e){}}},e.ajaxOptions));break;case"jsonstring":e.impstring&&"string"==typeof e.impstring&&(o(e.impstring,e),$(i).triggerHandler("jqGridImportComplete",[e.impstring,e]),$.isFunction(e.importComplete)&&e.importComplete(e.impstring),e.impstring=null)}}))},jqGridExport:function(e){e=$.extend({exptype:"xmlstring",root:"grid",ident:"\t"},e||{});var t=null;return this.each((function(){if(this.grid){var i,n=$.extend(!0,{},$(this).jqGrid("getGridParam"));if(n.rownumbers&&(n.colNames.splice(0,1),n.colModel.splice(0,1)),n.multiselect&&(n.colNames.splice(0,1),n.colModel.splice(0,1)),n.subGrid&&(n.colNames.splice(0,1),n.colModel.splice(0,1)),n.knv=null,n.treeGrid)for(i in n.treeReader)n.treeReader.hasOwnProperty(i)&&(n.colNames.splice(n.colNames.length-1),n.colModel.splice(n.colModel.length-1));switch(e.exptype){case"xmlstring":t="<"+e.root+">"+xmlJsonClass.json2xml(n,e.ident)+"</"+e.root+">";break;case"jsonstring":t="{"+xmlJsonClass.toJson(n,e.root,e.ident,!1)+"}",void 0!==n.postData.filters&&(t=(t=t.replace(/filters":"/,'filters":')).replace(/\}\]\}"/,"}]}"))}}})),t},excelExport:function(e){return e=$.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},e||{}),this.each((function(){var t;this.grid&&"remote"===e.exptype&&((t=$.extend({},this.p.postData,e.exportOptions))[e.oper]=e.tag,window.location=e.url+(null!=e.url&&0<=e.url.indexOf("?")?"&":"?")+$.param(t))}))}});var editFeedback=function(e){var t=$.makeArray(arguments).slice(1);return t.unshift(""),t.unshift("Inline"),t.unshift(e),jgrid.feedback.apply(this,t)};jgrid.inlineEdit=jgrid.inlineEdit||{},jgrid.extend({editRow:function(e,t,i,n,o,r,s,a,l,c){var d={},u=$.makeArray(arguments).slice(1);return"object"===$.type(u[0])?d=u[0]:(void 0!==t&&(d.keys=t),$.isFunction(i)&&(d.oneditfunc=i),$.isFunction(n)&&(d.successfunc=n),void 0!==o&&(d.url=o),null!=r&&(d.extraparam=r),$.isFunction(s)&&(d.aftersavefunc=s),$.isFunction(a)&&(d.errorfunc=a),$.isFunction(l)&&(d.afterrestorefunc=l),$.isFunction(c)&&(d.beforeEditRow=c)),this.each((function(){var t=this,i=$(t),n=t.p,o=0,r=null,s={},a={},l=n.colModel,c=n.prmNames;if(t.grid){var u=$.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,beforeEditRow:null,focusField:!0},jgrid.inlineEdit,n.inlineEditing||{},d),h=i.jqGrid("getInd",e,!0),p=u.focusField,f="object"==typeof p&&null!=p?$(p.target||p).closest("tr.jqgrow>td")[0]:null;if(!1!==h&&(u.extraparam[c.oper]===c.addoper||editFeedback.call(t,u,"beforeEditRow",u,e))&&"0"===($(h).attr("editable")||"0")&&!$(h).hasClass("not-editable-row")){var m=jgrid.detectRowEditing.call(t,e);if(null!=m&&"cellEditing"===m.mode){var g=m.savedRow,v=t.rows[g.id],b=getGuiStateStyles.call(t,"select");i.jqGrid("restoreCell",g.id,g.ic),$(v.cells[g.ic]).removeClass("edit-cell "+b),$(v).addClass(b).attr({"aria-selected":"true",tabindex:"0"})}if(jgrid.enumEditableCells.call(t,h,$(h).hasClass("jqgrid-new-row")?"add":"edit",(function(i){var l,c,d,u=i.cm,h=$(i.dataElement),p=i.dataWidth,f=u.name,m=u.edittype,g=i.iCol,v=u.editoptions||{};if(a[f]=i.editable,"hidden"!==i.editable){try{l=$.unformat.call(this,i.td,{rowId:e,colModel:u},g)}catch(i){l="textarea"===m?h.text():h.html()}s[f]=l,h.html(""),c=$.extend({},v,{id:e+"_"+f,name:f,rowId:e,mode:i.mode,cm:u,iCol:g}),("&nbsp;"===l||"&#160;"===l||1===l.length&&160===l.charCodeAt(0))&&(l=""),d=jgrid.createEl.call(t,m,c,l,!0,$.extend({},jgrid.ajaxOptions,n.ajaxSelectOptions||{})),$(d).addClass("editable"),h.append(d),p&&$(d).width(i.dataWidth),jgrid.bindEv.call(t,d,c),"select"===m&&!0===v.multiple&&void 0===v.dataUrl&&jgrid.msie&&$(d).width($(d).width()),null===r&&(r=g),o++}})),0<o){if(s.id=e,n.savedRow.push(s),n.editingInfo[e]={mode:"inlineEditing",savedRow:s,editable:a},$(h).attr("editable","1"),p&&("number"==typeof p&&parseInt(p,10)<=l.length?r=p:"string"==typeof p?r=n.iColByName[p]:null!=f&&(r=f.cellIndex),setTimeout((function(){var e=i.jqGrid("getNumberOfFrozenColumns"),o=function(i){return n.frozenColumns&&0<e&&r<e?t.grid.fbRows[h.rowIndex].cells[i]:h.cells[i]},s=function(e){return $(e).find("input,textarea,select,button,object,*[tabindex]").filter(":input:visible:not(:disabled)")},a=function(){return s(n.frozenColumns&&0<e?t.grid.fbRows[h.rowIndex]:h).first()},l=s(o(r));0<l.length?l.first().focus():"number"==typeof u.defaultFocusField||"string"==typeof u.defaultFocusField?(0===(l=s(o("number"==typeof u.defaultFocusField?u.defaultFocusField:n.iColByName[u.defaultFocusField]))).length&&(l=a()),l.first().focus()):a().focus()}),0)),!0===u.keys){var y=$(h);n.frozenColumns&&(y=y.add(t.grid.fbRows[h.rowIndex])),y.on("keydown",(function(t){return 27===t.keyCode?(i.jqGrid("restoreRow",e,u.afterrestorefunc),!1):13===t.keyCode?"TEXTAREA"===t.target.tagName||(i.jqGrid("saveRow",e,u),!1):void 0}))}fullBoolFeedback.call(t,u.oneditfunc,"jqGridInlineEditRow",e,u)}}}}))},saveRow:function(e,t,i,n,o,r,s,a){var l,c=$.makeArray(arguments).slice(1),d={},u=this[0],h=$(u),p=null!=u?u.p:null,f=jgrid.info_dialog,m=$.isFunction,g=null!=jgrid.defaults&&m(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert;if(u.grid&&null!=p){"object"===$.type(c[0])?d=c[0]:(m(t)&&(d.successfunc=t),void 0!==i&&(d.url=i),void 0!==n&&(d.extraparam=n),m(o)&&(d.aftersavefunc=o),m(r)&&(d.errorfunc=r),m(s)&&(d.afterrestorefunc=s),m(a)&&(d.beforeSaveRow=a));var v=function(e){return h.jqGrid("getGridRes",e)};d=$.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,beforeSaveRow:null,ajaxSaveOptions:{},serializeSaveData:null,mtype:"POST",saveui:"enable",savetext:v("defaults.savetext")||"Saving..."},jgrid.inlineEdit,p.inlineEditing||{},d);var b,y,w,x,C,k,S,_,D={},T={},j={},O=h.jqGrid("getInd",e,!0),I=$(O),E=p.prmNames,R=v("errors.errcap"),P=v("edit.bClose"),A=function(e,t){try{var i=jgrid.getRelativeRect.call(u,t);f.call(u,R,e,P,{top:i.top,left:i.left+$(u).closest(".ui-jqgrid").offset().left})}catch(t){g(e)}};if(!1!==O&&(l=d.extraparam[E.oper]===E.addoper?"add":"edit",editFeedback.call(u,d,"beforeSaveRow",d,e,l)&&(b=I.attr("editable"),d.url=d.url||p.editurl,S="clientArray"!==d.url,"1"===b))){if(k=$.jgrid.detectRowEditing.call(u,e),jgrid.enumEditableCells.call(u,O,I.hasClass("jqgrid-new-row")?"add":"edit",(function(e){var t=e.cm,i=t.formatter,n=t.editoptions||{},o=t.formatoptions||{},r={},s=jgrid.getEditedValue.call(u,$(e.dataElement),t,r,e.editable);if("select"===t.edittype&&"select"!==t.formatter&&(T[t.name]=r.text),null!=(C=jgrid.checkValues.call(u,s,e.iCol,void 0,void 0,$.extend(e,{oldValue:null!=k?k.savedRow[t.name]:null,newValue:s,oldRowData:null!=k?k.savedRow:null})))&&!1===C[0])return _=!0,A(C[1],e.td),!1;"date"===i&&!0!==o.sendFormatted&&(s=$.unformat.date.call(u,s,t)),S&&!0===n.NullIfEmpty&&""===s&&(s="null"),D[t.name]=s})),_)return;var N;E=p.prmNames,N=!1===p.keyName?E.id:p.keyName,D&&(D[E.oper]=E.editoper,void 0!==D[N]&&""!==D[N]||(D[N]=jgrid.stripPref(p.idPrefix,e)),D=$.extend({},D,p.inlineData||{},d.extraparam));var F={options:d,rowid:e,tr:O,iRow:O.rowIndex,savedRow:k.savedRow,newData:D,mode:l};if(!editFeedback.call(u,d,"saveRowValidation",F))return void(F.errorText&&A(F.errorText,O));if(S)h.jqGrid("progressBar",{method:"show",loadtype:d.saveui,htmlcontent:d.savetext}),(j=$.extend({},D,j))[N]=jgrid.stripPref(p.idPrefix,j[N]),p.autoEncodeOnEdit&&$.each(j,(function(e,t){m(t)||(j[e]=jgrid.oldEncodePostedData(t))})),O.id===p.idPrefix+j[N]||null==E.idold||j.hasOwnProperty(E.idold)||(j[E.idold]=jgrid.stripPref(p.idPrefix,O.id)),$.ajax($.extend({url:m(d.url)?d.url.call(u,j[N],l,j,d):d.url,data:jgrid.serializeFeedback.call(u,m(d.serializeSaveData)?d.serializeSaveData:p.serializeRowData,"jqGridInlineSerializeSaveData",j),type:m(d.mtype)?d.mtype.call(u,l,d,j[N],j):d.mtype,complete:function(t,i){var n,o,r;if(h.jqGrid("progressBar",{method:"hide",loadtype:d.saveui}),(t.status<300||304===t.status)&&(0!==t.status||4!==t.readyState))if(null!=(o=h.triggerHandler("jqGridInlineSuccessSaveRow",[t,e,d,l,j]))&&!0!==o||(o=[!0,D]),o[0]&&m(d.successfunc)&&(o=d.successfunc.call(u,t,e,d,l,j)),$.isArray(o)?(n=o[0],D=o[1]||D):n=o,!0===n){for(p.autoEncodeOnEdit&&$.each(D,(function(e,t){D[e]=jgrid.oldDecodePostedData(t)})),D=$.extend({},D,T),h.jqGrid("setRowData",e,D),I.attr("editable","0"),r=0;r<p.savedRow.length;r++)if(String(p.savedRow[r].id)===String(e)){w=r;break}0<=w&&(p.savedRow.splice(w,1),delete p.editingInfo[e]),fullBoolFeedback.call(u,d.aftersavefunc,"jqGridInlineAfterSaveRow",e,t,D,d),null!=o[2]?h.jqGrid("changeRowid",e,p.idPrefix+o[2]):O.id!==p.idPrefix+D[N]&&h.jqGrid("changeRowid",O.id,p.idPrefix+D[N]),I.removeClass("jqgrid-new-row").off("keydown")}else fullBoolFeedback.call(u,d.errorfunc,"jqGridInlineErrorSaveRow",e,t,i,null,d),!0===d.restoreAfterError&&h.jqGrid("restoreRow",e,d.afterrestorefunc)},error:function(t,i,n){if(h.triggerHandler("jqGridInlineErrorSaveRow",[e,t,i,n,d]),m(d.errorfunc))d.errorfunc.call(u,e,t,i,n);else{var o=t.responseText||t.statusText;try{f.call(u,R,'<div class="'+getGuiStateStyles.call(u,"error")+'">'+o+"</div>",P,{buttonalign:"right"})}catch(t){g(o)}}!0===d.restoreAfterError&&h.jqGrid("restoreRow",e,d.afterrestorefunc)}},jgrid.ajaxOptions,p.ajaxRowOptions,d.ajaxSaveOptions||{}));else{for(D=$.extend({},D,T),x=h.jqGrid("setRowData",e,D),I.attr("editable","0"),y=0;y<p.savedRow.length;y++)if(String(p.savedRow[y].id)===String(e)){w=y;break}0<=w&&(p.savedRow.splice(w,1),delete p.editingInfo[e]),fullBoolFeedback.call(u,d.aftersavefunc,"jqGridInlineAfterSaveRow",e,x,D,d),I.removeClass("jqgrid-new-row").off("keydown"),O.id!==p.idPrefix+D[N]&&h.jqGrid("changeRowid",O.id,p.idPrefix+D[N])}}}},restoreRow:function(e,t){var i=$.makeArray(arguments).slice(1),n={};return"object"===$.type(i[0])?n=i[0]:$.isFunction(t)&&(n.afterrestorefunc=t),this.each((function(){var t,i=this,o=$(i),r=i.p,s=-1,a={};if(i.grid){var l=$.extend(!0,{},jgrid.inlineEdit,r.inlineEditing||{},n),c=o.jqGrid("getInd",e,!0);if(!1!==c&&editFeedback.call(i,l,"beforeCancelRow",l,e)){for(t=0;t<r.savedRow.length;t++)if(String(r.savedRow[t].id)===String(e)){s=t;break}if(0<=s){if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker","#"+jgrid.jqID(c.id)).datepicker("hide")}catch(t){}$.each(r.colModel,(function(){var e=this.name;r.savedRow[s].hasOwnProperty(e)&&(a[e]=r.savedRow[s][e],!this.formatter||"date"!==this.formatter||null!=this.formatoptions&&!0===this.formatoptions.sendFormatted||(a[e]=$.unformat.date.call(i,a[e],this)))})),o.jqGrid("setRowData",e,a),$(c).attr("editable","0").off("keydown"),r.savedRow.splice(s,1),delete r.editingInfo[e],$("#"+jgrid.jqID(e),i).hasClass("jqgrid-new-row")&&setTimeout((function(){o.jqGrid("delRowData",e),o.jqGrid("showAddEditButtons",!1)}),0)}fullBoolFeedback.call(i,l.afterrestorefunc,"jqGridInlineAfterRestoreRow",e)}}}))},addRow:function(e){return this.each((function(){if(this.grid){var t=this,i=$(t),n=t.p,o=$.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,beforeAddRow:null,addRowParams:{extraparam:{}}},jgrid.inlineEdit,n.inlineEditing||{},e||{});if(editFeedback.call(t,o,"beforeAddRow",o.addRowParams))if(o.rowID=$.isFunction(o.rowID)?o.rowID.call(t,o):null!=o.rowID?o.rowID:jgrid.randId(),!0===o.useDefValues&&$(n.colModel).each((function(){if(this.editoptions&&this.editoptions.defaultValue){var e=this.editoptions.defaultValue;o.initdata[this.name]=$.isFunction(e)?e.call(t,o):e}})),o.rowID=n.idPrefix+o.rowID,i.jqGrid("addRowData",o.rowID,o.initdata,o.position),$("#"+jgrid.jqID(o.rowID),t).addClass("jqgrid-new-row"),o.useFormatter)$("#"+jgrid.jqID(o.rowID)+" .ui-inline-edit",t).click();else{var r=n.prmNames,s=r.oper;o.addRowParams.extraparam[s]=r.addoper,i.jqGrid("editRow",o.rowID,o.addRowParams),i.jqGrid("setSelection",o.rowID)}}}))},inlineNav:function(e,t){return"object"==typeof e&&(t=e,e=void 0),this.each((function(){var i=this,n=$(i),o=i.p;if(this.grid&&null!=o){var r,s=e===o.toppager?o.idSel+"_top":o.idSel,a=e===o.toppager?o.id+"_top":o.id,l=getGuiStateStyles.call(i,"disabled"),c=$.extend(!0,{edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",save:!0,saveicon:"ui-icon-disk",cancel:!0,cancelicon:"ui-icon-cancel",commonIconClass:"ui-icon",iconsOverText:!1,addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0},n.jqGrid("getGridRes","nav"),jgrid.nav||{},o.navOptions||{},jgrid.inlineNav||{},o.inlineNavOptions||{},t||{}),d=function(){i.modalAlert()};if(void 0===e)if(o.pager){if(n.jqGrid("inlineNav",o.pager,c),!o.toppager)return;e=o.toppager,s=o.idSel+"_top",a=o.id+"_top"}else o.toppager&&(e=o.toppager,s=o.idSel+"_top",a=o.id+"_top");if(void 0!==e&&!((r=$(e)).length<=0)){if(r.find(".navtable").length<=0&&n.jqGrid("navGrid",e,{add:!1,edit:!1,del:!1,search:!1,refresh:!1,view:!1}),(o._inlinenav=!0)===c.addParams.useFormatter){var u,h,p,f=o.colModel;for(u=0;u<f.length;u++)if(f[u].formatter&&"actions"===f[u].formatter){f[u].formatoptions&&(h={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},p=$.extend(h,f[u].formatoptions),c.addParams.addRowParams={keys:p.keys,oneditfunc:p.onEdit,successfunc:p.onSuccess,url:p.url,extraparam:p.extraparam,aftersavefunc:p.afterSave,errorfunc:p.onError,afterrestorefunc:p.afterRestore});break}}c.add&&n.jqGrid("navButtonAdd",e,{caption:c.addtext,title:c.addtitle,commonIconClass:c.commonIconClass,buttonicon:c.addicon,iconsOverText:c.iconsOverText,id:a+"_iladd",onClickButton:function(){hasOneFromClasses(this,l)||n.jqGrid("addRow",c.addParams)}}),c.edit&&n.jqGrid("navButtonAdd",e,{caption:c.edittext,title:c.edittitle,commonIconClass:c.commonIconClass,buttonicon:c.editicon,iconsOverText:c.iconsOverText,id:a+"_iledit",onClickButton:function(){if(!hasOneFromClasses(this,l)){var e=o.selrow;e?n.jqGrid("editRow",e,c.editParams):d()}}}),c.save&&(n.jqGrid("navButtonAdd",e,{caption:c.savetext,title:c.savetitle,commonIconClass:c.commonIconClass,buttonicon:c.saveicon,iconsOverText:c.iconsOverText,id:a+"_ilsave",onClickButton:function(){if(!hasOneFromClasses(this,l)&&0<o.savedRow.length){var e=o.savedRow[0].id;if(e){var t=o.prmNames,r=t.oper,s=c.editParams;$("#"+jgrid.jqID(e),i).hasClass("jqgrid-new-row")?(c.addParams.addRowParams.extraparam[r]=t.addoper,s=c.addParams.addRowParams):(c.editParams.extraparam||(c.editParams.extraparam={}),c.editParams.extraparam[r]=t.editoper),n.jqGrid("saveRow",e,s)}else d()}}}),$(s+"_ilsave").addClass(l)),c.cancel&&(n.jqGrid("navButtonAdd",e,{caption:c.canceltext,title:c.canceltitle,commonIconClass:c.commonIconClass,buttonicon:c.cancelicon,iconsOverText:c.iconsOverText,id:a+"_ilcancel",onClickButton:function(){if(!hasOneFromClasses(this,l)&&0<o.savedRow.length){var e=o.savedRow[0].id,t=c.editParams;e?($("#"+jgrid.jqID(e),i).hasClass("jqgrid-new-row")&&(t=c.addParams.addRowParams),n.jqGrid("restoreRow",e,t)):d()}}}),$(s+"_ilcancel").addClass(l)),!0===c.restoreAfterSelect&&n.on("jqGridSelectRow",(function(e,t){if(0<o.savedRow.length&&!0===o._inlinenav){var i=o.savedRow[0].id;t!==i&&"number"!=typeof i&&n.jqGrid("restoreRow",i,c.editParams)}})),n.on("jqGridInlineAfterRestoreRow jqGridInlineAfterSaveRow",(function(){n.jqGrid("showAddEditButtons",!1)})),n.on("jqGridInlineEditRow",(function(e,t){n.jqGrid("showAddEditButtons",!0,t)}))}}}))},showAddEditButtons:function(e){return this.each((function(){if(this.grid){var t=this.p,i=t.idSel,n=getGuiStateStyles.call(this,"disabled"),o=i+"_ilsave,"+i+"_ilcancel"+(t.toppager?","+i+"_top_ilsave,"+i+"_top_ilcancel":""),r=i+"_iladd,"+i+"_iledit"+(t.toppager?","+i+"_top_iladd,"+i+"_top_iledit":"");$(e?r:o).addClass(n),$(e?o:r).removeClass(n)}}))}});var $UiMultiselect=null!=$.ui?$.ui.multiselect:null,reorderSelectedColumns=function(e){if(null!=this.grid&&null!=this.grid.p){var t,i,n,o,r,s=this,a=this.grid.p,l=this.gh,c=this.selectedList,d=this.inGroup,u=c.find("li"),h=u.length-1,p=function(e,t,i){var n,o,r=c.find("li");for(void 0===t&&(t=i?r.length-1:0),n=t;i?0<=n:n<r.length;i?n--:n++)if((o=$(r[n]).data("optionLink"))&&e.call(r[n],parseInt(o.val(),10),n))return n},f=function(){0<=(i=$.inArray(a.colModel[e].name,s.newColOrder))&&s.newColOrder.splice(i,1),u=c.find("li"),t=0,p((function(i,n){if(i===e){for(h=n;0<=t&&t<a.colModel.length&&t!==e&&(a.colModel[t].hidden||a.colModel[t].hidedlg)&&(null==d||d[t]===d[e]);)t++;return s.newColOrder.splice(t,0,a.colModel[e].name),!0}(t=$.inArray(a.colModel[i].name,s.newColOrder,t))<0&&(t=$.inArray(a.colModel[i].name,s.newColOrder)),t++}))},m=function(t){if(d[t]===d[e])return $(this).after(u[h]),f(),!0},g=function(t){if(d[t]===d[e])return $(this).before(u[h]),f(),!0},v=function(t){if(d[t]===d[e]&&void 0!==d[t])return l[d[t]].startColumnName=a.colModel[t].name,!0};if(f(),l&&void 0!==l[d[e]]){for(o=l[d[e]],i=0;i<o.numberOfColumns;i++)if(t=a.iColByName[o.startColumnName]+i,!a.colModel[t].hidden&&!a.colModel[t].hidedlg){p(m,h-1,!0),p(g,h+1),p(v);break}}else if(l){if(u=c.find("li"),(i=p((function(t){if(t===e)return!0})))+1>=u.length||i<0)return;if((r=$(u[i+1]).data("optionLink"))&&void 0!==(n=d[parseInt(r.val(),10)])&&(r=$(u[i-1]).data("optionLink"))&&d[parseInt(r.val(),10)]===n){var b=p((function(e){if(d[e]!==n)return!0}),i+1);$(u[void 0===b||b>=u.length?u.length-1:b-1]).after(u[h]),f()}}}};if(jgrid.msie&&8===jgrid.msiever()&&($.expr[":"].hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||"none"===e.style.display}),jgrid._multiselect=!1,$UiMultiselect){if($UiMultiselect.prototype._setSelected){var setSelected=$UiMultiselect.prototype._setSelected;$UiMultiselect.prototype._setSelected=function(e,t){var i=setSelected.call(this,e,t),n=this.element,o=parseInt(e.data("optionLink").val(),10);return t&&this.selectedList&&(reorderSelectedColumns.call(this,o),this.selectedList.find("li").each((function(){$(this).data("optionLink")&&$(this).data("optionLink").remove().appendTo(n)}))),i}}$UiMultiselect.prototype.destroy&&($UiMultiselect.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===$.Widget?$.widget.prototype.destroy.apply(this,arguments):$.Widget.prototype.destroy.apply(this,arguments)}),jgrid._multiselect=!0}function Aggregation(e,t,i){if(!(this instanceof Aggregation))return new Aggregation(e);this.aggregator=e,this.finilized=!1,this.context=t,this.pivotOptions=i}function ArrayOfFieldsets(e,t,i,n,o){var r,s,a=n.length,l=this,c=function(e,t){var i=e,n=t;if(null==i&&(i=""),null==n&&(n=""),i=String(i),n=String(n),this.caseSensitive||(i=i.toUpperCase(),n=n.toUpperCase()),i===n){if(e===t)return 0;if(void 0===e)return-1;if(void 0===t)return 1;if(null===e)return-1;if(null===t)return 1}return i<n?-1:1},d=function(e,t){return(e=Number(e))===(t=Number(t))?0:e<t?-1:1},u=function(e,t){return(e=Math.floor(Number(e)))===(t=Math.floor(Number(t)))?0:e<t?-1:1};for(l.items=[],l.indexesOfSourceData=[],l.trimByCollect=e,l.caseSensitive=t,l.skipSort=i,l.fieldLength=a,l.fieldNames=new Array(a),l.fieldSortDirection=new Array(a),l.fieldCompare=new Array(a),r=0;r<a;r++){switch(s=n[r],l.fieldNames[r]=s[o||"dataName"],s.sorttype){case"integer":case"int":l.fieldCompare[r]=u;break;case"number":case"currency":case"float":l.fieldCompare[r]=d;break;default:l.fieldCompare[r]=$.isFunction(s.compare)?s.compare:c}l.fieldSortDirection[r]="desc"===s.sortorder?-1:1}}jgrid.extend({sortableColumns:function(e){return this.each((function(){var t=this,i=t.p,n=jqID(i.id);if(i&&i.sortable&&$.isFunction($.fn.sortable)){var o={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+n+"_cb,#jqgh_"+n+"_rn,#jqgh_"+n+"_subgrid),:hidden)",placeholder:{element:function(e){return $(document.createElement(e[0].nodeName)).addClass(e[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(e,t){t.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),t.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},start:function(){t.grid.hDiv.scrollLeft=t.grid.bDiv.scrollLeft},update:function(e,n){var o=$(">th",$(n.item).parent()),r=i.id+"_",s=[];o.each((function(){var e=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(r,""),t=i.iColByName[e];void 0!==t&&s.push(t)})),$(t).jqGrid("remapColumns",s,!0,!0),$.isFunction(i.sortable.update)&&i.sortable.update(s),setTimeout((function(){i.disableClick=!1}),50)}};if(i.sortable.options?$.extend(o,i.sortable.options):$.isFunction(i.sortable)&&(i.sortable={update:i.sortable}),o.start){var r=o.start;o.start=function(e,t){l(),r.call(this,e,t)}}else o.start=l;i.sortable.exclude&&(o.items+=":not("+i.sortable.exclude+")");var s=e.sortable(o),a=s.data("sortable")||s.data("uiSortable")||s.data("ui-sortable");null!=a&&(a.floating=!0)}function l(){i.disableClick=!0}}))},columnChooser:function(e){var t,i,n,o,r,s,a,l=this,c=l[0],d=c.p,u=d.colModel,h=u.length,p=d.colNames,f=function(e){return $UiMultiselect&&$UiMultiselect.prototype&&e.data($UiMultiselect.prototype.widgetFullName||$UiMultiselect.prototype.widgetName)||e.data("ui-multiselect")||e.data("multiselect")};if(!$("#colchooser_"+jqID(d.id)).length){if(t=$('<div id="colchooser_'+d.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),i=$("select",t),e=$.extend({width:400,height:240,classname:null,done:function(e){e&&l.jqGrid("remapColumns",e,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470,dialogClass:"ui-jqdialog"},dlog_opts:function(e){var t={};return t[e.bSubmit]=function(){e.apply_perm(),e.cleanup(!1)},t[e.bCancel]=function(){e.cleanup(!0)},$.extend(!0,{buttons:t,close:function(){e.cleanup(!0)},modal:e.modal||!1,resizable:e.resizable||!0,width:e.width+70,resize:function(){var e=f(i),t=e.container.closest(".ui-dialog-content");0<t.length&&"object"==typeof t[0].style?t[0].style.width="":t.css("width",""),e.selectedList.height(Math.max(e.selectedContainer.height()-e.selectedActions.outerHeight()-1,1)),e.availableList.height(Math.max(e.availableContainer.height()-e.availableActions.outerHeight()-1,1))}},e.dialog_opts||{})},apply_perm:function(){var t,n,o=new Array(d.colModel.length),r={notSkipFrozen:void 0!==e.notSkipFrozen&&e.notSkipFrozen,skipSetGridWidth:!0,skipSetGroupHeaders:!0};for(t=0;t<d.colModel.length;t++)o[t]=d.iColByName[s.newColOrder[t]];if($("option",i).each((function(){$(this).is(":selected")?l.jqGrid("showCol",u[this.value].name,r):l.jqGrid("hideCol",u[this.value].name,r)})),e.done&&e.done.call(l,o),d.groupHeader&&("object"==typeof d.groupHeader||$.isFunction(d.groupHeader)))if(l.jqGrid("destroyGroupHeader",!1),d.groupHeader.groupHeaders=s.gh,null!=d.pivotOptions&&null!=d.pivotOptions.colHeaders&&1<d.pivotOptions.colHeaders.length)for(n=d.pivotOptions.colHeaders,t=0;t<n.length;t++)n[t]&&n[t].groupHeaders.length&&l.jqGrid("setGroupHeaders",n[t]);else l.jqGrid("setGroupHeaders",d.groupHeader);var a=d.autowidth||void 0!==d.widthOrg&&"auto"!==d.widthOrg&&"100%"!==d.widthOrg?d.width:d.tblwidth;a!==d.width&&l.jqGrid("setGridWidth",a,d.shrinkToFit)},cleanup:function(n){k(e.dlog,t,"destroy"),k(e.msel,i,"destroy"),t.remove(),n&&e.done&&e.done.call(l)},msel_opts:{}},l.jqGrid("getGridRes","col"),jgrid.col,e||{}),$.ui&&$UiMultiselect&&$UiMultiselect.defaults){if(!jgrid._multiselect)return void(null!=jgrid.defaults&&$.isFunction(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert)("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");e.msel_opts=$.extend($UiMultiselect.defaults,e.msel_opts)}e.caption&&t.attr("title",e.caption),e.classname&&(t.addClass(e.classname),i.addClass(e.classname)),e.width&&($(">div",t).css({width:e.width,margin:"0 auto"}),i.css("width",e.width)),e.height&&($(">div",t).css("height",e.height),i.css("height",e.height-10)),i.empty();var m,g,v,b,y=null!=d.groupHeader?d.groupHeader.groupHeaders:0,w={};if(y)for(m=0;m<y.length;m++)for(b=y[m],g=0;g<b.numberOfColumns;g++)v=d.iColByName[b.startColumnName]+g,w[v]=$.isFunction(e.buildItemText)?e.buildItemText.call(l[0],{iCol:v,cm:u[v],cmName:u[v].name,colName:p[v],groupTitleText:b.titleText}):$.jgrid.stripHtml(b.titleText)+": "+$.jgrid.stripHtml(""===p[v]?u[v].name:p[v]);for(v=0;v<h;v++)void 0===w[v]&&(w[v]=$.isFunction(e.buildItemText)?e.buildItemText.call(l[0],{iCol:v,cm:u[v],cmName:u[v].name,colName:p[v],groupTitleText:null}):$.jgrid.stripHtml(p[v]));if($.each(u,(function(e){this.hidedlg||i.append("<option value='"+e+"'"+(d.headertitles||this.headerTitle?" title='"+jgrid.stripHtml("string"==typeof this.headerTitle?this.headerTitle:w[e])+"'":"")+(this.hidden?"":" selected='selected'")+">"+w[e]+"</option>")})),n=$.isFunction(e.dlog_opts)?e.dlog_opts.call(l,e):e.dlog_opts,k(e.dlog,t,n),o=$.isFunction(e.msel_opts)?e.msel_opts.call(l,e):e.msel_opts,k(e.msel,i,o),(r=$("#colchooser_"+jqID(d.id))).css({margin:"auto"}),r.find(">div").css({width:"100%",height:"100%",margin:"auto"}),s=f(i)){var x,C;if(s.grid=c,y)for(s.gh=$.extend(!0,[],y),s.inGroup=new Array(d.colModel.length),x=0;x<y.length;x++)for(C=y[x],v=0;v<C.numberOfColumns;v++)s.inGroup[d.iColByName[C.startColumnName]+v]=x;s.newColOrder=$.map(u,(function(e){return e.name})),s.container.css({width:"100%",height:"100%",margin:"auto"}),s.selectedContainer.css({width:100*s.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),s.availableContainer.css({width:100-100*s.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),s.selectedList.css("height","auto"),s.availableList.css("height","auto"),a=Math.max(s.selectedList.height(),s.availableList.height()),a=Math.min(a,$(window).height()),s.selectedList.css("height",a),s.availableList.css("height",a),null!=s.options&&s.options.sortable&&s.selectedList.on("sortupdate",(function(t,i){reorderSelectedColumns.call(s,parseInt(i.item.data("optionLink").val(),10)),i.item.css({width:"",height:""}),$.isFunction(e.sortUpdate)&&e.sortUpdate.call(c,t,i)})),$.isFunction(e.init)&&e.init.call(c,s)}}function k(e,t){e&&("string"==typeof e?$.fn[e]&&$.fn[e].apply(t,$.makeArray(arguments).slice(2)):$.isFunction(e)&&e.apply(t,$.makeArray(arguments).slice(2)))}},sortableRows:function(e){return this.each((function(){var t=this,i=t.grid,n=t.p;i&&(n.treeGrid||$.fn.sortable&&((e=$.extend({cursor:"move",axis:"y",items:">tbody>.jqgrow"},e||{})).start&&$.isFunction(e.start)?(e._start_=e.start,delete e.start):e._start_=!1,e.update&&$.isFunction(e.update)?(e._update_=e.update,delete e.update):e._update_=!1,e.start=function(o,r){if($(r.item).css("border-width","0"),$("td",r.item).each((function(e){this.style.width=i.cols[e].style.width})),n.subGrid){var s=$(r.item).attr("id");try{$(t).jqGrid("collapseSubGridRow",s)}catch(o){}}e._start_&&e._start_.apply(this,[o,r])},e.update=function(i,o){$(o.item).css("border-width",""),!0===n.rownumbers&&$("td.jqgrid-rownum",t.rows).each((function(e){$(this).html(e+1+(parseInt(n.page,10)-1)*parseInt(n.rowNum,10))})),e._update_&&e._update_.apply(this,[i,o])},$(t).sortable(e)))}))},gridDnD:function(e){return this.each((function(){var t,i,n=this;if(n.grid&&!n.p.treeGrid&&$.fn.draggable&&$.fn.droppable)if(void 0===$("#jqgrid_dnd")[0]&&$("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>"),"string"!=typeof e||"updateDnD"!==e||!0!==n.p.jqgdnd){if((e=$.extend({drag:function(e){return $.extend({start:function(t,i){var o,r;if(n.p.subGrid){r=$(i.helper).attr("id");try{$(n).jqGrid("collapseSubGridRow",r)}catch(t){}}for(o=0;o<$.data(n,"dnd").connectWith.length;o++)0===$($.data(n,"dnd").connectWith[o]).jqGrid("getGridParam","reccount")&&$($.data(n,"dnd").connectWith[o]).jqGrid("addRowData","jqg_empty_row",{});i.helper.addClass("ui-state-highlight"),$("td",i.helper).each((function(e){this.style.width=n.grid.headers[e].width+"px"})),e.onstart&&$.isFunction(e.onstart)&&e.onstart.call($(n),t,i)},stop:function(t,i){var o,r;for(i.helper.dropped&&!e.dragcopy&&(void 0===(r=$(i.helper).attr("id"))&&(r=$(this).attr("id")),$(n).jqGrid("delRowData",r)),o=0;o<$.data(n,"dnd").connectWith.length;o++)$($.data(n,"dnd").connectWith[o]).jqGrid("delRowData","jqg_empty_row");e.onstop&&$.isFunction(e.onstop)&&e.onstop.call($(n),t,i)}},e.drag_opts||{})},drop:function(e){return $.extend({accept:function(e){if(!$(e).hasClass("jqgrow"))return e;var t=$(e).closest("table.ui-jqgrid-btable");if(0<t.length&&void 0!==$.data(t[0],"dnd")){var i=$.data(t[0],"dnd").connectWith;return-1!==$.inArray("#"+jqID(this.id),i)}return!1},drop:function(t,i){if($(i.draggable).hasClass("jqgrow")){var o,r=$(i.draggable).attr("id"),s=i.draggable.parent().parent(),a=s.jqGrid("getRowData",r);if(!e.dropbyname){var l,c,d,u,h={},p=s.jqGrid("getGridParam","colModel"),f=$("#"+jqID(this.id)).jqGrid("getGridParam","colModel");try{for(c=l=0;l<p.length&&c<f.length;l++)if("cb"!==(d=p[l].name)&&"rn"!==d&&"subgrid"!==d){for(;c<f.length;c++)if("cb"!==(u=f[c].name)&&"rn"!==u&&"subgrid"!==u){h[u]=a[d];break}c++}a=h}catch(t){}}if(i.helper.dropped=!0,e.beforedrop&&$.isFunction(e.beforedrop)){var m=e.beforedrop.call(this,t,i,a,$("#"+jqID(n.p.id)),$(this));null!=m&&"object"==typeof m&&(a=m)}i.helper.dropped&&(e.autoid&&($.isFunction(e.autoid)?o=e.autoid.call(this,a,{rowid:r,ev:t,ui:i}):(o=Math.ceil(1e3*Math.random()),o=e.autoidprefix+o)),$("#"+jqID(this.id)).jqGrid("addRowData",o,a,e.droppos),a[n.p.localReader.id]=o),e.ondrop&&$.isFunction(e.ondrop)&&e.ondrop.call(this,t,i,a)}}},e.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},e||{})).connectWith)for(e.connectWith=e.connectWith.split(","),e.connectWith=$.map(e.connectWith,(function(e){return $.trim(e)})),$.data(n,"dnd",e),0===n.p.reccount||n.p.jqgdnd||o(),n.p.jqgdnd=!0,t=0;t<e.connectWith.length;t++)i=e.connectWith[t],$(i).droppable($.isFunction(e.drop)?e.drop.call($(n),e):e.drop)}else o();function o(){var e=$.data(n,"dnd");$("tr.jqgrow:not(.ui-draggable)",n).draggable($.isFunction(e.drag)?e.drag.call($(n),e):e.drag)}}))},gridResize:function(e){return this.each((function(){var t,i=this,n=i.grid,o=i.p,r=o.gView+">.ui-jqgrid-bdiv",s=!1,a=o.height;if(n&&$.fn.resizable){if((e=$.extend({},e||{})).alsoResize?(e._alsoResize_=e.alsoResize,delete e.alsoResize):e._alsoResize_=!1,e.stop&&$.isFunction(e.stop)?(e._stop_=e.stop,delete e.stop):e._stop_=!1,e.stop=function(l,c){$(i).jqGrid("setGridWidth",c.size.width,e.shrinkToFit),$(o.gView+">.ui-jqgrid-titlebar").css("width",""),s?($(t).each((function(){$(this).css("height","")})),"auto"!==a&&"100%"!==a||$(n.bDiv).css("height",a)):$(i).jqGrid("setGridParam",{height:$(r).height()}),i.fixScrollOffsetAndhBoxPadding&&i.fixScrollOffsetAndhBoxPadding(),e._stop_&&e._stop_.call(i,l,c)},t=r,"auto"!==a&&"100%"!==a||void 0!==e.handles||(e.handles="e,w"),e.handles){var l=$.map(String(e.handles).split(","),(function(e){return $.trim(e)}));2===l.length&&("e"===l[0]&&"w"===l[1]||"e"===l[1]&&"w"===l[1])&&(t=o.gView+">div:not(.frozen-div)",s=!0,o.pager&&(t+=","+o.pager))}e._alsoResize_?e.alsoResize=t+","+e._alsoResize_:e.alsoResize=t,delete e._alsoResize_,$(o.gBox).resizable(e)}}))}}),Aggregation.prototype.calc=function(e,t,i,n,o){var r=this;if(void 0!==e)switch(r.result=r.result||0,e=parseFloat(e),r.aggregator){case"sum":r.result+=e;break;case"count":r.result++;break;case"avg":r.finilized?(r.count=r.count||0,r.result=(r.result*r.count+e)/(r.count+1)):(r.result+=e,r.count=r.count||0),r.count++;break;case"min":r.result=Math.min(r.result,e);break;case"max":r.result=Math.max(r.result,e);break;default:$.isFunction(r.aggregator)&&(r.result=r.aggregator.call(r.context,{previousResult:r.result,value:e,fieldName:t,item:i,iItem:n,items:o}))}},Aggregation.prototype.getResult=function(e,t,i){var n=this;(void 0!==n.result||i)&&(i&&void 0!==n.result&&(n.result=0,n.count=0),void 0===n.result||n.finilized||"avg"!==n.aggregator||(n.result=n.result/n.count,n.finilized=!0),e[t]=n.result)},ArrayOfFieldsets.prototype.compareVectorsEx=function(e,t){var i,n,o=this.fieldLength;for(i=0;i<o;i++)if(0!==(n=this.fieldCompare[i](e[i],t[i])))return{index:i,result:n};return{index:-1,result:0}},ArrayOfFieldsets.prototype.getIndexOfDifferences=function(e,t){return null===t||null===e?0:this.compareVectorsEx(e,t).index},ArrayOfFieldsets.prototype.compareVectors=function(e,t){var i=this.compareVectorsEx(e,t);return 0<(0<=i.index?this.fieldSortDirection[i.index]:1)?i.result:-i.result},ArrayOfFieldsets.prototype.getItem=function(e){return this.items[e]},ArrayOfFieldsets.prototype.getIndexLength=function(){return this.items.length},ArrayOfFieldsets.prototype.getIndexesOfSourceData=function(e){return this.indexesOfSourceData[e]},ArrayOfFieldsets.prototype.createDataIndex=function(e){var t,i,n,o,r,s,a,l,c,d=e.length,u=this.fieldLength,h=this.fieldNames,p=this.indexesOfSourceData,f=this.items;for(t=0;t<d;t++){for(a=e[t],i=new Array(u),o=0;o<u;o++)void 0!==(n=a[h[o]])&&("string"==typeof n&&this.trimByCollect&&(n=$.trim(n)),i[o]=n);if(l=0,(c=f.length-1)<0)f.push(i),p.push([t]);else if(0!==(r=this.compareVectors(i,f[c])))if(1===r||this.skipSort)f.push(i),p.push([t]);else if(1!==(r=this.compareVectors(f[0],i)))if(0!==r)for(;;){if(c-l<2){f.splice(c,0,i),p.splice(c,0,[t]);break}if(s=Math.floor((l+c)/2),0===(r=this.compareVectors(f[s],i))){p[s].push(t);break}1===r?c=s:l=s}else p[0].push(t);else f.unshift(i),p.unshift([t]);else p[c].push(t)}},jgrid.extend({pivotSetup:function(e,t){var i,n,o,r,s,a,l,c,d,u,h,p,f,m,g,v,b,y,w,x,C,k,S,_,D,T,j,O,I,E=this[0],R=$.isArray,P={},A={groupField:[],groupSummary:[],groupSummaryPos:[]},N={grouping:!0,groupingView:A},F=$.extend({totals:!1,useColSpanStyle:!1,trimByCollect:!0,skipSortByX:!1,skipSortByY:!1,caseSensitive:!1,footerTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1,defaultFormatting:!0,data:e},t||{}),M=e.length,L=F.xDimension,z=F.yDimension,q=F.aggregates,B=F.totalText||F.totals||F.rowTotals||F.totalHeader,H=R(L)?L.length:0,G=R(z)?z.length:0,W=R(q)?q.length:0,U=G-(1===W?1:0),V=[],Y=[],X=[],J=[],K=["pivotInfos"],Q=new Array(W),Z=new Array(G),ee=function(t,i,n){var o=new ArrayOfFieldsets(F.trimByCollect,F.caseSensitive,i,t);return $.isFunction(n)&&(o.compareVectorsEx=n),o.createDataIndex(e),o},te=function(e,t,i,n,o){var r,s,a;switch(e){case 1:r=z[n].totalText||"{0} {1} {2}",s="y"+o+"t"+n;break;case 2:r=F.totalText||"{0}",s="t";break;default:r=1<W?t.label||"{0}":$.isFunction(z[n].label)?z[n].label:O.getItem(o)[n],s="y"+o}return delete(a=$.extend({},t,{name:s+(1<W?"a"+i:""),label:$.isFunction(r)?r.call(E,2===e?{aggregate:t,iAggregate:i,pivotOptions:F}:1===e?{yIndex:O.getItem(o),aggregate:t,iAggregate:i,yLevel:n,pivotOptions:F}:{yData:O.getItem(o)[n],yIndex:O.getItem(o),yLevel:n,pivotOptions:F}):jgrid.template.apply(E,2===e?[String(r),t.aggregator,t.member,i]:[String(r),t.aggregator,t.member,O.getItem(o)[n],n])})).member,delete a.aggregator,a},ie=function(e,t,i){var n,o;for(n=0;n<W;n++)void 0===(o=q[n]).template&&void 0===o.formatter&&F.defaultFormatting&&(o.template="count"===o.aggregator?"integer":"number"),X.push(te(e,o,n,t,i))},ne=function(e,t,i){var n,o,r,a;for(n=U-1;t<=n;n--)if(Y[n]){for(o=0;o<=n;o++)(D=V[o].groupHeaders)[D.length-1].numberOfColumns+=W;for(r=(s=z[n]).totalHeader,a=s.headerOnTop,o=n+1;o<=U-1;o++)V[o].groupHeaders.push({titleText:a&&o===n+1||!a&&o===U-1?$.isFunction(r)?r.call(E,i,n):jgrid.template.call(E,String(r||""),i[n],n):"",startColumnName:"y"+(e-1)+"t"+n+(1===W?"":"a0"),numberOfColumns:W})}},oe=function(e){var i=new Aggregation("count"===q[e].aggregator?"sum":q[e].aggregator,E,t);return i.groupInfo={iRows:[],rows:[],ys:[],iYs:[]},i},re=function(){var e,t;for(e=U-1;0<=e;e--)if(Y[e])for(null==Z[e]&&(Z[e]=new Array(W)),t=0;t<W;t++)Z[e][t]=oe(t)},se=function(e,t,i,n){var o,r,s,a=O.getIndexOfDifferences(t,i);if(null!==i)for(a=Math.max(a,0),o=U-1;a<=o;o--)r="y"+e+"t"+o+(1<W?"a"+n:""),Y[o]&&void 0===S[r]&&((s=Z[o][n]).getResult(S,r),S.pivotInfos[r]={colType:1,iA:n,a:q[n],level:o,iRows:s.groupInfo.iRows,rows:s.groupInfo.rows,ys:s.groupInfo.ys,iYs:s.groupInfo.iYs},t!==i&&(Z[o][n]=oe(n)))},ae=function(t,i,n,o,r,s,a){var l,c,d;if(t!==i)for(l=U-1;0<=l;l--)Y[l]&&((c=Z[l][o]).calc(r[n.member],n.member,r,s,e),d=c.groupInfo,$.inArray(a,d.iYs)<0&&(d.iYs.push(a),d.ys.push(t)),$.inArray(s,d.iRows)<0&&(d.iRows.push(s),d.rows.push(r)))};if(0===H||0===W)throw"xDimension or aggregates options are not set!";for(j=ee(L,F.skipSortByX,F.compareVectorsByX),O=ee(z,F.skipSortByY,F.compareVectorsByY),t.xIndex=j,t.yIndex=O,n=0;n<H;n++)a={name:"x"+n,label:null!=(r=L[n]).label?$.isFunction(r.label)?r.label.call(E,r,n,F):r.label:r.dataName,frozen:F.frozenStaticCols},n<H-1&&!r.skipGrouping&&!r.additionalProperty&&(A.groupField.push(a.name),A.groupSummary.push(F.groupSummary),A.groupSummaryPos.push(F.groupSummaryPos)),delete(a=$.extend(a,r)).dataName,delete a.footerText,r.additionalProperty?K.push(a.name):(X.push(a),N.sortname=a.name);for(H<2&&(N.grouping=!1),A.hideFirstGroupCol=!0,n=0;n<G;n++)s=z[n],Y.push(!!(s.totals||s.rowTotals||s.totalText||s.totalHeader));for(_=O.getItem(0),ie(0,G-1,0),I=O.getIndexLength(),y=1;y<I;y++){for(w=O.getItem(y),n=O.getIndexOfDifferences(w,_),o=U-1;n<=o;o--)Y[o]&&ie(1,o,y-1);_=w,ie(0,G-1,y)}for(n=U-1;0<=n;n--)Y[n]&&ie(1,n,I-1);for(B&&ie(2),_=O.getItem(0),o=0;o<U;o++)V.push({useColSpanStyle:F.useColSpanStyle,groupHeaders:[{titleText:$.isFunction(z[o].label)?z[o].label.call(E,{yData:_[o],yIndex:_,yLevel:o,pivotOptions:F}):_[o],startColumnName:1===W?"y0":"y0a0",numberOfColumns:W}]});for(y=1;y<I;y++){for(w=O.getItem(y),ne(y,n=O.getIndexOfDifferences(w,_),_),o=U-1;n<=o;o--)V[o].groupHeaders.push({titleText:$.isFunction(z[o].label)?z[o].label.call(E,{yData:w[o],yIndex:w,yLevel:o,pivotOptions:F}):w[o],startColumnName:"y"+y+(1===W?"":"a0"),numberOfColumns:W});for(o=0;o<n;o++)(D=V[o].groupHeaders)[D.length-1].numberOfColumns+=W;_=w}if(ne(I,0,_),B)for(n=0;n<U;n++)V[n].groupHeaders.push({titleText:n<U-1?"":F.totalHeader||"",startColumnName:"t"+(1===W?"":"a0"),numberOfColumns:W});for(v=j.getIndexLength(),d=0;d<v;d++){for(u=j.getItem(d),S={pivotInfos:h={iX:d,x:u}},n=0;n<H;n++)S["x"+n]=u[n];if(b=j.getIndexesOfSourceData(d),B)for(o=0;o<W;o++)Q[o]=oe(o);for(_=null,re(),y=0;y<I;y++){for(w=O.getItem(y),x=O.getIndexesOfSourceData(y),o=0;o<W;o++){for(null!==_&&se(y-1,w,_,o),C=[],n=0;n<x.length;n++)T=x[n],0<=$.inArray(T,b)&&C.push(T);if(0<C.length){for(p=new Array(C.length),f=new Aggregation((k=q[o]).aggregator,E,t),l=0;l<C.length;l++)n=C[l],i=e[n],p[l]=i,f.calc(i[k.member],k.member,i,n,e),B&&((m=Q[o]).calc(i[k.member],k.member,i,n,e),g=m.groupInfo,$.inArray(n,g.iYs)<0&&(g.iYs.push(y),g.ys.push(w)),$.inArray(n,g.iRows)<0&&(g.iRows.push(n),g.rows.push(i))),ae(w,_,k,o,i,n,y);c="y"+y+(1===W?"":"a"+o),f.getResult(S,c),h[c]={colType:0,iY:y,y:w,iA:o,a:k,iRows:C,rows:p}}}_=w}if(null!==_)for(o=0;o<W;o++)se(I-1,_,_,o);if(B)for(o=0;o<W;o++)c="t"+(1===W?"":"a"+o),(m=Q[o]).getResult(S,c),g=m.groupInfo,h[c]={colType:2,iA:o,a:q[o],iRows:g.iRows,rows:g.rows,iYs:g.iYs,ys:g.ys};J.push(S)}if(F.footerTotals||F.colTotals){for(M=J.length,n=0;n<H;n++)P["x"+n]=L[n].footerText||"";for(n=H;n<X.length;n++){for(c=X[n].name,f=new Aggregation(F.footerAggregator||"sum",E,t),l=0;l<M;l++)S=J[l],f.calc(S[c],c,S,l,J);f.getResult(P,c)}}return t.colHeaders=V,{colModel:X,additionalProperties:K,options:t,rows:J,groupOptions:N,groupHeaders:V,summary:P}},jqPivot:function(e,t,i,n){return this.each((function(){var o=this,r=$(o),s=$.fn.jqGrid;function a(){var n,a=s.pivotSetup.call(r,e,t),l=a.groupHeaders,c=0<function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i}(a.summary),d=a.groupOptions.groupingView,u=jgrid.from.call(o,a.rows);if(!t.skipSortByX)for(n=0;n<d.groupField.length;n++)u.orderBy(d.groupField[n],null!=i&&i.groupingView&&null!=i.groupingView.groupOrder&&"desc"===i.groupingView.groupOrder[n]?"d":"a","text","");if(t.data=e,s.call(r,$.extend(!0,{datastr:$.extend(u.select(),c?{userdata:a.summary}:{}),datatype:"jsonstring",footerrow:c,userDataOnFooter:c,colModel:a.colModel,additionalProperties:a.additionalProperties,pivotOptions:a.options,viewrecords:!0,sortname:t.xDimension[0].dataName},a.groupOptions,i||{})),l.length)for(n=0;n<l.length;n++)l[n]&&l[n].groupHeaders.length&&s.setGroupHeaders.call(r,l[n]);t.frozenStaticCols&&s.setFrozenColumns.call(r)}"string"==typeof e?$.ajax($.extend({url:e,dataType:"json",success:function(t){e=jgrid.getAccessor(t,n&&n.reader?n.reader:"rows"),a()}},n||{})):a()}))}});var subGridFeedback=function(){var e=$.makeArray(arguments);return e[0]="subGrid"+e[0].charAt(0).toUpperCase()+e[0].substring(1),e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)},collapseOrExpand=function(e,t){return this.each((function(){if(this.grid&&null!=e&&!0===this.p.subGrid){var i=$(this).jqGrid("getInd",e,!0);$(i).find(">td."+t).trigger("click")}}))};jgrid.extend({setSubGrid:function(){return this.each((function(){var e,t=this.p,i=$(this),n=t.subGridModel[0],o=function(e){return i.jqGrid("getIconRes",e)};if(t.subGridOptions=$.extend({commonIconClass:o("subgrid.common"),plusicon:o("subgrid.plus"),minusicon:o("subgrid.minus"),openicon:"rtl"===t.direction?o("subgrid.openRtl"):o("subgrid.openLtr"),expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,selectOnCollapse:!1,reloadOnExpand:!0},t.subGridOptions||{}),t.colNames.unshift(""),t.colModel.unshift({name:"subgrid",width:jgrid.cell_width?t.subGridWidth+t.cellLayout:t.subGridWidth,labelClasses:"jqgh_subgrid",sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0,frozen:!0}),n)for(n.align=$.extend([],n.align||[]),e=0;e<n.name.length;e++)n.align[e]=n.align[e]||"left"}))},addSubGridCell:function(e,t,i,n){var o=this[0],r=o.p.subGridOptions,s=!$.isFunction(r.hasSubgrid)||r.hasSubgrid.call(o,{rowid:i,iRow:t,iCol:e,data:n});return null==o.p?"":"<td role='gridcell' class='"+base.getGuiStyles.call(this,"subgrid.tdStart",s?"ui-sgcollapsed sgcollapsed":"")+"' "+o.formatCol(e,t)+">"+(s?"<div class='"+base.getGuiStyles.call(this,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+base.getGuiStyles.call(this,"subgrid.button","sgbutton")+"'><span class='"+jgrid.mergeCssClasses(r.commonIconClass,r.plusicon)+"'></span></a></div>":"&nbsp;")+"</td>"},addSubGrid:function(e,t){return this.each((function(){var i,n,o,r=this,s=r.p,a=s.subGridModel[0],l=function(e,t){return base.getGuiStyles.call(r,"subgrid."+e,t||"")},c=l("thSubgrid","ui-th-subgrid ui-th-column ui-th-"+s.direction),d=l("rowSubTable","ui-subtblcell"),u=l("row","ui-subgrid ui-row-"+s.direction),h=l("tdWithIcon","subgrid-cell"),p=l("tdData","subgrid-data"),f=function(e,t,i){var n=a.align[i],o=$("<td"+(n?" style='text-align:"+n+";'":"")+"></td>").html(t);e.append(o)},m=function(e,t){var i=s.xmlReader.subgrid;$(i.root+" "+i.row,e).each((function(){var e,n,o=$("<tr class='"+d+"'></tr>");if(!0===i.repeatitems)$(i.cell,this).each((function(e){f(o,$(this).text()||"&#160;",e)}));else if(e=a.mapping||a.name)for(n=0;n<e.length;n++)f(o,jgrid.getXmlData(this,e[n])||"&#160;",n);t.append(o)}))},g=function(e,t){var i,n,o,r,l,c=s.jsonReader.subgrid,u=jgrid.getAccessor(e,c.root);if(null!=u)for(n=0;n<u.length;n++){if(l=u[n],i=$("<tr class='"+d+"'></tr>"),!0===c.repeatitems)for(c.cell&&(l=l[c.cell]),o=0;o<l.length;o++)f(i,l[o]||"&#160;",o);else if((r=a.mapping||a.name).length)for(o=0;o<r.length;o++)f(i,jgrid.getAccessor(l,r[o])||"&#160;",o);t.append(i)}},v=function(e,t,i){var n,o,d=l("legacyTable","ui-jqgrid-legacy-subgrid"+(!0===s.altRows&&$(r).jqGrid("isBootstrapGuiStyle")?" table-striped":"")),u=$("<table"+(d?" style='width:1px' role='presentation' class='"+d+"'":"")+"><thead></thead><tbody></tbody></table>"),h=$("<tr></tr>");for(r.grid.endReq.call(r),o=0;o<a.name.length;o++)n=$("<th class='"+c+"'></th>").html(a.name[o]).width(a.width[o]),h.append(n);return h.appendTo(u[0].tHead),i(e,$(u[0].tBodies[0])),$("#"+jqID(s.id+"_"+t)).append(u),!1},b=function(){var t,i=$(this).parent("tr")[0],n=i.nextSibling,o=i.id,l=s.id+"_"+o,c=function(e){return jgrid.mergeCssClasses(s.subGridOptions.commonIconClass,s.subGridOptions[e])},d=1;if($.each(s.colModel,(function(){!0!==this.hidden&&"rn"!==this.name&&"cb"!==this.name||d++})),$(this).hasClass("sgcollapsed")){if(!0===s.subGridOptions.reloadOnExpand||!1===s.subGridOptions.reloadOnExpand&&!$(n).hasClass("ui-subgrid")){if(t=1<=e?"<td colspan='"+e+"'>&#160;</td>":"",!subGridFeedback.call(r,"beforeExpand",l,o))return;$(i).after("<tr role='row' class='"+u+"'>"+t+"<td class='"+h+"'><span class='"+c("openicon")+"'></span></td><td colspan='"+parseInt(s.colNames.length-d,10)+"' class='"+p+"'><div id='"+l+"' class='tablediv'></div></td></tr>"),$(r).triggerHandler("jqGridSubGridRowExpanded",[l,o]),$.isFunction(s.subGridRowExpanded)?s.subGridRowExpanded.call(r,l,o):function(e){var t,i,n=$(e).attr("id"),o={nd_:(new Date).getTime()};if(o[s.prmNames.subgridid]=n,a){if(a.params)for(i=0;i<a.params.length;i++)void 0!==(t=s.iColByName[a.params[i]])&&(o[s.colModel[t].name]=$(e.cells[t]).text().replace(/\&#160\;/gi,""));if(!r.grid.hDiv.loading)switch(r.grid.beginReq.call(r),s.subgridtype||(s.subgridtype=s.datatype),$.isFunction(s.subgridtype)?s.subgridtype.call(r,o):s.subgridtype=s.subgridtype.toLowerCase(),s.subgridtype){case"xml":case"json":$.ajax($.extend({type:s.mtype,url:$.isFunction(s.subGridUrl)?s.subGridUrl.call(r,o):s.subGridUrl,dataType:s.subgridtype,context:n,data:jgrid.serializeFeedback.call(r,s.serializeSubGridData,"jqGridSerializeSubGridData",o),success:function(e){v(e,this,"xml"===s.subgridtype?m:g)},error:function(e,t,i){var n=void 0===s.loadSubgridError?s.loadError:s.loadSubgridError;r.grid.endReq.call(r),$.isFunction(n)&&n.call(r,e,t,i),s.subGridOptions.noEmptySubgridOnError||v(null,this,"xml"===s.subgridtype?m:g)}},jgrid.ajaxOptions,s.ajaxSubgridOptions||{}))}}}(i)}else $(n).show();$(this).html("<div class='"+base.getGuiStyles.call(r,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+base.getGuiStyles.call(r,"subgrid.button","sgbutton")+"'><span class='"+c("minusicon")+"'></span></a></div>").removeClass("sgcollapsed").addClass("sgexpanded"),s.subGridOptions.selectOnExpand&&$(r).jqGrid("setSelection",o)}else if($(this).hasClass("sgexpanded")){if(!subGridFeedback.call(r,"beforeCollapse",l,o))return;!0===s.subGridOptions.reloadOnExpand?$(n).remove(".ui-subgrid"):$(n).hasClass("ui-subgrid")&&$(n).hide(),$(this).html("<div class='"+base.getGuiStyles.call(r,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+base.getGuiStyles.call(r,"subgrid.button","sgbutton")+"'><span class='"+c("plusicon")+"'></span></a></div>").removeClass("sgexpanded").addClass("sgcollapsed"),s.subGridOptions.selectOnCollapse&&$(r).jqGrid("setSelection",o)}return!1},y=1;if(r.grid){for(i=r.rows.length,void 0!==t&&0<t&&(i=(y=t)+1);y<i;)n=r.rows[y],$(n).hasClass("jqgrow")&&(o=$(n.cells[e])).hasClass("ui-sgcollapsed")&&(s.scroll&&o.off("click"),o.on("click",b)),y++;if(!0===s.subGridOptions.expandOnLoad){var w=s.iColByName.subgrid;$(r.rows).filter(".jqgrow").each((function(e,t){$(t.cells[w]).filter(".sgcollapsed").children(".sgbutton-div").children(".sgbutton").click()}))}r.subGridXml=function(e,t){return v(e,t,m)},r.subGridJson=function(e,t){return v(e,t,g)}}}))},expandSubGridRow:function(e){return collapseOrExpand.call(this,e,"sgcollapsed")},collapseSubGridRow:function(e){return collapseOrExpand.call(this,e,"sgexpanded")},toggleSubGridRow:function(e){return collapseOrExpand.call(this,e,"ui-sgcollapsed")}}),window.tableToGrid=function(e,t){$(e).each((function(){var e,i,n,o,r,s,a,l,c=$(this),d=[],u=[],h=[],p=[],f=[];if(!this.grid){for(c.width("99%"),e=c.width(),i=$("tr td:first-child input[type=checkbox]:first",c),n=$("tr td:first-child input[type=radio]:first",c),r=!(o=0<i.length)&&0<n.length,s=o||r,$("th",c).each((function(){0===d.length&&s?(d.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),u.push("__selection__")):(d.push({name:$(this).attr("id")||$.trim($.jgrid.stripHtml($(this).html())).split(" ").join("_"),index:$(this).attr("id")||$.trim($.jgrid.stripHtml($(this).html())).split(" ").join("_"),width:$(this).width()||150}),u.push($(this).html()))})),$("tbody > tr",c).each((function(){var e={},t=0;$("td",$(this)).each((function(){if(0===t&&s){var i=$("input",$(this)),n=i.attr("value");p.push(n||h.length),i.is(":checked")&&f.push(n),e[d[t].name]=i.attr("value")}else e[d[t].name]=$(this).html();t++})),0<t&&h.push(e)})),c.empty(),c.jqGrid($.extend({datatype:"local",width:e,colNames:u,colModel:d,multiselect:o},t||{})),a=0;a<h.length;a++)l=null,0<p.length&&(l=p[a])&&l.replace&&(l=encodeURIComponent(l).replace(/[.\-%]/g,"_")),null===l&&(l=$.jgrid.randId()),c.jqGrid("addRowData",l,h[a]);for(a=0;a<f.length;a++)c.jqGrid("setSelection",f[a])}}))};var treeGridFeedback=function(){var e=$.makeArray(arguments);return e[0]="treeGrid"+e[0].charAt(0).toUpperCase()+e[0].substring(1),e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)},getNodeIcons=function(e,t){var i=t[e.treeReader.icon_field],n=e.treeIcons,o=n.plus+" tree-plus",r=n.minus+" tree-minus";return i&&"string"==typeof i&&2===(i=i.split(",")).length&&(r=i[0],o=i[1]),{expanded:r,collapsed:o,common:n.commonIconClass}};jgrid.extend({setTreeNode:function(){return this.each((function(){var e=$(this),t=this.p;if(this.grid&&t.treeGrid){var i=t.treeReader.expanded_field,n=t.treeReader.leaf_field;e.off("jqGridBeforeSelectRow.setTreeNode"),e.on("jqGridBeforeSelectRow.setTreeNode",(function(o,r,s){if(null!=s){var a=$(s.target),l=a.closest("tr.jqgrow>td"),c=l.parent(),d=function(){var o=t.data[t._index[stripPref(t.idPrefix,r)]],s=o[i]?"collapse":"expand";o[n]||(base[s+"Row"].call(e,o,c),base[s+"Node"].call(e,o,c))};return(a.is("div.treeclick")||t.ExpandColClick&&0<l.length&&0<a.closest("span.cell-wrapper",l).length)&&d(),!0}}))}}))},setTreeGrid:function(){return this.each((function(){var e,t,i,n=this.p,o=[],r=["leaf_field","expanded_field","loaded"];if(n.treeGrid){for(t in n.treedatatype||$.extend(this.p,{treedatatype:n.datatype}),n.subGrid=!1,n.altRows=!1,n.pgbuttons=!1,n.pginput=!1,n.gridview=!0,null===n.rowTotal&&(n.rowNum=n.maxRowNum),n.rowList=[],n.treeIcons.plus="rtl"===n.direction?n.treeIcons.plusRtl:n.treeIcons.plusLtr,"nested"===n.treeGridModel?n.treeReader=$.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},n.treeReader):"adjacency"===n.treeGridModel&&(n.treeReader=$.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},n.treeReader)),n.colModel)if(n.colModel.hasOwnProperty(t))for(i in e=n.colModel[t].name,n.treeReader)n.treeReader.hasOwnProperty(i)&&n.treeReader[i]===e&&o.push(e);$.each(n.treeReader,(function(e){var t=String(this);t&&-1===$.inArray(t,o)&&(0<=$.inArray(e,r)?n.additionalProperties.push({name:t,search:!1,convert:function(e){return!0===e||"true"===String(e).toLowerCase()||"1"===String(e)||e}}):n.additionalProperties.push(t))}))}}))},expandRow:function(e){this.each((function(){var t=$(this),i=this.p;if(this.grid&&i.treeGrid){var n=i.treeReader.expanded_field,o=e[i.localReader.id];if(treeGridFeedback.call(this,"beforeExpandRow",{rowid:o,item:e})){var r=base.getNodeChildren.call(t,e);$(r).each((function(){var e=i.idPrefix+getAccessor(this,i.localReader.id);$(base.getGridRowById.call(t,e)).css("display",""),this[n]&&base.expandRow.call(t,this)})),treeGridFeedback.call(this,"afterExpandRow",{rowid:o,item:e})}}}))},collapseRow:function(e){this.each((function(){var t=$(this),i=this.p;if(this.grid&&i.treeGrid){var n=i.treeReader.expanded_field,o=e[i.localReader.id];if(treeGridFeedback.call(this,"beforeCollapseRow",{rowid:o,item:e})){var r=base.getNodeChildren.call(t,e);$(r).each((function(){var e=i.idPrefix+getAccessor(this,i.localReader.id);$(base.getGridRowById.call(t,e)).css("display","none"),this[n]&&base.collapseRow.call(t,this)})),treeGridFeedback.call(this,"afterCollapseRow",{rowid:o,item:e})}}}))},getRootNodes:function(){var e=[];return this.each((function(){var t=this.p;if(this.grid&&t.treeGrid)switch(t.treeGridModel){case"nested":var i=t.treeReader.level_field;$(t.data).each((function(){parseInt(this[i],10)===parseInt(t.tree_root_level,10)&&e.push(this)}));break;case"adjacency":var n=t.treeReader.parent_id_field;$(t.data).each((function(){null!==this[n]&&"null"!==String(this[n]).toLowerCase()||e.push(this)}))}})),e},getNodeDepth:function(e){var t=null;return this.each((function(){var i=this.p;if(this.grid&&i.treeGrid)switch(i.treeGridModel){case"nested":var n=i.treeReader.level_field;t=parseInt(e[n],10)-parseInt(i.tree_root_level,10);break;case"adjacency":t=base.getNodeAncestors.call($(this),e).length}})),t},getNodeParent:function(e){var t=this[0];if(!t||!t.grid||null==t.p||!t.p.treeGrid||null==e)return null;var i=t.p,n=i.treeReader,o=e[n.parent_id_field];if("nested"===i.treeGridModel){var r=null,s=n.left_field,a=n.right_field,l=n.level_field,c=parseInt(e[s],10),d=parseInt(e[a],10),u=parseInt(e[l],10);return $(i.data).each((function(){if(parseInt(this[l],10)===u-1&&parseInt(this[s],10)<c&&parseInt(this[a],10)>d)return r=this,!1})),r}if(null===o||"null"===o)return null;var h=i._index[o];return void 0!==h?i.data[h]:null},getNodeChildren:function(e){var t=[];return this.each((function(){var i=this.p;if(this.grid&&i.treeGrid)switch(i.treeGridModel){case"nested":var n=i.treeReader.left_field,o=i.treeReader.right_field,r=i.treeReader.level_field,s=parseInt(e[n],10),a=parseInt(e[o],10),l=parseInt(e[r],10);$(i.data).each((function(){parseInt(this[r],10)===l+1&&parseInt(this[n],10)>s&&parseInt(this[o],10)<a&&t.push(this)}));break;case"adjacency":var c=i.treeReader.parent_id_field,d=i.localReader.id;$(i.data).each((function(){String(this[c])===String(e[d])&&t.push(this)}))}})),t},getFullTreeNode:function(e){var t=[];return this.each((function(){var i,n=this.p;if(this.grid&&n.treeGrid)switch(n.treeGridModel){case"nested":var o=n.treeReader.left_field,r=n.treeReader.right_field,s=n.treeReader.level_field,a=parseInt(e[o],10),l=parseInt(e[r],10),c=parseInt(e[s],10);$(n.data).each((function(){parseInt(this[s],10)>=c&&parseInt(this[o],10)>=a&&parseInt(this[o],10)<=l&&t.push(this)}));break;case"adjacency":if(e){t.push(e);var d=n.treeReader.parent_id_field,u=n.localReader.id;$(n.data).each((function(){var e;for(i=t.length,e=0;e<i;e++)if(String(t[e][u])===String(this[d])){t.push(this);break}}))}}})),t},getNodeAncestors:function(e){var t=[];return this.each((function(){var i=$(this),n=base.getNodeParent;if(this.grid&&this.p.treeGrid)for(var o=n.call(i,e);o;)t.push(o),o=n.call(i,o)})),t},isVisibleNode:function(e){var t=!0;return this.each((function(){var i=this.p;if(this.grid&&i.treeGrid){var n=base.getNodeAncestors.call($(this),e),o=i.treeReader.expanded_field;$(n).each((function(){if(!(t=t&&this[o]))return!1}))}})),t},isNodeLoaded:function(e){var t;return this.each((function(){var i=this.p;if(this.grid&&i.treeGrid){var n=i.treeReader.leaf_field,o=i.treeReader.loaded;t=void 0!==e&&(void 0!==e[o]?e[o]:!!(e[n]||0<base.getNodeChildren.call($(this),e).length))}})),t},expandNode:function(e){return this.each((function(){var t,i,n,o=this,r=o.p;if(o.grid&&r.treeGrid){var s=r.treeReader;if(!e[s.expanded_field]){if(t=getAccessor(e,r.localReader.id),!treeGridFeedback.call(o,"beforeExpandNode",{rowid:t,item:e}))return;i=$("#"+r.idPrefix+jqID(t),o.grid.bDiv)[0],e[s.expanded_field]=!0,n=getNodeIcons(r,e),$("div.treeclick",i).removeClass(n.collapsed).addClass(n.common).addClass(n.expanded),"local"===r.treedatatype||base.isNodeLoaded.call($(o),r.data[r._index[t]])||o.grid.hDiv.loading||(r.treeANode=i.rowIndex,r.datatype=r.treedatatype,base.setGridParam.call($(o),{postData:"nested"===r.treeGridModel?{nodeid:t,n_level:e[s.level_field],n_left:e[s.left_field],n_right:e[s.right_field]}:{nodeid:t,n_level:e[s.level_field],parentid:e[s.parent_id_field]}}),$(o).trigger("reloadGrid"),e[s.loaded]=!0,base.setGridParam.call($(o),{postData:"nested"===r.treeGridModel?{nodeid:"",n_level:"",n_left:"",n_right:""}:{nodeid:"",n_level:"",parentid:""}})),treeGridFeedback.call(o,"afterExpandNode",{rowid:t,item:e})}}}))},collapseNode:function(e){return this.each((function(){var t,i=this.p;if(this.grid&&i.treeGrid){var n=i.treeReader.expanded_field;if(e[n]){var o=getAccessor(e,i.localReader.id);if(!treeGridFeedback.call(this,"beforeCollapseNode",{rowid:o,item:e}))return;e[n]=!1,t=getNodeIcons(i,e),$("#"+i.idPrefix+jqID(o),this.grid.bDiv).find("div.treeclick").removeClass(t.expanded).addClass(t.common).addClass(t.collapsed),(!0===i.unloadNodeOnCollapse||$.isFunction(i.unloadNodeOnCollapse)&&i.unloadNodeOnCollapse.call(this,e))&&(e[i.treeReader.loaded]=!1,$(this).jqGrid("delTreeNode",o,!0)),treeGridFeedback.call(this,"afterCollapseNode",{rowid:o,item:e})}}}))},SortTree:function(e,t,i,n){return this.each((function(){var o=this,r=o.p,s=$(o);if(o.grid&&r.treeGrid){var a,l,c,d=[],u=base.getRootNodes.call(s),h=jgrid.from.call(o,u);h.orderBy(e,t,i,n);var p=h.select();for(a=0,l=p.length;a<l;a++)c=p[a],d.push(c),base.collectChildrenSortTree.call(s,d,c,e,t,i,n);$.each(d,(function(e){var t=getAccessor(this,r.localReader.id);$(o.rows[e]).after(s.find(">tbody>tr#"+jqID(t)))}))}}))},collectChildrenSortTree:function(e,t,i,n,o,r){return this.each((function(){var s=$(this);if(this.grid&&this.p.treeGrid){var a,l,c,d=base.getNodeChildren.call(s,t),u=jgrid.from.call(this,d);u.orderBy(i,n,o,r);var h=u.select();for(a=0,l=h.length;a<l;a++)c=h[a],e.push(c),base.collectChildrenSortTree.call(s,e,c,i,n,o,r)}}))},setTreeRow:function(e,t){var i=!1;return this.each((function(){this.grid&&this.p.treeGrid&&(i=base.setRowData.call($(this),e,t))})),i},delTreeNode:function(e,t){return this.each((function(){var i,n,o,r,s,a=this.p,l=a.localReader.id,c=$(this),d=a.treeReader.left_field,u=a.treeReader.right_field;if(this.grid&&a.treeGrid){var h=a._index[e];if(void 0!==h){n=(i=parseInt(a.data[h][u],10))-parseInt(a.data[h][d],10)+1;var p=base.getFullTreeNode.call(c,a.data[h]);if(0<p.length)for(s=0;s<p.length;s++)t&&e===p[s][l]||base.delRowData.call(c,p[s][l]);if("nested"===a.treeGridModel){if((o=jgrid.from.call(this,a.data).greater(d,i,{stype:"integer"}).select()).length)for(r in o)o.hasOwnProperty(r)&&(o[r][d]=parseInt(o[r][d],10)-n);if((o=jgrid.from.call(this,a.data).greater(u,i,{stype:"integer"}).select()).length)for(r in o)o.hasOwnProperty(r)&&(o[r][u]=parseInt(o[r][u],10)-n)}}}}))},addChildNode:function(e,t,i,n){return this.each((function(){if(i){var o,r,s,a,l,c,d,u=this.p,h=$(this),p=base.getInd,f=u.treeIcons.minus+" tree-minus",m=t,g=u.treeReader.expanded_field,v=u.treeReader.leaf_field,b=u.treeReader.level_field,y=u.treeReader.parent_id_field,w=u.treeReader.left_field,x=u.treeReader.right_field,C=u.treeReader.loaded;void 0===n&&(n=!1),null==e&&(e=jgrid.randId());var k,S,_=p.call(h,t);if(c=!1,null==t||""===t)m=t=null,o="last",a=u.tree_root_level;else{o="after",r=u._index[t],s=u.data[r],t=s[u.localReader.id],l=p.call(h,t),a=parseInt(s[b],10)+1;var D,T,j,O=base.getFullTreeNode.call(h,s);if(O.length)for(D=0;D<O.length;D++)j=O[D][u.localReader.id],l<(T=p.call(h,j))&&(l=T,m=j);s[v]&&(c=!0,s[g]=!0,$(this.rows[_]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(u.treeIcons.leaf+" tree-leaf").addClass(u.treeIcons.commonIconClass).addClass(f),u.data[r][v]=!1,s[C]=!0)}if(void 0===i[g]&&(i[g]=!1),void 0===i[C]&&(i[C]=!1),i[b]=a,void 0===i[v]&&(i[v]=!0),"adjacency"===u.treeGridModel&&(i[y]=t),"nested"===u.treeGridModel)if(null!==t){if(d=parseInt(s[x],10),(k=jgrid.from.call(this,u.data).greaterOrEquals(x,d,{stype:"integer"}).select()).length)for(S in k)k.hasOwnProperty(S)&&(k[S][w]=k[S][w]>d?parseInt(k[S][w],10)+2:k[S][w],k[S][x]=k[S][x]>=d?parseInt(k[S][x],10)+2:k[S][x]);i[w]=d,i[x]=d+1}else{if(d=parseInt(base.getCol.call(h,x,!1,"max"),10),(k=jgrid.from.call(this,u.data).greater(w,d,{stype:"integer"}).select()).length)for(S in k)k.hasOwnProperty(S)&&(k[S][w]=parseInt(k[S][w],10)+2);if((k=jgrid.from.call(this,u.data).greater(x,d,{stype:"integer"}).select()).length)for(S in k)k.hasOwnProperty(S)&&(k[S][x]=parseInt(k[S][x],10)+2);i[w]=d+1,i[x]=d+2}(null===t||base.isNodeLoaded.call(h,s)||c)&&base.addRowData.call(h,e,i,o,m),s&&!s[g]&&n&&$(this.rows[_]).find("div.treeclick").click()}}))}});var namespace=".jqGrid",mouseDown="mousedown",mouseMove="mousemove",mouseUp="mouseup",getMouseCoordinates=function(e){var t=e.originalEvent.targetTouches;return t?{x:(t=t[0]).pageX,y:t.pageY}:{x:e.pageX,y:e.pageY}},jqDnR={drag:function(e){var t=e.data,i=t.e,n=t.dnr,o=t.ar,r=t.dnrAr,s=getMouseCoordinates(e);return"move"===n.k?i.css({left:n.X+s.x-n.pX,top:n.Y+s.y-n.pY}):(i.css({width:Math.max(s.x-n.pX+n.W,0),height:Math.max(s.y-n.pY+n.H,0)}),r&&o.css({width:Math.max(s.x-r.pX+r.W,0),height:Math.max(s.y-r.pY+r.H,0)})),!1},stop:function(){$(document).off(mouseMove,jqDnR.drag).off(mouseUp,jqDnR.stop)}},init=function(e,t,i,n){return e.each((function(){(t=t?$(t,e):e).on(mouseDown,{e,k:i},(function(e){var t,i,o,r,s,a,l=e.data,c={},d=function(e,t){return parseInt(e.css(t),10)||!1},u=function(e){return d(i,e)},h=function(e){return d(r,e)},p=getMouseCoordinates(e);if(!$(e.target).hasClass("ui-jqdialog-titlebar-close")&&!$(e.target).parent().hasClass("ui-jqdialog-titlebar-close")){if(i=l.e,r=!!n&&$(n),"relative"!==i.css("position"))try{i.position(c)}catch(e){}if(o={X:c.left||u("left")||0,Y:c.top||u("top")||0,W:u("width")||i[0].scrollWidth||0,H:u("height")||i[0].scrollHeight||0,pX:p.x,pY:p.y,k:l.k},s=!(!r||"move"===l.k)&&{X:c.left||h("left")||0,Y:c.top||h("top")||0,W:r[0].offsetWidth||h("width")||0,H:r[0].offsetHeight||h("height")||0,pX:p.x,pY:p.y,k:l.k},0<(t=i.find("input.hasDatepicker")).length)try{t.datepicker("hide")}catch(e){}return a={e:i,dnr:o,ar:r,dnrAr:s},$(document).on(mouseMove,a,jqDnR.drag),$(document).on(mouseUp,a,jqDnR.stop),!1}}))}))};window.PointerEvent?(mouseDown+=namespace+" pointerdown"+namespace,mouseMove+=namespace+" pointermove"+namespace,mouseUp+=namespace+" pointerup"+namespace):window.MSPointerEvent?(mouseDown+=namespace+" mspointerdown"+namespace,mouseMove+=namespace+" mspointermove"+namespace,mouseUp+=namespace+" mspointerup"):(mouseDown+=namespace+" touchstart"+namespace,mouseMove+=namespace+" touchmove"+namespace,mouseUp+=namespace+" touchend"+namespace),$.jqDnR=jqDnR,$.fn.jqDrag=function(e){return init(this,e,"move")},$.fn.jqResize=function(e,t){return init(this,e,"resize",t)};var jqmHashLength=0,jqmHash,createdModals=[],setFocusOnFirstVisibleInput=function(e){try{$(":input:visible",e.w).first().focus()}catch(e){}},setFocus=function(e){setFocusOnFirstVisibleInput(e)},keyOrMouseEventHandler=function(e){var t=jqmHash[createdModals[createdModals.length-1]],i=!$(e.target).parents(".jqmID"+t.s)[0],n=$(e.target).offset(),o=void 0!==e.pageX?e.pageX:n.left,r=void 0!==e.pageY?e.pageY:n.top,s=function(){var e=!1;return $(".jqmID"+t.s).each((function(){var t=$(this),i=t.offset();if(i.top<=r&&r<=i.top+t.height()&&i.left<=o&&o<=i.left+t.width())return!(e=!0)})),e};return!("mousedown"===e.type||!s())||("mousedown"===e.type&&i&&(s()&&(i=!1),i&&!$(e.target).is(":input")&&setFocusOnFirstVisibleInput(t)),!i)},bindOrUnbindEvents=function(e){$(document)[e]("keypress keydown mousedown",keyOrMouseEventHandler)},registerHideOrShow=function(e,t,i){return e.each((function(){var e=this._jqm;$(t).each((function(){this[i]||(this[i]=[],$(this).click((function(){var e,t,i,n=["jqmShow","jqmHide"];for(e=0;e<n.length;e++)for(i in this[t=n[e]])this[t].hasOwnProperty(i)&&jqmHash[this[t][i]]&&jqmHash[this[t][i]].w[t](this);return!1}))),this[i].push(e)}))}))};$.fn.jqm=function(e){var t={overlay:50,closeoverlay:!1,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:!1,ajaxText:"",target:!1,modal:!1,toTop:!1,onShow:!1,onHide:!1,onLoad:!1};return this.each((function(){if(this._jqm)return jqmHash[this._jqm].c=$.extend({},jqmHash[this._jqm].c,e),jqmHash[this._jqm].c;jqmHashLength++,this._jqm=jqmHashLength,jqmHash[jqmHashLength]={c:$.extend(t,$.jqm.params,e),a:!1,w:$(this).addClass("jqmID"+jqmHashLength),s:jqmHashLength},t.trigger&&$(this).jqmAddTrigger(t.trigger)}))},$.fn.jqmAddClose=function(e){return registerHideOrShow(this,e,"jqmHide")},$.fn.jqmAddTrigger=function(e){return registerHideOrShow(this,e,"jqmShow")},$.fn.jqmShow=function(e){return this.each((function(){$.jqm.open(this._jqm,e)}))},$.fn.jqmHide=function(e){return this.each((function(){$.jqm.close(this._jqm,e)}))},$.jqm={hash:{},open:function(e,t){var i,n,o,r,s,a=jqmHash[e],l=a.c,c=a.w.parent().offset(),d="."+l.closeClass,u=parseInt(a.w.css("z-index"),10);return u=0<u?u:3e3,i=$("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":u-1,opacity:l.overlay/100}),a.a||(a.t=t,a.a=!0,a.w.css("z-index",u),$(a.w[0].ownerDocument).data("ui-dialog-overlays")&&a.w.addClass("ui-dialog"),l.modal?(createdModals[0]||setTimeout((function(){bindOrUnbindEvents("bind")}),1),createdModals.push(e)):0<l.overlay?l.closeoverlay&&a.w.jqmAddClose(i):i=!1,a.o=!!i&&i.addClass(l.overlayClass).prependTo("body"),l.ajax?(n=l.target||a.w,o=l.ajax,n="string"==typeof n?$(n,a.w):$(n),o="@"===o.substr(0,1)?$(t).attr(o.substring(1)):o,n.html(l.ajaxText).load(o,(function(){l.onLoad&&l.onLoad.call(this,a),d&&a.w.jqmAddClose($(d,a.w)),setFocus(a)}))):d&&a.w.jqmAddClose($(d,a.w)),l.toTop&&a.o&&(c=a.w.parent().offset(),r=parseFloat(a.w.css("left")||0),s=parseFloat(a.w.css("top")||0),a.w.before('<span id="jqmP'+a.w[0]._jqm+'"></span>').insertAfter(a.o),a.w.css({top:c.top+s,left:c.left+r})),l.onShow?l.onShow(a):a.w.show(),setFocus(a)),!1},close:function(e){var t=jqmHash[e];return t.a&&(t.a=!1,createdModals[0]&&(createdModals.pop(),createdModals[0]||bindOrUnbindEvents("unbind")),t.c.toTop&&t.o&&$("#jqmP"+t.w[0]._jqm).after(t.w).remove(),t.c.onHide?t.c.onHide(t):(t.w.hide(),t.o&&t.o.remove())),!1},params:{}},jqmHash=$.jqm.hash,$.fmatter=$.fmatter||{};var fmatter=$.fmatter,getOptionByName=function(e,t){var i=e.formatoptions||{};return i.hasOwnProperty(t)?i[t]:(e.editoptions||{})[t]},encodeAttr=function(e){return String(e).replace(/\'/g,"&#39;")},parseCheckboxOptions=function(e){var t,i,n=e.colModel||e.cm,o=!1!==n.title?" title='"+encodeAttr(e.colName||n.name)+"'":"",r=function(e){return getOptionByName(n,e)},s=r("checkedClass"),a=r("uncheckedClass"),l=r("value"),c="string"==typeof l&&l.split(":")[0]||"Yes",d="string"==typeof l&&l.split(":")[1]||"No",u=function(e){return"<i class='"+encodeAttr(e)+"'"+o+"></i>"},h=r("disabled");void 0===h&&(h=jgrid.formatter.checkbox.disabled);var p=base.getIconRes.call(this,"checkbox.checked"),f=base.getIconRes.call(this,"checkbox.checkedClasses"),m=base.getIconRes.call(this,"checkbox.unchecked");return!0===h&&(s||a||p||m)?(t=u(s||p),i=u(a||m),s=f||s||p):(t="<input type='checkbox' checked='checked'"+(o+=!(s="")===h?" disabled='disabled'":"")+" />",i="<input type='checkbox'"+o+" />"),{checkedClasses:s,checked:t,unchecked:i,yes:c,no:d}},yesObject={1:1,x:1,true:1,yes:1,y:1,on:1},noObject={0:1,false:1,no:1,n:1,off:1};$.extend(!0,jgrid,{formatter:{date:{parseRe:/[#%\\\/:_;.,\t\s\-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO"},reformatAfterEdit:!0,userLocalTime:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0,defaultValue:!1},idName:"id"},cmTemplate:{integerStr:{formatter:"integer",align:"right",sorttype:"integer",searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},integer:{formatter:"integer",align:"right",sorttype:"integer",convertOnSave:function(e){var t=e.newValue;return isNaN(t)?t:parseInt(t,10)},searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},numberStr:{formatter:"number",align:"right",sorttype:"number",searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},number:{formatter:"number",align:"right",sorttype:"number",convertOnSave:function(e){var t=e.newValue;return isNaN(t)?t:parseFloat(t)},searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},booleanCheckbox:{align:"center",formatter:"checkbox",sorttype:"boolean",edittype:"checkbox",editoptions:{value:"true:false",defaultValue:"false"},convertOnSave:function(e){var t=e.newValue,i=parseCheckboxOptions.call(this,e),n=String(t).toLowerCase();return yesObject[n]||n===i.yes.toLowerCase()?t=!0:(noObject[n]||n===i.no.toLowerCase())&&(t=!1),t},stype:"checkbox",searchoptions:{sopt:["eq"],value:"true:false"}},actions:function(){return{formatter:"actions",width:(null!=this.p&&(base.isInCommonIconClass.call(this,"fa")||base.isInCommonIconClass.call(this,"glyphicon"))?$(this).jqGrid("isBootstrapGuiStyle")?45:39:40)+(jgrid.cellWidth()?5:0),align:"center",label:"",autoResizable:!1,title:!1,frozen:!0,fixed:!0,hidedlg:!0,resizable:!1,sortable:!1,search:!1,editable:!1,viewable:!1}}}}),jgrid.cmTemplate.booleanCheckboxFa=jgrid.cmTemplate.booleanCheckbox,$.extend(fmatter,{isObject:function(e){return e&&("object"==typeof e||$.isFunction(e))||!1},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isValue:function(e){return this.isObject(e)||"string"==typeof e||this.isNumber(e)||"boolean"==typeof e},isEmpty:function(e){return!("string"!=typeof e&&this.isValue(e)||this.isValue(e)&&""!==$.trim(e).replace(/&nbsp;/gi,"").replace(/&#160;/gi,""))},NumberFormat:function(e,t){var i=fmatter.isNumber;if(i(e)||(e*=1),i(e)){var n,o=e<0,r=String(e),s=t.decimalSeparator||".";if(i(t.decimalPlaces)){var a=t.decimalPlaces;if(n=(r=String(Number(Math.round(e+"e"+a)+"e-"+a))).lastIndexOf("."),0<a)for(n<0?n=(r+=s).length-1:"."!==s&&(r=r.replace(".",s));r.length-1-n<a;)r+="0"}if(t.thousandsSeparator){var l=t.thousandsSeparator;n=-1<(n=r.lastIndexOf(s))?n:r.length;var c,d=void 0===t.decimalSeparator?"":r.substring(n),u=-1;for(c=n;0<c;c--)++u%3==0&&c!==n&&(!o||1<c)&&(d=l+d),d=r.charAt(c-1)+d;r=d}return r}return e}});var $FnFmatter=function(e,t,i,n,o){var r=t;i=$.extend({},getGridRes.call($(this),"formatter"),i);try{r=$.fn.fmatter[e].call(this,t,i,n,o)}catch(e){}return r};$.fn.fmatter=$FnFmatter,$FnFmatter.getCellBuilder=function(e,t,i){var n=null!=$.fn.fmatter[e]?$.fn.fmatter[e].getCellBuilder:null;return $.isFunction(n)?n.call(this,$.extend({},getGridRes.call($(this),"formatter"),t),i):null},$FnFmatter.defaultFormat=function(e,t){return fmatter.isValue(e)&&""!==e?e:t.defaultValue||"&#160;"};var defaultFormat=$FnFmatter.defaultFormat,formatCheckboxValue=function(e,t,i){if(void 0===e||fmatter.isEmpty(e)){var n=getOptionByName(i,"defaultValue");void 0===n&&(n=t.no),e=n}return e=String(e).toLowerCase(),yesObject[e]||e===t.yes.toLowerCase()?t.checked:t.unchecked};$FnFmatter.email=function(e,t){return fmatter.isEmpty(e)?defaultFormat(e,t):"<a href='mailto:"+encodeAttr(e)+"'>"+e+"</a>"},$FnFmatter.checkbox=function(e,t){var i=parseCheckboxOptions.call(this,t);return formatCheckboxValue(e,i,t.colModel)},$FnFmatter.checkbox.getCellBuilder=function(e){var t,i=e.colModel;return e.colName=e.colName||this.p.colNames[e.pos],t=parseCheckboxOptions.call(this,e),function(e){return formatCheckboxValue(e,t,i)}},$FnFmatter.checkbox.unformat=function(e,t,i){var n=parseCheckboxOptions.call(this,t),o=$(i);return(n.checkedClasses?jgrid.hasAllClasses(o.children("i,svg"),n.checkedClasses):o.children("input").is(":checked"))?n.yes:n.no},$FnFmatter.checkboxFontAwesome4=$FnFmatter.checkbox,$FnFmatter.checkboxFontAwesome4.getCellBuilder=$FnFmatter.checkbox.getCellBuilder,$FnFmatter.checkboxFontAwesome4.unformat=$FnFmatter.checkbox.unformat,$FnFmatter.link=function(e,t){var i=t.colModel,n="",o={target:t.target};return null!=i&&(o=$.extend({},o,i.formatoptions||{})),o.target&&(n="target="+o.target),fmatter.isEmpty(e)?defaultFormat(e,o):"<a "+n+" href='"+encodeAttr(e)+"'>"+e+"</a>"},$FnFmatter.showlink=function(e,t,i){var n,o,r,s=this,a=t.colModel,l={baseLinkUrl:t.baseLinkUrl,showAction:t.showAction,addParam:t.addParam||"",target:t.target,idName:t.idName,hrefDefaultValue:"#"},c="",d=function(n){return $.isFunction(n)?n.call(s,{cellValue:e,rowid:t.rowId,rowData:i,options:l}):n||""};return null!=a&&(l=$.extend({},l,a.formatoptions||{})),l.target&&(c="target="+d(l.target)),n=d(l.baseLinkUrl)+d(l.showAction),o=l.idName?encodeURIComponent(d(l.idName))+"="+encodeURIComponent(d(l.rowId)||t.rowId):"","object"==typeof(r=d(l.addParam))&&null!==r&&(r=(""!==o?"&":"")+$.param(r)),""==(n+=o||r?"?"+o+r:"")&&(n=d(l.hrefDefaultValue)),"string"==typeof e||fmatter.isNumber(e)||$.isFunction(l.cellValue)?"<a "+c+" href='"+encodeAttr(n)+"'>"+($.isFunction(l.cellValue)?d(l.cellValue):e)+"</a>":defaultFormat(e,l)},$FnFmatter.showlink.getCellBuilder=function(e){var t={baseLinkUrl:e.baseLinkUrl,showAction:e.showAction,addParam:e.addParam||"",target:e.target,idName:e.idName,hrefDefaultValue:"#"},i=e.colModel;return null!=i&&(t=$.extend({},t,i.formatoptions||{})),function(e,i,n){var o,r,s,a=this,l=i.rowId,c="",d=function(i){return $.isFunction(i)?i.call(a,{cellValue:e,rowid:l,rowData:n,options:t}):i||""};return t.target&&(c="target="+d(t.target)),o=d(t.baseLinkUrl)+d(t.showAction),r=t.idName?encodeURIComponent(d(t.idName))+"="+encodeURIComponent(d(l)||i.rowId):"","object"==typeof(s=d(t.addParam))&&null!==s&&(s=(""!==r?"&":"")+$.param(s)),""==(o+=r||s?"?"+r+s:"")&&(o=d(t.hrefDefaultValue)),"string"==typeof e||fmatter.isNumber(e)||$.isFunction(t.cellValue)?"<a "+c+" href='"+encodeAttr(o)+"'>"+($.isFunction(t.cellValue)?d(t.cellValue):e)+"</a>":defaultFormat(e,t)}},$FnFmatter.showlink.pageFinalization=function(e){var t,i,n,o=$(this),r=this.p,s=r.colModel[e],a=r.autoResizing.wrapperClassName,l=this.rows,c=l.length,d=function(e){var t=$(this).closest("tr.jqgrow>td"),i=t.parent(),n=t[0].cellIndex,s=r.colModel[n];if(0<i.length)return s.formatoptions.onClick.call(o[0],{iCol:n,iRow:i[0].rowIndex,rowid:i.attr("id"),cm:s,cmName:s.name,cellValue:$(this).text(),a:this,event:e})};if(null!=s.formatoptions&&$.isFunction(s.formatoptions.onClick))for(t=0;t<c;t++)i=l[t],$(i).hasClass("jqgrow")&&(n=i.cells[e],s.autoResizable&&null!=n&&$(n.firstChild).hasClass(a)&&(n=n.firstChild),null!=n&&$(n.firstChild).on("click",d))};var insertPrefixAndSuffix=function(e,t){return e=t.prefix?t.prefix+e:e,t.suffix?e+t.suffix:e},numberHelper=function(e,t,i){var n=t.colModel,o=$.extend({},t[i]);return null!=n&&(o=$.extend({},o,n.formatoptions||{})),fmatter.isEmpty(e)?insertPrefixAndSuffix(o.defaultValue,o):insertPrefixAndSuffix(fmatter.NumberFormat(e,o),o)};$FnFmatter.integer=function(e,t){return numberHelper(e,t,"integer")},$FnFmatter.number=function(e,t){return numberHelper(e,t,"number")},$FnFmatter.currency=function(e,t){return numberHelper(e,t,"currency")};var numberCellBuilder=function(e,t){var i=e.colModel,n=$.extend({},e[t]);null!=i&&(n=$.extend({},n,i.formatoptions||{}));var o=fmatter.NumberFormat,r=n.defaultValue?insertPrefixAndSuffix(n.defaultValue,n):"";return function(e){return fmatter.isEmpty(e)?r:insertPrefixAndSuffix(o(e,n),n)}};$FnFmatter.integer.getCellBuilder=function(e){return numberCellBuilder(e,"integer")},$FnFmatter.number.getCellBuilder=function(e){return numberCellBuilder(e,"number")},$FnFmatter.currency.getCellBuilder=function(e){return numberCellBuilder(e,"currency")},$FnFmatter.date=function(e,t,i,n){var o=t.colModel,r=$.extend({},t.date);return null!=o&&(r=$.extend({},r,o.formatoptions||{})),r.reformatAfterEdit||"edit"!==n?fmatter.isEmpty(e)?defaultFormat(e,r):jgrid.parseDate.call(this,r.srcformat,e,r.newformat,r):defaultFormat(e,r)},$FnFmatter.date.getCellBuilder=function(e,t){var i=$.extend({},e.date);null!=e.colModel&&(i=$.extend({},i,e.colModel.formatoptions||{}));var n=jgrid.parseDate,o=i.srcformat,r=i.newformat;return i.reformatAfterEdit||"edit"!==t?function(e){return fmatter.isEmpty(e)?defaultFormat(e,i):n.call(this,o,e,r,i)}:function(e){return defaultFormat(e,i)}},$FnFmatter.select=function(e,t){var i,n=[],o=t.colModel,r=$.extend({},o.editoptions||{},o.formatoptions||{}),s="function"==typeof r.value?r.value():r.value,a=r.separator||":",l=r.delimiter||";";if(s){var c,d=!0===r.multiple,u=[],h=function(e,t){if(0<t)return e};if(d&&(u=$.map(String(e).split(","),(function(e){return $.trim(e)}))),"string"==typeof s){var p,f,m=s.split(l);for(p=0;p<m.length;p++)if(2<(c=m[p].split(a)).length&&(c[1]=$.map(c,h).join(a)),f=$.trim(c[0]),r.defaultValue===f&&(i=c[1]),d)-1<$.inArray(f,u)&&n.push(c[1]);else if(f===$.trim(e)){n=[c[1]];break}}else fmatter.isObject(s)&&(i=s[r.defaultValue],n=d?$.map(u,(function(e){return s[e]})):[void 0===s[e]?"":s[e]])}return""!==(e=n.join(", "))?e:void 0!==r.defaultValue?i:defaultFormat(e,r)},$FnFmatter.select.getCellBuilder=function(e){var t,i,n,o,r=e.colModel,s=$FnFmatter.defaultFormat,a=$.extend({},r.editoptions||{},r.formatoptions||{}),l="function"==typeof a.value?a.value():a.value,c=a.separator||":",d=a.delimiter||";",u=void 0!==a.defaultValue,h=!0===a.multiple,p={},f=function(e,t){if(0<t)return e};if("string"==typeof l)for(o=(n=l.split(d)).length-1;0<=o;o--)2<(i=n[o].split(c)).length&&(i[1]=$.map(i,f).join(c)),p[$.trim(i[0])]=i[1];else{if(!fmatter.isObject(l))return function(e){return e?String(e):s(e,a)};p=l}return u&&(t=p[a.defaultValue]),h?function(e){var i,n=[],o=$.map(String(e).split(","),(function(e){return $.trim(e)}));for(i=0;i<o.length;i++)e=o[i],p.hasOwnProperty(e)&&n.push(p[e]);return""!==(e=n.join(", "))?e:u?t:s(e,a)}:function(e){var i=p[String(e)];return""!==i&&void 0!==i?i:u?t:s(e,a)}},$FnFmatter.rowactions=function(e,t){var i,n,o,r,s=$(this).closest("tr.jqgrow>td"),a=s.parent(),l=a.attr("id"),c=$(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),d=$("#"+jgrid.jqID(c)),u=d[0],h=u.p,p=jgrid.getRelativeRect.call(u,a).top,f=h.colModel[s[0].cellIndex],m=$.extend(!0,{extraparam:{}},jgrid.actionsNav||{},h.actionsNavOptions||{},f.formatoptions||{});switch(void 0!==h.editOptions&&(m.editOptions=$.extend(!0,m.editOptions||{},h.editOptions)),void 0!==h.delOptions&&(m.delOptions=h.delOptions),a.hasClass("jqgrid-new-row")&&(m.extraparam[h.prmNames.oper]=h.prmNames.addoper),r={keys:m.keys,oneditfunc:m.onEdit,successfunc:m.onSuccess,url:m.url,extraparam:m.extraparam,aftersavefunc:m.afterSave,errorfunc:m.onError,afterrestorefunc:m.afterRestore,restoreAfterError:m.restoreAfterError,mtype:m.mtype},!h.multiselect&&l!==h.selrow||h.multiselect&&$.inArray(l,h.selarrrow)<0?d.jqGrid("setSelection",l,!0,e):jgrid.fullBoolFeedback.call(u,"onSelectRow","jqGridSelectRow",l,!0,e),t){case"edit":d.jqGrid("editRow",l,r);break;case"save":d.jqGrid("saveRow",l,r);break;case"cancel":d.jqGrid("restoreRow",l,m.afterRestore);break;case"del":m.delOptions=m.delOptions||{},void 0===m.delOptions.top&&(m.delOptions.top=p),d.jqGrid("delGridRow",l,m.delOptions);break;case"formedit":m.editOptions=m.editOptions||{},void 0===m.editOptions.top&&(m.editOptions.top=p,m.editOptions.recreateForm=!0),d.jqGrid("editGridRow",l,m.editOptions);break;default:if(null!=m.custom&&0<m.custom.length)for(n=m.custom.length,i=0;i<n;i++)(o=m.custom[i]).action===t&&$.isFunction(o.onClick)&&o.onClick.call(u,{rowid:l,event:e,action:t,options:o})}return e.stopPropagation&&e.stopPropagation(),!1},$FnFmatter.actions=function(e,t,i,n){var o,r,s,a=t.rowId,l="",c=$(this),d={},u=getGridRes.call(c,"edit")||{},h=$.extend({editbutton:!0,delbutton:!0,editformbutton:!1,commonIconClass:"ui-icon",editicon:"ui-icon-pencil",delicon:"ui-icon-trash",saveicon:"ui-icon-disk",cancelicon:"ui-icon-cancel",savetitle:u.bSubmit||"",canceltitle:u.bCancel||""},getGridRes.call(c,"nav")||{},jgrid.nav||{},this.p.navOptions||{},getGridRes.call(c,"actionsNav")||{},jgrid.actionsNav||{},this.p.actionsNavOptions||{},(t.colModel||{}).formatoptions||{}),p=[{action:"edit",actionName:"formedit",display:h.editformbutton},{action:"edit",display:!h.editformbutton&&h.editbutton},{action:"del",idPrefix:"Delete",display:h.delbutton},{action:"save",display:h.editformbutton||h.editbutton,hidden:!0},{action:"cancel",display:h.editformbutton||h.editbutton,hidden:!0}],f=function(e){var t,i=e.action,n=e.actionName||i,o=void 0!==e.idPrefix?e.idPrefix:i.charAt(0).toUpperCase()+i.substring(1);return"<div title='"+encodeAttr(h[i+"title"])+(e.hidden?"' style='display:none;":"")+"' class='"+encodeAttr(c.jqGrid("getGuiStyles","actionsButton","ui-pg-div ui-inline-"+i))+"' "+(null!==o?"id='j"+encodeAttr(o+"Button_"+a):"")+"' data-jqactionname=\""+n+'" '+(e.noHovering?"":'\' data-jqhovering="1" ')+"><span class='"+encodeAttr((t=i,jgrid.mergeCssClasses(h.commonIconClass,h[t+"icon"])))+"'></span></div>"},m=null!=h.custom?h.custom.length-1:-1;if(void 0===a||fmatter.isEmpty(a))return"";if($.isFunction(h.isDisplayButtons))try{d=h.isDisplayButtons.call(this,h,i,n)||{}}catch(e){}for(;0<=m;)p["first"===(s=h.custom[m--]).position?"unshift":"push"](s);for(o=0,m=p.length;o<m;o++)!1!==(r=$.extend({},p[o],d[p[o].action]||{})).display&&(l+=f(r));return"<div class='"+encodeAttr(c.jqGrid("getGuiStyles","actionsDiv","ui-jqgrid-actions"))+"'>"+l+"</div>"},$FnFmatter.actions.pageFinalization=function(e){var t,i,n,o,r=$(this),s=this.p,a=s.colModel[e],l=s.autoResizing.wrapperClassName,c=r.jqGrid("getGuiStyles","states.hover"),d=this.rows,u=this.grid.fbRows,h=d.length,p=(o=a.name,function(e,t){var i,n,a=0,l=s.colModel,c=l.length,d=s.iColByName[o];for(n=0;n<c&&!0===l[n].frozen;n++)a=n;null!=t&&null!=t.cells&&(i=$(t.cells[d]).children(".ui-jqgrid-actions"),l[d].frozen&&s.frozenColumns&&d<=a&&(i=i.add($(r[0].grid.fbRows[t.rowIndex].cells[d]).children(".ui-jqgrid-actions"))),e?(i.find(">.ui-inline-edit,>.ui-inline-del").show(),i.find(">.ui-inline-save,>.ui-inline-cancel").hide()):(i.find(">.ui-inline-edit,>.ui-inline-del").hide(),i.find(">.ui-inline-save,>.ui-inline-cancel").show()))}),f=function(e,t){var i=r.jqGrid("getGridRowById",t);return p(!0,i),!1},m=function(e,t){var i=r.jqGrid("getGridRowById",t);return p(!1,i),!1},g=function(e){1===$(e.target).closest("div.ui-pg-div").data("jqhovering")&&$(this).addClass(c)},v=function(e){1===$(e.target).closest("div.ui-pg-div").data("jqhovering")&&$(this).removeClass(c)},b=function(e){return $FnFmatter.rowactions.call(this,e,$(e.target).closest("div.ui-pg-div").data("jqactionname"))},y=function(e,t){t&&null!=e&&$(e.firstChild).hasClass(l)&&(e=e.firstChild),null!=e&&($(e.firstChild).on("click",b),$(e.firstChild).children("div.ui-pg-div").on("mouseover",g).on("mouseout",v))},w=(n=a.name,function(e,t){var i=s.iColByName[n];y(t.tr.cells[i],s.colModel[i].autoResizable)});for(null!=a.formatoptions&&a.formatoptions.editformbutton||(r.off("jqGridInlineAfterRestoreRow.jqGridFormatter jqGridInlineAfterSaveRow.jqGridFormatter",f),r.on("jqGridInlineAfterRestoreRow.jqGridFormatter jqGridInlineAfterSaveRow.jqGridFormatter",f),r.off("jqGridInlineEditRow.jqGridFormatter",m),r.on("jqGridInlineEditRow.jqGridFormatter",m),r.off("jqGridAfterAddRow.jqGridFormatter",w),r.on("jqGridAfterAddRow.jqGridFormatter",w)),t=0;t<h;t++)i=d[t],$(i).hasClass("jqgrow")&&(y(i.cells[e],a.autoResizable),null!=u&&null!=u[t]&&y(u[t].cells[e],a.autoResizable))},$.unformat=function(e,t,i,n){var o,r=t.colModel,s=r.formatter,a=this.p,l=r.formatoptions||{},c=r.unformat||$FnFmatter[s]&&$FnFmatter[s].unformat;if(e instanceof jQuery&&0<e.length&&(e=e[0]),a.treeGrid&&null!=e&&$(e.firstChild).hasClass("tree-wrap")&&($(e.lastChild).hasClass("cell-wrapper")||$(e.lastChild).hasClass("cell-wrapperleaf"))&&(e=e.lastChild),r.autoResizable&&null!=e&&$(e.firstChild).hasClass(a.autoResizing.wrapperClassName)&&(e=e.firstChild),void 0!==c&&$.isFunction(c))o=c.call(this,$(e).text(),t,e);else if(void 0!==s&&"string"==typeof s){var d=$(this),u=function(e,t){return void 0!==l[t]?l[t]:getGridRes.call(d,"formatter."+e+"."+t)},h=function(e,t){var i=u(e,"thousandsSeparator").replace(/([\.\*\_\'\(\)\{\}\+\?\\])/g,"\\$1");return t.replace(new RegExp(i,"g"),"")};switch(s){case"integer":o=h("integer",$(e).text());break;case"number":o=h("number",$(e).text()).replace(u("number","decimalSeparator"),".");break;case"currency":o=$(e).text();var p=u("currency","prefix"),f=u("currency","suffix");p&&p.length&&(o=o.substr(p.length)),f&&f.length&&(o=o.substr(0,o.length-f.length)),o=h("number",o).replace(u("number","decimalSeparator"),".");break;case"checkbox":o=$FnFmatter.checkbox.unformat(e,t,e);break;case"select":o=$.unformat.select(e,t,i,n);break;case"actions":return"";default:o=$(e).text()}}return void 0!==o?o:!0===n?$(e).text():jgrid.htmlDecode($(e).html())},$.unformat.select=function(e,t,i,n){var o=[],r=$(e).text(),s=t.colModel;if(!0===n)return r;var a=$.extend({},s.editoptions||{},s.formatoptions||{}),l=void 0===a.separator?":":a.separator,c=void 0===a.delimiter?";":a.delimiter;if(a.value){var d,u="function"==typeof a.value?a.value():a.value,h=!0===a.multiple,p=[],f=function(e,t){if(0<t)return e};if(h&&(p=r.split(","),p=$.map(p,(function(e){return $.trim(e)}))),"string"==typeof u){var m,g=u.split(c),v=0;for(m=0;m<g.length;m++)if(2<(d=g[m].split(l)).length&&(d[1]=$.map(d,f).join(l)),h)-1<$.inArray($.trim(d[1]),p)&&(o[v]=d[0],v++);else if($.trim(d[1])===$.trim(r)){o[0]=d[0];break}}else(fmatter.isObject(u)||$.isArray(u))&&(h||(p[0]=r),o=$.map(p,(function(e){var t;if($.each(u,(function(i,n){if(n===e)return t=i,!1})),void 0!==t)return t})));return o.join(", ")}return r||""},$.unformat.date=function(e,t){var i=$.extend(!0,{},getGridRes.call($(this),"formatter.date"),jgrid.formatter.date||{},t.formatoptions||{});return fmatter.isEmpty(e)?"":jgrid.parseDate.call(this,i.newformat,e,i.srcformat,i)}}))},251:(e,t)=>{t.read=function(e,t,i,n,o){var r,s,a=8*o-n-1,l=(1<<a)-1,c=l>>1,d=-7,u=i?o-1:0,h=i?-1:1,p=e[t+u];for(u+=h,r=p&(1<<-d)-1,p>>=-d,d+=a;d>0;r=256*r+e[t+u],u+=h,d-=8);for(s=r&(1<<-d)-1,r>>=-d,d+=n;d>0;s=256*s+e[t+u],u+=h,d-=8);if(0===r)r=1-c;else{if(r===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),r-=c}return(p?-1:1)*s*Math.pow(2,r-n)},t.write=function(e,t,i,n,o,r){var s,a,l,c=8*r-o-1,d=(1<<c)-1,u=d>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:r-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+u>=1?h/l:h*Math.pow(2,1-u))*l>=2&&(s++,l/=2),s+u>=d?(a=0,s=d):s+u>=1?(a=(t*l-1)*Math.pow(2,o),s+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,o),s=0));o>=8;e[i+p]=255&a,p+=f,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[i+p]=255&s,p+=f,s/=256,c-=8);e[i+p-f]|=128*m}},4634:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},5314:(e,t,i)=>{var n,o,r,s;!function(){"use strict";var e,t,i,n,o,r;r=864e5,e=function(e,t){return"string"==typeof e&&"string"==typeof t&&e.toLowerCase()===t.toLowerCase()},t=function(e,i,n){var o=n||"0",r=e.toString();return r.length<i?t(o+r,i):r},i=function(e){var t,n;for(e=e||{},t=1;t<arguments.length;t++)if(n=arguments[t])for(var o in n)n.hasOwnProperty(o)&&("object"==typeof n[o]?i(e[o],n[o]):e[o]=n[o]);return e},n=function(e,t){for(var i=0;i<t.length;i++)if(t[i].toLowerCase()===e.toLowerCase())return i;return-1},o={dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function(e){var t=e%10,i={1:"st",2:"nd",3:"rd"};return 1!==Math.floor(e%100/10)&&i[t]?i[t]:"th"}},separators:/[ \-+\/\.T:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g},s=function(e){var t=this,n=i(o,e);t.dateSettings=n.dateSettings,t.separators=n.separators,t.validParts=n.validParts,t.intParts=n.intParts,t.tzParts=n.tzParts,t.tzClip=n.tzClip},s.prototype={constructor:s,getMonth:function(e){var t;return 0===(t=n(e,this.dateSettings.monthsShort)+1)&&(t=n(e,this.dateSettings.months)+1),t},parseDate:function(t,i){var n,o,r,s,a,l,c,d,u,h,p=this,f=!1,m=!1,g=p.dateSettings,v={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(!t)return null;if(t instanceof Date)return t;if("U"===i)return(r=parseInt(t))?new Date(1e3*r):t;switch(typeof t){case"number":return new Date(t);case"string":break;default:return null}if(!(n=i.match(p.validParts))||0===n.length)throw new Error("Invalid date format definition.");for(o=t.replace(p.separators,"\0").split("\0"),r=0;r<o.length;r++)switch(s=o[r],a=parseInt(s),n[r]){case"y":case"Y":if(!a)return null;u=s.length,v.year=2===u?parseInt((70>a?"20":"19")+s):a,f=!0;break;case"m":case"n":case"M":case"F":if(isNaN(a)){if(!((l=p.getMonth(s))>0))return null;v.month=l}else{if(!(a>=1&&12>=a))return null;v.month=a}f=!0;break;case"d":case"j":if(!(a>=1&&31>=a))return null;v.day=a,f=!0;break;case"g":case"h":if(h=o[c=n.indexOf("a")>-1?n.indexOf("a"):n.indexOf("A")>-1?n.indexOf("A"):-1],c>-1)d=e(h,g.meridiem[0])?0:e(h,g.meridiem[1])?12:-1,a>=1&&12>=a&&d>-1?v.hour=a+d-1:a>=0&&23>=a&&(v.hour=a);else{if(!(a>=0&&23>=a))return null;v.hour=a}m=!0;break;case"G":case"H":if(!(a>=0&&23>=a))return null;v.hour=a,m=!0;break;case"i":if(!(a>=0&&59>=a))return null;v.min=a,m=!0;break;case"s":if(!(a>=0&&59>=a))return null;v.sec=a,m=!0}if(!0===f&&v.year&&v.month&&v.day)v.date=new Date(v.year,v.month-1,v.day,v.hour,v.min,v.sec,0);else{if(!0!==m)return null;v.date=new Date(0,0,0,v.hour,v.min,v.sec,0)}return v.date},guessDate:function(e,t){if("string"!=typeof e)return e;var i,n,o,r,s,a,l=e.replace(this.separators,"\0").split("\0"),c=t.match(this.validParts),d=new Date,u=0;if(!/^[djmn]/g.test(c[0]))return e;for(o=0;o<l.length;o++){if(u=2,s=l[o],a=parseInt(s.substr(0,2)),isNaN(a))return null;switch(o){case 0:"m"===c[0]||"n"===c[0]?d.setMonth(a-1):d.setDate(a);break;case 1:"m"===c[0]||"n"===c[0]?d.setDate(a):d.setMonth(a-1);break;case 2:if(n=d.getFullYear(),u=4>(i=s.length)?i:4,!(n=parseInt(4>i?n.toString().substr(0,4-i)+s:s.substr(0,4))))return null;d.setFullYear(n);break;case 3:d.setHours(a);break;case 4:d.setMinutes(a);break;case 5:d.setSeconds(a)}(r=s.substr(u)).length>0&&l.splice(o+1,0,r)}return d},parseFormat:function(e,i){var n,o=this,s=o.dateSettings,a=/\\?(.?)/gi,l=function(e,t){return n[e]?n[e]():t};return n={d:function(){return t(n.j(),2)},D:function(){return s.daysShort[n.w()]},j:function(){return i.getDate()},l:function(){return s.days[n.w()]},N:function(){return n.w()||7},w:function(){return i.getDay()},z:function(){var e=new Date(n.Y(),n.n()-1,n.j()),t=new Date(n.Y(),0,1);return Math.round((e-t)/r)},W:function(){var e=new Date(n.Y(),n.n()-1,n.j()-n.N()+3),i=new Date(e.getFullYear(),0,4);return t(1+Math.round((e-i)/r/7),2)},F:function(){return s.months[i.getMonth()]},m:function(){return t(n.n(),2)},M:function(){return s.monthsShort[i.getMonth()]},n:function(){return i.getMonth()+1},t:function(){return new Date(n.Y(),n.n(),0).getDate()},L:function(){var e=n.Y();return e%4==0&&e%100!=0||e%400==0?1:0},o:function(){var e=n.n(),t=n.W();return n.Y()+(12===e&&9>t?1:1===e&&t>9?-1:0)},Y:function(){return i.getFullYear()},y:function(){return n.Y().toString().slice(-2)},a:function(){return n.A().toLowerCase()},A:function(){var e=n.G()<12?0:1;return s.meridiem[e]},B:function(){var e=3600*i.getUTCHours(),n=60*i.getUTCMinutes(),o=i.getUTCSeconds();return t(Math.floor((e+n+o+3600)/86.4)%1e3,3)},g:function(){return n.G()%12||12},G:function(){return i.getHours()},h:function(){return t(n.g(),2)},H:function(){return t(n.G(),2)},i:function(){return t(i.getMinutes(),2)},s:function(){return t(i.getSeconds(),2)},u:function(){return t(1e3*i.getMilliseconds(),6)},e:function(){return/\((.*)\)/.exec(String(i))[1]||"Coordinated Universal Time"},I:function(){return new Date(n.Y(),0)-Date.UTC(n.Y(),0)!=new Date(n.Y(),6)-Date.UTC(n.Y(),6)?1:0},O:function(){var e=i.getTimezoneOffset(),n=Math.abs(e);return(e>0?"-":"+")+t(100*Math.floor(n/60)+n%60,4)},P:function(){var e=n.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return(String(i).match(o.tzParts)||[""]).pop().replace(o.tzClip,"")||"UTC"},Z:function(){return 60*-i.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(a,l)},r:function(){return"D, d M Y H:i:s O".replace(a,l)},U:function(){return i.getTime()/1e3||0}},l(e,e)},formatDate:function(e,t){var i,n,o,r,s,a=this,l="";if("string"==typeof e&&!(e=a.parseDate(e,t)))return null;if(e instanceof Date){for(o=t.length,i=0;o>i;i++)"S"!==(s=t.charAt(i))&&"\\"!==s&&(i>0&&"\\"===t.charAt(i-1)?l+=s:(r=a.parseFormat(s,e),i!==o-1&&a.intParts.test(s)&&"S"===t.charAt(i+1)&&(n=parseInt(r)||0,r+=a.dateSettings.ordinal(n)),l+=r));return l}return""}}}();var a;a=function(e){"use strict";var t={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeekShort:["ن","ث","ع","خ","ج","س","ح"],dayOfWeek:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت","الأحد"]},ro:{months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],dayOfWeekShort:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],dayOfWeek:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeekShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],dayOfWeek:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},is:{months:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],dayOfWeekShort:["Sun","Mán","Þrið","Mið","Fim","Fös","Lau"],dayOfWeek:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeekShort:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeekShort:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],dayOfWeek:["یک‌شنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنج‌شنبه","جمعه","شنبه","یک‌شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeekShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeekShort:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"],dayOfWeek:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeekShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayOfWeek:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeekShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayOfWeek:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeekShort:["zo","ma","di","wo","do","vr","za"],dayOfWeek:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeekShort:["Paz","Pts","Sal","Çar","Per","Cum","Cts"],dayOfWeek:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeekShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayOfWeek:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeekShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],dayOfWeek:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeekShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayOfWeek:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัส","ศุกร์","เสาร์","อาทิตย์"]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeekShort:["nd","pn","wt","śr","cz","pt","sb"],dayOfWeek:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},km:{months:["មករា​","កុម្ភៈ","មិនា​","មេសា​","ឧសភា​","មិថុនា​","កក្កដា​","សីហា​","កញ្ញា​","តុលា​","វិច្ឆិកា","ធ្នូ​"],dayOfWeekShort:["អាទិ​","ច័ន្ទ​","អង្គារ​","ពុធ​","ព្រហ​​","សុក្រ​","សៅរ៍"],dayOfWeek:["អាទិត្យ​","ច័ន្ទ​","អង្គារ​","ពុធ​","ព្រហស្បតិ៍​","សុក្រ​","សៅរ៍"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayOfWeek:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]},da:{months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeekShort:["日","月","火","水","木","金","土"],dayOfWeek:["日曜","月曜","火曜","水曜","木曜","金曜","土曜"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeekShort:["CN","T2","T3","T4","T5","T6","T7"],dayOfWeek:["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeekShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"],dayOfWeek:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeekShort:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeekShort:["Va","Hé","Ke","Sze","Cs","Pé","Szo"],dayOfWeek:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeekShort:["B","Be","Ça","Ç","Ca","C","Ş"],dayOfWeek:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ca:{months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeekShort:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],dayOfWeek:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},et:{months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeekShort:["P","E","T","K","N","R","L"],dayOfWeek:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeekShort:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."],dayOfWeek:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeekShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayOfWeek:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"],dayOfWeek:["Domingo","Luns","Martes","Mércores","Xoves","Venres","Sábado"]},hr:{months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ko:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},lt:{months:["Sausio","Vasario","Kovo","Balandžio","Gegužės","Birželio","Liepos","Rugpjūčio","Rugsėjo","Spalio","Lapkričio","Gruodžio"],dayOfWeekShort:["Sek","Pir","Ant","Tre","Ket","Pen","Šeš"],dayOfWeek:["Sekmadienis","Pirmadienis","Antradienis","Trečiadienis","Ketvirtadienis","Penktadienis","Šeštadienis"]},lv:{months:["Janvāris","Februāris","Marts","Aprīlis ","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeekShort:["Sv","Pr","Ot","Tr","Ct","Pk","St"],dayOfWeek:["Svētdiena","Pirmdiena","Otrdiena","Trešdiena","Ceturtdiena","Piektdiena","Sestdiena"]},mk:{months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],dayOfWeekShort:["нед","пон","вто","сре","чет","пет","саб"],dayOfWeek:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота"]},mn:{months:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],dayOfWeekShort:["Дав","Мяг","Лха","Пүр","Бсн","Бям","Ням"],dayOfWeek:["Даваа","Мягмар","Лхагва","Пүрэв","Баасан","Бямба","Ням"]},"pt-BR":{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},sk:{months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],dayOfWeekShort:["Ne","Po","Ut","St","Št","Pi","So"],dayOfWeek:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"]},sq:{months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"],dayOfWeekShort:["Die","Hën","Mar","Mër","Enj","Pre","Shtu"],dayOfWeek:["E Diel","E Hënë","E Martē","E Mërkurë","E Enjte","E Premte","E Shtunë"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sre","čet","Pet","Sub"],dayOfWeek:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota"]},sr:{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],dayOfWeekShort:["нед","пон","уто","сре","чет","пет","суб"],dayOfWeek:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayOfWeek:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"]},"zh-TW":{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},zh:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},ug:{months:["1-ئاي","2-ئاي","3-ئاي","4-ئاي","5-ئاي","6-ئاي","7-ئاي","8-ئاي","9-ئاي","10-ئاي","11-ئاي","12-ئاي"],dayOfWeek:["يەكشەنبە","دۈشەنبە","سەيشەنبە","چارشەنبە","پەيشەنبە","جۈمە","شەنبە"]},he:{months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],dayOfWeekShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],dayOfWeek:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת","ראשון"]},hy:{months:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],dayOfWeekShort:["Կի","Երկ","Երք","Չոր","Հնգ","Ուրբ","Շբթ"],dayOfWeek:["Կիրակի","Երկուշաբթի","Երեքշաբթի","Չորեքշաբթի","Հինգշաբթի","Ուրբաթ","Շաբաթ"]},kg:{months:["Үчтүн айы","Бирдин айы","Жалган Куран","Чын Куран","Бугу","Кулжа","Теке","Баш Оона","Аяк Оона","Тогуздун айы","Жетинин айы","Бештин айы"],dayOfWeekShort:["Жек","Дүй","Шей","Шар","Бей","Жум","Ише"],dayOfWeek:["Жекшемб","Дүйшөмб","Шейшемб","Шаршемб","Бейшемби","Жума","Ишенб"]},rm:{months:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],dayOfWeekShort:["Du","Gli","Ma","Me","Gie","Ve","So"],dayOfWeek:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"]},ka:{months:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომბერი","ნოემბერი","დეკემბერი"],dayOfWeekShort:["კვ","ორშ","სამშ","ოთხ","ხუთ","პარ","შაბ"],dayOfWeek:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი"]}},ownerDocument:document,contentWindow:window,value:"",rtl:!1,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,openOnFocus:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,minDateTime:!1,maxDateTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",touchMovedThreshold:5,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onGetWeekOfYear:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],allowDates:[],allowDateRe:null,disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1,insideParent:!1},i=null,n=null,o="en",r={meridiem:["AM","PM"]},a=function(){var a=t.i18n[o],l={days:a.dayOfWeek,daysShort:a.dayOfWeekShort,months:a.months,monthsShort:e.map(a.months,(function(e){return e.substring(0,3)}))};"function"==typeof s&&(i=n=new s({dateSettings:e.extend({},r,l)}))},l={moment:{default_options:{format:"YYYY/MM/DD HH:mm",formatDate:"YYYY/MM/DD",formatTime:"HH:mm"},formatter:{parseDate:function(e,t){if(d(t))return n.parseDate(e,t);var i=moment(e,t);return!!i.isValid()&&i.toDate()},formatDate:function(e,t){return d(t)?n.formatDate(e,t):moment(e).format(t)},formatMask:function(e){return e.replace(/Y{4}/g,"9999").replace(/Y{2}/g,"99").replace(/M{2}/g,"19").replace(/D{2}/g,"39").replace(/H{2}/g,"29").replace(/m{2}/g,"59").replace(/s{2}/g,"59")}}}};e.datetimepicker={setLocale:function(e){var i=t.i18n[e]?e:"en";o!==i&&(o=i,a())},setDateFormatter:function(n){if("string"==typeof n&&l.hasOwnProperty(n)){var o=l[n];e.extend(t,o.default_options),i=o.formatter}else i=n}};var c={RFC_2822:"D, d M Y H:i:s O",ATOM:"Y-m-dTH:i:sP",ISO_8601:"Y-m-dTH:i:sO",RFC_822:"D, d M y H:i:s O",RFC_850:"l, d-M-y H:i:s T",RFC_1036:"D, d M y H:i:s O",RFC_1123:"D, d M Y H:i:s O",RSS:"D, d M Y H:i:s O",W3C:"Y-m-dTH:i:sP"},d=function(e){return-1!==Object.values(c).indexOf(e)};function u(e,t,i){this.date=e,this.desc=t,this.style=i}e.extend(e.datetimepicker,c),a(),window.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var i=/(-([a-z]))/g;return"float"===t&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,(function(e,t,i){return i.toUpperCase()}))),e.currentStyle[t]||null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var i,n;for(i=t||0,n=this.length;i<n;i+=1)if(this[i]===e)return i;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},e.fn.xdsoftScroller=function(t,i){return this.each((function(){var n,o,r,s,a,l=e(this),c=function(e){var t,i={x:0,y:0};return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type?(t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],i.x=t.clientX,i.y=t.clientY):"mousedown"!==e.type&&"mouseup"!==e.type&&"mousemove"!==e.type&&"mouseover"!==e.type&&"mouseout"!==e.type&&"mouseenter"!==e.type&&"mouseleave"!==e.type||(i.x=e.clientX,i.y=e.clientY),i},d=100,u=!1,h=0,p=0,f=0,m=!1,g=0,v=function(){};"hide"!==i?(e(this).hasClass("xdsoft_scroller_box")||(n=l.children().eq(0),o=l[0].clientHeight,r=n[0].offsetHeight,s=e('<div class="xdsoft_scrollbar"></div>'),a=e('<div class="xdsoft_scroller"></div>'),s.append(a),l.addClass("xdsoft_scroller_box").append(s),v=function(e){var t=c(e).y-h+g;t<0&&(t=0),t+a[0].offsetHeight>f&&(t=f-a[0].offsetHeight),l.trigger("scroll_element.xdsoft_scroller",[d?t/d:0])},a.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",(function(n){o||l.trigger("resize_scroll.xdsoft_scroller",[i]),h=c(n).y,g=parseInt(a.css("margin-top"),10),f=s[0].offsetHeight,"mousedown"===n.type||"touchstart"===n.type?(t.ownerDocument&&e(t.ownerDocument.body).addClass("xdsoft_noselect"),e([t.ownerDocument.body,t.contentWindow]).on("touchend mouseup.xdsoft_scroller",(function i(){e([t.ownerDocument.body,t.contentWindow]).off("touchend mouseup.xdsoft_scroller",i).off("mousemove.xdsoft_scroller",v).removeClass("xdsoft_noselect")})),e(t.ownerDocument.body).on("mousemove.xdsoft_scroller",v)):(m=!0,n.stopPropagation(),n.preventDefault())})).on("touchmove",(function(e){m&&(e.preventDefault(),v(e))})).on("touchend touchcancel",(function(){m=!1,g=0})),l.on("scroll_element.xdsoft_scroller",(function(e,t){o||l.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:t<0||isNaN(t)?0:t,a.css("margin-top",d*t),setTimeout((function(){n.css("marginTop",-parseInt((n[0].offsetHeight-o)*t,10))}),10)})).on("resize_scroll.xdsoft_scroller",(function(e,t,i){var c,u;o=l[0].clientHeight,r=n[0].offsetHeight,u=(c=o/r)*s[0].offsetHeight,c>1?a.hide():(a.show(),a.css("height",parseInt(u>10?u:10,10)),d=s[0].offsetHeight-a[0].offsetHeight,!0!==i&&l.trigger("scroll_element.xdsoft_scroller",[t||Math.abs(parseInt(n.css("marginTop"),10))/(r-o)]))})),l.on("mousewheel",(function(e){var t=Math.abs(parseInt(n.css("marginTop"),10));return(t-=20*e.deltaY)<0&&(t=0),l.trigger("scroll_element.xdsoft_scroller",[t/(r-o)]),e.stopPropagation(),!1})),l.on("touchstart",(function(e){u=c(e),p=Math.abs(parseInt(n.css("marginTop"),10))})),l.on("touchmove",(function(e){if(u){e.preventDefault();var t=c(e);l.trigger("scroll_element.xdsoft_scroller",[(p-(t.y-u.y))/(r-o)])}})),l.on("touchend touchcancel",(function(){u=!1,p=0}))),l.trigger("resize_scroll.xdsoft_scroller",[i])):l.find(".xdsoft_scrollbar").hide()}))},e.fn.datetimepicker=function(n,r){var s,a,l=this,c=17,d=13,h=27,p=37,f=38,m=39,g=40,v=9,b=116,y=65,w=67,x=86,C=90,k=89,S=!1,$=e.isPlainObject(n)||!n?e.extend(!0,{},t,n):e.extend(!0,{},t),_=0;return s=function(t){var r,s,a,l,_,D,T=e('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),j=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),O=e('<div class="xdsoft_datepicker active"></div>'),I=e('<div class="xdsoft_monthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),E=e('<div class="xdsoft_calendar"></div>'),R=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),P=R.find(".xdsoft_time_box").eq(0),A=e('<div class="xdsoft_time_variant"></div>'),N=e('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),F=e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),M=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),L=!1,z=0;$.id&&T.attr("id",$.id),$.style&&T.attr("style",$.style),$.weeks&&T.addClass("xdsoft_showweeks"),$.rtl&&T.addClass("xdsoft_rtl"),T.addClass("xdsoft_"+$.theme),T.addClass($.className),I.find(".xdsoft_month span").after(F),I.find(".xdsoft_year span").after(M),I.find(".xdsoft_month,.xdsoft_year").on("touchstart mousedown.xdsoft",(function(t){var i,n,o=e(this).find(".xdsoft_select").eq(0),r=0,s=0,a=o.is(":visible");for(I.find(".xdsoft_select").hide(),_.currentTime&&(r=_.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),o[a?"hide":"show"](),i=o.find("div.xdsoft_option"),n=0;n<i.length&&i.eq(n).data("value")!==r;n+=1)s+=i[0].offsetHeight;return o.xdsoftScroller($,s/(o.children()[0].offsetHeight-o[0].clientHeight)),t.stopPropagation(),!1}));var q=function(e){var t=e.originalEvent,i=t.touches?t.touches[0]:t;this.touchStartPosition=this.touchStartPosition||i;var n=Math.abs(this.touchStartPosition.clientX-i.clientX),o=Math.abs(this.touchStartPosition.clientY-i.clientY);Math.sqrt(n*n+o*o)>$.touchMovedThreshold&&(this.touchMoved=!0)};function B(){var e,i=!1;return $.startDate?i=_.strToDate($.startDate):(i=$.value||(t&&t.val&&t.val()?t.val():""))?(i=_.strToDateTime(i),$.yearOffset&&(i=new Date(i.getFullYear()-$.yearOffset,i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))):$.defaultDate&&(i=_.strToDateTime($.defaultDate),$.defaultTime&&(e=_.strtotime($.defaultTime),i.setHours(e.getHours()),i.setMinutes(e.getMinutes()))),i&&_.isValidDate(i)?T.data("changed",!0):i="",i||0}function H(n){var o=function(e,t){var i=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(i).test(t)},r=function(e,t){if(!(e="string"==typeof e||e instanceof String?n.ownerDocument.getElementById(e):e))return!1;if(e.createTextRange){var i=e.createTextRange();return i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select(),!0}return!!e.setSelectionRange&&(e.setSelectionRange(t,t),!0)};n.mask&&t.off("keydown.xdsoft"),!0===n.mask&&(i.formatMask?n.mask=i.formatMask(n.format):n.mask=n.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===e.type(n.mask)&&(o(n.mask,t.val())||(t.val(n.mask.replace(/[0-9]/g,"_")),r(t[0],0)),t.on("paste.xdsoft",(function(i){var s=(i.clipboardData||i.originalEvent.clipboardData||window.clipboardData).getData("text"),a=this.value,l=this.selectionStart,c=a.substr(0,l),d=a.substr(l+s.length);return a=c+s+d,l+=s.length,o(n.mask,a)?(this.value=a,r(this,l)):""===e.trim(a)?this.value=n.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft"),i.preventDefault(),!1})),t.on("keydown.xdsoft",(function(i){var s,a=this.value,l=i.which,u=this.selectionStart,$=this.selectionEnd,_=u!==$;if(l>=48&&l<=57||l>=96&&l<=105||8===l||46===l){for(s=8===l||46===l?"_":String.fromCharCode(96<=l&&l<=105?l-48:l),8===l&&u&&!_&&(u-=1);;){var D=n.mask.substr(u,1),T=u<n.mask.length,j=u>0;if(!(/[^0-9_]/.test(D)&&T&&j))break;u+=8!==l||_?1:-1}if(i.metaKey&&(u=0,_=!0),_){var O=$-u,I=n.mask.replace(/[0-9]/g,"_"),E=I.substr(u,O).substr(1),R=a.substr(0,u),P=s+E,A=a.substr(u+O);a=R+P+A}else{var N=a.substr(0,u),F=s,M=a.substr(u+1);a=N+F+M}if(""===e.trim(a))a=I;else if(u===n.mask.length)return i.preventDefault(),!1;for(u+=8===l?0:1;/[^0-9_]/.test(n.mask.substr(u,1))&&u<n.mask.length&&u>0;)u+=8===l?0:1;o(n.mask,a)?(this.value=a,r(this,u)):""===e.trim(a)?this.value=n.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft")}else if(-1!==[y,w,x,C,k].indexOf(l)&&S||-1!==[h,f,g,p,m,b,c,v,d].indexOf(l))return!0;return i.preventDefault(),!1})))}I.find(".xdsoft_select").xdsoftScroller($).on("touchstart mousedown.xdsoft",(function(e){var t=e.originalEvent;this.touchMoved=!1,this.touchStartPosition=t.touches?t.touches[0]:t,e.stopPropagation(),e.preventDefault()})).on("touchmove",".xdsoft_option",q).on("touchend mousedown.xdsoft",".xdsoft_option",(function(){if(!this.touchMoved){void 0!==_.currentTime&&null!==_.currentTime||(_.currentTime=_.now());var t=_.currentTime.getFullYear();_&&_.currentTime&&_.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),T.trigger("xchange.xdsoft"),$.onChangeMonth&&e.isFunction($.onChangeMonth)&&$.onChangeMonth.call(T,_.currentTime,T.data("input")),t!==_.currentTime.getFullYear()&&e.isFunction($.onChangeYear)&&$.onChangeYear.call(T,_.currentTime,T.data("input"))}})),T.getValue=function(){return _.getCurrentTime()},T.setOptions=function(n){var o={};$=e.extend(!0,{},$,n),n.allowTimes&&e.isArray(n.allowTimes)&&n.allowTimes.length&&($.allowTimes=e.extend(!0,[],n.allowTimes)),n.weekends&&e.isArray(n.weekends)&&n.weekends.length&&($.weekends=e.extend(!0,[],n.weekends)),n.allowDates&&e.isArray(n.allowDates)&&n.allowDates.length&&($.allowDates=e.extend(!0,[],n.allowDates)),n.allowDateRe&&"[object String]"===Object.prototype.toString.call(n.allowDateRe)&&($.allowDateRe=new RegExp(n.allowDateRe)),n.highlightedDates&&e.isArray(n.highlightedDates)&&n.highlightedDates.length&&(e.each(n.highlightedDates,(function(t,n){var r,s=e.map(n.split(","),e.trim),a=new u(i.parseDate(s[0],$.formatDate),s[1],s[2]),l=i.formatDate(a.date,$.formatDate);void 0!==o[l]?(r=o[l].desc)&&r.length&&a.desc&&a.desc.length&&(o[l].desc=r+"\n"+a.desc):o[l]=a})),$.highlightedDates=e.extend(!0,[],o)),n.highlightedPeriods&&e.isArray(n.highlightedPeriods)&&n.highlightedPeriods.length&&(o=e.extend(!0,[],$.highlightedDates),e.each(n.highlightedPeriods,(function(t,n){var r,s,a,l,c,d,h;if(e.isArray(n))r=n[0],s=n[1],a=n[2],h=n[3];else{var p=e.map(n.split(","),e.trim);r=i.parseDate(p[0],$.formatDate),s=i.parseDate(p[1],$.formatDate),a=p[2],h=p[3]}for(;r<=s;)l=new u(r,a,h),c=i.formatDate(r,$.formatDate),r.setDate(r.getDate()+1),void 0!==o[c]?(d=o[c].desc)&&d.length&&l.desc&&l.desc.length&&(o[c].desc=d+"\n"+l.desc):o[c]=l})),$.highlightedDates=e.extend(!0,[],o)),n.disabledDates&&e.isArray(n.disabledDates)&&n.disabledDates.length&&($.disabledDates=e.extend(!0,[],n.disabledDates)),n.disabledWeekDays&&e.isArray(n.disabledWeekDays)&&n.disabledWeekDays.length&&($.disabledWeekDays=e.extend(!0,[],n.disabledWeekDays)),!$.open&&!$.opened||$.inline||t.trigger("open.xdsoft"),$.inline&&(L=!0,T.addClass("xdsoft_inline"),t.after(T).hide()),$.inverseButton&&($.next="xdsoft_prev",$.prev="xdsoft_next"),$.datepicker?O.addClass("active"):O.removeClass("active"),$.timepicker?R.addClass("active"):R.removeClass("active"),$.value&&(_.setCurrentTime($.value),t&&t.val&&t.val(_.str)),isNaN($.dayOfWeekStart)?$.dayOfWeekStart=0:$.dayOfWeekStart=parseInt($.dayOfWeekStart,10)%7,$.timepickerScrollbar||P.xdsoftScroller($,"hide"),$.minDate&&/^[\+\-](.*)$/.test($.minDate)&&($.minDate=i.formatDate(_.strToDateTime($.minDate),$.formatDate)),$.maxDate&&/^[\+\-](.*)$/.test($.maxDate)&&($.maxDate=i.formatDate(_.strToDateTime($.maxDate),$.formatDate)),$.minDateTime&&/^\+(.*)$/.test($.minDateTime)&&($.minDateTime=_.strToDateTime($.minDateTime).dateFormat($.formatDate)),$.maxDateTime&&/^\+(.*)$/.test($.maxDateTime)&&($.maxDateTime=_.strToDateTime($.maxDateTime).dateFormat($.formatDate)),N.toggle($.showApplyButton),I.find(".xdsoft_today_button").css("visibility",$.todayButton?"visible":"hidden"),I.find("."+$.prev).css("visibility",$.prevButton?"visible":"hidden"),I.find("."+$.next).css("visibility",$.nextButton?"visible":"hidden"),H($),$.validateOnBlur&&t.off("blur.xdsoft").on("blur.xdsoft",(function(){if($.allowBlank&&(!e.trim(e(this).val()).length||"string"==typeof $.mask&&e.trim(e(this).val())===$.mask.replace(/[0-9]/g,"_")))e(this).val(null),T.data("xdsoft_datetime").empty();else{var t=i.parseDate(e(this).val(),$.format);if(t)e(this).val(i.formatDate(t,$.format));else{var n=+[e(this).val()[0],e(this).val()[1]].join(""),o=+[e(this).val()[2],e(this).val()[3]].join("");!$.datepicker&&$.timepicker&&n>=0&&n<24&&o>=0&&o<60?e(this).val([n,o].map((function(e){return e>9?e:"0"+e})).join(":")):e(this).val(i.formatDate(_.now(),$.format))}T.data("xdsoft_datetime").setCurrentTime(e(this).val())}T.trigger("changedatetime.xdsoft"),T.trigger("close.xdsoft")})),$.dayOfWeekStartPrev=0===$.dayOfWeekStart?6:$.dayOfWeekStart-1,T.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},T.data("options",$).on("touchstart mousedown.xdsoft",(function(e){return e.stopPropagation(),e.preventDefault(),M.hide(),F.hide(),!1})),P.append(A),P.xdsoftScroller($),T.on("afterOpen.xdsoft",(function(){P.xdsoftScroller($)})),T.append(O).append(R),!0!==$.withoutCopyright&&T.append(j),O.append(I).append(E).append(N),$.insideParent?e(t).parent().append(T):e($.parentID).append(T),_=new function(){var t=this;t.now=function(e){var i,n,o=new Date;return!e&&$.defaultDate&&(i=t.strToDateTime($.defaultDate),o.setFullYear(i.getFullYear()),o.setMonth(i.getMonth()),o.setDate(i.getDate())),o.setFullYear(o.getFullYear()),!e&&$.defaultTime&&(n=t.strtotime($.defaultTime),o.setHours(n.getHours()),o.setMinutes(n.getMinutes()),o.setSeconds(n.getSeconds()),o.setMilliseconds(n.getMilliseconds())),o},t.isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t.setCurrentTime=function(e,i){"string"==typeof e?t.currentTime=t.strToDateTime(e):t.isValidDate(e)?t.currentTime=e:e||i||!$.allowBlank||$.inline?t.currentTime=t.now():t.currentTime=null,T.trigger("xchange.xdsoft")},t.empty=function(){t.currentTime=null},t.getCurrentTime=function(){return t.currentTime},t.nextMonth=function(){void 0!==t.currentTime&&null!==t.currentTime||(t.currentTime=t.now());var i,n=t.currentTime.getMonth()+1;return 12===n&&(t.currentTime.setFullYear(t.currentTime.getFullYear()+1),n=0),i=t.currentTime.getFullYear(),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),n+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(n),$.onChangeMonth&&e.isFunction($.onChangeMonth)&&$.onChangeMonth.call(T,_.currentTime,T.data("input")),i!==t.currentTime.getFullYear()&&e.isFunction($.onChangeYear)&&$.onChangeYear.call(T,_.currentTime,T.data("input")),T.trigger("xchange.xdsoft"),n},t.prevMonth=function(){void 0!==t.currentTime&&null!==t.currentTime||(t.currentTime=t.now());var i=t.currentTime.getMonth()-1;return-1===i&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),i=11),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),i+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(i),$.onChangeMonth&&e.isFunction($.onChangeMonth)&&$.onChangeMonth.call(T,_.currentTime,T.data("input")),T.trigger("xchange.xdsoft"),i},t.getWeekOfYear=function(t){if($.onGetWeekOfYear&&e.isFunction($.onGetWeekOfYear)){var i=$.onGetWeekOfYear.call(T,t);if(void 0!==i)return i}var n=new Date(t.getFullYear(),0,1);return 4!==n.getDay()&&n.setMonth(0,1+(4-n.getDay()+7)%7),Math.ceil(((t-n)/864e5+n.getDay()+1)/7)},t.strToDateTime=function(e){var n,o,r=[];return e&&e instanceof Date&&t.isValidDate(e)?e:((r=/^([+-]{1})(.*)$/.exec(e))&&(r[2]=i.parseDate(r[2],$.formatDate)),r&&r[2]?(n=r[2].getTime()-6e4*r[2].getTimezoneOffset(),o=new Date(t.now(!0).getTime()+parseInt(r[1]+"1",10)*n)):o=e?i.parseDate(e,$.format):t.now(),t.isValidDate(o)||(o=t.now()),o)},t.strToDate=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var n=e?i.parseDate(e,$.formatDate):t.now(!0);return t.isValidDate(n)||(n=t.now(!0)),n},t.strtotime=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var n=e?i.parseDate(e,$.formatTime):t.now(!0);return t.isValidDate(n)||(n=t.now(!0)),n},t.str=function(){var e=$.format;return $.yearOffset&&(e=(e=e.replace("Y",t.currentTime.getFullYear()+$.yearOffset)).replace("y",String(t.currentTime.getFullYear()+$.yearOffset).substring(2,4))),i.formatDate(t.currentTime,e)},t.currentTime=this.now()},N.on("touchend click",(function(e){e.preventDefault(),T.data("changed",!0),_.setCurrentTime(B()),t.val(_.str()),T.trigger("close.xdsoft")})),I.find(".xdsoft_today_button").on("touchend mousedown.xdsoft",(function(){T.data("changed",!0),_.setCurrentTime(0,!0),T.trigger("afterOpen.xdsoft")})).on("dblclick.xdsoft",(function(){var e,i,n=_.getCurrentTime();n=new Date(n.getFullYear(),n.getMonth(),n.getDate()),e=_.strToDate($.minDate),n<(e=new Date(e.getFullYear(),e.getMonth(),e.getDate()))||(i=_.strToDate($.maxDate),n>(i=new Date(i.getFullYear(),i.getMonth(),i.getDate()))||(t.val(_.str()),t.trigger("change"),T.trigger("close.xdsoft")))})),I.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",(function(){var t=e(this),i=0,n=!1;!function e(o){t.hasClass($.next)?_.nextMonth():t.hasClass($.prev)&&_.prevMonth(),$.monthChangeSpinner&&(n||(i=setTimeout(e,o||100)))}(500),e([$.ownerDocument.body,$.contentWindow]).on("touchend mouseup.xdsoft",(function t(){clearTimeout(i),n=!0,e([$.ownerDocument.body,$.contentWindow]).off("touchend mouseup.xdsoft",t)}))})),R.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",(function(){var t=e(this),i=0,n=!1,o=110;!function e(r){var s=P[0].clientHeight,a=A[0].offsetHeight,l=Math.abs(parseInt(A.css("marginTop"),10));t.hasClass($.next)&&a-s-$.timeHeightInTimePicker>=l?A.css("marginTop","-"+(l+$.timeHeightInTimePicker)+"px"):t.hasClass($.prev)&&l-$.timeHeightInTimePicker>=0&&A.css("marginTop","-"+(l-$.timeHeightInTimePicker)+"px"),P.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(A[0].style.marginTop,10)/(a-s))]),o=o>10?10:o-10,n||(i=setTimeout(e,r||o))}(500),e([$.ownerDocument.body,$.contentWindow]).on("touchend mouseup.xdsoft",(function t(){clearTimeout(i),n=!0,e([$.ownerDocument.body,$.contentWindow]).off("touchend mouseup.xdsoft",t)}))})),r=0,T.on("xchange.xdsoft",(function(s){clearTimeout(r),r=setTimeout((function(){void 0!==_.currentTime&&null!==_.currentTime||(_.currentTime=_.now());for(var r,s,a,l,c,d,u,h,p,f,m="",g=new Date(_.currentTime.getFullYear(),_.currentTime.getMonth(),1,12,0,0),v=0,b=_.now(),y=!1,w=!1,x=!1,C=!1,k=[],S=!0,D="";g.getDay()!==$.dayOfWeekStart;)g.setDate(g.getDate()-1);for(m+="<table><thead><tr>",$.weeks&&(m+="<th></th>"),r=0;r<7;r+=1)m+="<th>"+$.i18n[o].dayOfWeekShort[(r+$.dayOfWeekStart)%7]+"</th>";for(m+="</tr></thead>",m+="<tbody>",!1!==$.maxDate&&(y=_.strToDate($.maxDate),y=new Date(y.getFullYear(),y.getMonth(),y.getDate(),23,59,59,999)),!1!==$.minDate&&(w=_.strToDate($.minDate),w=new Date(w.getFullYear(),w.getMonth(),w.getDate())),!1!==$.minDateTime&&(x=_.strToDate($.minDateTime),x=new Date(x.getFullYear(),x.getMonth(),x.getDate(),x.getHours(),x.getMinutes(),x.getSeconds())),!1!==$.maxDateTime&&(C=_.strToDate($.maxDateTime),C=new Date(C.getFullYear(),C.getMonth(),C.getDate(),C.getHours(),C.getMinutes(),C.getSeconds())),!1!==C&&(f=31*(12*C.getFullYear()+C.getMonth())+C.getDate());v<_.currentTime.countDaysInMonth()||g.getDay()!==$.dayOfWeekStart||_.currentTime.getMonth()===g.getMonth();){k=[],v+=1,a=g.getDay(),l=g.getDate(),c=g.getFullYear(),P=g.getMonth(),d=_.getWeekOfYear(g),p="",k.push("xdsoft_date"),u=$.beforeShowDay&&e.isFunction($.beforeShowDay.call)?$.beforeShowDay.call(T,g):null,$.allowDateRe&&"[object RegExp]"===Object.prototype.toString.call($.allowDateRe)&&($.allowDateRe.test(i.formatDate(g,$.formatDate))||k.push("xdsoft_disabled")),$.allowDates&&$.allowDates.length>0&&-1===$.allowDates.indexOf(i.formatDate(g,$.formatDate))&&k.push("xdsoft_disabled");var j=31*(12*g.getFullYear()+g.getMonth())+g.getDate();(!1!==y&&g>y||!1!==x&&g<x||!1!==w&&g<w||!1!==C&&j>f||u&&!1===u[0])&&k.push("xdsoft_disabled"),-1!==$.disabledDates.indexOf(i.formatDate(g,$.formatDate))&&k.push("xdsoft_disabled"),-1!==$.disabledWeekDays.indexOf(a)&&k.push("xdsoft_disabled"),t.is("[disabled]")&&k.push("xdsoft_disabled"),u&&""!==u[1]&&k.push(u[1]),_.currentTime.getMonth()!==P&&k.push("xdsoft_other_month"),($.defaultSelect||T.data("changed"))&&i.formatDate(_.currentTime,$.formatDate)===i.formatDate(g,$.formatDate)&&k.push("xdsoft_current"),i.formatDate(b,$.formatDate)===i.formatDate(g,$.formatDate)&&k.push("xdsoft_today"),0!==g.getDay()&&6!==g.getDay()&&-1===$.weekends.indexOf(i.formatDate(g,$.formatDate))||k.push("xdsoft_weekend"),void 0!==$.highlightedDates[i.formatDate(g,$.formatDate)]&&(s=$.highlightedDates[i.formatDate(g,$.formatDate)],k.push(void 0===s.style?"xdsoft_highlighted_default":s.style),p=void 0===s.desc?"":s.desc),$.beforeShowDay&&e.isFunction($.beforeShowDay)&&k.push($.beforeShowDay(g)),S&&(m+="<tr>",S=!1,$.weeks&&(m+="<th>"+d+"</th>")),m+='<td data-date="'+l+'" data-month="'+P+'" data-year="'+c+'" class="xdsoft_date xdsoft_day_of_week'+g.getDay()+" "+k.join(" ")+'" title="'+p+'"><div>'+l+"</div></td>",g.getDay()===$.dayOfWeekStartPrev&&(m+="</tr>",S=!0),g.setDate(l+1)}m+="</tbody></table>",E.html(m),I.find(".xdsoft_label span").eq(0).text($.i18n[o].months[_.currentTime.getMonth()]),I.find(".xdsoft_label span").eq(1).text(_.currentTime.getFullYear()+$.yearOffset),D="",P="";var O=0;if(!1!==$.minTime){var R=_.strtotime($.minTime);O=60*R.getHours()+R.getMinutes()}var P,N=1440;(!1!==$.maxTime&&(R=_.strtotime($.maxTime),N=60*R.getHours()+R.getMinutes()),!1!==$.minDateTime&&(R=_.strToDateTime($.minDateTime),i.formatDate(_.currentTime,$.formatDate)===i.formatDate(R,$.formatDate)&&(P=60*R.getHours()+R.getMinutes())>O&&(O=P)),!1!==$.maxDateTime)&&(R=_.strToDateTime($.maxDateTime),i.formatDate(_.currentTime,$.formatDate)===i.formatDate(R,$.formatDate)&&(P=60*R.getHours()+R.getMinutes())<N&&(N=P));if(h=function(n,o){var r,s=_.now(),a=$.allowTimes&&e.isArray($.allowTimes)&&$.allowTimes.length;s.setHours(n),n=parseInt(s.getHours(),10),s.setMinutes(o),o=parseInt(s.getMinutes(),10),k=[];var l=60*n+o;(t.is("[disabled]")||l>=N||l<O)&&k.push("xdsoft_disabled"),(r=new Date(_.currentTime)).setHours(parseInt(_.currentTime.getHours(),10)),a||r.setMinutes(Math[$.roundTime](_.currentTime.getMinutes()/$.step)*$.step),($.initTime||$.defaultSelect||T.data("changed"))&&r.getHours()===parseInt(n,10)&&(!a&&$.step>59||r.getMinutes()===parseInt(o,10))&&($.defaultSelect||T.data("changed")?k.push("xdsoft_current"):$.initTime&&k.push("xdsoft_init_time")),parseInt(b.getHours(),10)===parseInt(n,10)&&parseInt(b.getMinutes(),10)===parseInt(o,10)&&k.push("xdsoft_today"),D+='<div class="xdsoft_time '+k.join(" ")+'" data-hour="'+n+'" data-minute="'+o+'">'+i.formatDate(s,$.formatTime)+"</div>"},$.allowTimes&&e.isArray($.allowTimes)&&$.allowTimes.length)for(v=0;v<$.allowTimes.length;v+=1)h(_.strtotime($.allowTimes[v]).getHours(),P=_.strtotime($.allowTimes[v]).getMinutes());else for(v=0,r=0;v<($.hours12?12:24);v+=1)for(r=0;r<60;r+=$.step){var L=60*v+r;L<O||L>=N||h((v<10?"0":"")+v,P=(r<10?"0":"")+r)}for(A.html(D),n="",v=parseInt($.yearStart,10);v<=parseInt($.yearEnd,10);v+=1)n+='<div class="xdsoft_option '+(_.currentTime.getFullYear()===v?"xdsoft_current":"")+'" data-value="'+v+'">'+(v+$.yearOffset)+"</div>";for(M.children().eq(0).html(n),v=parseInt($.monthStart,10),n="";v<=parseInt($.monthEnd,10);v+=1)n+='<div class="xdsoft_option '+(_.currentTime.getMonth()===v?"xdsoft_current":"")+'" data-value="'+v+'">'+$.i18n[o].months[v]+"</div>";F.children().eq(0).html(n),e(T).trigger("generate.xdsoft")}),10),s.stopPropagation()})).on("afterOpen.xdsoft",(function(){var e,t,i,n;$.timepicker&&(A.find(".xdsoft_current").length?e=".xdsoft_current":A.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e?(t=P[0].clientHeight,(i=A[0].offsetHeight)-t<(n=A.find(e).index()*$.timeHeightInTimePicker+1)&&(n=i-t),P.trigger("scroll_element.xdsoft_scroller",[parseInt(n,10)/(i-t)])):P.trigger("scroll_element.xdsoft_scroller",[0]))})),s=0,E.on("touchend click.xdsoft","td",(function(i){i.stopPropagation(),s+=1;var n=e(this),o=_.currentTime;if(null==o&&(_.currentTime=_.now(),o=_.currentTime),n.hasClass("xdsoft_disabled"))return!1;o.setDate(1),o.setFullYear(n.data("year")),o.setMonth(n.data("month")),o.setDate(n.data("date")),T.trigger("select.xdsoft",[o]),t.val(_.str()),$.onSelectDate&&e.isFunction($.onSelectDate)&&$.onSelectDate.call(T,_.currentTime,T.data("input"),i),T.data("changed",!0),T.trigger("xchange.xdsoft"),T.trigger("changedatetime.xdsoft"),(s>1||!0===$.closeOnDateSelect||!1===$.closeOnDateSelect&&!$.timepicker)&&!$.inline&&T.trigger("close.xdsoft"),setTimeout((function(){s=0}),200)})),A.on("touchstart","div",(function(e){this.touchMoved=!1})).on("touchmove","div",q).on("touchend click.xdsoft","div",(function(t){if(!this.touchMoved){t.stopPropagation();var i=e(this),n=_.currentTime;if(null==n&&(_.currentTime=_.now(),n=_.currentTime),i.hasClass("xdsoft_disabled"))return!1;n.setHours(i.data("hour")),n.setMinutes(i.data("minute")),T.trigger("select.xdsoft",[n]),T.data("input").val(_.str()),$.onSelectTime&&e.isFunction($.onSelectTime)&&$.onSelectTime.call(T,_.currentTime,T.data("input"),t),T.data("changed",!0),T.trigger("xchange.xdsoft"),T.trigger("changedatetime.xdsoft"),!0!==$.inline&&!0===$.closeOnTimeSelect&&T.trigger("close.xdsoft")}})),O.on("mousewheel.xdsoft",(function(e){return!$.scrollMonth||(e.deltaY<0?_.nextMonth():_.prevMonth(),!1)})),t.on("mousewheel.xdsoft",(function(e){return!$.scrollInput||(!$.datepicker&&$.timepicker?((a=A.find(".xdsoft_current").length?A.find(".xdsoft_current").eq(0).index():0)+e.deltaY>=0&&a+e.deltaY<A.children().length&&(a+=e.deltaY),A.children().eq(a).length&&A.children().eq(a).trigger("mousedown"),!1):$.datepicker&&!$.timepicker?(O.trigger(e,[e.deltaY,e.deltaX,e.deltaY]),t.val&&t.val(_.str()),T.trigger("changedatetime.xdsoft"),!1):void 0)})),T.on("changedatetime.xdsoft",(function(t){if($.onChangeDateTime&&e.isFunction($.onChangeDateTime)){var i=T.data("input");$.onChangeDateTime.call(T,_.currentTime,i,t),delete $.value,i.trigger("change")}})).on("generate.xdsoft",(function(){$.onGenerate&&e.isFunction($.onGenerate)&&$.onGenerate.call(T,_.currentTime,T.data("input")),L&&(T.trigger("afterOpen.xdsoft"),L=!1)})).on("click.xdsoft",(function(e){e.stopPropagation()})),a=0,D=function(e,t){do{if(!(e=e.parentNode)||!1===t(e))break}while("HTML"!==e.nodeName)},l=function(){var t,i,n,o,r,s,a,l,c,d,u,h,p;if(t=(l=T.data("input")).offset(),i=l[0],d="top",n=t.top+i.offsetHeight-1,o=t.left,r="absolute",c=e($.contentWindow).width(),h=e($.contentWindow).height(),p=e($.contentWindow).scrollTop(),$.ownerDocument.documentElement.clientWidth-t.left<O.parent().outerWidth(!0)){var f=O.parent().outerWidth(!0)-i.offsetWidth;o-=f}"rtl"===l.parent().css("direction")&&(o-=T.outerWidth()-l.outerWidth()),$.fixed?(n-=p,o-=e($.contentWindow).scrollLeft(),r="fixed"):(a=!1,D(i,(function(e){return null!==e&&("fixed"===$.contentWindow.getComputedStyle(e).getPropertyValue("position")?(a=!0,!1):void 0)})),a&&!$.insideParent?(r="fixed",n+T.outerHeight()>h+p?(d="bottom",n=h+p-t.top):n-=p):n+T[0].offsetHeight>h+p&&(n=t.top-T[0].offsetHeight+1),n<0&&(n=0),o+i.offsetWidth>c&&(o=c-i.offsetWidth)),s=T[0],D(s,(function(e){if("relative"===$.contentWindow.getComputedStyle(e).getPropertyValue("position")&&c>=e.offsetWidth)return o-=(c-e.offsetWidth)/2,!1})),u={position:r,left:$.insideParent?i.offsetLeft:o,top:"",bottom:""},$.insideParent?u[d]=i.offsetTop+i.offsetHeight:u[d]=n,T.css(u)},T.on("open.xdsoft",(function(t){var i=!0;$.onShow&&e.isFunction($.onShow)&&(i=$.onShow.call(T,_.currentTime,T.data("input"),t)),!1!==i&&(T.show(),l(),e($.contentWindow).off("resize.xdsoft",l).on("resize.xdsoft",l),$.closeOnWithoutClick&&e([$.ownerDocument.body,$.contentWindow]).on("touchstart mousedown.xdsoft",(function t(){T.trigger("close.xdsoft"),e([$.ownerDocument.body,$.contentWindow]).off("touchstart mousedown.xdsoft",t)})))})).on("close.xdsoft",(function(t){var i=!0;I.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),$.onClose&&e.isFunction($.onClose)&&(i=$.onClose.call(T,_.currentTime,T.data("input"),t)),!1===i||$.opened||$.inline||T.hide(),t.stopPropagation()})).on("toggle.xdsoft",(function(){T.is(":visible")?T.trigger("close.xdsoft"):T.trigger("open.xdsoft")})).data("input",t),z=0,T.data("xdsoft_datetime",_),T.setOptions($),_.setCurrentTime(B()),t.data("xdsoft_datetimepicker",T).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",(function(){t.is(":disabled")||t.data("xdsoft_datetimepicker").is(":visible")&&$.closeOnInputClick||$.openOnFocus&&(clearTimeout(z),z=setTimeout((function(){t.is(":disabled")||(L=!0,_.setCurrentTime(B(),!0),$.mask&&H($),T.trigger("open.xdsoft"))}),100))})).on("keydown.xdsoft",(function(t){var i,n=t.which;return-1!==[d].indexOf(n)&&$.enterLikeTab?(i=e("input:visible,textarea:visible,button:visible,a:visible"),T.trigger("close.xdsoft"),i.eq(i.index(this)+1).focus(),!1):-1!==[v].indexOf(n)?(T.trigger("close.xdsoft"),!0):void 0})).on("blur.xdsoft",(function(){T.trigger("close.xdsoft")}))},a=function(t){var i=t.data("xdsoft_datetimepicker");i&&(i.data("xdsoft_datetime",null),i.remove(),t.data("xdsoft_datetimepicker",null).off(".xdsoft"),e($.contentWindow).off("resize.xdsoft"),e([$.contentWindow,$.ownerDocument.body]).off("mousedown.xdsoft touchstart"),t.unmousewheel&&t.unmousewheel())},e($.ownerDocument).off("keydown.xdsoftctrl keyup.xdsoftctrl").off("keydown.xdsoftcmd keyup.xdsoftcmd").on("keydown.xdsoftctrl",(function(e){e.keyCode===c&&(S=!0)})).on("keyup.xdsoftctrl",(function(e){e.keyCode===c&&(S=!1)})).on("keydown.xdsoftcmd",(function(e){e.keyCode})).on("keyup.xdsoftcmd",(function(e){e.keyCode})),this.each((function(){var t,o=e(this).data("xdsoft_datetimepicker");if(o){if("string"===e.type(n))switch(n){case"show":e(this).select().focus(),o.trigger("open.xdsoft");break;case"hide":o.trigger("close.xdsoft");break;case"toggle":o.trigger("toggle.xdsoft");break;case"destroy":a(e(this));break;case"reset":this.value=this.defaultValue,this.value&&o.data("xdsoft_datetime").isValidDate(i.parseDate(this.value,$.format))||o.data("changed",!1),o.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":o.data("input").trigger("blur.xdsoft");break;default:o[n]&&e.isFunction(o[n])&&(l=o[n](r))}else o.setOptions(n);return 0}"string"!==e.type(n)&&(!$.lazyInit||$.open||$.inline?s(e(this)):(t=e(this)).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",(function e(){t.is(":disabled")||t.data("xdsoft_datetimepicker")||(clearTimeout(_),_=setTimeout((function(){t.data("xdsoft_datetimepicker")||s(t),t.off("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",e).trigger("open.xdsoft")}),100))})))})),l},e.fn.datetimepicker.defaults=t},o=[i(4692),i(4410)],void 0===(r="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=r),o=[i(4692)],void 0===(r="function"==typeof(n=function(e){var t,i,n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r=Array.prototype.slice;if(e.event.fixHooks)for(var s=n.length;s;)e.event.fixHooks[n[--s]]=e.event.mouseHooks;var a=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=o.length;t;)this.addEventListener(o[--t],l,!1);else this.onmousewheel=l;e.data(this,"mousewheel-line-height",a.getLineHeight(this)),e.data(this,"mousewheel-page-height",a.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=o.length;t;)this.removeEventListener(o[--t],l,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(n){var o=n||window.event,s=r.call(arguments,1),l=0,u=0,h=0,p=0,f=0,m=0;if((n=e.event.fix(o)).type="mousewheel","detail"in o&&(h=-1*o.detail),"wheelDelta"in o&&(h=o.wheelDelta),"wheelDeltaY"in o&&(h=o.wheelDeltaY),"wheelDeltaX"in o&&(u=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(u=-1*h,h=0),l=0===h?u:h,"deltaY"in o&&(l=h=-1*o.deltaY),"deltaX"in o&&(u=o.deltaX,0===h&&(l=-1*u)),0!==h||0!==u){if(1===o.deltaMode){var g=e.data(this,"mousewheel-line-height");l*=g,h*=g,u*=g}else if(2===o.deltaMode){var v=e.data(this,"mousewheel-page-height");l*=v,h*=v,u*=v}if(p=Math.max(Math.abs(h),Math.abs(u)),(!i||p<i)&&(i=p,d(o,p)&&(i/=40)),d(o,p)&&(l/=40,u/=40,h/=40),l=Math[l>=1?"floor":"ceil"](l/i),u=Math[u>=1?"floor":"ceil"](u/i),h=Math[h>=1?"floor":"ceil"](h/i),a.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();f=n.clientX-b.left,m=n.clientY-b.top}return n.deltaX=u,n.deltaY=h,n.deltaFactor=i,n.offsetX=f,n.offsetY=m,n.deltaMode=0,s.unshift(n,l,u,h),t&&clearTimeout(t),t=setTimeout(c,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function c(){i=null}function d(e,t){return a.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})?n.apply(t,o):n)||(e.exports=r)},4410:(e,t,i)=>{var n,o,r;o=[i(4692)],void 0===(r="function"==typeof(n=function(e){var t,i,n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r=Array.prototype.slice;if(e.event.fixHooks)for(var s=n.length;s;)e.event.fixHooks[n[--s]]=e.event.mouseHooks;var a=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=o.length;t;)this.addEventListener(o[--t],l,!1);else this.onmousewheel=l;e.data(this,"mousewheel-line-height",a.getLineHeight(this)),e.data(this,"mousewheel-page-height",a.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=o.length;t;)this.removeEventListener(o[--t],l,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(n){var o=n||window.event,s=r.call(arguments,1),l=0,u=0,h=0,p=0,f=0,m=0;if((n=e.event.fix(o)).type="mousewheel","detail"in o&&(h=-1*o.detail),"wheelDelta"in o&&(h=o.wheelDelta),"wheelDeltaY"in o&&(h=o.wheelDeltaY),"wheelDeltaX"in o&&(u=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(u=-1*h,h=0),l=0===h?u:h,"deltaY"in o&&(l=h=-1*o.deltaY),"deltaX"in o&&(u=o.deltaX,0===h&&(l=-1*u)),0!==h||0!==u){if(1===o.deltaMode){var g=e.data(this,"mousewheel-line-height");l*=g,h*=g,u*=g}else if(2===o.deltaMode){var v=e.data(this,"mousewheel-page-height");l*=v,h*=v,u*=v}if(p=Math.max(Math.abs(h),Math.abs(u)),(!i||p<i)&&(i=p,d(o,p)&&(i/=40)),d(o,p)&&(l/=40,u/=40,h/=40),l=Math[l>=1?"floor":"ceil"](l/i),u=Math[u>=1?"floor":"ceil"](u/i),h=Math[h>=1?"floor":"ceil"](h/i),a.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();f=n.clientX-b.left,m=n.clientY-b.top}return n.deltaX=u,n.deltaY=h,n.deltaFactor=i,n.offsetX=f,n.offsetY=m,n.deltaMode=0,s.unshift(n,l,u,h),t&&clearTimeout(t),t=setTimeout(c,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function c(){i=null}function d(e,t){return a.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})?n.apply(t,o):n)||(e.exports=r)},9983:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(6883)],void 0===(r="function"==typeof(n=function(e){return e.extend(e.expr.pseudos,{data:e.expr.createPseudo((function(t){return function(i){return!!e.data(i,t)}}))})})?n.apply(t,o):n)||(e.exports=r)}()},724:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(6883)],void 0===(r="function"==typeof(n=function(e){return e.fn.extend({disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(t+".ui-disableSelection",(function(e){e.preventDefault()}))}),enableSelection:function(){return this.off(".ui-disableSelection")}});var t})?n.apply(t,o):n)||(e.exports=r)}()},1255:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(6883)],void 0===(r="function"==typeof(n=function(e){return e.ui.focusable=function(t,i){var n,o,r,s,a,l=t.nodeName.toLowerCase();return"area"===l?(o=(n=t.parentNode).name,!(!t.href||!o||"map"!==n.nodeName.toLowerCase())&&((r=e("img[usemap='#"+o+"']")).length>0&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(l)?(s=!t.disabled)&&(a=e(t).closest("fieldset")[0])&&(s=!a.disabled):s="a"===l&&t.href||i,s&&e(t).is(":visible")&&"visible"===e(t).css("visibility"))},e.extend(e.expr.pseudos,{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}}),e.ui.focusable})?n.apply(t,o):n)||(e.exports=r)}()},7687:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(6883)],void 0===(r="function"==typeof(n=function(e){return e.ui.formResetMixin={_formResetHandler:function(){var t=e(this);setTimeout((function(){var i=t.data("ui-form-reset-instances");e.each(i,(function(){this.refresh()}))}))},_bindFormResetHandler:function(){if(this.form=e(this.element.prop("form")),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(e.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}}})?n.apply(t,o):n)||(e.exports=r)}()},1897:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(6883)],void 0===(r="function"==typeof(n=function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})?n.apply(t,o):n)||(e.exports=r)}()},2420:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(6883)],void 0===(r="function"==typeof(n=function(e){return e.fn.labels=function(){var e,t,i,n,o;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),(i=this.attr("id"))&&(o=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),t="label[for='"+CSS.escape(i)+"']",n=n.add(o.find(t).addBack(t))),this.pushStack(n)):this.pushStack([])}})?n.apply(t,o):n)||(e.exports=r)}()},2336:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(6883)],n=function(e){return e.ui.plugin={add:function(t,i,n){var o,r=e.ui[t].prototype;for(o in n)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([i,n[o]])},call:function(e,t,i,n){var o,r=e.plugins[t];if(r&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<r.length;o++)e.options[r[o][0]]&&r[o][1].apply(e.element,i)}}},void 0===(r="function"==typeof n?n.apply(t,o):n)||(e.exports=r)}()},4224:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(6883)],n=function(e){return function(){var t,i=Math.max,n=Math.abs,o=/left|center|right/,r=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,c=e.fn.position;function d(e,t,i){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?i/100:1)]}function u(t,i){return parseInt(e.css(t,i),10)||0}function h(e){return null!=e&&e===e.window}function p(e){var t=e[0];return 9===t.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:h(t)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:t.preventDefault?{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}e.position={scrollbarWidth:function(){if(void 0!==t)return t;var i,n,o=e("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),r=o.children()[0];return e("body").append(o),i=r.offsetWidth,o.css("overflow","scroll"),i===(n=r.offsetWidth)&&(n=o[0].clientWidth),o.remove(),t=i-n},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=h(i[0]),o=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:o,offset:!n&&!o?e(t).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return c.apply(this,arguments);var l,h,f,m,g,v,b="string"==typeof(t=e.extend({},t)).of?e(document).find(t.of):e(t.of),y=e.position.getWithinInfo(t.within),w=e.position.getScrollInfo(y),x=(t.collision||"flip").split(" "),C={};return v=p(b),b[0].preventDefault&&(t.at="left top"),h=v.width,f=v.height,m=v.offset,g=e.extend({},m),e.each(["my","at"],(function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=o.test(n[0])?n.concat(["center"]):r.test(n[0])?["center"].concat(n):["center","center"]),n[0]=o.test(n[0])?n[0]:"center",n[1]=r.test(n[1])?n[1]:"center",e=s.exec(n[0]),i=s.exec(n[1]),C[this]=[e?e[0]:0,i?i[0]:0],t[this]=[a.exec(n[0])[0],a.exec(n[1])[0]]})),1===x.length&&(x[1]=x[0]),"right"===t.at[0]?g.left+=h:"center"===t.at[0]&&(g.left+=h/2),"bottom"===t.at[1]?g.top+=f:"center"===t.at[1]&&(g.top+=f/2),l=d(C.at,h,f),g.left+=l[0],g.top+=l[1],this.each((function(){var o,r,s=e(this),a=s.outerWidth(),c=s.outerHeight(),p=u(this,"marginLeft"),v=u(this,"marginTop"),k=a+p+u(this,"marginRight")+w.width,S=c+v+u(this,"marginBottom")+w.height,$=e.extend({},g),_=d(C.my,s.outerWidth(),s.outerHeight());"right"===t.my[0]?$.left-=a:"center"===t.my[0]&&($.left-=a/2),"bottom"===t.my[1]?$.top-=c:"center"===t.my[1]&&($.top-=c/2),$.left+=_[0],$.top+=_[1],o={marginLeft:p,marginTop:v},e.each(["left","top"],(function(i,n){e.ui.position[x[i]]&&e.ui.position[x[i]][n]($,{targetWidth:h,targetHeight:f,elemWidth:a,elemHeight:c,collisionPosition:o,collisionWidth:k,collisionHeight:S,offset:[l[0]+_[0],l[1]+_[1]],my:t.my,at:t.at,within:y,elem:s})})),t.using&&(r=function(e){var o=m.left-$.left,r=o+h-a,l=m.top-$.top,d=l+f-c,u={target:{element:b,left:m.left,top:m.top,width:h,height:f},element:{element:s,left:$.left,top:$.top,width:a,height:c},horizontal:r<0?"left":o>0?"right":"center",vertical:d<0?"top":l>0?"bottom":"middle"};h<a&&n(o+r)<h&&(u.horizontal="center"),f<c&&n(l+d)<f&&(u.vertical="middle"),i(n(o),n(r))>i(n(l),n(d))?u.important="horizontal":u.important="vertical",t.using.call(this,e,u)}),s.offset(e.extend($,{using:r}))}))},e.ui.position={fit:{left:function(e,t){var n,o=t.within,r=o.isWindow?o.scrollLeft:o.offset.left,s=o.width,a=e.left-t.collisionPosition.marginLeft,l=r-a,c=a+t.collisionWidth-s-r;t.collisionWidth>s?l>0&&c<=0?(n=e.left+l+t.collisionWidth-s-r,e.left+=l-n):e.left=c>0&&l<=0?r:l>c?r+s-t.collisionWidth:r:l>0?e.left+=l:c>0?e.left-=c:e.left=i(e.left-a,e.left)},top:function(e,t){var n,o=t.within,r=o.isWindow?o.scrollTop:o.offset.top,s=t.within.height,a=e.top-t.collisionPosition.marginTop,l=r-a,c=a+t.collisionHeight-s-r;t.collisionHeight>s?l>0&&c<=0?(n=e.top+l+t.collisionHeight-s-r,e.top+=l-n):e.top=c>0&&l<=0?r:l>c?r+s-t.collisionHeight:r:l>0?e.top+=l:c>0?e.top-=c:e.top=i(e.top-a,e.top)}},flip:{left:function(e,t){var i,o,r=t.within,s=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=e.left-t.collisionPosition.marginLeft,d=c-l,u=c+t.collisionWidth-a-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];d<0?((i=e.left+h+p+f+t.collisionWidth-a-s)<0||i<n(d))&&(e.left+=h+p+f):u>0&&((o=e.left-t.collisionPosition.marginLeft+h+p+f-l)>0||n(o)<u)&&(e.left+=h+p+f)},top:function(e,t){var i,o,r=t.within,s=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=e.top-t.collisionPosition.marginTop,d=c-l,u=c+t.collisionHeight-a-l,h="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];d<0?((o=e.top+h+p+f+t.collisionHeight-a-s)<0||o<n(d))&&(e.top+=h+p+f):u>0&&((i=e.top-t.collisionPosition.marginTop+h+p+f-l)>0||n(i)<u)&&(e.top+=h+p+f)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position},void 0===(r="function"==typeof n?n.apply(t,o):n)||(e.exports=r)}()},2299:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(6883)],void 0===(r="function"==typeof(n=function(e){return e.fn.scrollParent=function(t){var i=this.css("position"),n="absolute"===i,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter((function(){var t=e(this);return(!n||"static"!==t.css("position"))&&o.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))})).eq(0);return"fixed"!==i&&r.length?r:e(this[0].ownerDocument||document)}})?n.apply(t,o):n)||(e.exports=r)}()},7144:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(6883),i(1255)],void 0===(r="function"==typeof(n=function(e){return e.extend(e.expr.pseudos,{tabbable:function(t){var i=e.attr(t,"tabindex"),n=null!=i;return(!n||i>=0)&&e.ui.focusable(t,n)}})})?n.apply(t,o):n)||(e.exports=r)}()},5304:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(6883)],void 0===(r="function"==typeof(n=function(e){return e.fn.extend({uniqueId:(t=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++t)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")}))}});var t})?n.apply(t,o):n)||(e.exports=r)}()},6883:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692)],void 0===(r="function"==typeof(n=function(e){return e.ui=e.ui||{},e.ui.version="1.14.1"})?n.apply(t,o):n)||(e.exports=r)}()},9139:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(6883)],n=function(e){var t=0,i=Array.prototype.hasOwnProperty,n=Array.prototype.slice;return e.cleanData=function(t){return function(i){var n,o,r;for(r=0;null!=(o=i[r]);r++)(n=e._data(o,"events"))&&n.remove&&e(o).triggerHandler("remove");t(i)}}(e.cleanData),e.widget=function(t,i,n){var o,r,s,a={},l=t.split(".")[0];if("__proto__"===(t=t.split(".")[1])||"constructor"===t)return e.error("Invalid widget name: "+t);var c=l+"-"+t;return n||(n=i,i=e.Widget),Array.isArray(n)&&(n=e.extend.apply(null,[{}].concat(n))),e.expr.pseudos[c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},o=e[l][t],r=e[l][t]=function(e,t){if(!this||!this._createWidget)return new r(e,t);arguments.length&&this._createWidget(e,t)},e.extend(r,o,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),(s=new i).options=e.widget.extend({},s.options),e.each(n,(function(e,t){a[e]="function"==typeof t?function(){function n(){return i.prototype[e].apply(this,arguments)}function o(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,r=this._superApply;return this._super=n,this._superApply=o,e=t.apply(this,arguments),this._super=i,this._superApply=r,e}}():t})),r.prototype=e.widget.extend(s,{widgetEventPrefix:o&&s.widgetEventPrefix||t},a,{constructor:r,namespace:l,widgetName:t,widgetFullName:c}),o?(e.each(o._childConstructors,(function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,r,i._proto)})),delete o._childConstructors):i._childConstructors.push(r),e.widget.bridge(t,r),r},e.widget.extend=function(t){for(var o,r,s=n.call(arguments,1),a=0,l=s.length;a<l;a++)for(o in s[a])r=s[a][o],i.call(s[a],o)&&void 0!==r&&(e.isPlainObject(r)?t[o]=e.isPlainObject(t[o])?e.widget.extend({},t[o],r):e.widget.extend({},r):t[o]=r);return t},e.widget.bridge=function(t,i){var o=i.prototype.widgetFullName||t;e.fn[t]=function(r){var s="string"==typeof r,a=n.call(arguments,1),l=this;return s?this.length||"instance"!==r?this.each((function(){var i,n=e.data(this,o);return"instance"===r?(l=n,!1):n?"function"!=typeof n[r]||"_"===r.charAt(0)?e.error("no such method '"+r+"' for "+t+" widget instance"):(i=n[r].apply(n,a))!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")})):l=void 0:(a.length&&(r=e.widget.extend.apply(null,[r].concat(a))),this.each((function(){var t=e.data(this,o);t?(t.option(r||{}),t._init&&t._init()):e.data(this,o,new i(r,this))}))),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,(function(e,i){t._removeClass(i,e)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,o,r,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},n=t.split("."),t=n.shift(),n.length){for(o=s[t]=e.widget.extend({},this.options[t]),r=0;r<n.length-1;r++)o[n[r]]=o[n[r]]||{},o=o[n[r]];if(t=n.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,n,o;for(i in t)o=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&o&&o.length&&(n=e(o.get()),this._removeClass(o,i),n.addClass(this._classes({element:n,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var i=[],n=this;function o(){var i=[];t.element.each((function(t,o){e.map(n.classesElementLookup,(function(e){return e})).some((function(e){return e.is(o)}))||i.push(o)})),n._on(e(i),{remove:"_untrackClassesElement"})}function r(r,s){var a,l;for(l=0;l<r.length;l++)a=n.classesElementLookup[r[l]]||e(),t.add?(o(),a=e(e.uniqueSort(a.get().concat(t.element.get())))):a=e(a.not(t.element).get()),n.classesElementLookup[r[l]]=a,i.push(r[l]),s&&t.classes[r[l]]&&i.push(t.classes[r[l]])}return(t=e.extend({element:this.element,classes:this.options.classes||{}},t)).keys&&r(t.keys.match(/\S+/g)||[],!0),t.extra&&r(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,(function(n,o){-1!==e.inArray(t.target,o)&&(i.classesElementLookup[n]=e(o.not(t.target).get()))})),this._off(e(t.target))},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,n){n="boolean"==typeof n?n:i;var o="string"==typeof e||null===e,r={extra:o?t:i,keys:o?e:t,element:o?this.element:e,add:n};return r.element.toggleClass(this._classes(r),n),this},_on:function(t,i,n){var o,r=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,(function(n,s){function a(){if(t||!0!==r.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?r[s]:s).apply(r,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+r.eventNamespace,d=l[2];d?o.on(c,d,a):i.on(c,a)}))},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,n){var o,r,s=this.options[t];if(n=n||{},(i=e.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(o in r)o in i||(i[o]=r[o]);return this.element.trigger(i,n),!("function"==typeof s&&!1===s.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,i){e.Widget.prototype["_"+t]=function(n,o,r){var s;"string"==typeof o&&(o={effect:o});var a=o?!0===o||"number"==typeof o?i:o.effect||i:t;"number"==typeof(o=o||{})?o={duration:o}:!0===o&&(o={}),s=!e.isEmptyObject(o),o.complete=r,o.delay&&n.delay(o.delay),s&&e.effects&&e.effects.effect[a]?n[t](o):a!==t&&n[a]?n[a](o.duration,o.easing,r):n.queue((function(i){e(this)[t](),r&&r.call(n[0]),i()}))}})),e.widget},void 0===(r="function"==typeof n?n.apply(t,o):n)||(e.exports=r)}()},8481:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(6605),i(2097),i(1897),i(9139)],n=function(e){e.widget("ui.button",{version:"1.14.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===e.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,i){var n="iconPosition"!==t,o=n?this.options.iconPosition:i,r="top"===o||"bottom"===o;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=e("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,i),this._attachIcon(o),r?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(o))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,i=void 0===e.icon?this.options.icon:e.icon;t||i||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),this.element[0].disabled=t,t&&this.element.trigger("blur"))},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!0===e.uiBackCompat&&(e.widget("ui.button",e.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){"text"!==e?("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",t)}}),e.fn.button=(t=e.fn.button,function(i){var n="string"==typeof i,o=Array.prototype.slice.call(arguments,1),r=this;return n?this.length||"instance"!==i?this.each((function(){var t,n=e(this).attr("type"),s="checkbox"!==n&&"radio"!==n?"button":"checkboxradio",a=e.data(this,"ui-"+s);return"instance"===i?(r=a,!1):a?"function"!=typeof a[i]||"_"===i.charAt(0)?e.error("no such method '"+i+"' for button widget instance"):(t=a[i].apply(a,o))!==a&&void 0!==t?(r=t&&t.jquery?r.pushStack(t.get()):t,!1):void 0:e.error("cannot call methods on button prior to initialization; attempted to call method '"+i+"'")})):r=void 0:(o.length&&(i=e.widget.extend.apply(null,[i].concat(o))),this.each((function(){var n=e(this).attr("type"),o="checkbox"!==n&&"radio"!==n?"button":"checkboxradio",r=e.data(this,"ui-"+o);if(r)r.option(i||{}),r._init&&r._init();else{if("button"===o)return void t.call(e(this),i);e(this).checkboxradio(e.extend({icon:!1},i))}}))),r}),e.fn.buttonset=function(){return e.ui.controlgroup||e.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var t;return e.ui.button},void 0===(r="function"==typeof n?n.apply(t,o):n)||(e.exports=r)}()},2097:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(7687),i(2420),i(9139)],void 0===(r="function"==typeof(n=function(e){return e.widget("ui.checkboxradio",[e.ui.formResetMixin,{version:"1.14.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,i,n,o=this._super()||{};return this._readType(),i=this.element.labels(),this.label=e(i[i.length-1]),this.label.length||e.error("No label found for checkboxradio widget"),this.originalLabel="",(n=this.label.contents().not(this.element[0])).length&&(this.originalLabel+=n.clone().wrapAll("<div></div>").parent().html()),this.originalLabel&&(o.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(o.disabled=t),o},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||e.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,i="input[name='"+CSS.escape(t)+"']";return t?(this.form.length?e(this.form[0].elements).filter(i):e(i).filter((function(){return 0===e(e(this).prop("form")).length}))).not(this.element):e([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each((function(){var t=e(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")}))},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if("label"!==e||t){if(this._super(e,t),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(t){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=e("<span>"),this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]),e.ui.checkboxradio})?n.apply(t,o):n)||(e.exports=r)}()},6605:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(9139)],void 0===(r="function"==typeof(n=function(e){var t=/ui-corner-([a-z]){2,6}/g;return e.widget("ui.controlgroup",{version:"1.14.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,i=[];e.each(this.options.items,(function(n,o){var r,s={};if(o)return"controlgroupLabel"===n?((r=t.element.find(o)).each((function(){var t=e(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")})),t._addClass(r,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(r.get()))):void(e.fn[n]&&(s=t["_"+n+"Options"]?t["_"+n+"Options"]("middle"):{classes:{}},t.element.find(o).each((function(){var o=e(this),r=o[n]("instance"),a=e.widget.extend({},s);if("button"!==n||!o.parent(".ui-spinner").length){r||(r=o[n]()[n]("instance")),r&&(a.classes=t._resolveClassesValues(a.classes,r)),o[n](a);var l=o[n]("widget");e.data(l[0],"ui-controlgroup-data",r||o[n]("instance")),i.push(l[0])}}))))})),this.childWidgets=e(e.uniqueSort(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each((function(){var i=e(this).data("ui-controlgroup-data");i&&i[t]&&i[t]()}))},_updateCornerClass:function(e,t){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",n=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,i),this._addClass(e,null,n)},_buildSimpleOptions:function(e,t){var i="vertical"===this.options.direction,n={classes:{}};return n.classes[t]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[e],n},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:!!t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(i,n){var o={};return e.each(i,(function(e){var r=n.options.classes[e]||"";r=String.prototype.trim.call(r.replace(t,"")),o[e]=(r+" "+i[e]).replace(/\s+/g," ")})),o},_setOption:function(e,t){"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"!==e?this.refresh():this._callChildMethod(t?"disable":"enable")},refresh:function(){var t,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),t=this.childWidgets,this.options.onlyVisible&&(t=t.filter(":visible")),t.length&&(e.each(["first","last"],(function(e,n){var o=t[n]().data("ui-controlgroup-data");if(o&&i["_"+o.widgetName+"Options"]){var r=i["_"+o.widgetName+"Options"](1===t.length?"only":n);r.classes=i._resolveClassesValues(r.classes,o),o.element[o.widgetName](r)}else i._updateCornerClass(t[n](),n)})),this._callChildMethod("refresh"))}})})?n.apply(t,o):n)||(e.exports=r)}()},1193:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(8481),i(1758),i(3662),i(8604),i(1255),i(1897),i(4224),i(7144),i(5304),i(6883),i(9139)],n=function(e){e.widget("ui.dialog",{version:"1.14.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;i<0&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,uiDialogTitleHeadingLevel:0,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||e(this.document[0].activeElement).trigger("blur"),this._hide(this.uiDialog,this.options.hide,(function(){i._trigger("close",t)})))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var n=!1,o=this.uiDialog.siblings(".ui-front:visible").map((function(){return+e(this).css("z-index")})).get(),r=Math.max.apply(null,o);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),n=!0),n&&!i&&this._trigger("focus",t),n},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){t._focusTabbable(),t._trigger("focus")})),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_restoreTabbableFocus:function(){var t=this.document[0].activeElement;this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()},_keepFocus:function(e){e.preventDefault(),this._restoreTabbableFocus()},_createWrapper:function(){this.uiDialog=e("<div>").hide().attr({tabIndex:-1,role:"dialog","aria-modal":this.options.modal?"true":null}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.first(),o=i.last();t.target!==o[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay((function(){o.trigger("focus")})),t.preventDefault()):(this._delay((function(){n.trigger("focus")})),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:e("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}});var i=Number.isInteger(this.options.uiDialogTitleHeadingLevel)&&this.options.uiDialogTitleHeadingLevel>0&&this.options.uiDialogTitleHeadingLevel<=6?"h"+this.options.uiDialogTitleHeadingLevel:"span";t=e("<"+i+">").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||Array.isArray(i)&&!i.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(e.each(i,(function(i,n){var o,r;n="function"==typeof n?{click:n,text:i}:n,n=e.extend({type:"button"},n),o=n.click,r={icon:n.icon,iconPosition:n.iconPosition,showLabel:n.showLabel,icons:n.icons,text:n.text},delete n.click,delete n.icon,delete n.iconPosition,delete n.showLabel,delete n.icons,"boolean"==typeof n.text&&delete n.text,e("<button></button>",n).button(r).appendTo(t.uiButtonSet).on("click",(function(){o.apply(t.element[0],arguments)}))})),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var t=this,i=this.options;function n(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,o){t._addClass(e(this),"ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",i,n(o))},drag:function(e,i){t._trigger("drag",e,n(i))},stop:function(o,r){var s=r.offset.left-t.document.scrollLeft(),a=r.offset.top-t.document.scrollTop();i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:t.window},t._removeClass(e(this),"ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",o,n(r))}})},_makeResizable:function(){var t=this,i=this.options,n=i.resizable,o=this.uiDialog.css("position"),r="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";function s(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:r,start:function(i,n){t._addClass(e(this),"ui-dialog-resizing"),t._blockFrames(),t._trigger("resizeStart",i,s(n))},resize:function(e,i){t._trigger("resize",e,s(i))},stop:function(n,o){var r=t.uiDialog.offset(),a=r.left-t.document.scrollLeft(),l=r.top-t.document.scrollTop();i.height=t.uiDialog.height(),i.width=t.uiDialog.width(),i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:t.window},t._removeClass(e(this),"ui-dialog-resizing"),t._unblockFrames(),t._trigger("resizeStop",n,s(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,n=!1,o={};e.each(t,(function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(n=!0),e in i.resizableRelatedOptions&&(o[e]=t)})),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(t,i){var n,o,r=this.uiDialog;"disabled"!==t&&(this._super(t,i),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:e("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((n=r.is(":data(ui-draggable)"))&&!i&&r.draggable("destroy"),!n&&i&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((o=r.is(":data(ui-resizable)"))&&!i&&r.resizable("destroy"),o&&"string"==typeof i&&r.resizable("option","handles",i),o||!1===i||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")),"modal"===t&&r.attr("aria-modal",i?"true":null))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay((function(){t=!1})),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(e){if(!t){var i=this._trackingInstances()[0];i._allowInteraction(e)||(e.preventDefault(),i._focusTabbable())}}.bind(this)),this.overlay=e("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!0===e.uiBackCompat&&e.widget("ui.dialog",e.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}});return e.ui.dialog},void 0===(r="function"==typeof n?n.apply(t,o):n)||(e.exports=r)}()},1758:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(3662),i(9983),i(2336),i(2299),i(6883),i(9139)],void 0===(r="function"==typeof(n=function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.14.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map((function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0].activeElement;e(t.target).closest(i).length||e(i).trigger("blur")},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===e(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==i._trigger("stop",t)&&i._clear()})):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var i=this.options,n="function"==typeof i.helper,o=n?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options,r=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(n=(i=e(o.containment))[0])&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)):this.containment=o.containment:this.containment=[0,0,e(r).width()-this.helperProportions.width-this.margins.left,(e(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,o,r,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),s.grid&&(o=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-s.grid[1]:o+s.grid[1]:o,r=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-s.grid[0]:r+s.grid[0]:r),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,n){var o=e.extend({},i,{item:n.element});n.sortables=[],e(n.options.connectToSortable).each((function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,o))}))},stop:function(t,i,n){var o=e.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,e.each(n.sortables,(function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,o))}))},drag:function(t,i,n){e.each(n.sortables,(function(){var o=!1,r=this;r.positionAbs=n.positionAbs,r.helperProportions=n.helperProportions,r.offset.click=n.offset.click,r._intersectsWith(r.containerCache)&&(o=!0,e.each(n.sortables,(function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==r&&this._intersectsWith(this.containerCache)&&e.contains(r.element[0],this.element[0])&&(o=!1),o}))),o?(r.isOver||(r.isOver=1,n._parent=i.helper.parent(),r.currentItem=i.helper.appendTo(r.element).data("ui-sortable-item",!0),r.options._helper=r.options.helper,r.options.helper=function(){return i.helper[0]},t.target=r.currentItem[0],r._mouseCapture(t,!0),r._mouseStart(t,!0,!0),r.offset.click.top=n.offset.click.top,r.offset.click.left=n.offset.click.left,r.offset.parent.left-=n.offset.parent.left-r.offset.parent.left,r.offset.parent.top-=n.offset.parent.top-r.offset.parent.top,n._trigger("toSortable",t),n.dropped=r.element,e.each(n.sortables,(function(){this.refreshPositions()})),n.currentItem=n.element,r.fromOutside=n),r.currentItem&&(r._mouseDrag(t),i.position=r.position)):r.isOver&&(r.isOver=0,r.cancelHelperRemoval=!0,r.options._revert=r.options.revert,r.options.revert=!1,r._trigger("out",t,r._uiHash(r)),r._mouseStop(t,!0),r.options.revert=r.options._revert,r.options.helper=r.options._helper,r.placeholder&&r.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(t),i.position=n._generatePosition(t,!0),n._trigger("fromSortable",t),n.dropped=!1,e.each(n.sortables,(function(){this.refreshPositions()})))}))}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,n){var o=e("body"),r=n.options;o.css("cursor")&&(r._cursor=o.css("cursor")),o.css("cursor",r.cursor)},stop:function(t,i,n){var o=n.options;o._cursor&&e("body").css("cursor",o._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,n){var o=e(i.helper),r=n.options;o.css("opacity")&&(r._opacity=o.css("opacity")),o.css("opacity",r.opacity)},stop:function(t,i,n){var o=n.options;o._opacity&&e(i.helper).css("opacity",o._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,n){var o=n.options,r=!1,s=n.scrollParentNotHidden[0],a=n.document[0];s!==a&&"HTML"!==s.tagName?(o.axis&&"x"===o.axis||(n.overflowOffset.top+s.offsetHeight-t.pageY<o.scrollSensitivity?s.scrollTop=r=s.scrollTop+o.scrollSpeed:t.pageY-n.overflowOffset.top<o.scrollSensitivity&&(s.scrollTop=r=s.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(n.overflowOffset.left+s.offsetWidth-t.pageX<o.scrollSensitivity?s.scrollLeft=r=s.scrollLeft+o.scrollSpeed:t.pageX-n.overflowOffset.left<o.scrollSensitivity&&(s.scrollLeft=r=s.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(t.pageY-e(a).scrollTop()<o.scrollSensitivity?r=e(a).scrollTop(e(a).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<o.scrollSensitivity&&(r=e(a).scrollTop(e(a).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(t.pageX-e(a).scrollLeft()<o.scrollSensitivity?r=e(a).scrollLeft(e(a).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<o.scrollSensitivity&&(r=e(a).scrollLeft(e(a).scrollLeft()+o.scrollSpeed)))),!1!==r&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,n){var o=n.options;n.snapElements=[],e(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each((function(){var t=e(this),i=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})}))},drag:function(t,i,n){var o,r,s,a,l,c,d,u,h,p,f=n.options,m=f.snapTolerance,g=i.offset.left,v=g+n.helperProportions.width,b=i.offset.top,y=b+n.helperProportions.height;for(h=n.snapElements.length-1;h>=0;h--)c=(l=n.snapElements[h].left-n.margins.left)+n.snapElements[h].width,u=(d=n.snapElements[h].top-n.margins.top)+n.snapElements[h].height,v<l-m||g>c+m||y<d-m||b>u+m||!e.contains(n.snapElements[h].item.ownerDocument,n.snapElements[h].item)?(n.snapElements[h].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(o=Math.abs(d-y)<=m,r=Math.abs(u-b)<=m,s=Math.abs(l-v)<=m,a=Math.abs(c-g)<=m,o&&(i.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),p=o||r||s||a,"outer"!==f.snapMode&&(o=Math.abs(d-b)<=m,r=Math.abs(u-y)<=m,s=Math.abs(l-g)<=m,a=Math.abs(c-v)<=m,o&&(i.position.top=n._convertPositionTo("relative",{top:d,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[h].snapping&&(o||r||s||a||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=o||r||s||a||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,n){var o,r=n.options,s=e.makeArray(e(r.stack)).sort((function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)}));s.length&&(o=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each((function(t){e(this).css("zIndex",o+t)})),this.css("zIndex",o+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,n){var o=e(i.helper),r=n.options;o.css("zIndex")&&(r._zIndex=o.css("zIndex")),o.css("zIndex",r.zIndex)},stop:function(t,i,n){var o=n.options;o._zIndex&&e(i.helper).css("zIndex",o._zIndex)}}),e.ui.draggable})?n.apply(t,o):n)||(e.exports=r)}()},9914:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(1758),i(3662),i(6883),i(9139)],n=function(e){e.widget("ui.droppable",{version:"1.14.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,t=this.options,i=t.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof i?i:function(e){return e.is(i)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(t.scope),t.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,i){if("accept"===t)this.accept="function"==typeof i?i:function(e){return e.is(i)};else if("scope"===t){var n=e.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,o=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var i=e(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t))return o=!0,!1})),!o&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(n)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&e<t+i}return function(t,i,n,o){if(!i.offset)return!1;var r=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,a=r+t.helperProportions.width,l=s+t.helperProportions.height,c=i.offset.left,d=i.offset.top,u=c+i.proportions().width,h=d+i.proportions().height;switch(n){case"fit":return c<=r&&a<=u&&d<=s&&l<=h;case"intersect":return c<r+t.helperProportions.width/2&&a-t.helperProportions.width/2<u&&d<s+t.helperProportions.height/2&&l-t.helperProportions.height/2<h;case"pointer":return e(o.pageY,d,i.proportions().height)&&e(o.pageX,c,i.proportions().width);case"touch":return(s>=d&&s<=h||l>=d&&l<=h||s<d&&l>h)&&(r>=c&&r<=u||a>=c&&a<=u||r<c&&a>u);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var n,o,r=e.ui.ddmanager.droppables[t.options.scope]||[],s=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||t&&!r[n].accept.call(r[n].element[0],t.currentItem||t.element))){for(o=0;o<a.length;o++)if(a[o]===r[n].element[0]){r[n].proportions().height=0;continue e}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===s&&r[n]._activate.call(r[n],i),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))})),n},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",(function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}))},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,o,r,s=e.ui.intersect(t,this,this.options.tolerance,i),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(o=this.options.scope,(r=this.element.parents(":data(ui-droppable)").filter((function(){return e(this).droppable("instance").options.scope===o}))).length&&((n=e(r[0]).droppable("instance")).greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}}))},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},!0===e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});return e.ui.droppable},void 0===(r="function"==typeof n?n.apply(t,o):n)||(e.exports=r)}()},3662:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(6883),i(9139)],void 0===(r="function"==typeof(n=function(e){var t=!1;return e(document).on("mouseup",(function(){t=!1})),e.widget("ui.mouse",{version:"1.14.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).on("click."+this.widgetName,(function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,o=1===i.which,r="string"==typeof this.options.cancel&&e(i.target).closest(this.options.cancel).length;return!(o&&!r&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved&&!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e);return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})?n.apply(t,o):n)||(e.exports=r)}()},8604:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(3662),i(724),i(2336),i(6883),i(9139)],n=function(e){return e.widget("ui.resizable",e.ui.mouse,{version:"1.14.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,i){var n,o=!1,r=e(t).css("overflow");if("hidden"===r)return!1;if("scroll"===r)return!0;if(t[n=i&&"left"===i?"scrollLeft":"scrollTop"]>0)return!0;try{t[n]=1,o=t[n]>0,t[n]=0}catch(e){}return o},_create:function(){var t,i=this.options,n=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this._proportionallyResize()),this._setupHandles(),i.autoHide&&e(this.element).on("mouseenter",(function(){i.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())})).on("mouseleave",(function(){i.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();var t,i=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable")};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!t}},_setupHandles:function(){var t,i,n,o,r,s=this.options,a=this;if(this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this._addedHandles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},i=0;i<n.length;i++)o="ui-resizable-"+(t=String.prototype.trim.call(n[i])),r=e("<div>"),this._addClass(r,"ui-resizable-handle "+o),r.css({zIndex:s.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.children(this.handles[t]).length||(this.element.append(r),this._addedHandles=this._addedHandles.add(r));this._renderAxis=function(t){var i,n,o,r;for(i in t=t||this.element,this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=e(this.handles[i],this.element),r=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(o,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){a.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=r&&r[1]?r[1]:"se")})),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(t){var i,n,o=!1;for(i in this.handles)((n=e(this.handles[i])[0])===t.target||e.contains(n,t.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(t){var i,n,o,r,s=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),s.containment&&(i+=e(s.containment).scrollLeft()||0,n+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this._helper||(r=this._calculateAdjustedElementDimensions(a)),this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width,height:r.height},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:r.width,height:r.height},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,n,o=this.originalMousePosition,r=this.axis,s=t.pageX-o.left||0,a=t.pageY-o.top||0,l=this._change[r];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[t,s,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var i,n,o,r,s,a,l,c=this.options,d=this;return this._helper&&(o=(n=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:d.sizeDiff.height,r=n?0:d.sizeDiff.width,s={width:d.helper.width()-r,height:d.helper.height()-o},a=parseFloat(d.element.css("left"))+(d.position.left-d.originalPosition.left)||null,l=parseFloat(d.element.css("top"))+(d.position.top-d.originalPosition.top)||null,c.animate||this.element.css(e.extend(s,{top:l,left:a})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.helper.css(e),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px",this.helper.width(e.width)),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px",this.helper.height(e.height)),e},_updateVirtualBoundaries:function(e){var t,i,n,o,r,s=this.options;r={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=r.minHeight*this.aspectRatio,n=r.minWidth/this.aspectRatio,i=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,t>r.minWidth&&(r.minWidth=t),n>r.minHeight&&(r.minHeight=n),i<r.maxWidth&&(r.maxWidth=i),o<r.maxHeight&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,r=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return r&&(e.width=t.minWidth),s&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),r&&c&&(e.left=a-t.minWidth),n&&c&&(e.left=a-t.maxWidth),s&&d&&(e.top=l-t.minHeight),o&&d&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],n=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],o=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)i[t]=parseFloat(n[t])||0,i[t]+=parseFloat(o[t])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_calculateAdjustedElementDimensions:function(e){var t,i,n,o=e.get(0);return"content-box"!==e.css("box-sizing")||!this._hasScroll(o)&&!this._hasScroll(o,"left")?{height:parseFloat(e.css("height")),width:parseFloat(e.css("width"))}:(t=parseFloat(o.style.width),i=parseFloat(o.style.height),n=this._getPaddingPlusBorderDimensions(e),t=isNaN(t)?this._getElementTheoreticalSize(e,n,"width"):t,{height:i=isNaN(i)?this._getElementTheoreticalSize(e,n,"height"):i,width:t})},_getElementTheoreticalSize:function(e,t,i){return Math.max(0,Math.ceil(e.get(0)["offset"+i[0].toUpperCase()+i.slice(1)]-t[i]-.5))||0},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),n=i.options,o=i._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),s=r&&i._hasScroll(o[0],"left")?0:i.sizeDiff.height,a=r?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-s},c=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,d=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,d&&c?{top:d,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};o&&o.length&&e(o[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,n,o,r,s,a,l=e(this).resizable("instance"),c=l.options,d=l.element,u=c.containment,h=u instanceof e?u.get(0):/parent/.test(u)?d.parent().get(0):u;h&&(l.containerElement=e(h),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),i=[],e(["Top","Right","Left","Bottom"]).each((function(e,n){i[e]=l._num(t.css("padding"+n))})),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},n=l.containerOffset,o=l.containerSize.height,r=l.containerSize.width,s=l._hasScroll(h,"left")?h.scrollWidth:r,a=l._hasScroll(h)?h.scrollHeight:o,l.parentData={element:h,left:n.left,top:n.top,width:s,height:a}))},resize:function(t){var i,n,o,r,s=e(this).resizable("instance"),a=s.options,l=s.containerOffset,c=s.position,d=s._aspectRatio||t.shiftKey,u={top:0,left:0},h=s.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(u=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-u.left),d&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),d&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?l.top:0),o=s.containerElement.get(0)===s.element.parent().get(0),r=/relative|absolute/.test(s.containerElement.css("position")),o&&r?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),i=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-u.left:s.offset.left-l.left)),n=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-u.top:s.offset.top-l.top)),i+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-i,d&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),n+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-n,d&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,n=t.containerOffset,o=t.containerPosition,r=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,c=s.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(r.css("position"))&&e(this).css({left:a.left-o.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(r.css("position"))&&e(this).css({left:a.left-o.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each((function(){var i=e(this),n=t._calculateAdjustedElementDimensions(i);i.data("ui-resizable-alsoresize",{width:n.width,height:n.height,left:parseFloat(i.css("left")),top:parseFloat(i.css("top"))})}))},resize:function(t,i){var n=e(this).resizable("instance"),o=n.options,r=n.originalSize,s=n.originalPosition,a={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-s.top||0,left:n.position.left-s.left||0};e(o.alsoResize).each((function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),o={},r=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,(function(e,t){var i=(n[t]||0)+(a[t]||0);i&&i>=0&&(o[t]=i||null)})),t.css(o)}))},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!0===e.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),n=i.options,o=i.size,r=i.originalSize,s=i.originalPosition,a=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,d=l[1]||1,u=Math.round((o.width-r.width)/c)*c,h=Math.round((o.height-r.height)/d)*d,p=r.width+u,f=r.height+h,m=n.maxWidth&&n.maxWidth<p,g=n.maxHeight&&n.maxHeight<f,v=n.minWidth&&n.minWidth>p,b=n.minHeight&&n.minHeight>f;n.grid=l,v&&(p+=c),b&&(f+=d),m&&(p-=c),g&&(f-=d),/^(se|s|e)$/.test(a)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.top=s.top-h):/^(sw)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.left=s.left-u):((f-d<=0||p-c<=0)&&(t=i._getPaddingPlusBorderDimensions(this)),f-d>0?(i.size.height=f,i.position.top=s.top-h):(f=d-t.height,i.size.height=f,i.position.top=s.top+r.height-f),p-c>0?(i.size.width=p,i.position.left=s.left-u):(p=c-t.width,i.size.width=p,i.position.left=s.left+r.width-p))}}),e.ui.resizable},void 0===(r="function"==typeof n?n.apply(t,o):n)||(e.exports=r)}()},5285:(e,t,i)=>{var n,o,r;!function(){"use strict";o=[i(4692),i(3662),i(9983),i(2299),i(6883),i(9139)],n=function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.14.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,(function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var n=null,o=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each((function(){if(e.data(this,r.widgetName+"-item")===r)return n=e(this),!1})),e.data(t.target,r.widgetName+"-item")===r&&(n=e(t.target)),!!n&&(!(this.options.handle&&!i&&(e(this.options.handle,n).find("*").addBack().each((function(){this===t.target&&(o=!0)})),!o))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,i,n){var o,r,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.appendTo=e("parent"!==s.appendTo?s.appendTo:this.currentItem.parent()),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),e.extend(this.offset,{parent:this._getParentOffset()}),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(r=this.document.find("body"),this._storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(r)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(t),!0},_scroll:function(e){var t=this.options,i=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<t.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+t.scrollSpeed:e.pageY-this.overflowOffset.top<t.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-t.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<t.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+t.scrollSpeed:e.pageX-this.overflowOffset.left<t.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-t.scrollSpeed)):(e.pageY-this.document.scrollTop()<t.scrollSensitivity?i=this.document.scrollTop(this.document.scrollTop()-t.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<t.scrollSensitivity&&(i=this.document.scrollTop(this.document.scrollTop()+t.scrollSpeed)),e.pageX-this.document.scrollLeft()<t.scrollSensitivity?i=this.document.scrollLeft(this.document.scrollLeft()-t.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<t.scrollSensitivity&&(i=this.document.scrollLeft(this.document.scrollLeft()+t.scrollSpeed))),i},_mouseDrag:function(t){var i,n,o,r,s=this.options;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),s.scroll&&!1!==this._scroll(t)&&(this._refreshItemPositions(!0),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},i=this.items.length-1;i>=0;i--)if(o=(n=this.items[i]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===o||e.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],o))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,o=this.placeholder.offset(),r=this.options.axis,s={};r&&"x"!==r||(s.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(s.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,(function(){n._clear(t)}))}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each((function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))})),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each((function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")})),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,r=e.left,s=r+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,d=this.offset.click.left,u="x"===this.options.axis||n+c>a&&n+c<l,h="y"===this.options.axis||t+d>r&&t+d<s,p=u&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:r<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&a<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!n||!o)&&(t=this.dragDirection.vertical,i=this.dragDirection.horizontal,this.floating?"right"===i||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this.dragDirection.vertical,o=this.dragDirection.horizontal;return this.floating&&o?"right"===o&&i||"left"===o&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,n,o,r,s=[],a=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(n=(o=e(l[i],this.document[0])).length-1;n>=0;n--)(r=e.data(o[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&a.push(["function"==typeof r.options.items?r.options.items.call(r.element):e(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);function c(){s.push(this)}for(a.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(c);return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,(function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0}))},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,o,r,s,a,l,c,d=this.items,u=[["function"==typeof this.options.items?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(n=(o=e(h[i],this.document[0])).length-1;n>=0;n--)(r=e.data(o[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(u.push(["function"==typeof r.options.items?r.options.items.call(r.element[0],t,{item:this.currentItem}):e(r.options.items,r.element),r]),this.containers.push(r));for(i=u.length-1;i>=0;i--)for(s=u[i][1],n=0,c=(a=u[i][0]).length;n<c;n++)(l=e(a[n])).data(this.widgetName+"-item",s),d.push({item:l,instance:s,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(t){var i,n,o,r;for(i=this.items.length-1;i>=0;i--)n=this.items[i],this.currentContainer&&n.instance!==this.currentContainer&&n.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=o.outerWidth(),n.height=o.outerHeight()),r=o.offset(),n.left=r.left,n.top=r.top)},refreshPositions:function(e){var t,i;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(e),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;t>=0;t--)i=this.containers[t].element.offset(),this.containers[t].containerCache.left=i.left,this.containers[t].containerCache.top=i.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(t){var i,n,o=(t=t||this).options;o.placeholder&&o.placeholder.constructor!==String||(i=o.placeholder,n=t.currentItem[0].nodeName.toLowerCase(),o.placeholder={element:function(){var o=e("<"+n+">",t.document[0]);return t._addClass(o,"ui-sortable-placeholder",i||t.currentItem[0].className)._removeClass(o,"ui-sortable-helper"),"tbody"===n?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(o)):"tr"===n?t._createTrPlaceholder(t.currentItem,o):"img"===n&&o.attr("src",t.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(e,r){i&&!o.forcePlaceholderSize||(r.height()&&(!o.forcePlaceholderSize||"tbody"!==n&&"tr"!==n)||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(o.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),o.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var n=this;t.children().each((function(){e("<td>&#160;</td>",n.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)}))},_contactContainers:function(t){var i,n,o,r,s,a,l,c,d,u,h=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(h&&e.contains(this.containers[i].element[0],h.element[0]))continue;h=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(o=1e4,r=null,s=(d=h.floating||this._isFloating(this.currentItem))?"left":"top",a=d?"width":"height",u=d?"pageX":"pageY",n=this.items.length-1;n>=0;n--)e.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[s],c=!1,t[u]-l>this.items[n][a]/2&&(c=!0),Math.abs(t[u]-l)<o&&(o=Math.abs(t[u]-l),r=this.items[n],this.direction=c?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,n="function"==typeof i.helper?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||this.appendTo[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this.offsetParent[0]===this.document[0].body&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(t=e(o.containment)[0],i=e(o.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*n}},_generatePosition:function(t){var i,n,o=this.options,r=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((s-this.originalPageY)/o.grid[1])*o.grid[1],s=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,n=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-o.grid[0]:n+o.grid[0]:n)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay((function(){o===this.counter&&this.refreshPositions(!n)}))},_clear:function(e,t){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function o(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}for(this.fromOutside&&!t&&n.push((function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push((function(e){this._trigger("update",e,this._uiHash())})),this!==this.currentContainer&&(t||(n.push((function(e){this._trigger("remove",e,this._uiHash())})),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||n.push(o("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(o("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this._storedStylesheet&&(this._storedStylesheet.remove(),this._storedStylesheet=null),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})},void 0===(r="function"==typeof n?n.apply(t,o):n)||(e.exports=r)}()},8851:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>se});var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,o=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var r=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),o))}};function s(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e,t){if(1!==e.nodeType)return[];var i=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?i[t]:i}function l(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=a(e),i=t.overflow,n=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(i+o+n)?e:c(l(e))}function d(e){return e&&e.referenceNode?e.referenceNode:e}var u=n&&!(!window.MSInputMethodContext||!document.documentMode),h=n&&/MSIE 10/.test(navigator.userAgent);function p(e){return 11===e?u:10===e?h:u||h}function f(e){if(!e)return document.documentElement;for(var t=p(10)?document.body:null,i=e.offsetParent||null;i===t&&e.nextElementSibling;)i=(e=e.nextElementSibling).offsetParent;var n=i&&i.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===a(i,"position")?f(i):i:e?e.ownerDocument.documentElement:document.documentElement}function m(e){return null!==e.parentNode?m(e.parentNode):e}function g(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var i=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=i?e:t,o=i?t:e,r=document.createRange();r.setStart(n,0),r.setEnd(o,0);var s,a,l=r.commonAncestorContainer;if(e!==l&&t!==l||n.contains(o))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&f(s.firstElementChild)!==s?f(l):l;var c=m(e);return c.host?g(c.host,t):g(e,m(t).host)}function v(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var n=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||n)[t]}return e[t]}function b(e,t){var i="x"===t?"Left":"Top",n="Left"===i?"Right":"Bottom";return parseFloat(e["border"+i+"Width"])+parseFloat(e["border"+n+"Width"])}function y(e,t,i,n){return Math.max(t["offset"+e],t["scroll"+e],i["client"+e],i["offset"+e],i["scroll"+e],p(10)?parseInt(i["offset"+e])+parseInt(n["margin"+("Height"===e?"Top":"Left")])+parseInt(n["margin"+("Height"===e?"Bottom":"Right")]):0)}function w(e){var t=e.body,i=e.documentElement,n=p(10)&&getComputedStyle(i);return{height:y("Height",t,i,n),width:y("Width",t,i,n)}}var x=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),C=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};function S(e){return k({},e,{right:e.left+e.width,bottom:e.top+e.height})}function $(e){var t={};try{if(p(10)){t=e.getBoundingClientRect();var i=v(e,"top"),n=v(e,"left");t.top+=i,t.left+=n,t.bottom+=i,t.right+=n}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},r="HTML"===e.nodeName?w(e.ownerDocument):{},s=r.width||e.clientWidth||o.width,l=r.height||e.clientHeight||o.height,c=e.offsetWidth-s,d=e.offsetHeight-l;if(c||d){var u=a(e);c-=b(u,"x"),d-=b(u,"y"),o.width-=c,o.height-=d}return S(o)}function _(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=p(10),o="HTML"===t.nodeName,r=$(e),s=$(t),l=c(e),d=a(t),u=parseFloat(d.borderTopWidth),h=parseFloat(d.borderLeftWidth);i&&o&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var f=S({top:r.top-s.top-u,left:r.left-s.left-h,width:r.width,height:r.height});if(f.marginTop=0,f.marginLeft=0,!n&&o){var m=parseFloat(d.marginTop),g=parseFloat(d.marginLeft);f.top-=u-m,f.bottom-=u-m,f.left-=h-g,f.right-=h-g,f.marginTop=m,f.marginLeft=g}return(n&&!i?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(f=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=v(t,"top"),o=v(t,"left"),r=i?-1:1;return e.top+=n*r,e.bottom+=n*r,e.left+=o*r,e.right+=o*r,e}(f,t)),f}function D(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===a(e,"position"))return!0;var i=l(e);return!!i&&D(i)}function T(e){if(!e||!e.parentElement||p())return document.documentElement;for(var t=e.parentElement;t&&"none"===a(t,"transform");)t=t.parentElement;return t||document.documentElement}function j(e,t,i,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},s=o?T(e):g(e,d(t));if("viewport"===n)r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.ownerDocument.documentElement,n=_(e,i),o=Math.max(i.clientWidth,window.innerWidth||0),r=Math.max(i.clientHeight,window.innerHeight||0),s=t?0:v(i),a=t?0:v(i,"left");return S({top:s-n.top+n.marginTop,left:a-n.left+n.marginLeft,width:o,height:r})}(s,o);else{var a=void 0;"scrollParent"===n?"BODY"===(a=c(l(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===n?e.ownerDocument.documentElement:n;var u=_(a,s,o);if("HTML"!==a.nodeName||D(s))r=u;else{var h=w(e.ownerDocument),p=h.height,f=h.width;r.top+=u.top-u.marginTop,r.bottom=p+u.top,r.left+=u.left-u.marginLeft,r.right=f+u.left}}var m="number"==typeof(i=i||0);return r.left+=m?i:i.left||0,r.top+=m?i:i.top||0,r.right-=m?i:i.right||0,r.bottom-=m?i:i.bottom||0,r}function O(e,t,i,n,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=j(i,n,r,o),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(a).map((function(e){return k({key:e},a[e],{area:(t=a[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,n=e.height;return t>=i.clientWidth&&n>=i.clientHeight})),d=c.length>0?c[0].key:l[0].key,u=e.split("-")[1];return d+(u?"-"+u:"")}function I(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _(i,n?T(t):g(t,d(i)),n)}function E(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),i=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),n=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+n,height:e.offsetHeight+i}}function R(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function P(e,t,i){i=i.split("-")[0];var n=E(e),o={width:n.width,height:n.height},r=-1!==["right","left"].indexOf(i),s=r?"top":"left",a=r?"left":"top",l=r?"height":"width",c=r?"width":"height";return o[s]=t[s]+t[l]/2-n[l]/2,o[a]=i===a?t[a]-n[c]:t[R(a)],o}function A(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function N(e,t,i){return(void 0===i?e:e.slice(0,function(e,t,i){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===i}));var n=A(e,(function(e){return e[t]===i}));return e.indexOf(n)}(e,"name",i))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=e.function||e.fn;e.enabled&&s(i)&&(t.offsets.popper=S(t.offsets.popper),t.offsets.reference=S(t.offsets.reference),t=i(t,e))})),t}function F(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=I(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=O(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=P(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=N(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function M(e,t){return e.some((function(e){var i=e.name;return e.enabled&&i===t}))}function L(e){for(var t=[!1,"ms","Webkit","Moz","O"],i=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var o=t[n],r=o?""+o+i:e;if(void 0!==document.body.style[r])return r}return null}function z(){return this.state.isDestroyed=!0,M(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[L("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function q(e){var t=e.ownerDocument;return t?t.defaultView:window}function B(e,t,i,n){var o="BODY"===e.nodeName,r=o?e.ownerDocument.defaultView:e;r.addEventListener(t,i,{passive:!0}),o||B(c(r.parentNode),t,i,n),n.push(r)}function H(e,t,i,n){i.updateBound=n,q(e).addEventListener("resize",i.updateBound,{passive:!0});var o=c(e);return B(o,"scroll",i.updateBound,i.scrollParents),i.scrollElement=o,i.eventsEnabled=!0,i}function G(){this.state.eventsEnabled||(this.state=H(this.reference,this.options,this.state,this.scheduleUpdate))}function W(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,q(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function U(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function V(e,t){Object.keys(t).forEach((function(i){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&U(t[i])&&(n="px"),e.style[i]=t[i]+n}))}var Y=n&&/Firefox/i.test(navigator.userAgent);function X(e,t,i){var n=A(e,(function(e){return e.name===t})),o=!!n&&e.some((function(e){return e.name===i&&e.enabled&&e.order<n.order}));if(!o){var r="`"+t+"`",s="`"+i+"`";console.warn(s+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return o}var J=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],K=J.slice(3);function Q(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=K.indexOf(e),n=K.slice(i+1).concat(K.slice(0,i));return t?n.reverse():n}var Z="flip",ee="clockwise",te="counterclockwise";function ie(e,t,i,n){var o=[0,0],r=-1!==["right","left"].indexOf(n),s=e.split(/(\+|\-)/).map((function(e){return e.trim()})),a=s.indexOf(A(s,(function(e){return-1!==e.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return c=c.map((function(e,n){var o=(1===n?!r:r)?"height":"width",s=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,i,n){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+o[1],s=o[2];if(!r)return e;if(0===s.indexOf("%")){return S("%p"===s?i:n)[t]/100*r}if("vh"===s||"vw"===s)return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r;return r}(e,o,t,i)}))})),c.forEach((function(e,t){e.forEach((function(i,n){U(i)&&(o[t]+=i*("-"===e[n-1]?-1:1))}))})),o}var ne={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,i=t.split("-")[0],n=t.split("-")[1];if(n){var o=e.offsets,r=o.reference,s=o.popper,a=-1!==["bottom","top"].indexOf(i),l=a?"left":"top",c=a?"width":"height",d={start:C({},l,r[l]),end:C({},l,r[l]+r[c]-s[c])};e.offsets.popper=k({},s,d[n])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var i=t.offset,n=e.placement,o=e.offsets,r=o.popper,s=o.reference,a=n.split("-")[0],l=void 0;return l=U(+i)?[+i,0]:ie(i,r,s,a),"left"===a?(r.top+=l[0],r.left-=l[1]):"right"===a?(r.top+=l[0],r.left+=l[1]):"top"===a?(r.left+=l[0],r.top-=l[1]):"bottom"===a&&(r.left+=l[0],r.top+=l[1]),e.popper=r,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var i=t.boundariesElement||f(e.instance.popper);e.instance.reference===i&&(i=f(i));var n=L("transform"),o=e.instance.popper.style,r=o.top,s=o.left,a=o[n];o.top="",o.left="",o[n]="";var l=j(e.instance.popper,e.instance.reference,t.padding,i,e.positionFixed);o.top=r,o.left=s,o[n]=a,t.boundaries=l;var c=t.priority,d=e.offsets.popper,u={primary:function(e){var i=d[e];return d[e]<l[e]&&!t.escapeWithReference&&(i=Math.max(d[e],l[e])),C({},e,i)},secondary:function(e){var i="right"===e?"left":"top",n=d[i];return d[e]>l[e]&&!t.escapeWithReference&&(n=Math.min(d[i],l[e]-("right"===e?d.width:d.height))),C({},i,n)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";d=k({},d,u[t](e))})),e.offsets.popper=d,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,i=t.popper,n=t.reference,o=e.placement.split("-")[0],r=Math.floor,s=-1!==["top","bottom"].indexOf(o),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return i[a]<r(n[l])&&(e.offsets.popper[l]=r(n[l])-i[c]),i[l]>r(n[a])&&(e.offsets.popper[l]=r(n[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var i;if(!X(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"==typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],r=e.offsets,s=r.popper,l=r.reference,c=-1!==["left","right"].indexOf(o),d=c?"height":"width",u=c?"Top":"Left",h=u.toLowerCase(),p=c?"left":"top",f=c?"bottom":"right",m=E(n)[d];l[f]-m<s[h]&&(e.offsets.popper[h]-=s[h]-(l[f]-m)),l[h]+m>s[f]&&(e.offsets.popper[h]+=l[h]+m-s[f]),e.offsets.popper=S(e.offsets.popper);var g=l[h]+l[d]/2-m/2,v=a(e.instance.popper),b=parseFloat(v["margin"+u]),y=parseFloat(v["border"+u+"Width"]),w=g-e.offsets.popper[h]-b-y;return w=Math.max(Math.min(s[d]-m,w),0),e.arrowElement=n,e.offsets.arrow=(C(i={},h,Math.round(w)),C(i,p,""),i),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(M(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var i=j(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split("-")[0],o=R(n),r=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case Z:s=[n,o];break;case ee:s=Q(n);break;case te:s=Q(n,!0);break;default:s=t.behavior}return s.forEach((function(a,l){if(n!==a||s.length===l+1)return e;n=e.placement.split("-")[0],o=R(n);var c=e.offsets.popper,d=e.offsets.reference,u=Math.floor,h="left"===n&&u(c.right)>u(d.left)||"right"===n&&u(c.left)<u(d.right)||"top"===n&&u(c.bottom)>u(d.top)||"bottom"===n&&u(c.top)<u(d.bottom),p=u(c.left)<u(i.left),f=u(c.right)>u(i.right),m=u(c.top)<u(i.top),g=u(c.bottom)>u(i.bottom),v="left"===n&&p||"right"===n&&f||"top"===n&&m||"bottom"===n&&g,b=-1!==["top","bottom"].indexOf(n),y=!!t.flipVariations&&(b&&"start"===r&&p||b&&"end"===r&&f||!b&&"start"===r&&m||!b&&"end"===r&&g),w=!!t.flipVariationsByContent&&(b&&"start"===r&&f||b&&"end"===r&&p||!b&&"start"===r&&g||!b&&"end"===r&&m),x=y||w;(h||v||x)&&(e.flipped=!0,(h||v)&&(n=s[l+1]),x&&(r=function(e){return"end"===e?"start":"start"===e?"end":e}(r)),e.placement=n+(r?"-"+r:""),e.offsets.popper=k({},e.offsets.popper,P(e.instance.popper,e.offsets.reference,e.placement)),e=N(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,i=t.split("-")[0],n=e.offsets,o=n.popper,r=n.reference,s=-1!==["left","right"].indexOf(i),a=-1===["top","left"].indexOf(i);return o[s?"left":"top"]=r[i]-(a?o[s?"width":"height"]:0),e.placement=R(t),e.offsets.popper=S(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!X(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,i=A(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<i.top||t.left>i.right||t.top>i.bottom||t.right<i.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var i=t.x,n=t.y,o=e.offsets.popper,r=A(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==r?r:t.gpuAcceleration,a=f(e.instance.popper),l=$(a),c={position:o.position},d=function(e,t){var i=e.offsets,n=i.popper,o=i.reference,r=Math.round,s=Math.floor,a=function(e){return e},l=r(o.width),c=r(n.width),d=-1!==["left","right"].indexOf(e.placement),u=-1!==e.placement.indexOf("-"),h=t?d||u||l%2==c%2?r:s:a,p=t?r:a;return{left:h(l%2==1&&c%2==1&&!u&&t?n.left-1:n.left),top:p(n.top),bottom:p(n.bottom),right:h(n.right)}}(e,window.devicePixelRatio<2||!Y),u="bottom"===i?"top":"bottom",h="right"===n?"left":"right",p=L("transform"),m=void 0,g=void 0;if(g="bottom"===u?"HTML"===a.nodeName?-a.clientHeight+d.bottom:-l.height+d.bottom:d.top,m="right"===h?"HTML"===a.nodeName?-a.clientWidth+d.right:-l.width+d.right:d.left,s&&p)c[p]="translate3d("+m+"px, "+g+"px, 0)",c[u]=0,c[h]=0,c.willChange="transform";else{var v="bottom"===u?-1:1,b="right"===h?-1:1;c[u]=g*v,c[h]=m*b,c.willChange=u+", "+h}var y={"x-placement":e.placement};return e.attributes=k({},y,e.attributes),e.styles=k({},c,e.styles),e.arrowStyles=k({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,i;return V(e.instance.popper,e.styles),t=e.instance.popper,i=e.attributes,Object.keys(i).forEach((function(e){!1!==i[e]?t.setAttribute(e,i[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&V(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,i,n,o){var r=I(o,t,e,i.positionFixed),s=O(i.placement,r,t,e,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return t.setAttribute("x-placement",s),V(t,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}},oe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:ne},re=function(){function e(t,i){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=r(this.update.bind(this)),this.options=k({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(k({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){n.options.modifiers[t]=k({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return k({name:e},n.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&s(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return x(e,[{key:"update",value:function(){return F.call(this)}},{key:"destroy",value:function(){return z.call(this)}},{key:"enableEventListeners",value:function(){return G.call(this)}},{key:"disableEventListeners",value:function(){return W.call(this)}}]),e}();re.Utils=("undefined"!=typeof window?window:i.g).PopperUtils,re.placements=J,re.Defaults=oe;const se=re},5606:e=>{var t,i,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(i){try{return t.call(null,e,0)}catch(i){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(e){i=r}}();var a,l=[],c=!1,d=-1;function u(){c&&a&&(c=!1,a.length?l=a.concat(l):d=-1,l.length&&h())}function h(){if(!c){var e=s(u);c=!0;for(var t=l.length;t;){for(a=l,l=[];++d<t;)a&&a[d].run();d=-1,t=l.length}a=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];l.push(new p(e,t)),1!==l.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=f,n.addListener=f,n.once=f,n.off=f,n.removeListener=f,n.removeAllListeners=f,n.emit=f,n.prependListener=f,n.prependOnceListener=f,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},6479:e=>{var t;window,t=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=2)}([function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},n(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var r=256,s=function(){function e(e){void 0===e&&(e="="),this._paddingCharacter=e}return e.prototype.encodedLength=function(e){return this._paddingCharacter?(e+2)/3*4|0:(8*e+5)/6|0},e.prototype.encode=function(e){for(var t="",i=0;i<e.length-2;i+=3){var n=e[i]<<16|e[i+1]<<8|e[i+2];t+=this._encodeByte(n>>>18&63),t+=this._encodeByte(n>>>12&63),t+=this._encodeByte(n>>>6&63),t+=this._encodeByte(n>>>0&63)}var o=e.length-i;return o>0&&(n=e[i]<<16|(2===o?e[i+1]<<8:0),t+=this._encodeByte(n>>>18&63),t+=this._encodeByte(n>>>12&63),t+=2===o?this._encodeByte(n>>>6&63):this._paddingCharacter||"",t+=this._paddingCharacter||""),t},e.prototype.maxDecodedLength=function(e){return this._paddingCharacter?e/4*3|0:(6*e+7)/8|0},e.prototype.decodedLength=function(e){return this.maxDecodedLength(e.length-this._getPaddingLength(e))},e.prototype.decode=function(e){if(0===e.length)return new Uint8Array(0);for(var t=this._getPaddingLength(e),i=e.length-t,n=new Uint8Array(this.maxDecodedLength(i)),o=0,s=0,a=0,l=0,c=0,d=0,u=0;s<i-4;s+=4)l=this._decodeChar(e.charCodeAt(s+0)),c=this._decodeChar(e.charCodeAt(s+1)),d=this._decodeChar(e.charCodeAt(s+2)),u=this._decodeChar(e.charCodeAt(s+3)),n[o++]=l<<2|c>>>4,n[o++]=c<<4|d>>>2,n[o++]=d<<6|u,a|=l&r,a|=c&r,a|=d&r,a|=u&r;if(s<i-1&&(l=this._decodeChar(e.charCodeAt(s)),c=this._decodeChar(e.charCodeAt(s+1)),n[o++]=l<<2|c>>>4,a|=l&r,a|=c&r),s<i-2&&(d=this._decodeChar(e.charCodeAt(s+2)),n[o++]=c<<4|d>>>2,a|=d&r),s<i-3&&(u=this._decodeChar(e.charCodeAt(s+3)),n[o++]=d<<6|u,a|=u&r),0!==a)throw new Error("Base64Coder: incorrect characters for decoding");return n},e.prototype._encodeByte=function(e){var t=e;return t+=65,t+=25-e>>>8&6,t+=51-e>>>8&-75,t+=61-e>>>8&-15,t+=62-e>>>8&3,String.fromCharCode(t)},e.prototype._decodeChar=function(e){var t=r;return t+=(42-e&e-44)>>>8&-256+e-43+62,t+=(46-e&e-48)>>>8&-256+e-47+63,t+=(47-e&e-58)>>>8&-256+e-48+52,t+=(64-e&e-91)>>>8&-256+e-65+0,t+=(96-e&e-123)>>>8&-256+e-97+26},e.prototype._getPaddingLength=function(e){var t=0;if(this._paddingCharacter){for(var i=e.length-1;i>=0&&e[i]===this._paddingCharacter;i--)t++;if(e.length<4||t>2)throw new Error("Base64Coder: incorrect padding")}return t},e}();t.Coder=s;var a=new s;t.encode=function(e){return a.encode(e)},t.decode=function(e){return a.decode(e)};var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._encodeByte=function(e){var t=e;return t+=65,t+=25-e>>>8&6,t+=51-e>>>8&-75,t+=61-e>>>8&-13,t+=62-e>>>8&49,String.fromCharCode(t)},t.prototype._decodeChar=function(e){var t=r;return t+=(44-e&e-46)>>>8&-256+e-45+62,t+=(94-e&e-96)>>>8&-256+e-95+63,t+=(47-e&e-58)>>>8&-256+e-48+52,t+=(64-e&e-91)>>>8&-256+e-65+0,t+=(96-e&e-123)>>>8&-256+e-97+26},t}(s);t.URLSafeCoder=l;var c=new l;t.encodeURLSafe=function(e){return c.encode(e)},t.decodeURLSafe=function(e){return c.decode(e)},t.encodedLength=function(e){return a.encodedLength(e)},t.maxDecodedLength=function(e){return a.maxDecodedLength(e)},t.decodedLength=function(e){return a.decodedLength(e)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="utf8: invalid string",o="utf8: invalid source encoding";function r(e){for(var t=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(o<128)t+=1;else if(o<2048)t+=2;else if(o<55296)t+=3;else{if(!(o<=57343))throw new Error(n);if(i>=e.length-1)throw new Error(n);i++,t+=4}}return t}t.encode=function(e){for(var t=new Uint8Array(r(e)),i=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t[i++]=o:o<2048?(t[i++]=192|o>>6,t[i++]=128|63&o):o<55296?(t[i++]=224|o>>12,t[i++]=128|o>>6&63,t[i++]=128|63&o):(n++,o=(1023&o)<<10,o|=1023&e.charCodeAt(n),o+=65536,t[i++]=240|o>>18,t[i++]=128|o>>12&63,t[i++]=128|o>>6&63,t[i++]=128|63&o)}return t},t.encodedLength=r,t.decode=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];if(128&n){var r=void 0;if(n<224){if(i>=e.length)throw new Error(o);if(128!=(192&(s=e[++i])))throw new Error(o);n=(31&n)<<6|63&s,r=128}else if(n<240){if(i>=e.length-1)throw new Error(o);var s=e[++i],a=e[++i];if(128!=(192&s)||128!=(192&a))throw new Error(o);n=(15&n)<<12|(63&s)<<6|63&a,r=2048}else{if(!(n<248))throw new Error(o);if(i>=e.length-2)throw new Error(o);s=e[++i],a=e[++i];var l=e[++i];if(128!=(192&s)||128!=(192&a)||128!=(192&l))throw new Error(o);n=(15&n)<<18|(63&s)<<12|(63&a)<<6|63&l,r=65536}if(n<r||n>=55296&&n<=57343)throw new Error(o);if(n>=65536){if(n>1114111)throw new Error(o);n-=65536,t.push(String.fromCharCode(55296|n>>10)),n=56320|1023&n}}t.push(String.fromCharCode(n))}return t.join("")}},function(e,t,i){e.exports=i(3).default},function(e,t,i){"use strict";i.r(t);class n{constructor(e,t){this.lastId=0,this.prefix=e,this.name=t}create(e){this.lastId++;var t=this.lastId,i=this.prefix+t,n=this.name+"["+t+"]",o=!1,r=function(){o||(e.apply(null,arguments),o=!0)};return this[t]=r,{number:t,id:i,name:n,callback:r}}remove(e){delete this[e.number]}}var o=new n("_pusher_script_","Pusher.ScriptReceivers"),r={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},s=new n("_pusher_dependencies","Pusher.DependenciesReceivers"),a=new class{constructor(e){this.options=e,this.receivers=e.receivers||o,this.loading={}}load(e,t,i){var n=this;if(n.loading[e]&&n.loading[e].length>0)n.loading[e].push(i);else{n.loading[e]=[i];var o=dt.createScriptRequest(n.getPath(e,t)),r=n.receivers.create((function(t){if(n.receivers.remove(r),n.loading[e]){var i=n.loading[e];delete n.loading[e];for(var s=function(e){e||o.cleanup()},a=0;a<i.length;a++)i[a](t,s)}}));o.send(r)}}getRoot(e){var t=dt.getDocument().location.protocol;return(e&&e.useTLS||"https:"===t?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version}getPath(e,t){return this.getRoot(t)+"/"+e+this.options.suffix+".js"}}({cdn_http:r.cdn_http,cdn_https:r.cdn_https,version:r.VERSION,suffix:r.dependency_suffix,receivers:s});const l={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var c,d=function(e){const t=l.urls[e];if(!t)return"";let i;return t.fullUrl?i=t.fullUrl:t.path&&(i=l.baseUrl+t.path),i?`See: ${i}`:""};!function(e){e.UserAuthentication="user-authentication",e.ChannelAuthorization="channel-authorization"}(c||(c={}));class u extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class h extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class p extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class f extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class m extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class g extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class v extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class b extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class y extends Error{constructor(e,t){super(t),this.status=e,Object.setPrototypeOf(this,new.target.prototype)}}for(var w=function(e,t,i,n,o){const r=dt.createXHR();for(var s in r.open("POST",i.endpoint,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.headers)r.setRequestHeader(s,i.headers[s]);if(null!=i.headersProvider){let e=i.headersProvider();for(var s in e)r.setRequestHeader(s,e[s])}return r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){let e,t=!1;try{e=JSON.parse(r.responseText),t=!0}catch(e){o(new y(200,`JSON returned from ${n.toString()} endpoint was invalid, yet status code was 200. Data was: ${r.responseText}`),null)}t&&o(null,e)}else{let e="";switch(n){case c.UserAuthentication:e=d("authenticationEndpoint");break;case c.ChannelAuthorization:e=`Clients must be authorized to join private or presence channels. ${d("authorizationEndpoint")}`}o(new y(r.status,`Unable to retrieve auth string from ${n.toString()} endpoint - received status: ${r.status} from ${i.endpoint}. ${e}`),null)}},r.send(t),r},x=String.fromCharCode,C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k={},S=0;S<64;S++)k[C.charAt(S)]=S;var $=function(e){var t=e.charCodeAt(0);return t<128?e:t<2048?x(192|t>>>6)+x(128|63&t):x(224|t>>>12&15)+x(128|t>>>6&63)+x(128|63&t)},_=function(e){return e.replace(/[^\x00-\x7F]/g,$)},D=function(e){var t=[0,2,1][e.length%3],i=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[C.charAt(i>>>18),C.charAt(i>>>12&63),t>=2?"=":C.charAt(i>>>6&63),t>=1?"=":C.charAt(63&i)].join("")},T=window.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,D)},j=class{constructor(e,t,i,n){this.clear=t,this.timer=e((()=>{this.timer&&(this.timer=n(this.timer))}),i)}isRunning(){return null!==this.timer}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}};function O(e){window.clearTimeout(e)}function I(e){window.clearInterval(e)}class E extends j{constructor(e,t){super(setTimeout,O,e,(function(e){return t(),null}))}}class R extends j{constructor(e,t){super(setInterval,I,e,(function(e){return t(),e}))}}var P={now:()=>Date.now?Date.now():(new Date).valueOf(),defer:e=>new E(0,e),method(e,...t){var i=Array.prototype.slice.call(arguments,1);return function(t){return t[e].apply(t,i.concat(arguments))}}},A=P;function N(e,...t){for(var i=0;i<t.length;i++){var n=t[i];for(var o in n)n[o]&&n[o].constructor&&n[o].constructor===Object?e[o]=N(e[o]||{},n[o]):e[o]=n[o]}return e}function F(){for(var e=["Pusher"],t=0;t<arguments.length;t++)"string"==typeof arguments[t]?e.push(arguments[t]):e.push(Y(arguments[t]));return e.join(" : ")}function M(e,t){var i=Array.prototype.indexOf;if(null===e)return-1;if(i&&e.indexOf===i)return e.indexOf(t);for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1}function L(e,t){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(e[i],i,e)}function z(e){var t=[];return L(e,(function(e,i){t.push(i)})),t}function q(e,t,i){for(var n=0;n<e.length;n++)t.call(i||window,e[n],n,e)}function B(e,t){for(var i=[],n=0;n<e.length;n++)i.push(t(e[n],n,e,i));return i}function H(e,t){t=t||function(e){return!!e};for(var i=[],n=0;n<e.length;n++)t(e[n],n,e,i)&&i.push(e[n]);return i}function G(e,t){var i={};return L(e,(function(n,o){(t&&t(n,o,e,i)||Boolean(n))&&(i[o]=n)})),i}function W(e,t){for(var i=0;i<e.length;i++)if(t(e[i],i,e))return!0;return!1}function U(e){return t=function(e){return"object"==typeof e&&(e=Y(e)),encodeURIComponent((t=e.toString(),T(_(t))));var t},i={},L(e,(function(e,n){i[n]=t(e)})),i;var t,i}function V(e){var t,i,n=G(e,(function(e){return void 0!==e}));return B((t=U(n),i=[],L(t,(function(e,t){i.push([t,e])})),i),A.method("join","=")).join("&")}function Y(e){try{return JSON.stringify(e)}catch(n){return JSON.stringify((t=[],i=[],function e(n,o){var r,s,a;switch(typeof n){case"object":if(!n)return null;for(r=0;r<t.length;r+=1)if(t[r]===n)return{$ref:i[r]};if(t.push(n),i.push(o),"[object Array]"===Object.prototype.toString.apply(n))for(a=[],r=0;r<n.length;r+=1)a[r]=e(n[r],o+"["+r+"]");else for(s in a={},n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=e(n[s],o+"["+JSON.stringify(s)+"]"));return a;case"number":case"string":case"boolean":return n}}(e,"$")))}var t,i}var X=new class{constructor(){this.globalLog=e=>{window.console&&window.console.log&&window.console.log(e)}}debug(...e){this.log(this.globalLog,e)}warn(...e){this.log(this.globalLogWarn,e)}error(...e){this.log(this.globalLogError,e)}globalLogWarn(e){window.console&&window.console.warn?window.console.warn(e):this.globalLog(e)}globalLogError(e){window.console&&window.console.error?window.console.error(e):this.globalLogWarn(e)}log(e,...t){var i=F.apply(this,arguments);Ot.log?Ot.log(i):Ot.logToConsole&&e.bind(this)(i)}},J=function(e,t,i,n,o){void 0===i.headers&&null==i.headersProvider||X.warn(`To send headers with the ${n.toString()} request, you must use AJAX, rather than JSONP.`);var r=e.nextAuthCallbackID.toString();e.nextAuthCallbackID++;var s=e.getDocument(),a=s.createElement("script");e.auth_callbacks[r]=function(e){o(null,e)};var l="Pusher.auth_callbacks['"+r+"']";a.src=i.endpoint+"?callback="+encodeURIComponent(l)+"&"+t;var c=s.getElementsByTagName("head")[0]||s.documentElement;c.insertBefore(a,c.firstChild)};class K{constructor(e){this.src=e}send(e){var t=this,i="Error loading "+t.src;t.script=document.createElement("script"),t.script.id=e.id,t.script.src=t.src,t.script.type="text/javascript",t.script.charset="UTF-8",t.script.addEventListener?(t.script.onerror=function(){e.callback(i)},t.script.onload=function(){e.callback(null)}):t.script.onreadystatechange=function(){"loaded"!==t.script.readyState&&"complete"!==t.script.readyState||e.callback(null)},void 0===t.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(t.errorScript=document.createElement("script"),t.errorScript.id=e.id+"_error",t.errorScript.text=e.name+"('"+i+"');",t.script.async=t.errorScript.async=!1):t.script.async=!0;var n=document.getElementsByTagName("head")[0];n.insertBefore(t.script,n.firstChild),t.errorScript&&n.insertBefore(t.errorScript,t.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Q{constructor(e,t){this.url=e,this.data=t}send(e){if(!this.request){var t=V(this.data),i=this.url+"/"+e.number+"?"+t;this.request=dt.createScriptRequest(i),this.request.send(e)}}cleanup(){this.request&&this.request.cleanup()}}var Z={name:"jsonp",getAgent:function(e,t){return function(i,n){var r="http"+(t?"s":"")+"://"+(e.host||e.options.host)+e.options.path,s=dt.createJSONPRequest(r,i),a=dt.ScriptReceivers.create((function(t,i){o.remove(a),s.cleanup(),i&&i.host&&(e.host=i.host),n&&n(t,i)}));s.send(a)}}};function ee(e,t,i){return e+(t.useTLS?"s":"")+"://"+(t.useTLS?t.hostTLS:t.hostNonTLS)+i}function te(e,t){return"/app/"+e+"?protocol="+r.PROTOCOL+"&client=js&version="+r.VERSION+(t?"&"+t:"")}var ie={getInitial:function(e,t){return ee("ws",t,(t.httpPath||"")+te(e,"flash=false"))}},ne={getInitial:function(e,t){return ee("http",t,(t.httpPath||"/pusher")+te(e))}},oe={getInitial:function(e,t){return ee("http",t,t.httpPath||"/pusher")},getPath:function(e,t){return te(e)}};class re{constructor(){this._callbacks={}}get(e){return this._callbacks[se(e)]}add(e,t,i){var n=se(e);this._callbacks[n]=this._callbacks[n]||[],this._callbacks[n].push({fn:t,context:i})}remove(e,t,i){if(e||t||i){var n=e?[se(e)]:z(this._callbacks);t||i?this.removeCallback(n,t,i):this.removeAllCallbacks(n)}else this._callbacks={}}removeCallback(e,t,i){q(e,(function(e){this._callbacks[e]=H(this._callbacks[e]||[],(function(e){return t&&t!==e.fn||i&&i!==e.context})),0===this._callbacks[e].length&&delete this._callbacks[e]}),this)}removeAllCallbacks(e){q(e,(function(e){delete this._callbacks[e]}),this)}}function se(e){return"_"+e}class ae{constructor(e){this.callbacks=new re,this.global_callbacks=[],this.failThrough=e}bind(e,t,i){return this.callbacks.add(e,t,i),this}bind_global(e){return this.global_callbacks.push(e),this}unbind(e,t,i){return this.callbacks.remove(e,t,i),this}unbind_global(e){return e?(this.global_callbacks=H(this.global_callbacks||[],(t=>t!==e)),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(e,t,i){for(var n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](e,t);var o=this.callbacks.get(e),r=[];if(i?r.push(t,i):t&&r.push(t),o&&o.length>0)for(n=0;n<o.length;n++)o[n].fn.apply(o[n].context||window,r);else this.failThrough&&this.failThrough(e,t);return this}}class le extends ae{constructor(e,t,i,n,o){super(),this.initialize=dt.transportConnectionInitializer,this.hooks=e,this.name=t,this.priority=i,this.key=n,this.options=o,this.state="new",this.timeline=o.timeline,this.activityTimeout=o.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return Boolean(this.hooks.handlesActivityChecks)}supportsPing(){return Boolean(this.hooks.supportsPing)}connect(){if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return A.defer((()=>{this.onError(e),this.changeState("closed")})),!1}return this.bindListeners(),X.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0}close(){return!!this.socket&&(this.socket.close(),!0)}send(e){return"open"===this.state&&(A.defer((()=>{this.socket&&this.socket.send(e)})),!0)}ping(){"open"===this.state&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(e){this.emit("error",{type:"WebSocketError",error:e}),this.timeline.error(this.buildTimelineMessage({error:e.toString()}))}onClose(e){e?this.changeState("closed",{code:e.code,reason:e.reason,wasClean:e.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(e){this.emit("message",e)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=e=>{this.onError(e)},this.socket.onclose=e=>{this.onClose(e)},this.socket.onmessage=e=>{this.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(e,t){this.state=e,this.timeline.info(this.buildTimelineMessage({state:e,params:t})),this.emit(e,t)}buildTimelineMessage(e){return N({cid:this.id},e)}}class ce{constructor(e){this.hooks=e}isSupported(e){return this.hooks.isSupported(e)}createConnection(e,t,i,n){return new le(this.hooks,e,t,i,n)}}var de=new ce({urls:ie,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(dt.getWebSocketAPI())},isSupported:function(){return Boolean(dt.getWebSocketAPI())},getSocket:function(e){return dt.createWebSocket(e)}}),ue={urls:ne,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},he=N({getSocket:function(e){return dt.HTTPFactory.createStreamingSocket(e)}},ue),pe=N({getSocket:function(e){return dt.HTTPFactory.createPollingSocket(e)}},ue),fe={isSupported:function(){return dt.isXHRSupported()}},me={ws:de,xhr_streaming:new ce(N({},he,fe)),xhr_polling:new ce(N({},pe,fe))},ge=new ce({file:"sockjs",urls:oe,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(e,t){return new window.SockJS(e,null,{js_path:a.getPath("sockjs",{useTLS:t.useTLS}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(e,t){e.send(JSON.stringify({path:t}))}}),ve={isSupported:function(e){return dt.isXDRSupported(e.useTLS)}},be=new ce(N({},he,ve)),ye=new ce(N({},pe,ve));me.xdr_streaming=be,me.xdr_polling=ye,me.sockjs=ge;var we=me,xe=new class extends ae{constructor(){super();var e=this;void 0!==window.addEventListener&&(window.addEventListener("online",(function(){e.emit("online")}),!1),window.addEventListener("offline",(function(){e.emit("offline")}),!1))}isOnline(){return void 0===window.navigator.onLine||window.navigator.onLine}};class Ce{constructor(e,t,i){this.manager=e,this.transport=t,this.minPingDelay=i.minPingDelay,this.maxPingDelay=i.maxPingDelay,this.pingDelay=void 0}createConnection(e,t,i,n){n=N({},n,{activityTimeout:this.pingDelay});var o=this.transport.createConnection(e,t,i,n),r=null,s=function(){o.unbind("open",s),o.bind("closed",a),r=A.now()},a=e=>{if(o.unbind("closed",a),1002===e.code||1003===e.code)this.manager.reportDeath();else if(!e.wasClean&&r){var t=A.now()-r;t<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(t/2,this.minPingDelay))}};return o.bind("open",s),o}isSupported(e){return this.manager.isAlive()&&this.transport.isSupported(e)}}const ke={decodeMessage:function(e){try{var t=JSON.parse(e.data),i=t.data;if("string"==typeof i)try{i=JSON.parse(t.data)}catch(e){}var n={event:t.event,channel:t.channel,data:i};return t.user_id&&(n.user_id=t.user_id),n}catch(t){throw{type:"MessageParseError",error:t,data:e.data}}},encodeMessage:function(e){return JSON.stringify(e)},processHandshake:function(e){var t=ke.decodeMessage(e);if("pusher:connection_established"===t.event){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:1e3*t.data.activity_timeout}}if("pusher:error"===t.event)return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"},getCloseAction:function(e){return e.code<4e3?e.code>=1002&&e.code<=1004?"backoff":null:4e3===e.code?"tls_only":e.code<4100?"refused":e.code<4200?"backoff":e.code<4300?"retry":"refused"},getCloseError:function(e){return 1e3!==e.code&&1001!==e.code?{type:"PusherError",data:{code:e.code,message:e.reason||e.message}}:null}};var Se=ke;class $e extends ae{constructor(e,t){super(),this.id=e,this.transport=t,this.activityTimeout=t.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(e){return this.transport.send(e)}send_event(e,t,i){var n={event:e,data:t};return i&&(n.channel=i),X.debug("Event sent",n),this.send(Se.encodeMessage(n))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var e={message:e=>{var t;try{t=Se.decodeMessage(e)}catch(t){this.emit("error",{type:"MessageParseError",error:t,data:e.data})}if(void 0!==t){switch(X.debug("Event recd",t),t.event){case"pusher:error":this.emit("error",{type:"PusherError",data:t.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong")}this.emit("message",t)}},activity:()=>{this.emit("activity")},error:e=>{this.emit("error",e)},closed:e=>{t(),e&&e.code&&this.handleCloseEvent(e),this.transport=null,this.emit("closed")}},t=()=>{L(e,((e,t)=>{this.transport.unbind(t,e)}))};L(e,((e,t)=>{this.transport.bind(t,e)}))}handleCloseEvent(e){var t=Se.getCloseAction(e),i=Se.getCloseError(e);i&&this.emit("error",i),t&&this.emit(t,{action:t,error:i})}}class _e{constructor(e,t){this.transport=e,this.callback=t,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=e=>{var t;this.unbindListeners();try{t=Se.processHandshake(e)}catch(e){return this.finish("error",{error:e}),void this.transport.close()}"connected"===t.action?this.finish("connected",{connection:new $e(t.id,this.transport),activityTimeout:t.activityTimeout}):(this.finish(t.action,{error:t.error}),this.transport.close())},this.onClosed=e=>{this.unbindListeners();var t=Se.getCloseAction(e)||"backoff",i=Se.getCloseError(e);this.finish(t,{error:i})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(e,t){this.callback(N({transport:this.transport,action:e},t))}}class De{constructor(e,t){this.timeline=e,this.options=t||{}}send(e,t){this.timeline.isEmpty()||this.timeline.send(dt.TimelineTransport.getAgent(this,e),t)}}class Te extends ae{constructor(e,t){super((function(t,i){X.debug("No callbacks on "+e+" for "+t)})),this.name=e,this.pusher=t,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(e,t){return t(null,{auth:""})}trigger(e,t){if(0!==e.indexOf("client-"))throw new u("Event '"+e+"' does not start with 'client-'");if(!this.subscribed){var i=d("triggeringClientEvents");X.warn(`Client event triggered before channel 'subscription_succeeded' event . ${i}`)}return this.pusher.send_event(e,t,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(e){var t=e.event,i=e.data;"pusher_internal:subscription_succeeded"===t?this.handleSubscriptionSucceededEvent(e):"pusher_internal:subscription_count"===t?this.handleSubscriptionCountEvent(e):0!==t.indexOf("pusher_internal:")&&this.emit(t,i,{})}handleSubscriptionSucceededEvent(e){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",e.data)}handleSubscriptionCountEvent(e){e.data.subscription_count&&(this.subscriptionCount=e.data.subscription_count),this.emit("pusher:subscription_count",e.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,((e,t)=>{e?(this.subscriptionPending=!1,X.error(e.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:e.message},e instanceof y?{status:e.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:t.auth,channel_data:t.channel_data,channel:this.name})})))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class je extends Te{authorize(e,t){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:e},t)}}class Oe{constructor(){this.reset()}get(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null}each(e){L(this.members,((t,i)=>{e(this.get(i))}))}setMyID(e){this.myID=e}onSubscription(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)}addMember(e){return null===this.get(e.user_id)&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)}removeMember(e){var t=this.get(e.user_id);return t&&(delete this.members[e.user_id],this.count--),t}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var Ie=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class Ee extends je{constructor(e,t){super(e,t),this.members=new Oe}authorize(e,t){super.authorize(e,((e,i)=>Ie(this,void 0,void 0,(function*(){if(!e)if(null!=i.channel_data){var n=JSON.parse(i.channel_data);this.members.setMyID(n.user_id)}else{if(yield this.pusher.user.signinDonePromise,null==this.pusher.user.user_data){let e=d("authorizationEndpoint");return X.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${e}, or the user should be signed in.`),void t("Invalid auth response")}this.members.setMyID(this.pusher.user.user_data.id)}t(e,i)}))))}handleEvent(e){var t=e.event;if(0===t.indexOf("pusher_internal:"))this.handleInternalEvent(e);else{var i=e.data,n={};e.user_id&&(n.user_id=e.user_id),this.emit(t,i,n)}}handleInternalEvent(e){var t=e.event,i=e.data;switch(t){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(e);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(e);break;case"pusher_internal:member_added":var n=this.members.addMember(i);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var o=this.members.removeMember(i);o&&this.emit("pusher:member_removed",o)}}handleSubscriptionSucceededEvent(e){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(e.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Re=i(1),Pe=i(0);class Ae extends je{constructor(e,t,i){super(e,t),this.key=null,this.nacl=i}authorize(e,t){super.authorize(e,((e,i)=>{if(e)return void t(e,i);let n=i.shared_secret;n?(this.key=Object(Pe.decode)(n),delete i.shared_secret,t(null,i)):t(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null)}))}trigger(e,t){throw new g("Client events are not currently supported for encrypted channels")}handleEvent(e){var t=e.event,i=e.data;0!==t.indexOf("pusher_internal:")&&0!==t.indexOf("pusher:")?this.handleEncryptedEvent(t,i):super.handleEvent(e)}handleEncryptedEvent(e,t){if(!this.key)return void X.debug("Received encrypted event before key has been retrieved from the authEndpoint");if(!t.ciphertext||!t.nonce)return void X.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+t);let i=Object(Pe.decode)(t.ciphertext);if(i.length<this.nacl.secretbox.overheadLength)return void X.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${i.length}`);let n=Object(Pe.decode)(t.nonce);if(n.length<this.nacl.secretbox.nonceLength)return void X.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${n.length}`);let o=this.nacl.secretbox.open(i,n,this.key);if(null===o)return X.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),void this.authorize(this.pusher.connection.socket_id,((t,r)=>{t?X.error(`Failed to make a request to the authEndpoint: ${r}. Unable to fetch new key, so dropping encrypted event`):(o=this.nacl.secretbox.open(i,n,this.key),null!==o?this.emit(e,this.getDataToEmit(o)):X.error("Failed to decrypt event with new key. Dropping encrypted event"))}));this.emit(e,this.getDataToEmit(o))}getDataToEmit(e){let t=Object(Re.decode)(e);try{return JSON.parse(t)}catch(e){return t}}}class Ne extends ae{constructor(e,t){super(),this.state="initialized",this.connection=null,this.key=e,this.options=t,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var i=dt.getNetwork();i.bind("online",(()=>{this.timeline.info({netinfo:"online"}),"connecting"!==this.state&&"unavailable"!==this.state||this.retryIn(0)})),i.bind("offline",(()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()})),this.updateStrategy()}connect(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))}send(e){return!!this.connection&&this.connection.send(e)}send_event(e,t,i){return!!this.connection&&this.connection.send_event(e,t,i)}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var e=(t,i)=>{t?this.runner=this.strategy.connect(0,e):"error"===i.action?(this.emit("error",{type:"HandshakeError",error:i.error}),this.timeline.error({handshakeError:i.error})):(this.abortConnecting(),this.handshakeCallbacks[i.action](i))};this.runner=this.strategy.connect(0,e)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(e){this.timeline.info({action:"retry",delay:e}),e>0&&this.emit("connecting_in",Math.round(e/1e3)),this.retryTimer=new E(e||0,(()=>{this.disconnectInternally(),this.connect()}))}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new E(this.options.unavailableTimeout,(()=>{this.updateState("unavailable")}))}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new E(this.options.pongTimeout,(()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)}))}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new E(this.activityTimeout,(()=>{this.sendActivityCheck()})))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(e){return N({},e,{message:e=>{this.resetActivityCheck(),this.emit("message",e)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:e=>{this.emit("error",e)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(e){return N({},e,{connected:e=>{this.activityTimeout=Math.min(this.options.activityTimeout,e.activityTimeout,e.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(e.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let e=e=>t=>{t.error&&this.emit("error",{type:"WebSocketError",error:t.error}),e(t)};return{tls_only:e((()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)})),refused:e((()=>{this.disconnect()})),backoff:e((()=>{this.retryIn(1e3)})),retry:e((()=>{this.retryIn(0)}))}}setConnection(e){for(var t in this.connection=e,this.connectionCallbacks)this.connection.bind(t,this.connectionCallbacks[t]);this.resetActivityCheck()}abandonConnection(){if(this.connection){for(var e in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(e,this.connectionCallbacks[e]);var t=this.connection;return this.connection=null,t}}updateState(e,t){var i=this.state;if(this.state=e,i!==e){var n=e;"connected"===n&&(n+=" with new socket ID "+t.socket_id),X.debug("State changed",i+" -> "+n),this.timeline.info({state:e,params:t}),this.emit("state_change",{previous:i,current:e}),this.emit(e,t)}}shouldRetry(){return"connecting"===this.state||"connected"===this.state}}class Fe{constructor(){this.channels={}}add(e,t){return this.channels[e]||(this.channels[e]=function(e,t){if(0===e.indexOf("private-encrypted-")){if(t.config.nacl)return Me.createEncryptedChannel(e,t,t.config.nacl);let i="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",n=d("encryptedChannelSupport");throw new g(`${i}. ${n}`)}if(0===e.indexOf("private-"))return Me.createPrivateChannel(e,t);if(0===e.indexOf("presence-"))return Me.createPresenceChannel(e,t);if(0===e.indexOf("#"))throw new h('Cannot create a channel with name "'+e+'".');return Me.createChannel(e,t)}(e,t)),this.channels[e]}all(){return function(e){var t=[];return L(e,(function(e){t.push(e)})),t}(this.channels)}find(e){return this.channels[e]}remove(e){var t=this.channels[e];return delete this.channels[e],t}disconnect(){L(this.channels,(function(e){e.disconnect()}))}}var Me={createChannels:()=>new Fe,createConnectionManager:(e,t)=>new Ne(e,t),createChannel:(e,t)=>new Te(e,t),createPrivateChannel:(e,t)=>new je(e,t),createPresenceChannel:(e,t)=>new Ee(e,t),createEncryptedChannel:(e,t,i)=>new Ae(e,t,i),createTimelineSender:(e,t)=>new De(e,t),createHandshake:(e,t)=>new _e(e,t),createAssistantToTheTransportManager:(e,t,i)=>new Ce(e,t,i)};class Le{constructor(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}getAssistant(e){return Me.createAssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class ze{constructor(e,t){this.strategies=e,this.loop=Boolean(t.loop),this.failFast=Boolean(t.failFast),this.timeout=t.timeout,this.timeoutLimit=t.timeoutLimit}isSupported(){return W(this.strategies,A.method("isSupported"))}connect(e,t){var i=this.strategies,n=0,o=this.timeout,r=null,s=(a,l)=>{l?t(null,l):(n+=1,this.loop&&(n%=i.length),n<i.length?(o&&(o*=2,this.timeoutLimit&&(o=Math.min(o,this.timeoutLimit))),r=this.tryStrategy(i[n],e,{timeout:o,failFast:this.failFast},s)):t(!0))};return r=this.tryStrategy(i[n],e,{timeout:o,failFast:this.failFast},s),{abort:function(){r.abort()},forceMinPriority:function(t){e=t,r&&r.forceMinPriority(t)}}}tryStrategy(e,t,i,n){var o=null,r=null;return i.timeout>0&&(o=new E(i.timeout,(function(){r.abort(),n(!0)}))),r=e.connect(t,(function(e,t){e&&o&&o.isRunning()&&!i.failFast||(o&&o.ensureAborted(),n(e,t))})),{abort:function(){o&&o.ensureAborted(),r.abort()},forceMinPriority:function(e){r.forceMinPriority(e)}}}}class qe{constructor(e){this.strategies=e}isSupported(){return W(this.strategies,A.method("isSupported"))}connect(e,t){return function(e,t,i){var n=B(e,(function(e,n,o,r){return e.connect(t,i(n,r))}));return{abort:function(){q(n,Be)},forceMinPriority:function(e){q(n,(function(t){t.forceMinPriority(e)}))}}}(this.strategies,e,(function(e,i){return function(n,o){i[e].error=n,n?function(e){return function(e,t){for(var i=0;i<e.length;i++)if(!t(e[i],i,e))return!1;return!0}(e,(function(e){return Boolean(e.error)}))}(i)&&t(!0):(q(i,(function(e){e.forceMinPriority(o.transport.priority)})),t(null,o))}}))}}function Be(e){e.error||e.aborted||(e.abort(),e.aborted=!0)}class He{constructor(e,t,i){this.strategy=e,this.transports=t,this.ttl=i.ttl||18e5,this.usingTLS=i.useTLS,this.timeline=i.timeline}isSupported(){return this.strategy.isSupported()}connect(e,t){var i=this.usingTLS,n=function(e){var t=dt.getLocalStorage();if(t)try{var i=t[Ge(e)];if(i)return JSON.parse(i)}catch(t){We(e)}return null}(i),o=n&&n.cacheSkipCount?n.cacheSkipCount:0,r=[this.strategy];if(n&&n.timestamp+this.ttl>=A.now()){var s=this.transports[n.transport];s&&(["ws","wss"].includes(n.transport)||o>3?(this.timeline.info({cached:!0,transport:n.transport,latency:n.latency}),r.push(new ze([s],{timeout:2*n.latency+1e3,failFast:!0}))):o++)}var a=A.now(),l=r.pop().connect(e,(function n(s,c){s?(We(i),r.length>0?(a=A.now(),l=r.pop().connect(e,n)):t(s)):(function(e,t,i,n){var o=dt.getLocalStorage();if(o)try{o[Ge(e)]=Y({timestamp:A.now(),transport:t,latency:i,cacheSkipCount:n})}catch(e){}}(i,c.transport.name,A.now()-a,o),t(null,c))}));return{abort:function(){l.abort()},forceMinPriority:function(t){e=t,l&&l.forceMinPriority(t)}}}}function Ge(e){return"pusherTransport"+(e?"TLS":"NonTLS")}function We(e){var t=dt.getLocalStorage();if(t)try{delete t[Ge(e)]}catch(e){}}class Ue{constructor(e,{delay:t}){this.strategy=e,this.options={delay:t}}isSupported(){return this.strategy.isSupported()}connect(e,t){var i,n=this.strategy,o=new E(this.options.delay,(function(){i=n.connect(e,t)}));return{abort:function(){o.ensureAborted(),i&&i.abort()},forceMinPriority:function(t){e=t,i&&i.forceMinPriority(t)}}}}class Ve{constructor(e,t,i){this.test=e,this.trueBranch=t,this.falseBranch=i}isSupported(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()}connect(e,t){return(this.test()?this.trueBranch:this.falseBranch).connect(e,t)}}class Ye{constructor(e){this.strategy=e}isSupported(){return this.strategy.isSupported()}connect(e,t){var i=this.strategy.connect(e,(function(e,n){n&&i.abort(),t(e,n)}));return i}}function Xe(e){return function(){return e.isSupported()}}var Je,Ke=function(e,t,i){var n={};function o(t,o,r,s,a){var l=i(e,t,o,r,s,a);return n[t]=l,l}var r,s=Object.assign({},t,{hostNonTLS:e.wsHost+":"+e.wsPort,hostTLS:e.wsHost+":"+e.wssPort,httpPath:e.wsPath}),a=Object.assign({},s,{useTLS:!0}),l=Object.assign({},t,{hostNonTLS:e.httpHost+":"+e.httpPort,hostTLS:e.httpHost+":"+e.httpsPort,httpPath:e.httpPath}),c={loop:!0,timeout:15e3,timeoutLimit:6e4},d=new Le({minPingDelay:1e4,maxPingDelay:e.activityTimeout}),u=new Le({lives:2,minPingDelay:1e4,maxPingDelay:e.activityTimeout}),h=o("ws","ws",3,s,d),p=o("wss","ws",3,a,d),f=o("sockjs","sockjs",1,l),m=o("xhr_streaming","xhr_streaming",1,l,u),g=o("xdr_streaming","xdr_streaming",1,l,u),v=o("xhr_polling","xhr_polling",1,l),b=o("xdr_polling","xdr_polling",1,l),y=new ze([h],c),w=new ze([p],c),x=new ze([f],c),C=new ze([new Ve(Xe(m),m,g)],c),k=new ze([new Ve(Xe(v),v,b)],c),S=new ze([new Ve(Xe(C),new qe([C,new Ue(k,{delay:4e3})]),k)],c),$=new Ve(Xe(S),S,x);return r=t.useTLS?new qe([y,new Ue($,{delay:2e3})]):new qe([y,new Ue(w,{delay:2e3}),new Ue($,{delay:5e3})]),new He(new Ye(new Ve(Xe(h),r,$)),n,{ttl:18e5,timeline:t.timeline,useTLS:t.useTLS})},Qe={getRequest:function(e){var t=new window.XDomainRequest;return t.ontimeout=function(){e.emit("error",new p),e.close()},t.onerror=function(t){e.emit("error",t),e.close()},t.onprogress=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText)},t.onload=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText),e.emit("finished",200),e.close()},t},abortRequest:function(e){e.ontimeout=e.onerror=e.onprogress=e.onload=null,e.abort()}};class Ze extends ae{constructor(e,t,i){super(),this.hooks=e,this.method=t,this.url=i}start(e){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},dt.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(e)}close(){this.unloader&&(dt.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(e,t){for(;;){var i=this.advanceBuffer(t);if(!i)break;this.emit("chunk",{status:e,data:i})}this.isBufferTooLong(t)&&this.emit("buffer_too_long")}advanceBuffer(e){var t=e.slice(this.position),i=t.indexOf("\n");return-1!==i?(this.position+=i+1,t.slice(0,i)):null}isBufferTooLong(e){return this.position===e.length&&e.length>262144}}!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSED=3]="CLOSED"}(Je||(Je={}));var et=Je,tt=1;function it(e){var t=-1===e.indexOf("?")?"?":"&";return e+t+"t="+ +new Date+"&n="+tt++}function nt(e){return dt.randomInt(e)}var ot,rt=class{constructor(e,t){this.hooks=e,this.session=nt(1e3)+"/"+function(e){for(var t=[],i=0;i<e;i++)t.push(nt(32).toString(32));return t.join("")}(8),this.location=function(e){var t=/([^\?]*)\/*(\??.*)/.exec(e);return{base:t[1],queryString:t[2]}}(t),this.readyState=et.CONNECTING,this.openStream()}send(e){return this.sendRaw(JSON.stringify([e]))}ping(){this.hooks.sendHeartbeat(this)}close(e,t){this.onClose(e,t,!0)}sendRaw(e){if(this.readyState!==et.OPEN)return!1;try{return dt.createSocketRequest("POST",it((t=this.location,i=this.session,t.base+"/"+i+"/xhr_send"))).start(e),!0}catch(e){return!1}var t,i}reconnect(){this.closeStream(),this.openStream()}onClose(e,t,i){this.closeStream(),this.readyState=et.CLOSED,this.onclose&&this.onclose({code:e,reason:t,wasClean:i})}onChunk(e){var t;if(200===e.status)switch(this.readyState===et.OPEN&&this.onActivity(),e.data.slice(0,1)){case"o":t=JSON.parse(e.data.slice(1)||"{}"),this.onOpen(t);break;case"a":t=JSON.parse(e.data.slice(1)||"[]");for(var i=0;i<t.length;i++)this.onEvent(t[i]);break;case"m":t=JSON.parse(e.data.slice(1)||"null"),this.onEvent(t);break;case"h":this.hooks.onHeartbeat(this);break;case"c":t=JSON.parse(e.data.slice(1)||"[]"),this.onClose(t[0],t[1],!0)}}onOpen(e){var t,i,n;this.readyState===et.CONNECTING?(e&&e.hostname&&(this.location.base=(t=this.location.base,i=e.hostname,(n=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t))[1]+i+n[3])),this.readyState=et.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(e){this.readyState===et.OPEN&&this.onmessage&&this.onmessage({data:e})}onActivity(){this.onactivity&&this.onactivity()}onError(e){this.onerror&&this.onerror(e)}openStream(){this.stream=dt.createSocketRequest("POST",it(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",(e=>{this.onChunk(e)})),this.stream.bind("finished",(e=>{this.hooks.onFinished(this,e)})),this.stream.bind("buffer_too_long",(()=>{this.reconnect()}));try{this.stream.start()}catch(e){A.defer((()=>{this.onError(e),this.onClose(1006,"Could not start streaming",!1)}))}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}},st={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr_streaming"+e.queryString},onHeartbeat:function(e){e.sendRaw("[]")},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){e.onClose(1006,"Connection interrupted ("+t+")",!1)}},at={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr"+e.queryString},onHeartbeat:function(){},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){200===t?e.reconnect():e.onClose(1006,"Connection interrupted ("+t+")",!1)}},lt={getRequest:function(e){var t=new(dt.getXHRAPI());return t.onreadystatechange=t.onprogress=function(){switch(t.readyState){case 3:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText);break;case 4:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText),e.emit("finished",t.status),e.close()}},t},abortRequest:function(e){e.onreadystatechange=null,e.abort()}},ct={createStreamingSocket(e){return this.createSocket(st,e)},createPollingSocket(e){return this.createSocket(at,e)},createSocket:(e,t)=>new rt(e,t),createXHR(e,t){return this.createRequest(lt,e,t)},createRequest:(e,t,i)=>new Ze(e,t,i),createXDR:function(e,t){return this.createRequest(Qe,e,t)}},dt={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:o,DependenciesReceivers:s,getDefaultStrategy:Ke,Transports:we,transportConnectionInitializer:function(){var e=this;e.timeline.info(e.buildTimelineMessage({transport:e.name+(e.options.useTLS?"s":"")})),e.hooks.isInitialized()?e.changeState("initialized"):e.hooks.file?(e.changeState("initializing"),a.load(e.hooks.file,{useTLS:e.options.useTLS},(function(t,i){e.hooks.isInitialized()?(e.changeState("initialized"),i(!0)):(t&&e.onError(t),e.onClose(),i(!1))}))):e.onClose()},HTTPFactory:ct,TimelineTransport:Z,getXHRAPI:()=>window.XMLHttpRequest,getWebSocketAPI:()=>window.WebSocket||window.MozWebSocket,setup(e){window.Pusher=e;var t=()=>{this.onDocumentBody(e.ready)};window.JSON?t():a.load("json2",{},t)},getDocument:()=>document,getProtocol(){return this.getDocument().location.protocol},getAuthorizers:()=>({ajax:w,jsonp:J}),onDocumentBody(e){document.body?e():setTimeout((()=>{this.onDocumentBody(e)}),0)},createJSONPRequest:(e,t)=>new Q(e,t),createScriptRequest:e=>new K(e),getLocalStorage(){try{return window.localStorage}catch(e){return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){return new(this.getXHRAPI())},createMicrosoftXHR:()=>new ActiveXObject("Microsoft.XMLHTTP"),getNetwork:()=>xe,createWebSocket(e){return new(this.getWebSocketAPI())(e)},createSocketRequest(e,t){if(this.isXHRSupported())return this.HTTPFactory.createXHR(e,t);if(this.isXDRSupported(0===t.indexOf("https:")))return this.HTTPFactory.createXDR(e,t);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var e=this.getXHRAPI();return Boolean(e)&&void 0!==(new e).withCredentials},isXDRSupported(e){var t=e?"https:":"http:",i=this.getProtocol();return Boolean(window.XDomainRequest)&&i===t},addUnloadListener(e){void 0!==window.addEventListener?window.addEventListener("unload",e,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",e)},removeUnloadListener(e){void 0!==window.addEventListener?window.removeEventListener("unload",e,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",e)},randomInt:e=>Math.floor((window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)*e)};!function(e){e[e.ERROR=3]="ERROR",e[e.INFO=6]="INFO",e[e.DEBUG=7]="DEBUG"}(ot||(ot={}));var ut=ot;class ht{constructor(e,t,i){this.key=e,this.session=t,this.events=[],this.options=i||{},this.sent=0,this.uniqueID=0}log(e,t){e<=this.options.level&&(this.events.push(N({},t,{timestamp:A.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(e){this.log(ut.ERROR,e)}info(e){this.log(ut.INFO,e)}debug(e){this.log(ut.DEBUG,e)}isEmpty(){return 0===this.events.length}send(e,t){var i=N({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],e(i,((e,i)=>{e||this.sent++,t&&t(e,i)})),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class pt{constructor(e,t,i,n){this.name=e,this.priority=t,this.transport=i,this.options=n||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(e,t){if(!this.isSupported())return ft(new b,t);if(this.priority<e)return ft(new f,t);var i=!1,n=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),o=null,r=function(){n.unbind("initialized",r),n.connect()},s=function(){o=Me.createHandshake(n,(function(e){i=!0,c(),t(null,e)}))},a=function(e){c(),t(e)},l=function(){var e;c(),e=Y(n),t(new m(e))},c=function(){n.unbind("initialized",r),n.unbind("open",s),n.unbind("error",a),n.unbind("closed",l)};return n.bind("initialized",r),n.bind("open",s),n.bind("error",a),n.bind("closed",l),n.initialize(),{abort:()=>{i||(c(),o?o.close():n.close())},forceMinPriority:e=>{i||this.priority<e&&(o?o.close():n.close())}}}}function ft(e,t){return A.defer((function(){t(e)})),{abort:function(){},forceMinPriority:function(){}}}const{Transports:mt}=dt;var gt=function(e,t,i,n,o,r){var s,a=mt[i];if(!a)throw new v(i);return e.enabledTransports&&-1===M(e.enabledTransports,t)||e.disabledTransports&&-1!==M(e.disabledTransports,t)?s=vt:(o=Object.assign({ignoreNullOrigin:e.ignoreNullOrigin},o),s=new pt(t,n,r?r.getAssistant(a):a,o)),s},vt={isSupported:function(){return!1},connect:function(e,t){var i=A.defer((function(){t(new b)}));return{abort:function(){i.ensureAborted()},forceMinPriority:function(){}}}},bt=e=>{if(void 0===dt.getAuthorizers()[e.transport])throw`'${e.transport}' is not a recognized auth transport`;return(t,i)=>{const n=((e,t)=>{var i="socket_id="+encodeURIComponent(e.socketId);for(var n in t.params)i+="&"+encodeURIComponent(n)+"="+encodeURIComponent(t.params[n]);if(null!=t.paramsProvider){let e=t.paramsProvider();for(var n in e)i+="&"+encodeURIComponent(n)+"="+encodeURIComponent(e[n])}return i})(t,e);dt.getAuthorizers()[e.transport](dt,n,e,c.UserAuthentication,i)}},yt=e=>{if(void 0===dt.getAuthorizers()[e.transport])throw`'${e.transport}' is not a recognized auth transport`;return(t,i)=>{const n=((e,t)=>{var i="socket_id="+encodeURIComponent(e.socketId);for(var n in i+="&channel_name="+encodeURIComponent(e.channelName),t.params)i+="&"+encodeURIComponent(n)+"="+encodeURIComponent(t.params[n]);if(null!=t.paramsProvider){let e=t.paramsProvider();for(var n in e)i+="&"+encodeURIComponent(n)+"="+encodeURIComponent(e[n])}return i})(t,e);dt.getAuthorizers()[e.transport](dt,n,e,c.ChannelAuthorization,i)}};function wt(e){return e.httpHost?e.httpHost:e.cluster?`sockjs-${e.cluster}.pusher.com`:r.httpHost}function xt(e){return e.wsHost?e.wsHost:`ws-${e.cluster}.pusher.com`}function Ct(e){return"https:"===dt.getProtocol()||!1!==e.forceTLS}function kt(e){return"enableStats"in e?e.enableStats:"disableStats"in e&&!e.disableStats}function St(e){const t=Object.assign(Object.assign({},r.userAuthentication),e.userAuthentication);return"customHandler"in t&&null!=t.customHandler?t.customHandler:bt(t)}function $t(e,t){const i=function(e,t){let i;return"channelAuthorization"in e?i=Object.assign(Object.assign({},r.channelAuthorization),e.channelAuthorization):(i={transport:e.authTransport||r.authTransport,endpoint:e.authEndpoint||r.authEndpoint},"auth"in e&&("params"in e.auth&&(i.params=e.auth.params),"headers"in e.auth&&(i.headers=e.auth.headers)),"authorizer"in e&&(i.customHandler=((e,t,i)=>{const n={authTransport:t.transport,authEndpoint:t.endpoint,auth:{params:t.params,headers:t.headers}};return(t,o)=>{const r=e.channel(t.channelName);i(r,n).authorize(t.socketId,o)}})(t,i,e.authorizer))),i}(e,t);return"customHandler"in i&&null!=i.customHandler?i.customHandler:yt(i)}class _t extends ae{constructor(e){super((function(e,t){X.debug(`No callbacks on watchlist events for ${e}`)})),this.pusher=e,this.bindWatchlistInternalEvent()}handleEvent(e){e.data.events.forEach((e=>{this.emit(e.name,e)}))}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",(e=>{"pusher_internal:watchlist_events"===e.event&&this.handleEvent(e)}))}}var Dt=function(){let e,t;return{promise:new Promise(((i,n)=>{e=i,t=n})),resolve:e,reject:t}};class Tt extends ae{constructor(e){super((function(e,t){X.debug("No callbacks on user for "+e)})),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(e,t)=>{if(e)return X.warn(`Error during signin: ${e}`),void this._cleanup();this.pusher.send_event("pusher:signin",{auth:t.auth,user_data:t.user_data})},this.pusher=e,this.pusher.connection.bind("state_change",(({previous:e,current:t})=>{"connected"!==e&&"connected"===t&&this._signin(),"connected"===e&&"connected"!==t&&(this._cleanup(),this._newSigninPromiseIfNeeded())})),this.watchlist=new _t(e),this.pusher.connection.bind("message",(e=>{"pusher:signin_success"===e.event&&this._onSigninSuccess(e.data),this.serverToUserChannel&&this.serverToUserChannel.name===e.channel&&this.serverToUserChannel.handleEvent(e)}))}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),"connected"===this.pusher.connection.state&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(e){try{this.user_data=JSON.parse(e.user_data)}catch(t){return X.error(`Failed parsing user data after signin: ${e.user_data}`),void this._cleanup()}if("string"!=typeof this.user_data.id||""===this.user_data.id)return X.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),void this._cleanup();this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){this.serverToUserChannel=new Te(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global(((e,t)=>{0!==e.indexOf("pusher_internal:")&&0!==e.indexOf("pusher:")&&this.emit(e,t)})),(e=>{e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.pusher.connection.state||e.subscribe()})(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested)return;if(this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:e,resolve:t,reject:i}=Dt();e.done=!1;const n=()=>{e.done=!0};e.then(n).catch(n),this.signinDonePromise=e,this._signinDoneResolve=t}}class jt{static ready(){jt.isReady=!0;for(var e=0,t=jt.instances.length;e<t;e++)jt.instances[e].connect()}static getClientFeatures(){return z(G({ws:dt.Transports.ws},(function(e){return e.isSupported({})})))}constructor(e,t){!function(e){if(null==e)throw"You must pass your app key when you instantiate Pusher."}(e),function(e){if(null==e)throw"You must pass an options object";if(null==e.cluster)throw"Options object must provide a cluster";"disableStats"in e&&X.warn("The disableStats option is deprecated in favor of enableStats")}(t),this.key=e,this.config=function(e,t){let i={activityTimeout:e.activityTimeout||r.activityTimeout,cluster:e.cluster,httpPath:e.httpPath||r.httpPath,httpPort:e.httpPort||r.httpPort,httpsPort:e.httpsPort||r.httpsPort,pongTimeout:e.pongTimeout||r.pongTimeout,statsHost:e.statsHost||r.stats_host,unavailableTimeout:e.unavailableTimeout||r.unavailableTimeout,wsPath:e.wsPath||r.wsPath,wsPort:e.wsPort||r.wsPort,wssPort:e.wssPort||r.wssPort,enableStats:kt(e),httpHost:wt(e),useTLS:Ct(e),wsHost:xt(e),userAuthenticator:St(e),channelAuthorizer:$t(e,t)};return"disabledTransports"in e&&(i.disabledTransports=e.disabledTransports),"enabledTransports"in e&&(i.enabledTransports=e.enabledTransports),"ignoreNullOrigin"in e&&(i.ignoreNullOrigin=e.ignoreNullOrigin),"timelineParams"in e&&(i.timelineParams=e.timelineParams),"nacl"in e&&(i.nacl=e.nacl),i}(t,this),this.channels=Me.createChannels(),this.global_emitter=new ae,this.sessionID=dt.randomInt(1e9),this.timeline=new ht(this.key,this.sessionID,{cluster:this.config.cluster,features:jt.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:ut.INFO,version:r.VERSION}),this.config.enableStats&&(this.timelineSender=Me.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+dt.TimelineTransport.name})),this.connection=Me.createConnectionManager(this.key,{getStrategy:e=>dt.getDefaultStrategy(this.config,e,gt),timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:Boolean(this.config.useTLS)}),this.connection.bind("connected",(()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())})),this.connection.bind("message",(e=>{var t=0===e.event.indexOf("pusher_internal:");if(e.channel){var i=this.channel(e.channel);i&&i.handleEvent(e)}t||this.global_emitter.emit(e.event,e.data)})),this.connection.bind("connecting",(()=>{this.channels.disconnect()})),this.connection.bind("disconnected",(()=>{this.channels.disconnect()})),this.connection.bind("error",(e=>{X.warn(e)})),jt.instances.push(this),this.timeline.info({instances:jt.instances.length}),this.user=new Tt(this),jt.isReady&&this.connect()}channel(e){return this.channels.find(e)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var e=this.connection.isUsingTLS(),t=this.timelineSender;this.timelineSenderTimer=new R(6e4,(function(){t.send(e)}))}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(e,t,i){return this.global_emitter.bind(e,t,i),this}unbind(e,t,i){return this.global_emitter.unbind(e,t,i),this}bind_global(e){return this.global_emitter.bind_global(e),this}unbind_global(e){return this.global_emitter.unbind_global(e),this}unbind_all(e){return this.global_emitter.unbind_all(),this}subscribeAll(){var e;for(e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)}subscribe(e){var t=this.channels.add(e,this);return t.subscriptionPending&&t.subscriptionCancelled?t.reinstateSubscription():t.subscriptionPending||"connected"!==this.connection.state||t.subscribe(),t}unsubscribe(e){var t=this.channels.find(e);t&&t.subscriptionPending?t.cancelSubscription():(t=this.channels.remove(e))&&t.subscribed&&t.unsubscribe()}send_event(e,t,i){return this.connection.send_event(e,t,i)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}jt.instances=[],jt.isReady=!1,jt.logToConsole=!1,jt.Runtime=dt,jt.ScriptReceivers=dt.ScriptReceivers,jt.DependenciesReceivers=dt.DependenciesReceivers,jt.auth_callbacks=dt.auth_callbacks;var Ot=t.default=jt;dt.setup(jt)}])},e.exports=t()},3170:(e,t,i)=>{var n;self,n=e=>(()=>{"use strict";var t={7e3:(e,t,i)=>{var n=i(8938),o=i.n(n);o().summernote=o().summernote||{lang:{}},o().extend(!0,o().summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size",sizeunit:"Font Size Unit"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Google Drive, Vimeo, Vine, Instagram, DailyMotion, Youku, Peertube)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Text Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{escape:"Escape",insertParagraph:"Insert Paragraph",undo:"Undo the last command",redo:"Redo the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"},output:{noSelection:"No Selection Made!"}}})},8938:t=>{t.exports=e}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var r=i[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o=n(8938),r=n.n(o),s=(n(7e3),["sans-serif","serif","monospace","cursive","fantasy"]);function a(e){return-1===r().inArray(e.toLowerCase(),s)?"'".concat(e,"'"):e}var l,c=navigator.userAgent,d=/MSIE|Trident/i.test(c);if(d){var u=/MSIE (\d+[.]\d+)/.exec(c);u&&(l=parseFloat(u[1])),(u=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(c))&&(l=parseFloat(u[1]))}var h=/Edge\/\d+/.test(c),p="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,f=d?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";const m={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:d,isEdge:h,isFF:!h&&/firefox/i.test(c),isPhantom:/PhantomJS/i.test(c),isWebkit:!h&&/webkit/i.test(c),isChrome:!h&&/chrome/i.test(c),isSafari:!h&&/safari/i.test(c)&&!/chrome/i.test(c),browserVersion:l,isSupportTouch:p,isFontInstalled:function(){var e=document.createElement("canvas"),t=e.getContext("2d",{willReadFrequently:!0});function i(e,i){return t.clearRect(0,0,40,20),t.font="20px "+a(e)+', "'+i+'"',t.fillText("mw",20,10),t.getImageData(0,0,40,20).data.join("")}return e.width=40,e.height=20,t.textAlign="center",t.fillStyle="black",t.textBaseline="middle",function(e){var t="Comic Sans MS"===e?"Courier New":"Comic Sans MS";return i(t,t)!==i(e,t)}}(),isW3CRangeSupport:!!document.createRange,inputEventName:f,genericFontFamilies:s,validFontName:a};var g=0;const v={eq:function(e){return function(t){return e===t}},eq2:function(e,t){return e===t},peq2:function(e){return function(t,i){return t[e]===i[e]}},ok:function(){return!0},fail:function(){return!1},self:function(e){return e},not:function(e){return function(){return!e.apply(e,arguments)}},and:function(e,t){return function(i){return e(i)&&t(i)}},invoke:function(e,t){return function(){return e[t].apply(e,arguments)}},resetUniqueId:function(){g=0},uniqueId:function(e){var t=++g+"";return e?e+t:t},rect2bnd:function(e){var t=r()(document);return{top:e.top+t.scrollTop(),left:e.left+t.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},invertObject:function(e){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[e[i]]=i);return t},namespaceToCamel:function(e,t){return(t=t||"")+e.split(".").map((function(e){return e.substring(0,1).toUpperCase()+e.substring(1)})).join("")},debounce:function(e,t,i){var n;return function(){var o=this,r=arguments,s=i&&!n;clearTimeout(n),n=setTimeout((function(){n=null,i||e.apply(o,r)}),t),s&&e.apply(o,r)}},isValidUrl:function(e){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(e)}};function b(e){return e[0]}function y(e){return e[e.length-1]}function w(e){return e.slice(1)}function x(e,t){if(e&&e.length&&t){if(e.indexOf)return-1!==e.indexOf(t);if(e.contains)return e.contains(t)}return!1}const C={head:b,last:y,initial:function(e){return e.slice(0,e.length-1)},tail:w,prev:function(e,t){if(e&&e.length&&t){var i=e.indexOf(t);return-1===i?null:e[i-1]}return null},next:function(e,t){if(e&&e.length&&t){var i=e.indexOf(t);return-1===i?null:e[i+1]}return null},find:function(e,t){for(var i=0,n=e.length;i<n;i++){var o=e[i];if(t(o))return o}},contains:x,all:function(e,t){for(var i=0,n=e.length;i<n;i++)if(!t(e[i]))return!1;return!0},sum:function(e,t){return t=t||v.self,e.reduce((function(e,i){return e+t(i)}),0)},from:function(e){for(var t=[],i=e.length,n=-1;++n<i;)t[n]=e[n];return t},isEmpty:function(e){return!e||!e.length},clusterBy:function(e,t){return e.length?w(e).reduce((function(e,i){var n=y(e);return t(y(n),i)?n[n.length]=i:e[e.length]=[i],e}),[[b(e)]]):[]},compact:function(e){for(var t=[],i=0,n=e.length;i<n;i++)e[i]&&t.push(e[i]);return t},unique:function(e){for(var t=[],i=0,n=e.length;i<n;i++)x(t,e[i])||t.push(e[i]);return t}};var k=String.fromCharCode(160);function S(e){return e&&r()(e).hasClass("note-editable")}function $(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}}function _(e){return e&&3===e.nodeType}function D(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(e.nodeName.toUpperCase())}function T(e){return!S(e)&&e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase())}var j=$("PRE"),O=$("LI"),I=$("TABLE"),E=$("DATA");function R(e){return!(M(e)||P(e)||A(e)||T(e)||I(e)||F(e)||E(e))}function P(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())}var A=$("HR");function N(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())}var F=$("BLOCKQUOTE");function M(e){return N(e)||F(e)||S(e)}var L=$("A"),z=$("BODY"),q=m.isMSIE&&m.browserVersion<11?"&nbsp;":"<br>";function B(e){return _(e)?e.nodeValue.length:e?e.childNodes.length:0}function H(e){var t=B(e);return 0===t||!_(e)&&1===t&&e.innerHTML===q||!(!C.all(e.childNodes,_)||""!==e.innerHTML)}function G(e){D(e)||B(e)||(e.innerHTML=q)}function W(e,t){for(;e;){if(t(e))return e;if(S(e))break;e=e.parentNode}return null}function U(e,t){t=t||v.fail;var i=[];return W(e,(function(e){return S(e)||i.push(e),t(e)})),i}function V(e,t){t=t||v.fail;for(var i=[];e&&!t(e);)i.push(e),e=e.nextSibling;return i}function Y(e,t){var i=t.nextSibling,n=t.parentNode;return i?n.insertBefore(e,i):n.appendChild(e),e}function X(e,t,i){return r().each(t,(function(t,n){!i&&O(e)&&null===e.firstChild&&P(n)&&e.appendChild(de("br")),e.appendChild(n)})),e}function J(e){return 0===e.offset}function K(e){return e.offset===B(e.node)}function Q(e){return J(e)||K(e)}function Z(e,t){for(;e&&e!==t;){if(0!==te(e))return!1;e=e.parentNode}return!0}function ee(e,t){if(!t)return!1;for(;e&&e!==t;){if(te(e)!==B(e.parentNode)-1)return!1;e=e.parentNode}return!0}function te(e){for(var t=0;e=e.previousSibling;)t+=1;return t}function ie(e){return!!(e&&e.childNodes&&e.childNodes.length)}function ne(e,t){var i,n;if(0===e.offset){if(S(e.node))return null;i=e.node.parentNode,n=te(e.node)}else ie(e.node)?n=B(i=e.node.childNodes[e.offset-1]):(i=e.node,n=t?0:e.offset-1);return{node:i,offset:n}}function oe(e,t){var i,n;if(B(e.node)===e.offset){if(S(e.node))return null;var o=se(e.node);o?(i=o,n=0):(i=e.node.parentNode,n=te(e.node)+1)}else ie(e.node)?(i=e.node.childNodes[e.offset],n=0):(i=e.node,n=t?B(e.node):e.offset+1);return{node:i,offset:n}}function re(e,t){var i,n=0;if(B(e.node)===e.offset){if(S(e.node))return null;i=e.node.parentNode,n=te(e.node)+1,S(i)&&(i=e.node.nextSibling,n=0)}else ie(e.node)?(i=e.node.childNodes[e.offset],n=0):(i=e.node,n=t?B(e.node):e.offset+1);return{node:i,offset:n}}function se(e){if(e.nextSibling&&e.parent===e.nextSibling.parent)return _(e.nextSibling)?e.nextSibling:se(e.nextSibling)}function ae(e,t){return e.node===t.node&&e.offset===t.offset}function le(e,t){var i=t&&t.isSkipPaddingBlankHTML,n=t&&t.isNotSplitEdgePoint,o=t&&t.isDiscardEmptySplits;if(o&&(i=!0),Q(e)&&(_(e.node)||n)){if(J(e))return e.node;if(K(e))return e.node.nextSibling}if(_(e.node))return e.node.splitText(e.offset);var r=V(e.node.childNodes[e.offset]),s=Y(e.node.cloneNode(!1),e.node);return X(s,r),i||(G(e.node),G(s)),o&&(H(e.node)&&ue(e.node),H(s))?(ue(s),e.node.nextSibling):s}function ce(e,t,i){var n=U(t.node,v.eq(e));if(!n.length)return null;if(1===n.length)return le(t,i);if(n.length>2){var o=n.slice(0,n.length-1).find((function(e){return e.nextSibling}));if(o&&0!=t.offset&&K(t)){var r,s=o.nextSibling;1==s.nodeType?(n=U(r=s.childNodes[0],v.eq(e)),t={node:r,offset:0}):3!=s.nodeType||s.data.match(/[\n\r]/g)||(n=U(r=s,v.eq(e)),t={node:r,offset:0})}}return n.reduce((function(e,n){return e===t.node&&(e=le(t,i)),le({node:n,offset:e?te(e):B(n)},i)}))}function de(e){return document.createElement(e)}function ue(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var i=e.parentNode;if(!t){for(var n=[],o=0,r=e.childNodes.length;o<r;o++)n.push(e.childNodes[o]);for(var s=0,a=n.length;s<a;s++)i.insertBefore(n[s],e)}i.removeChild(e)}}var he=$("TEXTAREA");function pe(e,t){var i=he(e[0])?e.val():e.html();return t?i.replace(/[\n\r]/g,""):i}const fe={NBSP_CHAR:k,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:q,emptyPara:"<p>".concat(q,"</p>"),makePredByNodeName:$,isEditable:S,isControlSizing:function(e){return e&&r()(e).hasClass("note-control-sizing")},isText:_,isElement:function(e){return e&&1===e.nodeType},isVoid:D,isPara:T,isPurePara:function(e){return T(e)&&!O(e)},isHeading:function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},isInline:R,isBlock:v.not(R),isBodyInline:function(e){return R(e)&&!W(e,T)},isBody:z,isParaInline:function(e){return R(e)&&!!W(e,T)},isPre:j,isList:P,isTable:I,isData:E,isCell:N,isBlockquote:F,isBodyContainer:M,isAnchor:L,isDiv:$("DIV"),isLi:O,isBR:$("BR"),isSpan:$("SPAN"),isB:$("B"),isU:$("U"),isS:$("S"),isI:$("I"),isImg:$("IMG"),isTextarea:he,deepestChildIsEmpty:function(e){do{if(null===e.firstElementChild||""===e.firstElementChild.innerHTML)break}while(e=e.firstElementChild);return H(e)},isEmpty:H,isEmptyAnchor:v.and(L,H),isClosestSibling:function(e,t){return e.nextSibling===t||e.previousSibling===t},withClosestSiblings:function(e,t){t=t||v.ok;var i=[];return e.previousSibling&&t(e.previousSibling)&&i.push(e.previousSibling),i.push(e),e.nextSibling&&t(e.nextSibling)&&i.push(e.nextSibling),i},nodeLength:B,isLeftEdgePoint:J,isRightEdgePoint:K,isEdgePoint:Q,isLeftEdgeOf:Z,isRightEdgeOf:ee,isLeftEdgePointOf:function(e,t){return J(e)&&Z(e.node,t)},isRightEdgePointOf:function(e,t){return K(e)&&ee(e.node,t)},prevPoint:ne,nextPoint:oe,nextPointWithEmptyNode:re,isSamePoint:ae,isVisiblePoint:function(e){if(_(e.node)||!ie(e.node)||H(e.node))return!0;var t=e.node.childNodes[e.offset-1],i=e.node.childNodes[e.offset];return!((t&&!D(t)||i&&!D(i))&&!I(i))},prevPointUntil:function(e,t){for(;e;){if(t(e))return e;e=ne(e)}return null},nextPointUntil:function(e,t){for(;e;){if(t(e))return e;e=oe(e)}return null},isCharPoint:function(e){if(!_(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return t&&" "!==t&&t!==k},isSpacePoint:function(e){if(!_(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return" "===t||t===k},walkPoint:function(e,t,i,n){for(var o=e;o&&o.node&&(i(o),!ae(o,t));)o=re(o,n&&e.node!==o.node&&t.node!==o.node)},ancestor:W,singleChildAncestor:function(e,t){for(e=e.parentNode;e&&1===B(e);){if(t(e))return e;if(S(e))break;e=e.parentNode}return null},listAncestor:U,lastAncestor:function(e,t){var i=U(e);return C.last(i.filter(t))},listNext:V,listPrev:function(e,t){t=t||v.fail;for(var i=[];e&&!t(e);)i.push(e),e=e.previousSibling;return i},listDescendant:function(e,t){var i=[];return t=t||v.ok,function n(o){e!==o&&t(o)&&i.push(o);for(var r=0,s=o.childNodes.length;r<s;r++)n(o.childNodes[r])}(e),i},commonAncestor:function(e,t){for(var i=U(e),n=t;n;n=n.parentNode)if(i.indexOf(n)>-1)return n;return null},wrap:function(e,t){var i=e.parentNode,n=r()("<"+t+">")[0];return i.insertBefore(n,e),n.appendChild(e),n},insertAfter:Y,appendChildNodes:X,position:te,hasChildren:ie,makeOffsetPath:function(e,t){return U(t,v.eq(e)).map(te).reverse()},fromOffsetPath:function(e,t){for(var i=e,n=0,o=t.length;n<o;n++)i=i.childNodes.length<=t[n]?i.childNodes[i.childNodes.length-1]:i.childNodes[t[n]];return i},splitTree:ce,splitPoint:function(e,t){var i,n,o=t?T:M,r=U(e.node,o),s=C.last(r)||e.node;o(s)?(i=r[r.length-2],n=s):n=(i=s).parentNode;var a=i&&ce(i,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return a||n!==e.node||(a=e.node.childNodes[e.offset]),{rightNode:a,container:n}},create:de,createText:function(e){return document.createTextNode(e)},remove:ue,removeWhile:function(e,t){for(;e&&!S(e)&&t(e);){var i=e.parentNode;ue(e),e=i}},replace:function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var i=de(t);return e.style.cssText&&(i.style.cssText=e.style.cssText),X(i,C.from(e.childNodes)),Y(i,e),ue(e),i},html:function(e,t){var i=pe(e);return t&&(i=(i=i.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,(function(e,t,i){i=i.toUpperCase();var n=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(i)&&!!t,o=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(i);return e+(n||o?"\n":"")}))).trim()),i},value:pe,posFromPlaceholder:function(e){var t=r()(e),i=t.offset(),n=t.outerHeight(!0);return{left:i.left,top:i.top+n}},attachEvents:function(e,t){Object.keys(t).forEach((function(i){e.on(i,t[i])}))},detachEvents:function(e,t){Object.keys(t).forEach((function(i){e.off(i,t[i])}))},isCustomStyleTag:function(e){return e&&!_(e)&&C.contains(e.classList,"note-styletag")}};function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function ge(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ve(n.key),n)}}function ve(e){var t=function(e){if("object"!=me(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=me(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==me(t)?t:t+""}var be=function(){return e=function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$note=t,this.memos={},this.modules={},this.layoutInfo={},this.options=r().extend(!0,{},i),r().summernote.ui=r().summernote.ui_template(this.options),this.ui=r().summernote.ui,this.initialize()},t=[{key:"initialize",value:function(){return this.layoutInfo=this.ui.createLayout(this.$note),this._initialize(),this.$note.hide(),this}},{key:"destroy",value:function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)}},{key:"reset",value:function(){var e=this.isDisabled();this.code(fe.emptyPara),this._destroy(),this._initialize(),e&&this.disable()}},{key:"_initialize",value:function(){var e=this;this.options.id=v.uniqueId(r().now()),this.options.container=this.options.container||this.layoutInfo.editor;var t=r().extend({},this.options.buttons);Object.keys(t).forEach((function(i){e.memo("button."+i,t[i])}));var i=r().extend({},this.options.modules,r().summernote.plugins||{});Object.keys(i).forEach((function(t){e.module(t,i[t],!0)})),Object.keys(this.modules).forEach((function(t){e.initializeModule(t)}))}},{key:"_destroy",value:function(){var e=this;Object.keys(this.modules).reverse().forEach((function(t){e.removeModule(t)})),Object.keys(this.memos).forEach((function(t){e.removeMemo(t)})),this.triggerEvent("destroy",this)}},{key:"code",value:function(e){var t=this.invoke("codeview.isActivated");if(void 0===e)return this.invoke("codeview.sync"),t?this.layoutInfo.codable.val():this.layoutInfo.editable.html();t?this.invoke("codeview.sync",e):this.layoutInfo.editable.html(e),this.$note.val(e),this.triggerEvent("change",e,this.layoutInfo.editable)}},{key:"isDisabled",value:function(){return"false"===this.layoutInfo.editable.attr("contenteditable")}},{key:"enable",value:function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1),this.options.editing=!0}},{key:"disable",value:function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.options.editing=!1,this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)}},{key:"triggerEvent",value:function(){var e=C.head(arguments),t=C.tail(C.from(arguments)),i=this.options.callbacks[v.namespaceToCamel(e,"on")];i&&i.apply(this.$note[0],t),this.$note.trigger("summernote."+e,t)}},{key:"initializeModule",value:function(e){var t=this.modules[e];t.shouldInitialize=t.shouldInitialize||v.ok,t.shouldInitialize()&&(t.initialize&&t.initialize(),t.events&&fe.attachEvents(this.$note,t.events))}},{key:"module",value:function(e,t,i){if(1===arguments.length)return this.modules[e];this.modules[e]=new t(this),i||this.initializeModule(e)}},{key:"removeModule",value:function(e){var t=this.modules[e];t.shouldInitialize()&&(t.events&&fe.detachEvents(this.$note,t.events),t.destroy&&t.destroy()),delete this.modules[e]}},{key:"memo",value:function(e,t){if(1===arguments.length)return this.memos[e];this.memos[e]=t}},{key:"removeMemo",value:function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]}},{key:"createInvokeHandlerAndUpdateState",value:function(e,t){var i=this;return function(n){i.createInvokeHandler(e,t)(n),i.invoke("buttons.updateCurrentStyle")}}},{key:"createInvokeHandler",value:function(e,t){var i=this;return function(n){n.preventDefault();var o=r()(n.target);i.invoke(e,t||o.closest("[data-value]").data("value"),o)}}},{key:"invoke",value:function(){var e=C.head(arguments),t=C.tail(C.from(arguments)),i=e.split("."),n=i.length>1,o=n&&C.head(i),r=n?C.last(i):C.head(i),s=this.modules[o||"editor"];return!o&&this[r]?this[r].apply(this,t):s&&s[r]&&s.shouldInitialize()?s[r].apply(s,t):void 0}}],t&&ge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function xe(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ce(n.key),n)}}function Ce(e){var t=function(e){if("object"!=we(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=we(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==we(t)?t:t+""}function ke(e,t){var i,n,o=e.parentElement(),r=document.body.createTextRange(),s=C.from(o.childNodes);for(i=0;i<s.length;i++)if(!fe.isText(s[i])){if(r.moveToElementText(s[i]),r.compareEndPoints("StartToStart",e)>=0)break;n=s[i]}if(0!==i&&fe.isText(s[i-1])){var a=document.body.createTextRange(),l=null;a.moveToElementText(n||o),a.collapse(!n),l=n?n.nextSibling:o.firstChild;var c=e.duplicate();c.setEndPoint("StartToStart",a);for(var d=c.text.replace(/[\r\n]/g,"").length;d>l.nodeValue.length&&l.nextSibling;)d-=l.nodeValue.length,l=l.nextSibling;l.nodeValue,t&&l.nextSibling&&fe.isText(l.nextSibling)&&d===l.nodeValue.length&&(d-=l.nodeValue.length,l=l.nextSibling),o=l,i=d}return{cont:o,offset:i}}function Se(e){var t=document.body.createTextRange(),i=function e(t,i){var n,o;if(fe.isText(t)){var r=fe.listPrev(t,v.not(fe.isText)),s=C.last(r).previousSibling;n=s||t.parentNode,i+=C.sum(C.tail(r),fe.nodeLength),o=!s}else{if(n=t.childNodes[i]||t,fe.isText(n))return e(n,0);i=0,o=!1}return{node:n,collapseToStart:o,offset:i}}(e.node,e.offset);return t.moveToElementText(i.node),t.collapse(i.collapseToStart),t.moveStart("character",i.offset),t}r().fn.extend({summernote:function(){var e=ye(C.head(arguments)),t="string"===e,i="object"===e,n=r().extend({},r().summernote.options,i?C.head(arguments):{});n.langInfo=r().extend(!0,{},r().summernote.lang["en-US"],r().summernote.lang[n.lang]),n.icons=r().extend(!0,{},r().summernote.options.icons,n.icons),n.tooltip="auto"===n.tooltip?!m.isSupportTouch:n.tooltip,this.each((function(e,t){var i=r()(t);if(!i.data("summernote")){var o=new be(i,n);i.data("summernote",o),i.data("summernote").triggerEvent("init",o.layoutInfo)}}));var o=this.first();if(o.length){var s=o.data("summernote");if(t)return s.invoke.apply(s,C.from(arguments));n.focus&&s.invoke("editor.focus")}return this}});var $e=function(){function e(t,i,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sc=t,this.so=i,this.ec=n,this.eo=o,this.isOnEditable=this.makeIsOn(fe.isEditable),this.isOnList=this.makeIsOn(fe.isList),this.isOnAnchor=this.makeIsOn(fe.isAnchor),this.isOnCell=this.makeIsOn(fe.isCell),this.isOnData=this.makeIsOn(fe.isData)}return t=e,i=[{key:"nativeRange",value:function(){if(m.isW3CRangeSupport){var e=document.createRange();return e.setStart(this.sc,this.so),e.setEnd(this.ec,this.eo),e}var t=Se({node:this.sc,offset:this.so});return t.setEndPoint("EndToEnd",Se({node:this.ec,offset:this.eo})),t}},{key:"getPoints",value:function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}}},{key:"getStartPoint",value:function(){return{node:this.sc,offset:this.so}}},{key:"getEndPoint",value:function(){return{node:this.ec,offset:this.eo}}},{key:"select",value:function(){var e=this.nativeRange();if(m.isW3CRangeSupport){var t=document.getSelection();t.rangeCount>0&&t.removeAllRanges(),t.addRange(e)}else e.select();return this}},{key:"scrollIntoView",value:function(e){var t=r()(e).height();return e.scrollTop+t<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+t-this.sc.offsetTop)),this}},{key:"normalize",value:function(){var t=function(e,t){if(!e)return e;if(fe.isVisiblePoint(e)&&(!fe.isEdgePoint(e)||fe.isRightEdgePoint(e)&&!t||fe.isLeftEdgePoint(e)&&t||fe.isRightEdgePoint(e)&&t&&fe.isVoid(e.node.nextSibling)||fe.isLeftEdgePoint(e)&&!t&&fe.isVoid(e.node.previousSibling)||fe.isBlock(e.node)&&fe.isEmpty(e.node)))return e;var i=fe.ancestor(e.node,fe.isBlock),n=!1;if(!n){var o=fe.prevPoint(e)||{node:null};n=(fe.isLeftEdgePointOf(e,i)||fe.isVoid(o.node))&&!t}var r=!1;if(!r){var s=fe.nextPoint(e)||{node:null};r=(fe.isRightEdgePointOf(e,i)||fe.isVoid(s.node))&&t}if(n||r){if(fe.isVisiblePoint(e))return e;t=!t}return(t?fe.nextPointUntil(fe.nextPoint(e),fe.isVisiblePoint):fe.prevPointUntil(fe.prevPoint(e),fe.isVisiblePoint))||e},i=t(this.getEndPoint(),!1),n=this.isCollapsed()?i:t(this.getStartPoint(),!0);return new e(n.node,n.offset,i.node,i.offset)}},{key:"nodes",value:function(e,t){e=e||v.ok;var i=t&&t.includeAncestor,n=t&&t.fullyContains,o=this.getStartPoint(),r=this.getEndPoint(),s=[],a=[];return fe.walkPoint(o,r,(function(t){var o;fe.isEditable(t.node)||(n?(fe.isLeftEdgePoint(t)&&a.push(t.node),fe.isRightEdgePoint(t)&&C.contains(a,t.node)&&(o=t.node)):o=i?fe.ancestor(t.node,e):t.node,o&&e(o)&&s.push(o))}),!0),C.unique(s)}},{key:"commonAncestor",value:function(){return fe.commonAncestor(this.sc,this.ec)}},{key:"expand",value:function(t){var i=fe.ancestor(this.sc,t),n=fe.ancestor(this.ec,t);if(!i&&!n)return new e(this.sc,this.so,this.ec,this.eo);var o=this.getPoints();return i&&(o.sc=i,o.so=0),n&&(o.ec=n,o.eo=fe.nodeLength(n)),new e(o.sc,o.so,o.ec,o.eo)}},{key:"collapse",value:function(t){return t?new e(this.sc,this.so,this.sc,this.so):new e(this.ec,this.eo,this.ec,this.eo)}},{key:"splitText",value:function(){var t=this.sc===this.ec,i=this.getPoints();return fe.isText(this.ec)&&!fe.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),fe.isText(this.sc)&&!fe.isEdgePoint(this.getStartPoint())&&(i.sc=this.sc.splitText(this.so),i.so=0,t&&(i.ec=i.sc,i.eo=this.eo-this.so)),new e(i.sc,i.so,i.ec,i.eo)}},{key:"deleteContents",value:function(){if(this.isCollapsed())return this;var t=this.splitText(),i=t.nodes(null,{fullyContains:!0}),n=fe.prevPointUntil(t.getStartPoint(),(function(e){return!C.contains(i,e.node)})),o=[];return r().each(i,(function(e,t){var i=t.parentNode;n.node!==i&&1===fe.nodeLength(i)&&o.push(i),fe.remove(t,!1)})),r().each(o,(function(e,t){fe.remove(t,!1)})),new e(n.node,n.offset,n.node,n.offset).normalize()}},{key:"makeIsOn",value:function(e){return function(){var t=fe.ancestor(this.sc,e);return!!t&&t===fe.ancestor(this.ec,e)}}},{key:"isLeftEdgeOf",value:function(e){if(!fe.isLeftEdgePoint(this.getStartPoint()))return!1;var t=fe.ancestor(this.sc,e);return t&&fe.isLeftEdgeOf(this.sc,t)}},{key:"isCollapsed",value:function(){return this.sc===this.ec&&this.so===this.eo}},{key:"wrapBodyInlineWithPara",value:function(){if(fe.isBodyContainer(this.sc)&&fe.isEmpty(this.sc))return this.sc.innerHTML=fe.emptyPara,new e(this.sc.firstChild,0,this.sc.firstChild,0);var t,i=this.normalize();if(fe.isParaInline(this.sc)||fe.isPara(this.sc))return i;if(fe.isInline(i.sc)){var n=fe.listAncestor(i.sc,v.not(fe.isInline));t=C.last(n),fe.isInline(t)||(t=n[n.length-2]||i.sc.childNodes[i.so])}else t=i.sc.childNodes[i.so>0?i.so-1:0];if(t){var o=fe.listPrev(t,fe.isParaInline).reverse();if((o=o.concat(fe.listNext(t.nextSibling,fe.isParaInline))).length){var r=fe.wrap(C.head(o),"p");fe.appendChildNodes(r,C.tail(o))}}return this.normalize()}},{key:"insertNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this;(fe.isText(e)||fe.isInline(e))&&(i=this.wrapBodyInlineWithPara().deleteContents());var n=fe.splitPoint(i.getStartPoint(),fe.isInline(e));return n.rightNode?(n.rightNode.parentNode.insertBefore(e,n.rightNode),fe.isEmpty(n.rightNode)&&(t||fe.isPara(e))&&n.rightNode.parentNode.removeChild(n.rightNode)):n.container.appendChild(e),e}},{key:"pasteHTML",value:function(e){e=((e||"")+"").trim(e);var t=r()("<div></div>").html(e)[0],i=C.from(t.childNodes),n=this,o=!1;return n.so>=0&&(i=i.reverse(),o=!0),i=i.map((function(e){return n.insertNode(e,!fe.isInline(e))})),o&&(i=i.reverse()),i}},{key:"toString",value:function(){var e=this.nativeRange();return m.isW3CRangeSupport?e.toString():e.text}},{key:"getWordRange",value:function(t){var i=this.getEndPoint();if(!fe.isCharPoint(i))return this;var n=fe.prevPointUntil(i,(function(e){return!fe.isCharPoint(e)}));return t&&(i=fe.nextPointUntil(i,(function(e){return!fe.isCharPoint(e)}))),new e(n.node,n.offset,i.node,i.offset)}},{key:"getWordsRange",value:function(t){var i=this.getEndPoint(),n=function(e){return!fe.isCharPoint(e)&&!fe.isSpacePoint(e)};if(n(i))return this;var o=fe.prevPointUntil(i,n);return t&&(i=fe.nextPointUntil(i,n)),new e(o.node,o.offset,i.node,i.offset)}},{key:"getWordsMatchRange",value:function(t){var i=this.getEndPoint(),n=fe.prevPointUntil(i,(function(n){if(!fe.isCharPoint(n)&&!fe.isSpacePoint(n))return!0;var o=new e(n.node,n.offset,i.node,i.offset),r=t.exec(o.toString());return r&&0===r.index})),o=new e(n.node,n.offset,i.node,i.offset),r=o.toString(),s=t.exec(r);return s&&s[0].length===r.length?o:null}},{key:"bookmark",value:function(e){return{s:{path:fe.makeOffsetPath(e,this.sc),offset:this.so},e:{path:fe.makeOffsetPath(e,this.ec),offset:this.eo}}}},{key:"paraBookmark",value:function(e){return{s:{path:C.tail(fe.makeOffsetPath(C.head(e),this.sc)),offset:this.so},e:{path:C.tail(fe.makeOffsetPath(C.last(e),this.ec)),offset:this.eo}}}},{key:"getClientRects",value:function(){return this.nativeRange().getClientRects()}}],i&&xe(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();const _e={create:function(e,t,i,n){if(4===arguments.length)return new $e(e,t,i,n);if(2===arguments.length)return new $e(e,t,i=e,n=t);var o=this.createFromSelection();if(!o&&1===arguments.length){var r=arguments[0];return fe.isEditable(r)&&(r=r.lastChild),this.createFromBodyElement(r,fe.emptyPara===arguments[0].innerHTML)}return o},createFromBodyElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.createFromNode(e).collapse(t)},createFromSelection:function(){var e,t,i,n;if(m.isW3CRangeSupport){var o=document.getSelection();if(!o||0===o.rangeCount)return null;if(fe.isBody(o.anchorNode))return null;var r=o.getRangeAt(0);e=r.startContainer,t=r.startOffset,i=r.endContainer,n=r.endOffset}else{var s=document.selection.createRange(),a=s.duplicate();a.collapse(!1);var l=s;l.collapse(!0);var c=ke(l,!0),d=ke(a,!1);fe.isText(c.node)&&fe.isLeftEdgePoint(c)&&fe.isTextNode(d.node)&&fe.isRightEdgePoint(d)&&d.node.nextSibling===c.node&&(c=d),e=c.cont,t=c.offset,i=d.cont,n=d.offset}return new $e(e,t,i,n)},createFromNode:function(e){var t=e,i=0,n=e,o=fe.nodeLength(n);return fe.isVoid(t)&&(i=fe.listPrev(t).length-1,t=t.parentNode),fe.isBR(n)?(o=fe.listPrev(n).length-1,n=n.parentNode):fe.isVoid(n)&&(o=fe.listPrev(n).length,n=n.parentNode),this.create(t,i,n,o)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var i=fe.fromOffsetPath(e,t.s.path),n=t.s.offset,o=fe.fromOffsetPath(e,t.e.path),r=t.e.offset;return new $e(i,n,o,r)},createFromParaBookmark:function(e,t){var i=e.s.offset,n=e.e.offset,o=fe.fromOffsetPath(C.head(t),e.s.path),r=fe.fromOffsetPath(C.last(t),e.e.path);return new $e(o,i,r,n)}};var De={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221,HOME:36,END:35,PAGEUP:33,PAGEDOWN:34};const Te={isEdit:function(e){return C.contains([De.BACKSPACE,De.TAB,De.ENTER,De.SPACE,De.DELETE],e)},isRemove:function(e){return C.contains([De.BACKSPACE,De.DELETE],e)},isMove:function(e){return C.contains([De.LEFT,De.UP,De.RIGHT,De.DOWN],e)},isNavigation:function(e){return C.contains([De.HOME,De.END,De.PAGEUP,De.PAGEDOWN],e)},nameFromCode:v.invertObject(De),code:De};function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function Oe(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ie(n.key),n)}}function Ie(e){var t=function(e){if("object"!=je(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=je(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==je(t)?t:t+""}var Ee=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stack=[],this.stackOffset=-1,this.context=t,this.$editable=t.layoutInfo.editable,this.editable=this.$editable[0]},(t=[{key:"makeSnapshot",value:function(){var e=_e.create(this.editable);return{contents:this.$editable.html(),bookmark:e&&e.isOnEditable()?e.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}}},{key:"applySnapshot",value:function(e){null!==e.contents&&this.$editable.html(e.contents),null!==e.bookmark&&_e.createFromBookmark(this.editable,e.bookmark).select()}},{key:"rewind",value:function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])}},{key:"commit",value:function(){this.stack=[],this.stackOffset=-1,this.recordUndo()}},{key:"reset",value:function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()}},{key:"undo",value:function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"redo",value:function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"recordUndo",value:function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot()),this.stack.length>this.context.options.historyLimit&&(this.stack.shift(),this.stackOffset-=1)}}])&&Oe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Pe(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ae(n.key),n)}}function Ae(e){var t=function(e){if("object"!=Re(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=Re(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Re(t)?t:t+""}var Ne=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"jQueryCSS",value:function(e,t){var i={};return r().each(t,(function(t,n){i[n]=e.css(n)})),i}},{key:"fromNode",value:function(e){var t=this.jQueryCSS(e,["font-family","font-size","text-align","list-style-type","line-height"])||{},i=e[0].style.fontSize||t["font-size"];return t["font-size"]=parseInt(i,10),t["font-size-unit"]=i.match(/[a-z%]+$/),t}},{key:"stylePara",value:function(e,t){r().each(e.nodes(fe.isPara,{includeAncestor:!0}),(function(e,i){r()(i).css(t)}))}},{key:"styleNodes",value:function(e,t){e=e.splitText();var i=t&&t.nodeName||"SPAN",n=!(!t||!t.expandClosestSibling),o=!(!t||!t.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(fe.create(i))];var s=fe.makePredByNodeName(i),a=e.nodes(fe.isText,{fullyContains:!0}).map((function(e){return fe.singleChildAncestor(e,s)||fe.wrap(e,i)}));if(n){if(o){var l=e.nodes();s=v.and(s,(function(e){return C.contains(l,e)}))}return a.map((function(e){var t=fe.withClosestSiblings(e,s),i=C.head(t),n=C.tail(t);return r().each(n,(function(e,t){fe.appendChildNodes(i,t.childNodes),fe.remove(t)})),C.head(t)}))}return a}},{key:"current",value:function(e){var t=r()(fe.isElement(e.sc)?e.sc:e.sc.parentNode),i=this.fromNode(t);try{i=r().extend(i,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||i["font-family"]})}catch(e){}if(e.isOnList()){var n=["circle","disc","disc-leading-zero","square"].indexOf(i["list-style-type"])>-1;i["list-style"]=n?"unordered":"ordered"}else i["list-style"]="none";var o=fe.ancestor(e.sc,fe.isPara);if(o&&o.style["line-height"])i["line-height"]=o.style.lineHeight;else{var s=parseInt(i["line-height"],10)/parseInt(i["font-size"],10);i["line-height"]=s.toFixed(1)}return i.anchor=e.isOnAnchor()&&fe.ancestor(e.sc,fe.isAnchor),i.ancestors=fe.listAncestor(e.sc,fe.isEditable),i.range=e,i}}],t&&Pe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}function Me(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Le(n.key),n)}}function Le(e){var t=function(e){if("object"!=Fe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=Fe(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Fe(t)?t:t+""}var ze=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"insertOrderedList",value:function(e){this.toggleList("OL",e)}},{key:"insertUnorderedList",value:function(e){this.toggleList("UL",e)}},{key:"indent",value:function(e){var t=this,i=_e.create(e).wrapBodyInlineWithPara(),n=i.nodes(fe.isPara,{includeAncestor:!0}),o=C.clusterBy(n,v.peq2("parentNode"));r().each(o,(function(e,i){var n=C.head(i);if(fe.isLi(n)){var o=t.findList(n.previousSibling);o?i.map((function(e){return o.appendChild(e)})):(t.wrapList(i,n.parentNode.nodeName),i.map((function(e){return e.parentNode})).map((function(e){return t.appendToPrevious(e)})))}else r().each(i,(function(e,t){r()(t).css("marginLeft",(function(e,t){return(parseInt(t,10)||0)+25}))}))})),i.select()}},{key:"outdent",value:function(e){var t=this,i=_e.create(e).wrapBodyInlineWithPara(),n=i.nodes(fe.isPara,{includeAncestor:!0}),o=C.clusterBy(n,v.peq2("parentNode"));r().each(o,(function(e,i){var n=C.head(i);fe.isLi(n)?t.releaseList([i]):r().each(i,(function(e,t){r()(t).css("marginLeft",(function(e,t){return(t=parseInt(t,10)||0)>25?t-25:""}))}))})),i.select()}},{key:"toggleList",value:function(e,t){var i=this,n=_e.create(t).wrapBodyInlineWithPara(),o=n.nodes(fe.isPara,{includeAncestor:!0}),s=n.paraBookmark(o),a=C.clusterBy(o,v.peq2("parentNode"));if(C.find(o,fe.isPurePara)){var l=[];r().each(a,(function(t,n){l=l.concat(i.wrapList(n,e))})),o=l}else{var c=n.nodes(fe.isList,{includeAncestor:!0}).filter((function(t){return!r().nodeName(t,e)}));c.length?r().each(c,(function(t,i){fe.replace(i,e)})):o=this.releaseList(a,!0)}_e.createFromParaBookmark(s,o).select()}},{key:"wrapList",value:function(e,t){var i=C.head(e),n=C.last(e),o=fe.isList(i.previousSibling)&&i.previousSibling,r=fe.isList(n.nextSibling)&&n.nextSibling,s=o||fe.insertAfter(fe.create(t||"UL"),n);return e=e.map((function(e){return fe.isPurePara(e)?fe.replace(e,"LI"):e})),fe.appendChildNodes(s,e,!0),r&&(fe.appendChildNodes(s,C.from(r.childNodes),!0),fe.remove(r)),e}},{key:"releaseList",value:function(e,t){var i=this,n=[];return r().each(e,(function(e,o){var s=C.head(o),a=C.last(o),l=t?fe.lastAncestor(s,fe.isList):s.parentNode,c=l.parentNode;if("LI"===l.parentNode.nodeName)o.map((function(e){var t=i.findNextSiblings(e);c.nextSibling?c.parentNode.insertBefore(e,c.nextSibling):c.parentNode.appendChild(e),t.length&&(i.wrapList(t,l.nodeName),e.appendChild(t[0].parentNode))})),0===l.children.length&&c.removeChild(l),0===c.childNodes.length&&c.parentNode.removeChild(c);else{var d=l.childNodes.length>1?fe.splitTree(l,{node:a.parentNode,offset:fe.position(a)+1},{isSkipPaddingBlankHTML:!0}):null,u=fe.splitTree(l,{node:s.parentNode,offset:fe.position(s)},{isSkipPaddingBlankHTML:!0});o=t?fe.listDescendant(u,fe.isLi):C.from(u.childNodes).filter(fe.isLi),!t&&fe.isList(l.parentNode)||(o=o.map((function(e){return fe.replace(e,"P")}))),r().each(C.from(o).reverse(),(function(e,t){fe.insertAfter(t,l)}));var h=C.compact([l,u,d]);r().each(h,(function(e,t){var i=[t].concat(fe.listDescendant(t,fe.isList));r().each(i.reverse(),(function(e,t){fe.nodeLength(t)||fe.remove(t,!0)}))}))}n=n.concat(o)})),n}},{key:"appendToPrevious",value:function(e){return e.previousSibling?fe.appendChildNodes(e.previousSibling,[e]):this.wrapList([e],"LI")}},{key:"findList",value:function(e){return e?C.find(e.children,(function(e){return["OL","UL"].indexOf(e.nodeName)>-1})):null}},{key:"findNextSiblings",value:function(e){for(var t=[];e.nextSibling;)t.push(e.nextSibling),e=e.nextSibling;return t}}],t&&Me(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function Be(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,He(n.key),n)}}function He(e){var t=function(e){if("object"!=qe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=qe(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qe(t)?t:t+""}var Ge=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bullet=new ze,this.options=t.options},t=[{key:"insertTab",value:function(e,t){var i=fe.createText(new Array(t+1).join(fe.NBSP_CHAR));(e=e.deleteContents()).insertNode(i,!0),(e=_e.create(i,t)).select()}},{key:"insertParagraph",value:function(e,t){t=(t=(t=t||_e.create(e)).deleteContents()).wrapBodyInlineWithPara();var i,n=fe.ancestor(t.sc,fe.isPara);if(n){if(fe.isLi(n)&&(fe.isEmpty(n)||fe.deepestChildIsEmpty(n)))return void this.bullet.toggleList(n.parentNode.nodeName);var o=null;if(1===this.options.blockquoteBreakingLevel?o=fe.ancestor(n,fe.isBlockquote):2===this.options.blockquoteBreakingLevel&&(o=fe.lastAncestor(n,fe.isBlockquote)),o){i=r()(fe.emptyPara)[0],fe.isRightEdgePoint(t.getStartPoint())&&fe.isBR(t.sc.nextSibling)&&r()(t.sc.nextSibling).remove();var s=fe.splitTree(o,t.getStartPoint(),{isDiscardEmptySplits:!0});s?s.parentNode.insertBefore(i,s):fe.insertAfter(i,o)}else{i=fe.splitTree(n,t.getStartPoint());var a=fe.listDescendant(n,fe.isEmptyAnchor);a=a.concat(fe.listDescendant(i,fe.isEmptyAnchor)),r().each(a,(function(e,t){fe.remove(t)})),(fe.isHeading(i)||fe.isPre(i)||fe.isCustomStyleTag(i))&&fe.isEmpty(i)&&(i=fe.replace(i,"p"))}}else{var l=t.sc.childNodes[t.so];i=r()(fe.emptyPara)[0],l?t.sc.insertBefore(i,l):t.sc.appendChild(i)}_e.create(i,0).normalize().select().scrollIntoView(e)}}],t&&Be(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}function Ue(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ve(n.key),n)}}function Ve(e){var t=function(e){if("object"!=We(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=We(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==We(t)?t:t+""}var Ye=function e(t,i,n,o){var r={colPos:0,rowPos:0},s=[],a=[];function l(e,t,i,n,o,r,a){var l={baseRow:i,baseCell:n,isRowSpan:o,isColSpan:r,isVirtual:a};s[e]||(s[e]=[]),s[e][t]=l}function c(e,t,i,n){return{baseCell:e.baseCell,action:t,virtualTable:{rowIndex:i,cellIndex:n}}}function d(e,t){if(!s[e])return t;if(!s[e][t])return t;for(var i=t;s[e][i];)if(i++,!s[e][i])return i}function u(e,t){var i=d(e.rowIndex,t.cellIndex),n=t.colSpan>1,o=t.rowSpan>1,s=e.rowIndex===r.rowPos&&t.cellIndex===r.colPos;l(e.rowIndex,i,e,t,o,n,!1);var a=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0;if(a>1)for(var c=1;c<a;c++){var u=e.rowIndex+c;h(u,i,t,s),l(u,i,e,t,!0,n,!0)}var p=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0;if(p>1)for(var f=1;f<p;f++){var m=d(e.rowIndex,i+f);h(e.rowIndex,m,t,s),l(e.rowIndex,m,e,t,o,!0,!0)}}function h(e,t,i,n){e===r.rowPos&&r.colPos>=i.cellIndex&&i.cellIndex<=t&&!n&&r.colPos++}function p(t){switch(i){case e.where.Column:if(t.isColSpan)return e.resultAction.SubtractSpanCount;break;case e.where.Row:if(!t.isVirtual&&t.isRowSpan)return e.resultAction.AddCell;if(t.isRowSpan)return e.resultAction.SubtractSpanCount}return e.resultAction.RemoveCell}function f(t){switch(i){case e.where.Column:if(t.isColSpan)return e.resultAction.SumSpanCount;if(t.isRowSpan&&t.isVirtual)return e.resultAction.Ignore;break;case e.where.Row:if(t.isRowSpan)return e.resultAction.SumSpanCount;if(t.isColSpan&&t.isVirtual)return e.resultAction.Ignore}return e.resultAction.AddCell}this.getActionList=function(){for(var t=i===e.where.Row?r.rowPos:-1,o=i===e.where.Column?r.colPos:-1,l=0,d=!0;d;){var u=t>=0?t:l,h=o>=0?o:l,m=s[u];if(!m)return d=!1,a;var g=m[h];if(!g)return d=!1,a;var v=e.resultAction.Ignore;switch(n){case e.requestAction.Add:v=f(g);break;case e.requestAction.Delete:v=p(g)}a.push(c(g,v,u,h)),l++}return a},t&&t.tagName&&("td"===t.tagName.toLowerCase()||"th"===t.tagName.toLowerCase())&&(r.colPos=t.cellIndex,t.parentElement&&t.parentElement.tagName&&"tr"===t.parentElement.tagName.toLowerCase()&&(r.rowPos=t.parentElement.rowIndex)),function(){for(var e=o.rows,t=0;t<e.length;t++)for(var i=e[t].cells,n=0;n<i.length;n++)u(e[t],i[n])}()};Ye.where={Row:0,Column:1},Ye.requestAction={Add:0,Delete:1},Ye.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Xe=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"tab",value:function(e,t){var i=fe.ancestor(e.commonAncestor(),fe.isCell),n=fe.ancestor(i,fe.isTable),o=fe.listDescendant(n,fe.isCell),r=C[t?"prev":"next"](o,i);r&&_e.create(r,0).select()}},{key:"addRow",value:function(e,t){for(var i=fe.ancestor(e.commonAncestor(),fe.isCell),n=r()(i).closest("tr"),o=this.recoverAttributes(n),s=r()("<tr"+o+"></tr>"),a=new Ye(i,Ye.where.Row,Ye.requestAction.Add,r()(n).closest("table")[0]).getActionList(),l=0;l<a.length;l++){var c=a[l],d=this.recoverAttributes(c.baseCell);switch(c.action){case Ye.resultAction.AddCell:s.append("<td"+d+">"+fe.blank+"</td>");break;case Ye.resultAction.SumSpanCount:if("top"===t&&(c.baseCell.parent?c.baseCell.closest("tr").rowIndex:0)<=n[0].rowIndex){var u=r()("<div></div>").append(r()("<td"+d+">"+fe.blank+"</td>").removeAttr("rowspan")).html();s.append(u);break}var h=parseInt(c.baseCell.rowSpan,10);h++,c.baseCell.setAttribute("rowSpan",h)}}if("top"===t)n.before(s);else{if(i.rowSpan>1){var p=n[0].rowIndex+(i.rowSpan-2);return void r()(r()(n).parent().find("tr")[p]).after(r()(s))}n.after(s)}}},{key:"addCol",value:function(e,t){var i=fe.ancestor(e.commonAncestor(),fe.isCell),n=r()(i).closest("tr");r()(n).siblings().push(n);for(var o=new Ye(i,Ye.where.Column,Ye.requestAction.Add,r()(n).closest("table")[0]).getActionList(),s=0;s<o.length;s++){var a=o[s],l=this.recoverAttributes(a.baseCell);switch(a.action){case Ye.resultAction.AddCell:"right"===t?r()(a.baseCell).after("<td"+l+">"+fe.blank+"</td>"):r()(a.baseCell).before("<td"+l+">"+fe.blank+"</td>");break;case Ye.resultAction.SumSpanCount:if("right"===t){var c=parseInt(a.baseCell.colSpan,10);c++,a.baseCell.setAttribute("colSpan",c)}else r()(a.baseCell).before("<td"+l+">"+fe.blank+"</td>")}}}},{key:"recoverAttributes",value:function(e){var t="";if(!e)return t;for(var i=e.attributes||[],n=0;n<i.length;n++)"id"!==i[n].name.toLowerCase()&&i[n].specified&&(t+=" "+i[n].name+"='"+i[n].value+"'");return t}},{key:"deleteRow",value:function(e){for(var t=fe.ancestor(e.commonAncestor(),fe.isCell),i=r()(t).closest("tr"),n=i.children("td, th").index(r()(t)),o=i[0].rowIndex,s=new Ye(t,Ye.where.Row,Ye.requestAction.Delete,r()(i).closest("table")[0]).getActionList(),a=0;a<s.length;a++)if(s[a]){var l=s[a].baseCell,c=s[a].virtualTable,d=l.rowSpan&&l.rowSpan>1,u=d?parseInt(l.rowSpan,10):0;switch(s[a].action){case Ye.resultAction.Ignore:continue;case Ye.resultAction.AddCell:var h=i.next("tr")[0];if(!h)continue;var p=i[0].cells[n];d&&(u>2?(u--,h.insertBefore(p,h.cells[n]),h.cells[n].setAttribute("rowSpan",u),h.cells[n].innerHTML=""):2===u&&(h.insertBefore(p,h.cells[n]),h.cells[n].removeAttribute("rowSpan"),h.cells[n].innerHTML=""));continue;case Ye.resultAction.SubtractSpanCount:d&&(u>2?(u--,l.setAttribute("rowSpan",u),c.rowIndex!==o&&l.cellIndex===n&&(l.innerHTML="")):2===u&&(l.removeAttribute("rowSpan"),c.rowIndex!==o&&l.cellIndex===n&&(l.innerHTML="")));continue;case Ye.resultAction.RemoveCell:continue}}i.remove()}},{key:"deleteCol",value:function(e){for(var t=fe.ancestor(e.commonAncestor(),fe.isCell),i=r()(t).closest("tr"),n=i.children("td, th").index(r()(t)),o=new Ye(t,Ye.where.Column,Ye.requestAction.Delete,r()(i).closest("table")[0]).getActionList(),s=0;s<o.length;s++)if(o[s])switch(o[s].action){case Ye.resultAction.Ignore:continue;case Ye.resultAction.SubtractSpanCount:var a=o[s].baseCell;if(a.colSpan&&a.colSpan>1){var l=a.colSpan?parseInt(a.colSpan,10):0;l>2?(l--,a.setAttribute("colSpan",l),a.cellIndex===n&&(a.innerHTML="")):2===l&&(a.removeAttribute("colSpan"),a.cellIndex===n&&(a.innerHTML=""))}continue;case Ye.resultAction.RemoveCell:fe.remove(o[s].baseCell,!0);continue}}},{key:"createTable",value:function(e,t,i){for(var n,o=[],s=0;s<e;s++)o.push("<td>"+fe.blank+"</td>");n=o.join("");for(var a,l=[],c=0;c<t;c++)l.push("<tr>"+n+"</tr>");a=l.join("");var d=r()("<table>"+a+"</table>");return i&&i.tableClassName&&d.addClass(i.tableClassName),d[0]}},{key:"deleteTable",value:function(e){var t=fe.ancestor(e.commonAncestor(),fe.isCell);r()(t).closest("table").remove()}}],t&&Ue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function Ke(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qe(n.key),n)}}function Qe(e){var t=function(e){if("object"!=Je(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=Je(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Je(t)?t:t+""}var Ze=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,et=/^(\+?\d{1,3}[\s-]?)?(\d{1,4})[\s-]?(\d{1,4})[\s-]?(\d{1,4})$/,tt=/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/,it=function(){return e=function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.snapshot=null,this.style=new Ne,this.table=new Xe,this.typing=new Ge(t),this.bullet=new ze,this.history=new Ee(t),this.context.memo("help.escape",this.lang.help.escape),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var n=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],o=0,s=n.length;o<s;o++)this[n[o]]=function(e){return function(t){i.beforeCommand(),document.execCommand(e,!1,t),i.afterCommand(!0)}}(n[o]),this.context.memo("help."+n[o],this.lang.help[n[o]]);this.fontName=this.wrapCommand((function(e){return i.fontStyling("font-family",m.validFontName(e))})),this.fontSize=this.wrapCommand((function(e){var t=i.currentStyle()["font-size-unit"];return i.fontStyling("font-size",e+t)})),this.fontSizeUnit=this.wrapCommand((function(e){var t=i.currentStyle()["font-size"];return i.fontStyling("font-size",t+e)}));for(var a=1;a<=6;a++)this["formatH"+a]=function(e){return function(){i.formatBlock("H"+e)}}(a),this.context.memo("help.formatH"+a,this.lang.help["formatH"+a]);this.insertParagraph=this.wrapCommand((function(){i.typing.insertParagraph(i.editable)})),this.insertOrderedList=this.wrapCommand((function(){i.bullet.insertOrderedList(i.editable)})),this.insertUnorderedList=this.wrapCommand((function(){i.bullet.insertUnorderedList(i.editable)})),this.indent=this.wrapCommand((function(){i.bullet.indent(i.editable)})),this.outdent=this.wrapCommand((function(){i.bullet.outdent(i.editable)})),this.insertNode=this.wrapCommand((function(e){i.isLimited(r()(e).text().length)||(i.getLastRange().insertNode(e),i.setLastRange(_e.createFromNodeAfter(e).select()))})),this.insertText=this.wrapCommand((function(e){if(!i.isLimited(e.length)){var t=i.getLastRange().insertNode(fe.createText(e));i.setLastRange(_e.create(t,fe.nodeLength(t)).select())}})),this.pasteHTML=this.wrapCommand((function(e){if(!i.isLimited(e.length)){e=i.context.invoke("codeview.purify",e);var t=i.getLastRange().pasteHTML(e);i.setLastRange(_e.createFromNodeAfter(C.last(t)).select())}})),this.formatBlock=this.wrapCommand((function(e,t){var n=i.options.callbacks.onApplyCustomStyle;n?n.call(i,t,i.context,i.onFormatBlock):i.onFormatBlock(e,t)})),this.insertHorizontalRule=this.wrapCommand((function(){var e=i.getLastRange().insertNode(fe.create("HR"));e.nextSibling&&i.setLastRange(_e.create(e.nextSibling,0).normalize().select())})),this.lineHeight=this.wrapCommand((function(e){i.style.stylePara(i.getLastRange(),{lineHeight:e})})),this.createLink=this.wrapCommand((function(e){var t=[],n=e.url,o=e.text,s=e.isNewWindow,a=i.options.linkAddNoReferrer,l=i.options.linkAddNoOpener,c=e.range||i.getLastRange(),d=o.length-c.toString().length;if(!(d>0&&i.isLimited(d))){var u=c.toString()!==o;"string"==typeof n&&(n=n.trim()),n=i.options.onCreateLink?i.options.onCreateLink(n):i.checkLinkUrl(n);var h=[];if(u){var p=(c=c.deleteContents()).insertNode(r()("<A></A>").text(o)[0]);h.push(p)}else h=i.style.styleNodes(c,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});r().each(h,(function(e,i){r()(i).attr("href",n),s?(r()(i).attr("target","_blank"),a&&t.push("noreferrer"),l&&t.push("noopener"),t.length&&r()(i).attr("rel",t.join(" "))):r()(i).removeAttr("target")})),i.setLastRange(i.createRangeFromList(h).select())}})),this.color=this.wrapCommand((function(e){var t=e.foreColor,i=e.backColor;t&&document.execCommand("foreColor",!1,t),i&&document.execCommand("backColor",!1,i)})),this.foreColor=this.wrapCommand((function(e){document.execCommand("foreColor",!1,e)})),this.insertTable=this.wrapCommand((function(e){var t=e.split("x");i.getLastRange().deleteContents().insertNode(i.table.createTable(t[0],t[1],i.options))})),this.removeMedia=this.wrapCommand((function(){var e=r()(i.restoreTarget()).parent();e.closest("figure").length?e.closest("figure").remove():e=r()(i.restoreTarget()).detach(),i.setLastRange(_e.createFromSelection(e).select()),i.context.triggerEvent("media.delete",e,i.$editable)})),this.floatMe=this.wrapCommand((function(e){var t=r()(i.restoreTarget());t.toggleClass("note-float-left","left"===e),t.toggleClass("note-float-right","right"===e),t.css("float","none"===e?"":e)})),this.resize=this.wrapCommand((function(e){var t=r()(i.restoreTarget());0===(e=parseFloat(e))?t.css("width",""):t.css({width:100*e+"%",height:""})}))},t=[{key:"initialize",value:function(){var e=this;this.$editable.on("keydown",(function(t){if(t.keyCode===Te.code.ENTER&&e.context.triggerEvent("enter",t),e.context.triggerEvent("keydown",t),e.snapshot=e.history.makeSnapshot(),e.hasKeyShortCut=!1,t.isDefaultPrevented()||(e.options.shortcuts?e.hasKeyShortCut=e.handleKeyMap(t):e.preventDefaultEditableShortCuts(t)),e.isLimited(1,t)){var i=e.getLastRange();if(i.eo-i.so==0)return!1}e.setLastRange(),e.options.recordEveryKeystroke&&!1===e.hasKeyShortCut&&e.history.recordUndo()})).on("keyup",(function(t){e.setLastRange(),e.context.triggerEvent("keyup",t)})).on("focus",(function(t){e.setLastRange(),e.context.triggerEvent("focus",t)})).on("blur",(function(t){e.context.triggerEvent("blur",t)})).on("mousedown",(function(t){e.context.triggerEvent("mousedown",t)})).on("mouseup",(function(t){e.setLastRange(),e.history.recordUndo(),e.context.triggerEvent("mouseup",t)})).on("scroll",(function(t){e.context.triggerEvent("scroll",t)})).on("paste",(function(t){e.setLastRange(),e.context.triggerEvent("paste",t)})).on("copy",(function(t){e.context.triggerEvent("copy",t)})).on("input",(function(){e.isLimited(0)&&e.snapshot&&e.history.applySnapshot(e.snapshot)})),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.attr("autocorrect",this.options.spellCheck),this.options.disableGrammar&&this.$editable.attr("data-gramm",!1),this.$editable.html(fe.html(this.$note)||fe.emptyPara),this.$editable.on(m.inputEventName,v.debounce((function(){e.context.triggerEvent("change",e.$editable.html(),e.$editable)}),10)),this.$editable.on("focusin",(function(t){e.context.triggerEvent("focusin",t)})).on("focusout",(function(t){e.context.triggerEvent("focusout",t)})),this.options.airMode?this.options.overrideContextMenu&&this.$editor.on("contextmenu",(function(t){return e.context.triggerEvent("contextmenu",t),!1})):(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()}},{key:"destroy",value:function(){this.$editable.off()}},{key:"handleKeyMap",value:function(e){var t=this.options.keyMap[m.isMac?"mac":"pc"],i=[];e.metaKey&&i.push("CMD"),e.ctrlKey&&!e.altKey&&i.push("CTRL"),e.shiftKey&&i.push("SHIFT");var n=Te.nameFromCode[e.keyCode];n&&i.push(n);var o=t[i.join("+")];if("TAB"!==n||this.options.tabDisable)if(o){if(!1!==this.context.invoke(o))return e.preventDefault(),!0}else Te.isEdit(e.keyCode)&&(Te.isRemove(e.keyCode)&&this.context.invoke("removed"),this.afterCommand());else this.afterCommand();return!1}},{key:"preventDefaultEditableShortCuts",value:function(e){(e.ctrlKey||e.metaKey)&&C.contains([66,73,85],e.keyCode)&&e.preventDefault()}},{key:"isLimited",value:function(e,t){return e=e||0,(void 0===t||!(Te.isMove(t.keyCode)||Te.isNavigation(t.keyCode)||t.ctrlKey||t.metaKey||C.contains([Te.code.BACKSPACE,Te.code.DELETE],t.keyCode)))&&this.options.maxTextLength>0&&this.$editable.text().length+e>this.options.maxTextLength}},{key:"checkLinkUrl",value:function(e){return Ze.test(e)?"mailto://"+e:et.test(e)?"tel://"+e:tt.test(e)?e:"http://"+e}},{key:"createRange",value:function(){return this.focus(),this.setLastRange(),this.getLastRange()}},{key:"createRangeFromList",value:function(e){var t=_e.createFromNodeBefore(C.head(e)).getStartPoint(),i=_e.createFromNodeAfter(C.last(e)).getEndPoint();return _e.create(t.node,t.offset,i.node,i.offset)}},{key:"setLastRange",value:function(e){e?this.lastRange=e:(this.lastRange=_e.create(this.editable),0===r()(this.lastRange.sc).closest(".note-editable").length&&(this.lastRange=_e.createFromBodyElement(this.editable)))}},{key:"getLastRange",value:function(){return this.lastRange||this.setLastRange(),this.lastRange}},{key:"saveRange",value:function(e){e&&this.getLastRange().collapse().select()}},{key:"restoreRange",value:function(){this.lastRange&&(this.lastRange.select(),this.focus())}},{key:"saveTarget",value:function(e){this.$editable.data("target",e)}},{key:"clearTarget",value:function(){this.$editable.removeData("target")}},{key:"restoreTarget",value:function(){return this.$editable.data("target")}},{key:"currentStyle",value:function(){var e=_e.create();return e&&(e=e.normalize()),e?this.style.current(e):this.style.fromNode(this.$editable)}},{key:"styleFromNode",value:function(e){return this.style.fromNode(e)}},{key:"undo",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"commit",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"redo",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"beforeCommand",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),document.execCommand("styleWithCSS",!1,this.options.styleWithCSS),this.focus()}},{key:"afterCommand",value:function(e){this.normalizeContent(),this.history.recordUndo(),e||this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"tab",value:function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(e,this.options.tabSize),this.afterCommand())}}},{key:"untab",value:function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e,!0);else if(0===this.options.tabSize)return!1}},{key:"wrapCommand",value:function(e){return function(){this.beforeCommand(),e.apply(this,arguments),this.afterCommand()}}},{key:"removed",value:function(e,t,i){(e=_e.create()).isCollapsed()&&e.isOnCell()&&(i=(t=e.ec).tagName)&&1===t.childElementCount&&"BR"===t.childNodes[0].tagName&&("P"===i?t.remove():["TH","TD"].indexOf(i)>=0&&t.firstChild.remove())}},{key:"insertImage",value:function(e,t){var i,n=this;return(i=e,r().Deferred((function(e){var t=r()("<img>");t.one("load",(function(){t.off("error abort"),e.resolve(t)})).one("error abort",(function(){t.off("load").detach(),e.reject(t)})).css({display:"none"}).appendTo(document.body).attr("src",i)})).promise()).then((function(e){n.beforeCommand(),"function"==typeof t?t(e):("string"==typeof t&&e.attr("data-filename",t),e.css("width",Math.min(n.$editable.width(),e.width()))),e.show(),n.getLastRange().insertNode(e[0]),n.setLastRange(_e.createFromNodeAfter(e[0]).select()),n.afterCommand()})).fail((function(e){n.context.triggerEvent("image.upload.error",e)}))}},{key:"insertImagesAsDataURL",value:function(e){var t=this;r().each(e,(function(e,i){var n=i.name;t.options.maximumImageFileSize&&t.options.maximumImageFileSize<i.size?t.context.triggerEvent("image.upload.error",t.lang.image.maximumFileSizeError):function(e){return r().Deferred((function(t){r().extend(new FileReader,{onload:function(e){var i=e.target.result;t.resolve(i)},onerror:function(e){t.reject(e)}}).readAsDataURL(e)})).promise()}(i).then((function(e){return t.insertImage(e,n)})).fail((function(){t.context.triggerEvent("image.upload.error")}))}))}},{key:"insertImagesOrCallback",value:function(e){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",e):this.insertImagesAsDataURL(e)}},{key:"getSelectedText",value:function(){var e=this.getLastRange();return e.isOnAnchor()&&(e=_e.createFromNode(fe.ancestor(e.sc,fe.isAnchor))),e.toString()}},{key:"onFormatBlock",value:function(e,t){if(document.execCommand("FormatBlock",!1,m.isMSIE?"<"+e+">":e),t&&t.length&&(t[0].tagName.toUpperCase()!==e.toUpperCase()&&(t=t.find(e)),t&&t.length)){var i=this.createRange(),n=r()([i.sc,i.ec]).closest(e);n.removeClass();var o=t[0].className||"";o&&n.addClass(o)}}},{key:"formatPara",value:function(){this.formatBlock("P")}},{key:"fontStyling",value:function(e,t){var i=this.getLastRange();if(""!==i){var n=this.style.styleNodes(i);if(this.$editor.find(".note-status-output").html(""),r()(n).css(e,t),i.isCollapsed()){var o=C.head(n);o&&!fe.nodeLength(o)&&(o.innerHTML=fe.ZERO_WIDTH_NBSP_CHAR,_e.createFromNode(o.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",o))}else i.select()}else{var s=r().now();this.$editor.find(".note-status-output").html('<div id="note-status-output-'+s+'" class="alert alert-info">'+this.lang.output.noSelection+"</div>"),setTimeout((function(){r()("#note-status-output-"+s).remove()}),5e3)}}},{key:"unlink",value:function(){var e=this.getLastRange();if(e.isOnAnchor()){var t=fe.ancestor(e.sc,fe.isAnchor);(e=_e.createFromNode(t)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}}},{key:"getLinkInfo",value:function(){this.hasFocus()||this.focus();var e=this.getLastRange().expand(fe.isAnchor),t=r()(C.head(e.nodes(fe.isAnchor))),i={range:e,text:e.toString(),url:t.length?t.attr("href"):""};return t.length&&(i.isNewWindow="_blank"===t.attr("target")),i}},{key:"addRow",value:function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addRow(t,e),this.afterCommand())}},{key:"addCol",value:function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addCol(t,e),this.afterCommand())}},{key:"deleteRow",value:function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(e),this.afterCommand())}},{key:"deleteCol",value:function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(e),this.afterCommand())}},{key:"deleteTable",value:function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(e),this.afterCommand())}},{key:"resizeTo",value:function(e,t,i){var n;if(i){var o=e.y/e.x,r=t.data("ratio");n={width:r>o?e.x:e.y/r,height:r>o?e.x*r:e.y}}else n={width:e.x,height:e.y};t.css(n)}},{key:"hasFocus",value:function(){return this.$editable.is(":focus")}},{key:"focus",value:function(){this.hasFocus()||this.$editable.trigger("focus")}},{key:"isEmpty",value:function(){return fe.isEmpty(this.$editable[0])||fe.emptyPara===this.$editable.html()}},{key:"empty",value:function(){this.context.invoke("code",fe.emptyPara)}},{key:"normalizeContent",value:function(){this.$editable[0].normalize()}}],t&&Ke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function ot(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rt(n.key),n)}}function rt(e){var t=function(e){if("object"!=nt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=nt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nt(t)?t:t+""}var st=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.options=t.options,this.$editable=t.layoutInfo.editable},(t=[{key:"initialize",value:function(){this.$editable.on("paste",this.pasteByEvent.bind(this))}},{key:"pasteByEvent",value:function(e){var t=this;if(!this.context.isDisabled()){var i=e.originalEvent.clipboardData;if(i&&i.items&&i.items.length){var n=i.files,o=i.getData("Text");n.length>0&&this.options.allowClipboardImagePasting&&(this.context.invoke("editor.insertImagesOrCallback",n),e.preventDefault()),o.length>0&&this.context.invoke("editor.isLimited",o.length)&&e.preventDefault()}else if(window.clipboardData){var r=window.clipboardData.getData("text");this.context.invoke("editor.isLimited",r.length)&&e.preventDefault()}setTimeout((function(){t.context.invoke("editor.afterCommand")}),10)}}}])&&ot(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}function lt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ct(n.key),n)}}function ct(e){var t=function(e){if("object"!=at(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=at(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==at(t)?t:t+""}var dt=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$eventListener=r()(document),this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=r()(['<div class="note-dropzone">','<div class="note-dropzone-message"></div>',"</div>"].join("")).prependTo(this.$editor)},t=[{key:"initialize",value:function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(e){e.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()}},{key:"attachDragAndDropEvent",value:function(){var e=this,t=r()(),i=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(n){var o=e.context.invoke("codeview.isActivated"),r=e.$editor.width()>0&&e.$editor.height()>0;o||t.length||!r||(e.$editor.addClass("dragover"),e.$dropzone.width(e.$editor.width()),e.$dropzone.height(e.$editor.height()),i.text(e.lang.image.dragImageHere)),t=t.add(n.target)},this.documentEventHandlers.onDragleave=function(i){(t=t.not(i.target)).length&&"BODY"!==i.target.nodeName||(t=r()(),e.$editor.removeClass("dragover"))},this.documentEventHandlers.onDrop=function(){t=r()(),e.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",(function(){e.$dropzone.addClass("hover"),i.text(e.lang.image.dropImage)})).on("dragleave",(function(){e.$dropzone.removeClass("hover"),i.text(e.lang.image.dragImageHere)})),this.$dropzone.on("drop",(function(t){var i=t.originalEvent.dataTransfer;t.preventDefault(),i&&i.files&&i.files.length?(e.$editable.trigger("focus"),e.context.invoke("editor.insertImagesOrCallback",i.files)):r().each(i.types,(function(t,n){if(!(n.toLowerCase().indexOf("_moz_")>-1)){var o=i.getData(n);n.toLowerCase().indexOf("text")>-1?e.context.invoke("editor.pasteHTML",o):r()(o).each((function(t,i){e.context.invoke("editor.insertNode",i)}))}}))})).on("dragover",!1)}},{key:"destroy",value:function(){var e=this;Object.keys(this.documentEventHandlers).forEach((function(t){e.$eventListener.off(t.slice(2).toLowerCase(),e.documentEventHandlers[t])})),this.documentEventHandlers={}}}],t&&lt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function ut(e){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ut(e)}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function pt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ft(n.key),n)}}function ft(e){var t=function(e){if("object"!=ut(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=ut(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ut(t)?t:t+""}var mt=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.options=t.options,this.CodeMirrorConstructor=window.CodeMirror,this.options.codemirror.CodeMirrorConstructor&&(this.CodeMirrorConstructor=this.options.codemirror.CodeMirrorConstructor)},t=[{key:"sync",value:function(e){var t=this.isActivated(),i=this.CodeMirrorConstructor;t&&(e?i?this.$codable.data("cmEditor").getDoc().setValue(e):this.$codable.val(e):i&&this.$codable.data("cmEditor").save())}},{key:"initialize",value:function(){var e=this;this.$codable.on("keyup",(function(t){t.keyCode===Te.code.ESCAPE&&e.deactivate()}))}},{key:"isActivated",value:function(){return this.$editor.hasClass("codeview")}},{key:"toggle",value:function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")}},{key:"purify",value:function(e){if(this.options.codeviewFilter&&(e=e.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var t=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);e=e.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,(function(e){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(e))return"";var i,n=function(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return ht(e,t);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ht(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return s=e.done,e},e:function(e){a=!0,r=e},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}(t);try{for(n.s();!(i=n.n()).done;){var o=i.value;if(new RegExp('src="(https?:)?//'+o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(e))return e}}catch(e){n.e(e)}finally{n.f()}return""}))}return e}},{key:"activate",value:function(){var e=this,t=this.CodeMirrorConstructor;if(this.$codable.val(fe.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.context.invoke("airPopover.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.trigger("focus"),t){var i=t.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var n=new t.TernServer(this.options.codemirror.tern);i.ternServer=n,i.on("cursorActivity",(function(e){n.updateArgHints(e)}))}i.on("blur",(function(t){e.context.triggerEvent("blur.codeview",i.getValue(),t)})),i.on("change",(function(){e.context.triggerEvent("change.codeview",i.getValue(),i)})),i.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",i)}else this.$codable.on("blur",(function(t){e.context.triggerEvent("blur.codeview",e.$codable.val(),t)})),this.$codable.on("input",(function(){e.context.triggerEvent("change.codeview",e.$codable.val(),e.$codable)}))}},{key:"deactivate",value:function(){if(this.CodeMirrorConstructor){var e=this.$codable.data("cmEditor");this.$codable.val(e.getValue()),e.toTextArea()}var t=this.purify(fe.value(this.$codable,this.options.prettifyHtml)||fe.emptyPara),i=this.$editable.html()!==t;this.$editable.html(t),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),i&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.trigger("focus"),this.context.invoke("toolbar.updateCodeview",!1),this.context.invoke("airPopover.updateCodeview",!1)}},{key:"destroy",value:function(){this.isActivated()&&this.deactivate()}}],t&&pt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function vt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bt(n.key),n)}}function bt(e){var t=function(e){if("object"!=gt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=gt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gt(t)?t:t+""}var yt=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$document=r()(document),this.$statusbar=t.layoutInfo.statusbar,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.options=t.options},(t=[{key:"initialize",value:function(){var e=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown touchstart",(function(t){t.preventDefault(),t.stopPropagation();var i=e.$editable.offset().top-e.$document.scrollTop(),n=e.$codable.offset().top-e.$document.scrollTop(),o=function(t){var o="mousemove"==t.type?t:t.originalEvent.touches[0],r=o.clientY-(i+24),s=o.clientY-(n+24);r=e.options.minheight>0?Math.max(r,e.options.minheight):r,r=e.options.maxHeight>0?Math.min(r,e.options.maxHeight):r,s=e.options.minheight>0?Math.max(s,e.options.minheight):s,s=e.options.maxHeight>0?Math.min(s,e.options.maxHeight):s,e.$editable.height(r),e.$codable.height(s)};e.$document.on("mousemove touchmove",o).one("mouseup touchend",(function(){e.$document.off("mousemove touchmove",o)}))}))}},{key:"destroy",value:function(){this.$statusbar.off(),this.$statusbar.addClass("locked")}}])&&vt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function wt(e){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(e)}function xt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ct(n.key),n)}}function Ct(e){var t=function(e){if("object"!=wt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=wt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wt(t)?t:t+""}var kt=function(){return e=function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.$window=r()(window),this.$scrollbar=r()("html, body"),this.scrollbarClassName="note-fullscreen-body",this.onResize=function(){i.resizeTo({h:i.$window.height()-i.$toolbar.outerHeight()})}},(t=[{key:"resizeTo",value:function(e){this.$editable.css("height",e.h),this.$codable.css("height",e.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,e.h)}},{key:"toggle",value:function(){this.$editor.toggleClass("fullscreen");var e=this.isFullscreen();this.$scrollbar.toggleClass(this.scrollbarClassName,e),e?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight"))),this.context.invoke("toolbar.updateFullscreen",e)}},{key:"isFullscreen",value:function(){return this.$editor.hasClass("fullscreen")}},{key:"destroy",value:function(){this.$scrollbar.removeClass(this.scrollbarClassName)}}])&&xt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function St(e){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(e)}function $t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_t(n.key),n)}}function _t(e){var t=function(e){if("object"!=St(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=St(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==St(t)?t:t+""}var Dt=function(){return e=function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$document=r()(document),this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(e,t){i.update(t.target,t)&&t.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){i.update()},"summernote.disable summernote.blur":function(){i.hide()},"summernote.codeview.toggled":function(){i.update()}}},t=[{key:"initialize",value:function(){var e=this;this.$handle=r()(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",(function(t){if(fe.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var i=e.$handle.find(".note-control-selection").data("target"),n=i.offset(),o=e.$document.scrollTop(),r=function(t){e.context.invoke("editor.resizeTo",{x:t.clientX-n.left,y:t.clientY-(n.top-o)},i,!t.shiftKey),e.update(i[0],t)};e.$document.on("mousemove",r).one("mouseup",(function(t){t.preventDefault(),e.$document.off("mousemove",r),e.context.invoke("editor.afterCommand")})),i.data("ratio")||i.data("ratio",i.height()/i.width())}})),this.$handle.on("wheel",(function(t){t.preventDefault(),e.update()}))}},{key:"destroy",value:function(){this.$handle.remove()}},{key:"update",value:function(e,t){if(this.context.isDisabled())return!1;var i=fe.isImg(e),n=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",e,t),i){var o=r()(e),s=this.$editingArea[0].getBoundingClientRect(),a=e.getBoundingClientRect();n.css({display:"block",left:a.left-s.left,top:a.top-s.top,width:a.width,height:a.height}).data("target",o);var l=new Image;l.src=o.attr("src");var c=a.width+"x"+a.height+" ("+this.lang.image.original+": "+l.width+"x"+l.height+")";n.find(".note-control-selection-info").text(c),this.context.invoke("editor.saveTarget",e)}else this.hide();return i}},{key:"hide",value:function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()}}],t&&$t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function jt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ot(n.key),n)}}function Ot(e){var t=function(e){if("object"!=Tt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=Tt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Tt(t)?t:t+""}var It=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|tel:|mailto:[A-Z0-9._%+-]+@|xmpp:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,Et=function(){return e=function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.options=t.options,this.$editable=t.layoutInfo.editable,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||i.handleKeyup(t)},"summernote.keydown":function(e,t){i.handleKeydown(t)}}},(t=[{key:"initialize",value:function(){this.lastWordRange=null}},{key:"destroy",value:function(){this.lastWordRange=null}},{key:"replace",value:function(){if(this.lastWordRange){var e=this.lastWordRange.toString(),t=e.match(It);if(t&&(t[1]||t[2])){var i=t[1]?e:"http://"+e,n=this.options.showDomainOnlyForAutolink?e.replace(/^(?:https?:\/\/)?(?:tel?:?)?(?:mailto?:?)?(?:xmpp?:?)?(?:www\.)?/i,"").split("/")[0]:e,o=r()("<a></a>").html(n).attr("href",i)[0];this.context.options.linkTargetBlank&&r()(o).attr("target","_blank"),this.lastWordRange.insertNode(o),this.lastWordRange=null,this.context.invoke("editor.focus"),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}}}},{key:"handleKeydown",value:function(e){if(C.contains([Te.code.ENTER,Te.code.SPACE],e.keyCode)){var t=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=t}}},{key:"handleKeyup",value:function(e){(Te.code.SPACE===e.keyCode||Te.code.ENTER===e.keyCode&&!e.shiftKey)&&this.replace()}}])&&jt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function Pt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,At(n.key),n)}}function At(e){var t=function(e){if("object"!=Rt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=Rt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Rt(t)?t:t+""}var Nt=function(){return e=function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$note=t.layoutInfo.note,this.events={"summernote.change":function(){i.$note.val(t.invoke("code"))}}},(t=[{key:"shouldInitialize",value:function(){return fe.isTextarea(this.$note[0])}}])&&Pt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Ft(e){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft(e)}function Mt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lt(n.key),n)}}function Lt(e){var t=function(e){if("object"!=Ft(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=Ft(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ft(t)?t:t+""}var zt=function(){return e=function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.options=t.options.replace||{},this.keys=[Te.code.ENTER,Te.code.SPACE,Te.code.PERIOD,Te.code.COMMA,Te.code.SEMICOLON,Te.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||i.handleKeyup(t)},"summernote.keydown":function(e,t){i.handleKeydown(t)}}},(t=[{key:"shouldInitialize",value:function(){return!!this.options.match}},{key:"initialize",value:function(){this.lastWord=null}},{key:"destroy",value:function(){this.lastWord=null}},{key:"replace",value:function(){if(this.lastWord){var e=this,t=this.lastWord.toString();this.options.match(t,(function(t){if(t){var i="";if("string"==typeof t?i=fe.createText(t):t instanceof jQuery?i=t[0]:t instanceof Node&&(i=t),!i)return;e.lastWord.insertNode(i),e.lastWord=null,e.context.invoke("editor.focus")}}))}}},{key:"handleKeydown",value:function(e){if(this.previousKeydownCode&&C.contains(this.keys,this.previousKeydownCode))this.previousKeydownCode=e.keyCode;else{if(C.contains(this.keys,e.keyCode)){var t=this.context.invoke("editor.createRange").getWordRange();this.lastWord=t}this.previousKeydownCode=e.keyCode}}},{key:"handleKeyup",value:function(e){C.contains(this.keys,e.keyCode)&&this.replace()}}])&&Mt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function Bt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ht(n.key),n)}}function Ht(e){var t=function(e){if("object"!=qt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=qt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qt(t)?t:t+""}var Gt=function(){return e=function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,!0===this.options.inheritPlaceholder&&(this.options.placeholder=this.context.$note.attr("placeholder")||this.options.placeholder),this.events={"summernote.init summernote.change":function(){i.update()},"summernote.codeview.toggled":function(){i.update()}}},(t=[{key:"shouldInitialize",value:function(){return!!this.options.placeholder}},{key:"initialize",value:function(){var e=this;this.$placeholder=r()('<div class="note-placeholder"></div>'),this.$placeholder.on("click",(function(){e.context.invoke("focus")})).html(this.options.placeholder).prependTo(this.$editingArea),this.update()}},{key:"destroy",value:function(){this.$placeholder.remove()}},{key:"update",value:function(){var e=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(e)}}])&&Bt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function Ut(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vt(n.key),n)}}function Vt(e){var t=function(e){if("object"!=Wt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=Wt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Wt(t)?t:t+""}var Yt=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ui=r().summernote.ui,this.context=t,this.$toolbar=t.layoutInfo.toolbar,this.options=t.options,this.lang=this.options.langInfo,this.invertedKeyMap=v.invertObject(this.options.keyMap[m.isMac?"mac":"pc"])},t=[{key:"representShortcut",value:function(e){var t=this.invertedKeyMap[e];return this.options.shortcuts&&t?(m.isMac&&(t=t.replace("CMD","⌘").replace("SHIFT","⇧"))," ("+(t=t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""}},{key:"button",value:function(e){return!this.options.tooltip&&e.tooltip&&delete e.tooltip,e.container=this.options.container,this.ui.button(e)}},{key:"initialize",value:function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}}},{key:"destroy",value:function(){delete this.fontInstalledMap}},{key:"isFontInstalled",value:function(e){return Object.prototype.hasOwnProperty.call(this.fontInstalledMap,e)||(this.fontInstalledMap[e]=m.isFontInstalled(e)||C.contains(this.options.fontNamesIgnoreCheck,e)),this.fontInstalledMap[e]}},{key:"isFontDeservedToAdd",value:function(e){return""!==(e=e.toLowerCase())&&this.isFontInstalled(e)&&-1===m.genericFontFamilies.indexOf(e)}},{key:"colorPalette",value:function(e,t,i,n){var o=this;return this.ui.buttonGroup({className:"note-color "+e,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:t,click:function(e){var t=r()(e.currentTarget);i&&n?o.context.invoke("editor.color",{backColor:t.attr("data-backColor"),foreColor:t.attr("data-foreColor")}):i?o.context.invoke("editor.color",{backColor:t.attr("data-backColor")}):n&&o.context.invoke("editor.color",{foreColor:t.attr("data-foreColor")})},callback:function(e){var t=e.find(".note-recent-color");i&&(t.css("background-color",o.options.colorButton.backColor),e.attr("data-backColor",o.options.colorButton.backColor)),n?(t.css("color",o.options.colorButton.foreColor),e.attr("data-foreColor",o.options.colorButton.foreColor)):t.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(i?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.background+"</div>","<div>",'<button type="button" class="note-color-reset btn btn-light btn-default" data-event="backColor" data-value="transparent">',this.lang.color.transparent,"</button>","</div>",'<div class="note-holder" data-event="backColor">\x3c!-- back colors --\x3e</div>',"<div>",'<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="backColorPicker-'+this.options.id+'">',this.lang.color.cpSelect,"</button>",'<input type="color" id="backColorPicker-'+this.options.id+'" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette-'+this.options.id+'">',"</div>",'<div class="note-holder-custom" id="backColorPalette-'+this.options.id+'" data-event="backColor"></div>',"</div>"].join(""):"")+(n?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.foreground+"</div>","<div>",'<button type="button" class="note-color-reset btn btn-light btn-default" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"</button>","</div>",'<div class="note-holder" data-event="foreColor">\x3c!-- fore colors --\x3e</div>',"<div>",'<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="foreColorPicker-'+this.options.id+'">',this.lang.color.cpSelect,"</button>",'<input type="color" id="foreColorPicker-'+this.options.id+'" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette-'+this.options.id+'">',"</div>",'<div class="note-holder-custom" id="foreColorPalette-'+this.options.id+'" data-event="foreColor"></div>',"</div>"].join(""):""),callback:function(e){e.find(".note-holder").each((function(e,t){var i=r()(t);i.append(o.ui.palette({colors:o.options.colors,colorsName:o.options.colorsName,eventName:i.data("event"),container:o.options.container,tooltip:o.options.tooltip}).render())}));var t=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];e.find(".note-holder-custom").each((function(e,i){var n=r()(i);n.append(o.ui.palette({colors:t,colorsName:t,eventName:n.data("event"),container:o.options.container,tooltip:o.options.tooltip}).render())})),e.find("input[type=color]").each((function(t,i){r()(i).on("change",(function(){var t=e.find("#"+r()(this).data("event")).find(".note-color-btn").first(),i=this.value.toUpperCase();t.css("background-color",i).attr("aria-label",i).attr("data-value",i).attr("data-original-title",i),t.trigger("click")}))}))},click:function(t){t.stopPropagation();var i=r()("."+e).find(".note-dropdown-menu"),n=r()(t.target),s=n.data("event"),a=n.attr("data-value");if("openPalette"===s){var l=i.find("#"+a),c=r()(i.find("#"+l.data("event")).find(".note-color-row")[0]),d=c.find(".note-color-btn").last().detach(),u=l.val();d.css("background-color",u).attr("aria-label",u).attr("data-value",u).attr("data-original-title",u),c.prepend(d),l.trigger("click")}else{if(C.contains(["backColor","foreColor"],s)){var h="backColor"===s?"background-color":"color",p=n.closest(".note-color").find(".note-recent-color"),f=n.closest(".note-color").find(".note-current-color-button");p.css(h,a),f.attr("data-"+s,a)}o.context.invoke("editor."+s,a)}}})]}).render()}},{key:"addToolbarButtons",value:function(){var e=this;this.context.memo("button.style",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.magic),e.options),tooltip:e.lang.style.style,data:{toggle:"dropdown"}}),e.ui.dropdown({className:"dropdown-style",items:e.options.styleTags,title:e.lang.style.style,template:function(t){"string"==typeof t&&(t={tag:t,title:Object.prototype.hasOwnProperty.call(e.lang.style,t)?e.lang.style[t]:t});var i=t.tag,n=t.title;return"<"+i+(t.style?' style="'+t.style+'" ':"")+(t.className?' class="'+t.className+'"':"")+">"+n+"</"+i+">"},click:e.context.createInvokeHandler("editor.formatBlock")})]).render()}));for(var t=function(){var t=e.options.styleTags[i];e.context.memo("button.style."+t,(function(){return e.button({className:"note-btn-style-"+t,contents:'<div data-value="'+t+'">'+t.toUpperCase()+"</div>",tooltip:e.lang.style[t],click:e.context.createInvokeHandler("editor.formatBlock")}).render()}))},i=0,n=this.options.styleTags.length;i<n;i++)t();this.context.memo("button.bold",(function(){return e.button({className:"note-btn-bold",contents:e.ui.icon(e.options.icons.bold),tooltip:e.lang.font.bold+e.representShortcut("bold"),click:e.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()})),this.context.memo("button.italic",(function(){return e.button({className:"note-btn-italic",contents:e.ui.icon(e.options.icons.italic),tooltip:e.lang.font.italic+e.representShortcut("italic"),click:e.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()})),this.context.memo("button.underline",(function(){return e.button({className:"note-btn-underline",contents:e.ui.icon(e.options.icons.underline),tooltip:e.lang.font.underline+e.representShortcut("underline"),click:e.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()})),this.context.memo("button.clear",(function(){return e.button({contents:e.ui.icon(e.options.icons.eraser),tooltip:e.lang.font.clear+e.representShortcut("removeFormat"),click:e.context.createInvokeHandler("editor.removeFormat")}).render()})),this.context.memo("button.strikethrough",(function(){return e.button({className:"note-btn-strikethrough",contents:e.ui.icon(e.options.icons.strikethrough),tooltip:e.lang.font.strikethrough+e.representShortcut("strikethrough"),click:e.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()})),this.context.memo("button.superscript",(function(){return e.button({className:"note-btn-superscript",contents:e.ui.icon(e.options.icons.superscript),tooltip:e.lang.font.superscript,click:e.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()})),this.context.memo("button.subscript",(function(){return e.button({className:"note-btn-subscript",contents:e.ui.icon(e.options.icons.subscript),tooltip:e.lang.font.subscript,click:e.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()})),this.context.memo("button.fontname",(function(){var t=e.context.invoke("editor.currentStyle");return e.options.addDefaultFonts&&r().each(t["font-family"].split(","),(function(t,i){i=i.trim().replace(/['"]+/g,""),e.isFontDeservedToAdd(i)&&-1===e.options.fontNames.indexOf(i)&&e.options.fontNames.push(i)})),e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontname"></span>',e.options),tooltip:e.lang.font.name,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:e.options.icons.menuCheck,items:e.options.fontNames.filter(e.isFontInstalled.bind(e)),title:e.lang.font.name,template:function(e){return'<span style="font-family: '+m.validFontName(e)+'">'+e+"</span>"},click:e.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()})),this.context.memo("button.fontsize",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontsize"></span>',e.options),tooltip:e.lang.font.size,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:e.options.icons.menuCheck,items:e.options.fontSizes,title:e.lang.font.size,click:e.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()})),this.context.memo("button.fontsizeunit",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontsizeunit"></span>',e.options),tooltip:e.lang.font.sizeunit,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontsizeunit",checkClassName:e.options.icons.menuCheck,items:e.options.fontSizeUnits,title:e.lang.font.sizeunit,click:e.context.createInvokeHandlerAndUpdateState("editor.fontSizeUnit")})]).render()})),this.context.memo("button.color",(function(){return e.colorPalette("note-color-all",e.lang.color.recent,!0,!0)})),this.context.memo("button.forecolor",(function(){return e.colorPalette("note-color-fore",e.lang.color.foreground,!1,!0)})),this.context.memo("button.backcolor",(function(){return e.colorPalette("note-color-back",e.lang.color.background,!0,!1)})),this.context.memo("button.ul",(function(){return e.button({contents:e.ui.icon(e.options.icons.unorderedlist),tooltip:e.lang.lists.unordered+e.representShortcut("insertUnorderedList"),click:e.context.createInvokeHandler("editor.insertUnorderedList")}).render()})),this.context.memo("button.ol",(function(){return e.button({contents:e.ui.icon(e.options.icons.orderedlist),tooltip:e.lang.lists.ordered+e.representShortcut("insertOrderedList"),click:e.context.createInvokeHandler("editor.insertOrderedList")}).render()}));var o=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),s=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),a=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),l=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),c=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),d=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",v.invoke(o,"render")),this.context.memo("button.justifyCenter",v.invoke(s,"render")),this.context.memo("button.justifyRight",v.invoke(a,"render")),this.context.memo("button.justifyFull",v.invoke(l,"render")),this.context.memo("button.outdent",v.invoke(c,"render")),this.context.memo("button.indent",v.invoke(d,"render")),this.context.memo("button.paragraph",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.alignLeft),e.options),tooltip:e.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),e.ui.dropdown([e.ui.buttonGroup({className:"note-align",children:[o,s,a,l]}),e.ui.buttonGroup({className:"note-list",children:[c,d]})])]).render()})),this.context.memo("button.height",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.textHeight),e.options),tooltip:e.lang.font.height,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({items:e.options.lineHeights,checkClassName:e.options.icons.menuCheck,className:"dropdown-line-height",title:e.lang.font.height,click:e.context.createInvokeHandler("editor.lineHeight")})]).render()})),this.context.memo("button.table",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.table),e.options),tooltip:e.lang.table.table,data:{toggle:"dropdown"}}),e.ui.dropdown({title:e.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){t.find(".note-dimension-picker-mousecatcher").css({width:e.options.insertTableMaxSize.col+"em",height:e.options.insertTableMaxSize.row+"em"}).on("mousedown",e.context.createInvokeHandler("editor.insertTable")).on("mousemove",e.tableMoveHandler.bind(e))}}).render()})),this.context.memo("button.link",(function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.link+e.representShortcut("linkDialog.show"),click:e.context.createInvokeHandler("linkDialog.show")}).render()})),this.context.memo("button.picture",(function(){return e.button({contents:e.ui.icon(e.options.icons.picture),tooltip:e.lang.image.image,click:e.context.createInvokeHandler("imageDialog.show")}).render()})),this.context.memo("button.video",(function(){return e.button({contents:e.ui.icon(e.options.icons.video),tooltip:e.lang.video.video,click:e.context.createInvokeHandler("videoDialog.show")}).render()})),this.context.memo("button.hr",(function(){return e.button({contents:e.ui.icon(e.options.icons.minus),tooltip:e.lang.hr.insert+e.representShortcut("insertHorizontalRule"),click:e.context.createInvokeHandler("editor.insertHorizontalRule")}).render()})),this.context.memo("button.fullscreen",(function(){return e.button({className:"btn-fullscreen note-codeview-keep",contents:e.ui.icon(e.options.icons.arrowsAlt),tooltip:e.lang.options.fullscreen,click:e.context.createInvokeHandler("fullscreen.toggle")}).render()})),this.context.memo("button.codeview",(function(){return e.button({className:"btn-codeview note-codeview-keep",contents:e.ui.icon(e.options.icons.code),tooltip:e.lang.options.codeview,click:e.context.createInvokeHandler("codeview.toggle")}).render()})),this.context.memo("button.redo",(function(){return e.button({contents:e.ui.icon(e.options.icons.redo),tooltip:e.lang.history.redo+e.representShortcut("redo"),click:e.context.createInvokeHandler("editor.redo")}).render()})),this.context.memo("button.undo",(function(){return e.button({contents:e.ui.icon(e.options.icons.undo),tooltip:e.lang.history.undo+e.representShortcut("undo"),click:e.context.createInvokeHandler("editor.undo")}).render()})),this.context.memo("button.help",(function(){return e.button({contents:e.ui.icon(e.options.icons.question),tooltip:e.lang.options.help,click:e.context.createInvokeHandler("helpDialog.show")}).render()}))}},{key:"addImagePopoverButtons",value:function(){var e=this;this.context.memo("button.resizeFull",(function(){return e.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:e.lang.image.resizeFull,click:e.context.createInvokeHandler("editor.resize","1")}).render()})),this.context.memo("button.resizeHalf",(function(){return e.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:e.lang.image.resizeHalf,click:e.context.createInvokeHandler("editor.resize","0.5")}).render()})),this.context.memo("button.resizeQuarter",(function(){return e.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:e.lang.image.resizeQuarter,click:e.context.createInvokeHandler("editor.resize","0.25")}).render()})),this.context.memo("button.resizeNone",(function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.resizeNone,click:e.context.createInvokeHandler("editor.resize","0")}).render()})),this.context.memo("button.floatLeft",(function(){return e.button({contents:e.ui.icon(e.options.icons.floatLeft),tooltip:e.lang.image.floatLeft,click:e.context.createInvokeHandler("editor.floatMe","left")}).render()})),this.context.memo("button.floatRight",(function(){return e.button({contents:e.ui.icon(e.options.icons.floatRight),tooltip:e.lang.image.floatRight,click:e.context.createInvokeHandler("editor.floatMe","right")}).render()})),this.context.memo("button.floatNone",(function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.floatNone,click:e.context.createInvokeHandler("editor.floatMe","none")}).render()})),this.context.memo("button.removeMedia",(function(){return e.button({contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.image.remove,click:e.context.createInvokeHandler("editor.removeMedia")}).render()}))}},{key:"addLinkPopoverButtons",value:function(){var e=this;this.context.memo("button.linkDialogShow",(function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.edit,click:e.context.createInvokeHandler("linkDialog.show")}).render()})),this.context.memo("button.unlink",(function(){return e.button({contents:e.ui.icon(e.options.icons.unlink),tooltip:e.lang.link.unlink,click:e.context.createInvokeHandler("editor.unlink")}).render()}))}},{key:"addTablePopoverButtons",value:function(){var e=this;this.context.memo("button.addRowUp",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowAbove),tooltip:e.lang.table.addRowAbove,click:e.context.createInvokeHandler("editor.addRow","top")}).render()})),this.context.memo("button.addRowDown",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowBelow),tooltip:e.lang.table.addRowBelow,click:e.context.createInvokeHandler("editor.addRow","bottom")}).render()})),this.context.memo("button.addColLeft",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colBefore),tooltip:e.lang.table.addColLeft,click:e.context.createInvokeHandler("editor.addCol","left")}).render()})),this.context.memo("button.addColRight",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colAfter),tooltip:e.lang.table.addColRight,click:e.context.createInvokeHandler("editor.addCol","right")}).render()})),this.context.memo("button.deleteRow",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowRemove),tooltip:e.lang.table.delRow,click:e.context.createInvokeHandler("editor.deleteRow")}).render()})),this.context.memo("button.deleteCol",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colRemove),tooltip:e.lang.table.delCol,click:e.context.createInvokeHandler("editor.deleteCol")}).render()})),this.context.memo("button.deleteTable",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.table.delTable,click:e.context.createInvokeHandler("editor.deleteTable")}).render()}))}},{key:"build",value:function(e,t){for(var i=0,n=t.length;i<n;i++){for(var o=t[i],r=Array.isArray(o)?o[0]:o,s=Array.isArray(o)?1===o.length?[o[0]]:o[1]:[o],a=this.ui.buttonGroup({className:"note-"+r}).render(),l=0,c=s.length;l<c;l++){var d=this.context.memo("button."+s[l]);d&&a.append("function"==typeof d?d(this.context):d)}a.appendTo(e)}}},{key:"updateCurrentStyle",value:function(e){var t=e||this.$toolbar,i=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(t,{".note-btn-bold":function(){return"bold"===i["font-bold"]},".note-btn-italic":function(){return"italic"===i["font-italic"]},".note-btn-underline":function(){return"underline"===i["font-underline"]},".note-btn-subscript":function(){return"subscript"===i["font-subscript"]},".note-btn-superscript":function(){return"superscript"===i["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===i["font-strikethrough"]}}),i["font-family"]){var n=i["font-family"].split(",").map((function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")})),o=C.find(n,this.isFontInstalled.bind(this));t.find(".dropdown-fontname a").each((function(e,t){var i=r()(t),n=i.data("value")+""==o+"";i.toggleClass("checked",n)})),t.find(".note-current-fontname").text(o).css("font-family",o)}if(i["font-size"]){var s=i["font-size"];t.find(".dropdown-fontsize a").each((function(e,t){var i=r()(t),n=i.data("value")+""==s+"";i.toggleClass("checked",n)})),t.find(".note-current-fontsize").text(s);var a=i["font-size-unit"];t.find(".dropdown-fontsizeunit a").each((function(e,t){var i=r()(t),n=i.data("value")+""==a+"";i.toggleClass("checked",n)})),t.find(".note-current-fontsizeunit").text(a)}if(i["line-height"]){var l=i["line-height"];t.find(".dropdown-line-height a").each((function(e,t){var i=r()(t),n=r()(t).data("value")+""==l+"";i.toggleClass("checked",n)})),t.find(".note-current-line-height").text(l)}}},{key:"updateBtnStates",value:function(e,t){var i=this;r().each(t,(function(t,n){i.ui.toggleBtnActive(e.find(t),n())}))}},{key:"tableMoveHandler",value:function(e){var t,i=r()(e.target.parentNode),n=i.next(),o=i.find(".note-dimension-picker-mousecatcher"),s=i.find(".note-dimension-picker-highlighted"),a=i.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var l=r()(e.target).offset();t={x:e.pageX-l.left,y:e.pageY-l.top}}else t={x:e.offsetX,y:e.offsetY};var c=Math.ceil(t.x/18)||1,d=Math.ceil(t.y/18)||1;s.css({width:c+"em",height:d+"em"}),o.data("value",c+"x"+d),c>3&&c<this.options.insertTableMaxSize.col&&a.css({width:c+1+"em"}),d>3&&d<this.options.insertTableMaxSize.row&&a.css({height:d+1+"em"}),n.html(c+" x "+d)}}],t&&Ut(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Xt(e){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(e)}function Jt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kt(n.key),n)}}function Kt(e){var t=function(e){if("object"!=Xt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=Xt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Xt(t)?t:t+""}var Qt=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$window=r()(window),this.$document=r()(document),this.ui=r().summernote.ui,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.$editable=t.layoutInfo.editable,this.$statusbar=t.layoutInfo.statusbar,this.options=t.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)},(t=[{key:"shouldInitialize",value:function(){return!this.options.airMode}},{key:"initialize",value:function(){var e=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",(function(){e.context.invoke("buttons.updateCurrentStyle")})),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)}},{key:"destroy",value:function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)}},{key:"followScroll",value:function(){if(this.$editor.hasClass("fullscreen"))return!1;var e=this.$editor.outerHeight(),t=this.$editor.width(),i=this.$toolbar.height(),n=this.$statusbar.height(),o=0;this.options.otherStaticBar&&(o=r()(this.options.otherStaticBar).outerHeight());var s=this.$document.scrollTop(),a=this.$editor.offset().top,l=a-o,c=a+e-o-i-n;!this.isFollowing&&s>l&&s<c-i?(this.isFollowing=!0,this.$editable.css({marginTop:this.$toolbar.outerHeight()}),this.$toolbar.css({position:"fixed",top:o,width:t,zIndex:1e3})):this.isFollowing&&(s<l||s>c)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%",zIndex:"auto"}),this.$editable.css({marginTop:""}))}},{key:"changeContainer",value:function(e){e?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.options.followingToolbar&&this.followScroll()}},{key:"updateFullscreen",value:function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),e),this.changeContainer(e)}},{key:"updateCodeview",value:function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),e),e?this.deactivate():this.activate()}},{key:"activate",value:function(e){var t=this.$toolbar.find("button");e||(t=t.not(".note-codeview-keep")),this.ui.toggleBtn(t,!0)}},{key:"deactivate",value:function(e){var t=this.$toolbar.find("button");e||(t=t.not(".note-codeview-keep")),this.ui.toggleBtn(t,!1)}}])&&Jt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Zt(e){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(e)}function ei(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ti(n.key),n)}}function ti(e){var t=function(e){if("object"!=Zt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=Zt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Zt(t)?t:t+""}var ii=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,ni=/^(\+?\d{1,3}[\s-]?)?(\d{1,4})[\s-]?(\d{1,4})[\s-]?(\d{1,4})$/,oi=/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/,ri=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=r().summernote.ui,this.$body=r()(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo,t.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])},(t=[{key:"initialize",value:function(){var e=this.options.dialogsInBody?this.$body:this.options.container,t=['<div class="form-group note-form-group">','<label for="note-dialog-link-txt-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.link.textToDisplay,"</label>"),'<input id="note-dialog-link-txt-'.concat(this.options.id,'" class="note-link-text form-control note-form-control note-input" type="text"/>'),"</div>",'<div class="form-group note-form-group">','<label for="note-dialog-link-url-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.link.url,"</label>"),'<input id="note-dialog-link-url-'.concat(this.options.id,'" class="note-link-url form-control note-form-control note-input" type="text" value="http://"/>'),"</div>",this.options.disableLinkTarget?"":r()("<div></div>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),i='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-link-btn",'" value="').concat(this.lang.link.insert,'" disabled>');this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:t,footer:i}).render().appendTo(e)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(e,t){e.on("keypress",(function(e){e.keyCode===Te.code.ENTER&&(e.preventDefault(),t.trigger("click"))}))}},{key:"checkLinkUrl",value:function(e){return ii.test(e)?"mailto://"+e:ni.test(e)?"tel://"+e:oi.test(e)?e:"http://"+e}},{key:"onCheckLinkUrl",value:function(e){var t=this;e.on("blur",(function(e){e.target.value=""==e.target.value?"":t.checkLinkUrl(e.target.value)}))}},{key:"toggleLinkBtn",value:function(e,t,i){this.ui.toggleBtn(e,t.val()&&i.val())}},{key:"showLinkDialog",value:function(e){var t=this;return r().Deferred((function(i){var n=t.$dialog.find(".note-link-text"),o=t.$dialog.find(".note-link-url"),r=t.$dialog.find(".note-link-btn"),s=t.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");t.ui.onDialogShown(t.$dialog,(function(){t.context.triggerEvent("dialog.shown"),!e.url&&v.isValidUrl(e.text)&&(e.url=t.checkLinkUrl(e.text)),n.on("input paste propertychange",(function(){var i=n.val(),s=document.createElement("div");s.innerText=i,i=s.innerHTML,e.text=i,t.toggleLinkBtn(r,n,o)})).val(e.text),o.on("input paste propertychange",(function(){e.text||n.val(o.val()),t.toggleLinkBtn(r,n,o)})).val(e.url),m.isSupportTouch||o.trigger("focus"),t.toggleLinkBtn(r,n,o),t.bindEnterKey(o,r),t.bindEnterKey(n,r),t.onCheckLinkUrl(o);var a=void 0!==e.isNewWindow?e.isNewWindow:t.context.options.linkTargetBlank;s.prop("checked",a),r.one("click",(function(r){r.preventDefault(),i.resolve({range:e.range,url:o.val(),text:n.val(),isNewWindow:s.is(":checked")}),t.ui.hideDialog(t.$dialog)}))})),t.ui.onDialogHidden(t.$dialog,(function(){n.off(),o.off(),r.off(),"pending"===i.state()&&i.reject()})),t.ui.showDialog(t.$dialog)})).promise()}},{key:"show",value:function(){var e=this,t=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(t).then((function(t){e.context.invoke("editor.restoreRange"),e.context.invoke("editor.createLink",t)})).fail((function(){e.context.invoke("editor.restoreRange")}))}}])&&ei(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function si(e){return si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},si(e)}function ai(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,li(n.key),n)}}function li(e){var t=function(e){if("object"!=si(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=si(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==si(t)?t:t+""}var ci=function(){return e=function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=r().summernote.ui,this.options=t.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){i.update()},"summernote.disable summernote.dialog.shown":function(){i.hide()},"summernote.blur":function(e,t){t.originalEvent&&t.originalEvent.relatedTarget&&i.$popover[0].contains(t.originalEvent.relatedTarget)||i.hide()}}},(t=[{key:"shouldInitialize",value:function(){return!C.isEmpty(this.options.popover.link)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(e){e.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.link),this.$popover.on("mousedown",(function(e){e.preventDefault()}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(){if(this.context.invoke("editor.hasFocus")){var e=this.context.invoke("editor.getLastRange");if(e.isCollapsed()&&e.isOnAnchor()){var t=fe.ancestor(e.sc,fe.isAnchor),i=r()(t).attr("href");this.$popover.find("a").attr("href",i).text(i);var n=fe.posFromPlaceholder(t),o=r()(this.options.container).offset();n.top-=o.top,n.left-=o.left,this.$popover.css({display:"block",left:n.left,top:n.top})}else this.hide()}else this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}])&&ai(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function di(e){return di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},di(e)}function ui(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hi(n.key),n)}}function hi(e){var t=function(e){if("object"!=di(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=di(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==di(t)?t:t+""}var pi=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=r().summernote.ui,this.$body=r()(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo},(t=[{key:"initialize",value:function(){var e="";if(this.options.maximumImageFileSize){var t=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),i=1*(this.options.maximumImageFileSize/Math.pow(1024,t)).toFixed(2)+" "+" KMGTP"[t]+"B";e="<small>".concat(this.lang.image.maximumFileSize+" : "+i,"</small>")}var n=this.options.dialogsInBody?this.$body:this.options.container,o=['<div class="form-group note-form-group note-group-select-from-files">','<label for="note-dialog-image-file-'+this.options.id+'" class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input id="note-dialog-image-file-'+this.options.id+'" class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="'+this.options.acceptImageFileTypes+'" multiple="multiple"/>',e,"</div>",'<div class="form-group note-group-image-url">','<label for="note-dialog-image-url-'+this.options.id+'" class="note-form-label">'+this.lang.image.url+"</label>",'<input id="note-dialog-image-url-'+this.options.id+'" class="note-image-url form-control note-form-control note-input" type="text"/>',"</div>"].join(""),r='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-image-btn",'" value="').concat(this.lang.image.insert,'" disabled>');this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:o,footer:r}).render().appendTo(n)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(e,t){e.on("keypress",(function(e){e.keyCode===Te.code.ENTER&&(e.preventDefault(),t.trigger("click"))}))}},{key:"show",value:function(){var e=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then((function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange"),"string"==typeof t?e.options.callbacks.onImageLinkInsert?e.context.triggerEvent("image.link.insert",t):e.context.invoke("editor.insertImage",t):e.context.invoke("editor.insertImagesOrCallback",t)})).fail((function(){e.context.invoke("editor.restoreRange")}))}},{key:"showImageDialog",value:function(){var e=this;return r().Deferred((function(t){var i=e.$dialog.find(".note-image-input"),n=e.$dialog.find(".note-image-url"),o=e.$dialog.find(".note-image-btn");e.ui.onDialogShown(e.$dialog,(function(){e.context.triggerEvent("dialog.shown"),i.replaceWith(i.clone().on("change",(function(e){t.resolve(e.target.files||e.target.value)})).val("")),n.on("input paste propertychange",(function(){e.ui.toggleBtn(o,n.val())})).val(""),m.isSupportTouch||n.trigger("focus"),o.on("click",(function(e){e.preventDefault(),t.resolve(n.val())})),e.bindEnterKey(n,o)})),e.ui.onDialogHidden(e.$dialog,(function(){i.off(),n.off(),o.off(),"pending"===t.state()&&t.reject()})),e.ui.showDialog(e.$dialog)}))}}])&&ui(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function fi(e){return fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fi(e)}function mi(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gi(n.key),n)}}function gi(e){var t=function(e){if("object"!=fi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=fi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fi(t)?t:t+""}var vi=function(){return e=function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=r().summernote.ui,this.editable=t.layoutInfo.editable[0],this.options=t.options,this.events={"summernote.disable summernote.dialog.shown":function(){i.hide()},"summernote.blur":function(e,t){t.originalEvent&&t.originalEvent.relatedTarget&&i.$popover[0].contains(t.originalEvent.relatedTarget)||i.hide()}}},t=[{key:"shouldInitialize",value:function(){return!C.isEmpty(this.options.popover.image)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.image),this.$popover.on("mousedown",(function(e){e.preventDefault()}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(e,t){if(fe.isImg(e)){var i=r()(e).offset(),n=r()(this.options.container).offset(),o={};this.options.popatmouse?(o.left=t.pageX-20,o.top=t.pageY):o=i,o.top-=n.top,o.left-=n.left,this.$popover.css({display:"block",left:o.left,top:o.top})}else this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}],t&&mi(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function bi(e){return bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bi(e)}function yi(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wi(n.key),n)}}function wi(e){var t=function(e){if("object"!=bi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=bi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bi(t)?t:t+""}var xi=function(){return e=function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=r().summernote.ui,this.options=t.options,this.events={"summernote.mousedown":function(e,t){i.update(t.target)},"summernote.keyup summernote.scroll summernote.change":function(){i.update()},"summernote.disable summernote.dialog.shown":function(){i.hide()},"summernote.blur":function(e,t){t.originalEvent&&t.originalEvent.relatedTarget&&i.$popover[0].contains(t.originalEvent.relatedTarget)||i.hide()}}},t=[{key:"shouldInitialize",value:function(){return!C.isEmpty(this.options.popover.table)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.table),m.isFF&&document.execCommand("enableInlineTableEditing",!1,!1),this.$popover.on("mousedown",(function(e){e.preventDefault()}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(e){if(this.context.isDisabled())return!1;var t=fe.isCell(e)||fe.isCell(null==e?void 0:e.parentElement);if(t){var i=fe.posFromPlaceholder(e),n=r()(this.options.container).offset();i.top-=n.top,i.left-=n.left,this.$popover.css({display:"block",left:i.left,top:i.top})}else this.hide();return t}},{key:"hide",value:function(){this.$popover.hide()}}],t&&yi(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Ci(e){return Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ci(e)}function ki(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Si(n.key),n)}}function Si(e){var t=function(e){if("object"!=Ci(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=Ci(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ci(t)?t:t+""}var $i=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=r().summernote.ui,this.$body=r()(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo},(t=[{key:"initialize",value:function(){var e=this.options.dialogsInBody?this.$body:this.options.container,t=['<div class="form-group note-form-group row-fluid">','<label for="note-dialog-video-url-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.video.url,' <small class="text-muted">').concat(this.lang.video.providers,"</small></label>"),'<input id="note-dialog-video-url-'.concat(this.options.id,'" class="note-video-url form-control note-form-control note-input" type="text"/>'),"</div>"].join(""),i='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-video-btn",'" value="').concat(this.lang.video.insert,'" disabled>');this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:t,footer:i}).render().appendTo(e)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(e,t){e.on("keypress",(function(e){e.keyCode===Te.code.ENTER&&(e.preventDefault(),t.trigger("click"))}))}},{key:"createVideoNode",value:function(e){var t,i=e.match(/(?:youtu\.be\/|youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=|shorts\/|live\/))([^&\n?]+)(?:.*[?&]t=([^&\n]+))?.*/),n=e.match(/(?:\.|\/\/)drive\.google\.com\/file\/d\/(.[a-zA-Z0-9_-]*)\/view/),o=e.match(/(?:www\.|\/\/)instagram\.com\/(reel|p)\/(.[a-zA-Z0-9_-]*)/),s=e.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),a=e.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),l=e.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),c=e.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),d=e.match(/\/\/(.*)\/videos\/watch\/([^?]*)(?:\?(?:start=(\w*))?(?:&stop=(\w*))?(?:&loop=([10]))?(?:&autoplay=([10]))?(?:&muted=([10]))?)?/),u=e.match(/\/\/v\.qq\.com.*?vid=(.+)/),h=e.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),p=e.match(/^.+.(mp4|m4v)$/),f=e.match(/^.+.(ogg|ogv)$/),m=e.match(/^.+.(webm)$/),g=e.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/);if(i&&11===i[1].length){var v=i[1],b=0;if(void 0!==i[2]){var y=i[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(y)for(var w=[3600,60,1],x=0,C=w.length;x<C;x++)b+=void 0!==y[x+1]?w[x]*parseInt(y[x+1],10):0;else b=parseInt(i[2],10)}t=r()("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+v+(b>0?"?start="+b:"")).attr("width","640").attr("height","360")}else if(n&&n[0].length)t=r()("<iframe>").attr("frameborder",0).attr("src","https://drive.google.com/file/d/"+n[1]+"/preview").attr("width","640").attr("height","480");else if(o&&o[0].length)t=r()("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+o[2]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(s&&s[0].length)t=r()("<iframe>").attr("frameborder",0).attr("src",s[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(a&&a[3].length)t=r()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+a[3]).attr("width","640").attr("height","360");else if(l&&l[2].length)t=r()("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+l[2]).attr("width","640").attr("height","360");else if(c&&c[1].length)t=r()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+c[1]);else if(d&&d[0].length){var k=0;"undefined"!==d[2]&&(k=d[2]);var S=0;"undefined"!==d[3]&&(S=d[3]);var $=0;"undefined"!==d[4]&&($=d[4]);var _=0;"undefined"!==d[5]&&(_=d[5]);var D=0;"undefined"!==d[6]&&(D=d[6]),t=r()('<iframe allowfullscreen sandbox="allow-same-origin allow-scripts allow-popups">').attr("frameborder",0).attr("src","//"+d[1]+"/videos/embed/"+d[2]+"?loop="+$+"&autoplay="+_+"&muted="+D+(k>0?"&start="+k:"")+(S>0?"&end="+b:"")).attr("width","560").attr("height","315")}else if(u&&u[1].length||h&&h[2].length){var T=u&&u[1].length?u[1]:h[2];t=r()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","https://v.qq.com/txp/iframe/player.html?vid="+T+"&amp;auto=0")}else if(p||f||m)t=r()("<video controls>").attr("src",e).attr("width","640").attr("height","360");else{if(!g||!g[0].length)return!1;t=r()("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(g[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return t.addClass("note-video-clip"),t[0]}},{key:"show",value:function(){var e=this,t=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(t).then((function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange");var i=e.createVideoNode(t);i&&e.context.invoke("editor.insertNode",i)})).fail((function(){e.context.invoke("editor.restoreRange")}))}},{key:"showVideoDialog",value:function(){var e=this;return r().Deferred((function(t){var i=e.$dialog.find(".note-video-url"),n=e.$dialog.find(".note-video-btn");e.ui.onDialogShown(e.$dialog,(function(){e.context.triggerEvent("dialog.shown"),i.on("input paste propertychange",(function(){e.ui.toggleBtn(n,i.val())})),m.isSupportTouch||i.trigger("focus"),n.on("click",(function(e){e.preventDefault(),t.resolve(i.val())})),e.bindEnterKey(i,n)})),e.ui.onDialogHidden(e.$dialog,(function(){i.off(),n.off(),"pending"===t.state()&&t.reject()})),e.ui.showDialog(e.$dialog)}))}}])&&ki(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function _i(e){return _i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_i(e)}function Di(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ti(n.key),n)}}function Ti(e){var t=function(e){if("object"!=_i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=_i(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_i(t)?t:t+""}var ji=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=r().summernote.ui,this.$body=r()(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo},t=[{key:"initialize",value:function(){var e=this.options.dialogsInBody?this.$body:this.options.container,t=['<p class="text-center">','<a href="http://summernote.org/" target="_blank" rel="noopener noreferrer">Summernote 0.9.1</a> · ','<a href="https://github.com/summernote/summernote" target="_blank" rel="noopener noreferrer">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank" rel="noopener noreferrer">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:t,callback:function(e){e.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"createShortcutList",value:function(){var e=this,t=this.options.keyMap[m.isMac?"mac":"pc"];return Object.keys(t).map((function(i){var n=t[i],o=r()('<div><div class="help-list-item"></div></div>');return o.append(r()("<label><kbd>"+i+"</kdb></label>").css({width:180,"margin-right":10})).append(r()("<span></span>").html(e.context.memo("help."+n)||n)),o.html()})).join("")}},{key:"showHelpDialog",value:function(){var e=this;return r().Deferred((function(t){e.ui.onDialogShown(e.$dialog,(function(){e.context.triggerEvent("dialog.shown"),t.resolve()})),e.ui.showDialog(e.$dialog)})).promise()}},{key:"show",value:function(){var e=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then((function(){e.context.invoke("editor.restoreRange")}))}}],t&&Di(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Oi(e){return Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oi(e)}function Ii(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ei(n.key),n)}}function Ei(e){var t=function(e){if("object"!=Oi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=Oi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Oi(t)?t:t+""}var Ri=function(){return e=function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=r().summernote.ui,this.options=t.options,this.hidable=!0,this.onContextmenu=!1,this.pageX=null,this.pageY=null,this.events={"summernote.contextmenu":function(e){i.options.editing&&(e.preventDefault(),e.stopPropagation(),i.onContextmenu=!0,i.update(!0))},"summernote.mousedown":function(e,t){i.pageX=t.pageX,i.pageY=t.pageY},"summernote.keyup summernote.mouseup summernote.scroll":function(e,t){if(i.options.editing&&!i.onContextmenu){if("keyup"==t.type){var n=i.context.invoke("editor.getLastRange").getWordRange(),o=v.rect2bnd(C.last(n.getClientRects()));i.pageX=o.left,i.pageY=o.top}else i.pageX=t.pageX,i.pageY=t.pageY;i.update()}i.onContextmenu=!1},"summernote.disable summernote.change summernote.dialog.shown summernote.blur":function(){i.hide()},"summernote.focusout":function(){i.$popover.is(":active,:focus")||i.hide()}}},(t=[{key:"shouldInitialize",value:function(){return this.options.airMode&&!C.isEmpty(this.options.popover.air)}},{key:"initialize",value:function(){var e=this;this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content");this.context.invoke("buttons.build",t,this.options.popover.air),this.$popover.on("mousedown",(function(){e.hidable=!1})),this.$popover.on("mouseup",(function(){e.hidable=!0}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(e){var t=this.context.invoke("editor.currentStyle");if(!t.range||t.range.isCollapsed()&&!e)this.hide();else{var i={left:this.pageX,top:this.pageY},n=r()(this.options.container).offset();i.top-=n.top,i.left-=n.left,this.$popover.css({display:"block",left:Math.max(i.left,0)+-5,top:i.top+5}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}},{key:"updateCodeview",value:function(e){this.ui.toggleBtnActive(this.$popover.find(".btn-codeview"),e),e&&this.hide()}},{key:"hide",value:function(){this.hidable&&this.$popover.hide()}}])&&Ii(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Pi(e){return Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pi(e)}function Ai(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ni(n.key),n)}}function Ni(e){var t=function(e){if("object"!=Pi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=Pi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Pi(t)?t:t+""}var Fi=function(){return e=function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=r().summernote.ui,this.$editable=t.layoutInfo.editable,this.options=t.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||i.handleKeyup(t)},"summernote.keydown":function(e,t){i.handleKeydown(t)},"summernote.disable summernote.dialog.shown summernote.blur":function(){i.hide()}}},t=[{key:"shouldInitialize",value:function(){return this.hints.length>0}},{key:"initialize",value:function(){var e=this;this.lastWordRange=null,this.matchingWord=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",(function(t){e.$content.find(".active").removeClass("active"),r()(t.currentTarget).addClass("active"),e.replace()})),this.$popover.on("mousedown",(function(e){e.preventDefault()}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"selectItem",value:function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2}},{key:"moveDown",value:function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();if(t.length)this.selectItem(t);else{var i=e.parent().next();i.length||(i=this.$content.find(".note-hint-group").first()),this.selectItem(i.find(".note-hint-item").first())}}},{key:"moveUp",value:function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();if(t.length)this.selectItem(t);else{var i=e.parent().prev();i.length||(i=this.$content.find(".note-hint-group").last()),this.selectItem(i.find(".note-hint-item").last())}}},{key:"replace",value:function(){var e=this.$content.find(".note-hint-item.active");if(e.length){var t=this.nodeFromItem(e);if(null!==this.matchingWord&&0===this.matchingWord.length)this.lastWordRange.so=this.lastWordRange.eo;else if(null!==this.matchingWord&&this.matchingWord.length>0&&!this.lastWordRange.isCollapsed()){var i=this.lastWordRange.eo-this.lastWordRange.so-this.matchingWord.length;i>0&&(this.lastWordRange.so+=i)}if(this.lastWordRange.insertNode(t),"next"===this.options.hintSelect){var n=document.createTextNode("");r()(t).after(n),_e.createFromNodeBefore(n).select()}else _e.createFromNodeAfter(t).select();this.lastWordRange=null,this.hide(),this.context.invoke("editor.focus"),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}}},{key:"nodeFromItem",value:function(e){var t=this.hints[e.data("index")],i=e.data("item"),n=t.content?t.content(i):i;return"string"==typeof n&&(n=fe.createText(n)),n}},{key:"createItemTemplates",value:function(e,t){var i=this.hints[e];return t.map((function(t,n){var o=r()('<div class="note-hint-item"></div>');return o.append(i.template?i.template(t):t+""),o.data({index:e,item:t}),0===e&&0===n&&o.addClass("active"),o}))}},{key:"handleKeydown",value:function(e){this.$popover.is(":visible")&&(e.keyCode===Te.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===Te.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===Te.code.DOWN&&(e.preventDefault(),this.moveDown()))}},{key:"searchKeyword",value:function(e,t,i){var n=this.hints[e];if(n&&n.match.test(t)&&n.search){var o=n.match.exec(t);this.matchingWord=o[0],n.search(o[1],i)}else i()}},{key:"createGroup",value:function(e,t){var i=this,n=r()('<div class="note-hint-group note-hint-group-'+e+'"></div>');return this.searchKeyword(e,t,(function(t){(t=t||[]).length&&(n.html(i.createItemTemplates(e,t)),i.show())})),n}},{key:"handleKeyup",value:function(e){var t=this;if(!C.contains([Te.code.ENTER,Te.code.UP,Te.code.DOWN],e.keyCode)){var i,n,o=this.context.invoke("editor.getLastRange");if("words"===this.options.hintMode){if(i=o.getWordsRange(o),n=i.toString(),this.hints.forEach((function(e){if(e.match.test(n))return i=o.getWordsMatchRange(e.match),!1})),!i)return void this.hide();n=i.toString()}else i=o.getWordRange(),n=i.toString();if(this.hints.length&&n){this.$content.empty();var s=v.rect2bnd(C.last(i.getClientRects())),a=r()(this.options.container).offset();s&&(s.top-=a.top,s.left-=a.left,this.$popover.hide(),this.lastWordRange=i,this.hints.forEach((function(e,i){e.match.test(n)&&t.createGroup(i,n).appendTo(t.$content)})),this.$content.find(".note-hint-item").first().addClass("active"),"top"===this.direction?this.$popover.css({left:s.left,top:s.top-this.$popover.outerHeight()-5}):this.$popover.css({left:s.left,top:s.top+s.height+5}))}else this.hide()}}},{key:"show",value:function(){this.$popover.show()}},{key:"hide",value:function(){this.$popover.hide()}}],t&&Ai(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Mi(e){return Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mi(e)}function Li(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zi(n.key),n)}}function zi(e){var t=function(e){if("object"!=Mi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=Mi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Mi(t)?t:t+""}r().summernote=r().extend(r().summernote,{version:"0.9.1",plugins:{},dom:fe,range:_e,lists:C,options:{langInfo:r().summernote.lang["en-US"],editing:!0,modules:{editor:it,clipboard:st,dropzone:dt,codeview:mt,statusbar:yt,fullscreen:kt,handle:Dt,hintPopover:Fi,autoLink:Et,autoSync:Nt,autoReplace:zt,placeholder:Gt,buttons:Yt,toolbar:Qt,linkDialog:ri,linkPopover:ci,imageDialog:pi,imagePopover:vi,tablePopover:xi,videoDialog:$i,helpDialog:ji,airPopover:Ri},buttons:{},lang:"en-US",followingToolbar:!1,toolbarPosition:"top",otherStaticBar:"",codeviewKeepButton:!1,toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]],["view",["fullscreen","codeview"]]]},linkAddNoReferrer:!1,addLinkNoOpener:!1,airMode:!1,overrideContextMenu:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabDisable:!1,tabSize:4,styleWithCSS:!1,shortcuts:!0,textareaAutoSync:!0,tooltip:"auto",container:null,maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,disableGrammar:!1,placeholder:null,inheritPlaceholder:!1,recordEveryKeystroke:!1,historyLimit:200,showDomainOnlyForAutolink:!1,hintMode:"word",hintSelect:"after",hintDirection:"bottom",styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],addDefaultFonts:!0,fontSizes:["8","9","10","11","12","14","18","24","36"],fontSizeUnits:["px","pt"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,acceptImageFileTypes:"image/*",allowClipboardImagePasting:!0,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!0,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","jumpingbean.tv","v.qq.com"],keyMap:{pc:{ESC:"escape",ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ESC:"escape",ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}});var qi=function(){return e=function e(t,i,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.markup=t,this.children=i,this.options=n,this.callback=o},(t=[{key:"render",value:function(e){var t=r()(this.markup);if(this.options&&this.options.contents&&t.html(this.options.contents),this.options&&this.options.className&&t.addClass(this.options.className),this.options&&this.options.data&&r().each(this.options.data,(function(e,i){t.attr("data-"+e,i)})),this.options&&this.options.click&&t.on("click",this.options.click),this.children){var i=t.find(".note-children-container");this.children.forEach((function(e){e.render(i.length?i:t)}))}return this.callback&&this.callback(t,this.options),this.options&&this.options.callback&&this.options.callback(t),e&&e.append(t),t}}])&&Li(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();const Bi=function(e,t){return function(){var i="object"===Mi(arguments[1])?arguments[1]:arguments[0],n=Array.isArray(arguments[0])?arguments[0]:[];return i&&i.children&&(n=i.children),new qi(e,n,i,t)}};function Hi(e){return Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hi(e)}var Gi=Bi('<div class="note-editor note-frame card"></div>'),Wi=Bi('<div class="note-toolbar card-header" role="toolbar"></div>'),Ui=Bi('<div class="note-editing-area"></div>'),Vi=Bi('<textarea class="note-codable" aria-multiline="true"></textarea>'),Yi=Bi('<div class="note-editable card-block" contentEditable="true" role="textbox" aria-multiline="true"></div>'),Xi=Bi(['<output class="note-status-output" role="status" aria-live="polite"></output>','<div class="note-statusbar" role="status">','<div class="note-resizebar" aria-label="Resize">','<div class="note-icon-bar"></div>','<div class="note-icon-bar"></div>','<div class="note-icon-bar"></div>',"</div>","</div>"].join("")),Ji=Bi('<div class="note-editor note-airframe"></div>'),Ki=Bi(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"></div>','<output class="note-status-output" role="status" aria-live="polite"></output>'].join("")),Qi=Bi('<div class="note-btn-group btn-group"></div>'),Zi=Bi('<div class="note-dropdown-menu dropdown-menu" role="list"></div>',(function(e,t){var i=Array.isArray(t.items)?t.items.map((function(e){var i="string"==typeof e?e:e.value||"",n=t.template?t.template(e):e,o="object"===Hi(e)?e.option:void 0;return'<a class="dropdown-item" href="#" data-value="'+i+'"'+(void 0!==o?' data-option="'+o+'"':"")+' role="listitem" aria-label="'+i+'">'+n+"</a>"})).join(""):t.items;e.html(i).attr({"aria-label":t.title}),t&&t.codeviewKeepButton&&e.addClass("note-codeview-keep")})),en=function(e){return e},tn=Bi('<div class="note-dropdown-menu dropdown-menu note-check" role="list"></div>',(function(e,t){var i=Array.isArray(t.items)?t.items.map((function(e){var i="string"==typeof e?e:e.value||"",n=t.template?t.template(e):e;return'<a class="dropdown-item" href="#" data-value="'+i+'" role="listitem" aria-label="'+e+'">'+sn(t.checkClassName)+" "+n+"</a>"})).join(""):t.items;e.html(i).attr({"aria-label":t.title}),t&&t.codeviewKeepButton&&e.addClass("note-codeview-keep")})),nn=Bi('<div class="modal note-modal" aria-hidden="false" tabindex="-1" role="dialog"></div>',(function(e,t){t.fade&&e.addClass("fade"),e.attr({"aria-label":t.title}),e.html(['<div class="modal-dialog">','<div class="modal-content">',t.title?'<div class="modal-header"><h4 class="modal-title">'+t.title+'</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button></div>':"",'<div class="modal-body">'+t.body+"</div>",t.footer?'<div class="modal-footer">'+t.footer+"</div>":"","</div>","</div>"].join(""))})),on=Bi(['<div class="note-popover popover in">','<div class="arrow"></div>','<div class="popover-content note-children-container"></div>',"</div>"].join(""),(function(e,t){var i=void 0!==t.direction?t.direction:"bottom";e.addClass(i),t.hideArrow&&e.find(".arrow").hide()})),rn=Bi('<div class="form-check"></div>',(function(e,t){e.html(['<label class="form-check-label"'+(t.id?' for="note-'+t.id+'"':"")+">",'<input type="checkbox" class="form-check-input"'+(t.id?' id="note-'+t.id+'"':""),t.checked?" checked":"",' aria-label="'+(t.text?t.text:"")+'"',' aria-checked="'+(t.checked?"true":"false")+'"/>'," "+(t.text?t.text:"")+"</label>"].join(""))})),sn=function(e,t){return e.match(/^</)?e:"<"+(t=t||"i")+' class="'+e+'"></'+t+">"};return r().summernote=r().extend(r().summernote,{ui_template:function(e){return{editor:Gi,toolbar:Wi,editingArea:Ui,codable:Vi,editable:Yi,statusbar:Xi,airEditor:Ji,airEditable:Ki,buttonGroup:Qi,dropdown:Zi,dropdownButtonContents:en,dropdownCheck:tn,dialog:nn,popover:on,icon:sn,checkbox:rn,options:e,palette:function(t,i){return Bi('<div class="note-color-palette"></div>',(function(t,i){for(var n=[],o=0,r=i.colors.length;o<r;o++){for(var s=i.eventName,a=i.colors[o],l=i.colorsName[o],c=[],d=0,u=a.length;d<u;d++){var h=a[d],p=l[d];c.push(['<button type="button" class="note-color-btn"','style="background-color:',h,'" ','data-event="',s,'" ','data-value="',h,'" ','title="',p,'" ','aria-label="',p,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+c.join("")+"</div>")}t.html(n.join("")),i.tooltip&&t.find(".note-color-btn").tooltip({container:i.container||e.container,trigger:"hover",placement:"bottom"})}))(t,i)},button:function(t,i){return Bi('<button type="button" class="note-btn btn btn-light btn-sm" tabindex="-1"></button>',(function(t,i){i&&i.tooltip&&t.attr({title:i.tooltip,"aria-label":i.tooltip}).tooltip({container:i.container||e.container,trigger:"hover",placement:"bottom"}).on("click",(function(e){r()(e.currentTarget).tooltip("hide")})),i&&i.codeviewButton&&t.addClass("note-codeview-keep")}))(t,i)},toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},onDialogShown:function(e,t){e.one("shown.bs.modal",t)},onDialogHidden:function(e,t){e.one("hidden.bs.modal",t)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(t){var i=(e.airMode?Ji([Ui([Vi(),Ki()])]):"bottom"===e.toolbarPosition?Gi([Ui([Vi(),Yi()]),Wi(),Xi()]):Gi([Wi(),Ui([Vi(),Yi()]),Xi()])).render();return i.insertAfter(t),{note:t,editor:i,toolbar:i.find(".note-toolbar"),editingArea:i.find(".note-editing-area"),editable:i.find(".note-editable"),codable:i.find(".note-codable"),statusbar:i.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.show()}}},interface:"bs4"}),r().summernote.options.styleTags=["p",{title:"Blockquote",tag:"blockquote",className:"blockquote",value:"blockquote"},"pre","h1","h2","h3","h4","h5","h6"],{}})(),e.exports=n(i(4692))},6425:(e,t,i)=>{"use strict";var n=i(5606),o=i(8287).hp;function r(e,t){return function(){return e.apply(t,arguments)}}const{toString:s}=Object.prototype,{getPrototypeOf:a}=Object,l=(c=Object.create(null),e=>{const t=s.call(e);return c[t]||(c[t]=t.slice(8,-1).toLowerCase())});var c;const d=e=>(e=e.toLowerCase(),t=>l(t)===e),u=e=>t=>typeof t===e,{isArray:h}=Array,p=u("undefined");const f=d("ArrayBuffer");const m=u("string"),g=u("function"),v=u("number"),b=e=>null!==e&&"object"==typeof e,y=e=>{if("object"!==l(e))return!1;const t=a(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},w=d("Date"),x=d("File"),C=d("Blob"),k=d("FileList"),S=d("URLSearchParams"),[$,_,D,T]=["ReadableStream","Request","Response","Headers"].map(d);function j(e,t,{allOwnKeys:i=!1}={}){if(null==e)return;let n,o;if("object"!=typeof e&&(e=[e]),h(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{const o=i?Object.getOwnPropertyNames(e):Object.keys(e),r=o.length;let s;for(n=0;n<r;n++)s=o[n],t.call(null,e[s],s,e)}}function O(e,t){t=t.toLowerCase();const i=Object.keys(e);let n,o=i.length;for(;o-- >0;)if(n=i[o],t===n.toLowerCase())return n;return null}const I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:i.g,E=e=>!p(e)&&e!==I;const R=(P="undefined"!=typeof Uint8Array&&a(Uint8Array),e=>P&&e instanceof P);var P;const A=d("HTMLFormElement"),N=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),F=d("RegExp"),M=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),n={};j(i,((i,o)=>{let r;!1!==(r=t(i,o,e))&&(n[o]=r||i)})),Object.defineProperties(e,n)},L="abcdefghijklmnopqrstuvwxyz",z="0123456789",q={DIGIT:z,ALPHA:L,ALPHA_DIGIT:L+L.toUpperCase()+z};const B=d("AsyncFunction"),H=(G="function"==typeof setImmediate,W=g(I.postMessage),G?setImmediate:W?(U=`axios@${Math.random()}`,V=[],I.addEventListener("message",(({source:e,data:t})=>{e===I&&t===U&&V.length&&V.shift()()}),!1),e=>{V.push(e),I.postMessage(U,"*")}):e=>setTimeout(e));var G,W,U,V;const Y="undefined"!=typeof queueMicrotask?queueMicrotask.bind(I):void 0!==n&&n.nextTick||H;var X={isArray:h,isArrayBuffer:f,isBuffer:function(e){return null!==e&&!p(e)&&null!==e.constructor&&!p(e.constructor)&&g(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||g(e.append)&&("formdata"===(t=l(e))||"object"===t&&g(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&f(e.buffer),t},isString:m,isNumber:v,isBoolean:e=>!0===e||!1===e,isObject:b,isPlainObject:y,isReadableStream:$,isRequest:_,isResponse:D,isHeaders:T,isUndefined:p,isDate:w,isFile:x,isBlob:C,isRegExp:F,isFunction:g,isStream:e=>b(e)&&g(e.pipe),isURLSearchParams:S,isTypedArray:R,isFileList:k,forEach:j,merge:function e(){const{caseless:t}=E(this)&&this||{},i={},n=(n,o)=>{const r=t&&O(i,o)||o;y(i[r])&&y(n)?i[r]=e(i[r],n):y(n)?i[r]=e({},n):h(n)?i[r]=n.slice():i[r]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&j(arguments[e],n);return i},extend:(e,t,i,{allOwnKeys:n}={})=>(j(t,((t,n)=>{i&&g(t)?e[n]=r(t,i):e[n]=t}),{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},toFlatObject:(e,t,i,n)=>{let o,r,s;const l={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),r=o.length;r-- >0;)s=o[r],n&&!n(s,e,t)||l[s]||(t[s]=e[s],l[s]=!0);e=!1!==i&&a(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},kindOf:l,kindOfTest:d,endsWith:(e,t,i)=>{e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;const n=e.indexOf(t,i);return-1!==n&&n===i},toArray:e=>{if(!e)return null;if(h(e))return e;let t=e.length;if(!v(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},forEachEntry:(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=i.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},matchAll:(e,t)=>{let i;const n=[];for(;null!==(i=e.exec(t));)n.push(i);return n},isHTMLForm:A,hasOwnProperty:N,hasOwnProp:N,reduceDescriptors:M,freezeMethods:e=>{M(e,((t,i)=>{if(g(e)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;const n=e[i];g(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")}))}))},toObjectSet:(e,t)=>{const i={},n=e=>{e.forEach((e=>{i[e]=!0}))};return h(e)?n(e):n(String(e).split(t)),i},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,i){return t.toUpperCase()+i})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:O,global:I,isContextDefined:E,ALPHABET:q,generateString:(e=16,t=q.ALPHA_DIGIT)=>{let i="";const{length:n}=t;for(;e--;)i+=t[Math.random()*n|0];return i},isSpecCompliantForm:function(e){return!!(e&&g(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),i=(e,n)=>{if(b(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const o=h(e)?[]:{};return j(e,((e,t)=>{const r=i(e,n+1);!p(r)&&(o[t]=r)})),t[n]=void 0,o}}return e};return i(e,0)},isAsyncFn:B,isThenable:e=>e&&(b(e)||g(e))&&g(e.then)&&g(e.catch),setImmediate:H,asap:Y};function J(e,t,i,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}X.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const K=J.prototype,Q={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Q[e]={value:e}})),Object.defineProperties(J,Q),Object.defineProperty(K,"isAxiosError",{value:!0}),J.from=(e,t,i,n,o,r)=>{const s=Object.create(K);return X.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),J.call(s,e.message,t,i,n,o),s.cause=e,s.name=e.name,r&&Object.assign(s,r),s};function Z(e){return X.isPlainObject(e)||X.isArray(e)}function ee(e){return X.endsWith(e,"[]")?e.slice(0,-2):e}function te(e,t,i){return e?e.concat(t).map((function(e,t){return e=ee(e),!i&&t?"["+e+"]":e})).join(i?".":""):t}const ie=X.toFlatObject(X,{},null,(function(e){return/^is[A-Z]/.test(e)}));function ne(e,t,i){if(!X.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(i=X.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!X.isUndefined(t[e])}))).metaTokens,r=i.visitor||d,s=i.dots,a=i.indexes,l=(i.Blob||"undefined"!=typeof Blob&&Blob)&&X.isSpecCompliantForm(t);if(!X.isFunction(r))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(X.isDate(e))return e.toISOString();if(!l&&X.isBlob(e))throw new J("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(e)||X.isTypedArray(e)?l&&"function"==typeof Blob?new Blob([e]):o.from(e):e}function d(e,i,o){let r=e;if(e&&!o&&"object"==typeof e)if(X.endsWith(i,"{}"))i=n?i:i.slice(0,-2),e=JSON.stringify(e);else if(X.isArray(e)&&function(e){return X.isArray(e)&&!e.some(Z)}(e)||(X.isFileList(e)||X.endsWith(i,"[]"))&&(r=X.toArray(e)))return i=ee(i),r.forEach((function(e,n){!X.isUndefined(e)&&null!==e&&t.append(!0===a?te([i],n,s):null===a?i:i+"[]",c(e))})),!1;return!!Z(e)||(t.append(te(o,i,s),c(e)),!1)}const u=[],h=Object.assign(ie,{defaultVisitor:d,convertValue:c,isVisitable:Z});if(!X.isObject(e))throw new TypeError("data must be an object");return function e(i,n){if(!X.isUndefined(i)){if(-1!==u.indexOf(i))throw Error("Circular reference detected in "+n.join("."));u.push(i),X.forEach(i,(function(i,o){!0===(!(X.isUndefined(i)||null===i)&&r.call(t,i,X.isString(o)?o.trim():o,n,h))&&e(i,n?n.concat(o):[o])})),u.pop()}}(e),t}function oe(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function re(e,t){this._pairs=[],e&&ne(e,this,t)}const se=re.prototype;function ae(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function le(e,t,i){if(!t)return e;const n=i&&i.encode||ae;X.isFunction(i)&&(i={serialize:i});const o=i&&i.serialize;let r;if(r=o?o(t,i):X.isURLSearchParams(t)?t.toString():new re(t,i).toString(n),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}se.append=function(e,t){this._pairs.push([e,t])},se.toString=function(e){const t=e?function(t){return e.call(this,t,oe)}:oe;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var ce=class{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},de={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ue={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:re,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const he="undefined"!=typeof window&&"undefined"!=typeof document,pe="object"==typeof navigator&&navigator||void 0,fe=he&&(!pe||["ReactNative","NativeScript","NS"].indexOf(pe.product)<0),me="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ge=he&&window.location.href||"http://localhost";var ve={...Object.freeze({__proto__:null,hasBrowserEnv:he,hasStandardBrowserWebWorkerEnv:me,hasStandardBrowserEnv:fe,navigator:pe,origin:ge}),...ue};function be(e){function t(e,i,n,o){let r=e[o++];if("__proto__"===r)return!0;const s=Number.isFinite(+r),a=o>=e.length;if(r=!r&&X.isArray(n)?n.length:r,a)return X.hasOwnProp(n,r)?n[r]=[n[r],i]:n[r]=i,!s;n[r]&&X.isObject(n[r])||(n[r]=[]);return t(e,i,n[r],o)&&X.isArray(n[r])&&(n[r]=function(e){const t={},i=Object.keys(e);let n;const o=i.length;let r;for(n=0;n<o;n++)r=i[n],t[r]=e[r];return t}(n[r])),!s}if(X.isFormData(e)&&X.isFunction(e.entries)){const i={};return X.forEachEntry(e,((e,n)=>{t(function(e){return X.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,i,0)})),i}return null}const ye={transitional:de,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",n=i.indexOf("application/json")>-1,o=X.isObject(e);o&&X.isHTMLForm(e)&&(e=new FormData(e));if(X.isFormData(e))return n?JSON.stringify(be(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ne(e,new ve.classes.URLSearchParams,Object.assign({visitor:function(e,t,i,n){return ve.isNode&&X.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=X.isFileList(e))||i.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ne(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||n?(t.setContentType("application/json",!1),function(e,t,i){if(X.isString(e))try{return(t||JSON.parse)(e),X.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(i||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ye.transitional,i=t&&t.forcedJSONParsing,n="json"===this.responseType;if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(i&&!this.responseType||n)){const i=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw J.from(e,J.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ve.classes.FormData,Blob:ve.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],(e=>{ye.headers[e]={}}));var we=ye;const xe=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const Ce=Symbol("internals");function ke(e){return e&&String(e).trim().toLowerCase()}function Se(e){return!1===e||null==e?e:X.isArray(e)?e.map(Se):String(e)}function $e(e,t,i,n,o){return X.isFunction(n)?n.call(this,t,i):(o&&(t=i),X.isString(t)?X.isString(n)?-1!==t.indexOf(n):X.isRegExp(n)?n.test(t):void 0:void 0)}class _e{constructor(e){e&&this.set(e)}set(e,t,i){const n=this;function o(e,t,i){const o=ke(t);if(!o)throw new Error("header name must be a non-empty string");const r=X.findKey(n,o);(!r||void 0===n[r]||!0===i||void 0===i&&!1!==n[r])&&(n[r||t]=Se(e))}const r=(e,t)=>X.forEach(e,((e,i)=>o(e,i,t)));if(X.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(X.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const t={};let i,n,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),i=e.substring(0,o).trim().toLowerCase(),n=e.substring(o+1).trim(),!i||t[i]&&xe[i]||("set-cookie"===i?t[i]?t[i].push(n):t[i]=[n]:t[i]=t[i]?t[i]+", "+n:n)})),t})(e),t);else if(X.isHeaders(e))for(const[t,n]of e.entries())o(n,t,i);else null!=e&&o(t,e,i);return this}get(e,t){if(e=ke(e)){const i=X.findKey(this,e);if(i){const e=this[i];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=i.exec(e);)t[n[1]]=n[2];return t}(e);if(X.isFunction(t))return t.call(this,e,i);if(X.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ke(e)){const i=X.findKey(this,e);return!(!i||void 0===this[i]||t&&!$e(0,this[i],i,t))}return!1}delete(e,t){const i=this;let n=!1;function o(e){if(e=ke(e)){const o=X.findKey(i,e);!o||t&&!$e(0,i[o],o,t)||(delete i[o],n=!0)}}return X.isArray(e)?e.forEach(o):o(e),n}clear(e){const t=Object.keys(this);let i=t.length,n=!1;for(;i--;){const o=t[i];e&&!$e(0,this[o],o,e,!0)||(delete this[o],n=!0)}return n}normalize(e){const t=this,i={};return X.forEach(this,((n,o)=>{const r=X.findKey(i,o);if(r)return t[r]=Se(n),void delete t[o];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,i)=>t.toUpperCase()+i))}(o):String(o).trim();s!==o&&delete t[o],t[s]=Se(n),i[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return X.forEach(this,((i,n)=>{null!=i&&!1!==i&&(t[n]=e&&X.isArray(i)?i.join(", "):i)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach((e=>i.set(e))),i}static accessor(e){const t=(this[Ce]=this[Ce]={accessors:{}}).accessors,i=this.prototype;function n(e){const n=ke(e);t[n]||(!function(e,t){const i=X.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+i,{value:function(e,i,o){return this[n].call(this,t,e,i,o)},configurable:!0})}))}(i,e),t[n]=!0)}return X.isArray(e)?e.forEach(n):n(e),this}}_e.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),X.reduceDescriptors(_e.prototype,(({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[i]=e}}})),X.freezeMethods(_e);var De=_e;function Te(e,t){const i=this||we,n=t||i,o=De.from(n.headers);let r=n.data;return X.forEach(e,(function(e){r=e.call(i,r,o.normalize(),t?t.status:void 0)})),o.normalize(),r}function je(e){return!(!e||!e.__CANCEL__)}function Oe(e,t,i){J.call(this,null==e?"canceled":e,J.ERR_CANCELED,t,i),this.name="CanceledError"}function Ie(e,t,i){const n=i.config.validateStatus;i.status&&n&&!n(i.status)?t(new J("Request failed with status code "+i.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i)):e(i)}X.inherits(Oe,J,{__CANCEL__:!0});const Ee=(e,t,i=3)=>{let n=0;const o=function(e,t){e=e||10;const i=new Array(e),n=new Array(e);let o,r=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=n[s];o||(o=l),i[r]=a,n[r]=l;let d=s,u=0;for(;d!==r;)u+=i[d++],d%=e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),l-o<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}}(50,250);return function(e,t){let i,n,o=0,r=1e3/t;const s=(t,r=Date.now())=>{o=r,i=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),a=t-o;a>=r?s(e,t):(i=e,n||(n=setTimeout((()=>{n=null,s(i)}),r-a)))},()=>i&&s(i)]}((i=>{const r=i.loaded,s=i.lengthComputable?i.total:void 0,a=r-n,l=o(a);n=r;e({loaded:r,total:s,progress:s?r/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&r<=s?(s-r)/l:void 0,event:i,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),i)},Re=(e,t)=>{const i=null!=e;return[n=>t[0]({lengthComputable:i,total:e,loaded:n}),t[1]]},Pe=e=>(...t)=>X.asap((()=>e(...t)));var Ae=ve.hasStandardBrowserEnv?((e,t)=>i=>(i=new URL(i,ve.origin),e.protocol===i.protocol&&e.host===i.host&&(t||e.port===i.port)))(new URL(ve.origin),ve.navigator&&/(msie|trident)/i.test(ve.navigator.userAgent)):()=>!0,Ne=ve.hasStandardBrowserEnv?{write(e,t,i,n,o,r){const s=[e+"="+encodeURIComponent(t)];X.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),X.isString(n)&&s.push("path="+n),X.isString(o)&&s.push("domain="+o),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Fe(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Me=e=>e instanceof De?{...e}:e;function Le(e,t){t=t||{};const i={};function n(e,t,i,n){return X.isPlainObject(e)&&X.isPlainObject(t)?X.merge.call({caseless:n},e,t):X.isPlainObject(t)?X.merge({},t):X.isArray(t)?t.slice():t}function o(e,t,i,o){return X.isUndefined(t)?X.isUndefined(e)?void 0:n(void 0,e,0,o):n(e,t,0,o)}function r(e,t){if(!X.isUndefined(t))return n(void 0,t)}function s(e,t){return X.isUndefined(t)?X.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(i,o,r){return r in t?n(i,o):r in e?n(void 0,i):void 0}const l={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,i)=>o(Me(e),Me(t),0,!0)};return X.forEach(Object.keys(Object.assign({},e,t)),(function(n){const r=l[n]||o,s=r(e[n],t[n],n);X.isUndefined(s)&&r!==a||(i[n]=s)})),i}var ze=e=>{const t=Le({},e);let i,{data:n,withXSRFToken:o,xsrfHeaderName:r,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=De.from(a),t.url=le(Fe(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),X.isFormData(n))if(ve.hasStandardBrowserEnv||ve.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(i=a.getContentType())){const[e,...t]=i?i.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(ve.hasStandardBrowserEnv&&(o&&X.isFunction(o)&&(o=o(t)),o||!1!==o&&Ae(t.url))){const e=r&&s&&Ne.read(s);e&&a.set(r,e)}return t};var qe="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,i){const n=ze(e);let o=n.data;const r=De.from(n.headers).normalize();let s,a,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:p}=n;function f(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const n=De.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Ie((function(e){t(e),f()}),(function(e){i(e),f()}),{data:u&&"text"!==u&&"json"!==u?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:e,request:m}),m=null}m.open(n.method.toUpperCase(),n.url,!0),m.timeout=n.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(i(new J("Request aborted",J.ECONNABORTED,e,m)),m=null)},m.onerror=function(){i(new J("Network Error",J.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const o=n.transitional||de;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),i(new J(t,o.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,m)),m=null},void 0===o&&r.setContentType(null),"setRequestHeader"in m&&X.forEach(r.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),X.isUndefined(n.withCredentials)||(m.withCredentials=!!n.withCredentials),u&&"json"!==u&&(m.responseType=n.responseType),p&&([l,d]=Ee(p,!0),m.addEventListener("progress",l)),h&&m.upload&&([a,c]=Ee(h),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(s=t=>{m&&(i(!t||t.type?new Oe(null,e,m):t),m.abort(),m=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);v&&-1===ve.protocols.indexOf(v)?i(new J("Unsupported protocol "+v+":",J.ERR_BAD_REQUEST,e)):m.send(o||null)}))};var Be=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let i,n=new AbortController;const o=function(e){if(!i){i=!0,s();const t=e instanceof Error?e:this.reason;n.abort(t instanceof J?t:new Oe(t instanceof Error?t.message:t))}};let r=t&&setTimeout((()=>{r=null,o(new J(`timeout ${t} of ms exceeded`,J.ETIMEDOUT))}),t);const s=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:a}=n;return a.unsubscribe=()=>X.asap(s),a}};const He=function*(e,t){let i=e.byteLength;if(!t||i<t)return void(yield e);let n,o=0;for(;o<i;)n=o+t,yield e.slice(o,n),o=n},Ge=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:i}=await t.read();if(e)break;yield i}}finally{await t.cancel()}},We=(e,t,i,n)=>{const o=async function*(e,t){for await(const i of Ge(e))yield*He(i,t)}(e,t);let r,s=0,a=e=>{r||(r=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await o.next();if(t)return a(),void e.close();let r=n.byteLength;if(i){let e=s+=r;i(e)}e.enqueue(new Uint8Array(n))}catch(e){throw a(e),e}},cancel:e=>(a(e),o.return())},{highWaterMark:2})},Ue="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Ve=Ue&&"function"==typeof ReadableStream,Ye=Ue&&("function"==typeof TextEncoder?(Xe=new TextEncoder,e=>Xe.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Xe;const Je=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},Ke=Ve&&Je((()=>{let e=!1;const t=new Request(ve.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Qe=Ve&&Je((()=>X.isReadableStream(new Response("").body))),Ze={stream:Qe&&(e=>e.body)};var et;Ue&&(et=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Ze[e]&&(Ze[e]=X.isFunction(et[e])?t=>t[e]():(t,i)=>{throw new J(`Response type '${e}' is not supported`,J.ERR_NOT_SUPPORT,i)})})));const tt=async(e,t)=>{const i=X.toFiniteNumber(e.getContentLength());return null==i?(async e=>{if(null==e)return 0;if(X.isBlob(e))return e.size;if(X.isSpecCompliantForm(e)){const t=new Request(ve.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return X.isArrayBufferView(e)||X.isArrayBuffer(e)?e.byteLength:(X.isURLSearchParams(e)&&(e+=""),X.isString(e)?(await Ye(e)).byteLength:void 0)})(t):i};const it={http:null,xhr:qe,fetch:Ue&&(async e=>{let{url:t,method:i,data:n,signal:o,cancelToken:r,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=ze(e);c=c?(c+"").toLowerCase():"text";let p,f=Be([o,r&&r.toAbortSignal()],s);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(l&&Ke&&"get"!==i&&"head"!==i&&0!==(g=await tt(d,n))){let e,i=new Request(t,{method:"POST",body:n,duplex:"half"});if(X.isFormData(n)&&(e=i.headers.get("content-type"))&&d.setContentType(e),i.body){const[e,t]=Re(g,Ee(Pe(l)));n=We(i.body,65536,e,t)}}X.isString(u)||(u=u?"include":"omit");const o="credentials"in Request.prototype;p=new Request(t,{...h,signal:f,method:i.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:o?u:void 0});let r=await fetch(p);const s=Qe&&("stream"===c||"response"===c);if(Qe&&(a||s&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=r[t]}));const t=X.toFiniteNumber(r.headers.get("content-length")),[i,n]=a&&Re(t,Ee(Pe(a),!0))||[];r=new Response(We(r.body,65536,i,(()=>{n&&n(),m&&m()})),e)}c=c||"text";let v=await Ze[X.findKey(Ze,c)||"text"](r,e);return!s&&m&&m(),await new Promise(((t,i)=>{Ie(t,i,{data:v,headers:De.from(r.headers),status:r.status,statusText:r.statusText,config:e,request:p})}))}catch(t){if(m&&m(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new J("Network Error",J.ERR_NETWORK,e,p),{cause:t.cause||t});throw J.from(t,t&&t.code,e,p)}})};X.forEach(it,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const nt=e=>`- ${e}`,ot=e=>X.isFunction(e)||null===e||!1===e;var rt=e=>{e=X.isArray(e)?e:[e];const{length:t}=e;let i,n;const o={};for(let r=0;r<t;r++){let t;if(i=e[r],n=i,!ot(i)&&(n=it[(t=String(i)).toLowerCase()],void 0===n))throw new J(`Unknown adapter '${t}'`);if(n)break;o[t||"#"+r]=n}if(!n){const e=Object.entries(o).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new J("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(nt).join("\n"):" "+nt(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function st(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Oe(null,e)}function at(e){st(e),e.headers=De.from(e.headers),e.data=Te.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return rt(e.adapter||we.adapter)(e).then((function(t){return st(e),t.data=Te.call(e,e.transformResponse,t),t.headers=De.from(t.headers),t}),(function(t){return je(t)||(st(e),t&&t.response&&(t.response.data=Te.call(e,e.transformResponse,t.response),t.response.headers=De.from(t.response.headers))),Promise.reject(t)}))}const lt="1.7.9",ct={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ct[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}}));const dt={};ct.transitional=function(e,t,i){function n(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(i?". "+i:"")}return(i,o,r)=>{if(!1===e)throw new J(n(o," has been removed"+(t?" in "+t:"")),J.ERR_DEPRECATED);return t&&!dt[o]&&(dt[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,o,r)}},ct.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};var ut={assertOptions:function(e,t,i){if("object"!=typeof e)throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const r=n[o],s=t[r];if(s){const t=e[r],i=void 0===t||s(t,r,e);if(!0!==i)throw new J("option "+r+" must be "+i,J.ERR_BAD_OPTION_VALUE)}else if(!0!==i)throw new J("Unknown option "+r,J.ERR_BAD_OPTION)}},validators:ct};const ht=ut.validators;class pt{constructor(e){this.defaults=e,this.interceptors={request:new ce,response:new ce}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const i=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?i&&!String(e.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+i):e.stack=i}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Le(this.defaults,t);const{transitional:i,paramsSerializer:n,headers:o}=t;void 0!==i&&ut.assertOptions(i,{silentJSONParsing:ht.transitional(ht.boolean),forcedJSONParsing:ht.transitional(ht.boolean),clarifyTimeoutError:ht.transitional(ht.boolean)},!1),null!=n&&(X.isFunction(n)?t.paramsSerializer={serialize:n}:ut.assertOptions(n,{encode:ht.function,serialize:ht.function},!0)),ut.assertOptions(t,{baseUrl:ht.spelling("baseURL"),withXsrfToken:ht.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=o&&X.merge(o.common,o[t.method]);o&&X.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=De.concat(r,o);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!a){const e=[at.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=s.length;let h=t;for(u=0;u<d;){const e=s[u++],t=s[u++];try{h=e(h)}catch(e){t.call(this,e);break}}try{c=at.call(this,h)}catch(e){return Promise.reject(e)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return le(Fe((e=Le(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}X.forEach(["delete","get","head","options"],(function(e){pt.prototype[e]=function(t,i){return this.request(Le(i||{},{method:e,url:t,data:(i||{}).data}))}})),X.forEach(["post","put","patch"],(function(e){function t(t){return function(i,n,o){return this.request(Le(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}pt.prototype[e]=t(),pt.prototype[e+"Form"]=t(!0)}));var ft=pt;class mt{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const i=this;this.promise.then((e=>{if(!i._listeners)return;let t=i._listeners.length;for(;t-- >0;)i._listeners[t](e);i._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{i.subscribe(e),t=e})).then(e);return n.cancel=function(){i.unsubscribe(t)},n},e((function(e,n,o){i.reason||(i.reason=new Oe(e,n,o),t(i.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new mt((function(t){e=t})),cancel:e}}}var gt=mt;const vt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(vt).forEach((([e,t])=>{vt[t]=e}));var bt=vt;const yt=function e(t){const i=new ft(t),n=r(ft.prototype.request,i);return X.extend(n,ft.prototype,i,{allOwnKeys:!0}),X.extend(n,i,null,{allOwnKeys:!0}),n.create=function(i){return e(Le(t,i))},n}(we);yt.Axios=ft,yt.CanceledError=Oe,yt.CancelToken=gt,yt.isCancel=je,yt.VERSION=lt,yt.toFormData=ne,yt.AxiosError=J,yt.Cancel=yt.CanceledError,yt.all=function(e){return Promise.all(e)},yt.spread=function(e){return function(t){return e.apply(null,t)}},yt.isAxiosError=function(e){return X.isObject(e)&&!0===e.isAxiosError},yt.mergeConfig=Le,yt.AxiosHeaders=De,yt.formToJSON=e=>be(X.isHTMLForm(e)?new FormData(e):e),yt.getAdapter=rt,yt.HttpStatusCode=bt,yt.default=yt,e.exports=yt}},e=>{e.O(0,[660],(()=>{return t=3882,e(e.s=t);var t}));e.O()}]);