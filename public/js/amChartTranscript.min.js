let transcripts;function loadChart(t){let a=new am4core.DataSource;a.url=t,a.disableCache=!0,a.events.on("done",function(t){buildChart(t.target.data)}),a.load()}function buildChart(t){transcripts=am4core.createFromConfig(t,"transcripts",am4charts.XYChart);transcripts.events.on("datavalidated",function(t){let a=t.target,r=a.yAxes.getIndex(0),e=1.5*a.data.length-r.pixelHeight,n=a.pixelHeight+e;a.svgContainer.htmlElement.style.height=n+"px"}),transcripts.events.on("ready",function(){$("#script-modal").modal("hide")})}$(function(){let t=Laravel.years;if(t.length>0){let a=$("#year"+t[0]),r=a.data("href");a.removeClass("btn-primary").addClass("btn-transcription-year"),loadChart(r)}$(".btn-transcription").on("click",function(){$("#script-modal").modal("show"),transcripts.dispose(),$(this).removeClass("btn-primary").addClass("btn-transcription-year"),$(this).siblings().removeClass("btn-transcription-year").addClass("btn-primary"),loadChart($(this).data("href"))})});
