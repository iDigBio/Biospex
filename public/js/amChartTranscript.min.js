var transcripts;function loadChart(a){var t=new am4core.DataSource;t.url=a,t.disableCache=!0,t.events.on("done",function(a){buildChart(a.target.data)}),t.load()}function buildChart(a){(transcripts=am4core.createFromConfig(a,"transcripts",am4charts.XYChart)).preloader.hiddenState.transitionDuration=0;transcripts.events.on("datavalidated",function(a){var t=a.target,r=t.yAxes.getIndex(0),n=1.5*t.data.length-r.pixelHeight,e=t.pixelHeight+n;t.svgContainer.htmlElement.style.height=e+"px",$("#script-modal").modal("hide")})}$(function(){var a=Laravel.years;if(a.length>0){var t=$("#year"+a[0]),r=t.data("href");t.removeClass("btn-primary").addClass("btn-transcription-year"),loadChart(r)}$(".btn-transcription").on("click",function(){$("#script-modal").modal("show"),transcripts.dispose(),$(this).removeClass("btn-primary").addClass("btn-transcription-year"),$(this).siblings().removeClass("btn-transcription-year").addClass("btn-primary"),loadChart($(this).data("href"))})});
