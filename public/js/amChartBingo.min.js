function showWinnerModal(e,a,o=!1){$("#bingo-modal").modal("show").on("shown.bs.modal",(function(){$("#bingo-conffeti").collapse("show"),$body=$(this).find(".modal-body"),$body.html(a),timeout=setTimeout((function(){$("#bingo-modal").modal("hide"),$("#bingo-conffeti").collapse("hide"),$body.html("")}),1e4)})).on("hidden.bs.modal",(function(){createRows(e),$("#bingo-conffeti").collapse("hide")}))}function createRows(e){e.html(""),$.post(Laravel.rowsUrl).done((function(a){e.html(a)})).fail((function(){e.html("<p>Failed to load bingo rows.</p>")}))}$((function(){let e=am4core.create("bingodiv",am4maps.MapChart);e.geodata=am4geodata_worldLow,e.projection=new am4maps.projections.Miller;let a=e.series.push(new am4maps.MapPolygonSeries);a.useGeodata=!0;let o=a.mapPolygons.template;o.tooltipText="{name}",o.fill=am4core.color("#74B266"),o.states.create("hover").properties.fill=am4core.color("#367B25"),a.exclude=["AQ"];let t=e.series.push(new am4maps.MapImageSeries),i=t.mapImages.template,n=i.createChild(am4core.Image);n.href="https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-160/marker.svg",n.width=20,n.height=20,n.nonScaling=!0,n.tooltipText="{city}",n.horizontalCenter="middle",n.verticalCenter="bottom",i.propertyFields.latitude="latitude",i.propertyFields.longitude="longitude",t.data=JSON.parse(Laravel.bingoUserData),Echo.channel(Laravel.channel).listen("BingoEvent",(e=>{let a=JSON.parse(e.data),o=a.winner;a.marker.uuid!==Laravel.bingoUserUuid&&(t.addData(a.marker),null!==o&&showWinnerModal(l,"<h3>We Have A Winner In "+o.city+"!!</h3>"))}));let l=$("#bingo-rows");createRows(l);let r=[["a1","a2","a3","a4","a5"],["b1","b2","b3","b4","b5"],["c1","c2","c3","c4","c5"],["d1","d2","d3","d4","d5"],["e1","e2","e3","e4","e5"],["a1","b1","c1","d1","e1"],["a2","b2","c2","d2","e2"],["a3","b3","c3","d3","e3"],["a4","b4","c4","d4","e4"],["a5","b5","c5","d5","e5"],["a1","b2","c3","d4","e5"],["a5","b4","c3","d2","e1"]],c=r.length,d=["c3"];l.on("click",".square",(function(){$(this).toggleClass("clicked"),d.push($(this).attr("id"));for(let e=0;e<c;e++){let a=0;for(let o=0;o<5;o++)$.inArray(r[e][o],d)>-1&&a++;5===a&&($.get(Laravel.winnerUrl),showWinnerModal(l,"<h3>You are a winner!! Congratulations!!</h3>",!0),d=["c3"])}})).data("clicked",0).click((function(){let e=$(this).data("clicked");$(this).data("clicked",e++)}))}));
