webpackJsonp([1],{"0MVf":function(e,t,i){(function(e){(function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var r=function(){function e(e,t,i,r){this.markup=e,this.children=t,this.options=i,this.callback=r}return e.prototype.render=function(e){var i=t(this.markup);if(this.options&&this.options.contents&&i.html(this.options.contents),this.options&&this.options.className&&i.addClass(this.options.className),this.options&&this.options.data&&t.each(this.options.data,function(e,t){i.attr("data-"+e,t)}),this.options&&this.options.click&&i.on("click",this.options.click),this.children){var r=i.find(".note-children-container");this.children.forEach(function(e){e.render(r.length?r:i)})}return this.callback&&this.callback(i,this.options),this.options&&this.options.callback&&this.options.callback(i),e&&e.append(i),i},e}(),n=function(e,i){return function(){var n="object"==typeof arguments[1]?arguments[1]:arguments[0],o=t.isArray(arguments[0])?arguments[0]:[];return n&&n.children&&(o=n.children),new r(e,o,n,i)}},o=n('<div class="note-editor note-frame panel"/>'),s=n('<div class="note-toolbar-wrapper panel-default"><div class="note-toolbar panel-heading" role="toolbar"></div></div>'),a=n('<div class="note-editing-area"/>'),l=n('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),d=n('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),c=n(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),h=n('<div class="note-editor"/>'),u=n(['  <output class="note-status-output" aria-live="polite"/>','<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'].join("")),f=n('<div class="note-btn-group btn-group">'),p=n('<ul class="dropdown-menu" role="list">',function(e,i){var r=t.isArray(i.items)?i.items.map(function(e){var t="string"==typeof e?e:e.value||"",r=i.template?i.template(e):e,n="object"==typeof e?e.option:void 0;return'<li role="listitem" aria-label="'+e+'"><a href="#" '+('data-value="'+t+'"'+(void 0!==n?' data-option="'+n+'"':""))+">"+r+"</a></li>"}).join(""):i.items;e.html(r).attr({"aria-label":i.title})}),g=n('<ul class="dropdown-menu note-check" role="list">',function(e,i){var r=t.isArray(i.items)?i.items.map(function(e){var t="string"==typeof e?e:e.value||"",r=i.template?i.template(e):e;return'<li role="listitem" aria-label="'+e+'"><a href="#" data-value="'+t+'">'+m(i.checkClassName)+" "+r+"</a></li>"}).join(""):i.items;e.html(r).attr({"aria-label":i.title})}),m=function(e,t){return"<"+(t=t||"i")+' class="'+e+'"/>'},v={editor:o,toolbar:s,editingArea:a,codable:l,editable:d,statusbar:c,airEditor:h,airEditable:u,buttonGroup:f,dropdown:p,dropdownButtonContents:function(e,t){return e+" "+m(t.icons.caret,"span")},dropdownCheck:g,palette:n('<div class="note-color-palette"/>',function(e,t){for(var i=[],r=0,n=t.colors.length;r<n;r++){for(var o=t.eventName,s=t.colors[r],a=t.colorsName[r],l=[],d=0,c=s.length;d<c;d++){var h=s[d],u=a[d];l.push(['<button type="button" class="note-color-btn"','style="background-color:',h,'" ','data-event="',o,'" ','data-value="',h,'" ','title="',u,'" ','aria-label="',u,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}i.push('<div class="note-color-row">'+l.join("")+"</div>")}e.html(i.join("")),t.tooltip&&e.find(".note-color-btn").tooltip({container:t.container,trigger:"hover",placement:"bottom"})}),dialog:n('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(e,t){t.fade&&e.addClass("fade"),e.attr({"aria-label":t.title}),e.html(['<div class="modal-dialog">','  <div class="modal-content">',t.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>      <h4 class="modal-title">'+t.title+"</h4>    </div>":"",'    <div class="modal-body">'+t.body+"</div>",t.footer?'    <div class="modal-footer">'+t.footer+"</div>":"","  </div>","</div>"].join(""))}),popover:n(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(e,t){var i=void 0!==t.direction?t.direction:"bottom";e.addClass(i),t.hideArrow&&e.find(".arrow").hide()}),checkbox:n('<div class="checkbox"></div>',function(e,t){e.html([" <label"+(t.id?' for="'+t.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(t.id?' id="'+t.id+'"':""),t.checked?" checked":"",' aria-checked="'+(t.checked?"true":"false")+'"/>',t.text?t.text:"","</label>"].join(""))}),icon:m,options:{},button:function(e,t){return n('<button type="button" class="note-btn btn btn-default btn-sm" role="button" tabindex="-1">',function(e,t){t&&t.tooltip&&e.attr({title:t.tooltip,"aria-label":t.tooltip}).tooltip({container:t.container,trigger:"hover",placement:"bottom"})})(e,t)},toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},onDialogShown:function(e,t){e.one("shown.bs.modal",t)},onDialogHidden:function(e,t){e.one("hidden.bs.modal",t)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(e,t){var i=(t.airMode?v.airEditor([v.editingArea([v.airEditable()])]):v.editor([v.toolbar(),v.editingArea([v.codable(),v.editable()]),v.statusbar()])).render();return i.insertAfter(e),{note:e,editor:i,toolbar:i.find(".note-toolbar"),editingArea:i.find(".note-editing-area"),editable:i.find(".note-editable"),codable:i.find(".note-codable"),statusbar:i.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.show()}};var b=0;var y={eq:function(e){return function(t){return e===t}},eq2:function(e,t){return e===t},peq2:function(e){return function(t,i){return t[e]===i[e]}},ok:function(){return!0},fail:function(){return!1},self:function(e){return e},not:function(e){return function(){return!e.apply(e,arguments)}},and:function(e,t){return function(i){return e(i)&&t(i)}},invoke:function(e,t){return function(){return e[t].apply(e,arguments)}},uniqueId:function(e){var t=++b+"";return e?e+t:t},rect2bnd:function(t){var i=e(document);return{top:t.top+i.scrollTop(),left:t.left+i.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},invertObject:function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[e[i]]=i);return t},namespaceToCamel:function(e,t){return(t=t||"")+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")},debounce:function(e,t,i){var r,n=this;return function(){var o=n,s=arguments,a=i&&!r;clearTimeout(r),r=setTimeout(function(){r=null,i||e.apply(o,s)},t),a&&e.apply(o,s)}}};function w(e){return e[0]}function x(e){return e[e.length-1]}function C(e){return e.slice(1)}function S(e,i){return t.inArray(i,e)}function k(e,t){return-1!==S(e,t)}var D={head:w,last:x,initial:function(e){return e.slice(0,e.length-1)},tail:C,prev:function(e,t){var i=S(e,t);return-1===i?null:e[i-1]},next:function(e,t){var i=S(e,t);return-1===i?null:e[i+1]},find:function(e,t){for(var i=0,r=e.length;i<r;i++){var n=e[i];if(t(n))return n}},contains:k,all:function(e,t){for(var i=0,r=e.length;i<r;i++)if(!t(e[i]))return!1;return!0},sum:function(e,t){return t=t||y.self,e.reduce(function(e,i){return e+t(i)},0)},from:function(e){for(var t=[],i=e.length,r=-1;++r<i;)t[r]=e[r];return t},isEmpty:function(e){return!e||!e.length},clusterBy:function(e,t){return e.length?C(e).reduce(function(e,i){var r=x(e);return t(x(r),i)?r[r.length]=i:e[e.length]=[i],e},[[w(e)]]):[]},compact:function(e){for(var t=[],i=0,r=e.length;i<r;i++)e[i]&&t.push(e[i]);return t},unique:function(e){for(var t=[],i=0,r=e.length;i<r;i++)k(t,e[i])||t.push(e[i]);return t}},T=i("nErl");var A,N=navigator.userAgent,_=/MSIE|Trident/i.test(N);if(_){var M=/MSIE (\d+[.]\d+)/.exec(N);M&&(A=parseFloat(M[1])),(M=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(N))&&(A=parseFloat(M[1]))}var E=/Edge\/\d+/.test(N),$=!!window.CodeMirror;if(!$&&T)try{$=!0}catch(e){}var O="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,I=_||E?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",R={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:_,isEdge:E,isFF:!E&&/firefox/i.test(N),isPhantom:/PhantomJS/i.test(N),isWebkit:!E&&/webkit/i.test(N),isChrome:!E&&/chrome/i.test(N),isSafari:!E&&/safari/i.test(N),browserVersion:A,jqueryVersion:parseFloat(t.fn.jquery),isSupportAmd:T,isSupportTouch:O,hasCodeMirror:$,isFontInstalled:function(e){var i="Comic Sans MS"===e?"Courier New":"Comic Sans MS",r=t("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),n=r.css("fontFamily",i).width(),o=r.css("fontFamily",e+","+i).width();return r.remove(),n!==o},isW3CRangeSupport:!!document.createRange,inputEventName:I},F=String.fromCharCode(160);function L(e){return e&&t(e).hasClass("note-editable")}function j(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}}function P(e){return e&&3===e.nodeType}function z(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT/.test(e.nodeName.toUpperCase())}function B(e){return!L(e)&&(e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase()))}var H=j("PRE"),q=j("LI");var W=j("TABLE"),G=j("DATA");function V(e){return!(K(e)||U(e)||Y(e)||B(e)||W(e)||Z(e)||G(e))}function U(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())}var Y=j("HR");function X(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())}var Z=j("BLOCKQUOTE");function K(e){return X(e)||Z(e)||L(e)}var J=j("A");var Q=j("BODY");var ee=R.isMSIE&&R.browserVersion<11?"&nbsp;":"<br>";function te(e){return P(e)?e.nodeValue.length:e?e.childNodes.length:0}function ie(e){var t=te(e);return 0===t||(!P(e)&&1===t&&e.innerHTML===ee||!(!D.all(e.childNodes,P)||""!==e.innerHTML))}function re(e){z(e)||te(e)||(e.innerHTML=ee)}function ne(e,t){for(;e;){if(t(e))return e;if(L(e))break;e=e.parentNode}return null}function oe(e,t){t=t||y.fail;var i=[];return ne(e,function(e){return L(e)||i.push(e),t(e)}),i}function se(e,t){t=t||y.fail;for(var i=[];e&&!t(e);)i.push(e),e=e.nextSibling;return i}function ae(e,t){var i=t.nextSibling,r=t.parentNode;return i?r.insertBefore(e,i):r.appendChild(e),e}function le(e,i){return t.each(i,function(t,i){e.appendChild(i)}),e}function de(e){return 0===e.offset}function ce(e){return e.offset===te(e.node)}function he(e){return de(e)||ce(e)}function ue(e,t){for(;e&&e!==t;){if(0!==pe(e))return!1;e=e.parentNode}return!0}function fe(e,t){if(!t)return!1;for(;e&&e!==t;){if(pe(e)!==te(e.parentNode)-1)return!1;e=e.parentNode}return!0}function pe(e){for(var t=0;e=e.previousSibling;)t+=1;return t}function ge(e){return!!(e&&e.childNodes&&e.childNodes.length)}function me(e,t){var i,r;if(0===e.offset){if(L(e.node))return null;i=e.node.parentNode,r=pe(e.node)}else ge(e.node)?r=te(i=e.node.childNodes[e.offset-1]):(i=e.node,r=t?0:e.offset-1);return{node:i,offset:r}}function ve(e,t){var i,r;if(te(e.node)===e.offset){if(L(e.node))return null;i=e.node.parentNode,r=pe(e.node)+1}else ge(e.node)?(i=e.node.childNodes[e.offset],r=0):(i=e.node,r=t?te(e.node):e.offset+1);return{node:i,offset:r}}function be(e,t){return e.node===t.node&&e.offset===t.offset}function ye(e,t){var i=t&&t.isSkipPaddingBlankHTML,r=t&&t.isNotSplitEdgePoint;if(he(e)&&(P(e.node)||r)){if(de(e))return e.node;if(ce(e))return e.node.nextSibling}if(P(e.node))return e.node.splitText(e.offset);var n=e.node.childNodes[e.offset],o=ae(e.node.cloneNode(!1),e.node);return le(o,se(n)),i||(re(e.node),re(o)),o}function we(e,t,i){var r=oe(t.node,y.eq(e));return r.length?1===r.length?ye(t,i):r.reduce(function(e,r){return e===t.node&&(e=ye(t,i)),ye({node:r,offset:e?pe(e):te(r)},i)}):null}function xe(e){return document.createElement(e)}function Ce(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var i=e.parentNode;if(!t){for(var r=[],n=0,o=e.childNodes.length;n<o;n++)r.push(e.childNodes[n]);for(n=0,o=r.length;n<o;n++)i.insertBefore(r[n],e)}i.removeChild(e)}}var Se=j("TEXTAREA");function ke(e,t){var i=Se(e[0])?e.val():e.html();return t?i.replace(/[\n\r]/g,""):i}var De={NBSP_CHAR:F,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:ee,emptyPara:"<p>"+ee+"</p>",makePredByNodeName:j,isEditable:L,isControlSizing:function(e){return e&&t(e).hasClass("note-control-sizing")},isText:P,isElement:function(e){return e&&1===e.nodeType},isVoid:z,isPara:B,isPurePara:function(e){return B(e)&&!q(e)},isHeading:function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},isInline:V,isBlock:y.not(V),isBodyInline:function(e){return V(e)&&!ne(e,B)},isBody:Q,isParaInline:function(e){return V(e)&&!!ne(e,B)},isPre:H,isList:U,isTable:W,isData:G,isCell:X,isBlockquote:Z,isBodyContainer:K,isAnchor:J,isDiv:j("DIV"),isLi:q,isBR:j("BR"),isSpan:j("SPAN"),isB:j("B"),isU:j("U"),isS:j("S"),isI:j("I"),isImg:j("IMG"),isTextarea:Se,isEmpty:ie,isEmptyAnchor:y.and(J,ie),isClosestSibling:function(e,t){return e.nextSibling===t||e.previousSibling===t},withClosestSiblings:function(e,t){t=t||y.ok;var i=[];return e.previousSibling&&t(e.previousSibling)&&i.push(e.previousSibling),i.push(e),e.nextSibling&&t(e.nextSibling)&&i.push(e.nextSibling),i},nodeLength:te,isLeftEdgePoint:de,isRightEdgePoint:ce,isEdgePoint:he,isLeftEdgeOf:ue,isRightEdgeOf:fe,isLeftEdgePointOf:function(e,t){return de(e)&&ue(e.node,t)},isRightEdgePointOf:function(e,t){return ce(e)&&fe(e.node,t)},prevPoint:me,nextPoint:ve,isSamePoint:be,isVisiblePoint:function(e){if(P(e.node)||!ge(e.node)||ie(e.node))return!0;var t=e.node.childNodes[e.offset-1],i=e.node.childNodes[e.offset];return!(t&&!z(t)||i&&!z(i))},prevPointUntil:function(e,t){for(;e;){if(t(e))return e;e=me(e)}return null},nextPointUntil:function(e,t){for(;e;){if(t(e))return e;e=ve(e)}return null},isCharPoint:function(e){if(!P(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return t&&" "!==t&&t!==F},walkPoint:function(e,t,i,r){for(var n=e;n&&(i(n),!be(n,t));)n=ve(n,r&&e.node!==n.node&&t.node!==n.node)},ancestor:ne,singleChildAncestor:function(e,t){for(e=e.parentNode;e&&1===te(e);){if(t(e))return e;if(L(e))break;e=e.parentNode}return null},listAncestor:oe,lastAncestor:function(e,t){var i=oe(e);return D.last(i.filter(t))},listNext:se,listPrev:function(e,t){t=t||y.fail;for(var i=[];e&&!t(e);)i.push(e),e=e.previousSibling;return i},listDescendant:function(e,t){var i=[];return t=t||y.ok,function r(n){e!==n&&t(n)&&i.push(n);for(var o=0,s=n.childNodes.length;o<s;o++)r(n.childNodes[o])}(e),i},commonAncestor:function(e,i){for(var r=oe(e),n=i;n;n=n.parentNode)if(t.inArray(n,r)>-1)return n;return null},wrap:function(e,i){var r=e.parentNode,n=t("<"+i+">")[0];return r.insertBefore(n,e),n.appendChild(e),n},insertAfter:ae,appendChildNodes:le,position:pe,hasChildren:ge,makeOffsetPath:function(e,t){return oe(t,y.eq(e)).map(pe).reverse()},fromOffsetPath:function(e,t){for(var i=e,r=0,n=t.length;r<n;r++)i=i.childNodes.length<=t[r]?i.childNodes[i.childNodes.length-1]:i.childNodes[t[r]];return i},splitTree:we,splitPoint:function(e,t){var i,r,n=t?B:K,o=oe(e.node,n),s=D.last(o)||e.node;n(s)?(i=o[o.length-2],r=s):r=(i=s).parentNode;var a=i&&we(i,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return a||r!==e.node||(a=e.node.childNodes[e.offset]),{rightNode:a,container:r}},create:xe,createText:function(e){return document.createTextNode(e)},remove:Ce,removeWhile:function(e,t){for(;e&&!L(e)&&t(e);){var i=e.parentNode;Ce(e),e=i}},replace:function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var i=xe(t);return e.style.cssText&&(i.style.cssText=e.style.cssText),le(i,D.from(e.childNodes)),ae(i,e),Ce(e),i},html:function(e,i){var r=ke(e);i&&(r=r.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(e,t,i){i=i.toUpperCase();var r=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(i)&&!!t,n=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(i);return e+(r||n?"\n":"")}),r=t.trim(r));return r},value:ke,posFromPlaceholder:function(e){var i=t(e),r=i.offset(),n=i.outerHeight(!0);return{left:r.left,top:r.top+n}},attachEvents:function(e,t){Object.keys(t).forEach(function(i){e.on(i,t[i])})},detachEvents:function(e,t){Object.keys(t).forEach(function(i){e.off(i,t[i])})},isCustomStyleTag:function(e){return e&&!P(e)&&D.contains(e.classList,"note-styletag")}};t.summernote=t.summernote||{lang:{}},t.extend(t.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var Te={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Ae={isEdit:function(e){return D.contains([Te.BACKSPACE,Te.TAB,Te.ENTER,Te.SPACE,Te.DELETE],e)},isMove:function(e){return D.contains([Te.LEFT,Te.UP,Te.RIGHT,Te.DOWN],e)},nameFromCode:y.invertObject(Te),code:Te};function Ne(e,t){var i,r,n=e.parentElement(),o=document.body.createTextRange(),s=D.from(n.childNodes);for(i=0;i<s.length;i++)if(!De.isText(s[i])){if(o.moveToElementText(s[i]),o.compareEndPoints("StartToStart",e)>=0)break;r=s[i]}if(0!==i&&De.isText(s[i-1])){var a=document.body.createTextRange(),l=null;a.moveToElementText(r||n),a.collapse(!r),l=r?r.nextSibling:n.firstChild;var d=e.duplicate();d.setEndPoint("StartToStart",a);for(var c=d.text.replace(/[\r\n]/g,"").length;c>l.nodeValue.length&&l.nextSibling;)c-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;t&&l.nextSibling&&De.isText(l.nextSibling)&&c===l.nodeValue.length&&(c-=l.nodeValue.length,l=l.nextSibling),n=l,i=c}return{cont:n,offset:i}}function _e(e){var t=function(e,i){var r,n;if(De.isText(e)){var o=De.listPrev(e,y.not(De.isText)),s=D.last(o).previousSibling;r=s||e.parentNode,i+=D.sum(D.tail(o),De.nodeLength),n=!s}else{if(r=e.childNodes[i]||e,De.isText(r))return t(r,0);i=0,n=!1}return{node:r,collapseToStart:n,offset:i}},i=document.body.createTextRange(),r=t(e.node,e.offset);return i.moveToElementText(r.node),i.collapse(r.collapseToStart),i.moveStart("character",r.offset),i}var Me=function(){function e(e,t,i,r){this.sc=e,this.so=t,this.ec=i,this.eo=r,this.isOnEditable=this.makeIsOn(De.isEditable),this.isOnList=this.makeIsOn(De.isList),this.isOnAnchor=this.makeIsOn(De.isAnchor),this.isOnCell=this.makeIsOn(De.isCell),this.isOnData=this.makeIsOn(De.isData)}return e.prototype.nativeRange=function(){if(R.isW3CRangeSupport){var e=document.createRange();return e.setStart(this.sc,this.so),e.setEnd(this.ec,this.eo),e}var t=_e({node:this.sc,offset:this.so});return t.setEndPoint("EndToEnd",_e({node:this.ec,offset:this.eo})),t},e.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},e.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},e.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},e.prototype.select=function(){var e=this.nativeRange();if(R.isW3CRangeSupport){var t=document.getSelection();t.rangeCount>0&&t.removeAllRanges(),t.addRange(e)}else e.select();return this},e.prototype.scrollIntoView=function(e){var i=t(e).height();return e.scrollTop+i<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+i-this.sc.offsetTop)),this},e.prototype.normalize=function(){var t=function(e,t){if(De.isVisiblePoint(e)&&!De.isEdgePoint(e)||De.isVisiblePoint(e)&&De.isRightEdgePoint(e)&&!t||De.isVisiblePoint(e)&&De.isLeftEdgePoint(e)&&t||De.isVisiblePoint(e)&&De.isBlock(e.node)&&De.isEmpty(e.node))return e;var i=De.ancestor(e.node,De.isBlock);if((De.isLeftEdgePointOf(e,i)||De.isVoid(De.prevPoint(e).node))&&!t||(De.isRightEdgePointOf(e,i)||De.isVoid(De.nextPoint(e).node))&&t){if(De.isVisiblePoint(e))return e;t=!t}return(t?De.nextPointUntil(De.nextPoint(e),De.isVisiblePoint):De.prevPointUntil(De.prevPoint(e),De.isVisiblePoint))||e},i=t(this.getEndPoint(),!1),r=this.isCollapsed()?i:t(this.getStartPoint(),!0);return new e(r.node,r.offset,i.node,i.offset)},e.prototype.nodes=function(e,t){e=e||y.ok;var i=t&&t.includeAncestor,r=t&&t.fullyContains,n=this.getStartPoint(),o=this.getEndPoint(),s=[],a=[];return De.walkPoint(n,o,function(t){var n;De.isEditable(t.node)||(r?(De.isLeftEdgePoint(t)&&a.push(t.node),De.isRightEdgePoint(t)&&D.contains(a,t.node)&&(n=t.node)):n=i?De.ancestor(t.node,e):t.node,n&&e(n)&&s.push(n))},!0),D.unique(s)},e.prototype.commonAncestor=function(){return De.commonAncestor(this.sc,this.ec)},e.prototype.expand=function(t){var i=De.ancestor(this.sc,t),r=De.ancestor(this.ec,t);if(!i&&!r)return new e(this.sc,this.so,this.ec,this.eo);var n=this.getPoints();return i&&(n.sc=i,n.so=0),r&&(n.ec=r,n.eo=De.nodeLength(r)),new e(n.sc,n.so,n.ec,n.eo)},e.prototype.collapse=function(t){return t?new e(this.sc,this.so,this.sc,this.so):new e(this.ec,this.eo,this.ec,this.eo)},e.prototype.splitText=function(){var t=this.sc===this.ec,i=this.getPoints();return De.isText(this.ec)&&!De.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),De.isText(this.sc)&&!De.isEdgePoint(this.getStartPoint())&&(i.sc=this.sc.splitText(this.so),i.so=0,t&&(i.ec=i.sc,i.eo=this.eo-this.so)),new e(i.sc,i.so,i.ec,i.eo)},e.prototype.deleteContents=function(){if(this.isCollapsed())return this;var i=this.splitText(),r=i.nodes(null,{fullyContains:!0}),n=De.prevPointUntil(i.getStartPoint(),function(e){return!D.contains(r,e.node)}),o=[];return t.each(r,function(e,t){var i=t.parentNode;n.node!==i&&1===De.nodeLength(i)&&o.push(i),De.remove(t,!1)}),t.each(o,function(e,t){De.remove(t,!1)}),new e(n.node,n.offset,n.node,n.offset).normalize()},e.prototype.makeIsOn=function(e){return function(){var t=De.ancestor(this.sc,e);return!!t&&t===De.ancestor(this.ec,e)}},e.prototype.isLeftEdgeOf=function(e){if(!De.isLeftEdgePoint(this.getStartPoint()))return!1;var t=De.ancestor(this.sc,e);return t&&De.isLeftEdgeOf(this.sc,t)},e.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},e.prototype.wrapBodyInlineWithPara=function(){if(De.isBodyContainer(this.sc)&&De.isEmpty(this.sc))return this.sc.innerHTML=De.emptyPara,new e(this.sc.firstChild,0,this.sc.firstChild,0);var t,i=this.normalize();if(De.isParaInline(this.sc)||De.isPara(this.sc))return i;if(De.isInline(i.sc)){var r=De.listAncestor(i.sc,y.not(De.isInline));t=D.last(r),De.isInline(t)||(t=r[r.length-2]||i.sc.childNodes[i.so])}else t=i.sc.childNodes[i.so>0?i.so-1:0];var n=De.listPrev(t,De.isParaInline).reverse();if((n=n.concat(De.listNext(t.nextSibling,De.isParaInline))).length){var o=De.wrap(D.head(n),"p");De.appendChildNodes(o,D.tail(n))}return this.normalize()},e.prototype.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),i=De.splitPoint(t.getStartPoint(),De.isInline(e));return i.rightNode?i.rightNode.parentNode.insertBefore(e,i.rightNode):i.container.appendChild(e),e},e.prototype.pasteHTML=function(e){var i=t("<div></div>").html(e)[0],r=D.from(i.childNodes),n=this.wrapBodyInlineWithPara().deleteContents();return r.reverse().map(function(e){return n.insertNode(e)}).reverse()},e.prototype.toString=function(){var e=this.nativeRange();return R.isW3CRangeSupport?e.toString():e.text},e.prototype.getWordRange=function(t){var i=this.getEndPoint();if(!De.isCharPoint(i))return this;var r=De.prevPointUntil(i,function(e){return!De.isCharPoint(e)});return t&&(i=De.nextPointUntil(i,function(e){return!De.isCharPoint(e)})),new e(r.node,r.offset,i.node,i.offset)},e.prototype.bookmark=function(e){return{s:{path:De.makeOffsetPath(e,this.sc),offset:this.so},e:{path:De.makeOffsetPath(e,this.ec),offset:this.eo}}},e.prototype.paraBookmark=function(e){return{s:{path:D.tail(De.makeOffsetPath(D.head(e),this.sc)),offset:this.so},e:{path:D.tail(De.makeOffsetPath(D.last(e),this.ec)),offset:this.eo}}},e.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},e}(),Ee={create:function(e,t,i,r){if(4===arguments.length)return new Me(e,t,i,r);if(2===arguments.length)return new Me(e,t,i=e,r=t);var n=this.createFromSelection();return n||1!==arguments.length?n:(n=this.createFromNode(arguments[0])).collapse(De.emptyPara===arguments[0].innerHTML)},createFromSelection:function(){var e,t,i,r;if(R.isW3CRangeSupport){var n=document.getSelection();if(!n||0===n.rangeCount)return null;if(De.isBody(n.anchorNode))return null;var o=n.getRangeAt(0);e=o.startContainer,t=o.startOffset,i=o.endContainer,r=o.endOffset}else{var s=document.selection.createRange(),a=s.duplicate();a.collapse(!1);var l=s;l.collapse(!0);var d=Ne(l,!0),c=Ne(a,!1);De.isText(d.node)&&De.isLeftEdgePoint(d)&&De.isTextNode(c.node)&&De.isRightEdgePoint(c)&&c.node.nextSibling===d.node&&(d=c),e=d.cont,t=d.offset,i=c.cont,r=c.offset}return new Me(e,t,i,r)},createFromNode:function(e){var t=e,i=0,r=e,n=De.nodeLength(r);return De.isVoid(t)&&(i=De.listPrev(t).length-1,t=t.parentNode),De.isBR(r)?(n=De.listPrev(r).length-1,r=r.parentNode):De.isVoid(r)&&(n=De.listPrev(r).length,r=r.parentNode),this.create(t,i,r,n)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var i=De.fromOffsetPath(e,t.s.path),r=t.s.offset,n=De.fromOffsetPath(e,t.e.path),o=t.e.offset;return new Me(i,r,n,o)},createFromParaBookmark:function(e,t){var i=e.s.offset,r=e.e.offset,n=De.fromOffsetPath(D.head(t),e.s.path),o=De.fromOffsetPath(D.last(t),e.e.path);return new Me(n,i,o,r)}};var $e=function(){function e(e){this.stack=[],this.stackOffset=-1,this.$editable=e,this.editable=e[0]}return e.prototype.makeSnapshot=function(){var e=Ee.create(this.editable);return{contents:this.$editable.html(),bookmark:e?e.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},e.prototype.applySnapshot=function(e){null!==e.contents&&this.$editable.html(e.contents),null!==e.bookmark&&Ee.createFromBookmark(this.editable,e.bookmark).select()},e.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},e.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},e.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},e.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},e.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},e}(),Oe=function(){function e(){}return e.prototype.jQueryCSS=function(e,i){if(R.jqueryVersion<1.9){var r={};return t.each(i,function(t,i){r[i]=e.css(i)}),r}return e.css(i)},e.prototype.fromNode=function(e){var t=this.jQueryCSS(e,["font-family","font-size","text-align","list-style-type","line-height"])||{};return t["font-size"]=parseInt(t["font-size"],10),t},e.prototype.stylePara=function(e,i){t.each(e.nodes(De.isPara,{includeAncestor:!0}),function(e,r){t(r).css(i)})},e.prototype.styleNodes=function(e,i){e=e.splitText();var r=i&&i.nodeName||"SPAN",n=!(!i||!i.expandClosestSibling),o=!(!i||!i.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(De.create(r))];var s=De.makePredByNodeName(r),a=e.nodes(De.isText,{fullyContains:!0}).map(function(e){return De.singleChildAncestor(e,s)||De.wrap(e,r)});if(n){if(o){var l=e.nodes();s=y.and(s,function(e){return D.contains(l,e)})}return a.map(function(e){var i=De.withClosestSiblings(e,s),r=D.head(i),n=D.tail(i);return t.each(n,function(e,t){De.appendChildNodes(r,t.childNodes),De.remove(t)}),D.head(i)})}return a},e.prototype.current=function(e){var i=t(De.isElement(e.sc)?e.sc:e.sc.parentNode),r=this.fromNode(i);try{r=t.extend(r,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||r["font-family"]})}catch(e){}if(e.isOnList()){var n=t.inArray(r["list-style-type"],["circle","disc","disc-leading-zero","square"])>-1;r["list-style"]=n?"unordered":"ordered"}else r["list-style"]="none";var o=De.ancestor(e.sc,De.isPara);if(o&&o.style["line-height"])r["line-height"]=o.style.lineHeight;else{var s=parseInt(r["line-height"],10)/parseInt(r["font-size"],10);r["line-height"]=s.toFixed(1)}return r.anchor=e.isOnAnchor()&&De.ancestor(e.sc,De.isAnchor),r.ancestors=De.listAncestor(e.sc,De.isEditable),r.range=e,r},e}(),Ie=function(){function e(){}return e.prototype.insertOrderedList=function(e){this.toggleList("OL",e)},e.prototype.insertUnorderedList=function(e){this.toggleList("UL",e)},e.prototype.indent=function(e){var i=this,r=Ee.create(e).wrapBodyInlineWithPara(),n=r.nodes(De.isPara,{includeAncestor:!0}),o=D.clusterBy(n,y.peq2("parentNode"));t.each(o,function(e,r){var n=D.head(r);De.isLi(n)?i.wrapList(r,n.parentNode.nodeName):t.each(r,function(e,i){t(i).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),r.select()},e.prototype.outdent=function(e){var i=this,r=Ee.create(e).wrapBodyInlineWithPara(),n=r.nodes(De.isPara,{includeAncestor:!0}),o=D.clusterBy(n,y.peq2("parentNode"));t.each(o,function(e,r){var n=D.head(r);De.isLi(n)?i.releaseList([r]):t.each(r,function(e,i){t(i).css("marginLeft",function(e,t){return(t=parseInt(t,10)||0)>25?t-25:""})})}),r.select()},e.prototype.toggleList=function(e,i){var r=this,n=Ee.create(i).wrapBodyInlineWithPara(),o=n.nodes(De.isPara,{includeAncestor:!0}),s=n.paraBookmark(o),a=D.clusterBy(o,y.peq2("parentNode"));if(D.find(o,De.isPurePara)){var l=[];t.each(a,function(t,i){l=l.concat(r.wrapList(i,e))}),o=l}else{var d=n.nodes(De.isList,{includeAncestor:!0}).filter(function(i){return!t.nodeName(i,e)});d.length?t.each(d,function(t,i){De.replace(i,e)}):o=this.releaseList(a,!0)}Ee.createFromParaBookmark(s,o).select()},e.prototype.wrapList=function(e,t){var i=D.head(e),r=D.last(e),n=De.isList(i.previousSibling)&&i.previousSibling,o=De.isList(r.nextSibling)&&r.nextSibling,s=n||De.insertAfter(De.create(t||"UL"),r);return e=e.map(function(e){return De.isPurePara(e)?De.replace(e,"LI"):e}),De.appendChildNodes(s,e),o&&(De.appendChildNodes(s,D.from(o.childNodes)),De.remove(o)),e},e.prototype.releaseList=function(e,i){var r=[];return t.each(e,function(e,n){var o=D.head(n),s=D.last(n),a=i?De.lastAncestor(o,De.isList):o.parentNode,l=a.childNodes.length>1?De.splitTree(a,{node:s.parentNode,offset:De.position(s)+1},{isSkipPaddingBlankHTML:!0}):null,d=De.splitTree(a,{node:o.parentNode,offset:De.position(o)},{isSkipPaddingBlankHTML:!0});n=i?De.listDescendant(d,De.isLi):D.from(d.childNodes).filter(De.isLi),!i&&De.isList(a.parentNode)||(n=n.map(function(e){return De.replace(e,"P")})),t.each(D.from(n).reverse(),function(e,t){De.insertAfter(t,a)});var c=D.compact([a,d,l]);t.each(c,function(e,i){var r=[i].concat(De.listDescendant(i,De.isList));t.each(r.reverse(),function(e,t){De.nodeLength(t)||De.remove(t,!0)})}),r=r.concat(n)}),r},e}(),Re=function(){function e(){this.bullet=new Ie}return e.prototype.insertTab=function(e,t){var i=De.createText(new Array(t+1).join(De.NBSP_CHAR));(e=e.deleteContents()).insertNode(i,!0),(e=Ee.create(i,t)).select()},e.prototype.insertParagraph=function(e){var i=Ee.create(e);i=(i=i.deleteContents()).wrapBodyInlineWithPara();var r,n=De.ancestor(i.sc,De.isPara);if(n){if(De.isEmpty(n)&&De.isLi(n))return void this.bullet.toggleList(n.parentNode.nodeName);if(De.isEmpty(n)&&De.isPara(n)&&De.isBlockquote(n.parentNode))De.insertAfter(n,n.parentNode),r=n;else{r=De.splitTree(n,i.getStartPoint());var o=De.listDescendant(n,De.isEmptyAnchor);o=o.concat(De.listDescendant(r,De.isEmptyAnchor)),t.each(o,function(e,t){De.remove(t)}),(De.isHeading(r)||De.isPre(r)||De.isCustomStyleTag(r))&&De.isEmpty(r)&&(r=De.replace(r,"p"))}}else{var s=i.sc.childNodes[i.so];r=t(De.emptyPara)[0],s?i.sc.insertBefore(r,s):i.sc.appendChild(r)}Ee.create(r,0).normalize().select().scrollIntoView(e)},e}(),Fe=function(e,t,i,r){var n={colPos:0,rowPos:0},o=[],s=[];function a(e,t,i,r,n,s,a){var l={baseRow:i,baseCell:r,isRowSpan:n,isColSpan:s,isVirtual:a};o[e]||(o[e]=[]),o[e][t]=l}function l(e,t,i,r){return{baseCell:e.baseCell,action:t,virtualTable:{rowIndex:i,cellIndex:r}}}function d(e,t){if(!o[e])return t;if(!o[e][t])return t;for(var i=t;o[e][i];)if(i++,!o[e][i])return i}function c(e,t){var i=d(e.rowIndex,t.cellIndex),r=t.colSpan>1,o=t.rowSpan>1,s=e.rowIndex===n.rowPos&&t.cellIndex===n.colPos;a(e.rowIndex,i,e,t,o,r,!1);var l=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0;if(l>1)for(var c=1;c<l;c++){var u=e.rowIndex+c;h(u,i,t,s),a(u,i,e,t,!0,r,!0)}var f=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0;if(f>1)for(var p=1;p<f;p++){var g=d(e.rowIndex,i+p);h(e.rowIndex,g,t,s),a(e.rowIndex,g,e,t,o,!0,!0)}}function h(e,t,i,r){e===n.rowPos&&n.colPos>=i.cellIndex&&i.cellIndex<=t&&!r&&n.colPos++}function u(e){switch(t){case Fe.where.Column:if(e.isColSpan)return Fe.resultAction.SubtractSpanCount;break;case Fe.where.Row:if(!e.isVirtual&&e.isRowSpan)return Fe.resultAction.AddCell;if(e.isRowSpan)return Fe.resultAction.SubtractSpanCount}return Fe.resultAction.RemoveCell}function f(e){switch(t){case Fe.where.Column:if(e.isColSpan)return Fe.resultAction.SumSpanCount;if(e.isRowSpan&&e.isVirtual)return Fe.resultAction.Ignore;break;case Fe.where.Row:if(e.isRowSpan)return Fe.resultAction.SumSpanCount;if(e.isColSpan&&e.isVirtual)return Fe.resultAction.Ignore}return Fe.resultAction.AddCell}this.getActionList=function(){for(var e=t===Fe.where.Row?n.rowPos:-1,r=t===Fe.where.Column?n.colPos:-1,a=0,d=!0;d;){var c=e>=0?e:a,h=r>=0?r:a,p=o[c];if(!p)return d=!1,s;var g=p[h];if(!g)return d=!1,s;var m=Fe.resultAction.Ignore;switch(i){case Fe.requestAction.Add:m=f(g);break;case Fe.requestAction.Delete:m=u(g)}s.push(l(g,m,c,h)),a++}return s},e&&e.tagName&&("td"===e.tagName.toLowerCase()||"th"===e.tagName.toLowerCase())?(n.colPos=e.cellIndex,e.parentElement&&e.parentElement.tagName&&"tr"===e.parentElement.tagName.toLowerCase()?n.rowPos=e.parentElement.rowIndex:console.error("Impossible to identify start Row point.",e)):console.error("Impossible to identify start Cell point.",e),function(){for(var e=r.rows,t=0;t<e.length;t++)for(var i=e[t].cells,n=0;n<i.length;n++)c(e[t],i[n])}()};Fe.where={Row:0,Column:1},Fe.requestAction={Add:0,Delete:1},Fe.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Le,je=function(){function e(){}return e.prototype.tab=function(e,t){var i=De.ancestor(e.commonAncestor(),De.isCell),r=De.ancestor(i,De.isTable),n=De.listDescendant(r,De.isCell),o=D[t?"prev":"next"](n,i);o&&Ee.create(o,0).select()},e.prototype.addRow=function(e,i){for(var r=De.ancestor(e.commonAncestor(),De.isCell),n=t(r).closest("tr"),o=this.recoverAttributes(n),s=t("<tr"+o+"></tr>"),a=new Fe(r,Fe.where.Row,Fe.requestAction.Add,t(n).closest("table")[0]).getActionList(),l=0;l<a.length;l++){var d=a[l],c=this.recoverAttributes(d.baseCell);switch(d.action){case Fe.resultAction.AddCell:s.append("<td"+c+">"+De.blank+"</td>");break;case Fe.resultAction.SumSpanCount:if("top"===i)if((d.baseCell.parent?d.baseCell.closest("tr").rowIndex:0)<=n[0].rowIndex){var h=t("<div></div>").append(t("<td"+c+">"+De.blank+"</td>").removeAttr("rowspan")).html();s.append(h);break}var u=parseInt(d.baseCell.rowSpan,10);u++,d.baseCell.setAttribute("rowSpan",u)}}if("top"===i)n.before(s);else{if(r.rowSpan>1){var f=n[0].rowIndex+(r.rowSpan-2);return void t(t(n).parent().find("tr")[f]).after(t(s))}n.after(s)}},e.prototype.addCol=function(e,i){var r=De.ancestor(e.commonAncestor(),De.isCell),n=t(r).closest("tr");t(n).siblings().push(n);for(var o=new Fe(r,Fe.where.Column,Fe.requestAction.Add,t(n).closest("table")[0]).getActionList(),s=0;s<o.length;s++){var a=o[s],l=this.recoverAttributes(a.baseCell);switch(a.action){case Fe.resultAction.AddCell:"right"===i?t(a.baseCell).after("<td"+l+">"+De.blank+"</td>"):t(a.baseCell).before("<td"+l+">"+De.blank+"</td>");break;case Fe.resultAction.SumSpanCount:if("right"===i){var d=parseInt(a.baseCell.colSpan,10);d++,a.baseCell.setAttribute("colSpan",d)}else t(a.baseCell).before("<td"+l+">"+De.blank+"</td>")}}},e.prototype.recoverAttributes=function(e){var t="";if(!e)return t;for(var i=e.attributes||[],r=0;r<i.length;r++)"id"!==i[r].name.toLowerCase()&&i[r].specified&&(t+=" "+i[r].name+"='"+i[r].value+"'");return t},e.prototype.deleteRow=function(e){for(var i=De.ancestor(e.commonAncestor(),De.isCell),r=t(i).closest("tr"),n=r.children("td, th").index(t(i)),o=r[0].rowIndex,s=new Fe(i,Fe.where.Row,Fe.requestAction.Delete,t(r).closest("table")[0]).getActionList(),a=0;a<s.length;a++)if(s[a]){var l=s[a].baseCell,d=s[a].virtualTable,c=l.rowSpan&&l.rowSpan>1,h=c?parseInt(l.rowSpan,10):0;switch(s[a].action){case Fe.resultAction.Ignore:continue;case Fe.resultAction.AddCell:var u=r.next("tr")[0];if(!u)continue;var f=r[0].cells[n];c&&(h>2?(h--,u.insertBefore(f,u.cells[n]),u.cells[n].setAttribute("rowSpan",h),u.cells[n].innerHTML=""):2===h&&(u.insertBefore(f,u.cells[n]),u.cells[n].removeAttribute("rowSpan"),u.cells[n].innerHTML=""));continue;case Fe.resultAction.SubtractSpanCount:c&&(h>2?(h--,l.setAttribute("rowSpan",h),d.rowIndex!==o&&l.cellIndex===n&&(l.innerHTML="")):2===h&&(l.removeAttribute("rowSpan"),d.rowIndex!==o&&l.cellIndex===n&&(l.innerHTML="")));continue;case Fe.resultAction.RemoveCell:continue}}r.remove()},e.prototype.deleteCol=function(e){for(var i=De.ancestor(e.commonAncestor(),De.isCell),r=t(i).closest("tr"),n=r.children("td, th").index(t(i)),o=new Fe(i,Fe.where.Column,Fe.requestAction.Delete,t(r).closest("table")[0]).getActionList(),s=0;s<o.length;s++)if(o[s])switch(o[s].action){case Fe.resultAction.Ignore:continue;case Fe.resultAction.SubtractSpanCount:var a=o[s].baseCell;if(a.colSpan&&a.colSpan>1){var l=a.colSpan?parseInt(a.colSpan,10):0;l>2?(l--,a.setAttribute("colSpan",l),a.cellIndex===n&&(a.innerHTML="")):2===l&&(a.removeAttribute("colSpan"),a.cellIndex===n&&(a.innerHTML=""))}continue;case Fe.resultAction.RemoveCell:De.remove(o[s].baseCell,!0);continue}},e.prototype.createTable=function(e,i,r){for(var n,o=[],s=0;s<e;s++)o.push("<td>"+De.blank+"</td>");n=o.join("");for(var a,l=[],d=0;d<i;d++)l.push("<tr>"+n+"</tr>");a=l.join("");var c=t("<table>"+a+"</table>");return r&&r.tableClassName&&c.addClass(r.tableClassName),c[0]},e.prototype.deleteTable=function(e){var i=De.ancestor(e.commonAncestor(),De.isCell);t(i).closest("table").remove()},e}(),Pe=function(){function e(e){var i=this;this.context=e,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Oe,this.table=new je,this.typing=new Re,this.bullet=new Ie,this.history=new $e(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var r=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],n=0,o=r.length;n<o;n++)this[r[n]]=function(e){return function(t){i.beforeCommand(),document.execCommand(e,!1,t),i.afterCommand(!0)}}(r[n]),this.context.memo("help."+r[n],this.lang.help[r[n]]);this.fontName=this.wrapCommand(function(e){return i.fontStyling("font-family","'"+e+"'")}),this.fontSize=this.wrapCommand(function(e){return i.fontStyling("font-size",e+"px")});for(n=1;n<=6;n++)this["formatH"+n]=function(e){return function(){i.formatBlock("H"+e)}}(n),this.context.memo("help.formatH"+n,this.lang.help["formatH"+n]);this.insertParagraph=this.wrapCommand(function(){i.typing.insertParagraph(i.editable)}),this.insertOrderedList=this.wrapCommand(function(){i.bullet.insertOrderedList(i.editable)}),this.insertUnorderedList=this.wrapCommand(function(){i.bullet.insertUnorderedList(i.editable)}),this.indent=this.wrapCommand(function(){i.bullet.indent(i.editable)}),this.outdent=this.wrapCommand(function(){i.bullet.outdent(i.editable)}),this.insertNode=this.wrapCommand(function(e){i.isLimited(t(e).text().length)||(i.createRange().insertNode(e),Ee.createFromNodeAfter(e).select())}),this.insertText=this.wrapCommand(function(e){if(!i.isLimited(e.length)){var t=i.createRange().insertNode(De.createText(e));Ee.create(t,De.nodeLength(t)).select()}}),this.pasteHTML=this.wrapCommand(function(e){if(!i.isLimited(e.length)){var t=i.createRange().pasteHTML(e);Ee.createFromNodeAfter(D.last(t)).select()}}),this.formatBlock=this.wrapCommand(function(e,t){var r=i.options.callbacks.onApplyCustomStyle;r?r.call(i,t,i.context,i.onFormatBlock):i.onFormatBlock(e,t)}),this.insertHorizontalRule=this.wrapCommand(function(){var e=i.createRange().insertNode(De.create("HR"));e.nextSibling&&Ee.create(e.nextSibling,0).normalize().select()}),this.lineHeight=this.wrapCommand(function(e){i.style.stylePara(i.createRange(),{lineHeight:e})}),this.createLink=this.wrapCommand(function(e){var r=e.url,n=e.text,o=e.isNewWindow,s=e.range||i.createRange(),a=s.toString()!==n;"string"==typeof r&&(r=r.trim()),r=i.options.onCreateLink?i.options.onCreateLink(r):/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(r)?r:"http://"+r;var l=[];if(a){var d=(s=s.deleteContents()).insertNode(t("<A>"+n+"</A>")[0]);l.push(d)}else l=i.style.styleNodes(s,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});t.each(l,function(e,i){t(i).attr("href",r),o?t(i).attr("target","_blank"):t(i).removeAttr("target")});var c=Ee.createFromNodeBefore(D.head(l)).getStartPoint(),h=Ee.createFromNodeAfter(D.last(l)).getEndPoint();Ee.create(c.node,c.offset,h.node,h.offset).select()}),this.color=this.wrapCommand(function(e){var t=e.foreColor,i=e.backColor;t&&document.execCommand("foreColor",!1,t),i&&document.execCommand("backColor",!1,i)}),this.foreColor=this.wrapCommand(function(e){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,e)}),this.insertTable=this.wrapCommand(function(e){var t=e.split("x");i.createRange().deleteContents().insertNode(i.table.createTable(t[0],t[1],i.options))}),this.removeMedia=this.wrapCommand(function(){var e=t(i.restoreTarget()).parent();e.parent("figure").length?e.parent("figure").remove():e=t(i.restoreTarget()).detach(),i.context.triggerEvent("media.delete",e,i.$editable)}),this.floatMe=this.wrapCommand(function(e){var r=t(i.restoreTarget());r.toggleClass("note-float-left","left"===e),r.toggleClass("note-float-right","right"===e),r.css("float",e)}),this.resize=this.wrapCommand(function(e){t(i.restoreTarget()).css({width:100*e+"%",height:""})})}return e.prototype.initialize=function(){var e=this;this.$editable.on("keydown",function(t){if(t.keyCode===Ae.code.ENTER&&e.context.triggerEvent("enter",t),e.context.triggerEvent("keydown",t),t.isDefaultPrevented()||(e.options.shortcuts?e.handleKeyMap(t):e.preventDefaultEditableShortCuts(t)),e.isLimited(1,t))return!1}).on("keyup",function(t){e.context.triggerEvent("keyup",t)}).on("focus",function(t){e.context.triggerEvent("focus",t)}).on("blur",function(t){e.context.triggerEvent("blur",t)}).on("mousedown",function(t){e.context.triggerEvent("mousedown",t)}).on("mouseup",function(t){e.context.triggerEvent("mouseup",t)}).on("scroll",function(t){e.context.triggerEvent("scroll",t)}).on("paste",function(t){e.context.triggerEvent("paste",t)}),this.$editable.html(De.html(this.$note)||De.emptyPara),this.$editable.on(R.inputEventName,y.debounce(function(){e.context.triggerEvent("change",e.$editable.html())},100)),this.$editor.on("focusin",function(t){e.context.triggerEvent("focusin",t)}).on("focusout",function(t){e.context.triggerEvent("focusout",t)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo()},e.prototype.destroy=function(){this.$editable.off()},e.prototype.handleKeyMap=function(e){var t=this.options.keyMap[R.isMac?"mac":"pc"],i=[];e.metaKey&&i.push("CMD"),e.ctrlKey&&!e.altKey&&i.push("CTRL"),e.shiftKey&&i.push("SHIFT");var r=Ae.nameFromCode[e.keyCode];r&&i.push(r);var n=t[i.join("+")];n?!1!==this.context.invoke(n)&&e.preventDefault():Ae.isEdit(e.keyCode)&&this.afterCommand()},e.prototype.preventDefaultEditableShortCuts=function(e){(e.ctrlKey||e.metaKey)&&D.contains([66,73,85],e.keyCode)&&e.preventDefault()},e.prototype.isLimited=function(e,t){return e=e||0,(void 0===t||!(Ae.isMove(t.keyCode)||t.ctrlKey||t.metaKey||D.contains([Ae.code.BACKSPACE,Ae.code.DELETE],t.keyCode)))&&(this.options.maxTextLength>0&&this.$editable.text().length+e>=this.options.maxTextLength)},e.prototype.createRange=function(){return this.focus(),Ee.create(this.editable)},e.prototype.saveRange=function(e){this.lastRange=this.createRange(),e&&this.lastRange.collapse().select()},e.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},e.prototype.saveTarget=function(e){this.$editable.data("target",e)},e.prototype.clearTarget=function(){this.$editable.removeData("target")},e.prototype.restoreTarget=function(){return this.$editable.data("target")},e.prototype.currentStyle=function(){var e=Ee.create();return e&&(e=e.normalize()),e?this.style.current(e):this.style.fromNode(this.$editable)},e.prototype.styleFromNode=function(e){return this.style.fromNode(e)},e.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html())},e.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html())},e.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},e.prototype.afterCommand=function(e){this.normalizeContent(),this.history.recordUndo(),e||this.context.triggerEvent("change",this.$editable.html())},e.prototype.tab=function(){var e=this.createRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(e,this.options.tabSize),this.afterCommand())}},e.prototype.untab=function(){var e=this.createRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e,!0);else if(0===this.options.tabSize)return!1},e.prototype.wrapCommand=function(e){var t=this;return function(){t.beforeCommand(),e.apply(t,arguments),t.afterCommand()}},e.prototype.insertImage=function(e,i){var r,n=this;return(r=e,t.Deferred(function(e){var i=t("<img>");i.one("load",function(){i.off("error abort"),e.resolve(i)}).one("error abort",function(){i.off("load").detach(),e.reject(i)}).css({display:"none"}).appendTo(document.body).attr("src",r)}).promise()).then(function(e){n.beforeCommand(),"function"==typeof i?i(e):("string"==typeof i&&e.attr("data-filename",i),e.css("width",Math.min(n.$editable.width(),e.width()))),e.show(),Ee.create(n.editable).insertNode(e[0]),Ee.createFromNodeAfter(e[0]).select(),n.afterCommand()}).fail(function(e){n.context.triggerEvent("image.upload.error",e)})},e.prototype.insertImages=function(e){var i=this;t.each(e,function(e,r){var n=r.name;i.options.maximumImageFileSize&&i.options.maximumImageFileSize<r.size?i.context.triggerEvent("image.upload.error",i.lang.image.maximumFileSizeError):function(e){return t.Deferred(function(i){t.extend(new FileReader,{onload:function(e){var t=e.target.result;i.resolve(t)},onerror:function(e){i.reject(e)}}).readAsDataURL(e)}).promise()}(r).then(function(e){return i.insertImage(e,n)}).fail(function(){i.context.triggerEvent("image.upload.error")})})},e.prototype.insertImagesOrCallback=function(e){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",e):this.insertImages(e)},e.prototype.getSelectedText=function(){var e=this.createRange();return e.isOnAnchor()&&(e=Ee.createFromNode(De.ancestor(e.sc,De.isAnchor))),e.toString()},e.prototype.onFormatBlock=function(e,i){if(e=R.isMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e),i&&i.length){var r=i[0].className||"";if(r){var n=this.createRange();t([n.sc,n.ec]).closest(e).addClass(r)}}},e.prototype.formatPara=function(){this.formatBlock("P")},e.prototype.fontStyling=function(e,i){var r=this.createRange();if(r){var n=this.style.styleNodes(r);if(t(n).css(e,i),r.isCollapsed()){var o=D.head(n);o&&!De.nodeLength(o)&&(o.innerHTML=De.ZERO_WIDTH_NBSP_CHAR,Ee.createFromNodeAfter(o.firstChild).select(),this.$editable.data("bogus",o))}}},e.prototype.unlink=function(){var e=this.createRange();if(e.isOnAnchor()){var t=De.ancestor(e.sc,De.isAnchor);(e=Ee.createFromNode(t)).select(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},e.prototype.getLinkInfo=function(){var e=this.createRange().expand(De.isAnchor),i=t(D.head(e.nodes(De.isAnchor))),r={range:e,text:e.toString(),url:i.length?i.attr("href"):""};return i.length&&(r.isNewWindow="_blank"===i.attr("target")),r},e.prototype.addRow=function(e){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addRow(t,e),this.afterCommand())},e.prototype.addCol=function(e){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addCol(t,e),this.afterCommand())},e.prototype.deleteRow=function(){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(e),this.afterCommand())},e.prototype.deleteCol=function(){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(e),this.afterCommand())},e.prototype.deleteTable=function(){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(e),this.afterCommand())},e.prototype.resizeTo=function(e,t,i){var r;if(i){var n=e.y/e.x,o=t.data("ratio");r={width:o>n?e.x:e.y/o,height:o>n?e.x*o:e.y}}else r={width:e.x,height:e.y};t.css(r)},e.prototype.hasFocus=function(){return this.$editable.is(":focus")},e.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},e.prototype.isEmpty=function(){return De.isEmpty(this.$editable[0])||De.emptyPara===this.$editable.html()},e.prototype.empty=function(){this.context.invoke("code",De.emptyPara)},e.prototype.normalizeContent=function(){this.$editable[0].normalize()},e}(),ze=function(){function e(e){this.context=e,this.$editable=e.layoutInfo.editable}return e.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},e.prototype.pasteByEvent=function(e){var t=e.originalEvent.clipboardData;if(t&&t.items&&t.items.length){var i=D.head(t.items);"file"===i.kind&&-1!==i.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[i.getAsFile()]),this.context.invoke("editor.afterCommand")}},e}(),Be=function(){function e(e){this.context=e,this.$eventListener=t(document),this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.options=e.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=t(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}return e.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(e){e.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},e.prototype.attachDragAndDropEvent=function(){var e=this,i=t(),r=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(t){var n=e.context.invoke("codeview.isActivated"),o=e.$editor.width()>0&&e.$editor.height()>0;n||i.length||!o||(e.$editor.addClass("dragover"),e.$dropzone.width(e.$editor.width()),e.$dropzone.height(e.$editor.height()),r.text(e.lang.image.dragImageHere)),i=i.add(t.target)},this.documentEventHandlers.onDragleave=function(t){(i=i.not(t.target)).length||e.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){i=t(),e.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){e.$dropzone.addClass("hover"),r.text(e.lang.image.dropImage)}).on("dragleave",function(){e.$dropzone.removeClass("hover"),r.text(e.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(i){var r=i.originalEvent.dataTransfer;i.preventDefault(),r&&r.files&&r.files.length?(e.$editable.focus(),e.context.invoke("editor.insertImagesOrCallback",r.files)):t.each(r.types,function(i,n){var o=r.getData(n);n.toLowerCase().indexOf("text")>-1?e.context.invoke("editor.pasteHTML",o):t(o).each(function(t,i){e.context.invoke("editor.insertNode",i)})})}).on("dragover",!1)},e.prototype.destroy=function(){var e=this;Object.keys(this.documentEventHandlers).forEach(function(t){e.$eventListener.off(t.substr(2).toLowerCase(),e.documentEventHandlers[t])}),this.documentEventHandlers={}},e}();R.hasCodeMirror&&(R.isSupportAmd?new Promise(function(e){e()}).then(function(){var e=[i("8U58")];(function(e){Le=e}).apply(null,e)}).catch(i.oe):Le=window.CodeMirror);var He=function(){function e(e){this.context=e,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.options=e.options}return e.prototype.sync=function(){this.isActivated()&&R.hasCodeMirror&&this.$codable.data("cmEditor").save()},e.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},e.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},e.prototype.activate=function(){var e=this;if(this.$codable.val(De.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),R.hasCodeMirror){var t=Le.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var i=new Le.TernServer(this.options.codemirror.tern);t.ternServer=i,t.on("cursorActivity",function(e){i.updateArgHints(e)})}t.on("blur",function(i){e.context.triggerEvent("blur.codeview",t.getValue(),i)}),t.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",t)}else this.$codable.on("blur",function(t){e.context.triggerEvent("blur.codeview",e.$codable.val(),t)})},e.prototype.deactivate=function(){if(R.hasCodeMirror){var e=this.$codable.data("cmEditor");this.$codable.val(e.getValue()),e.toTextArea()}var t=De.value(this.$codable,this.options.prettifyHtml)||De.emptyPara,i=this.$editable.html()!==t;this.$editable.html(t),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),i&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},e.prototype.destroy=function(){this.isActivated()&&this.deactivate()},e}(),qe=function(){function e(e){this.$document=t(document),this.$statusbar=e.layoutInfo.statusbar,this.$editable=e.layoutInfo.editable,this.options=e.options}return e.prototype.initialize=function(){var e=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(t){t.preventDefault(),t.stopPropagation();var i=e.$editable.offset().top-e.$document.scrollTop(),r=function(t){var r=t.clientY-(i+24);r=e.options.minheight>0?Math.max(r,e.options.minheight):r,r=e.options.maxHeight>0?Math.min(r,e.options.maxHeight):r,e.$editable.height(r)};e.$document.on("mousemove",r).one("mouseup",function(){e.$document.off("mousemove",r)})})},e.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},e}(),We=function(){function e(e){var i=this;this.context=e,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.$window=t(window),this.$scrollbar=t("html, body"),this.onResize=function(){i.resizeTo({h:i.$window.height()-i.$toolbar.outerHeight()})}}return e.prototype.resizeTo=function(e){this.$editable.css("height",e.h),this.$codable.css("height",e.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,e.h)},e.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},e.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},e}(),Ge=function(){function e(e){var i=this;this.context=e,this.$document=t(document),this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(e,t){i.update(t.target)&&t.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){i.update()},"summernote.disable":function(){i.hide()},"summernote.codeview.toggled":function(){i.update()}}}return e.prototype.initialize=function(){var e=this;this.$handle=t(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(t){if(De.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var i=e.$handle.find(".note-control-selection").data("target"),r=i.offset(),n=e.$document.scrollTop(),o=function(t){e.context.invoke("editor.resizeTo",{x:t.clientX-r.left,y:t.clientY-(r.top-n)},i,!t.shiftKey),e.update(i[0])};e.$document.on("mousemove",o).one("mouseup",function(t){t.preventDefault(),e.$document.off("mousemove",o),e.context.invoke("editor.afterCommand")}),i.data("ratio")||i.data("ratio",i.height()/i.width())}}),this.$handle.on("wheel",function(t){t.preventDefault(),e.update()})},e.prototype.destroy=function(){this.$handle.remove()},e.prototype.update=function(e){if(this.context.isDisabled())return!1;var i=De.isImg(e),r=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",e),i){var n=t(e),o=n.position(),s={left:o.left+parseInt(n.css("marginLeft"),10),top:o.top+parseInt(n.css("marginTop"),10)},a={w:n.outerWidth(!1),h:n.outerHeight(!1)};r.css({display:"block",left:s.left,top:s.top,width:a.w,height:a.h}).data("target",n);var l=new Image;l.src=n.attr("src");var d=a.w+"x"+a.h+" ("+this.lang.image.original+": "+l.width+"x"+l.height+")";r.find(".note-control-selection-info").text(d),this.context.invoke("editor.saveTarget",e)}else this.hide();return i},e.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},e}(),Ve=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,Ue=function(){function e(e){var t=this;this.context=e,this.events={"summernote.keyup":function(e,i){i.isDefaultPrevented()||t.handleKeyup(i)},"summernote.keydown":function(e,i){t.handleKeydown(i)}}}return e.prototype.initialize=function(){this.lastWordRange=null},e.prototype.destroy=function(){this.lastWordRange=null},e.prototype.replace=function(){if(this.lastWordRange){var e=this.lastWordRange.toString(),i=e.match(Ve);if(i&&(i[1]||i[2])){var r=i[1]?e:"http://"+e,n=t("<a />").html(e).attr("href",r)[0];this.lastWordRange.insertNode(n),this.lastWordRange=null,this.context.invoke("editor.focus")}}},e.prototype.handleKeydown=function(e){if(D.contains([Ae.code.ENTER,Ae.code.SPACE],e.keyCode)){var t=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=t}},e.prototype.handleKeyup=function(e){D.contains([Ae.code.ENTER,Ae.code.SPACE],e.keyCode)&&this.replace()},e}(),Ye=function(){function e(e){var t=this;this.$note=e.layoutInfo.note,this.events={"summernote.change":function(){t.$note.val(e.invoke("code"))}}}return e.prototype.shouldInitialize=function(){return De.isTextarea(this.$note[0])},e}(),Xe=function(){function e(e){var t=this;this.context=e,this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.events={"summernote.init summernote.change":function(){t.update()},"summernote.codeview.toggled":function(){t.update()}}}return e.prototype.shouldInitialize=function(){return!!this.options.placeholder},e.prototype.initialize=function(){var e=this;this.$placeholder=t('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.context.invoke("focus")}).text(this.options.placeholder).prependTo(this.$editingArea),this.update()},e.prototype.destroy=function(){this.$placeholder.remove()},e.prototype.update=function(){var e=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(e)},e}(),Ze=function(){function e(e){this.ui=t.summernote.ui,this.context=e,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.lang=this.options.langInfo,this.invertedKeyMap=y.invertObject(this.options.keyMap[R.isMac?"mac":"pc"])}return e.prototype.representShortcut=function(e){var t=this.invertedKeyMap[e];return this.options.shortcuts&&t?(R.isMac&&(t=t.replace("CMD","⌘").replace("SHIFT","⇧"))," ("+(t=t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""},e.prototype.button=function(e){return!this.options.tooltip&&e.tooltip&&delete e.tooltip,e.container=this.options.container,this.ui.button(e)},e.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},e.prototype.destroy=function(){delete this.fontInstalledMap},e.prototype.isFontInstalled=function(e){return this.fontInstalledMap.hasOwnProperty(e)||(this.fontInstalledMap[e]=R.isFontInstalled(e)||D.contains(this.options.fontNamesIgnoreCheck,e)),this.fontInstalledMap[e]},e.prototype.isFontDeservedToAdd=function(e){return""!==(e=e.toLowerCase())&&this.isFontInstalled(e)&&-1===t.inArray(e,["sans-serif","serif","monospace","cursive","fantasy"])},e.prototype.addToolbarButtons=function(){var e=this;this.context.memo("button.style",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.magic),e.options),tooltip:e.lang.style.style,data:{toggle:"dropdown"}}),e.ui.dropdown({className:"dropdown-style",items:e.options.styleTags,title:e.lang.style.style,template:function(t){"string"==typeof t&&(t={tag:t,title:e.lang.style.hasOwnProperty(t)?e.lang.style[t]:t});var i=t.tag,r=t.title;return"<"+i+(t.style?' style="'+t.style+'" ':"")+(t.className?' class="'+t.className+'"':"")+">"+r+"</"+i+">"},click:e.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var i=function(t,i){var n=r.options.styleTags[t];r.context.memo("button.style."+n,function(){return e.button({className:"note-btn-style-"+n,contents:'<div data-value="'+n+'">'+n.toUpperCase()+"</div>",tooltip:e.lang.style[n],click:e.context.createInvokeHandler("editor.formatBlock")}).render()})},r=this,n=0,o=this.options.styleTags.length;n<o;n++)i(n);this.context.memo("button.bold",function(){return e.button({className:"note-btn-bold",contents:e.ui.icon(e.options.icons.bold),tooltip:e.lang.font.bold+e.representShortcut("bold"),click:e.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return e.button({className:"note-btn-italic",contents:e.ui.icon(e.options.icons.italic),tooltip:e.lang.font.italic+e.representShortcut("italic"),click:e.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return e.button({className:"note-btn-underline",contents:e.ui.icon(e.options.icons.underline),tooltip:e.lang.font.underline+e.representShortcut("underline"),click:e.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return e.button({contents:e.ui.icon(e.options.icons.eraser),tooltip:e.lang.font.clear+e.representShortcut("removeFormat"),click:e.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return e.button({className:"note-btn-strikethrough",contents:e.ui.icon(e.options.icons.strikethrough),tooltip:e.lang.font.strikethrough+e.representShortcut("strikethrough"),click:e.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return e.button({className:"note-btn-superscript",contents:e.ui.icon(e.options.icons.superscript),tooltip:e.lang.font.superscript,click:e.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return e.button({className:"note-btn-subscript",contents:e.ui.icon(e.options.icons.subscript),tooltip:e.lang.font.subscript,click:e.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var i=e.context.invoke("editor.currentStyle");return t.each(i["font-family"].split(","),function(i,r){r=r.trim().replace(/['"]+/g,""),e.isFontDeservedToAdd(r)&&-1===t.inArray(r,e.options.fontNames)&&e.options.fontNames.push(r)}),e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontname"/>',e.options),tooltip:e.lang.font.name,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:e.options.icons.menuCheck,items:e.options.fontNames.filter(e.isFontInstalled.bind(e)),title:e.lang.font.name,template:function(e){return"<span style=\"font-family: '"+e+"'\">"+e+"</span>"},click:e.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',e.options),tooltip:e.lang.font.size,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:e.options.icons.menuCheck,items:e.options.fontSizes,title:e.lang.font.size,click:e.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return e.ui.buttonGroup({className:"note-color",children:[e.button({className:"note-current-color-button",contents:e.ui.icon(e.options.icons.font+" note-recent-color"),tooltip:e.lang.color.recent,click:function(i){var r=t(i.currentTarget);e.context.invoke("editor.color",{backColor:r.attr("data-backColor"),foreColor:r.attr("data-foreColor")})},callback:function(e){e.find(".note-recent-color").css("background-color","#FFFF00"),e.attr("data-backColor","#FFFF00")}}),e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents("",e.options),tooltip:e.lang.color.more,data:{toggle:"dropdown"}}),e.ui.dropdown({items:['<div class="note-palette">','  <div class="note-palette-title">'+e.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',e.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="note-palette">','  <div class="note-palette-title">'+e.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',e.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>"].join(""),callback:function(i){i.find(".note-holder").each(function(i,r){var n=t(r);n.append(e.ui.palette({colors:e.options.colors,colorsName:e.options.colorsName,eventName:n.data("event"),container:e.options.container,tooltip:e.options.tooltip}).render())})},click:function(i){var r=t(i.target),n=r.data("event"),o=r.data("value");if(n&&o){var s="backColor"===n?"background-color":"color",a=r.closest(".note-color").find(".note-recent-color"),l=r.closest(".note-color").find(".note-current-color-button");a.css(s,o),l.attr("data-"+n,o),e.context.invoke("editor."+n,o)}}})]}).render()}),this.context.memo("button.ul",function(){return e.button({contents:e.ui.icon(e.options.icons.unorderedlist),tooltip:e.lang.lists.unordered+e.representShortcut("insertUnorderedList"),click:e.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return e.button({contents:e.ui.icon(e.options.icons.orderedlist),tooltip:e.lang.lists.ordered+e.representShortcut("insertOrderedList"),click:e.context.createInvokeHandler("editor.insertOrderedList")}).render()});var s=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),a=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),l=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),d=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),c=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),h=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",y.invoke(s,"render")),this.context.memo("button.justifyCenter",y.invoke(a,"render")),this.context.memo("button.justifyRight",y.invoke(l,"render")),this.context.memo("button.justifyFull",y.invoke(d,"render")),this.context.memo("button.outdent",y.invoke(c,"render")),this.context.memo("button.indent",y.invoke(h,"render")),this.context.memo("button.paragraph",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.alignLeft),e.options),tooltip:e.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),e.ui.dropdown([e.ui.buttonGroup({className:"note-align",children:[s,a,l,d]}),e.ui.buttonGroup({className:"note-list",children:[c,h]})])]).render()}),this.context.memo("button.height",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.textHeight),e.options),tooltip:e.lang.font.height,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({items:e.options.lineHeights,checkClassName:e.options.icons.menuCheck,className:"dropdown-line-height",title:e.lang.font.height,click:e.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.table),e.options),tooltip:e.lang.table.table,data:{toggle:"dropdown"}}),e.ui.dropdown({title:e.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){t.find(".note-dimension-picker-mousecatcher").css({width:e.options.insertTableMaxSize.col+"em",height:e.options.insertTableMaxSize.row+"em"}).mousedown(e.context.createInvokeHandler("editor.insertTable")).on("mousemove",e.tableMoveHandler.bind(e))}}).render()}),this.context.memo("button.link",function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.link+e.representShortcut("linkDialog.show"),click:e.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return e.button({contents:e.ui.icon(e.options.icons.picture),tooltip:e.lang.image.image,click:e.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return e.button({contents:e.ui.icon(e.options.icons.video),tooltip:e.lang.video.video,click:e.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return e.button({contents:e.ui.icon(e.options.icons.minus),tooltip:e.lang.hr.insert+e.representShortcut("insertHorizontalRule"),click:e.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return e.button({className:"btn-fullscreen",contents:e.ui.icon(e.options.icons.arrowsAlt),tooltip:e.lang.options.fullscreen,click:e.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return e.button({className:"btn-codeview",contents:e.ui.icon(e.options.icons.code),tooltip:e.lang.options.codeview,click:e.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return e.button({contents:e.ui.icon(e.options.icons.redo),tooltip:e.lang.history.redo+e.representShortcut("redo"),click:e.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return e.button({contents:e.ui.icon(e.options.icons.undo),tooltip:e.lang.history.undo+e.representShortcut("undo"),click:e.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return e.button({contents:e.ui.icon(e.options.icons.question),tooltip:e.lang.options.help,click:e.context.createInvokeHandler("helpDialog.show")}).render()})},e.prototype.addImagePopoverButtons=function(){var e=this;this.context.memo("button.imageSize100",function(){return e.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:e.lang.image.resizeFull,click:e.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.imageSize50",function(){return e.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:e.lang.image.resizeHalf,click:e.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.imageSize25",function(){return e.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:e.lang.image.resizeQuarter,click:e.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.floatLeft",function(){return e.button({contents:e.ui.icon(e.options.icons.alignLeft),tooltip:e.lang.image.floatLeft,click:e.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return e.button({contents:e.ui.icon(e.options.icons.alignRight),tooltip:e.lang.image.floatRight,click:e.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return e.button({contents:e.ui.icon(e.options.icons.alignJustify),tooltip:e.lang.image.floatNone,click:e.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return e.button({contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.image.remove,click:e.context.createInvokeHandler("editor.removeMedia")}).render()})},e.prototype.addLinkPopoverButtons=function(){var e=this;this.context.memo("button.linkDialogShow",function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.edit,click:e.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return e.button({contents:e.ui.icon(e.options.icons.unlink),tooltip:e.lang.link.unlink,click:e.context.createInvokeHandler("editor.unlink")}).render()})},e.prototype.addTablePopoverButtons=function(){var e=this;this.context.memo("button.addRowUp",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowAbove),tooltip:e.lang.table.addRowAbove,click:e.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowBelow),tooltip:e.lang.table.addRowBelow,click:e.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colBefore),tooltip:e.lang.table.addColLeft,click:e.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colAfter),tooltip:e.lang.table.addColRight,click:e.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowRemove),tooltip:e.lang.table.delRow,click:e.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colRemove),tooltip:e.lang.table.delCol,click:e.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.table.delTable,click:e.context.createInvokeHandler("editor.deleteTable")}).render()})},e.prototype.build=function(e,i){for(var r=0,n=i.length;r<n;r++){for(var o=i[r],s=t.isArray(o)?o[0]:o,a=t.isArray(o)?1===o.length?[o[0]]:o[1]:[o],l=this.ui.buttonGroup({className:"note-"+s}).render(),d=0,c=a.length;d<c;d++){var h=this.context.memo("button."+a[d]);h&&l.append("function"==typeof h?h(this.context):h)}l.appendTo(e)}},e.prototype.updateCurrentStyle=function(e){var i=this,r=e||this.$toolbar,n=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(r,{".note-btn-bold":function(){return"bold"===n["font-bold"]},".note-btn-italic":function(){return"italic"===n["font-italic"]},".note-btn-underline":function(){return"underline"===n["font-underline"]},".note-btn-subscript":function(){return"subscript"===n["font-subscript"]},".note-btn-superscript":function(){return"superscript"===n["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===n["font-strikethrough"]}}),n["font-family"]){var o=n["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),s=D.find(o,this.isFontInstalled.bind(this));r.find(".dropdown-fontname a").each(function(e,i){var r=t(i),n=r.data("value")+""==s+"";r.toggleClass("checked",n)}),r.find(".note-current-fontname").text(s).css("font-family",s)}if(n["font-size"]){var a=n["font-size"];r.find(".dropdown-fontsize a").each(function(e,i){var r=t(i),n=r.data("value")+""==a+"";r.toggleClass("checked",n)}),r.find(".note-current-fontsize").text(a)}if(n["line-height"]){var l=n["line-height"];r.find(".dropdown-line-height li a").each(function(e,r){var n=t(r).data("value")+""==l+"";i.className=n?"checked":""})}},e.prototype.updateBtnStates=function(e,i){var r=this;t.each(i,function(t,i){r.ui.toggleBtnActive(e.find(t),i())})},e.prototype.tableMoveHandler=function(e){var i,r=t(e.target.parentNode),n=r.next(),o=r.find(".note-dimension-picker-mousecatcher"),s=r.find(".note-dimension-picker-highlighted"),a=r.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var l=t(e.target).offset();i={x:e.pageX-l.left,y:e.pageY-l.top}}else i={x:e.offsetX,y:e.offsetY};var d=Math.ceil(i.x/18)||1,c=Math.ceil(i.y/18)||1;s.css({width:d+"em",height:c+"em"}),o.data("value",d+"x"+c),d>3&&d<this.options.insertTableMaxSize.col&&a.css({width:d+1+"em"}),c>3&&c<this.options.insertTableMaxSize.row&&a.css({height:c+1+"em"}),n.html(d+" x "+c)},e}(),Ke=function(){function e(e){this.context=e,this.$window=t(window),this.$document=t(document),this.ui=t.summernote.ui,this.$note=e.layoutInfo.note,this.$editor=e.layoutInfo.editor,this.$toolbar=e.layoutInfo.toolbar,this.options=e.options,this.followScroll=this.followScroll.bind(this)}return e.prototype.shouldInitialize=function(){return!this.options.airMode},e.prototype.initialize=function(){var e=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){e.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},e.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},e.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var e=this.$toolbar.parent(".note-toolbar-wrapper"),i=this.$editor.outerHeight(),r=this.$editor.width(),n=this.$toolbar.height();e.css({height:n});var o=0;this.options.otherStaticBar&&(o=t(this.options.otherStaticBar).outerHeight());var s=this.$document.scrollTop(),a=this.$editor.offset().top;s>a-o&&s<a+i-o-n?this.$toolbar.css({position:"fixed",top:o,width:r}):this.$toolbar.css({position:"relative",top:0,width:"100%"})},e.prototype.changeContainer=function(e){e?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer)},e.prototype.updateFullscreen=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),e),this.changeContainer(e)},e.prototype.updateCodeview=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),e),e?this.deactivate():this.activate()},e.prototype.activate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!0)},e.prototype.deactivate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!1)},e}(),Je=function(){function e(e){this.context=e,this.ui=t.summernote.ui,this.$body=t(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo,e.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return e.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,i=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control  note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":t("<div/>").append(this.ui.checkbox({id:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),r='<button type="submit" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" disabled>'+this.lang.link.insert+"</button>";this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:i,footer:r}).render().appendTo(e)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===Ae.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},e.prototype.toggleLinkBtn=function(e,t,i){this.ui.toggleBtn(e,t.val()&&i.val())},e.prototype.showLinkDialog=function(e){var i=this;return t.Deferred(function(t){var r=i.$dialog.find(".note-link-text"),n=i.$dialog.find(".note-link-url"),o=i.$dialog.find(".note-link-btn"),s=i.$dialog.find("input[type=checkbox]");i.ui.onDialogShown(i.$dialog,function(){i.context.triggerEvent("dialog.shown"),e.url||(e.url=e.text),r.val(e.text);var a=function(){i.toggleLinkBtn(o,r,n),e.text=r.val()};r.on("input",a).on("paste",function(){setTimeout(a,0)});var l=function(){i.toggleLinkBtn(o,r,n),e.text||r.val(n.val())};n.on("input",l).on("paste",function(){setTimeout(l,0)}).val(e.url),R.isSupportTouch||n.trigger("focus"),i.toggleLinkBtn(o,r,n),i.bindEnterKey(n,o),i.bindEnterKey(r,o);var d=void 0!==e.isNewWindow?e.isNewWindow:i.context.options.linkTargetBlank;s.prop("checked",d),o.one("click",function(o){o.preventDefault(),t.resolve({range:e.range,url:n.val(),text:r.val(),isNewWindow:s.is(":checked")}),i.ui.hideDialog(i.$dialog)})}),i.ui.onDialogHidden(i.$dialog,function(){r.off("input paste keypress"),n.off("input paste keypress"),o.off("click"),"pending"===t.state()&&t.reject()}),i.ui.showDialog(i.$dialog)}).promise()},e.prototype.show=function(){var e=this,t=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(t).then(function(t){e.context.invoke("editor.restoreRange"),e.context.invoke("editor.createLink",t)}).fail(function(){e.context.invoke("editor.restoreRange")})},e}(),Qe=function(){function e(e){var i=this;this.context=e,this.ui=t.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){i.update()},"summernote.disable summernote.dialog.shown":function(){i.hide()}}}return e.prototype.shouldInitialize=function(){return!D.isEmpty(this.options.popover.link)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(e){e.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.link)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(){if(this.context.invoke("editor.hasFocus")){var e=this.context.invoke("editor.createRange");if(e.isCollapsed()&&e.isOnAnchor()){var i=De.ancestor(e.sc,De.isAnchor),r=t(i).attr("href");this.$popover.find("a").attr("href",r).html(r);var n=De.posFromPlaceholder(i);this.$popover.css({display:"block",left:n.left,top:n.top})}else this.hide()}else this.hide()},e.prototype.hide=function(){this.$popover.hide()},e}(),et=function(){function e(e){this.context=e,this.ui=t.summernote.ui,this.$body=t(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return e.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t="";if(this.options.maximumImageFileSize){var i=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),r=1*(this.options.maximumImageFileSize/Math.pow(1024,i)).toFixed(2)+" "+" KMGTP"[i]+"B";t="<small>"+this.lang.image.maximumFileSize+" : "+r+"</small>"}var n=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',t,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),o='<button type="submit" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" disabled>'+this.lang.image.insert+"</button>";this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:n,footer:o}).render().appendTo(e)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===Ae.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},e.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange"),"string"==typeof t?e.context.invoke("editor.insertImage",t):e.context.invoke("editor.insertImagesOrCallback",t)}).fail(function(){e.context.invoke("editor.restoreRange")})},e.prototype.showImageDialog=function(){var e=this;return t.Deferred(function(t){var i=e.$dialog.find(".note-image-input"),r=e.$dialog.find(".note-image-url"),n=e.$dialog.find(".note-image-btn");e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),i.replaceWith(i.clone().on("change",function(e){t.resolve(e.target.files||e.target.value)}).val("")),n.click(function(e){e.preventDefault(),t.resolve(r.val())}),r.on("keyup paste",function(){var t=r.val();e.ui.toggleBtn(n,t)}).val(""),R.isSupportTouch||r.trigger("focus"),e.bindEnterKey(r,n)}),e.ui.onDialogHidden(e.$dialog,function(){i.off("change"),r.off("keyup paste keypress"),n.off("click"),"pending"===t.state()&&t.reject()}),e.ui.showDialog(e.$dialog)})},e}(),tt=function(){function e(e){var i=this;this.context=e,this.ui=t.summernote.ui,this.editable=e.layoutInfo.editable[0],this.options=e.options,this.events={"summernote.disable":function(){i.hide()}}}return e.prototype.shouldInitialize=function(){return!D.isEmpty(this.options.popover.image)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.image)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(e){if(De.isImg(e)){var t=De.posFromPlaceholder(e),i=De.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?event.pageX-20:t.left,top:this.options.popatmouse?event.pageY:Math.min(t.top,i.top)})}else this.hide()},e.prototype.hide=function(){this.$popover.hide()},e}(),it=function(){function e(e){var i=this;this.context=e,this.ui=t.summernote.ui,this.options=e.options,this.events={"summernote.mousedown":function(e,t){i.update(t.target)},"summernote.keyup summernote.scroll summernote.change":function(){i.update()},"summernote.disable":function(){i.hide()}}}return e.prototype.shouldInitialize=function(){return!D.isEmpty(this.options.popover.table)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.table),R.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(e){if(this.context.isDisabled())return!1;var t=De.isCell(e);if(t){var i=De.posFromPlaceholder(e);this.$popover.css({display:"block",left:i.left,top:i.top})}else this.hide();return t},e.prototype.hide=function(){this.$popover.hide()},e}(),rt=function(){function e(e){this.context=e,this.ui=t.summernote.ui,this.$body=t(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return e.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),i='<button type="submit" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" disabled>'+this.lang.video.insert+"</button>";this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:t,footer:i}).render().appendTo(e)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===Ae.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},e.prototype.createVideoNode=function(e){var i,r=e.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/),n=e.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),o=e.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),s=e.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),a=e.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),l=e.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),d=e.match(/\/\/v\.qq\.com.*?vid=(.+)/),c=e.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),h=e.match(/^.+.(mp4|m4v)$/),u=e.match(/^.+.(ogg|ogv)$/),f=e.match(/^.+.(webm)$/);if(r&&11===r[1].length){var p=r[1];i=t("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+p).attr("width","640").attr("height","360")}else if(n&&n[0].length)i=t("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+n[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(o&&o[0].length)i=t("<iframe>").attr("frameborder",0).attr("src",o[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(s&&s[3].length)i=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+s[3]).attr("width","640").attr("height","360");else if(a&&a[2].length)i=t("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+a[2]).attr("width","640").attr("height","360");else if(l&&l[1].length)i=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+l[1]);else if(d&&d[1].length||c&&c[2].length){var g=d&&d[1].length?d[1]:c[2];i=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+g+"&amp;auto=0")}else{if(!(h||u||f))return!1;i=t("<video controls>").attr("src",e).attr("width","640").attr("height","360")}return i.addClass("note-video-clip"),i[0]},e.prototype.show=function(){var e=this,t=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(t).then(function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange");var i=e.createVideoNode(t);i&&e.context.invoke("editor.insertNode",i)}).fail(function(){e.context.invoke("editor.restoreRange")})},e.prototype.showVideoDialog=function(e){var i=this;return t.Deferred(function(t){var r=i.$dialog.find(".note-video-url"),n=i.$dialog.find(".note-video-btn");i.ui.onDialogShown(i.$dialog,function(){i.context.triggerEvent("dialog.shown"),r.val(e).on("input",function(){i.ui.toggleBtn(n,r.val())}),R.isSupportTouch||r.trigger("focus"),n.click(function(e){e.preventDefault(),t.resolve(r.val())}),i.bindEnterKey(r,n)}),i.ui.onDialogHidden(i.$dialog,function(){r.off("input"),n.off("click"),"pending"===t.state()&&t.reject()}),i.ui.showDialog(i.$dialog)})},e}(),nt=function(){function e(e){this.context=e,this.ui=t.summernote.ui,this.$body=t(document.body),this.$editor=e.layoutInfo.editor,this.options=e.options,this.lang=this.options.langInfo}return e.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.10</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:t,callback:function(e){e.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)},e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},e.prototype.createShortcutList=function(){var e=this,i=this.options.keyMap[R.isMac?"mac":"pc"];return Object.keys(i).map(function(r){var n=i[r],o=t('<div><div class="help-list-item"/></div>');return o.append(t("<label><kbd>"+r+"</kdb></label>").css({width:180,"margin-right":10})).append(t("<span/>").html(e.context.memo("help."+n)||n)),o.html()}).join("")},e.prototype.showHelpDialog=function(){var e=this;return t.Deferred(function(t){e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),t.resolve()}),e.ui.showDialog(e.$dialog)}).promise()},e.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.context.invoke("editor.restoreRange")})},e}(),ot=function(){function e(e){var i=this;this.context=e,this.ui=t.summernote.ui,this.options=e.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){i.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){i.hide()},"summernote.focusout":function(e,t){R.isFF||t.relatedTarget&&De.ancestor(t.relatedTarget,y.eq(i.$popover[0]))||i.hide()}}}return e.prototype.shouldInitialize=function(){return this.options.airMode&&!D.isEmpty(this.options.popover.air)},e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content");this.context.invoke("buttons.build",e,this.options.popover.air)},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.update=function(){var e=this.context.invoke("editor.currentStyle");if(e.range&&!e.range.isCollapsed()){var t=D.last(e.range.getClientRects());if(t){var i=y.rect2bnd(t);this.$popover.css({display:"block",left:Math.max(i.left+i.width/2,0)-20,top:i.top+i.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},e.prototype.hide=function(){this.$popover.hide()},e}(),st=function(){function e(e){var i=this;this.context=e,this.ui=t.summernote.ui,this.$editable=e.layoutInfo.editable,this.options=e.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=t.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||i.handleKeyup(t)},"summernote.keydown":function(e,t){i.handleKeydown(t)},"summernote.disable summernote.dialog.shown":function(){i.hide()}}}return e.prototype.shouldInitialize=function(){return this.hints.length>0},e.prototype.initialize=function(){var e=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(){e.$content.find(".active").removeClass("active"),t(e).addClass("active"),e.replace()})},e.prototype.destroy=function(){this.$popover.remove()},e.prototype.selectItem=function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2},e.prototype.moveDown=function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();if(t.length)this.selectItem(t);else{var i=e.parent().next();i.length||(i=this.$content.find(".note-hint-group").first()),this.selectItem(i.find(".note-hint-item").first())}},e.prototype.moveUp=function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();if(t.length)this.selectItem(t);else{var i=e.parent().prev();i.length||(i=this.$content.find(".note-hint-group").last()),this.selectItem(i.find(".note-hint-item").last())}},e.prototype.replace=function(){var e=this.$content.find(".note-hint-item.active");if(e.length){var t=this.nodeFromItem(e);this.lastWordRange.insertNode(t),Ee.createFromNode(t).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},e.prototype.nodeFromItem=function(e){var t=this.hints[e.data("index")],i=e.data("item"),r=t.content?t.content(i):i;return"string"==typeof r&&(r=De.createText(r)),r},e.prototype.createItemTemplates=function(e,i){var r=this.hints[e];return i.map(function(i,n){var o=t('<div class="note-hint-item"/>');return o.append(r.template?r.template(i):i+""),o.data({index:e,item:i}),o})},e.prototype.handleKeydown=function(e){this.$popover.is(":visible")&&(e.keyCode===Ae.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===Ae.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===Ae.code.DOWN&&(e.preventDefault(),this.moveDown()))},e.prototype.searchKeyword=function(e,t,i){var r=this.hints[e];if(r&&r.match.test(t)&&r.search){var n=r.match.exec(t);r.search(n[1],i)}else i()},e.prototype.createGroup=function(e,i){var r=this,n=t('<div class="note-hint-group note-hint-group-'+e+'"/>');return this.searchKeyword(e,i,function(t){(t=t||[]).length&&(n.html(r.createItemTemplates(e,t)),r.show())}),n},e.prototype.handleKeyup=function(e){var t=this;if(!D.contains([Ae.code.ENTER,Ae.code.UP,Ae.code.DOWN],e.keyCode)){var i=this.context.invoke("editor.createRange").getWordRange(),r=i.toString();if(this.hints.length&&r){this.$content.empty();var n=y.rect2bnd(D.last(i.getClientRects()));n&&(this.$popover.hide(),this.lastWordRange=i,this.hints.forEach(function(e,i){e.match.test(r)&&t.createGroup(i,r).appendTo(t.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:n.left,top:n.top-this.$popover.outerHeight()-5}):this.$popover.css({left:n.left,top:n.top+n.height+5}))}else this.hide()}},e.prototype.show=function(){this.$popover.show()},e.prototype.hide=function(){this.$popover.hide()},e}(),at=function(){function e(e,i){this.ui=t.summernote.ui,this.$note=e,this.memos={},this.modules={},this.layoutInfo={},this.options=i,this.initialize()}return e.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},e.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},e.prototype.reset=function(){var e=this.isDisabled();this.code(De.emptyPara),this._destroy(),this._initialize(),e&&this.disable()},e.prototype._initialize=function(){var e=this,i=t.extend({},this.options.buttons);Object.keys(i).forEach(function(t){e.memo("button."+t,i[t])});var r=t.extend({},this.options.modules,t.summernote.plugins||{});Object.keys(r).forEach(function(t){e.module(t,r[t],!0)}),Object.keys(this.modules).forEach(function(t){e.initializeModule(t)})},e.prototype._destroy=function(){var e=this;Object.keys(this.modules).reverse().forEach(function(t){e.removeModule(t)}),Object.keys(this.memos).forEach(function(t){e.removeMemo(t)}),this.triggerEvent("destroy",this)},e.prototype.code=function(e){var t=this.invoke("codeview.isActivated");if(void 0===e)return this.invoke("codeview.sync"),t?this.layoutInfo.codable.val():this.layoutInfo.editable.html();t?this.layoutInfo.codable.val(e):this.layoutInfo.editable.html(e),this.$note.val(e),this.triggerEvent("change",e)},e.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},e.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},e.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},e.prototype.triggerEvent=function(){var e=D.head(arguments),t=D.tail(D.from(arguments)),i=this.options.callbacks[y.namespaceToCamel(e,"on")];i&&i.apply(this.$note[0],t),this.$note.trigger("summernote."+e,t)},e.prototype.initializeModule=function(e){var t=this.modules[e];t.shouldInitialize=t.shouldInitialize||y.ok,t.shouldInitialize()&&(t.initialize&&t.initialize(),t.events&&De.attachEvents(this.$note,t.events))},e.prototype.module=function(e,t,i){if(1===arguments.length)return this.modules[e];this.modules[e]=new t(this),i||this.initializeModule(e)},e.prototype.removeModule=function(e){var t=this.modules[e];t.shouldInitialize()&&(t.events&&De.detachEvents(this.$note,t.events),t.destroy&&t.destroy()),delete this.modules[e]},e.prototype.memo=function(e,t){if(1===arguments.length)return this.memos[e];this.memos[e]=t},e.prototype.removeMemo=function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]},e.prototype.createInvokeHandlerAndUpdateState=function(e,t){var i=this;return function(r){i.createInvokeHandler(e,t)(r),i.invoke("buttons.updateCurrentStyle")}},e.prototype.createInvokeHandler=function(e,i){var r=this;return function(n){n.preventDefault();var o=t(n.target);r.invoke(e,i||o.closest("[data-value]").data("value"),o)}},e.prototype.invoke=function(){var e=D.head(arguments),t=D.tail(D.from(arguments)),i=e.split("."),r=i.length>1,n=r&&D.head(i),o=r?D.last(i):D.head(i),s=this.modules[n||"editor"];return!n&&this[o]?this[o].apply(this,t):s&&s[o]&&s.shouldInitialize()?s[o].apply(s,t):void 0},e}();t.fn.extend({summernote:function(){var e=t.type(D.head(arguments)),i="string"===e,r="object"===e,n=t.extend({},t.summernote.options,r?D.head(arguments):{});n.langInfo=t.extend(!0,{},t.summernote.lang["en-US"],t.summernote.lang[n.lang]),n.icons=t.extend(!0,{},t.summernote.options.icons,n.icons),n.tooltip="auto"===n.tooltip?!R.isSupportTouch:n.tooltip,this.each(function(e,i){var r=t(i);if(!r.data("summernote")){var o=new at(r,n);r.data("summernote",o),r.data("summernote").triggerEvent("init",o.layoutInfo)}});var o=this.first();if(o.length){var s=o.data("summernote");if(i)return s.invoke.apply(s,D.from(arguments));n.focus&&s.invoke("editor.focus")}return this}}),t.summernote=t.extend(t.summernote,{version:"0.8.10",ui:v,dom:De,plugins:{},options:{modules:{editor:Pe,clipboard:ze,dropzone:Be,codeview:He,statusbar:qe,fullscreen:We,handle:Ge,hintPopover:st,autoLink:Ue,autoSync:Ye,placeholder:Xe,buttons:Ze,toolbar:Ke,linkDialog:Je,linkPopover:Qe,imageDialog:et,imagePopover:tt,tablePopover:it,videoDialog:rt,helpDialog:nt,airPopover:ot},buttons:{},lang:"en-US",followingToolbar:!0,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onBlurCodeview:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})})(i("7t+N"))}).call(t,i("7t+N"))},2:function(e,t,i){i("7t+N"),i("K3J8"),i("j6mF"),i("uVPH"),i("J1Hg"),i("J5qV"),i("F8S1"),i("r8HW"),i("mKWO"),i("f9KE"),i("b4+h"),i("xgXc"),i("aYbc"),i("L382"),i("RInU"),i("XZtq"),i("8U58"),i("0MVf"),i("UKit"),i("nB7B"),i("wDpx"),i("9EFi"),i("9LDP"),i("p4NU"),e.exports=i("oKXF")},"3eNs":function(e,t,i){var r,n,o,s;s=function(e){return e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,r){return!!e.data(t,r[3])}})},n=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},"5xbe":function(e,t,i){var r,n,o,s;s=function(e){var t,i,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],n="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice;if(e.event.fixHooks)for(var s=r.length;s;)e.event.fixHooks[r[--s]]=e.event.mouseHooks;var a=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=n.length;t;)this.addEventListener(n[--t],l,!1);else this.onmousewheel=l;e.data(this,"mousewheel-line-height",a.getLineHeight(this)),e.data(this,"mousewheel-page-height",a.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=n.length;t;)this.removeEventListener(n[--t],l,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),r=i["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(r){var n,s=r||window.event,l=o.call(arguments,1),h=0,u=0,f=0,p=0,g=0;if((r=e.event.fix(s)).type="mousewheel","detail"in s&&(f=-1*s.detail),"wheelDelta"in s&&(f=s.wheelDelta),"wheelDeltaY"in s&&(f=s.wheelDeltaY),"wheelDeltaX"in s&&(u=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(u=-1*f,f=0),h=0===f?u:f,"deltaY"in s&&(h=f=-1*s.deltaY),"deltaX"in s&&(u=s.deltaX,0===f&&(h=-1*u)),0!==f||0!==u){if(1===s.deltaMode){var m=e.data(this,"mousewheel-line-height");h*=m,f*=m,u*=m}else if(2===s.deltaMode){var v=e.data(this,"mousewheel-page-height");h*=v,f*=v,u*=v}if(n=Math.max(Math.abs(f),Math.abs(u)),(!i||n<i)&&(i=n,c(s,n)&&(i/=40)),c(s,n)&&(h/=40,u/=40,f/=40),h=Math[h>=1?"floor":"ceil"](h/i),u=Math[u>=1?"floor":"ceil"](u/i),f=Math[f>=1?"floor":"ceil"](f/i),a.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();p=r.clientX-b.left,g=r.clientY-b.top}return r.deltaX=u,r.deltaY=f,r.deltaFactor=i,r.offsetX=p,r.offsetY=g,r.deltaMode=0,l.unshift(r,h,u,f),t&&clearTimeout(t),t=setTimeout(d,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function d(){i=null}function c(e,t){return a.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})},n=[i("7t+N")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},"6b8n":function(e,t,i){var r,n,o,s;s=function(e){return e.ui.formResetMixin={_formResetHandler:function(){var t=e(this);setTimeout(function(){var i=t.data("ui-form-reset-instances");e.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(e.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}}},n=[i("7t+N"),i("vfPe"),i("UZ9c")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},"7t+N":function(e,t,i){var r;!function(t,i){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(t)}("undefined"!=typeof window?window:this,function(i,n){"use strict";var o=[],s=i.document,a=Object.getPrototypeOf,l=o.slice,d=o.concat,c=o.push,h=o.indexOf,u={},f=u.toString,p=u.hasOwnProperty,g=p.toString,m=g.call(Object),v={},b=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},y=function(e){return null!=e&&e===e.window},w={type:!0,src:!0,noModule:!0};function x(e,t,i){var r,n=(t=t||s).createElement("script");if(n.text=e,i)for(r in w)i[r]&&(n[r]=i[r]);t.head.appendChild(n).parentNode.removeChild(n)}function C(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[f.call(e)]||"object":typeof e}var S=function(e,t){return new S.fn.init(e,t)},k=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function D(e){var t=!!e&&"length"in e&&e.length,i=C(e);return!b(e)&&!y(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}S.fn=S.prototype={jquery:"3.3.1",constructor:S,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(e){return this.pushStack(S.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},S.extend=S.fn.extend=function(){var e,t,i,r,n,o,s=arguments[0]||{},a=1,l=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[a]||{},a++),"object"==typeof s||b(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=s[t],s!==(r=e[t])&&(d&&r&&(S.isPlainObject(r)||(n=Array.isArray(r)))?(n?(n=!1,o=i&&Array.isArray(i)?i:[]):o=i&&S.isPlainObject(i)?i:{},s[t]=S.extend(d,o,r)):void 0!==r&&(s[t]=r));return s},S.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==f.call(e))&&(!(t=a(e))||"function"==typeof(i=p.call(t,"constructor")&&t.constructor)&&g.call(i)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){x(e)},each:function(e,t){var i,r=0;if(D(e))for(i=e.length;r<i&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(k,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(D(Object(e))?S.merge(i,"string"==typeof e?[e]:e):c.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:h.call(t,e,i)},merge:function(e,t){for(var i=+t.length,r=0,n=e.length;r<i;r++)e[n++]=t[r];return e.length=n,e},grep:function(e,t,i){for(var r=[],n=0,o=e.length,s=!i;n<o;n++)!t(e[n],n)!==s&&r.push(e[n]);return r},map:function(e,t,i){var r,n,o=0,s=[];if(D(e))for(r=e.length;o<r;o++)null!=(n=t(e[o],o,i))&&s.push(n);else for(o in e)null!=(n=t(e[o],o,i))&&s.push(n);return d.apply([],s)},guid:1,support:v}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=o[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});var T=function(e){var t,i,r,n,o,s,a,l,d,c,h,u,f,p,g,m,v,b,y,w="sizzle"+1*new Date,x=e.document,C=0,S=0,k=se(),D=se(),T=se(),A=function(e,t){return e===t&&(h=!0),0},N={}.hasOwnProperty,_=[],M=_.pop,E=_.push,$=_.push,O=_.slice,I=function(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",j="\\["+F+"*("+L+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+F+"*\\]",P=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",z=new RegExp(F+"+","g"),B=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),H=new RegExp("^"+F+"*,"+F+"*"),q=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),W=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),G=new RegExp(P),V=new RegExp("^"+L+"$"),U={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Q=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),ee=function(e,t,i){var r="0x"+t-65536;return r!=r||i?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){u()},ne=be(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{$.apply(_=O.call(x.childNodes),x.childNodes),_[x.childNodes.length].nodeType}catch(e){$={apply:_.length?function(e,t){E.apply(e,O.call(t))}:function(e,t){for(var i=e.length,r=0;e[i++]=t[r++];);e.length=i-1}}}function oe(e,t,r,n){var o,a,d,c,h,p,v,b=t&&t.ownerDocument,C=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return r;if(!n&&((t?t.ownerDocument||t:x)!==f&&u(t),t=t||f,g)){if(11!==C&&(h=K.exec(e)))if(o=h[1]){if(9===C){if(!(d=t.getElementById(o)))return r;if(d.id===o)return r.push(d),r}else if(b&&(d=b.getElementById(o))&&y(t,d)&&d.id===o)return r.push(d),r}else{if(h[2])return $.apply(r,t.getElementsByTagName(e)),r;if((o=h[3])&&i.getElementsByClassName&&t.getElementsByClassName)return $.apply(r,t.getElementsByClassName(o)),r}if(i.qsa&&!T[e+" "]&&(!m||!m.test(e))){if(1!==C)b=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(te,ie):t.setAttribute("id",c=w),a=(p=s(e)).length;a--;)p[a]="#"+c+" "+ve(p[a]);v=p.join(","),b=J.test(e)&&ge(t.parentNode)||t}if(v)try{return $.apply(r,b.querySelectorAll(v)),r}catch(e){}finally{c===w&&t.removeAttribute("id")}}}return l(e.replace(B,"$1"),t,r,n)}function se(){var e=[];return function t(i,n){return e.push(i+" ")>r.cacheLength&&delete t[e.shift()],t[i+" "]=n}}function ae(e){return e[w]=!0,e}function le(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var i=e.split("|"),n=i.length;n--;)r.attrHandle[i[n]]=t}function ce(e,t){var i=t&&e,r=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ue(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function fe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ne(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pe(e){return ae(function(t){return t=+t,ae(function(i,r){for(var n,o=e([],i.length,t),s=o.length;s--;)i[n=o[s]]&&(i[n]=!(r[n]=i[n]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in i=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},u=oe.setDocument=function(e){var t,n,s=e?e.ownerDocument||e:x;return s!==f&&9===s.nodeType&&s.documentElement?(p=(f=s).documentElement,g=!o(f),x!==f&&(n=f.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",re,!1):n.attachEvent&&n.attachEvent("onunload",re)),i.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),i.getElementsByTagName=le(function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length}),i.getElementsByClassName=Z.test(f.getElementsByClassName),i.getById=le(function(e){return p.appendChild(e).id=w,!f.getElementsByName||!f.getElementsByName(w).length}),i.getById?(r.filter.ID=function(e){var t=e.replace(Q,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var i=t.getElementById(e);return i?[i]:[]}}):(r.filter.ID=function(e){var t=e.replace(Q,ee);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var i,r,n,o=t.getElementById(e);if(o){if((i=o.getAttributeNode("id"))&&i.value===e)return[o];for(n=t.getElementsByName(e),r=0;o=n[r++];)if((i=o.getAttributeNode("id"))&&i.value===e)return[o]}return[]}}),r.find.TAG=i.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):i.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,r=[],n=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[n++];)1===i.nodeType&&r.push(i);return r}return o},r.find.CLASS=i.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(i.qsa=Z.test(f.querySelectorAll))&&(le(function(e){p.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(i.matchesSelector=Z.test(b=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&le(function(e){i.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),v.push("!=",P)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=Z.test(p.compareDocumentPosition),y=t||Z.test(p.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(i.contains?i.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return h=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===r?e===f||e.ownerDocument===x&&y(x,e)?-1:t===f||t.ownerDocument===x&&y(x,t)?1:c?I(c,e)-I(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return h=!0,0;var i,r=0,n=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!n||!o)return e===f?-1:t===f?1:n?-1:o?1:c?I(c,e)-I(c,t):0;if(n===o)return ce(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)a.unshift(i);for(;s[r]===a[r];)r++;return r?ce(s[r],a[r]):s[r]===x?-1:a[r]===x?1:0},f):f},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&u(e),t=t.replace(W,"='$1']"),i.matchesSelector&&g&&!T[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var r=b.call(e,t);if(r||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,f,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==f&&u(e),y(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==f&&u(e);var n=r.attrHandle[t.toLowerCase()],o=n&&N.call(r.attrHandle,t.toLowerCase())?n(e,t,!g):void 0;return void 0!==o?o:i.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ie)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],n=0,o=0;if(h=!i.detectDuplicates,c=!i.sortStable&&e.slice(0),e.sort(A),h){for(;t=e[o++];)t===e[o]&&(n=r.push(o));for(;n--;)e.splice(r[n],1)}return c=null,e},n=oe.getText=function(e){var t,i="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=n(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)i+=n(t);return i},(r=oe.selectors={cacheLength:50,createPseudo:ae,match:U,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Q,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Q,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return U.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&G.test(i)&&(t=s(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Q,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&k(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(r){var n=oe.attr(r,e);return null==n?"!="===t:!t||(n+="","="===t?n===i:"!="===t?n!==i:"^="===t?i&&0===n.indexOf(i):"*="===t?i&&n.indexOf(i)>-1:"$="===t?i&&n.slice(-i.length)===i:"~="===t?(" "+n.replace(z," ")+" ").indexOf(i)>-1:"|="===t&&(n===i||n.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,r,n){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===n?function(e){return!!e.parentNode}:function(t,i,l){var d,c,h,u,f,p,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a,y=!1;if(m){if(o){for(;g;){for(u=t;u=u[g];)if(a?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&b){for(y=(f=(d=(c=(h=(u=m)[w]||(u[w]={}))[u.uniqueID]||(h[u.uniqueID]={}))[e]||[])[0]===C&&d[1])&&d[2],u=f&&m.childNodes[f];u=++f&&u&&u[g]||(y=f=0)||p.pop();)if(1===u.nodeType&&++y&&u===t){c[e]=[C,f,y];break}}else if(b&&(y=f=(d=(c=(h=(u=t)[w]||(u[w]={}))[u.uniqueID]||(h[u.uniqueID]={}))[e]||[])[0]===C&&d[1]),!1===y)for(;(u=++f&&u&&u[g]||(y=f=0)||p.pop())&&((a?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++y||(b&&((c=(h=u[w]||(u[w]={}))[u.uniqueID]||(h[u.uniqueID]={}))[e]=[C,y]),u!==t)););return(y-=n)===r||y%r==0&&y/r>=0}}},PSEUDO:function(e,t){var i,n=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return n[w]?n(t):n.length>1?(i=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,i){for(var r,o=n(e,t),s=o.length;s--;)e[r=I(e,o[s])]=!(i[r]=o[s])}):function(e){return n(e,0,i)}):n}},pseudos:{not:ae(function(e){var t=[],i=[],r=a(e.replace(B,"$1"));return r[w]?ae(function(e,t,i,n){for(var o,s=r(e,null,n,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,n,o){return t[0]=e,r(t,null,o,i),t[0]=null,!i.pop()}}),has:ae(function(e){return function(t){return oe(e,t).length>0}}),contains:ae(function(e){return e=e.replace(Q,ee),function(t){return(t.textContent||t.innerText||n(t)).indexOf(e)>-1}}),lang:ae(function(e){return V.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(Q,ee).toLowerCase(),function(t){var i;do{if(i=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,i){return[i<0?i+t:i]}),even:pe(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:pe(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:pe(function(e,t,i){for(var r=i<0?i+t:i;--r>=0;)e.push(r);return e}),gt:pe(function(e,t,i){for(var r=i<0?i+t:i;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=ue(t);function me(){}function ve(e){for(var t=0,i=e.length,r="";t<i;t++)r+=e[t].value;return r}function be(e,t,i){var r=t.dir,n=t.next,o=n||r,s=i&&"parentNode"===o,a=S++;return t.first?function(t,i,n){for(;t=t[r];)if(1===t.nodeType||s)return e(t,i,n);return!1}:function(t,i,l){var d,c,h,u=[C,a];if(l){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,i,l))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(c=(h=t[w]||(t[w]={}))[t.uniqueID]||(h[t.uniqueID]={}),n&&n===t.nodeName.toLowerCase())t=t[r]||t;else{if((d=c[o])&&d[0]===C&&d[1]===a)return u[2]=d[2];if(c[o]=u,u[2]=e(t,i,l))return!0}return!1}}function ye(e){return e.length>1?function(t,i,r){for(var n=e.length;n--;)if(!e[n](t,i,r))return!1;return!0}:e[0]}function we(e,t,i,r,n){for(var o,s=[],a=0,l=e.length,d=null!=t;a<l;a++)(o=e[a])&&(i&&!i(o,r,n)||(s.push(o),d&&t.push(a)));return s}function xe(e,t,i,r,n,o){return r&&!r[w]&&(r=xe(r)),n&&!n[w]&&(n=xe(n,o)),ae(function(o,s,a,l){var d,c,h,u=[],f=[],p=s.length,g=o||function(e,t,i){for(var r=0,n=t.length;r<n;r++)oe(e,t[r],i);return i}(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?g:we(g,u,e,a,l),v=i?n||(o?e:p||r)?[]:s:m;if(i&&i(m,v,a,l),r)for(d=we(v,f),r(d,[],a,l),c=d.length;c--;)(h=d[c])&&(v[f[c]]=!(m[f[c]]=h));if(o){if(n||e){if(n){for(d=[],c=v.length;c--;)(h=v[c])&&d.push(m[c]=h);n(null,v=[],d,l)}for(c=v.length;c--;)(h=v[c])&&(d=n?I(o,h):u[c])>-1&&(o[d]=!(s[d]=h))}}else v=we(v===s?v.splice(p,v.length):v),n?n(null,s,v,l):$.apply(s,v)})}function Ce(e){for(var t,i,n,o=e.length,s=r.relative[e[0].type],a=s||r.relative[" "],l=s?1:0,c=be(function(e){return e===t},a,!0),h=be(function(e){return I(t,e)>-1},a,!0),u=[function(e,i,r){var n=!s&&(r||i!==d)||((t=i).nodeType?c(e,i,r):h(e,i,r));return t=null,n}];l<o;l++)if(i=r.relative[e[l].type])u=[be(ye(u),i)];else{if((i=r.filter[e[l].type].apply(null,e[l].matches))[w]){for(n=++l;n<o&&!r.relative[e[n].type];n++);return xe(l>1&&ye(u),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(B,"$1"),i,l<n&&Ce(e.slice(l,n)),n<o&&Ce(e=e.slice(n)),n<o&&ve(e))}u.push(i)}return ye(u)}return me.prototype=r.filters=r.pseudos,r.setFilters=new me,s=oe.tokenize=function(e,t){var i,n,o,s,a,l,d,c=D[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],d=r.preFilter;a;){for(s in i&&!(n=H.exec(a))||(n&&(a=a.slice(n[0].length)||a),l.push(o=[])),i=!1,(n=q.exec(a))&&(i=n.shift(),o.push({value:i,type:n[0].replace(B," ")}),a=a.slice(i.length)),r.filter)!(n=U[s].exec(a))||d[s]&&!(n=d[s](n))||(i=n.shift(),o.push({value:i,type:s,matches:n}),a=a.slice(i.length));if(!i)break}return t?a.length:a?oe.error(e):D(e,l).slice(0)},a=oe.compile=function(e,t){var i,n=[],o=[],a=T[e+" "];if(!a){for(t||(t=s(e)),i=t.length;i--;)(a=Ce(t[i]))[w]?n.push(a):o.push(a);(a=T(e,function(e,t){var i=t.length>0,n=e.length>0,o=function(o,s,a,l,c){var h,p,m,v=0,b="0",y=o&&[],w=[],x=d,S=o||n&&r.find.TAG("*",c),k=C+=null==x?1:Math.random()||.1,D=S.length;for(c&&(d=s===f||s||c);b!==D&&null!=(h=S[b]);b++){if(n&&h){for(p=0,s||h.ownerDocument===f||(u(h),a=!g);m=e[p++];)if(m(h,s||f,a)){l.push(h);break}c&&(C=k)}i&&((h=!m&&h)&&v--,o&&y.push(h))}if(v+=b,i&&b!==v){for(p=0;m=t[p++];)m(y,w,s,a);if(o){if(v>0)for(;b--;)y[b]||w[b]||(w[b]=M.call(l));w=we(w)}$.apply(l,w),c&&!o&&w.length>0&&v+t.length>1&&oe.uniqueSort(l)}return c&&(C=k,d=x),y};return i?ae(o):o}(o,n))).selector=e}return a},l=oe.select=function(e,t,i,n){var o,l,d,c,h,u="function"==typeof e&&e,f=!n&&s(e=u.selector||e);if(i=i||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(d=l[0]).type&&9===t.nodeType&&g&&r.relative[l[1].type]){if(!(t=(r.find.ID(d.matches[0].replace(Q,ee),t)||[])[0]))return i;u&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=U.needsContext.test(e)?0:l.length;o--&&(d=l[o],!r.relative[c=d.type]);)if((h=r.find[c])&&(n=h(d.matches[0].replace(Q,ee),J.test(l[0].type)&&ge(t.parentNode)||t))){if(l.splice(o,1),!(e=n.length&&ve(l)))return $.apply(i,n),i;break}}return(u||a(e,f))(n,t,!g,i,!t||J.test(e)&&ge(t.parentNode)||t),i},i.sortStable=w.split("").sort(A).join("")===w,i.detectDuplicates=!!h,u(),i.sortDetached=le(function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),i.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||de(R,function(e,t,i){var r;if(!i)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(i);S.find=T,S.expr=T.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=T.uniqueSort,S.text=T.getText,S.isXMLDoc=T.isXML,S.contains=T.contains,S.escapeSelector=T.escape;var A=function(e,t,i){for(var r=[],n=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&S(e).is(i))break;r.push(e)}return r},N=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},_=S.expr.match.needsContext;function M(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var E=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function $(e,t,i){return b(t)?S.grep(e,function(e,r){return!!t.call(e,r,e)!==i}):t.nodeType?S.grep(e,function(e){return e===t!==i}):"string"!=typeof t?S.grep(e,function(e){return h.call(t,e)>-1!==i}):S.filter(t,e,i)}S.filter=function(e,t,i){var r=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,i,r=this.length,n=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(n[t],this))return!0}));for(i=this.pushStack([]),t=0;t<r;t++)S.find(e,n[t],i);return r>1?S.uniqueSort(i):i},filter:function(e){return this.pushStack($(this,e||[],!1))},not:function(e){return this.pushStack($(this,e||[],!0))},is:function(e){return!!$(this,"string"==typeof e&&_.test(e)?S(e):e||[],!1).length}});var O,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,i){var r,n;if(!e)return this;if(i=i||O,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:I.exec(e))||!r[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:s,!0)),E.test(r[1])&&S.isPlainObject(t))for(r in t)b(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(n=s.getElementById(r[2]))&&(this[0]=n,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):b(e)?void 0!==i.ready?i.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,O=S(s);var R=/^(?:parents|prev(?:Until|All))/,F={children:!0,contents:!0,next:!0,prev:!0};function L(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.fn.extend({has:function(e){var t=S(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var i,r=0,n=this.length,o=[],s="string"!=typeof e&&S(e);if(!_.test(e))for(;r<n;r++)for(i=this[r];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&S.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?h.call(S(e),this[0]):h.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return A(e,"parentNode")},parentsUntil:function(e,t,i){return A(e,"parentNode",i)},next:function(e){return L(e,"nextSibling")},prev:function(e){return L(e,"previousSibling")},nextAll:function(e){return A(e,"nextSibling")},prevAll:function(e){return A(e,"previousSibling")},nextUntil:function(e,t,i){return A(e,"nextSibling",i)},prevUntil:function(e,t,i){return A(e,"previousSibling",i)},siblings:function(e){return N((e.parentNode||{}).firstChild,e)},children:function(e){return N(e.firstChild)},contents:function(e){return M(e,"iframe")?e.contentDocument:(M(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(e,t){S.fn[e]=function(i,r){var n=S.map(this,t,i);return"Until"!==e.slice(-5)&&(r=i),r&&"string"==typeof r&&(n=S.filter(r,n)),this.length>1&&(F[e]||S.uniqueSort(n),R.test(e)&&n.reverse()),this.pushStack(n)}});var j=/[^\x20\t\r\n\f]+/g;function P(e){return e}function z(e){throw e}function B(e,t,i,r){var n;try{e&&b(n=e.promise)?n.call(e).done(t).fail(i):e&&b(n=e.then)?n.call(e,t,i):t.apply(void 0,[e].slice(r))}catch(e){i.apply(void 0,[e])}}S.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return S.each(e.match(j)||[],function(e,i){t[i]=!0}),t}(e):S.extend({},e);var t,i,r,n,o=[],s=[],a=-1,l=function(){for(n=n||e.once,r=t=!0;s.length;a=-1)for(i=s.shift();++a<o.length;)!1===o[a].apply(i[0],i[1])&&e.stopOnFalse&&(a=o.length,i=!1);e.memory||(i=!1),t=!1,n&&(o=i?[]:"")},d={add:function(){return o&&(i&&!t&&(a=o.length-1,s.push(i)),function t(i){S.each(i,function(i,r){b(r)?e.unique&&d.has(r)||o.push(r):r&&r.length&&"string"!==C(r)&&t(r)})}(arguments),i&&!t&&l()),this},remove:function(){return S.each(arguments,function(e,t){for(var i;(i=S.inArray(t,o,i))>-1;)o.splice(i,1),i<=a&&a--}),this},has:function(e){return e?S.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return n=s=[],o=i="",this},disabled:function(){return!o},lock:function(){return n=s=[],i||t||(o=i=""),this},locked:function(){return!!n},fireWith:function(e,i){return n||(i=[e,(i=i||[]).slice?i.slice():i],s.push(i),t||l()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},S.extend({Deferred:function(e){var t=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],r="pending",n={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return n.then(null,e)},pipe:function(){var e=arguments;return S.Deferred(function(i){S.each(t,function(t,r){var n=b(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=n&&n.apply(this,arguments);e&&b(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[r[0]+"With"](this,n?[e]:arguments)})}),e=null}).promise()},then:function(e,r,n){var o=0;function s(e,t,r,n){return function(){var a=this,l=arguments,d=function(){var i,d;if(!(e<o)){if((i=r.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");d=i&&("object"==typeof i||"function"==typeof i)&&i.then,b(d)?n?d.call(i,s(o,t,P,n),s(o,t,z,n)):(o++,d.call(i,s(o,t,P,n),s(o,t,z,n),s(o,t,P,t.notifyWith))):(r!==P&&(a=void 0,l=[i]),(n||t.resolveWith)(a,l))}},c=n?d:function(){try{d()}catch(i){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(i,c.stackTrace),e+1>=o&&(r!==z&&(a=void 0,l=[i]),t.rejectWith(a,l))}};e?c():(S.Deferred.getStackHook&&(c.stackTrace=S.Deferred.getStackHook()),i.setTimeout(c))}}return S.Deferred(function(i){t[0][3].add(s(0,i,b(n)?n:P,i.notifyWith)),t[1][3].add(s(0,i,b(e)?e:P)),t[2][3].add(s(0,i,b(r)?r:z))}).promise()},promise:function(e){return null!=e?S.extend(e,n):n}},o={};return S.each(t,function(e,i){var s=i[2],a=i[5];n[i[1]]=s.add,a&&s.add(function(){r=a},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=s.fireWith}),n.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,i=t,r=Array(i),n=l.call(arguments),o=S.Deferred(),s=function(e){return function(i){r[e]=this,n[e]=arguments.length>1?l.call(arguments):i,--t||o.resolveWith(r,n)}};if(t<=1&&(B(e,o.done(s(i)).resolve,o.reject,!t),"pending"===o.state()||b(n[i]&&n[i].then)))return o.then();for(;i--;)B(n[i],s(i),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&H.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){i.setTimeout(function(){throw e})};var q=S.Deferred();function W(){s.removeEventListener("DOMContentLoaded",W),i.removeEventListener("load",W),S.ready()}S.fn.ready=function(e){return q.then(e).catch(function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==e&&--S.readyWait>0||q.resolveWith(s,[S]))}}),S.ready.then=q.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?i.setTimeout(S.ready):(s.addEventListener("DOMContentLoaded",W),i.addEventListener("load",W));var G=function(e,t,i,r,n,o,s){var a=0,l=e.length,d=null==i;if("object"===C(i))for(a in n=!0,i)G(e,t,a,i[a],!0,o,s);else if(void 0!==r&&(n=!0,b(r)||(s=!0),d&&(s?(t.call(e,r),t=null):(d=t,t=function(e,t,i){return d.call(S(e),i)})),t))for(;a<l;a++)t(e[a],i,s?r:r.call(e[a],a,t(e[a],i)));return n?e:d?t.call(e):l?t(e[0],i):o},V=/^-ms-/,U=/-([a-z])/g;function Y(e,t){return t.toUpperCase()}function X(e){return e.replace(V,"ms-").replace(U,Y)}var Z=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function K(){this.expando=S.expando+K.uid++}K.uid=1,K.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Z(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var r,n=this.cache(e);if("string"==typeof t)n[X(t)]=i;else for(r in t)n[X(r)]=t[r];return n},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,r=e[this.expando];if(void 0!==r){if(void 0!==t){i=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(j)||[]).length;for(;i--;)delete r[t[i]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var J=new K,Q=new K,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ie(e,t,i){var r;if(void 0===i&&1===e.nodeType)if(r="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(r))){try{i=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(i)}catch(e){}Q.set(e,t,i)}else i=void 0;return i}S.extend({hasData:function(e){return Q.hasData(e)||J.hasData(e)},data:function(e,t,i){return Q.access(e,t,i)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,i){return J.access(e,t,i)},_removeData:function(e,t){J.remove(e,t)}}),S.fn.extend({data:function(e,t){var i,r,n,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(n=Q.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&0===(r=s[i].name).indexOf("data-")&&(r=X(r.slice(5)),ie(o,r,n[r]));J.set(o,"hasDataAttrs",!0)}return n}return"object"==typeof e?this.each(function(){Q.set(this,e)}):G(this,function(t){var i;if(o&&void 0===t)return void 0!==(i=Q.get(o,e))?i:void 0!==(i=ie(o,e))?i:void 0;this.each(function(){Q.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,i){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),i&&(!r||Array.isArray(i)?r=J.access(e,t,S.makeArray(i)):r.push(i)),r||[]},dequeue:function(e,t){t=t||"fx";var i=S.queue(e,t),r=i.length,n=i.shift(),o=S._queueHooks(e,t);"inprogress"===n&&(n=i.shift(),r--),n&&("fx"===t&&i.unshift("inprogress"),delete o.stop,n.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return J.get(e,i)||J.access(e,i,{empty:S.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",i])})})}}),S.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?S.queue(this[0],e):void 0===t?this:this.each(function(){var i=S.queue(this,e,t);S._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&S.dequeue(this,e)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,r=1,n=S.Deferred(),o=this,s=this.length,a=function(){--r||n.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=J.get(o[s],e+"queueHooks"))&&i.empty&&(r++,i.empty.add(a));return a(),n.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&S.contains(e.ownerDocument,e)&&"none"===S.css(e,"display")},ae=function(e,t,i,r){var n,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in n=i.apply(e,r||[]),t)e.style[o]=s[o];return n};function le(e,t,i,r){var n,o,s=20,a=r?function(){return r.cur()}:function(){return S.css(e,t,"")},l=a(),d=i&&i[3]||(S.cssNumber[t]?"":"px"),c=(S.cssNumber[t]||"px"!==d&&+l)&&ne.exec(S.css(e,t));if(c&&c[3]!==d){for(l/=2,d=d||c[3],c=+l||1;s--;)S.style(e,t,c+d),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),c/=o;c*=2,S.style(e,t,c+d),i=i||[]}return i&&(c=+c||+l||0,n=i[1]?c+(i[1]+1)*i[2]:+i[2],r&&(r.unit=d,r.start=c,r.end=n)),n}var de={};function ce(e){var t,i=e.ownerDocument,r=e.nodeName,n=de[r];return n||(t=i.body.appendChild(i.createElement(r)),n=S.css(t,"display"),t.parentNode.removeChild(t),"none"===n&&(n="block"),de[r]=n,n)}function he(e,t){for(var i,r,n=[],o=0,s=e.length;o<s;o++)(r=e[o]).style&&(i=r.style.display,t?("none"===i&&(n[o]=J.get(r,"display")||null,n[o]||(r.style.display="")),""===r.style.display&&se(r)&&(n[o]=ce(r))):"none"!==i&&(n[o]="none",J.set(r,"display",i)));for(o=0;o<s;o++)null!=n[o]&&(e[o].style.display=n[o]);return e}S.fn.extend({show:function(){return he(this,!0)},hide:function(){return he(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?S(this).show():S(this).hide()})}});var ue=/^(?:checkbox|radio)$/i,fe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,pe=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&M(e,t)?S.merge([e],i):i}function ve(e,t){for(var i=0,r=e.length;i<r;i++)J.set(e[i],"globalEval",!t||J.get(t[i],"globalEval"))}ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;var be,ye,we=/<|&#?\w+;/;function xe(e,t,i,r,n){for(var o,s,a,l,d,c,h=t.createDocumentFragment(),u=[],f=0,p=e.length;f<p;f++)if((o=e[f])||0===o)if("object"===C(o))S.merge(u,o.nodeType?[o]:o);else if(we.test(o)){for(s=s||h.appendChild(t.createElement("div")),a=(fe.exec(o)||["",""])[1].toLowerCase(),l=ge[a]||ge._default,s.innerHTML=l[1]+S.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;S.merge(u,s.childNodes),(s=h.firstChild).textContent=""}else u.push(t.createTextNode(o));for(h.textContent="",f=0;o=u[f++];)if(r&&S.inArray(o,r)>-1)n&&n.push(o);else if(d=S.contains(o.ownerDocument,o),s=me(h.appendChild(o),"script"),d&&ve(s),i)for(c=0;o=s[c++];)pe.test(o.type||"")&&i.push(o);return h}be=s.createDocumentFragment().appendChild(s.createElement("div")),(ye=s.createElement("input")).setAttribute("type","radio"),ye.setAttribute("checked","checked"),ye.setAttribute("name","t"),be.appendChild(ye),v.checkClone=be.cloneNode(!0).cloneNode(!0).lastChild.checked,be.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!be.cloneNode(!0).lastChild.defaultValue;var Ce=s.documentElement,Se=/^key/,ke=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,De=/^([^.]*)(?:\.(.+)|)/;function Te(){return!0}function Ae(){return!1}function Ne(){try{return s.activeElement}catch(e){}}function _e(e,t,i,r,n,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof i&&(r=r||i,i=void 0),t)_e(e,a,i,r,t[a],o);return e}if(null==r&&null==n?(n=i,r=i=void 0):null==n&&("string"==typeof i?(n=r,r=void 0):(n=r,r=i,i=void 0)),!1===n)n=Ae;else if(!n)return e;return 1===o&&(s=n,(n=function(e){return S().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=S.guid++)),e.each(function(){S.event.add(this,t,n,r,i)})}S.event={global:{},add:function(e,t,i,r,n){var o,s,a,l,d,c,h,u,f,p,g,m=J.get(e);if(m)for(i.handler&&(i=(o=i).handler,n=o.selector),n&&S.find.matchesSelector(Ce,n),i.guid||(i.guid=S.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(t){return void 0!==S&&S.event.triggered!==t.type?S.event.dispatch.apply(e,arguments):void 0}),d=(t=(t||"").match(j)||[""]).length;d--;)f=g=(a=De.exec(t[d])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=S.event.special[f]||{},f=(n?h.delegateType:h.bindType)||f,h=S.event.special[f]||{},c=S.extend({type:f,origType:g,data:r,handler:i,guid:i.guid,selector:n,needsContext:n&&S.expr.match.needsContext.test(n),namespace:p.join(".")},o),(u=l[f])||((u=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,p,s)||e.addEventListener&&e.addEventListener(f,s)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),n?u.splice(u.delegateCount++,0,c):u.push(c),S.event.global[f]=!0)},remove:function(e,t,i,r,n){var o,s,a,l,d,c,h,u,f,p,g,m=J.hasData(e)&&J.get(e);if(m&&(l=m.events)){for(d=(t=(t||"").match(j)||[""]).length;d--;)if(f=g=(a=De.exec(t[d])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=S.event.special[f]||{},u=l[f=(r?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=u.length;o--;)c=u[o],!n&&g!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(u.splice(o,1),c.selector&&u.delegateCount--,h.remove&&h.remove.call(e,c));s&&!u.length&&(h.teardown&&!1!==h.teardown.call(e,p,m.handle)||S.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)S.event.remove(e,f+t[d],i,r,!0);S.isEmptyObject(l)&&J.remove(e,"handle events")}},dispatch:function(e){var t,i,r,n,o,s,a=S.event.fix(e),l=new Array(arguments.length),d=(J.get(this,"events")||{})[a.type]||[],c=S.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=S.event.handlers.call(this,a,d),t=0;(n=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=n.elem,i=0;(o=n.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(n.elem,l))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(e,t){var i,r,n,o,s,a=[],l=t.delegateCount,d=e.target;if(l&&d.nodeType&&!("click"===e.type&&e.button>=1))for(;d!==this;d=d.parentNode||this)if(1===d.nodeType&&("click"!==e.type||!0!==d.disabled)){for(o=[],s={},i=0;i<l;i++)void 0===s[n=(r=t[i]).selector+" "]&&(s[n]=r.needsContext?S(n,this).index(d)>-1:S.find(n,this,null,[d]).length),s[n]&&o.push(r);o.length&&a.push({elem:d,handlers:o})}return d=this,l<t.length&&a.push({elem:d,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(S.Event.prototype,e,{enumerable:!0,configurable:!0,get:b(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ne()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ne()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&M(this,"input"))return this.click(),!1},_default:function(e){return M(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Te:Ae,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Ae,isPropagationStopped:Ae,isImmediatePropagationStopped:Ae,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Te,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Te,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Te,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Se.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ke.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},S.event.addProp),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){S.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,r=e.relatedTarget,n=e.handleObj;return r&&(r===this||S.contains(this,r))||(e.type=n.origType,i=n.handler.apply(this,arguments),e.type=t),i}}}),S.fn.extend({on:function(e,t,i,r){return _e(this,e,t,i,r)},one:function(e,t,i,r){return _e(this,e,t,i,r,1)},off:function(e,t,i){var r,n;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=Ae),this.each(function(){S.event.remove(this,e,i,t)})}});var Me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ee=/<script|<style|<link/i,$e=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ie(e,t){return M(e,"table")&&M(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function Re(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Fe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var i,r,n,o,s,a,l,d;if(1===t.nodeType){if(J.hasData(e)&&(o=J.access(e),s=J.set(t,o),d=o.events))for(n in delete s.handle,s.events={},d)for(i=0,r=d[n].length;i<r;i++)S.event.add(t,n,d[n][i]);Q.hasData(e)&&(a=Q.access(e),l=S.extend({},a),Q.set(t,l))}}function je(e,t,i,r){t=d.apply([],t);var n,o,s,a,l,c,h=0,u=e.length,f=u-1,p=t[0],g=b(p);if(g||u>1&&"string"==typeof p&&!v.checkClone&&$e.test(p))return e.each(function(n){var o=e.eq(n);g&&(t[0]=p.call(this,n,o.html())),je(o,t,i,r)});if(u&&(o=(n=xe(t,e[0].ownerDocument,!1,e,r)).firstChild,1===n.childNodes.length&&(n=o),o||r)){for(a=(s=S.map(me(n,"script"),Re)).length;h<u;h++)l=n,h!==f&&(l=S.clone(l,!0,!0),a&&S.merge(s,me(l,"script"))),i.call(e[h],l,h);if(a)for(c=s[s.length-1].ownerDocument,S.map(s,Fe),h=0;h<a;h++)l=s[h],pe.test(l.type||"")&&!J.access(l,"globalEval")&&S.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?S._evalUrl&&S._evalUrl(l.src):x(l.textContent.replace(Oe,""),c,l))}return e}function Pe(e,t,i){for(var r,n=t?S.filter(t,e):e,o=0;null!=(r=n[o]);o++)i||1!==r.nodeType||S.cleanData(me(r)),r.parentNode&&(i&&S.contains(r.ownerDocument,r)&&ve(me(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e.replace(Me,"<$1></$2>")},clone:function(e,t,i){var r,n,o,s,a,l,d,c=e.cloneNode(!0),h=S.contains(e.ownerDocument,e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(s=me(c),r=0,n=(o=me(e)).length;r<n;r++)a=o[r],l=s[r],void 0,"input"===(d=l.nodeName.toLowerCase())&&ue.test(a.type)?l.checked=a.checked:"input"!==d&&"textarea"!==d||(l.defaultValue=a.defaultValue);if(t)if(i)for(o=o||me(e),s=s||me(c),r=0,n=o.length;r<n;r++)Le(o[r],s[r]);else Le(e,c);return(s=me(c,"script")).length>0&&ve(s,!h&&me(e,"script")),c},cleanData:function(e){for(var t,i,r,n=S.event.special,o=0;void 0!==(i=e[o]);o++)if(Z(i)){if(t=i[J.expando]){if(t.events)for(r in t.events)n[r]?S.event.remove(i,r):S.removeEvent(i,r,t.handle);i[J.expando]=void 0}i[Q.expando]&&(i[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Pe(this,e,!0)},remove:function(e){return Pe(this,e)},text:function(e){return G(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return je(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ie(this,e).appendChild(e)})},prepend:function(){return je(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ie(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return je(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return je(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return G(this,function(e){var t=this[0]||{},i=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ee.test(e)&&!ge[(fe.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;i<r;i++)1===(t=this[i]||{}).nodeType&&(S.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return je(this,arguments,function(t){var i=this.parentNode;S.inArray(this,e)<0&&(S.cleanData(me(this)),i&&i.replaceChild(t,this))},e)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){S.fn[e]=function(e){for(var i,r=[],n=S(e),o=n.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),S(n[s])[t](i),c.apply(r,i.get());return this.pushStack(r)}});var ze=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),Be=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},He=new RegExp(oe.join("|"),"i");function qe(e,t,i){var r,n,o,s,a=e.style;return(i=i||Be(e))&&(""!==(s=i.getPropertyValue(t)||i[t])||S.contains(e.ownerDocument,e)||(s=S.style(e,t)),!v.pixelBoxStyles()&&ze.test(s)&&He.test(t)&&(r=a.width,n=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=r,a.minWidth=n,a.maxWidth=o)),void 0!==s?s+"":s}function We(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){d.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ce.appendChild(d).appendChild(c);var e=i.getComputedStyle(c);r="1%"!==e.top,l=12===t(e.marginLeft),c.style.right="60%",a=36===t(e.right),n=36===t(e.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",Ce.removeChild(d),c=null}}function t(e){return Math.round(parseFloat(e))}var r,n,o,a,l,d=s.createElement("div"),c=s.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,S.extend(v,{boxSizingReliable:function(){return e(),n},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o}}))}();var Ge=/^(none|table(?!-c[ea]).+)/,Ve=/^--/,Ue={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Xe=["Webkit","Moz","ms"],Ze=s.createElement("div").style;function Ke(e){var t=S.cssProps[e];return t||(t=S.cssProps[e]=function(e){if(e in Ze)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=Xe.length;i--;)if((e=Xe[i]+t)in Ze)return e}(e)||e),t}function Je(e,t,i){var r=ne.exec(t);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):t}function Qe(e,t,i,r,n,o){var s="width"===t?1:0,a=0,l=0;if(i===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===i&&(l+=S.css(e,i+oe[s],!0,n)),r?("content"===i&&(l-=S.css(e,"padding"+oe[s],!0,n)),"margin"!==i&&(l-=S.css(e,"border"+oe[s]+"Width",!0,n))):(l+=S.css(e,"padding"+oe[s],!0,n),"padding"!==i?l+=S.css(e,"border"+oe[s]+"Width",!0,n):a+=S.css(e,"border"+oe[s]+"Width",!0,n));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))),l}function et(e,t,i){var r=Be(e),n=qe(e,t,r),o="border-box"===S.css(e,"boxSizing",!1,r),s=o;if(ze.test(n)){if(!i)return n;n="auto"}return s=s&&(v.boxSizingReliable()||n===e.style[t]),("auto"===n||!parseFloat(n)&&"inline"===S.css(e,"display",!1,r))&&(n=e["offset"+t[0].toUpperCase()+t.slice(1)],s=!0),(n=parseFloat(n)||0)+Qe(e,t,i||(o?"border":"content"),s,r,n)+"px"}function tt(e,t,i,r,n){return new tt.prototype.init(e,t,i,r,n)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=qe(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,o,s,a=X(t),l=Ve.test(t),d=e.style;if(l||(t=Ke(a)),s=S.cssHooks[t]||S.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(n=s.get(e,!1,r))?n:d[t];"string"===(o=typeof i)&&(n=ne.exec(i))&&n[1]&&(i=le(e,t,n),o="number"),null!=i&&i==i&&("number"===o&&(i+=n&&n[3]||(S.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==i||0!==t.indexOf("background")||(d[t]="inherit"),s&&"set"in s&&void 0===(i=s.set(e,i,r))||(l?d.setProperty(t,i):d[t]=i))}},css:function(e,t,i,r){var n,o,s,a=X(t);return Ve.test(t)||(t=Ke(a)),(s=S.cssHooks[t]||S.cssHooks[a])&&"get"in s&&(n=s.get(e,!0,i)),void 0===n&&(n=qe(e,t,r)),"normal"===n&&t in Ye&&(n=Ye[t]),""===i||i?(o=parseFloat(n),!0===i||isFinite(o)?o||0:n):n}}),S.each(["height","width"],function(e,t){S.cssHooks[t]={get:function(e,i,r){if(i)return!Ge.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):ae(e,Ue,function(){return et(e,t,r)})},set:function(e,i,r){var n,o=Be(e),s="border-box"===S.css(e,"boxSizing",!1,o),a=r&&Qe(e,t,r,s,o);return s&&v.scrollboxSize()===o.position&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Qe(e,t,"border",!1,o)-.5)),a&&(n=ne.exec(i))&&"px"!==(n[3]||"px")&&(e.style[t]=i,i=S.css(e,t)),Je(0,i,a)}}}),S.cssHooks.marginLeft=We(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(qe(e,"marginLeft"))||e.getBoundingClientRect().left-ae(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(e,t){S.cssHooks[e+t]={expand:function(i){for(var r=0,n={},o="string"==typeof i?i.split(" "):[i];r<4;r++)n[e+oe[r]+t]=o[r]||o[r-2]||o[0];return n}},"margin"!==e&&(S.cssHooks[e+t].set=Je)}),S.fn.extend({css:function(e,t){return G(this,function(e,t,i){var r,n,o={},s=0;if(Array.isArray(t)){for(r=Be(e),n=t.length;s<n;s++)o[t[s]]=S.css(e,t[s],!1,r);return o}return void 0!==i?S.style(e,t,i):S.css(e,t)},e,t,arguments.length>1)}}),S.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,i,r,n,o){this.elem=e,this.prop=i,this.easing=n||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[i]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,i=tt.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[S.cssProps[e.prop]]&&!S.cssHooks[e.prop]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=tt.prototype.init,S.fx.step={};var it,rt,nt=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function st(){rt&&(!1===s.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(st):i.setTimeout(st,S.fx.interval),S.fx.tick())}function at(){return i.setTimeout(function(){it=void 0}),it=Date.now()}function lt(e,t){var i,r=0,n={height:e};for(t=t?1:0;r<4;r+=2-t)n["margin"+(i=oe[r])]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function dt(e,t,i){for(var r,n=(ct.tweeners[t]||[]).concat(ct.tweeners["*"]),o=0,s=n.length;o<s;o++)if(r=n[o].call(i,t,e))return r}function ct(e,t,i){var r,n,o=0,s=ct.prefilters.length,a=S.Deferred().always(function(){delete l.elem}),l=function(){if(n)return!1;for(var t=it||at(),i=Math.max(0,d.startTime+d.duration-t),r=1-(i/d.duration||0),o=0,s=d.tweens.length;o<s;o++)d.tweens[o].run(r);return a.notifyWith(e,[d,r,i]),r<1&&s?i:(s||a.notifyWith(e,[d,1,0]),a.resolveWith(e,[d]),!1)},d=a.promise({elem:e,props:S.extend({},t),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},i),originalProperties:t,originalOptions:i,startTime:it||at(),duration:i.duration,tweens:[],createTween:function(t,i){var r=S.Tween(e,d.opts,t,i,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(r),r},stop:function(t){var i=0,r=t?d.tweens.length:0;if(n)return this;for(n=!0;i<r;i++)d.tweens[i].run(1);return t?(a.notifyWith(e,[d,1,0]),a.resolveWith(e,[d,t])):a.rejectWith(e,[d,t]),this}}),c=d.props;for(!function(e,t){var i,r,n,o,s;for(i in e)if(n=t[r=X(i)],o=e[i],Array.isArray(o)&&(n=o[1],o=e[i]=o[0]),i!==r&&(e[r]=o,delete e[i]),(s=S.cssHooks[r])&&"expand"in s)for(i in o=s.expand(o),delete e[r],o)i in e||(e[i]=o[i],t[i]=n);else t[r]=n}(c,d.opts.specialEasing);o<s;o++)if(r=ct.prefilters[o].call(d,e,c,d.opts))return b(r.stop)&&(S._queueHooks(d.elem,d.opts.queue).stop=r.stop.bind(r)),r;return S.map(c,dt,d),b(d.opts.start)&&d.opts.start.call(e,d),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always),S.fx.timer(S.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d}S.Animation=S.extend(ct,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return le(i.elem,e,ne.exec(t),i),i}]},tweener:function(e,t){b(e)?(t=e,e=["*"]):e=e.match(j);for(var i,r=0,n=e.length;r<n;r++)i=e[r],ct.tweeners[i]=ct.tweeners[i]||[],ct.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var r,n,o,s,a,l,d,c,h="width"in t||"height"in t,u=this,f={},p=e.style,g=e.nodeType&&se(e),m=J.get(e,"fxshow");for(r in i.queue||(null==(s=S._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,S.queue(e,"fx").length||s.empty.fire()})})),t)if(n=t[r],nt.test(n)){if(delete t[r],o=o||"toggle"===n,n===(g?"hide":"show")){if("show"!==n||!m||void 0===m[r])continue;g=!0}f[r]=m&&m[r]||S.style(e,r)}if((l=!S.isEmptyObject(t))||!S.isEmptyObject(f))for(r in h&&1===e.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(d=m&&m.display)&&(d=J.get(e,"display")),"none"===(c=S.css(e,"display"))&&(d?c=d:(he([e],!0),d=e.style.display||d,c=S.css(e,"display"),he([e]))),("inline"===c||"inline-block"===c&&null!=d)&&"none"===S.css(e,"float")&&(l||(u.done(function(){p.display=d}),null==d&&(c=p.display,d="none"===c?"":c)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",u.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=J.access(e,"fxshow",{display:d}),o&&(m.hidden=!g),g&&he([e],!0),u.done(function(){for(r in g||he([e]),J.remove(e,"fxshow"),f)S.style(e,r,f[r])})),l=dt(g?m[r]:0,r,u),r in m||(m[r]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ct.prefilters.unshift(e):ct.prefilters.push(e)}}),S.speed=function(e,t,i){var r=e&&"object"==typeof e?S.extend({},e):{complete:i||!i&&t||b(e)&&e,duration:e,easing:i&&t||t&&!b(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){b(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,i,r){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,i,r)},animate:function(e,t,i,r){var n=S.isEmptyObject(e),o=S.speed(t,i,r),s=function(){var t=ct(this,S.extend({},e),o);(n||J.get(this,"finish"))&&t.stop(!0)};return s.finish=s,n||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=S.timers,s=J.get(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&ot.test(n)&&r(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));!t&&i||S.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=J.get(this),r=i[e+"queue"],n=i[e+"queueHooks"],o=S.timers,s=r?r.length:0;for(i.finish=!0,S.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete i.finish})}}),S.each(["toggle","show","hide"],function(e,t){var i=S.fn[t];S.fn[t]=function(e,r,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(lt(t,!0),e,r,n)}}),S.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){S.fn[e]=function(e,i,r){return this.animate(t,e,i,r)}}),S.timers=[],S.fx.tick=function(){var e,t=0,i=S.timers;for(it=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||S.fx.stop(),it=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){rt||(rt=!0,st())},S.fx.stop=function(){rt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(e,t){return e=S.fx&&S.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,r){var n=i.setTimeout(t,e);r.stop=function(){i.clearTimeout(n)}})},function(){var e=s.createElement("input"),t=s.createElement("select").appendChild(s.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=s.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var ht,ut=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return G(this,S.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,i){var r,n,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?S.prop(e,t,i):(1===o&&S.isXMLDoc(e)||(n=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ht:void 0)),void 0!==i?null===i?void S.removeAttr(e,t):n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:(e.setAttribute(t,i+""),i):n&&"get"in n&&null!==(r=n.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&M(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,r=0,n=t&&t.match(j);if(n&&1===e.nodeType)for(;i=n[r++];)e.removeAttribute(i)}}),ht={set:function(e,t,i){return!1===t?S.removeAttr(e,i):e.setAttribute(i,i),i}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ut[t]||S.find.attr;ut[t]=function(e,t,r){var n,o,s=t.toLowerCase();return r||(o=ut[s],ut[s]=n,n=null!=i(e,t,r)?s:null,ut[s]=o),n}});var ft=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;function gt(e){return(e.match(j)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(j)||[]}S.fn.extend({prop:function(e,t){return G(this,S.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,i){var r,n,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,n=S.propHooks[t]),void 0!==i?n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:e[t]=i:n&&"get"in n&&null!==(r=n.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):ft.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(e){var t,i,r,n,o,s,a,l=0;if(b(e))return this.each(function(t){S(this).addClass(e.call(this,t,mt(this)))});if((t=vt(e)).length)for(;i=this[l++];)if(n=mt(i),r=1===i.nodeType&&" "+gt(n)+" "){for(s=0;o=t[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");n!==(a=gt(r))&&i.setAttribute("class",a)}return this},removeClass:function(e){var t,i,r,n,o,s,a,l=0;if(b(e))return this.each(function(t){S(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=vt(e)).length)for(;i=this[l++];)if(n=mt(i),r=1===i.nodeType&&" "+gt(n)+" "){for(s=0;o=t[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");n!==(a=gt(r))&&i.setAttribute("class",a)}return this},toggleClass:function(e,t){var i=typeof e,r="string"===i||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):b(e)?this.each(function(i){S(this).toggleClass(e.call(this,i,mt(this),t),t)}):this.each(function(){var t,n,o,s;if(r)for(n=0,o=S(this),s=vt(e);t=s[n++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==i||((t=mt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))})},hasClass:function(e){var t,i,r=0;for(t=" "+e+" ";i=this[r++];)if(1===i.nodeType&&(" "+gt(mt(i))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;S.fn.extend({val:function(e){var t,i,r,n=this[0];return arguments.length?(r=b(e),this.each(function(i){var n;1===this.nodeType&&(null==(n=r?e.call(this,i,S(this).val()):e)?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=S.map(n,function(e){return null==e?"":e+""})),(t=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))})):n?(t=S.valHooks[n.type]||S.valHooks[n.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(n,"value"))?i:"string"==typeof(i=n.value)?i.replace(bt,""):null==i?"":i:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:gt(S.text(e))}},select:{get:function(e){var t,i,r,n=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:n.length;for(r=o<0?l:s?o:0;r<l;r++)if(((i=n[r]).selected||r===o)&&!i.disabled&&(!i.parentNode.disabled||!M(i.parentNode,"optgroup"))){if(t=S(i).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var i,r,n=e.options,o=S.makeArray(t),s=n.length;s--;)((r=n[s]).selected=S.inArray(S.valHooks.option.get(r),o)>-1)&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=S.inArray(S(e).val(),t)>-1}},v.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in i;var yt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,r,n){var o,a,l,d,c,h,u,f,g=[r||s],m=p.call(e,"type")?e.type:e,v=p.call(e,"namespace")?e.namespace.split("."):[];if(a=f=l=r=r||s,3!==r.nodeType&&8!==r.nodeType&&!yt.test(m+S.event.triggered)&&(m.indexOf(".")>-1&&(m=(v=m.split(".")).shift(),v.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[S.expando]?e:new S.Event(m,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:S.makeArray(t,[e]),u=S.event.special[m]||{},n||!u.trigger||!1!==u.trigger.apply(r,t))){if(!n&&!u.noBubble&&!y(r)){for(d=u.delegateType||m,yt.test(d+m)||(a=a.parentNode);a;a=a.parentNode)g.push(a),l=a;l===(r.ownerDocument||s)&&g.push(l.defaultView||l.parentWindow||i)}for(o=0;(a=g[o++])&&!e.isPropagationStopped();)f=a,e.type=o>1?d:u.bindType||m,(h=(J.get(a,"events")||{})[e.type]&&J.get(a,"handle"))&&h.apply(a,t),(h=c&&a[c])&&h.apply&&Z(a)&&(e.result=h.apply(a,t),!1===e.result&&e.preventDefault());return e.type=m,n||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(g.pop(),t)||!Z(r)||c&&b(r[m])&&!y(r)&&((l=r[c])&&(r[c]=null),S.event.triggered=m,e.isPropagationStopped()&&f.addEventListener(m,wt),r[m](),e.isPropagationStopped()&&f.removeEventListener(m,wt),S.event.triggered=void 0,l&&(r[c]=l)),e.result}},simulate:function(e,t,i){var r=S.extend(new S.Event,i,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return S.event.trigger(e,t,i,!0)}}),v.focusin||S.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){S.event.simulate(t,e.target,S.event.fix(e))};S.event.special[t]={setup:function(){var r=this.ownerDocument||this,n=J.access(r,t);n||r.addEventListener(e,i,!0),J.access(r,t,(n||0)+1)},teardown:function(){var r=this.ownerDocument||this,n=J.access(r,t)-1;n?J.access(r,t,n):(r.removeEventListener(e,i,!0),J.remove(r,t))}}});var xt=i.location,Ct=Date.now(),St=/\?/;S.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+e),t};var kt=/\[\]$/,Dt=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function Nt(e,t,i,r){var n;if(Array.isArray(t))S.each(t,function(t,n){i||kt.test(e)?r(e,n):Nt(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,i,r)});else if(i||"object"!==C(t))r(e,t);else for(n in t)Nt(e+"["+n+"]",t[n],i,r)}S.param=function(e,t){var i,r=[],n=function(e,t){var i=b(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){n(this.name,this.value)});else for(i in e)Nt(i,e[i],t,n);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&At.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!ue.test(e))}).map(function(e,t){var i=S(this).val();return null==i?null:Array.isArray(i)?S.map(i,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:i.replace(Dt,"\r\n")}}).get()}});var _t=/%20/g,Mt=/#.*$/,Et=/([?&])_=[^&]*/,$t=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,It=/^\/\//,Rt={},Ft={},Lt="*/".concat("*"),jt=s.createElement("a");function Pt(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var r,n=0,o=t.toLowerCase().match(j)||[];if(b(i))for(;r=o[n++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(i)):(e[r]=e[r]||[]).push(i)}}function zt(e,t,i,r){var n={},o=e===Ft;function s(a){var l;return n[a]=!0,S.each(e[a]||[],function(e,a){var d=a(t,i,r);return"string"!=typeof d||o||n[d]?o?!(l=d):void 0:(t.dataTypes.unshift(d),s(d),!1)}),l}return s(t.dataTypes[0])||!n["*"]&&s("*")}function Bt(e,t){var i,r,n=S.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((n[i]?e:r||(r={}))[i]=t[i]);return r&&S.extend(!0,e,r),e}jt.href=xt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Lt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Bt(Bt(e,S.ajaxSettings),t):Bt(S.ajaxSettings,e)},ajaxPrefilter:Pt(Rt),ajaxTransport:Pt(Ft),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,n,o,a,l,d,c,h,u,f,p=S.ajaxSetup({},t),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?S(g):S.event,v=S.Deferred(),b=S.Callbacks("once memory"),y=p.statusCode||{},w={},x={},C="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=$t.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)k.always(e[k.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||C;return r&&r.abort(t),D(0,t),this}};if(v.promise(k),p.url=((e||p.url||xt.href)+"").replace(It,xt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(j)||[""],null==p.crossDomain){d=s.createElement("a");try{d.href=p.url,d.href=d.href,p.crossDomain=jt.protocol+"//"+jt.host!=d.protocol+"//"+d.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=S.param(p.data,p.traditional)),zt(Rt,p,t,k),c)return k;for(u in(h=S.event&&p.global)&&0==S.active++&&S.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ot.test(p.type),n=p.url.replace(Mt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(_t,"+")):(f=p.url.slice(n.length),p.data&&(p.processData||"string"==typeof p.data)&&(n+=(St.test(n)?"&":"?")+p.data,delete p.data),!1===p.cache&&(n=n.replace(Et,"$1"),f=(St.test(n)?"&":"?")+"_="+Ct+++f),p.url=n+f),p.ifModified&&(S.lastModified[n]&&k.setRequestHeader("If-Modified-Since",S.lastModified[n]),S.etag[n]&&k.setRequestHeader("If-None-Match",S.etag[n])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Lt+"; q=0.01":""):p.accepts["*"]),p.headers)k.setRequestHeader(u,p.headers[u]);if(p.beforeSend&&(!1===p.beforeSend.call(g,k,p)||c))return k.abort();if(C="abort",b.add(p.complete),k.done(p.success),k.fail(p.error),r=zt(Ft,p,t,k)){if(k.readyState=1,h&&m.trigger("ajaxSend",[k,p]),c)return k;p.async&&p.timeout>0&&(l=i.setTimeout(function(){k.abort("timeout")},p.timeout));try{c=!1,r.send(w,D)}catch(e){if(c)throw e;D(-1,e)}}else D(-1,"No Transport");function D(e,t,s,a){var d,u,f,w,x,C=t;c||(c=!0,l&&i.clearTimeout(l),r=void 0,o=a||"",k.readyState=e>0?4:0,d=e>=200&&e<300||304===e,s&&(w=function(e,t,i){for(var r,n,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(n in a)if(a[n]&&a[n].test(r)){l.unshift(n);break}if(l[0]in i)o=l[0];else{for(n in i){if(!l[0]||e.converters[n+" "+l[0]]){o=n;break}s||(s=n)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),i[o]}(p,k,s)),w=function(e,t,i,r){var n,o,s,a,l,d={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)d[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=d[l+" "+o]||d["* "+o]))for(n in d)if((a=n.split(" "))[1]===o&&(s=d[l+" "+a[0]]||d["* "+a[0]])){!0===s?s=d[n]:!0!==d[n]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,w,k,d),d?(p.ifModified&&((x=k.getResponseHeader("Last-Modified"))&&(S.lastModified[n]=x),(x=k.getResponseHeader("etag"))&&(S.etag[n]=x)),204===e||"HEAD"===p.type?C="nocontent":304===e?C="notmodified":(C=w.state,u=w.data,d=!(f=w.error))):(f=C,!e&&C||(C="error",e<0&&(e=0))),k.status=e,k.statusText=(t||C)+"",d?v.resolveWith(g,[u,C,k]):v.rejectWith(g,[k,C,f]),k.statusCode(y),y=void 0,h&&m.trigger(d?"ajaxSuccess":"ajaxError",[k,p,d?u:f]),b.fireWith(g,[k,C]),h&&(m.trigger("ajaxComplete",[k,p]),--S.active||S.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,i){return S.get(e,t,i,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,t){S[t]=function(e,i,r,n){return b(i)&&(n=n||r,r=i,i=void 0),S.ajax(S.extend({url:e,type:t,dataType:n,data:i,success:r},S.isPlainObject(e)&&e))}}),S._evalUrl=function(e){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(b(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return b(e)?this.each(function(t){S(this).wrapInner(e.call(this,t))}):this.each(function(){var t=S(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=b(e);return this.each(function(i){S(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Ht={0:200,1223:204},qt=S.ajaxSettings.xhr();v.cors=!!qt&&"withCredentials"in qt,v.ajax=qt=!!qt,S.ajaxTransport(function(e){var t,r;if(v.cors||qt&&!e.crossDomain)return{send:function(n,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)a.setRequestHeader(s,n[s]);t=function(e){return function(){t&&(t=r=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ht[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),r=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&i.setTimeout(function(){t&&r()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(e){var t,i;if(e.crossDomain)return{send:function(r,n){t=S("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&n("error"===e.type?404:200,e.type)}),s.head.appendChild(t[0])},abort:function(){i&&i()}}});var Wt,Gt=[],Vt=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||S.expando+"_"+Ct++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,r){var n,o,s,a=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=b(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Vt,"$1"+n):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return s||S.error(n+" was not called"),s[0]},e.dataTypes[0]="json",o=i[n],i[n]=function(){s=arguments},r.always(function(){void 0===o?S(i).removeProp(n):i[n]=o,e[n]&&(e.jsonpCallback=t.jsonpCallback,Gt.push(n)),s&&b(o)&&o(s[0]),s=o=void 0}),"script"}),v.createHTMLDocument=((Wt=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Wt.childNodes.length),S.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(v.createHTMLDocument?((r=(t=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,t.head.appendChild(r)):t=s),n=E.exec(e),o=!i&&[],n?[t.createElement(n[1])]:(n=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],n.childNodes)));var r,n,o},S.fn.load=function(e,t,i){var r,n,o,s=this,a=e.indexOf(" ");return a>-1&&(r=gt(e.slice(a)),e=e.slice(0,a)),b(t)?(i=t,t=void 0):t&&"object"==typeof t&&(n="POST"),s.length>0&&S.ajax({url:e,type:n||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(i&&function(e,t){s.each(function(){i.apply(this,o||[e.responseText,t,e])})}),this},S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.expr.pseudos.animated=function(e){return S.grep(S.timers,function(t){return e===t.elem}).length},S.offset={setOffset:function(e,t,i){var r,n,o,s,a,l,d=S.css(e,"position"),c=S(e),h={};"static"===d&&(e.style.position="relative"),a=c.offset(),o=S.css(e,"top"),l=S.css(e,"left"),("absolute"===d||"fixed"===d)&&(o+l).indexOf("auto")>-1?(s=(r=c.position()).top,n=r.left):(s=parseFloat(o)||0,n=parseFloat(l)||0),b(t)&&(t=t.call(e,i,S.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+n),"using"in t?t.using.call(e,h):c.css(h)}},S.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){S.offset.setOffset(this,e,t)});var t,i,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),i=r.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,r=this[0],n={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),i=r.ownerDocument,e=r.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===S.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((n=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),n.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-n.top-S.css(r,"marginTop",!0),left:t.left-n.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===S.css(e,"position");)e=e.offsetParent;return e||Ce})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;S.fn[e]=function(r){return G(this,function(e,r,n){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===n)return o?o[t]:e[r];o?o.scrollTo(i?o.pageXOffset:n,i?n:o.pageYOffset):e[r]=n},e,r,arguments.length)}}),S.each(["top","left"],function(e,t){S.cssHooks[t]=We(v.pixelPosition,function(e,i){if(i)return i=qe(e,t),ze.test(i)?S(e).position()[t]+"px":i})}),S.each({Height:"height",Width:"width"},function(e,t){S.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,r){S.fn[r]=function(n,o){var s=arguments.length&&(i||"boolean"!=typeof n),a=i||(!0===n||!0===o?"margin":"border");return G(this,function(t,i,n){var o;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===n?S.css(t,i,a):S.style(t,i,n,a)},t,s?n:void 0,s)}})}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){S.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),S.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,r){return this.on(t,e,i,r)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),S.proxy=function(e,t){var i,r,n;if("string"==typeof t&&(i=e[t],t=e,e=i),b(e))return r=l.call(arguments,2),(n=function(){return e.apply(t||this,r.concat(l.call(arguments)))}).guid=e.guid=e.guid||S.guid++,n},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=M,S.isFunction=b,S.isWindow=y,S.camelCase=X,S.type=C,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(r=function(){return S}.apply(t,[]))||(e.exports=r);var Ut=i.jQuery,Yt=i.$;return S.noConflict=function(e){return i.$===S&&(i.$=Yt),e&&i.jQuery===S&&(i.jQuery=Ut),S},n||(i.jQuery=i.$=S),S})},"8U58":function(e,t,i){var r;r=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,i=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),n=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),s=r||n||o,a=s&&(r?document.documentMode||6:+(o||n)[1]),l=!o&&/WebKit\//.test(e),d=l&&/Qt\/\d+\.\d+/.test(e),c=!o&&/Chrome\//.test(e),h=/Opera\//.test(e),u=/Apple Computer/.test(navigator.vendor),f=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),p=/PhantomJS/.test(e),g=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),m=/Android/.test(e),v=g||m||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),b=g||/Mac/.test(t),y=/\bCrOS\b/.test(e),w=/win/i.test(t),x=h&&e.match(/Version\/(\d*\.\d*)/);x&&(x=Number(x[1])),x&&x>=15&&(h=!1,l=!0);var C=b&&(d||h&&(null==x||x<12.11)),S=i||s&&a>=9;function k(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var D,T=function(e,t){var i=e.className,r=k(t).exec(i);if(r){var n=i.slice(r.index+r[0].length);e.className=i.slice(0,r.index)+(n?r[1]+n:"")}};function A(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function N(e,t){return A(e).appendChild(t)}function _(e,t,i,r){var n=document.createElement(e);if(i&&(n.className=i),r&&(n.style.cssText=r),"string"==typeof t)n.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)n.appendChild(t[o]);return n}function M(e,t,i,r){var n=_(e,t,i,r);return n.setAttribute("role","presentation"),n}function E(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function $(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function O(e,t){var i=e.className;k(t).test(i)||(e.className+=(i?" ":"")+t)}function I(e,t){for(var i=e.split(" "),r=0;r<i.length;r++)i[r]&&!k(i[r]).test(t)&&(t+=" "+i[r]);return t}D=document.createRange?function(e,t,i,r){var n=document.createRange();return n.setEnd(r||e,i),n.setStart(e,t),n}:function(e,t,i){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",t),r};var R=function(e){e.select()};function F(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function L(e,t,i){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===i&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function j(e,t,i,r,n){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,s=n||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t)return s+(t-o);s+=a-o,s+=i-s%i,o=a+1}}g?R=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:s&&(R=function(e){try{e.select()}catch(e){}});var P=function(){this.id=null};function z(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}P.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var B=30,H={toString:function(){return"CodeMirror.Pass"}},q={scroll:!1},W={origin:"*mouse"},G={origin:"+move"};function V(e,t,i){for(var r=0,n=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var s=o-r;if(o==e.length||n+s>=t)return r+Math.min(s,t-n);if(n+=o-r,r=o+1,(n+=i-n%i)>=t)return r}}var U=[""];function Y(e){for(;U.length<=e;)U.push(X(U)+" ");return U[e]}function X(e){return e[e.length-1]}function Z(e,t){for(var i=[],r=0;r<e.length;r++)i[r]=t(e[r],r);return i}function K(){}function J(e,t){var i;return Object.create?i=Object.create(e):(K.prototype=e,i=new K),t&&L(t,i),i}var Q=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ee(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Q.test(e))}function te(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ee(e))||t.test(e):ee(e)}function ie(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var re=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ne(e){return e.charCodeAt(0)>=768&&re.test(e)}function oe(e,t,i){for(;(i<0?t>0:t<e.length)&&ne(e.charAt(t));)t+=i;return t}function se(e,t,i){for(var r=t>i?-1:1;;){if(t==i)return t;var n=(t+i)/2,o=r<0?Math.ceil(n):Math.floor(n);if(o==t)return e(o)?t:i;e(o)?i=o:t=o+r}}function ae(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var i=e;!i.lines;)for(var r=0;;++r){var n=i.children[r],o=n.chunkSize();if(t<o){i=n;break}t-=o}return i.lines[t]}function le(e,t,i){var r=[],n=t.line;return e.iter(t.line,i.line+1,function(e){var o=e.text;n==i.line&&(o=o.slice(0,i.ch)),n==t.line&&(o=o.slice(t.ch)),r.push(o),++n}),r}function de(e,t,i){var r=[];return e.iter(t,i,function(e){r.push(e.text)}),r}function ce(e,t){var i=t-e.height;if(i)for(var r=e;r;r=r.parent)r.height+=i}function he(e){if(null==e.parent)return null;for(var t=e.parent,i=z(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var n=0;r.children[n]!=t;++n)i+=r.children[n].chunkSize();return i+t.first}function ue(e,t){var i=e.first;e:do{for(var r=0;r<e.children.length;++r){var n=e.children[r],o=n.height;if(t<o){e=n;continue e}t-=o,i+=n.chunkSize()}return i}while(!e.lines);for(var s=0;s<e.lines.length;++s){var a=e.lines[s].height;if(t<a)break;t-=a}return i+s}function fe(e,t){return t>=e.first&&t<e.first+e.size}function pe(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ge(e,t,i){if(void 0===i&&(i=null),!(this instanceof ge))return new ge(e,t,i);this.line=e,this.ch=t,this.sticky=i}function me(e,t){return e.line-t.line||e.ch-t.ch}function ve(e,t){return e.sticky==t.sticky&&0==me(e,t)}function be(e){return ge(e.line,e.ch)}function ye(e,t){return me(e,t)<0?t:e}function we(e,t){return me(e,t)<0?e:t}function xe(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Ce(e,t){if(t.line<e.first)return ge(e.first,0);var i=e.first+e.size-1;return t.line>i?ge(i,ae(e,i).text.length):function(e,t){var i=e.ch;return null==i||i>t?ge(e.line,t):i<0?ge(e.line,0):e}(t,ae(e,t.line).text.length)}function Se(e,t){for(var i=[],r=0;r<t.length;r++)i[r]=Ce(e,t[r]);return i}var ke=!1,De=!1;function Te(e,t,i){this.marker=e,this.from=t,this.to=i}function Ae(e,t){if(e)for(var i=0;i<e.length;++i){var r=e[i];if(r.marker==t)return r}}function Ne(e,t){for(var i,r=0;r<e.length;++r)e[r]!=t&&(i||(i=[])).push(e[r]);return i}function _e(e,t){if(t.full)return null;var i=fe(e,t.from.line)&&ae(e,t.from.line).markedSpans,r=fe(e,t.to.line)&&ae(e,t.to.line).markedSpans;if(!i&&!r)return null;var n=t.from.ch,o=t.to.ch,s=0==me(t.from,t.to),a=function(e,t,i){var r;if(e)for(var n=0;n<e.length;++n){var o=e[n],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==s.type&&(!i||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Te(s,o.from,a?null:o.to))}}return r}(i,n,s),l=function(e,t,i){var r;if(e)for(var n=0;n<e.length;++n){var o=e[n],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==s.type&&(!i||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Te(s,a?null:o.from-t,null==o.to?null:o.to-t))}}return r}(r,o,s),d=1==t.text.length,c=X(t.text).length+(d?n:0);if(a)for(var h=0;h<a.length;++h){var u=a[h];if(null==u.to){var f=Ae(l,u.marker);f?d&&(u.to=null==f.to?null:f.to+c):u.to=n}}if(l)for(var p=0;p<l.length;++p){var g=l[p];if(null!=g.to&&(g.to+=c),null==g.from)Ae(a,g.marker)||(g.from=c,d&&(a||(a=[])).push(g));else g.from+=c,d&&(a||(a=[])).push(g)}a&&(a=Me(a)),l&&l!=a&&(l=Me(l));var m=[a];if(!d){var v,b=t.text.length-2;if(b>0&&a)for(var y=0;y<a.length;++y)null==a[y].to&&(v||(v=[])).push(new Te(a[y].marker,null,null));for(var w=0;w<b;++w)m.push(v);m.push(l)}return m}function Me(e){for(var t=0;t<e.length;++t){var i=e[t];null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ee(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function $e(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function Oe(e){return e.inclusiveLeft?-1:0}function Ie(e){return e.inclusiveRight?1:0}function Re(e,t){var i=e.lines.length-t.lines.length;if(0!=i)return i;var r=e.find(),n=t.find(),o=me(r.from,n.from)||Oe(e)-Oe(t);if(o)return-o;var s=me(r.to,n.to)||Ie(e)-Ie(t);return s||t.id-e.id}function Fe(e,t){var i,r=De&&e.markedSpans;if(r)for(var n=void 0,o=0;o<r.length;++o)(n=r[o]).marker.collapsed&&null==(t?n.from:n.to)&&(!i||Re(i,n.marker)<0)&&(i=n.marker);return i}function Le(e){return Fe(e,!0)}function je(e){return Fe(e,!1)}function Pe(e,t){var i,r=De&&e.markedSpans;if(r)for(var n=0;n<r.length;++n){var o=r[n];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!i||Re(i,o.marker)<0)&&(i=o.marker)}return i}function ze(e,t,i,r,n){var o=ae(e,t),s=De&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var d=l.marker.find(0),c=me(d.from,i)||Oe(l.marker)-Oe(n),h=me(d.to,r)||Ie(l.marker)-Ie(n);if(!(c>=0&&h<=0||c<=0&&h>=0)&&(c<=0&&(l.marker.inclusiveRight&&n.inclusiveLeft?me(d.to,i)>=0:me(d.to,i)>0)||c>=0&&(l.marker.inclusiveRight&&n.inclusiveLeft?me(d.from,r)<=0:me(d.from,r)<0)))return!0}}}function Be(e){for(var t;t=Le(e);)e=t.find(-1,!0).line;return e}function He(e,t){var i=ae(e,t),r=Be(i);return i==r?t:he(r)}function qe(e,t){if(t>e.lastLine())return t;var i,r=ae(e,t);if(!We(e,r))return t;for(;i=je(r);)r=i.find(1,!0).line;return he(r)+1}function We(e,t){var i=De&&t.markedSpans;if(i)for(var r=void 0,n=0;n<i.length;++n)if((r=i[n]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Ge(e,t,r))return!0}}function Ge(e,t,i){if(null==i.to){var r=i.marker.find(1,!0);return Ge(e,r.line,Ae(r.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(var n=void 0,o=0;o<t.markedSpans.length;++o)if((n=t.markedSpans[o]).marker.collapsed&&!n.marker.widgetNode&&n.from==i.to&&(null==n.to||n.to!=i.from)&&(n.marker.inclusiveLeft||i.marker.inclusiveRight)&&Ge(e,t,n))return!0}function Ve(e){for(var t=0,i=(e=Be(e)).parent,r=0;r<i.lines.length;++r){var n=i.lines[r];if(n==e)break;t+=n.height}for(var o=i.parent;o;o=(i=o).parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==i)break;t+=a.height}return t}function Ue(e){if(0==e.height)return 0;for(var t,i=e.text.length,r=e;t=Le(r);){var n=t.find(0,!0);r=n.from.line,i+=n.from.ch-n.to.ch}for(r=e;t=je(r);){var o=t.find(0,!0);i-=r.text.length-o.from.ch,i+=(r=o.to.line).text.length-o.to.ch}return i}function Ye(e){var t=e.display,i=e.doc;t.maxLine=ae(i,i.first),t.maxLineLength=Ue(t.maxLine),t.maxLineChanged=!0,i.iter(function(e){var i=Ue(e);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=e)})}var Xe=null;function Ze(e,t,i){var r;Xe=null;for(var n=0;n<e.length;++n){var o=e[n];if(o.from<t&&o.to>t)return n;o.to==t&&(o.from!=o.to&&"before"==i?r=n:Xe=n),o.from==t&&(o.from!=o.to&&"before"!=i?r=n:Xe=n)}return null!=r?r:Xe}var Ke=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";var i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,n=/[LRr]/,o=/[Lb1n]/,s=/[1n]/;function a(e,t,i){this.level=e,this.from=t,this.to=i}return function(l,d){var c="ltr"==d?"L":"R";if(0==l.length||"ltr"==d&&!i.test(l))return!1;for(var h,u=l.length,f=[],p=0;p<u;++p)f.push((h=l.charCodeAt(p))<=247?e.charAt(h):1424<=h&&h<=1524?"R":1536<=h&&h<=1785?t.charAt(h-1536):1774<=h&&h<=2220?"r":8192<=h&&h<=8203?"w":8204==h?"b":"L");for(var g=0,m=c;g<u;++g){var v=f[g];"m"==v?f[g]=m:m=v}for(var b=0,y=c;b<u;++b){var w=f[b];"1"==w&&"r"==y?f[b]="n":n.test(w)&&(y=w,"r"==w&&(f[b]="R"))}for(var x=1,C=f[0];x<u-1;++x){var S=f[x];"+"==S&&"1"==C&&"1"==f[x+1]?f[x]="1":","!=S||C!=f[x+1]||"1"!=C&&"n"!=C||(f[x]=C),C=S}for(var k=0;k<u;++k){var D=f[k];if(","==D)f[k]="N";else if("%"==D){var T=void 0;for(T=k+1;T<u&&"%"==f[T];++T);for(var A=k&&"!"==f[k-1]||T<u&&"1"==f[T]?"1":"N",N=k;N<T;++N)f[N]=A;k=T-1}}for(var _=0,M=c;_<u;++_){var E=f[_];"L"==M&&"1"==E?f[_]="L":n.test(E)&&(M=E)}for(var $=0;$<u;++$)if(r.test(f[$])){var O=void 0;for(O=$+1;O<u&&r.test(f[O]);++O);for(var I="L"==($?f[$-1]:c),R=I==("L"==(O<u?f[O]:c))?I?"L":"R":c,F=$;F<O;++F)f[F]=R;$=O-1}for(var L,j=[],P=0;P<u;)if(o.test(f[P])){var z=P;for(++P;P<u&&o.test(f[P]);++P);j.push(new a(0,z,P))}else{var B=P,H=j.length;for(++P;P<u&&"L"!=f[P];++P);for(var q=B;q<P;)if(s.test(f[q])){B<q&&j.splice(H,0,new a(1,B,q));var W=q;for(++q;q<P&&s.test(f[q]);++q);j.splice(H,0,new a(2,W,q)),B=q}else++q;B<P&&j.splice(H,0,new a(1,B,P))}return"ltr"==d&&(1==j[0].level&&(L=l.match(/^\s+/))&&(j[0].from=L[0].length,j.unshift(new a(0,0,L[0].length))),1==X(j).level&&(L=l.match(/\s+$/))&&(X(j).to-=L[0].length,j.push(new a(0,u-L[0].length,u)))),"rtl"==d?j.reverse():j}}();function Je(e,t){var i=e.order;return null==i&&(i=e.order=Ke(e.text,t)),i}var Qe=[],et=function(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||Qe).concat(i)}};function tt(e,t){return e._handlers&&e._handlers[t]||Qe}function it(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else{var r=e._handlers,n=r&&r[t];if(n){var o=z(n,i);o>-1&&(r[t]=n.slice(0,o).concat(n.slice(o+1)))}}}function rt(e,t){var i=tt(e,t);if(i.length)for(var r=Array.prototype.slice.call(arguments,2),n=0;n<i.length;++n)i[n].apply(null,r)}function nt(e,t,i){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),rt(e,i||t.type,e,t),ct(t)||t.codemirrorIgnore}function ot(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var i=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==z(i,t[r])&&i.push(t[r])}function st(e,t){return tt(e,t).length>0}function at(e){e.prototype.on=function(e,t){et(this,e,t)},e.prototype.off=function(e,t){it(this,e,t)}}function lt(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function dt(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ct(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ht(e){lt(e),dt(e)}function ut(e){return e.target||e.srcElement}function ft(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),b&&e.ctrlKey&&1==t&&(t=3),t}var pt,gt,mt=function(){if(s&&a<9)return!1;var e=_("div");return"draggable"in e||"dragDrop"in e}();function vt(e){if(null==pt){var t=_("span","​");N(e,_("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(pt=t.offsetWidth<=1&&t.offsetHeight>2&&!(s&&a<8))}var i=pt?_("span","​"):_("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function bt(e){if(null!=gt)return gt;var t=N(e,document.createTextNode("AخA")),i=D(t,0,1).getBoundingClientRect(),r=D(t,1,2).getBoundingClientRect();return A(e),!(!i||i.left==i.right)&&(gt=r.right-i.right<3)}var yt,wt=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,i=[],r=e.length;t<=r;){var n=e.indexOf("\n",t);-1==n&&(n=e.length);var o=e.slice(t,"\r"==e.charAt(n-1)?n-1:n),s=o.indexOf("\r");-1!=s?(i.push(o.slice(0,s)),t+=s+1):(i.push(o),t=n+1)}return i}:function(e){return e.split(/\r\n?|\n/)},xt=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ct="oncopy"in(yt=_("div"))||(yt.setAttribute("oncopy","return;"),"function"==typeof yt.oncopy),St=null;var kt={},Dt={};function Tt(e){if("string"==typeof e&&Dt.hasOwnProperty(e))e=Dt[e];else if(e&&"string"==typeof e.name&&Dt.hasOwnProperty(e.name)){var t=Dt[e.name];"string"==typeof t&&(t={name:t}),(e=J(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Tt("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Tt("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function At(e,t){t=Tt(t);var i=kt[t.name];if(!i)return At(e,"text/plain");var r=i(e,t);if(Nt.hasOwnProperty(t.name)){var n=Nt[t.name];for(var o in n)n.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=n[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)r[s]=t.modeProps[s];return r}var Nt={};function _t(e,t){L(t,Nt.hasOwnProperty(e)?Nt[e]:Nt[e]={})}function Mt(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var i={};for(var r in t){var n=t[r];n instanceof Array&&(n=n.concat([])),i[r]=n}return i}function Et(e,t){for(var i;e.innerMode&&(i=e.innerMode(t))&&i.mode!=e;)t=i.state,e=i.mode;return i||{mode:e,state:t}}function $t(e,t,i){return!e.startState||e.startState(t,i)}var Ot=function(e,t,i){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};Ot.prototype.eol=function(){return this.pos>=this.string.length},Ot.prototype.sol=function(){return this.pos==this.lineStart},Ot.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ot.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ot.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Ot.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ot.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ot.prototype.skipToEnd=function(){this.pos=this.string.length},Ot.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ot.prototype.backUp=function(e){this.pos-=e},Ot.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=j(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?j(this.string,this.lineStart,this.tabSize):0)},Ot.prototype.indentation=function(){return j(this.string,null,this.tabSize)-(this.lineStart?j(this.string,this.lineStart,this.tabSize):0)},Ot.prototype.match=function(e,t,i){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var n=function(e){return i?e.toLowerCase():e};if(n(this.string.substr(this.pos,e.length))==n(e))return!1!==t&&(this.pos+=e.length),!0},Ot.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ot.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ot.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ot.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var It=function(e,t){this.state=e,this.lookAhead=t},Rt=function(e,t,i,r){this.state=t,this.doc=e,this.line=i,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function Ft(e,t,i,r){var n=[e.state.modeGen],o={};Gt(e,t.text,e.doc.mode,i,function(e,t){return n.push(e,t)},o,r);for(var s=i.state,a=function(r){i.baseTokens=n;var a=e.state.overlays[r],l=1,d=0;i.state=!0,Gt(e,t.text,a.mode,i,function(e,t){for(var i=l;d<e;){var r=n[l];r>e&&n.splice(l,1,e,n[l+1],r),l+=2,d=Math.min(e,r)}if(t)if(a.opaque)n.splice(i,l-i,e,"overlay "+t),l=i+2;else for(;i<l;i+=2){var o=n[i+1];n[i+1]=(o?o+" ":"")+"overlay "+t}},o),i.state=s,i.baseTokens=null,i.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)a(l);return{styles:n,classes:o.bgClass||o.textClass?o:null}}function Lt(e,t,i){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=jt(e,he(t)),n=t.text.length>e.options.maxHighlightLength&&Mt(e.doc.mode,r.state),o=Ft(e,t,r);n&&(r.state=n),t.stateAfter=r.save(!n),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),i===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function jt(e,t,i){var r=e.doc,n=e.display;if(!r.mode.startState)return new Rt(r,!0,t);var o=function(e,t,i){for(var r,n,o=e.doc,s=i?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=ae(o,a-1),d=l.stateAfter;if(d&&(!i||a+(d instanceof It?d.lookAhead:0)<=o.modeFrontier))return a;var c=j(l.text,null,e.options.tabSize);(null==n||r>c)&&(n=a-1,r=c)}return n}(e,t,i),s=o>r.first&&ae(r,o-1).stateAfter,a=s?Rt.fromSaved(r,s,o):new Rt(r,$t(r.mode),o);return r.iter(o,t,function(i){Pt(e,i.text,a);var r=a.line;i.stateAfter=r==t-1||r%5==0||r>=n.viewFrom&&r<n.viewTo?a.save():null,a.nextLine()}),i&&(r.modeFrontier=a.line),a}function Pt(e,t,i,r){var n=e.doc.mode,o=new Ot(t,e.options.tabSize,i);for(o.start=o.pos=r||0,""==t&&zt(n,i.state);!o.eol();)Bt(n,o,i.state),o.start=o.pos}function zt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var i=Et(e,t);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function Bt(e,t,i,r){for(var n=0;n<10;n++){r&&(r[0]=Et(e,i).mode);var o=e.token(t,i);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}Rt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Rt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Rt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Rt.fromSaved=function(e,t,i){return t instanceof It?new Rt(e,Mt(e.mode,t.state),i,t.lookAhead):new Rt(e,Mt(e.mode,t),i)},Rt.prototype.save=function(e){var t=!1!==e?Mt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new It(t,this.maxLookAhead):t};var Ht=function(e,t,i){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=i};function qt(e,t,i,r){var n,o,s=e.doc,a=s.mode,l=ae(s,(t=Ce(s,t)).line),d=jt(e,t.line,i),c=new Ot(l.text,e.options.tabSize,d);for(r&&(o=[]);(r||c.pos<t.ch)&&!c.eol();)c.start=c.pos,n=Bt(a,c,d.state),r&&o.push(new Ht(c,n,Mt(s.mode,d.state)));return r?o:new Ht(c,n,d.state)}function Wt(e,t){if(e)for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var r=i[1]?"bgClass":"textClass";null==t[r]?t[r]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+i[2])}return e}function Gt(e,t,i,r,n,o,s){var a=i.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,d=0,c=null,h=new Ot(t,e.options.tabSize,r),u=e.options.addModeClass&&[null];for(""==t&&Wt(zt(i,r.state),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(a=!1,s&&Pt(e,t,r,h.pos),h.pos=t.length,l=null):l=Wt(Bt(i,h,r.state,u),o),u){var f=u[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||c!=l){for(;d<h.start;)n(d=Math.min(h.start,d+5e3),c);c=l}h.start=h.pos}for(;d<h.pos;){var p=Math.min(h.pos,d+5e3);n(p,c),d=p}}var Vt=function(e,t,i){this.text=e,$e(this,t),this.height=i?i(this):1};function Ut(e){e.parent=null,Ee(e)}Vt.prototype.lineNo=function(){return he(this)},at(Vt);var Yt={},Xt={};function Zt(e,t){if(!e||/^\s*$/.test(e))return null;var i=t.addModeClass?Xt:Yt;return i[e]||(i[e]=e.replace(/\S+/g,"cm-$&"))}function Kt(e,t){var i=M("span",null,null,l?"padding-right: .1px":null),r={pre:M("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(s||l)&&e.getOption("lineWrapping")};t.measure={};for(var n=0;n<=(t.rest?t.rest.length:0);n++){var o=n?t.rest[n-1]:t.line,a=void 0;r.pos=0,r.addToken=Qt,bt(e.display.measure)&&(a=Je(o,e.doc.direction))&&(r.addToken=ei(r.addToken,a)),r.map=[],ii(o,r,Lt(e,o,t!=e.display.externalMeasured&&he(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=I(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=I(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(vt(e.display.measure))),0==n?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var d=r.content.lastChild;(/\bcm-tab\b/.test(d.className)||d.querySelector&&d.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return rt(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=I(r.pre.className,r.textClass||"")),r}function Jt(e){var t=_("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Qt(e,t,i,r,n,o,l){if(t){var d,c=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var i=t,r="",n=0;n<e.length;n++){var o=e.charAt(n);" "!=o||!i||n!=e.length-1&&32!=e.charCodeAt(n+1)||(o=" "),r+=o,i=" "==o}return r}(t,e.trailingSpace):t,h=e.cm.state.specialChars,u=!1;if(h.test(t)){d=document.createDocumentFragment();for(var f=0;;){h.lastIndex=f;var p=h.exec(t),g=p?p.index-f:t.length-f;if(g){var m=document.createTextNode(c.slice(f,f+g));s&&a<9?d.appendChild(_("span",[m])):d.appendChild(m),e.map.push(e.pos,e.pos+g,m),e.col+=g,e.pos+=g}if(!p)break;f+=g+1;var v=void 0;if("\t"==p[0]){var b=e.cm.options.tabSize,y=b-e.col%b;(v=d.appendChild(_("span",Y(y),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=y}else"\r"==p[0]||"\n"==p[0]?((v=d.appendChild(_("span","\r"==p[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",p[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),s&&a<9?d.appendChild(_("span",[v])):d.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,d=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,d),s&&a<9&&(u=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),i||r||n||u||l){var w=i||"";r&&(w+=r),n&&(w+=n);var x=_("span",[d],w,l);return o&&(x.title=o),e.content.appendChild(x)}e.content.appendChild(d)}}function ei(e,t){return function(i,r,n,o,s,a,l){n=n?n+" cm-force-border":"cm-force-border";for(var d=i.pos,c=d+r.length;;){for(var h=void 0,u=0;u<t.length&&!((h=t[u]).to>d&&h.from<=d);u++);if(h.to>=c)return e(i,r,n,o,s,a,l);e(i,r.slice(0,h.to-d),n,o,null,a,l),o=null,r=r.slice(h.to-d),d=h.to}}}function ti(e,t,i,r){var n=!r&&i.widgetNode;n&&e.map.push(e.pos,e.pos+t,n),!r&&e.cm.display.input.needsContentAttribute&&(n||(n=e.content.appendChild(document.createElement("span"))),n.setAttribute("cm-marker",i.id)),n&&(e.cm.display.input.setUneditable(n),e.content.appendChild(n)),e.pos+=t,e.trailingSpace=!1}function ii(e,t,i){var r=e.markedSpans,n=e.text,o=0;if(r)for(var s,a,l,d,c,h,u,f=n.length,p=0,g=1,m="",v=0;;){if(v==p){l=d=c=h=a="",u=null,v=1/0;for(var b=[],y=void 0,w=0;w<r.length;++w){var x=r[w],C=x.marker;"bookmark"==C.type&&x.from==p&&C.widgetNode?b.push(C):x.from<=p&&(null==x.to||x.to>p||C.collapsed&&x.to==p&&x.from==p)?(null!=x.to&&x.to!=p&&v>x.to&&(v=x.to,d=""),C.className&&(l+=" "+C.className),C.css&&(a=(a?a+";":"")+C.css),C.startStyle&&x.from==p&&(c+=" "+C.startStyle),C.endStyle&&x.to==v&&(y||(y=[])).push(C.endStyle,x.to),C.title&&!h&&(h=C.title),C.collapsed&&(!u||Re(u.marker,C)<0)&&(u=x)):x.from>p&&v>x.from&&(v=x.from)}if(y)for(var S=0;S<y.length;S+=2)y[S+1]==v&&(d+=" "+y[S]);if(!u||u.from==p)for(var k=0;k<b.length;++k)ti(t,0,b[k]);if(u&&(u.from||0)==p){if(ti(t,(null==u.to?f+1:u.to)-p,u.marker,null==u.from),null==u.to)return;u.to==p&&(u=!1)}}if(p>=f)break;for(var D=Math.min(f,v);;){if(m){var T=p+m.length;if(!u){var A=T>D?m.slice(0,D-p):m;t.addToken(t,A,s?s+l:l,c,p+A.length==v?d:"",h,a)}if(T>=D){m=m.slice(D-p),p=D;break}p=T,c=""}m=n.slice(o,o=i[g++]),s=Zt(i[g++],t.cm.options)}}else for(var N=1;N<i.length;N+=2)t.addToken(t,n.slice(o,o=i[N]),Zt(i[N+1],t.cm.options))}function ri(e,t,i){this.line=t,this.rest=function(e){for(var t,i;t=je(e);)e=t.find(1,!0).line,(i||(i=[])).push(e);return i}(t),this.size=this.rest?he(X(this.rest))-i+1:1,this.node=this.text=null,this.hidden=We(e,t)}function ni(e,t,i){for(var r,n=[],o=t;o<i;o=r){var s=new ri(e.doc,ae(e.doc,o),o);r=o+s.size,n.push(s)}return n}var oi=null;var si=null;function ai(e,t){var i=tt(e,t);if(i.length){var r,n=Array.prototype.slice.call(arguments,2);oi?r=oi.delayedCallbacks:si?r=si:(r=si=[],setTimeout(li,0));for(var o=function(e){r.push(function(){return i[e].apply(null,n)})},s=0;s<i.length;++s)o(s)}}function li(){var e=si;si=null;for(var t=0;t<e.length;++t)e[t]()}function di(e,t,i,r){for(var n=0;n<t.changes.length;n++){var o=t.changes[n];"text"==o?ui(e,t):"gutter"==o?pi(e,t,i,r):"class"==o?fi(e,t):"widget"==o&&gi(e,t,r)}t.changes=null}function ci(e){return e.node==e.text&&(e.node=_("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),s&&a<8&&(e.node.style.zIndex=2)),e.node}function hi(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):Kt(e,t)}function ui(e,t){var i=t.text.className,r=hi(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,fi(e,t)):i&&(t.text.className=i)}function fi(e,t){!function(e,t){var i=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),t.background)i?t.background.className=i:(t.background.parentNode.removeChild(t.background),t.background=null);else if(i){var r=ci(t);t.background=r.insertBefore(_("div",null,i),r.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?ci(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var i=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=i||""}function pi(e,t,i,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var n=ci(t);t.gutterBackground=_("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),n.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var s=ci(t),a=t.gutter=_("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(_("div",pe(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.options.gutters.length;++l){var d=e.options.gutters[l],c=o.hasOwnProperty(d)&&o[d];c&&a.appendChild(_("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[d]+"px; width: "+r.gutterWidth[d]+"px"))}}}function gi(e,t,i){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,n=void 0;r;r=n)n=r.nextSibling,"CodeMirror-linewidget"==r.className&&t.node.removeChild(r);vi(e,t,i)}function mi(e,t,i,r){var n=hi(e,t);return t.text=t.node=n.pre,n.bgClass&&(t.bgClass=n.bgClass),n.textClass&&(t.textClass=n.textClass),fi(e,t),pi(e,t,i,r),vi(e,t,r),t.node}function vi(e,t,i){if(bi(e,t.line,t,i,!0),t.rest)for(var r=0;r<t.rest.length;r++)bi(e,t.rest[r],t,i,!1)}function bi(e,t,i,r,n){if(t.widgets)for(var o=ci(i),s=0,a=t.widgets;s<a.length;++s){var l=a[s],d=_("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||d.setAttribute("cm-ignore-events","true"),yi(l,d,i,r),e.display.input.setUneditable(d),n&&l.above?o.insertBefore(d,i.gutter||i.text):o.appendChild(d),ai(l,"redraw")}}function yi(e,t,i,r){if(e.noHScroll){(i.alignable||(i.alignable=[])).push(t);var n=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(n-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=n+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function wi(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!E(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),N(t.display.measure,_("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function xi(e,t){for(var i=ut(t);i!=e.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==e.sizer&&i!=e.mover)return!0}function Ci(e){return e.lineSpace.offsetTop}function Si(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function ki(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=N(e.measure,_("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Di(e){return B-e.display.nativeBarWidth}function Ti(e){return e.display.scroller.clientWidth-Di(e)-e.display.barWidth}function Ai(e){return e.display.scroller.clientHeight-Di(e)-e.display.barHeight}function Ni(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var n=0;n<e.rest.length;n++)if(he(e.rest[n])>i)return{map:e.measure.maps[n],cache:e.measure.caches[n],before:!0}}function _i(e,t,i,r){return $i(e,Ei(e,t),i,r)}function Mi(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[ar(e,t)];var i=e.display.externalMeasured;return i&&t>=i.lineN&&t<i.lineN+i.size?i:void 0}function Ei(e,t){var i=he(t),r=Mi(e,i);r&&!r.text?r=null:r&&r.changes&&(di(e,r,i,ir(e)),e.curOp.forceUpdate=!0),r||(r=function(e,t){var i=he(t=Be(t)),r=e.display.externalMeasured=new ri(e.doc,t,i);r.lineN=i;var n=r.built=Kt(e,r);return r.text=n.pre,N(e.display.lineMeasure,n.pre),r}(e,t));var n=Ni(r,t,i);return{line:t,view:r,rect:null,map:n.map,cache:n.cache,before:n.before,hasHeights:!1}}function $i(e,t,i,r,n){t.before&&(i=-1);var o,l=i+(r||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(!function(e,t,i){var r=e.options.lineWrapping,n=r&&Ti(e);if(!t.measure.heights||r&&t.measure.width!=n){var o=t.measure.heights=[];if(r){t.measure.width=n;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],d=s[a+1];Math.abs(l.bottom-d.bottom)>2&&o.push((l.bottom+d.top)/2-i.top)}}o.push(i.bottom-i.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,i,r){var n,o=Ri(t.map,i,r),l=o.node,d=o.start,c=o.end,h=o.collapse;if(3==l.nodeType){for(var u=0;u<4;u++){for(;d&&ne(t.line.text.charAt(o.coverStart+d));)--d;for(;o.coverStart+c<o.coverEnd&&ne(t.line.text.charAt(o.coverStart+c));)++c;if((n=s&&a<9&&0==d&&c==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Fi(D(l,d,c).getClientRects(),r)).left||n.right||0==d)break;c=d,d-=1,h="right"}s&&a<11&&(n=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=St)return St;var t=N(e,_("span","x")),i=t.getBoundingClientRect(),r=D(t,0,1).getBoundingClientRect();return St=Math.abs(i.left-r.left)>1}(e))return t;var i=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*i,right:t.right*i,top:t.top*r,bottom:t.bottom*r}}(e.display.measure,n))}else{var f;d>0&&(h=r="right"),n=e.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==r?f.length-1:0]:l.getBoundingClientRect()}if(s&&a<9&&!d&&(!n||!n.left&&!n.right)){var p=l.parentNode.getClientRects()[0];n=p?{left:p.left,right:p.left+tr(e.display),top:p.top,bottom:p.bottom}:Ii}for(var g=n.top-t.rect.top,m=n.bottom-t.rect.top,v=(g+m)/2,b=t.view.measure.heights,y=0;y<b.length-1&&!(v<b[y]);y++);var w=y?b[y-1]:0,x=b[y],C={left:("right"==h?n.right:n.left)-t.rect.left,right:("left"==h?n.left:n.right)-t.rect.left,top:w,bottom:x};n.left||n.right||(C.bogus=!0);e.options.singleCursorHeightPerLine||(C.rtop=g,C.rbottom=m);return C}(e,t,i,r)).bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:n?o.rtop:o.top,bottom:n?o.rbottom:o.bottom}}var Oi,Ii={left:0,right:0,top:0,bottom:0};function Ri(e,t,i){for(var r,n,o,s,a,l,d=0;d<e.length;d+=3)if(a=e[d],l=e[d+1],t<a?(n=0,o=1,s="left"):t<l?o=(n=t-a)+1:(d==e.length-3||t==l&&e[d+3]>t)&&(n=(o=l-a)-1,t>=l&&(s="right")),null!=n){if(r=e[d+2],a==l&&i==(r.insertLeft?"left":"right")&&(s=i),"left"==i&&0==n)for(;d&&e[d-2]==e[d-3]&&e[d-1].insertLeft;)r=e[2+(d-=3)],s="left";if("right"==i&&n==l-a)for(;d<e.length-3&&e[d+3]==e[d+4]&&!e[d+5].insertLeft;)r=e[(d+=3)+2],s="right";break}return{node:r,start:n,end:o,collapse:s,coverStart:a,coverEnd:l}}function Fi(e,t){var i=Ii;if("left"==t)for(var r=0;r<e.length&&(i=e[r]).left==i.right;r++);else for(var n=e.length-1;n>=0&&(i=e[n]).left==i.right;n--);return i}function Li(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function ji(e){e.display.externalMeasure=null,A(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Li(e.display.view[t])}function Pi(e){ji(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function zi(){return c&&m?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Bi(){return c&&m?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Hi(e){var t=0;if(e.widgets)for(var i=0;i<e.widgets.length;++i)e.widgets[i].above&&(t+=wi(e.widgets[i]));return t}function qi(e,t,i,r,n){if(!n){var o=Hi(t);i.top+=o,i.bottom+=o}if("line"==r)return i;r||(r="local");var s=Ve(t);if("local"==r?s+=Ci(e.display):s-=e.display.viewOffset,"page"==r||"window"==r){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==r?0:Bi());var l=a.left+("window"==r?0:zi());i.left+=l,i.right+=l}return i.top+=s,i.bottom+=s,i}function Wi(e,t,i){if("div"==i)return t;var r=t.left,n=t.top;if("page"==i)r-=zi(),n-=Bi();else if("local"==i||!i){var o=e.display.sizer.getBoundingClientRect();r+=o.left,n+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:r-s.left,top:n-s.top}}function Gi(e,t,i,r,n){return r||(r=ae(e.doc,t.line)),qi(e,r,_i(e,r,t.ch,n),i)}function Vi(e,t,i,r,n,o){function s(t,s){var a=$i(e,n,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,qi(e,r,a,i)}r=r||ae(e.doc,t.line),n||(n=Ei(e,r));var a=Je(r,e.doc.direction),l=t.ch,d=t.sticky;if(l>=r.text.length?(l=r.text.length,d="before"):l<=0&&(l=0,d="after"),!a)return s("before"==d?l-1:l,"before"==d);function c(e,t,i){var r=1==a[t].level;return s(i?e-1:e,r!=i)}var h=Ze(a,l,d),u=Xe,f=c(l,h,"before"==d);return null!=u&&(f.other=c(l,u,"before"!=d)),f}function Ui(e,t){var i=0;t=Ce(e.doc,t),e.options.lineWrapping||(i=tr(e.display)*t.ch);var r=ae(e.doc,t.line),n=Ve(r)+Ci(e.display);return{left:i,right:i,top:n,bottom:n+r.height}}function Yi(e,t,i,r,n){var o=ge(e,t,i);return o.xRel=n,r&&(o.outside=!0),o}function Xi(e,t,i){var r=e.doc;if((i+=e.display.viewOffset)<0)return Yi(r.first,0,null,!0,-1);var n=ue(r,i),o=r.first+r.size-1;if(n>o)return Yi(r.first+r.size-1,ae(r,o).text.length,null,!0,1);t<0&&(t=0);for(var s=ae(r,n);;){var a=Qi(e,s,n,t,i),l=Pe(s,a.ch+(a.xRel>0?1:0));if(!l)return a;var d=l.find(1);if(d.line==n)return d;s=ae(r,n=d.line)}}function Zi(e,t,i,r){r-=Hi(t);var n=t.text.length,o=se(function(t){return $i(e,i,t-1).bottom<=r},n,0);return{begin:o,end:n=se(function(t){return $i(e,i,t).top>r},o,n)}}function Ki(e,t,i,r){return i||(i=Ei(e,t)),Zi(e,t,i,qi(e,t,$i(e,i,r),"line").top)}function Ji(e,t,i,r){return!(e.bottom<=i)&&(e.top>i||(r?e.left:e.right)>t)}function Qi(e,t,i,r,n){n-=Ve(t);var o=Ei(e,t),s=Hi(t),a=0,l=t.text.length,d=!0,c=Je(t,e.doc.direction);if(c){var h=(e.options.lineWrapping?function(e,t,i,r,n,o,s){var a=Zi(e,t,r,s),l=a.begin,d=a.end;/\s/.test(t.text.charAt(d-1))&&d--;for(var c=null,h=null,u=0;u<n.length;u++){var f=n[u];if(!(f.from>=d||f.to<=l)){var p=1!=f.level,g=$i(e,r,p?Math.min(d,f.to)-1:Math.max(l,f.from)).right,m=g<o?o-g+1e9:g-o;(!c||h>m)&&(c=f,h=m)}}c||(c=n[n.length-1]);c.from<l&&(c={from:l,to:c.to,level:c.level});c.to>d&&(c={from:c.from,to:d,level:c.level});return c}:function(e,t,i,r,n,o,s){var a=se(function(a){var l=n[a],d=1!=l.level;return Ji(Vi(e,ge(i,d?l.to:l.from,d?"before":"after"),"line",t,r),o,s,!0)},0,n.length-1),l=n[a];if(a>0){var d=1!=l.level,c=Vi(e,ge(i,d?l.from:l.to,d?"after":"before"),"line",t,r);Ji(c,o,s,!0)&&c.top>s&&(l=n[a-1])}return l})(e,t,i,o,c,r,n);a=(d=1!=h.level)?h.from:h.to-1,l=d?h.to:h.from-1}var u,f,p=null,g=null,m=se(function(t){var i=$i(e,o,t);return i.top+=s,i.bottom+=s,!!Ji(i,r,n,!1)&&(i.top<=n&&i.left<=r&&(p=t,g=i),!0)},a,l),v=!1;if(g){var b=r-g.left<g.right-r,y=b==d;m=p+(y?0:1),f=y?"after":"before",u=b?g.left:g.right}else{d||m!=l&&m!=a||m++,f=0==m?"after":m==t.text.length?"before":$i(e,o,m-(d?1:0)).bottom+s<=n==d?"after":"before";var w=Vi(e,ge(i,m,f),"line",t,o);u=w.left,v=n<w.top||n>=w.bottom}return Yi(i,m=oe(t.text,m,1),f,v,r-u)}function er(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Oi){Oi=_("pre");for(var t=0;t<49;++t)Oi.appendChild(document.createTextNode("x")),Oi.appendChild(_("br"));Oi.appendChild(document.createTextNode("x"))}N(e.measure,Oi);var i=Oi.offsetHeight/50;return i>3&&(e.cachedTextHeight=i),A(e.measure),i||1}function tr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=_("span","xxxxxxxxxx"),i=_("pre",[t]);N(e.measure,i);var r=t.getBoundingClientRect(),n=(r.right-r.left)/10;return n>2&&(e.cachedCharWidth=n),n||10}function ir(e){for(var t=e.display,i={},r={},n=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s)i[e.options.gutters[s]]=o.offsetLeft+o.clientLeft+n,r[e.options.gutters[s]]=o.clientWidth;return{fixedPos:rr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function rr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function nr(e){var t=er(e.display),i=e.options.lineWrapping,r=i&&Math.max(5,e.display.scroller.clientWidth/tr(e.display)-3);return function(n){if(We(e.doc,n))return 0;var o=0;if(n.widgets)for(var s=0;s<n.widgets.length;s++)n.widgets[s].height&&(o+=n.widgets[s].height);return i?o+(Math.ceil(n.text.length/r)||1)*t:o+t}}function or(e){var t=e.doc,i=nr(e);t.iter(function(e){var t=i(e);t!=e.height&&ce(e,t)})}function sr(e,t,i,r){var n=e.display;if(!i&&"true"==ut(t).getAttribute("cm-not-content"))return null;var o,s,a=n.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(t){return null}var l,d=Xi(e,o,s);if(r&&1==d.xRel&&(l=ae(e.doc,d.line).text).length==d.ch){var c=j(l,l.length,e.options.tabSize)-l.length;d=ge(d.line,Math.max(0,Math.round((o-ki(e.display).left)/tr(e.display))-c))}return d}function ar(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var i=e.display.view,r=0;r<i.length;r++)if((t-=i[r].size)<0)return r}function lr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function dr(e,t){void 0===t&&(t=!0);for(var i=e.doc,r={},n=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),s=0;s<i.sel.ranges.length;s++)if(t||s!=i.sel.primIndex){var a=i.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&cr(e,a.head,n),l||ur(e,a,o)}}return r}function cr(e,t,i){var r=Vi(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),n=i.appendChild(_("div"," ","CodeMirror-cursor"));if(n.style.left=r.left+"px",n.style.top=r.top+"px",n.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=i.appendChild(_("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function hr(e,t){return e.top-t.top||e.left-t.left}function ur(e,t,i){var r=e.display,n=e.doc,o=document.createDocumentFragment(),s=ki(e.display),a=s.left,l=Math.max(r.sizerWidth,Ti(e)-r.sizer.offsetLeft)-s.right,d="ltr"==n.direction;function c(e,t,i,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(_("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==i?l-e:i)+"px;\n                             height: "+(r-t)+"px"))}function h(t,i,r){var o,s,h=ae(n,t),u=h.text.length;function f(i,r){return Gi(e,ge(t,i),"div",h,r)}function p(t,i,r){var n=Ki(e,h,null,t),o="ltr"==i==("after"==r)?"left":"right";return f("after"==r?n.begin:n.end-(/\s/.test(h.text.charAt(n.end-1))?2:1),o)[o]}var g=Je(h,n.direction);return function(e,t,i,r){if(!e)return r(t,i,"ltr",0);for(var n=!1,o=0;o<e.length;++o){var s=e[o];(s.from<i&&s.to>t||t==i&&s.to==t)&&(r(Math.max(s.from,t),Math.min(s.to,i),1==s.level?"rtl":"ltr",o),n=!0)}n||r(t,i,"ltr")}(g,i||0,null==r?u:r,function(e,t,n,h){var m="ltr"==n,v=f(e,m?"left":"right"),b=f(t-1,m?"right":"left"),y=null==i&&0==e,w=null==r&&t==u,x=0==h,C=!g||h==g.length-1;if(b.top-v.top<=3){var S=(d?w:y)&&C,k=(d?y:w)&&x?a:(m?v:b).left,D=S?l:(m?b:v).right;c(k,v.top,D-k,v.bottom)}else{var T,A,N,_;m?(T=d&&y&&x?a:v.left,A=d?l:p(e,n,"before"),N=d?a:p(t,n,"after"),_=d&&w&&C?l:b.right):(T=d?p(e,n,"before"):a,A=!d&&y&&x?l:v.right,N=!d&&w&&C?a:b.left,_=d?p(t,n,"after"):l),c(T,v.top,A-T,v.bottom),v.bottom<b.top&&c(a,v.bottom,null,b.top),c(N,b.top,_-N,b.bottom)}(!o||hr(v,o)<0)&&(o=v),hr(b,o)<0&&(o=b),(!s||hr(v,s)<0)&&(s=v),hr(b,s)<0&&(s=b)}),{start:o,end:s}}var u=t.from(),f=t.to();if(u.line==f.line)h(u.line,u.ch,f.ch);else{var p=ae(n,u.line),g=ae(n,f.line),m=Be(p)==Be(g),v=h(u.line,u.ch,m?p.text.length+1:null).end,b=h(f.line,m?0:null,f.ch).start;m&&(v.top<b.top-2?(c(v.right,v.top,null,v.bottom),c(a,b.top,b.left,b.bottom)):c(v.right,v.top,b.left-v.right,v.bottom)),v.bottom<b.top&&c(a,v.bottom,null,b.top)}i.appendChild(o)}function fr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function pr(e){e.state.focused||(e.display.input.focus(),mr(e))}function gr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,vr(e))},100)}function mr(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(rt(e,"focus",e,t),e.state.focused=!0,O(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),fr(e))}function vr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(rt(e,"blur",e,t),e.state.focused=!1,T(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function br(e){for(var t=e.display,i=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var n=t.view[r],o=void 0;if(!n.hidden){if(s&&a<8){var l=n.node.offsetTop+n.node.offsetHeight;o=l-i,i=l}else{var d=n.node.getBoundingClientRect();o=d.bottom-d.top}var c=n.line.height-o;if(o<2&&(o=er(t)),(c>.005||c<-.005)&&(ce(n.line,o),yr(n.line),n.rest))for(var h=0;h<n.rest.length;h++)yr(n.rest[h])}}}function yr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var i=e.widgets[t],r=i.node.parentNode;r&&(i.height=r.offsetHeight)}}function wr(e,t,i){var r=i&&null!=i.top?Math.max(0,i.top):e.scroller.scrollTop;r=Math.floor(r-Ci(e));var n=i&&null!=i.bottom?i.bottom:r+e.wrapper.clientHeight,o=ue(t,r),s=ue(t,n);if(i&&i.ensure){var a=i.ensure.from.line,l=i.ensure.to.line;a<o?(o=a,s=ue(t,Ve(ae(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(o=ue(t,Ve(ae(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function xr(e){var t=e.display,i=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=rr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,n=t.gutters.offsetWidth,o=r+"px",s=0;s<i.length;s++)if(!i[s].hidden){e.options.fixedGutter&&(i[s].gutter&&(i[s].gutter.style.left=o),i[s].gutterBackground&&(i[s].gutterBackground.style.left=o));var a=i[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+n+"px")}}function Cr(e){if(!e.options.lineNumbers)return!1;var t=e.doc,i=pe(e.options,t.first+t.size-1),r=e.display;if(i.length!=r.lineNumChars){var n=r.measure.appendChild(_("div",[_("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=n.firstChild.offsetWidth,s=n.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-s)+1,r.lineNumWidth=r.lineNumInnerWidth+s,r.lineNumChars=r.lineNumInnerWidth?i.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",ln(e),!0}return!1}function Sr(e,t){var i=e.display,r=er(e.display);t.top<0&&(t.top=0);var n=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:i.scroller.scrollTop,o=Ai(e),s={};t.bottom-t.top>o&&(t.bottom=t.top+o);var a=e.doc.height+Si(i),l=t.top<r,d=t.bottom>a-r;if(t.top<n)s.scrollTop=l?0:t.top;else if(t.bottom>n+o){var c=Math.min(t.top,(d?a:t.bottom)-o);c!=n&&(s.scrollTop=c)}var h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:i.scroller.scrollLeft,u=Ti(e)-(e.options.fixedGutter?i.gutters.offsetWidth:0),f=t.right-t.left>u;return f&&(t.right=t.left+u),t.left<10?s.scrollLeft=0:t.left<h?s.scrollLeft=Math.max(0,t.left-(f?0:10)):t.right>u+h-3&&(s.scrollLeft=t.right+(f?0:10)-u),s}function kr(e,t){null!=t&&(Ar(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Dr(e){Ar(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Tr(e,t,i){null==t&&null==i||Ar(e),null!=t&&(e.curOp.scrollLeft=t),null!=i&&(e.curOp.scrollTop=i)}function Ar(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Nr(e,Ui(e,t.from),Ui(e,t.to),t.margin))}function Nr(e,t,i,r){var n=Sr(e,{left:Math.min(t.left,i.left),top:Math.min(t.top,i.top)-r,right:Math.max(t.right,i.right),bottom:Math.max(t.bottom,i.bottom)+r});Tr(e,n.scrollLeft,n.scrollTop)}function _r(e,t){Math.abs(e.doc.scrollTop-t)<2||(i||an(e,{top:t}),Mr(e,t,!0),i&&an(e),tn(e,100))}function Mr(e,t,i){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||i)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Er(e,t,i,r){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,xr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function $r(e){var t=e.display,i=t.gutters.offsetWidth,r=Math.round(e.doc.height+Si(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?i:0,docHeight:r,scrollHeight:r+Di(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}var Or=function(e,t,i){this.cm=i;var r=this.vert=_("div",[_("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),n=this.horiz=_("div",[_("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=n.tabIndex=-1,e(r),e(n),et(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),et(n,"scroll",function(){n.clientWidth&&t(n.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Or.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var n=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+n)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=i?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(i?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?r:0,bottom:t?r:0}},Or.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Or.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Or.prototype.zeroWidthHack=function(){var e=b&&!f?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new P,this.disableVert=new P},Or.prototype.enableZeroWidthBar=function(e,t,i){e.style.pointerEvents="auto",t.set(1e3,function r(){var n=e.getBoundingClientRect();("vert"==i?document.elementFromPoint(n.right-1,(n.top+n.bottom)/2):document.elementFromPoint((n.right+n.left)/2,n.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)})},Or.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Ir=function(){};function Rr(e,t){t||(t=$r(e));var i=e.display.barWidth,r=e.display.barHeight;Fr(e,t);for(var n=0;n<4&&i!=e.display.barWidth||r!=e.display.barHeight;n++)i!=e.display.barWidth&&e.options.lineWrapping&&br(e),Fr(e,$r(e)),i=e.display.barWidth,r=e.display.barHeight}function Fr(e,t){var i=e.display,r=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=r.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=r.bottom)+"px",i.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=r.bottom+"px",i.scrollbarFiller.style.width=r.right+"px"):i.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=r.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}Ir.prototype.update=function(){return{bottom:0,right:0}},Ir.prototype.setScrollLeft=function(){},Ir.prototype.setScrollTop=function(){},Ir.prototype.clear=function(){};var Lr={native:Or,null:Ir};function jr(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&T(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Lr[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),et(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,i){"horizontal"==i?Er(e,t):_r(e,t)},e),e.display.scrollbars.addClass&&O(e.display.wrapper,e.display.scrollbars.addClass)}var Pr=0;function zr(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Pr},t=e.curOp,oi?oi.ops.push(t):t.ownsGroup=oi={ops:[t],delayedCallbacks:[]}}function Br(e){!function(e,t){var i=e.ownsGroup;if(i)try{!function(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i].call(null);for(var r=0;r<e.ops.length;r++){var n=e.ops[r];if(n.cursorActivityHandlers)for(;n.cursorActivityCalled<n.cursorActivityHandlers.length;)n.cursorActivityHandlers[n.cursorActivityCalled++].call(null,n.cm)}}while(i<t.length)}(i)}finally{oi=null,t(i)}}(e.curOp,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,i=0;i<t.length;i++)Hr(t[i]);for(var r=0;r<t.length;r++)(n=t[r]).updatedDisplay=n.mustUpdate&&on(n.cm,n.update);var n;for(var o=0;o<t.length;o++)qr(t[o]);for(var s=0;s<t.length;s++)Wr(t[s]);for(var a=0;a<t.length;a++)Gr(t[a])}(e)})}function Hr(e){var t=e.cm,i=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Di(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Di(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&Ye(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new nn(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function qr(e){var t=e.cm,i=t.display;e.updatedDisplay&&br(t),e.barMeasure=$r(t),i.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=_i(t,i.maxLine,i.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+e.adjustWidthTo+Di(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+e.adjustWidthTo-Ti(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=i.input.prepareSelection())}function Wr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Er(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var i=e.focus&&e.focus==$();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,i),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Rr(t,e.barMeasure),e.updatedDisplay&&dn(t,e.barMeasure),e.selectionChanged&&fr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),i&&pr(e.cm)}function Gr(e){var t=e.cm,i=t.display,r=t.doc;(e.updatedDisplay&&sn(t,e.update),null==i.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null!=e.scrollTop&&Mr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Er(t,e.scrollLeft,!0,!0),e.scrollToPos)&&function(e,t){if(!nt(e,"scrollCursorIntoView")){var i=e.display,r=i.sizer.getBoundingClientRect(),n=null;if(t.top+r.top<0?n=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(n=!1),null!=n&&!p){var o=_("div","​",null,"position: absolute;\n                         top: "+(t.top-i.viewOffset-Ci(e.display))+"px;\n                         height: "+(t.bottom-t.top+Di(e)+i.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(n),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,i,r){var n;null==r&&(r=0),e.options.lineWrapping||t!=i||(i="before"==(t=t.ch?ge(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?ge(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var s=!1,a=Vi(e,t),l=i&&i!=t?Vi(e,i):a,d=Sr(e,n={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-r,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+r}),c=e.doc.scrollTop,h=e.doc.scrollLeft;if(null!=d.scrollTop&&(_r(e,d.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(s=!0)),null!=d.scrollLeft&&(Er(e,d.scrollLeft),Math.abs(e.doc.scrollLeft-h)>1&&(s=!0)),!s)break}return n}(t,Ce(r,e.scrollToPos.from),Ce(r,e.scrollToPos.to),e.scrollToPos.margin));var n=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(n)for(var s=0;s<n.length;++s)n[s].lines.length||rt(n[s],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&rt(o[a],"unhide");i.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&rt(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Vr(e,t){if(e.curOp)return t();zr(e);try{return t()}finally{Br(e)}}function Ur(e,t){return function(){if(e.curOp)return t.apply(e,arguments);zr(e);try{return t.apply(e,arguments)}finally{Br(e)}}}function Yr(e){return function(){if(this.curOp)return e.apply(this,arguments);zr(this);try{return e.apply(this,arguments)}finally{Br(this)}}}function Xr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);zr(t);try{return e.apply(this,arguments)}finally{Br(t)}}}function Zr(e,t,i,r){null==t&&(t=e.doc.first),null==i&&(i=e.doc.first+e.doc.size),r||(r=0);var n=e.display;if(r&&i<n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>t)&&(n.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=n.viewTo)De&&He(e.doc,t)<n.viewTo&&Jr(e);else if(i<=n.viewFrom)De&&qe(e.doc,i+r)>n.viewFrom?Jr(e):(n.viewFrom+=r,n.viewTo+=r);else if(t<=n.viewFrom&&i>=n.viewTo)Jr(e);else if(t<=n.viewFrom){var o=Qr(e,i,i+r,1);o?(n.view=n.view.slice(o.index),n.viewFrom=o.lineN,n.viewTo+=r):Jr(e)}else if(i>=n.viewTo){var s=Qr(e,t,t,-1);s?(n.view=n.view.slice(0,s.index),n.viewTo=s.lineN):Jr(e)}else{var a=Qr(e,t,t,-1),l=Qr(e,i,i+r,1);a&&l?(n.view=n.view.slice(0,a.index).concat(ni(e,a.lineN,l.lineN)).concat(n.view.slice(l.index)),n.viewTo+=r):Jr(e)}var d=n.externalMeasured;d&&(i<d.lineN?d.lineN+=r:t<d.lineN+d.size&&(n.externalMeasured=null))}function Kr(e,t,i){e.curOp.viewChanged=!0;var r=e.display,n=e.display.externalMeasured;if(n&&t>=n.lineN&&t<n.lineN+n.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[ar(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==z(s,i)&&s.push(i)}}}function Jr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Qr(e,t,i,r){var n,o=ar(e,t),s=e.display.view;if(!De||i==e.doc.first+e.doc.size)return{index:o,lineN:i};for(var a=e.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=t){if(r>0){if(o==s.length-1)return null;n=a+s[o].size-t,o++}else n=a-t;t+=n,i+=n}for(;He(e.doc,i)!=i;){if(o==(r<0?0:s.length-1))return null;i+=r*s[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:i}}function en(e){for(var t=e.display.view,i=0,r=0;r<t.length;r++){var n=t[r];n.hidden||n.node&&!n.changes||++i}return i}function tn(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,F(rn,e))}function rn(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var i=+new Date+e.options.workTime,r=jt(e,t.highlightFrontier),n=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(r.line>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength?Mt(t.mode,r.state):null,l=Ft(e,o,r,!0);a&&(r.state=a),o.styles=l.styles;var d=o.styleClasses,c=l.classes;c?o.styleClasses=c:d&&(o.styleClasses=null);for(var h=!s||s.length!=o.styles.length||d!=c&&(!d||!c||d.bgClass!=c.bgClass||d.textClass!=c.textClass),u=0;!h&&u<s.length;++u)h=s[u]!=o.styles[u];h&&n.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Pt(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>i)return tn(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),n.length&&Vr(e,function(){for(var t=0;t<n.length;t++)Kr(e,n[t],"text")})}}var nn=function(e,t,i){var r=e.display;this.viewport=t,this.visible=wr(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Ti(e),this.force=i,this.dims=ir(e),this.events=[]};function on(e,t){var i=e.display,r=e.doc;if(t.editorIsHidden)return Jr(e),!1;if(!t.force&&t.visible.from>=i.viewFrom&&t.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==en(e))return!1;Cr(e)&&(Jr(e),t.dims=ir(e));var n=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),s=Math.min(n,t.visible.to+e.options.viewportMargin);i.viewFrom<o&&o-i.viewFrom<20&&(o=Math.max(r.first,i.viewFrom)),i.viewTo>s&&i.viewTo-s<20&&(s=Math.min(n,i.viewTo)),De&&(o=He(e.doc,o),s=qe(e.doc,s));var a=o!=i.viewFrom||s!=i.viewTo||i.lastWrapHeight!=t.wrapperHeight||i.lastWrapWidth!=t.wrapperWidth;!function(e,t,i){var r=e.display;0==r.view.length||t>=r.viewTo||i<=r.viewFrom?(r.view=ni(e,t,i),r.viewFrom=t):(r.viewFrom>t?r.view=ni(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(ar(e,t))),r.viewFrom=t,r.viewTo<i?r.view=r.view.concat(ni(e,r.viewTo,i)):r.viewTo>i&&(r.view=r.view.slice(0,ar(e,i)))),r.viewTo=i}(e,o,s),i.viewOffset=Ve(ae(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var d=en(e);if(!a&&0==d&&!t.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var c=function(e){if(e.hasFocus())return null;var t=$();if(!t||!E(e.display.lineDiv,t))return null;var i={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&E(e.display.lineDiv,r.anchorNode)&&(i.anchorNode=r.anchorNode,i.anchorOffset=r.anchorOffset,i.focusNode=r.focusNode,i.focusOffset=r.focusOffset)}return i}(e);return d>4&&(i.lineDiv.style.display="none"),function(e,t,i){var r=e.display,n=e.options.lineNumbers,o=r.lineDiv,s=o.firstChild;function a(t){var i=t.nextSibling;return l&&b&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),i}for(var d=r.view,c=r.viewFrom,h=0;h<d.length;h++){var u=d[h];if(u.hidden);else if(u.node&&u.node.parentNode==o){for(;s!=u.node;)s=a(s);var f=n&&null!=t&&t<=c&&u.lineNumber;u.changes&&(z(u.changes,"gutter")>-1&&(f=!1),di(e,u,c,i)),f&&(A(u.lineNumber),u.lineNumber.appendChild(document.createTextNode(pe(e.options,c)))),s=u.node.nextSibling}else{var p=mi(e,u,c,i);o.insertBefore(p,s)}c+=u.size}for(;s;)s=a(s)}(e,i.updateLineNumbers,t.dims),d>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,function(e){if(e&&e.activeElt&&e.activeElt!=$()&&(e.activeElt.focus(),e.anchorNode&&E(document.body,e.anchorNode)&&E(document.body,e.focusNode))){var t=window.getSelection(),i=document.createRange();i.setEnd(e.anchorNode,e.anchorOffset),i.collapse(!1),t.removeAllRanges(),t.addRange(i),t.extend(e.focusNode,e.focusOffset)}}(c),A(i.cursorDiv),A(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,a&&(i.lastWrapHeight=t.wrapperHeight,i.lastWrapWidth=t.wrapperWidth,tn(e,400)),i.updateLineNumbers=null,!0}function sn(e,t){for(var i=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Ti(e)||(i&&null!=i.top&&(i={top:Math.min(e.doc.height+Si(e.display)-Ai(e),i.top)}),t.visible=wr(e.display,e.doc,i),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&on(e,t);r=!1){br(e);var n=$r(e);lr(e),Rr(e,n),dn(e,n),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function an(e,t){var i=new nn(e,t);if(on(e,i)){br(e),sn(e,i);var r=$r(e);lr(e),Rr(e,r),dn(e,r),i.finish()}}function ln(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function dn(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Di(e)+"px"}function cn(e){var t=e.display.gutters,i=e.options.gutters;A(t);for(var r=0;r<i.length;++r){var n=i[r],o=t.appendChild(_("div",null,"CodeMirror-gutter "+n));"CodeMirror-linenumbers"==n&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",ln(e)}function hn(e){var t=z(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}nn.prototype.signal=function(e,t){st(e,t)&&this.events.push(arguments)},nn.prototype.finish=function(){for(var e=0;e<this.events.length;e++)rt.apply(null,this.events[e])};var un=0,fn=null;function pn(e){var t=e.wheelDeltaX,i=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta),{x:t,y:i}}function gn(e){var t=pn(e);return t.x*=fn,t.y*=fn,t}function mn(e,t){var r=pn(t),n=r.x,o=r.y,s=e.display,a=s.scroller,d=a.scrollWidth>a.clientWidth,c=a.scrollHeight>a.clientHeight;if(n&&d||o&&c){if(o&&b&&l)e:for(var u=t.target,f=s.view;u!=a;u=u.parentNode)for(var p=0;p<f.length;p++)if(f[p].node==u){e.display.currentWheelTarget=u;break e}if(n&&!i&&!h&&null!=fn)return o&&c&&_r(e,Math.max(0,a.scrollTop+o*fn)),Er(e,Math.max(0,a.scrollLeft+n*fn)),(!o||o&&c)&&lt(t),void(s.wheelStartX=null);if(o&&null!=fn){var g=o*fn,m=e.doc.scrollTop,v=m+s.wrapper.clientHeight;g<0?m=Math.max(0,m+g-50):v=Math.min(e.doc.height,v+g+50),an(e,{top:m,bottom:v})}un<20&&(null==s.wheelStartX?(s.wheelStartX=a.scrollLeft,s.wheelStartY=a.scrollTop,s.wheelDX=n,s.wheelDY=o,setTimeout(function(){if(null!=s.wheelStartX){var e=a.scrollLeft-s.wheelStartX,t=a.scrollTop-s.wheelStartY,i=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,i&&(fn=(fn*un+i)/(un+1),++un)}},200)):(s.wheelDX+=n,s.wheelDY+=o))}}s?fn=-.53:i?fn=15:c?fn=-.7:u&&(fn=-1/3);var vn=function(e,t){this.ranges=e,this.primIndex=t};vn.prototype.primary=function(){return this.ranges[this.primIndex]},vn.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var i=this.ranges[t],r=e.ranges[t];if(!ve(i.anchor,r.anchor)||!ve(i.head,r.head))return!1}return!0},vn.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new bn(be(this.ranges[t].anchor),be(this.ranges[t].head));return new vn(e,this.primIndex)},vn.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},vn.prototype.contains=function(e,t){t||(t=e);for(var i=0;i<this.ranges.length;i++){var r=this.ranges[i];if(me(t,r.from())>=0&&me(e,r.to())<=0)return i}return-1};var bn=function(e,t){this.anchor=e,this.head=t};function yn(e,t){var i=e[t];e.sort(function(e,t){return me(e.from(),t.from())}),t=z(e,i);for(var r=1;r<e.length;r++){var n=e[r],o=e[r-1];if(me(o.to(),n.from())>=0){var s=we(o.from(),n.from()),a=ye(o.to(),n.to()),l=o.empty()?n.from()==n.head:o.from()==o.head;r<=t&&--t,e.splice(--r,2,new bn(l?a:s,l?s:a))}}return new vn(e,t)}function wn(e,t){return new vn([new bn(e,t||e)],0)}function xn(e){return e.text?ge(e.from.line+e.text.length-1,X(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Cn(e,t){if(me(e,t.from)<0)return e;if(me(e,t.to)<=0)return xn(t);var i=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=xn(t).ch-t.to.ch),ge(i,r)}function Sn(e,t){for(var i=[],r=0;r<e.sel.ranges.length;r++){var n=e.sel.ranges[r];i.push(new bn(Cn(n.anchor,t),Cn(n.head,t)))}return yn(i,e.sel.primIndex)}function kn(e,t,i){return e.line==t.line?ge(i.line,e.ch-t.ch+i.ch):ge(i.line+(e.line-t.line),e.ch)}function Dn(e){e.doc.mode=At(e.options,e.doc.modeOption),Tn(e)}function Tn(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,tn(e,100),e.state.modeGen++,e.curOp&&Zr(e)}function An(e,t){return 0==t.from.ch&&0==t.to.ch&&""==X(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Nn(e,t,i,r){function n(e){return i?i[e]:null}function o(e,i,n){!function(e,t,i,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Ee(e),$e(e,i);var n=r?r(e):1;n!=e.height&&ce(e,n)}(e,i,n,r),ai(e,"change",e,t)}function s(e,t){for(var i=[],o=e;o<t;++o)i.push(new Vt(d[o],n(o),r));return i}var a=t.from,l=t.to,d=t.text,c=ae(e,a.line),h=ae(e,l.line),u=X(d),f=n(d.length-1),p=l.line-a.line;if(t.full)e.insert(0,s(0,d.length)),e.remove(d.length,e.size-d.length);else if(An(e,t)){var g=s(0,d.length-1);o(h,h.text,f),p&&e.remove(a.line,p),g.length&&e.insert(a.line,g)}else if(c==h)if(1==d.length)o(c,c.text.slice(0,a.ch)+u+c.text.slice(l.ch),f);else{var m=s(1,d.length-1);m.push(new Vt(u+c.text.slice(l.ch),f,r)),o(c,c.text.slice(0,a.ch)+d[0],n(0)),e.insert(a.line+1,m)}else if(1==d.length)o(c,c.text.slice(0,a.ch)+d[0]+h.text.slice(l.ch),n(0)),e.remove(a.line+1,p);else{o(c,c.text.slice(0,a.ch)+d[0],n(0)),o(h,u+h.text.slice(l.ch),f);var v=s(1,d.length-1);p>1&&e.remove(a.line+1,p-1),e.insert(a.line+1,v)}ai(e,"change",e,t)}function _n(e,t,i){!function e(r,n,o){if(r.linked)for(var s=0;s<r.linked.length;++s){var a=r.linked[s];if(a.doc!=n){var l=o&&a.sharedHist;i&&!l||(t(a.doc,l),e(a.doc,r,l))}}}(e,null,!0)}function Mn(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,or(e),Dn(e),En(e),e.options.lineWrapping||Ye(e),e.options.mode=t.modeOption,Zr(e)}function En(e){("rtl"==e.doc.direction?O:T)(e.display.lineDiv,"CodeMirror-rtl")}function $n(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function On(e,t){var i={from:be(t.from),to:xn(t),text:le(e,t.from,t.to)};return jn(e,i,t.from.line,t.to.line+1),_n(e,function(e){return jn(e,i,t.from.line,t.to.line+1)},!0),i}function In(e){for(;e.length;){if(!X(e).ranges)break;e.pop()}}function Rn(e,t,i,r){var n=e.history;n.undone.length=0;var o,s,a=+new Date;if((n.lastOp==r||n.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&n.lastModTime>a-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(In(e.done),X(e.done)):e.done.length&&!X(e.done).ranges?X(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),X(e.done)):void 0}(n,n.lastOp==r)))s=X(o.changes),0==me(t.from,t.to)&&0==me(t.from,s.to)?s.to=xn(t):o.changes.push(On(e,t));else{var l=X(n.done);for(l&&l.ranges||Ln(e.sel,n.done),o={changes:[On(e,t)],generation:n.generation},n.done.push(o);n.done.length>n.undoDepth;)n.done.shift(),n.done[0].ranges||n.done.shift()}n.done.push(i),n.generation=++n.maxGeneration,n.lastModTime=n.lastSelTime=a,n.lastOp=n.lastSelOp=r,n.lastOrigin=n.lastSelOrigin=t.origin,s||rt(e,"historyAdded")}function Fn(e,t,i,r){var n=e.history,o=r&&r.origin;i==n.lastSelOp||o&&n.lastSelOrigin==o&&(n.lastModTime==n.lastSelTime&&n.lastOrigin==o||function(e,t,i,r){var n=t.charAt(0);return"*"==n||"+"==n&&i.ranges.length==r.ranges.length&&i.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,X(n.done),t))?n.done[n.done.length-1]=t:Ln(t,n.done),n.lastSelTime=+new Date,n.lastSelOrigin=o,n.lastSelOp=i,r&&!1!==r.clearRedo&&In(n.undone)}function Ln(e,t){var i=X(t);i&&i.ranges&&i.equals(e)||t.push(e)}function jn(e,t,i,r){var n=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,i),Math.min(e.first+e.size,r),function(i){i.markedSpans&&((n||(n=t["spans_"+e.id]={}))[o]=i.markedSpans),++o})}function Pn(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function zn(e,t){var i=function(e,t){var i=t["spans_"+e.id];if(!i)return null;for(var r=[],n=0;n<t.text.length;++n)r.push(Pn(i[n]));return r}(e,t),r=_e(e,t);if(!i)return r;if(!r)return i;for(var n=0;n<i.length;++n){var o=i[n],s=r[n];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],d=0;d<o.length;++d)if(o[d].marker==l.marker)continue e;o.push(l)}else s&&(i[n]=s)}return i}function Bn(e,t,i){for(var r=[],n=0;n<e.length;++n){var o=e[n];if(o.ranges)r.push(i?vn.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var d=s[l],c=void 0;if(a.push({from:d.from,to:d.to,text:d.text}),t)for(var h in d)(c=h.match(/^spans_(\d+)$/))&&z(t,Number(c[1]))>-1&&(X(a)[h]=d[h],delete d[h])}}}return r}function Hn(e,t,i,r){if(r){var n=e.anchor;if(i){var o=me(t,n)<0;o!=me(i,n)<0?(n=t,t=i):o!=me(t,i)<0&&(t=i)}return new bn(n,t)}return new bn(i||t,t)}function qn(e,t,i,r,n){null==n&&(n=e.cm&&(e.cm.display.shift||e.extend)),Yn(e,new vn([Hn(e.sel.primary(),t,i,n)],0),r)}function Wn(e,t,i){for(var r=[],n=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=Hn(e.sel.ranges[o],t[o],null,n);Yn(e,yn(r,e.sel.primIndex),i)}function Gn(e,t,i,r){var n=e.sel.ranges.slice(0);n[t]=i,Yn(e,yn(n,e.sel.primIndex),r)}function Vn(e,t,i,r){Yn(e,wn(t,i),r)}function Un(e,t,i){var r=e.history.done,n=X(r);n&&n.ranges?(r[r.length-1]=t,Xn(e,t,i)):Yn(e,t,i)}function Yn(e,t,i){Xn(e,t,i),Fn(e,e.sel,e.cm?e.cm.curOp.id:NaN,i)}function Xn(e,t,i){(st(e,"beforeSelectionChange")||e.cm&&st(e.cm,"beforeSelectionChange"))&&(t=function(e,t,i){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var i=0;i<t.length;i++)this.ranges[i]=new bn(Ce(e,t[i].anchor),Ce(e,t[i].head))},origin:i&&i.origin};return rt(e,"beforeSelectionChange",e,r),e.cm&&rt(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?yn(r.ranges,r.ranges.length-1):t}(e,t,i)),Zn(e,Jn(e,t,i&&i.bias||(me(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),i&&!1===i.scroll||!e.cm||Dr(e.cm)}function Zn(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,ot(e.cm)),ai(e,"cursorActivity",e))}function Kn(e){Zn(e,Jn(e,e.sel,null,!1))}function Jn(e,t,i,r){for(var n,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=eo(e,s.anchor,a&&a.anchor,i,r),d=eo(e,s.head,a&&a.head,i,r);(n||l!=s.anchor||d!=s.head)&&(n||(n=t.ranges.slice(0,o)),n[o]=new bn(l,d))}return n?yn(n,t.primIndex):t}function Qn(e,t,i,r,n){var o=ae(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(n&&(rt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(i){var d=l.find(r<0?1:-1),c=void 0;if((r<0?l.inclusiveRight:l.inclusiveLeft)&&(d=to(e,d,-r,d&&d.line==t.line?o:null)),d&&d.line==t.line&&(c=me(d,i))&&(r<0?c<0:c>0))return Qn(e,d,t,r,n)}var h=l.find(r<0?-1:1);return(r<0?l.inclusiveLeft:l.inclusiveRight)&&(h=to(e,h,r,h.line==t.line?o:null)),h?Qn(e,h,t,r,n):null}}return t}function eo(e,t,i,r,n){var o=r||1,s=Qn(e,t,i,o,n)||!n&&Qn(e,t,i,o,!0)||Qn(e,t,i,-o,n)||!n&&Qn(e,t,i,-o,!0);return s||(e.cantEdit=!0,ge(e.first,0))}function to(e,t,i,r){return i<0&&0==t.ch?t.line>e.first?Ce(e,ge(t.line-1)):null:i>0&&t.ch==(r||ae(e,t.line)).text.length?t.line<e.first+e.size-1?ge(t.line+1,0):null:new ge(t.line,t.ch+i)}function io(e){e.setSelection(ge(e.firstLine(),0),ge(e.lastLine()),q)}function ro(e,t,i){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return i&&(r.update=function(t,i,n,o){t&&(r.from=Ce(e,t)),i&&(r.to=Ce(e,i)),n&&(r.text=n),void 0!==o&&(r.origin=o)}),rt(e,"beforeChange",e,r),e.cm&&rt(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function no(e,t,i){if(e.cm){if(!e.cm.curOp)return Ur(e.cm,no)(e,t,i);if(e.cm.state.suppressEdits)return}if(!(st(e,"beforeChange")||e.cm&&st(e.cm,"beforeChange"))||(t=ro(e,t,!0))){var r=ke&&!i&&function(e,t,i){var r=null;if(e.iter(t.line,i.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||r&&-1!=z(r,i)||(r||(r=[])).push(i)}}),!r)return null;for(var n=[{from:t,to:i}],o=0;o<r.length;++o)for(var s=r[o],a=s.find(0),l=0;l<n.length;++l){var d=n[l];if(!(me(d.to,a.from)<0||me(d.from,a.to)>0)){var c=[l,1],h=me(d.from,a.from),u=me(d.to,a.to);(h<0||!s.inclusiveLeft&&!h)&&c.push({from:d.from,to:a.from}),(u>0||!s.inclusiveRight&&!u)&&c.push({from:a.to,to:d.to}),n.splice.apply(n,c),l+=c.length-3}}return n}(e,t.from,t.to);if(r)for(var n=r.length-1;n>=0;--n)oo(e,{from:r[n].from,to:r[n].to,text:n?[""]:t.text,origin:t.origin});else oo(e,t)}}function oo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=me(t.from,t.to)){var i=Sn(e,t);Rn(e,t,i,e.cm?e.cm.curOp.id:NaN),lo(e,t,i,_e(e,t));var r=[];_n(e,function(e,i){i||-1!=z(r,e.history)||(fo(e.history,t),r.push(e.history)),lo(e,t,null,_e(e,t))})}}function so(e,t,i){var r=e.cm&&e.cm.state.suppressEdits;if(!r||i){for(var n,o=e.history,s=e.sel,a="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,d=0;d<a.length&&(n=a[d],i?!n.ranges||n.equals(e.sel):n.ranges);d++);if(d!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(n=a.pop()).ranges){if(r)return void a.push(n);break}if(Ln(n,l),i&&!n.equals(e.sel))return void Yn(e,n,{clearRedo:!1});s=n}var c=[];Ln(s,l),l.push({changes:c,generation:o.generation}),o.generation=n.generation||++o.maxGeneration;for(var h=st(e,"beforeChange")||e.cm&&st(e.cm,"beforeChange"),u=function(i){var r=n.changes[i];if(r.origin=t,h&&!ro(e,r,!1))return a.length=0,{};c.push(On(e,r));var o=i?Sn(e,r):X(a);lo(e,r,o,zn(e,r)),!i&&e.cm&&e.cm.scrollIntoView({from:r.from,to:xn(r)});var s=[];_n(e,function(e,t){t||-1!=z(s,e.history)||(fo(e.history,r),s.push(e.history)),lo(e,r,null,zn(e,r))})},f=n.changes.length-1;f>=0;--f){var p=u(f);if(p)return p.v}}}}function ao(e,t){if(0!=t&&(e.first+=t,e.sel=new vn(Z(e.sel.ranges,function(e){return new bn(ge(e.anchor.line+t,e.anchor.ch),ge(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Zr(e.cm,e.first,e.first-t,t);for(var i=e.cm.display,r=i.viewFrom;r<i.viewTo;r++)Kr(e.cm,r,"gutter")}}function lo(e,t,i,r){if(e.cm&&!e.cm.curOp)return Ur(e.cm,lo)(e,t,i,r);if(t.to.line<e.first)ao(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var n=t.text.length-1-(e.first-t.from.line);ao(e,n),t={from:ge(e.first,0),to:ge(t.to.line+n,t.to.ch),text:[X(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ge(o,ae(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=le(e,t.from,t.to),i||(i=Sn(e,t)),e.cm?function(e,t,i){var r=e.doc,n=e.display,o=t.from,s=t.to,a=!1,l=o.line;e.options.lineWrapping||(l=he(Be(ae(r,o.line))),r.iter(l,s.line+1,function(e){if(e==n.maxLine)return a=!0,!0}));r.sel.contains(t.from,t.to)>-1&&ot(e);Nn(r,t,i,nr(e)),e.options.lineWrapping||(r.iter(l,o.line+t.text.length,function(e){var t=Ue(e);t>n.maxLineLength&&(n.maxLine=e,n.maxLineLength=t,n.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0));(function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var i=e.first,r=t-1;r>i;r--){var n=ae(e,r).stateAfter;if(n&&(!(n instanceof It)||r+n.lookAhead<t)){i=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,i)}})(r,o.line),tn(e,400);var d=t.text.length-(s.line-o.line)-1;t.full?Zr(e):o.line!=s.line||1!=t.text.length||An(e.doc,t)?Zr(e,o.line,s.line+1,d):Kr(e,o.line,"text");var c=st(e,"changes"),h=st(e,"change");if(h||c){var u={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};h&&ai(e,"change",e,u),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(u)}e.display.selForContextMenu=null}(e.cm,t,r):Nn(e,t,r),Xn(e,i,q)}}function co(e,t,i,r,n){var o;(r||(r=i),me(r,i)<0)&&(i=(o=[r,i])[0],r=o[1]);"string"==typeof t&&(t=e.splitLines(t)),no(e,{from:i,to:r,text:t,origin:n})}function ho(e,t,i,r){i<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function uo(e,t,i,r){for(var n=0;n<e.length;++n){var o=e[n],s=!0;if(o.ranges){o.copied||((o=e[n]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)ho(o.ranges[a].anchor,t,i,r),ho(o.ranges[a].head,t,i,r)}else{for(var l=0;l<o.changes.length;++l){var d=o.changes[l];if(i<d.from.line)d.from=ge(d.from.line+r,d.from.ch),d.to=ge(d.to.line+r,d.to.ch);else if(t<=d.to.line){s=!1;break}}s||(e.splice(0,n+1),n=0)}}}function fo(e,t){var i=t.from.line,r=t.to.line,n=t.text.length-(r-i)-1;uo(e.done,i,r,n),uo(e.undone,i,r,n)}function po(e,t,i,r){var n=t,o=t;return"number"==typeof t?o=ae(e,xe(e,t)):n=he(t),null==n?null:(r(o,n)&&e.cm&&Kr(e.cm,n,i),o)}function go(e){this.lines=e,this.parent=null;for(var t=0,i=0;i<e.length;++i)e[i].parent=this,t+=e[i].height;this.height=t}function mo(e){this.children=e;for(var t=0,i=0,r=0;r<e.length;++r){var n=e[r];t+=n.chunkSize(),i+=n.height,n.parent=this}this.size=t,this.height=i,this.parent=null}bn.prototype.from=function(){return we(this.anchor,this.head)},bn.prototype.to=function(){return ye(this.anchor,this.head)},bn.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},go.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=e,r=e+t;i<r;++i){var n=this.lines[i];this.height-=n.height,Ut(n),ai(n,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,i){for(var r=e+t;e<r;++e)if(i(this.lines[e]))return!0}},mo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i=0;i<this.children.length;++i){var r=this.children[i],n=r.chunkSize();if(e<n){var o=Math.min(t,n-e),s=r.height;if(r.removeInner(e,o),this.height-=s-r.height,n==o&&(this.children.splice(i--,1),r.parent=null),0==(t-=o))break;e=0}else e-=n}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof go))){var a=[];this.collapse(a),this.children=[new go(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,i){this.size+=t.length,this.height+=i;for(var r=0;r<this.children.length;++r){var n=this.children[r],o=n.chunkSize();if(e<=o){if(n.insertInner(e,t,i),n.lines&&n.lines.length>50){for(var s=n.lines.length%25+25,a=s;a<n.lines.length;){var l=new go(n.lines.slice(a,a+=25));n.height-=l.height,this.children.splice(++r,0,l),l.parent=this}n.lines=n.lines.slice(0,s),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new mo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var i=z(e.parent.children,e);e.parent.children.splice(i+1,0,t)}else{var r=new mo(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var r=0;r<this.children.length;++r){var n=this.children[r],o=n.chunkSize();if(e<o){var s=Math.min(t,o-e);if(n.iterN(e,s,i))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var vo=function(e,t,i){if(i)for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);this.doc=e,this.node=t};function bo(e,t,i){Ve(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&kr(e,i)}vo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,i=this.line,r=he(i);if(null!=r&&t){for(var n=0;n<t.length;++n)t[n]==this&&t.splice(n--,1);t.length||(i.widgets=null);var o=wi(this);ce(i,Math.max(0,i.height-o)),e&&(Vr(e,function(){bo(e,i,-o),Kr(e,r,"widget")}),ai(e,"lineWidgetCleared",e,this,r))}},vo.prototype.changed=function(){var e=this,t=this.height,i=this.doc.cm,r=this.line;this.height=null;var n=wi(this)-t;n&&(We(this.doc,r)||ce(r,r.height+n),i&&Vr(i,function(){i.curOp.forceUpdate=!0,bo(i,r,n),ai(i,"lineWidgetChanged",i,e,he(r))}))},at(vo);var yo=0,wo=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++yo};function xo(e,t,i,r,n){if(r&&r.shared)return function(e,t,i,r,n){(r=L(r)).shared=!1;var o=[xo(e,t,i,r,n)],s=o[0],a=r.widgetNode;return _n(e,function(e){a&&(r.widgetNode=a.cloneNode(!0)),o.push(xo(e,Ce(e,t),Ce(e,i),r,n));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=X(o)}),new Co(o,s)}(e,t,i,r,n);if(e.cm&&!e.cm.curOp)return Ur(e.cm,xo)(e,t,i,r,n);var o=new wo(e,n),s=me(t,i);if(r&&L(r,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=M("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(ze(e,t.line,t,i,o)||t.line!=i.line&&ze(e,i.line,t,i,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");De=!0}o.addToHistory&&Rn(e,{from:t,to:i,origin:"markText"},e.sel,NaN);var a,l=t.line,d=e.cm;if(e.iter(l,i.line+1,function(e){d&&o.collapsed&&!d.options.lineWrapping&&Be(e)==d.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&ce(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new Te(o,l==t.line?t.ch:null,l==i.line?i.ch:null)),++l}),o.collapsed&&e.iter(t.line,i.line+1,function(t){We(e,t)&&ce(t,0)}),o.clearOnEnter&&et(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(ke=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++yo,o.atomic=!0),d){if(a&&(d.curOp.updateMaxLine=!0),o.collapsed)Zr(d,t.line,i.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=t.line;c<=i.line;c++)Kr(d,c,"text");o.atomic&&Kn(d.doc),ai(d,"markerAdded",d,o)}return o}wo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&zr(e),st(this,"clear")){var i=this.find();i&&ai(this,"clear",i.from,i.to)}for(var r=null,n=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Ae(s.markedSpans,this);e&&!this.collapsed?Kr(e,he(s),"text"):e&&(null!=a.to&&(n=he(s)),null!=a.from&&(r=he(s))),s.markedSpans=Ne(s.markedSpans,a),null==a.from&&this.collapsed&&!We(this.doc,s)&&e&&ce(s,er(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var d=Be(this.lines[l]),c=Ue(d);c>e.display.maxLineLength&&(e.display.maxLine=d,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Zr(e,r,n+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Kn(e.doc)),e&&ai(e,"markerCleared",e,this,r,n),t&&Br(e),this.parent&&this.parent.clear()}},wo.prototype.find=function(e,t){var i,r;null==e&&"bookmark"==this.type&&(e=1);for(var n=0;n<this.lines.length;++n){var o=this.lines[n],s=Ae(o.markedSpans,this);if(null!=s.from&&(i=ge(t?o:he(o),s.from),-1==e))return i;if(null!=s.to&&(r=ge(t?o:he(o),s.to),1==e))return r}return i&&{from:i,to:r}},wo.prototype.changed=function(){var e=this,t=this.find(-1,!0),i=this,r=this.doc.cm;t&&r&&Vr(r,function(){var n=t.line,o=he(t.line),s=Mi(r,o);if(s&&(Li(s),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!We(i.doc,n)&&null!=i.height){var a=i.height;i.height=null;var l=wi(i)-a;l&&ce(n,n.height+l)}ai(r,"markerChanged",r,e)})},wo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=z(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},wo.prototype.detachLine=function(e){if(this.lines.splice(z(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},at(wo);var Co=function(e,t){this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=this};function So(e){return e.findMarks(ge(e.first,0),e.clipPos(ge(e.lastLine())),function(e){return e.parent})}function ko(e){for(var t=function(t){var i=e[t],r=[i.primary.doc];_n(i.primary.doc,function(e){return r.push(e)});for(var n=0;n<i.markers.length;n++){var o=i.markers[n];-1==z(r,o.doc)&&(o.parent=null,i.markers.splice(n--,1))}},i=0;i<e.length;i++)t(i)}Co.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ai(this,"clear")}},Co.prototype.find=function(e,t){return this.primary.find(e,t)},at(Co);var Do=0,To=function(e,t,i,r,n){if(!(this instanceof To))return new To(e,t,i,r,n);null==i&&(i=0),mo.call(this,[new go([new Vt("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var o=ge(i,0);this.sel=wn(o),this.history=new $n(null),this.id=++Do,this.modeOption=t,this.lineSep=r,this.direction="rtl"==n?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Nn(this,{from:o,to:o,text:e}),Yn(this,wn(o),q)};To.prototype=J(mo.prototype,{constructor:To,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,r=0;r<t.length;++r)i+=t[r].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=de(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Xr(function(e){var t=ge(this.first,0),i=this.first+this.size-1;no(this,{from:t,to:ge(i,ae(this,i).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Tr(this.cm,0,0),Yn(this,wn(t),q)}),replaceRange:function(e,t,i,r){co(this,e,t=Ce(this,t),i=i?Ce(this,i):t,r)},getRange:function(e,t,i){var r=le(this,Ce(this,e),Ce(this,t));return!1===i?r:r.join(i||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(fe(this,e))return ae(this,e)},getLineNumber:function(e){return he(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=ae(this,e)),Be(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Ce(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Xr(function(e,t,i){Vn(this,Ce(this,"number"==typeof e?ge(e,t||0):e),null,i)}),setSelection:Xr(function(e,t,i){Vn(this,Ce(this,e),Ce(this,t||e),i)}),extendSelection:Xr(function(e,t,i){qn(this,Ce(this,e),t&&Ce(this,t),i)}),extendSelections:Xr(function(e,t){Wn(this,Se(this,e),t)}),extendSelectionsBy:Xr(function(e,t){Wn(this,Se(this,Z(this.sel.ranges,e)),t)}),setSelections:Xr(function(e,t,i){if(e.length){for(var r=[],n=0;n<e.length;n++)r[n]=new bn(Ce(this,e[n].anchor),Ce(this,e[n].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Yn(this,yn(r,t),i)}}),addSelection:Xr(function(e,t,i){var r=this.sel.ranges.slice(0);r.push(new bn(Ce(this,e),Ce(this,t||e))),Yn(this,yn(r,r.length-1),i)}),getSelection:function(e){for(var t,i=this.sel.ranges,r=0;r<i.length;r++){var n=le(this,i[r].from(),i[r].to());t=t?t.concat(n):n}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],i=this.sel.ranges,r=0;r<i.length;r++){var n=le(this,i[r].from(),i[r].to());!1!==e&&(n=n.join(e||this.lineSeparator())),t[r]=n}return t},replaceSelection:function(e,t,i){for(var r=[],n=0;n<this.sel.ranges.length;n++)r[n]=e;this.replaceSelections(r,t,i||"+input")},replaceSelections:Xr(function(e,t,i){for(var r=[],n=this.sel,o=0;o<n.ranges.length;o++){var s=n.ranges[o];r[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:i}}for(var a=t&&"end"!=t&&function(e,t,i){for(var r=[],n=ge(e.first,0),o=n,s=0;s<t.length;s++){var a=t[s],l=kn(a.from,n,o),d=kn(xn(a),n,o);if(n=a.to,o=d,"around"==i){var c=e.sel.ranges[s],h=me(c.head,c.anchor)<0;r[s]=new bn(h?d:l,h?l:d)}else r[s]=new bn(l,l)}return new vn(r,e.sel.primIndex)}(this,r,t),l=r.length-1;l>=0;l--)no(this,r[l]);a?Un(this,a):this.cm&&Dr(this.cm)}),undo:Xr(function(){so(this,"undo")}),redo:Xr(function(){so(this,"redo")}),undoSelection:Xr(function(){so(this,"undo",!0)}),redoSelection:Xr(function(){so(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,i=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var n=0;n<e.undone.length;n++)e.undone[n].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){this.history=new $n(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Bn(this.history.done),undone:Bn(this.history.undone)}},setHistory:function(e){var t=this.history=new $n(this.history.maxGeneration);t.done=Bn(e.done.slice(0),null,!0),t.undone=Bn(e.undone.slice(0),null,!0)},setGutterMarker:Xr(function(e,t,i){return po(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=i,!i&&ie(r)&&(e.gutterMarkers=null),!0})}),clearGutter:Xr(function(e){var t=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[e]&&po(t,i,"gutter",function(){return i.gutterMarkers[e]=null,ie(i.gutterMarkers)&&(i.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!fe(this,e))return null;if(t=e,!(e=ae(this,e)))return null}else if(null==(t=he(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Xr(function(e,t,i){return po(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(k(i).test(e[r]))return!1;e[r]+=" "+i}else e[r]=i;return!0})}),removeLineClass:Xr(function(e,t,i){return po(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",n=e[r];if(!n)return!1;if(null==i)e[r]=null;else{var o=n.match(k(i));if(!o)return!1;var s=o.index+o[0].length;e[r]=n.slice(0,o.index)+(o.index&&s!=n.length?" ":"")+n.slice(s)||null}return!0})}),addLineWidget:Xr(function(e,t,i){return function(e,t,i,r){var n=new vo(e,i,r),o=e.cm;return o&&n.noHScroll&&(o.display.alignWidgets=!0),po(e,t,"widget",function(t){var i=t.widgets||(t.widgets=[]);if(null==n.insertAt?i.push(n):i.splice(Math.min(i.length-1,Math.max(0,n.insertAt)),0,n),n.line=t,o&&!We(e,t)){var r=Ve(t)<e.scrollTop;ce(t,t.height+wi(n)),r&&kr(o,n.height),o.curOp.forceUpdate=!0}return!0}),o&&ai(o,"lineWidgetAdded",o,n,"number"==typeof t?t:he(t)),n}(this,e,t,i)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,i){return xo(this,Ce(this,e),Ce(this,t),i,i&&i.type||"range")},setBookmark:function(e,t){var i={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return xo(this,e=Ce(this,e),e,i,"bookmark")},findMarksAt:function(e){var t=[],i=ae(this,(e=Ce(this,e)).line).markedSpans;if(i)for(var r=0;r<i.length;++r){var n=i[r];(null==n.from||n.from<=e.ch)&&(null==n.to||n.to>=e.ch)&&t.push(n.marker.parent||n.marker)}return t},findMarks:function(e,t,i){e=Ce(this,e),t=Ce(this,t);var r=[],n=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&n==e.line&&e.ch>=l.to||null==l.from&&n!=e.line||null!=l.from&&n==t.line&&l.from>=t.ch||i&&!i(l.marker)||r.push(l.marker.parent||l.marker)}++n}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var i=t.markedSpans;if(i)for(var r=0;r<i.length;++r)null!=i[r].from&&e.push(i[r].marker)}),e},posFromIndex:function(e){var t,i=this.first,r=this.lineSeparator().length;return this.iter(function(n){var o=n.text.length+r;if(o>e)return t=e,!0;e-=o,++i}),Ce(this,ge(i,t))},indexFromPos:function(e){var t=(e=Ce(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+i}),t},copy:function(e){var t=new To(de(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,i=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<i&&(i=e.to);var r=new To(de(this,t,i),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var i=0;i<t.length;i++){var r=t[i],n=r.find(),o=e.clipPos(n.from),s=e.clipPos(n.to);if(me(o,s)){var a=xo(e,o,s,r.primary,r.primary.type);r.markers.push(a),a.parent=r}}}(r,So(this)),r},unlinkDoc:function(e){if(e instanceof Ss&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),ko(So(this));break}}if(e.history==this.history){var i=[e.id];_n(e,function(e){return i.push(e.id)},!0),e.history=new $n(null),e.history.done=Bn(this.history.done,i),e.history.undone=Bn(this.history.undone,i)}},iterLinkedDocs:function(e){_n(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):wt(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Xr(function(e){var t;("rtl"!=e&&(e="ltr"),e!=this.direction)&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Vr(t=this.cm,function(){En(t),Zr(t)}))})}),To.prototype.eachLine=To.prototype.iter;var Ao=0;function No(e){var t=this;if(_o(t),!nt(t,e)&&!xi(t.display,e)){lt(e),s&&(Ao=+new Date);var i=sr(t,e,!0),r=e.dataTransfer.files;if(i&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var n=r.length,o=Array(n),a=0,l=function(e,r){if(!t.options.allowDropFileTypes||-1!=z(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=Ur(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[r]=e,++a==n){var l={from:i=Ce(t.doc,i),to:i,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};no(t.doc,l),Un(t.doc,wn(i,xn(l)))}}),s.readAsText(e)}},d=0;d<n;++d)l(r[d],d);else{if(t.state.draggingText&&t.doc.sel.contains(i)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var c=e.dataTransfer.getData("Text");if(c){var h;if(t.state.draggingText&&!t.state.draggingText.copy&&(h=t.listSelections()),Xn(t.doc,wn(i,i)),h)for(var u=0;u<h.length;++u)co(t.doc,"",h[u].anchor,h[u].head,"drag");t.replaceSelection(c,"around","paste"),t.display.input.focus()}}catch(e){}}}}function _o(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Mo(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),i=0;i<t.length;i++){var r=t[i].CodeMirror;r&&e(r)}}var Eo=!1;function $o(){var e;Eo||(et(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Mo(Oo)},100))}),et(window,"blur",function(){return Mo(vr)}),Eo=!0)}function Oo(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Io={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ro=0;Ro<10;Ro++)Io[Ro+48]=Io[Ro+96]=String(Ro);for(var Fo=65;Fo<=90;Fo++)Io[Fo]=String.fromCharCode(Fo);for(var Lo=1;Lo<=12;Lo++)Io[Lo+111]=Io[Lo+63235]="F"+Lo;var jo={};function Po(e){var t,i,r,n,o=e.split(/-(?!$)/);e=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))n=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0}}return t&&(e="Alt-"+e),i&&(e="Ctrl-"+e),n&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function zo(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==r){delete e[i];continue}for(var n=Z(i.split(" "),Po),o=0;o<n.length;o++){var s=void 0,a=void 0;o==n.length-1?(a=n.join(" "),s=r):(a=n.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[i]}for(var d in t)e[d]=t[d];return e}function Bo(e,t,i,r){var n=(t=Go(t)).call?t.call(e,r):t[e];if(!1===n)return"nothing";if("..."===n)return"multi";if(null!=n&&i(n))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Bo(e,t.fallthrough,i,r);for(var o=0;o<t.fallthrough.length;o++){var s=Bo(e,t.fallthrough[o],i,r);if(s)return s}}}function Ho(e){var t="string"==typeof e?e:Io[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function qo(e,t,i){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(C?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(C?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!i&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Wo(e,t){if(h&&34==e.keyCode&&e.char)return!1;var i=Io[e.keyCode];return null!=i&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(i=e.code),qo(i,e,t))}function Go(e){return"string"==typeof e?jo[e]:e}function Vo(e,t){for(var i=e.doc.sel.ranges,r=[],n=0;n<i.length;n++){for(var o=t(i[n]);r.length&&me(o.from,X(r).to)<=0;){var s=r.pop();if(me(s.from,o.from)<0){o.from=s.from;break}}r.push(o)}Vr(e,function(){for(var t=r.length-1;t>=0;t--)co(e.doc,"",r[t].from,r[t].to,"+delete");Dr(e)})}function Uo(e,t,i){var r=oe(e.text,t+i,i);return r<0||r>e.text.length?null:r}function Yo(e,t,i){var r=Uo(e,t.ch,i);return null==r?null:new ge(t.line,r,i<0?"after":"before")}function Xo(e,t,i,r,n){if(e){var o=Je(i,t.doc.direction);if(o){var s,a=n<0?X(o):o[0],l=n<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==t.doc.direction){var d=Ei(t,i);s=n<0?i.text.length-1:0;var c=$i(t,d,s).top;s=se(function(e){return $i(t,d,e).top==c},n<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=Uo(i,s,1))}else s=n<0?a.to:a.from;return new ge(r,s,l)}}return new ge(r,n<0?i.text.length:0,n<0?"before":"after")}jo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},jo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},jo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},jo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},jo.default=b?jo.macDefault:jo.pcDefault;var Zo={selectAll:io,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),q)},killLine:function(e){return Vo(e,function(t){if(t.empty()){var i=ae(e.doc,t.head.line).text.length;return t.head.ch==i&&t.head.line<e.lastLine()?{from:t.head,to:ge(t.head.line+1,0)}:{from:t.head,to:ge(t.head.line,i)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Vo(e,function(t){return{from:ge(t.from().line,0),to:Ce(e.doc,ge(t.to().line+1,0))}})},delLineLeft:function(e){return Vo(e,function(e){return{from:ge(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return Vo(e,function(t){var i=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:i},"div"),to:t.from()}})},delWrappedLineRight:function(e){return Vo(e,function(t){var i=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ge(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ge(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Ko(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Jo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return function(e,t){var i=ae(e.doc,t),r=function(e){for(var t;t=je(e);)e=t.find(1,!0).line;return e}(i);r!=i&&(t=he(r));return Xo(!0,e,i,t,-1)}(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div")},G)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:i},"div")},G)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:i},"div");return r.ch<e.getLine(r.line).search(/\S/)?Jo(e,t.head):r},G)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],i=e.listSelections(),r=e.options.tabSize,n=0;n<i.length;n++){var o=i[n].from(),s=j(e.getLine(o.line),o.ch,r);t.push(Y(r-s%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Vr(e,function(){for(var t=e.listSelections(),i=[],r=0;r<t.length;r++)if(t[r].empty()){var n=t[r].head,o=ae(e.doc,n.line).text;if(o)if(n.ch==o.length&&(n=new ge(n.line,n.ch-1)),n.ch>0)n=new ge(n.line,n.ch+1),e.replaceRange(o.charAt(n.ch-1)+o.charAt(n.ch-2),ge(n.line,n.ch-2),n,"+transpose");else if(n.line>e.doc.first){var s=ae(e.doc,n.line-1).text;s&&(n=new ge(n.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),ge(n.line-1,s.length-1),n,"+transpose"))}i.push(new bn(n,n))}e.setSelections(i)})},newlineAndIndent:function(e){return Vr(e,function(){for(var t=e.listSelections(),i=t.length-1;i>=0;i--)e.replaceRange(e.doc.lineSeparator(),t[i].anchor,t[i].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Dr(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ko(e,t){var i=ae(e.doc,t),r=Be(i);return r!=i&&(t=he(r)),Xo(!0,e,r,t,1)}function Jo(e,t){var i=Ko(e,t.line),r=ae(e.doc,i.line),n=Je(r,e.doc.direction);if(!n||0==n[0].level){var o=Math.max(0,r.text.search(/\S/)),s=t.line==i.line&&t.ch<=o&&t.ch;return ge(i.line,s?0:o,i.sticky)}return i}function Qo(e,t,i){if("string"==typeof t&&!(t=Zo[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),n=t(e)!=H}finally{e.display.shift=r,e.state.suppressEdits=!1}return n}var es=new P;function ts(e,t,i,r){var n=e.state.keySeq;if(n){if(Ho(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:es.set(50,function(){e.state.keySeq==n&&(e.state.keySeq=null,e.display.input.reset())}),is(e,n+" "+t,i,r))return!0}return is(e,t,i,r)}function is(e,t,i,r){var n=function(e,t,i){for(var r=0;r<e.state.keyMaps.length;r++){var n=Bo(t,e.state.keyMaps[r],i,e);if(n)return n}return e.options.extraKeys&&Bo(t,e.options.extraKeys,i,e)||Bo(t,e.options.keyMap,i,e)}(e,t,r);return"multi"==n&&(e.state.keySeq=t),"handled"==n&&ai(e,"keyHandled",e,t,i),"handled"!=n&&"multi"!=n||(lt(i),fr(e)),!!n}function rs(e,t){var i=Wo(t,!0);return!!i&&(t.shiftKey&&!e.state.keySeq?ts(e,"Shift-"+i,t,function(t){return Qo(e,t,!0)})||ts(e,i,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return Qo(e,t)}):ts(e,i,t,function(t){return Qo(e,t)}))}var ns=null;function os(e){var t=this;if(t.curOp.focus=$(),!nt(t,e)){s&&a<11&&27==e.keyCode&&(e.returnValue=!1);var i=e.keyCode;t.display.shift=16==i||e.shiftKey;var r=rs(t,e);h&&(ns=r?i:null,!r&&88==i&&!Ct&&(b?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function i(e){18!=e.keyCode&&e.altKey||(T(t,"CodeMirror-crosshair"),it(document,"keyup",i),it(document,"mouseover",i))}O(t,"CodeMirror-crosshair"),et(document,"keyup",i),et(document,"mouseover",i)}(t)}}function ss(e){16==e.keyCode&&(this.doc.sel.shift=!1),nt(this,e)}function as(e){var t=this;if(!(xi(t.display,e)||nt(t,e)||e.ctrlKey&&!e.altKey||b&&e.metaKey)){var i=e.keyCode,r=e.charCode;if(h&&i==ns)return ns=null,void lt(e);if(!h||e.which&&!(e.which<10)||!rs(t,e)){var n=String.fromCharCode(null==r?i:r);"\b"!=n&&(function(e,t,i){return ts(e,"'"+i+"'",t,function(t){return Qo(e,t,!0)})}(t,e,n)||t.display.input.onKeyPress(e))}}}var ls,ds,cs=function(e,t,i){this.time=e,this.pos=t,this.button=i};function hs(e){var t=this,i=t.display;if(!(nt(t,e)||i.activeTouch&&i.input.supportsTouch()))if(i.input.ensurePolled(),i.shift=e.shiftKey,xi(i,e))l||(i.scroller.draggable=!1,setTimeout(function(){return i.scroller.draggable=!0},100));else if(!ps(t,e)){var r=sr(t,e),n=ft(e),o=r?function(e,t){var i=+new Date;return ds&&ds.compare(i,e,t)?(ls=ds=null,"triple"):ls&&ls.compare(i,e,t)?(ds=new cs(i,e,t),ls=null,"double"):(ls=new cs(i,e,t),ds=null,"single")}(r,n):"single";window.focus(),1==n&&t.state.selectingText&&t.state.selectingText(e),r&&function(e,t,i,r,n){var o="Click";"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o);return ts(e,qo(o=(1==t?"Left":2==t?"Middle":"Right")+o,n),n,function(t){if("string"==typeof t&&(t=Zo[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,i)!=H}finally{e.state.suppressEdits=!1}return r})}(t,n,r,o,e)||(1==n?r?function(e,t,i,r){s?setTimeout(F(pr,e),0):e.curOp.focus=$();var n,o=function(e,t,i){var r=e.getOption("configureMouse"),n=r?r(e,t,i):{};if(null==n.unit){var o=y?i.shiftKey&&i.metaKey:i.altKey;n.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}(null==n.extend||e.doc.extend)&&(n.extend=e.doc.extend||i.shiftKey);null==n.addNew&&(n.addNew=b?i.metaKey:i.ctrlKey);null==n.moveOnDrag&&(n.moveOnDrag=!(b?i.altKey:i.ctrlKey));return n}(e,i,r),d=e.doc.sel;e.options.dragDrop&&mt&&!e.isReadOnly()&&"single"==i&&(n=d.contains(t))>-1&&(me((n=d.ranges[n]).from(),t)<0||t.xRel>0)&&(me(n.to(),t)>0||t.xRel<0)?function(e,t,i,r){var n=e.display,o=!1,d=Ur(e,function(t){l&&(n.scroller.draggable=!1),e.state.draggingText=!1,it(n.wrapper.ownerDocument,"mouseup",d),it(n.wrapper.ownerDocument,"mousemove",c),it(n.scroller,"dragstart",h),it(n.scroller,"drop",d),o||(lt(t),r.addNew||qn(e.doc,i,null,null,r.extend),l||s&&9==a?setTimeout(function(){n.wrapper.ownerDocument.body.focus(),n.input.focus()},20):n.input.focus())}),c=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},h=function(){return o=!0};l&&(n.scroller.draggable=!0);e.state.draggingText=d,d.copy=!r.moveOnDrag,n.scroller.dragDrop&&n.scroller.dragDrop();et(n.wrapper.ownerDocument,"mouseup",d),et(n.wrapper.ownerDocument,"mousemove",c),et(n.scroller,"dragstart",h),et(n.scroller,"drop",d),gr(e),setTimeout(function(){return n.input.focus()},20)}(e,r,t,o):function(e,t,i,r){var n=e.display,o=e.doc;lt(t);var s,a,l=o.sel,d=l.ranges;r.addNew&&!r.extend?(a=o.sel.contains(i),s=a>-1?d[a]:new bn(i,i)):(s=o.sel.primary(),a=o.sel.primIndex);if("rectangle"==r.unit)r.addNew||(s=new bn(i,i)),i=sr(e,t,!0,!0),a=-1;else{var c=us(e,i,r.unit);s=r.extend?Hn(s,c.anchor,c.head,r.extend):c}r.addNew?-1==a?(a=d.length,Yn(o,yn(d.concat([s]),a),{scroll:!1,origin:"*mouse"})):d.length>1&&d[a].empty()&&"char"==r.unit&&!r.extend?(Yn(o,yn(d.slice(0,a).concat(d.slice(a+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Gn(o,a,s,W):(a=0,Yn(o,new vn([s],0),W),l=o.sel);var h=i;function u(t){if(0!=me(h,t))if(h=t,"rectangle"==r.unit){for(var n=[],d=e.options.tabSize,c=j(ae(o,i.line).text,i.ch,d),u=j(ae(o,t.line).text,t.ch,d),f=Math.min(c,u),p=Math.max(c,u),g=Math.min(i.line,t.line),m=Math.min(e.lastLine(),Math.max(i.line,t.line));g<=m;g++){var v=ae(o,g).text,b=V(v,f,d);f==p?n.push(new bn(ge(g,b),ge(g,b))):v.length>b&&n.push(new bn(ge(g,b),ge(g,V(v,p,d))))}n.length||n.push(new bn(i,i)),Yn(o,yn(l.ranges.slice(0,a).concat(n),a),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y,w=s,x=us(e,t,r.unit),C=w.anchor;me(x.anchor,C)>0?(y=x.head,C=we(w.from(),x.anchor)):(y=x.anchor,C=ye(w.to(),x.head));var S=l.ranges.slice(0);S[a]=function(e,t){var i=t.anchor,r=t.head,n=ae(e.doc,i.line);if(0==me(i,r)&&i.sticky==r.sticky)return t;var o=Je(n);if(!o)return t;var s=Ze(o,i.ch,i.sticky),a=o[s];if(a.from!=i.ch&&a.to!=i.ch)return t;var l,d=s+(a.from==i.ch==(1!=a.level)?0:1);if(0==d||d==o.length)return t;if(r.line!=i.line)l=(r.line-i.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=Ze(o,r.ch,r.sticky),h=c-s||(r.ch-i.ch)*(1==a.level?-1:1);l=c==d-1||c==d?h<0:h>0}var u=o[d+(l?-1:0)],f=l==(1==u.level),p=f?u.from:u.to,g=f?"after":"before";return i.ch==p&&i.sticky==g?t:new bn(new ge(i.line,p,g),r)}(e,new bn(Ce(o,C),y)),Yn(o,yn(S,a),W)}}var f=n.wrapper.getBoundingClientRect(),p=0;function g(t){e.state.selectingText=!1,p=1/0,lt(t),n.input.focus(),it(n.wrapper.ownerDocument,"mousemove",m),it(n.wrapper.ownerDocument,"mouseup",v),o.history.lastSelOrigin=null}var m=Ur(e,function(t){0!==t.buttons&&ft(t)?function t(i){var s=++p;var a=sr(e,i,!0,"rectangle"==r.unit);if(!a)return;if(0!=me(a,h)){e.curOp.focus=$(),u(a);var l=wr(n,o);(a.line>=l.to||a.line<l.from)&&setTimeout(Ur(e,function(){p==s&&t(i)}),150)}else{var d=i.clientY<f.top?-20:i.clientY>f.bottom?20:0;d&&setTimeout(Ur(e,function(){p==s&&(n.scroller.scrollTop+=d,t(i))}),50)}}(t):g(t)}),v=Ur(e,g);e.state.selectingText=v,et(n.wrapper.ownerDocument,"mousemove",m),et(n.wrapper.ownerDocument,"mouseup",v)}(e,r,t,o)}(t,r,o,e):ut(e)==i.scroller&&lt(e):2==n?(r&&qn(t.doc,r),setTimeout(function(){return i.input.focus()},20)):3==n&&(S?gs(t,e):gr(t)))}}function us(e,t,i){if("char"==i)return new bn(t,t);if("word"==i)return e.findWordAt(t);if("line"==i)return new bn(ge(t.line,0),Ce(e.doc,ge(t.line+1,0)));var r=i(e,t);return new bn(r.from,r.to)}function fs(e,t,i,r){var n,o;if(t.touches)n=t.touches[0].clientX,o=t.touches[0].clientY;else try{n=t.clientX,o=t.clientY}catch(t){return!1}if(n>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&lt(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!st(e,i))return ct(t);o-=a.top-s.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var d=s.gutters.childNodes[l];if(d&&d.getBoundingClientRect().right>=n)return rt(e,i,e,ue(e.doc,o),e.options.gutters[l],t),ct(t)}}function ps(e,t){return fs(e,t,"gutterClick",!0)}function gs(e,t){xi(e.display,t)||function(e,t){if(!st(e,"gutterContextMenu"))return!1;return fs(e,t,"gutterContextMenu",!1)}(e,t)||nt(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function ms(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Pi(e)}cs.prototype.compare=function(e,t,i){return this.time+400>e&&0==me(t,this.pos)&&i==this.button};var vs={toString:function(){return"CodeMirror.Init"}},bs={},ys={};function ws(e){cn(e),Zr(e),xr(e)}function xs(e,t,i){if(!t!=!(i&&i!=vs)){var r=e.display.dragFunctions,n=t?et:it;n(e.display.scroller,"dragstart",r.start),n(e.display.scroller,"dragenter",r.enter),n(e.display.scroller,"dragover",r.over),n(e.display.scroller,"dragleave",r.leave),n(e.display.scroller,"drop",r.drop)}}function Cs(e){e.options.lineWrapping?(O(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(T(e.display.wrapper,"CodeMirror-wrap"),Ye(e)),or(e),Zr(e),Pi(e),setTimeout(function(){return Rr(e)},100)}function Ss(e,t){var r=this;if(!(this instanceof Ss))return new Ss(e,t);this.options=t=t?L(t):{},L(bs,t,!1),hn(t);var n=t.value;"string"==typeof n?n=new To(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var o=new Ss.inputStyles[t.inputStyle](this),d=this.display=new function(e,t,r){var n=this;this.input=r,n.scrollbarFiller=_("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=_("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=M("div",null,"CodeMirror-code"),n.selectionDiv=_("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=_("div",null,"CodeMirror-cursors"),n.measure=_("div",null,"CodeMirror-measure"),n.lineMeasure=_("div",null,"CodeMirror-measure"),n.lineSpace=M("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none");var o=M("div",[n.lineSpace],"CodeMirror-lines");n.mover=_("div",[o],null,"position: relative"),n.sizer=_("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=_("div",null,null,"position: absolute; height: "+B+"px; width: 1px;"),n.gutters=_("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=_("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=_("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),s&&a<8&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),l||i&&v||(n.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(n.wrapper):e(n.wrapper)),n.viewFrom=n.viewTo=t.first,n.reportedViewFrom=n.reportedViewTo=t.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,r.init(n)}(e,n,o);for(var c in d.wrapper.CodeMirror=this,cn(this),ms(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),jr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new P,keySeq:null,specialChars:null},t.autofocus&&!v&&d.input.focus(),s&&a<11&&setTimeout(function(){return r.display.input.reset(!0)},20),function(e){var t=e.display;et(t.scroller,"mousedown",Ur(e,hs)),et(t.scroller,"dblclick",s&&a<11?Ur(e,function(t){if(!nt(e,t)){var i=sr(e,t);if(i&&!ps(e,t)&&!xi(e.display,t)){lt(t);var r=e.findWordAt(i);qn(e.doc,r.anchor,r.head)}}}):function(t){return nt(e,t)||lt(t)});S||et(t.scroller,"contextmenu",function(t){return gs(e,t)});var i,r={end:0};function n(){t.activeTouch&&(i=setTimeout(function(){return t.activeTouch=null},1e3),(r=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var i=t.left-e.left,r=t.top-e.top;return i*i+r*r>400}et(t.scroller,"touchstart",function(n){if(!nt(e,n)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(n)&&!ps(e,n)){t.input.ensurePolled(),clearTimeout(i);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==n.touches.length&&(t.activeTouch.left=n.touches[0].pageX,t.activeTouch.top=n.touches[0].pageY)}}),et(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),et(t.scroller,"touchend",function(i){var r=t.activeTouch;if(r&&!xi(t,i)&&null!=r.left&&!r.moved&&new Date-r.start<300){var s,a=e.coordsChar(t.activeTouch,"page");s=!r.prev||o(r,r.prev)?new bn(a,a):!r.prev.prev||o(r,r.prev.prev)?e.findWordAt(a):new bn(ge(a.line,0),Ce(e.doc,ge(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),lt(i)}n()}),et(t.scroller,"touchcancel",n),et(t.scroller,"scroll",function(){t.scroller.clientHeight&&(_r(e,t.scroller.scrollTop),Er(e,t.scroller.scrollLeft,!0),rt(e,"scroll",e))}),et(t.scroller,"mousewheel",function(t){return mn(e,t)}),et(t.scroller,"DOMMouseScroll",function(t){return mn(e,t)}),et(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){nt(e,t)||ht(t)},over:function(t){nt(e,t)||(!function(e,t){var i=sr(e,t);if(i){var r=document.createDocumentFragment();cr(e,i,r),e.display.dragCursor||(e.display.dragCursor=_("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),N(e.display.dragCursor,r)}}(e,t),ht(t))},start:function(t){return function(e,t){if(s&&(!e.state.draggingText||+new Date-Ao<100))ht(t);else if(!nt(e,t)&&!xi(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!u)){var i=_("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),t.dataTransfer.setDragImage(i,0,0),h&&i.parentNode.removeChild(i)}}(e,t)},drop:Ur(e,No),leave:function(t){nt(e,t)||_o(e)}};var l=t.input.getField();et(l,"keyup",function(t){return ss.call(e,t)}),et(l,"keydown",Ur(e,os)),et(l,"keypress",Ur(e,as)),et(l,"focus",function(t){return mr(e,t)}),et(l,"blur",function(t){return vr(e,t)})}(this),$o(),zr(this),this.curOp.forceUpdate=!0,Mn(this,n),t.autofocus&&!v||this.hasFocus()?setTimeout(F(mr,this),20):vr(this),ys)ys.hasOwnProperty(c)&&ys[c](r,t[c],vs);Cr(this),t.finishInit&&t.finishInit(this);for(var f=0;f<ks.length;++f)ks[f](r);Br(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(d.lineDiv).textRendering&&(d.lineDiv.style.textRendering="auto")}Ss.defaults=bs,Ss.optionHandlers=ys;var ks=[];function Ds(e,t,i,r){var n,o=e.doc;null==i&&(i="add"),"smart"==i&&(o.mode.indent?n=jt(e,t).state:i="prev");var s=e.options.tabSize,a=ae(o,t),l=j(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var d,c=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==i&&((d=o.mode.indent(n,a.text.slice(c.length),a.text))==H||d>150)){if(!r)return;i="prev"}}else d=0,i="not";"prev"==i?d=t>o.first?j(ae(o,t-1).text,null,s):0:"add"==i?d=l+e.options.indentUnit:"subtract"==i?d=l-e.options.indentUnit:"number"==typeof i&&(d=l+i),d=Math.max(0,d);var h="",u=0;if(e.options.indentWithTabs)for(var f=Math.floor(d/s);f;--f)u+=s,h+="\t";if(u<d&&(h+=Y(d-u)),h!=c)return co(o,h,ge(t,0),ge(t,c.length),"+input"),a.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var g=o.sel.ranges[p];if(g.head.line==t&&g.head.ch<c.length){var m=ge(t,c.length);Gn(o,p,new bn(m,m));break}}}Ss.defineInitHook=function(e){return ks.push(e)};var Ts=null;function As(e){Ts=e}function Ns(e,t,i,r,n){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var s,a=e.state.pasteIncoming||"paste"==n,l=wt(t),d=null;if(a&&r.ranges.length>1)if(Ts&&Ts.text.join("\n")==t){if(r.ranges.length%Ts.text.length==0){d=[];for(var c=0;c<Ts.text.length;c++)d.push(o.splitLines(Ts.text[c]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(d=Z(l,function(e){return[e]}));for(var h=r.ranges.length-1;h>=0;h--){var u=r.ranges[h],f=u.from(),p=u.to();u.empty()&&(i&&i>0?f=ge(f.line,f.ch-i):e.state.overwrite&&!a?p=ge(p.line,Math.min(ae(o,p.line).text.length,p.ch+X(l).length)):Ts&&Ts.lineWise&&Ts.text.join("\n")==t&&(f=p=ge(f.line,0))),s=e.curOp.updateInput;var g={from:f,to:p,text:d?d[h%d.length]:l,origin:n||(a?"paste":e.state.cutIncoming?"cut":"+input")};no(e.doc,g),ai(e,"inputRead",e,g)}t&&!a&&Ms(e,t),Dr(e),e.curOp.updateInput=s,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function _s(e,t){var i=e.clipboardData&&e.clipboardData.getData("Text");if(i)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Vr(t,function(){return Ns(t,i,0,null,"paste")}),!0}function Ms(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var i=e.doc.sel,r=i.ranges.length-1;r>=0;r--){var n=i.ranges[r];if(!(n.head.ch>100||r&&i.ranges[r-1].head.line==n.head.line)){var o=e.getModeAt(n.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=Ds(e,n.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(ae(e.doc,n.head.line).text.slice(0,n.head.ch))&&(s=Ds(e,n.head.line,"smart"));s&&ai(e,"electricInput",e,n.head.line)}}}function Es(e){for(var t=[],i=[],r=0;r<e.doc.sel.ranges.length;r++){var n=e.doc.sel.ranges[r].head.line,o={anchor:ge(n,0),head:ge(n+1,0)};i.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:i}}function $s(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function Os(){var e=_("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=_("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),g&&(e.style.border="1px solid black"),$s(e),t}function Is(e,t,i,r,n){var o=t,s=i,a=ae(e,t.line);function l(r){var o,s;if(null==(o=n?function(e,t,i,r){var n=Je(t,e.doc.direction);if(!n)return Yo(t,i,r);i.ch>=t.text.length?(i.ch=t.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var o=Ze(n,i.ch,i.sticky),s=n[o];if("ltr"==e.doc.direction&&s.level%2==0&&(r>0?s.to>i.ch:s.from<i.ch))return Yo(t,i,r);var a,l=function(e,i){return Uo(t,e instanceof ge?e.ch:e,i)},d=function(i){return e.options.lineWrapping?(a=a||Ei(e,t),Ki(e,t,a,i)):{begin:0,end:t.text.length}},c=d("before"==i.sticky?l(i,-1):i.ch);if("rtl"==e.doc.direction||1==s.level){var h=1==s.level==r<0,u=l(i,h?1:-1);if(null!=u&&(h?u<=s.to&&u<=c.end:u>=s.from&&u>=c.begin)){var f=h?"before":"after";return new ge(i.line,u,f)}}var p=function(e,t,r){for(var o=function(e,t){return t?new ge(i.line,l(e,1),"before"):new ge(i.line,e,"after")};e>=0&&e<n.length;e+=t){var s=n[e],a=t>0==(1!=s.level),d=a?r.begin:l(r.end,-1);if(s.from<=d&&d<s.to)return o(d,a);if(d=a?s.from:l(s.to,-1),r.begin<=d&&d<r.end)return o(d,a)}},g=p(o+r,r,c);if(g)return g;var m=r>0?c.end:l(c.begin,-1);return null==m||r>0&&m==t.text.length||!(g=p(r>0?0:n.length-1,r,d(m)))?null:g}(e.cm,a,t,i):Yo(a,t,i))){if(r||(s=t.line+i)<e.first||s>=e.first+e.size||(t=new ge(s,t.ch,t.sticky),!(a=ae(e,s))))return!1;t=Xo(n,e.cm,a,t.line,i)}else t=o;return!0}if("char"==r)l();else if("column"==r)l(!0);else if("word"==r||"group"==r)for(var d=null,c="group"==r,h=e.cm&&e.cm.getHelper(t,"wordChars"),u=!0;!(i<0)||l(!u);u=!1){var f=a.text.charAt(t.ch)||"\n",p=te(f,h)?"w":c&&"\n"==f?"n":!c||/\s/.test(f)?null:"p";if(!c||u||p||(p="s"),d&&d!=p){i<0&&(i=1,l(),t.sticky="after");break}if(p&&(d=p),i>0&&!l(!u))break}var g=eo(e,t,o,s,!0);return ve(o,g)&&(g.hitSide=!0),g}function Rs(e,t,i,r){var n,o,s=e.doc,a=t.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),d=Math.max(l-.5*er(e.display),3);n=(i>0?t.bottom:t.top)+i*d}else"line"==r&&(n=i>0?t.bottom+3:t.top-3);for(;(o=Xi(e,a,n)).outside;){if(i<0?n<=0:n>=s.height){o.hitSide=!0;break}n+=5*i}return o}var Fs=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new P,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ls(e,t){var i=Mi(e,t.line);if(!i||i.hidden)return null;var r=ae(e.doc,t.line),n=Ni(i,r,t.line),o=Je(r,e.doc.direction),s="left";o&&(s=Ze(o,t.ch)%2?"right":"left");var a=Ri(n.map,t.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function js(e,t){return t&&(e.bad=!0),e}function Ps(e,t,i){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[i]))return js(e.clipPos(ge(e.display.viewTo-1)),!0);t=null,i=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var n=0;n<e.display.view.length;n++){var o=e.display.view[n];if(o.node==r)return zs(o,t,i)}}function zs(e,t,i){var r=e.text.firstChild,n=!1;if(!t||!E(r,t))return js(ge(he(e.line),0),!0);if(t==r&&(n=!0,t=r.childNodes[i],i=0,!t)){var o=e.rest?X(e.rest):e.line;return js(ge(he(o),o.text.length),n)}var s=3==t.nodeType?t:null,a=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,i&&(i=s.nodeValue.length));a.parentNode!=r;)a=a.parentNode;var l=e.measure,d=l.maps;function c(t,i,r){for(var n=-1;n<(d?d.length:0);n++)for(var o=n<0?l.map:d[n],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==i){var c=he(n<0?e.line:e.rest[n]),h=o[s]+r;return(r<0||a!=t)&&(h=o[s+(r?1:0)]),ge(c,h)}}}var h=c(s,a,i);if(h)return js(h,n);for(var u=a.nextSibling,f=s?s.nodeValue.length-i:0;u;u=u.nextSibling){if(h=c(u,u.firstChild,0))return js(ge(h.line,h.ch-f),n);f+=u.textContent.length}for(var p=a.previousSibling,g=i;p;p=p.previousSibling){if(h=c(p,p.firstChild,-1))return js(ge(h.line,h.ch+g),n);g+=p.textContent.length}}Fs.prototype.init=function(e){var t=this,i=this,r=i.cm,n=i.div=e.lineDiv;function o(e){if(!nt(r,e)){if(r.somethingSelected())As({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=Es(r);As({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,q),r.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var o=Ts.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var s=Os(),a=s.firstChild;r.display.lineSpace.insertBefore(s,r.display.lineSpace.firstChild),a.value=Ts.text.join("\n");var l=document.activeElement;R(a),setTimeout(function(){r.display.lineSpace.removeChild(s),l.focus(),l==n&&i.showPrimarySelection()},50)}}$s(n,r.options.spellcheck),et(n,"paste",function(e){nt(r,e)||_s(e,r)||a<=11&&setTimeout(Ur(r,function(){return t.updateFromDOM()}),20)}),et(n,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),et(n,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),et(n,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),et(n,"touchstart",function(){return i.forceCompositionEnd()}),et(n,"input",function(){t.composing||t.readFromDOMSoon()}),et(n,"copy",o),et(n,"cut",o)},Fs.prototype.prepareSelection=function(){var e=dr(this.cm,!1);return e.focus=this.cm.state.focused,e},Fs.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Fs.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Fs.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),n=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var s=Ps(t,e.anchorNode,e.anchorOffset),a=Ps(t,e.focusNode,e.focusOffset);if(!s||s.bad||!a||a.bad||0!=me(we(s,a),n)||0!=me(ye(s,a),o)){var l=t.display.view,d=n.line>=t.display.viewFrom&&Ls(t,n)||{node:l[0].measure.map[2],offset:0},c=o.line<t.display.viewTo&&Ls(t,o);if(!c){var h=l[l.length-1].measure,u=h.maps?h.maps[h.maps.length-1]:h.map;c={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}if(d&&c){var f,p=e.rangeCount&&e.getRangeAt(0);try{f=D(d.node,d.offset,c.offset,c.node)}catch(e){}f&&(!i&&t.state.focused?(e.collapse(d.node,d.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),p&&null==e.anchorNode?e.addRange(p):i&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Fs.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Fs.prototype.showMultipleSelections=function(e){N(this.cm.display.cursorDiv,e.cursors),N(this.cm.display.selectionDiv,e.selection)},Fs.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Fs.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return E(this.div,t)},Fs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Fs.prototype.blur=function(){this.div.blur()},Fs.prototype.getField=function(){return this.div},Fs.prototype.supportsTouch=function(){return!0},Fs.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Vr(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))})},Fs.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Fs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(m&&c&&this.cm.options.gutters.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var i=Ps(t,e.anchorNode,e.anchorOffset),r=Ps(t,e.focusNode,e.focusOffset);i&&r&&Vr(t,function(){Yn(t.doc,wn(i,r),q),(i.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},Fs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,i,r=this.cm,n=r.display,o=r.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>r.firstLine()&&(s=ge(s.line-1,ae(r.doc,s.line-1).length)),a.ch==ae(r.doc,a.line).text.length&&a.line<r.lastLine()&&(a=ge(a.line+1,0)),s.line<n.viewFrom||a.line>n.viewTo-1)return!1;s.line==n.viewFrom||0==(e=ar(r,s.line))?(t=he(n.view[0].line),i=n.view[0].node):(t=he(n.view[e].line),i=n.view[e-1].node.nextSibling);var l,d,c=ar(r,a.line);if(c==n.view.length-1?(l=n.viewTo-1,d=n.lineDiv.lastChild):(l=he(n.view[c+1].line)-1,d=n.view[c+1].node.previousSibling),!i)return!1;for(var h=r.doc.splitLines(function(e,t,i,r,n){var o="",s=!1,a=e.doc.lineSeparator(),l=!1;function d(){s&&(o+=a,l&&(o+=a),s=l=!1)}function c(e){e&&(d(),o+=e)}function h(t){if(1==t.nodeType){var i=t.getAttribute("cm-text");if(i)return void c(i);var o,u=t.getAttribute("cm-marker");if(u){var f=e.findMarks(ge(r,0),ge(n+1,0),(m=+u,function(e){return e.id==m}));return void(f.length&&(o=f[0].find(0))&&c(le(e.doc,o.from,o.to).join(a)))}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;p&&d();for(var g=0;g<t.childNodes.length;g++)h(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),p&&(s=!0)}else 3==t.nodeType&&c(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var m}for(;h(t),t!=i;)t=t.nextSibling,l=!1;return o}(r,i,d,t,l)),u=le(r.doc,ge(t,0),ge(l,ae(r.doc,l).text.length));h.length>1&&u.length>1;)if(X(h)==X(u))h.pop(),u.pop(),l--;else{if(h[0]!=u[0])break;h.shift(),u.shift(),t++}for(var f=0,p=0,g=h[0],m=u[0],v=Math.min(g.length,m.length);f<v&&g.charCodeAt(f)==m.charCodeAt(f);)++f;for(var b=X(h),y=X(u),w=Math.min(b.length-(1==h.length?f:0),y.length-(1==u.length?f:0));p<w&&b.charCodeAt(b.length-p-1)==y.charCodeAt(y.length-p-1);)++p;if(1==h.length&&1==u.length&&t==s.line)for(;f&&f>s.ch&&b.charCodeAt(b.length-p-1)==y.charCodeAt(y.length-p-1);)f--,p++;h[h.length-1]=b.slice(0,b.length-p).replace(/^\u200b+/,""),h[0]=h[0].slice(f).replace(/\u200b+$/,"");var x=ge(t,f),C=ge(l,u.length?X(u).length-p:0);return h.length>1||h[0]||me(x,C)?(co(r.doc,h,x,C,"+input"),!0):void 0},Fs.prototype.ensurePolled=function(){this.forceCompositionEnd()},Fs.prototype.reset=function(){this.forceCompositionEnd()},Fs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Fs.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Fs.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Vr(this.cm,function(){return Zr(e.cm)})},Fs.prototype.setUneditable=function(e){e.contentEditable="false"},Fs.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Ur(this.cm,Ns)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Fs.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Fs.prototype.onContextMenu=function(){},Fs.prototype.resetPosition=function(){},Fs.prototype.needsContentAttribute=!0;var Bs=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new P,this.hasSelection=!1,this.composing=null};Bs.prototype.init=function(e){var t=this,i=this,r=this.cm;this.createField(e);var n=this.textarea;function o(e){if(!nt(r,e)){if(r.somethingSelected())As({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Es(r);As({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,q):(i.prevInput="",n.value=t.text.join("\n"),R(n))}"cut"==e.type&&(r.state.cutIncoming=!0)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),g&&(n.style.width="0px"),et(n,"input",function(){s&&a>=9&&t.hasSelection&&(t.hasSelection=null),i.poll()}),et(n,"paste",function(e){nt(r,e)||_s(e,r)||(r.state.pasteIncoming=!0,i.fastPoll())}),et(n,"cut",o),et(n,"copy",o),et(e.scroller,"paste",function(t){xi(e,t)||nt(r,t)||(r.state.pasteIncoming=!0,i.focus())}),et(e.lineSpace,"selectstart",function(t){xi(e,t)||lt(t)}),et(n,"compositionstart",function(){var e=r.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),et(n,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},Bs.prototype.createField=function(e){this.wrapper=Os(),this.textarea=this.wrapper.firstChild},Bs.prototype.prepareSelection=function(){var e=this.cm,t=e.display,i=e.doc,r=dr(e);if(e.options.moveInputWithCursor){var n=Vi(e,i.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,n.top+s.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,n.left+s.left-o.left))}return r},Bs.prototype.showSelection=function(e){var t=this.cm.display;N(t.cursorDiv,e.cursors),N(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Bs.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var i=t.getSelection();this.textarea.value=i,t.state.focused&&R(this.textarea),s&&a>=9&&(this.hasSelection=i)}else e||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null))}},Bs.prototype.getField=function(){return this.textarea},Bs.prototype.supportsTouch=function(){return!1},Bs.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||$()!=this.textarea))try{this.textarea.focus()}catch(e){}},Bs.prototype.blur=function(){this.textarea.blur()},Bs.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Bs.prototype.receivedFocus=function(){this.slowPoll()},Bs.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Bs.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function i(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,i))})},Bs.prototype.poll=function(){var e=this,t=this.cm,i=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||xt(i)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var n=i.value;if(n==r&&!t.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===n||b&&/[\uf700-\uf7ff]/.test(n))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=n.charCodeAt(0);if(8203!=o||r||(r="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,d=Math.min(r.length,n.length);l<d&&r.charCodeAt(l)==n.charCodeAt(l);)++l;return Vr(t,function(){Ns(t,n.slice(l),r.length-l,null,e.composing?"*compose":null),n.length>1e3||n.indexOf("\n")>-1?i.value=e.prevInput="":e.prevInput=n,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Bs.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Bs.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},Bs.prototype.onContextMenu=function(e){var t=this,i=t.cm,r=i.display,n=t.textarea,o=sr(i,e),d=r.scroller.scrollTop;if(o&&!h){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(o)&&Ur(i,Yn)(i.doc,wn(o),q);var c=n.style.cssText,u=t.wrapper.style.cssText;t.wrapper.style.cssText="position: absolute";var f,p=t.wrapper.getBoundingClientRect();if(n.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(f=window.scrollY),r.input.focus(),l&&window.scrollTo(null,f),r.input.reset(),i.somethingSelected()||(n.value=t.prevInput=" "),t.contextMenuPending=!0,r.selForContextMenu=i.doc.sel,clearTimeout(r.detectingSelectAll),s&&a>=9&&m(),S){ht(e);var g=function(){it(window,"mouseup",g),setTimeout(v,20)};et(window,"mouseup",g)}else setTimeout(v,50)}function m(){if(null!=n.selectionStart){var e=i.somethingSelected(),o="​"+(e?n.value:"");n.value="⇚",n.value=o,t.prevInput=e?"":"​",n.selectionStart=1,n.selectionEnd=o.length,r.selForContextMenu=i.doc.sel}}function v(){if(t.contextMenuPending=!1,t.wrapper.style.cssText=u,n.style.cssText=c,s&&a<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=d),null!=n.selectionStart){(!s||s&&a<9)&&m();var e=0,o=function(){r.selForContextMenu==i.doc.sel&&0==n.selectionStart&&n.selectionEnd>0&&"​"==t.prevInput?Ur(i,io)(i):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},Bs.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},Bs.prototype.setUneditable=function(){},Bs.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function i(i,r,n,o){e.defaults[i]=r,n&&(t[i]=o?function(e,t,i){i!=vs&&n(e,t,i)}:n)}e.defineOption=i,e.Init=vs,i("value","",function(e,t){return e.setValue(t)},!0),i("mode",null,function(e,t){e.doc.modeOption=t,Dn(e)},!0),i("indentUnit",2,Dn,!0),i("indentWithTabs",!1),i("smartIndent",!0),i("tabSize",4,function(e){Tn(e),Pi(e),Zr(e)},!0),i("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var i=[],r=e.doc.first;e.doc.iter(function(e){for(var n=0;;){var o=e.text.indexOf(t,n);if(-1==o)break;n=o+t.length,i.push(ge(r,o))}r++});for(var n=i.length-1;n>=0;n--)co(e.doc,t,i[n],ge(i[n].line,i[n].ch+t.length))}}),i("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,i){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),i!=vs&&e.refresh()}),i("specialCharPlaceholder",Jt,function(e){return e.refresh()},!0),i("electricChars",!0),i("inputStyle",v?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),i("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),i("rtlMoveVisually",!w),i("wholeLineUpdateBefore",!0),i("theme","default",function(e){ms(e),ws(e)},!0),i("keyMap","default",function(e,t,i){var r=Go(t),n=i!=vs&&Go(i);n&&n.detach&&n.detach(e,r),r.attach&&r.attach(e,n||null)}),i("extraKeys",null),i("configureMouse",null),i("lineWrapping",!1,Cs,!0),i("gutters",[],function(e){hn(e.options),ws(e)},!0),i("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?rr(e.display)+"px":"0",e.refresh()},!0),i("coverGutterNextToScrollbar",!1,function(e){return Rr(e)},!0),i("scrollbarStyle","native",function(e){jr(e),Rr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),i("lineNumbers",!1,function(e){hn(e.options),ws(e)},!0),i("firstLineNumber",1,ws,!0),i("lineNumberFormatter",function(e){return e},ws,!0),i("showCursorWhenSelecting",!1,lr,!0),i("resetSelectionOnContextMenu",!0),i("lineWiseCopyCut",!0),i("pasteLinesPerSelection",!0),i("readOnly",!1,function(e,t){"nocursor"==t&&(vr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),i("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),i("dragDrop",!0,xs),i("allowDropFileTypes",null),i("cursorBlinkRate",530),i("cursorScrollMargin",0),i("cursorHeight",1,lr,!0),i("singleCursorHeightPerLine",!0,lr,!0),i("workTime",100),i("workDelay",100),i("flattenSpans",!0,Tn,!0),i("addModeClass",!1,Tn,!0),i("pollInterval",100),i("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),i("historyEventDelay",1250),i("viewportMargin",10,function(e){return e.refresh()},!0),i("maxHighlightLength",1e4,Tn,!0),i("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),i("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),i("autofocus",null),i("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),i("phrases",null)}(Ss),function(e){var t=e.optionHandlers,i=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,i){var r=this.options,n=r[e];r[e]==i&&"mode"!=e||(r[e]=i,t.hasOwnProperty(e)&&Ur(this,t[e])(this,i,n),rt(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Go(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,i=0;i<t.length;++i)if(t[i]==e||t[i].name==e)return t.splice(i,1),!0},addOverlay:Yr(function(t,i){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");!function(e,t,i){for(var r=0,n=i(t);r<e.length&&i(e[r])<=n;)r++;e.splice(r,0,t)}(this.state.overlays,{mode:r,modeSpec:t,opaque:i&&i.opaque,priority:i&&i.priority||0},function(e){return e.priority}),this.state.modeGen++,Zr(this)}),removeOverlay:Yr(function(e){for(var t=this.state.overlays,i=0;i<t.length;++i){var r=t[i].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(i,1),this.state.modeGen++,void Zr(this)}}),indentLine:Yr(function(e,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),fe(this.doc,e)&&Ds(this,e,t,i)}),indentSelection:Yr(function(e){for(var t=this.doc.sel.ranges,i=-1,r=0;r<t.length;r++){var n=t[r];if(n.empty())n.head.line>i&&(Ds(this,n.head.line,e,!0),i=n.head.line,r==this.doc.sel.primIndex&&Dr(this));else{var o=n.from(),s=n.to(),a=Math.max(i,o.line);i=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<i;++l)Ds(this,l,e);var d=this.doc.sel.ranges;0==o.ch&&t.length==d.length&&d[r].from().ch>0&&Gn(this.doc,r,new bn(o,d[r].to()),q)}}}),getTokenAt:function(e,t){return qt(this,e,t)},getLineTokens:function(e,t){return qt(this,ge(e),t,!0)},getTokenTypeAt:function(e){e=Ce(this.doc,e);var t,i=Lt(this,ae(this.doc,e.line)),r=0,n=(i.length-1)/2,o=e.ch;if(0==o)t=i[2];else for(;;){var s=r+n>>1;if((s?i[2*s-1]:0)>=o)n=s;else{if(!(i[2*s+1]<o)){t=i[2*s+2];break}r=s+1}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(t).state).mode:i},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!i.hasOwnProperty(t))return r;var n=i[t],o=this.getModeAt(e);if("string"==typeof o[t])n[o[t]]&&r.push(n[o[t]]);else if(o[t])for(var s=0;s<o[t].length;s++){var a=n[o[t][s]];a&&r.push(a)}else o.helperType&&n[o.helperType]?r.push(n[o.helperType]):n[o.name]&&r.push(n[o.name]);for(var l=0;l<n._global.length;l++){var d=n._global[l];d.pred(o,this)&&-1==z(r,d.val)&&r.push(d.val)}return r},getStateAfter:function(e,t){var i=this.doc;return jt(this,(e=xe(i,null==e?i.first+i.size-1:e))+1,t).state},cursorCoords:function(e,t){var i=this.doc.sel.primary();return Vi(this,null==e?i.head:"object"==typeof e?Ce(this.doc,e):e?i.from():i.to(),t||"page")},charCoords:function(e,t){return Gi(this,Ce(this.doc,e),t||"page")},coordsChar:function(e,t){return Xi(this,(e=Wi(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Wi(this,{top:e,left:0},t||"page").top,ue(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,i){var r,n=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,n=!0),r=ae(this.doc,e)}else r=e;return qi(this,r,{top:0,left:0},t||"page",i||n).top+(n?this.doc.height-Ve(r):0)},defaultTextHeight:function(){return er(this.display)},defaultCharWidth:function(){return tr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,i,r,n){var o,s,a,l=this.display,d=(e=Vi(this,Ce(this.doc,e))).bottom,c=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),l.sizer.appendChild(t),"over"==r)d=e.top;else if("above"==r||"near"==r){var h=Math.max(l.wrapper.clientHeight,this.doc.height),u=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>h)&&e.top>t.offsetHeight?d=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=h&&(d=e.bottom),c+t.offsetWidth>u&&(c=u-t.offsetWidth)}t.style.top=d+"px",t.style.left=t.style.right="","right"==n?(c=l.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==n?c=0:"middle"==n&&(c=(l.sizer.clientWidth-t.offsetWidth)/2),t.style.left=c+"px"),i&&(o=this,s={left:c,top:d,right:c+t.offsetWidth,bottom:d+t.offsetHeight},null!=(a=Sr(o,s)).scrollTop&&_r(o,a.scrollTop),null!=a.scrollLeft&&Er(o,a.scrollLeft))},triggerOnKeyDown:Yr(os),triggerOnKeyPress:Yr(as),triggerOnKeyUp:ss,triggerOnMouseDown:Yr(hs),execCommand:function(e){if(Zo.hasOwnProperty(e))return Zo[e].call(null,this)},triggerElectric:Yr(function(e){Ms(this,e)}),findPosH:function(e,t,i,r){var n=1;t<0&&(n=-1,t=-t);for(var o=Ce(this.doc,e),s=0;s<t&&!(o=Is(this.doc,o,n,i,r)).hitSide;++s);return o},moveH:Yr(function(e,t){var i=this;this.extendSelectionsBy(function(r){return i.display.shift||i.doc.extend||r.empty()?Is(i.doc,r.head,e,t,i.options.rtlMoveVisually):e<0?r.from():r.to()},G)}),deleteH:Yr(function(e,t){var i=this.doc.sel,r=this.doc;i.somethingSelected()?r.replaceSelection("",null,"+delete"):Vo(this,function(i){var n=Is(r,i.head,e,t,!1);return e<0?{from:n,to:i.head}:{from:i.head,to:n}})}),findPosV:function(e,t,i,r){var n=1,o=r;t<0&&(n=-1,t=-t);for(var s=Ce(this.doc,e),a=0;a<t;++a){var l=Vi(this,s,"div");if(null==o?o=l.left:l.left=o,(s=Rs(this,l,n,i)).hitSide)break}return s},moveV:Yr(function(e,t){var i=this,r=this.doc,n=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(s){if(o)return e<0?s.from():s.to();var a=Vi(i,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),n.push(a.left);var l=Rs(i,a,e,t);return"page"==t&&s==r.sel.primary()&&kr(i,Gi(i,l,"div").top-a.top),l},G),n.length)for(var s=0;s<r.sel.ranges.length;s++)r.sel.ranges[s].goalColumn=n[s]}),findWordAt:function(e){var t=ae(this.doc,e.line).text,i=e.ch,r=e.ch;if(t){var n=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!i?++r:--i;for(var o=t.charAt(i),s=te(o,n)?function(e){return te(e,n)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!te(e)};i>0&&s(t.charAt(i-1));)--i;for(;r<t.length&&s(t.charAt(r));)++r}return new bn(ge(e.line,i),ge(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?O(this.display.cursorDiv,"CodeMirror-overwrite"):T(this.display.cursorDiv,"CodeMirror-overwrite"),rt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==$()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Yr(function(e,t){Tr(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Di(this)-this.display.barHeight,width:e.scrollWidth-Di(this)-this.display.barWidth,clientHeight:Ai(this),clientWidth:Ti(this)}},scrollIntoView:Yr(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ge(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Ar(e),e.curOp.scrollToPos=t}(this,e):Nr(this,e.from,e.to,e.margin)}),setSize:Yr(function(e,t){var i=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&ji(this);var n=this.display.viewFrom;this.doc.iter(n,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Kr(i,n,"widget");break}++n}),this.curOp.forceUpdate=!0,rt(this,"refresh",this)}),operation:function(e){return Vr(this,e)},startOperation:function(){return zr(this)},endOperation:function(){return Br(this)},refresh:Yr(function(){var e=this.display.cachedTextHeight;Zr(this),this.curOp.forceUpdate=!0,Pi(this),Tr(this,this.doc.scrollLeft,this.doc.scrollTop),ln(this),(null==e||Math.abs(e-er(this.display))>.5)&&or(this),rt(this,"refresh",this)}),swapDoc:Yr(function(e){var t=this.doc;return t.cm=null,Mn(this,e),Pi(this),this.display.input.reset(),Tr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,ai(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},at(e),e.registerHelper=function(t,r,n){i.hasOwnProperty(t)||(i[t]=e[t]={_global:[]}),i[t][r]=n},e.registerGlobalHelper=function(t,r,n,o){e.registerHelper(t,r,o),i[t]._global.push({pred:n,val:o})}}(Ss);var Hs,qs="iter insert remove copy getEditor constructor".split(" ");for(var Ws in To.prototype)To.prototype.hasOwnProperty(Ws)&&z(qs,Ws)<0&&(Ss.prototype[Ws]=function(e){return function(){return e.apply(this.doc,arguments)}}(To.prototype[Ws]));return at(To),Ss.inputStyles={textarea:Bs,contenteditable:Fs},Ss.defineMode=function(e){Ss.defaults.mode||"null"==e||(Ss.defaults.mode=e),function(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),kt[e]=t}.apply(this,arguments)},Ss.defineMIME=function(e,t){Dt[e]=t},Ss.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Ss.defineMIME("text/plain","null"),Ss.defineExtension=function(e,t){Ss.prototype[e]=t},Ss.defineDocExtension=function(e,t){To.prototype[e]=t},Ss.fromTextArea=function(e,t){if((t=t?L(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var i=$();t.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}function r(){e.value=a.getValue()}var n;if(e.form&&(et(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;n=o.submit;try{var s=o.submit=function(){r(),o.submit=n,o.submit(),o.submit=s}}catch(e){}}t.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(it(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=n))}},e.style.display="none";var a=Ss(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return a},(Hs=Ss).off=it,Hs.on=et,Hs.wheelEventPixels=gn,Hs.Doc=To,Hs.splitLines=wt,Hs.countColumn=j,Hs.findColumn=V,Hs.isWordChar=ee,Hs.Pass=H,Hs.signal=rt,Hs.Line=Vt,Hs.changeEnd=xn,Hs.scrollbarModel=Lr,Hs.Pos=ge,Hs.cmpPos=me,Hs.modes=kt,Hs.mimeModes=Dt,Hs.resolveMode=Tt,Hs.getMode=At,Hs.modeExtensions=Nt,Hs.extendMode=_t,Hs.copyState=Mt,Hs.startState=$t,Hs.innerMode=Et,Hs.commands=Zo,Hs.keyMap=jo,Hs.keyName=Wo,Hs.isModifierKey=Ho,Hs.lookupKey=Bo,Hs.normalizeKeyMap=zo,Hs.StringStream=Ot,Hs.SharedTextMarker=Co,Hs.TextMarker=wo,Hs.LineWidget=vo,Hs.e_preventDefault=lt,Hs.e_stopPropagation=dt,Hs.e_stop=ht,Hs.addClass=O,Hs.contains=E,Hs.rmClass=T,Hs.keyNames=Io,Ss.version="5.40.0",Ss},e.exports=r()},"9EFi":function(e,t){var i;(i=window.AmCharts).AmRectangularChart=i.Class({inherits:i.AmCoordinateChart,construct:function(e){i.AmRectangularChart.base.construct.call(this,e),this.theme=e,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,i.applyTheme(this,e,"AmRectangularChart")},initChart:function(){i.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(i.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),i.ifArray(this.chartData)){var e=this.chartCursor;e&&e.draw()}},resetMargins:function(){var e,t={};if("xy"==this.type){var i=this.xAxes,r=this.yAxes;for(e=0;e<i.length;e++){var n=i[e];n.ignoreAxisWidth||(n.setOrientation(!0),n.fixAxisPosition(),t[n.position]=!0)}for(e=0;e<r.length;e++)(i=r[e]).ignoreAxisWidth||(i.setOrientation(!1),i.fixAxisPosition(),t[i.position]=!0)}else{for(r=this.valueAxes,e=0;e<r.length;e++)(i=r[e]).ignoreAxisWidth||(i.setOrientation(this.rotate),i.fixAxisPosition(),t[i.position]=!0);(e=this.categoryAxis)&&!e.ignoreAxisWidth&&(e.setOrientation(!this.rotate),e.fixAxisPosition(),e.fixAxisPosition(),t[e.position]=!0)}t.left&&(this.marginLeft=0),t.right&&(this.marginRight=0),t.top&&(this.marginTop=0),t.bottom&&(this.marginBottom=0),this.fixMargins=t},measureMargins:function(){var e,t,i=this.valueAxes,r=this.autoMarginOffset,n=this.fixMargins,o=this.realWidth,s=this.realHeight,a=r,l=r,d=o;for(e=s,t=0;t<i.length;t++)i[t].handleSynchronization(),e=this.getAxisBounds(i[t],a,d,l,e),a=Math.round(e.l),d=Math.round(e.r),l=Math.round(e.t),e=Math.round(e.b);(i=this.categoryAxis)&&(e=this.getAxisBounds(i,a,d,l,e),a=Math.round(e.l),d=Math.round(e.r),l=Math.round(e.t),e=Math.round(e.b)),n.left&&a<r&&(this.marginLeft=Math.round(-a+r),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft)),n.right&&d>=o-r&&(this.marginRight=Math.round(d-o+r),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight)),n.top&&l<r+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-l+r+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop)),n.bottom&&e>s-r&&(this.marginBottom=Math.round(this.marginBottom+e-s+r),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom)),this.initChart()},getAxisBounds:function(e,t,i,r,n){if(!e.ignoreAxisWidth){var o=e.labelsSet,s=e.tickLength;if(e.inside&&(s=0),o)switch(o=e.getBBox(),e.position){case"top":r>(e=o.y)&&(r=e);break;case"bottom":n<(e=o.y+o.height)&&(n=e);break;case"right":i<(e=o.x+o.width+s+3)&&(i=e);break;case"left":t>(e=o.x-s)&&(t=e)}}return{l:t,t:r,r:i,b:n}},drawZoomOutButton:function(){var e=this;if(!e.zbSet){var t=e.container.set();e.zoomButtonSet.push(t);var r,n=e.color,o=e.fontSize,s=e.zoomOutButtonImageSize,a=e.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),l=e.langObj.zoomOutText||e.zoomOutText,d=e.zoomOutButtonColor,c=e.zoomOutButtonAlpha,h=e.zoomOutButtonFontSize,u=e.zoomOutButtonPadding;isNaN(h)||(o=h),(h=e.zoomOutButtonFontColor)&&(n=h),(h=e.zoomOutButton)&&(h.fontSize&&(o=h.fontSize),h.color&&(n=h.color),h.backgroundColor&&(d=h.backgroundColor),isNaN(h.backgroundAlpha)||(e.zoomOutButtonRollOverAlpha=h.backgroundAlpha));var f=h=0;for(f=e.pathToImages,a&&((i.isAbsolute(a)||void 0===f)&&(f=""),r=e.container.image(f+a+e.extension,0,0,s,s),i.setCN(e,r,"zoom-out-image"),t.push(r),h=(r=r.getBBox()).width+5),void 0!==l&&(n=i.text(e.container,l,n,e.fontFamily,o,"start"),i.setCN(e,n,"zoom-out-label"),o=n.getBBox(),f=r?r.height/2-3:o.height/2,n.translate(h,f),t.push(n)),r=t.getBBox(),n=1,i.isModern||(n=0),(d=i.rect(e.container,r.width+2*u+5,r.height+2*u-2,d,1,1,d,n)).setAttr("opacity",c),d.translate(-u,-u),i.setCN(e,d,"zoom-out-bg"),t.push(d),d.toBack(),e.zbBG=d,r=d.getBBox(),t.translate(e.marginLeftReal+e.plotAreaWidth-r.width+u,e.marginTopReal+u),t.hide(),t.mouseover(function(){e.rollOverZB()}).mouseout(function(){e.rollOutZB()}).click(function(){e.clickZB()}).touchstart(function(){e.rollOverZB()}).touchend(function(){e.rollOutZB(),e.clickZB()}),c=0;c<t.length;c++)t[c].attr({cursor:"pointer"});void 0!==e.zoomOutButtonTabIndex&&(t.setAttr("tabindex",e.zoomOutButtonTabIndex),t.setAttr("role","menuitem"),t.keyup(function(t){13==t.keyCode&&e.clickZB()})),e.zbSet=t}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var e=this.dx,t=this.dy,r=this.marginLeftReal,n=this.marginTopReal,o=this.plotAreaWidth-1,s=this.plotAreaHeight-1,a=this.plotAreaFillColors,l=this.plotAreaFillAlphas,d=this.plotAreaBorderColor,c=this.plotAreaBorderAlpha;"object"==typeof l&&(l=l[0]),a=i.polygon(this.container,[0,o,o,0,0],[0,0,s,s,0],a,l,1,d,c,this.plotAreaGradientAngle),i.setCN(this,a,"plot-area"),a.translate(r+e,n+t),this.set.push(a),0!==e&&0!==t&&("object"==typeof(a=this.plotAreaFillColors)&&(a=a[0]),a=i.adjustLuminosity(a,-.15),o=i.polygon(this.container,[0,e,o+e,o,0],[0,t,t,0,0],a,l,1,d,c),i.setCN(this,o,"plot-area-bottom"),o.translate(r,n+s),this.set.push(o),e=i.polygon(this.container,[0,0,e,e,0],[0,s,s+t,t,0],a,l,1,d,c),i.setCN(this,e,"plot-area-left"),e.translate(r,n),this.set.push(e)),(r=this.bbset)&&this.scrollbarOnly&&r.remove()},updatePlotArea:function(){var e=this.updateWidth(),t=this.updateHeight(),i=this.container;this.realWidth=e,this.realWidth=t,i&&this.container.setSize(e,t),i=this.marginLeftReal;var r=this.marginTopReal;e=e-i-this.marginRightReal-this.dx,t=t-r-this.marginBottomReal,1>e&&(e=1),1>t&&(t=1),this.plotAreaWidth=Math.round(e),this.plotAreaHeight=Math.round(t),this.plotBalloonsSet.translate(i,r)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var e=this.getTitleHeight();this.titleHeight=e,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=e),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var e,t=this.valueAxes;for(e=0;e<t.length;e++){var i=t[e];this.setAxisRenderers(i),this.updateObjectSize(i)}},setAxisRenderers:function(e){e.axisRenderer=i.RecAxis,e.guideFillRenderer=i.RecFill,e.axisItemRenderer=i.RecItem,e.marginsChanged=!0},updateGraphs:function(){var e,t=this.graphs;for(e=0;e<t.length;e++){var i=t[e];i.index=e,i.rotate=this.rotate,this.updateObjectSize(i)}},updateObjectSize:function(e){e.width=this.plotAreaWidth-1,e.height=this.plotAreaHeight-1,e.x=this.marginLeftReal,e.y=this.marginTopReal,e.dx=this.dx,e.dy=this.dy},updateChartCursor:function(){var e=this.chartCursor;e&&(e=i.processObject(e,i.ChartCursor,this.theme),this.updateObjectSize(e),this.addChartCursor(e),e.chart=this)},processScrollbars:function(){var e=this.chartScrollbar;e&&(e=i.processObject(e,i.ChartScrollbar,this.theme),this.addChartScrollbar(e))},updateScrollbars:function(){},removeChartCursor:function(){i.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var e,t=this.trendLines;for(e=0;e<t.length;e++){var i=t[e];i.valueAxis.recalculateToPercents?i.set&&i.set.hide():(i.x=this.marginLeftReal,i.y=this.marginTopReal,i.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(e){this.trendLines.push(e)},zoomOutValueAxes:function(){for(var e=this.valueAxes,t=0;t<e.length;t++)e[t].zoomOut()},removeTrendLine:function(e){var t,i=this.trendLines;for(t=i.length-1;0<=t;t--)i[t]==e&&i.splice(t,1)},adjustMargins:function(e,t){var i=e.position,r=e.scrollbarHeight+e.offset;e.enabled&&("top"==i?t?this.marginLeftReal+=r:this.marginTopReal+=r:t?this.marginRightReal+=r:this.marginBottomReal+=r)},getScrollbarPosition:function(e,t,i){var r="bottom",n="top";e.oppositeAxis||(n=r,r="top"),e.position=t?"bottom"==i||"left"==i?r:n:"top"==i||"right"==i?r:n},updateChartScrollbar:function(e,t){if(e){e.rotate=t;var i=this.marginTopReal,r=this.marginLeftReal,n=e.scrollbarHeight,o=this.dx,s=this.dy,a=e.offset;"top"==e.position?t?(e.y=i,e.x=r-n-a):(e.y=i-n+s-a,e.x=r+o):t?(e.y=i+s,e.x=r+this.plotAreaWidth+o+a):(e.y=i+this.plotAreaHeight+a,e.x=this.marginLeftReal)}},showZB:function(e){var t=this.zbSet;e&&""!==(t=this.zoomOutText)&&t&&this.drawZoomOutButton(),(t=this.zbSet)&&(this.zoomButtonSet.push(t),e?t.show():t.hide(),this.rollOutZB())},handleReleaseOutside:function(e){i.AmRectangularChart.base.handleReleaseOutside.call(this,e),(e=this.chartCursor)&&e.handleReleaseOutside&&e.handleReleaseOutside()},handleMouseDown:function(e){i.AmRectangularChart.base.handleMouseDown.call(this,e);var t=this.chartCursor;t&&t.handleMouseDown&&!this.rolledOverZB&&t.handleMouseDown(e)},update:function(){i.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(e){this.relativeZoomValueAxes(e.target.valueAxes,e.relativeStart,e.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(e){if(e&&e.enabled){var t=e.valueAxes[0],i=t.relativeStart,r=t.relativeEnd;t.reversed&&(r=1-i,i=1-t.relativeEnd),e.percentZoom(i,r)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var e,t=this.valueAxes;for(e=0;e<t.length;e++)t[e].zoom(this.start,this.end);for(t=this.graphs,e=0;e<t.length;e++)t[e].zoom(this.start,this.end);(e=this.chartCursor)&&e.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(e,t){if((r=e.relativeStart)>(n=e.relativeEnd))var i=r,r=n,n=i;this.relativeZoomValueAxes(t,r,n),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(e,t,r){if(this.hideBalloonReal(),(t=i.fitToBounds(t,0,1))>(r=i.fitToBounds(r,0,1))){var n=t;t=r,r=n}n=1/this.maxZoomFactor;var o=i.getDecimals(n)+4;if(r-t<n&&(t=(r=t+(r-t)/2)-n/2,1<(r+=n/2)&&(t-=r-1,r=1),0>t&&(t=0,r=n)),t=i.roundTo(t,o),r=i.roundTo(r,o),n=!1,e){for(o=0;o<e.length;o++){var s=e[o].zoomToRelativeValues(t,r,!0);s&&(n=s)}this.showZB()}return n},addChartCursor:function(e){i.callMethod("destroy",[this.chartCursor]),e&&(this.listenTo(e,"moved",this.handleCursorMove),this.listenTo(e,"zoomed",this.handleCursorZoom),this.listenTo(e,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(e,"panning",this.handleCursorPanning),this.listenTo(e,"onHideCursor",this.handleCursorHide)),this.chartCursor=e},handleCursorChange:function(){},handleCursorMove:function(e){var t,i=this.valueAxes;for(t=0;t<i.length;t++)if(!e.panning){var r=i[t];r&&r.showBalloon&&r.showBalloon(e.x,e.y)}},handleCursorZoom:function(e){if(this.skipZoomed)this.skipZoomed=!1;else{var t=this.startX0,i=this.endX0,r=this.endY0,n=this.startY0,o=e.startX,s=e.endX,a=e.startY,l=e.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(t+o*(i-t),t+s*(i-t),n+a*(r-n),n+l*(r-n),e)}},handleCursorHide:function(){var e,t=this.valueAxes;for(e=0;e<t.length;e++)t[e].hideBalloon();for(t=this.graphs,e=0;e<t.length;e++)t[e].hideBalloonReal()}}),function(){var e=window.AmCharts;e.AmSerialChart=e.Class({inherits:e.AmRectangularChart,construct:function(t){this.type="serial",e.AmSerialChart.base.construct.call(this,t),this.cname="AmSerialChart",this.theme=t,this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8;var i=new e.CategoryAxis(t);i.chart=this,this.categoryAxis=i,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,e.applyTheme(this,t,this.cname)},initChart:function(){e.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged?this.parseData():this.onDataUpdated(),this.drawGraphs=!0},onDataUpdated:function(){var e,t=this.countColumns(),i=this.chartData,r=this.graphs;for(e=0;e<r.length;e++){var n=r[e];n.data=i,n.columnCount=t}0<i.length&&(this.firstTime=this.getStartTime(i[0].time),this.lastTime=this.getEndTime(i[i.length-1].time)),this.drawChart(),this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},syncGrid:function(){if(this.synchronizeGrid){var t,i,r=this.valueAxes;if(0<r.length){var n=0;for(i=0;i<r.length;i++)n<(t=r[i]).gridCountReal&&(n=t.gridCountReal);var o=!1;for(i=0;i<r.length;i++)if((t=r[i]).gridCountReal<n){var s=(n-t.gridCountReal)/2,a=o=s;0!=s-Math.round(s)&&(o-=.5,a+=.5),0<=t.min&&0>t.min-o*t.step&&(a+=o,o=0),0>=t.max&&0<t.max+a*t.step&&(o+=a,a=0),s=e.getDecimals(t.step),t.minimum=e.roundTo(t.min-o*t.step,s),t.maximum=e.roundTo(t.max+a*t.step,s),t.setStep=t.step,o=t.strictMinMax=!0}for(o&&this.updateAfterValueZoom(),i=0;i<r.length;i++)(t=r[i]).minimum=NaN,t.maximum=NaN,t.setStep=NaN,t.strictMinMax=!1}}},handleWheelReal:function(e,t){if(!this.wheelBusy){var i=this.categoryAxis,r=i.parseDates,n=i.minDuration(),o=1,s=1;if(this.mouseWheelZoomEnabled?t||(o=-1):t&&(o=-1),l=this.chartCursor)if(l.mouseIsOver()){var a=l.mouseX,l=l.mouseY;o!=s&&(o*=a=this.rotate?l/this.plotAreaHeight:a/this.plotAreaWidth,s*=1-a),a=.05*(this.end-this.start),r&&(a=.05*(this.endTime-this.startTime)/n),1>a&&(a=1),o*=a,s*=a,r&&!i.equalSpacing||(o=Math.round(o),s=Math.round(s)),l=this.chartData.length,i=this.lastTime,a=this.firstTime,0>e?r?(l=this.endTime-this.startTime,r=this.startTime+o*n,n=this.endTime+s*n,0<s&&0<o&&n>=i&&(n=i,r=i-l),this.zoomToDates(new Date(r),new Date(n))):(0<s&&0<o&&this.end>=l-1&&(o=s=0),r=this.start+o,n=this.end+s,this.zoomToIndexes(r,n)):r?(l=this.endTime-this.startTime,r=this.startTime-o*n,n=this.endTime-s*n,0<s&&0<o&&r<=a&&(r=a,n=a+l),this.zoomToDates(new Date(r),new Date(n))):(0<s&&0<o&&1>this.start&&(o=s=0),r=this.start-o,n=this.end-s,this.zoomToIndexes(r,n))}else this.handleMouseOut()}},validateData:function(t){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!t&&(this.endTime=this.end=this.startTime=this.start=NaN);var i=t=!1,r=!1,n=this.chartScrollbar;n&&(n.dragging&&(t=!0,n.handleDragStop()),n.resizingRight&&(r=!0,n.rightDragStop()),n.resizingLeft&&(i=!0,n.leftDragStop())),e.AmSerialChart.base.validateData.call(this),t&&n.handleDragStart(),r&&n.rightDragStart(),i&&n.leftDragStart()},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){e.AmSerialChart.base.drawChart.call(this);var t=this.chartData;if(e.ifArray(t)){!(n=this.chartScrollbar)||!this.marginsUpdated&&this.autoMargins||n.draw(),(n=this.valueScrollbar)&&n.draw();var i,r,n=t.length-1;(i=this.categoryAxis).parseDates&&!i.equalSpacing?(i=this.startTime,r=this.endTime,(isNaN(i)||isNaN(r))&&(i=this.firstTime,r=this.lastTime)):(i=this.start,r=this.end,(isNaN(i)||isNaN(r))&&(r=i=NaN),isNaN(i)&&(isNaN(this.startTime)||(i=this.getClosestIndex(t,"time",this.startTime,!0,0,t.length))),isNaN(r)&&(isNaN(this.endTime)||(r=this.getClosestIndex(t,"time",this.endTime,!1,0,t.length))),(isNaN(i)||isNaN(r))&&(i=0,r=n)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(i,r)}}else this.cleanChart()},cleanChart:function(){e.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(e,t,i){e.chart=this,e.id=i,e.rotate=t,e.setOrientation(!this.rotate),e.init(),this.setAxisRenderers(e),this.updateObjectSize(e)},updateValueAxes:function(){e.AmSerialChart.base.updateValueAxes.call(this);var t,i=this.valueAxes;for(t=0;t<i.length;t++){var r=i[t],n=this.rotate;r.rotate=n,r.setOrientation(n),(n=this.categoryAxis).startOnAxis&&!n.parseDates||(r.expandMinMax=!0)}},getStartTime:function(t){var i=this.categoryAxis;return e.resetDateToMin(new Date(t),i.minPeriod,1,i.firstDayOfWeek).getTime()},getEndTime:function(t){var i=e.extractPeriod(this.categoryAxis.minPeriod);return e.changeDate(new Date(t),i.period,i.count,!0).getTime()-1},updateMargins:function(){e.AmSerialChart.base.updateMargins.call(this);var t=this.chartScrollbar;t&&(this.getScrollbarPosition(t,this.rotate,this.categoryAxis.position),this.adjustMargins(t,this.rotate)),(t=this.valueScrollbar)&&(this.getScrollbarPosition(t,!this.rotate,this.valueAxes[0].position),this.adjustMargins(t,!this.rotate))},updateScrollbars:function(){e.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate),this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(e,t){var i=this.categoryAxis;i.parseDates&&!i.equalSpacing?(this.timeZoom(e,t),isNaN(e)&&this.zoomOutValueAxes()):this.indexZoom(e,t),(i=this.chartCursor)&&(i.pan||i.hideCursorReal()),this.updateLegendValues()},timeZoom:function(t,i){var r=this.maxSelectedTime;if(isNaN(r)||(i!=this.endTime&&i-t>r&&(t=i-r),t!=this.startTime&&i-t>r&&(i=t+r)),0<(n=this.minSelectedTime)&&i-t<n){var n,o=Math.round(t+(i-t)/2);t=o-(n=Math.round(n/2)),i=o+n}if(n=this.chartData,o=this.categoryAxis,e.ifArray(n)&&(t!=this.startTime||i!=this.endTime)){var s=o.minDuration(),a=this.firstTime,l=this.lastTime;t||(t=a,isNaN(r)||(t=l-r)),i||(i=l),t>l&&(t=l),i<a&&(i=a),t<a&&(t=a),i>l&&(i=l),i<t&&(i=t+s),i-t<s/5&&(i<l?i=t+s/5:t=i-s/5),this.startTime=t,this.endTime=i,r=n.length-1,s=this.getClosestIndex(n,"time",t,!0,0,r),n=this.getClosestIndex(n,"time",i,!1,s,r),o.timeZoom(t,i),o.zoom(s,n),this.start=e.fitToBounds(s,0,r),this.end=e.fitToBounds(n,0,r),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),this.showZB(),this.syncGrid(),this.updateColumnsDepth(),this.dispatchTimeZoomEvent()}},showZB:function(){var t,i=this.categoryAxis;i&&i.parseDates&&!i.equalSpacing&&(this.startTime>this.firstTime&&(t=!0),this.endTime<this.lastTime&&(t=!0)),0<this.start&&(t=!0),this.end<this.chartData.length-1&&(t=!0),(i=this.valueAxes)&&(i=i[0],isNaN(i.relativeStart)||(0!==e.roundTo(i.relativeStart,3)&&(t=!0),1!=e.roundTo(i.relativeEnd,3)&&(t=!0))),e.AmSerialChart.base.showZB.call(this,t)},updateAfterValueZoom:function(){e.AmSerialChart.base.updateAfterValueZoom.call(this),this.updateColumnsDepth()},indexZoom:function(e,t){var i=this.maxSelectedSeries,r=!1;if(isNaN(i)||(t!=this.end&&t-e>i&&(e=t-i,r=!0),e!=this.start&&t-e>i&&(t=e+i,r=!0)),r&&(r=this.chartScrollbar)&&r.dragger){var n=r.dragger.getBBox();r.maxWidth=n.width,r.maxHeight=n.height}e==this.start&&t==this.end||(r=this.chartData.length-1,isNaN(e)&&(e=0,isNaN(i)||(e=r-i)),isNaN(t)&&(t=r),t<e&&(t=e),t>r&&(t=r),e>r&&(e=r-1),0>e&&(e=0),this.start=e,this.end=t,this.categoryAxis.zoom(e,t),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),0!==e||t!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.syncGrid(),this.updateColumnsDepth(),this.dispatchIndexZoomEvent())},updateGraphs:function(){e.AmSerialChart.base.updateGraphs.call(this);var t,i=this.graphs;for(t=0;t<i.length;t++){var r=i[t];r.columnWidthReal=this.columnWidth,r.categoryAxis=this.categoryAxis,e.isString(r.fillToGraph)&&(r.fillToGraph=this.graphsById[r.fillToGraph])}},zoomAxesAndGraphs:function(){e.AmSerialChart.base.zoomAxesAndGraphs.call(this),this.updateColumnsDepth()},updateColumnsDepth:function(){if(0!==this.depth3D||0!==this.angle){var t,i,r=this.graphs;for(this.columnsArray=[],t=0;t<r.length;t++){var n,o=(i=r[t]).columnsArray;if(o)for(n=0;n<o.length;n++)this.columnsArray.push(o[n])}if(this.columnsArray.sort(this.compareDepth),r=this.columnsSet,0<this.columnsArray.length){for(o=this.container.set(),this.columnSet.push(o),t=0;t<this.columnsArray.length;t++)o.push(this.columnsArray[t].column.set);i&&o.translate(i.x,i.y),this.columnsSet=o}e.remove(r)}},compareDepth:function(e,t){return e.depth>t.depth?1:-1},zoomScrollbar:function(){var e=this.chartScrollbar,t=this.categoryAxis;if(e){if(!this.zoomedByScrollbar){var i=e.dragger;i&&i.stop()}this.zoomedByScrollbar=!1,t.parseDates&&!t.equalSpacing?e.timeZoom(this.startTime,this.endTime):e.zoom(this.start,this.end)}this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){var t,i=this.trendLines;for(t=0;t<i.length;t++){var r=i[t];r=e.processObject(r,e.TrendLine,this.theme);i[t]=r,r.chart=this,r.id||(r.id="trendLineAuto"+t+"_"+(new Date).getTime()),e.isString(r.valueAxis)&&(r.valueAxis=this.getValueAxisById(r.valueAxis)),r.valueAxis||(r.valueAxis=this.valueAxes[0]),r.categoryAxis=this.categoryAxis}},validateNow:function(t,i){t&&this.zoomOutOnDataUpdate&&(this.endTime=this.end=this.startTime=this.start=NaN),e.AmSerialChart.base.validateNow.call(this,t,i)},countColumns:function(){var e,t,i,r,n=0,o=this.valueAxes.length,s=this.graphs.length,a=!1;for(r=0;r<o;r++){var l=(t=this.valueAxes[r]).stackType,d=0;if("100%"==l||"regular"==l)for(a=!1,i=0;i<s;i++)(e=this.graphs[i]).tcc=1,e.valueAxis==t&&"column"==e.type&&(!a&&e.stackable&&(n++,a=!0),(!e.stackable&&e.clustered||e.newStack&&0!==d)&&n++,e.columnIndex=n-1,e.clustered||(e.columnIndex=0),d++);if("none"==l||"3d"==l){for(d=!1,i=0;i<s;i++)(e=this.graphs[i]).valueAxis==t&&"column"==e.type&&(e.clustered?(e.tcc=1,e.newStack&&(n=0),e.hidden||(e.columnIndex=n,n++)):e.hidden||(d=!0,e.tcc=1,e.columnIndex=0));d&&0===n&&(n=1)}if("3d"==l){for(t=1,d=0;d<s;d++)(e=this.graphs[d]).newStack&&t++,e.depthCount=t,e.tcc=n;n=t}if("regular"==l||"100%"==l)for(t=10,d=0;d<s;d++)(e=this.graphs[d]).newStack&&t--,e.depthCount=t,e.tcc=n}return n},parseData:function(){e.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(e){var t,i=this.chartData;for(t=0;t<i.length;t++)if(i[t].category==e)return t},handleScrollbarZoom:function(e){this.zoomedByScrollbar=!0,this.zoom(e.start,e.end)},dispatchTimeZoomEvent:function(){if(this.drawGraphs&&(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime)){var t={type:"zoomed"};t.startDate=new Date(this.startTime),t.endDate=new Date(this.endTime),t.startIndex=this.start,t.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=t.startDate,this.endDate=t.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime;var i=this.categoryAxis,r=e.extractPeriod(i.minPeriod).period;i=i.dateFormatsObject[r];t.startValue=e.formatDate(t.startDate,i,this),t.endValue=e.formatDate(t.endDate,i,this),t.chart=this,t.target=this,this.fire(t)}},dispatchIndexZoomEvent:function(){if(this.drawGraphs&&(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)){this.startIndex=this.start,this.endIndex=this.end;var t=this.chartData;if(e.ifArray(t)&&!isNaN(this.start)&&!isNaN(this.end)){var i={chart:this,target:this,type:"zoomed"};i.startIndex=this.start,i.endIndex=this.end,i.startValue=t[this.start].category,i.endValue=t[this.end].category,this.categoryAxis.parseDates&&(this.startTime=t[this.start].time,this.endTime=t[this.end].time,i.startDate=new Date(this.startTime),i.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(i)}}},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(e,t,i,r,n,o){0>n&&(n=0),o>e.length-1&&(o=e.length-1);var s=n+Math.round((o-n)/2),a=e[s][t];return i==a?s:1>=o-n?r?n:Math.abs(e[n][t]-i)<Math.abs(e[o][t]-i)?n:o:i==a?s:i<a?this.getClosestIndex(e,t,i,r,n,s):this.getClosestIndex(e,t,i,r,s,o)},zoomToIndexes:function(e,t){var i=this.chartData;if(i){var r=i.length;0<r&&(0>e&&(e=0),t>r-1&&(t=r-1),(r=this.categoryAxis).parseDates&&!r.equalSpacing?this.zoom(i[e].time,this.getEndTime(i[t].time)):this.zoom(e,t))}},zoomToDates:function(t,i){var r=this.chartData;if(r)if(this.categoryAxis.equalSpacing){var n=this.getClosestIndex(r,"time",t.getTime(),!0,0,r.length);i=e.resetDateToMin(i,this.categoryAxis.minPeriod,1),r=this.getClosestIndex(r,"time",i.getTime(),!1,0,r.length),this.zoom(n,r)}else this.zoom(t.getTime(),i.getTime())},zoomToCategoryValues:function(e,t){this.chartData&&this.zoom(this.getCategoryIndexByValue(e),this.getCategoryIndexByValue(t))},formatPeriodString:function(t,i){if(i){i.periodDataItem={},i.periodPercentDataItem={};var r=["value","open","low","high","close"],n="value open low high close average sum count".split(" "),o=i.valueAxis,s=this.chartData,a=i.numberFormatter;a||(a=this.nf);for(var l=0;l<r.length;l++){for(var d,c,h,u,f,p,g,m,v,b,y=r[l],w=0,x=0,C=0,S=0,k=this.start;k<=this.end;k++){if(A=s[k]){var D=A.axes[o.id].graphs[i.id];if(D){if(D.values){var T=D.values[y],A=A.x.categoryAxis;this.rotate?(0>A||A>D.graph.height)&&(T=NaN):(0>A||A>D.graph.width)&&(T=NaN),isNaN(T)||(isNaN(d)&&(d=T),c=T,(isNaN(h)||h>T)&&(h=T),(isNaN(u)||u<T)&&(u=T),f=e.getDecimals(w),A=e.getDecimals(T),w+=T,f=(w=e.roundTo(w,Math.max(f,A)))/++x)}D.percents&&(D=D.percents[y],!isNaN(D))&&(isNaN(p)&&(p=D),g=D,(isNaN(m)||m>D)&&(m=D),(isNaN(v)||v<D)&&(v=D),b=e.getDecimals(C),T=e.getDecimals(D),C+=D,b=(C=e.roundTo(C,Math.max(b,T)))/++S)}}}w={open:d,close:c,high:u,low:h,average:f,sum:w,count:x},C={open:p,close:g,high:v,low:m,average:b,sum:C,count:S},t=e.formatValue(t,w,n,a,y+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=e.formatValue(t,C,n,this.pf,"percents\\."+y+"\\."),i.periodDataItem[y]=w,i.periodPercentDataItem[y]=C}}return e.cleanFromEmpty(t)},formatString:function(t,i,r){if(i){var n=i.graph;if(void 0!==t){if(-1!=t.indexOf("[[category]]")){var o=i.serialDataItem.category;if(this.categoryAxis.parseDates){var s=this.balloonDateFormat,a=this.chartCursor;a&&a.categoryBalloonDateFormat&&(s=a.categoryBalloonDateFormat),-1!=(s=e.formatDate(o,s,this)).indexOf("fff")&&(s=e.formatMilliseconds(s,o)),o=s}t=t.replace(/\[\[category\]\]/g,String(o.replace("$","$$$")))}(o=n.numberFormatter)||(o=this.nf),(a=(s=i.graph.valueAxis).duration)&&!isNaN(i.values.value)&&s.maxInterval&&(a=e.formatDuration(i.values.value,a,"",s.durationUnits,s.maxInterval,o),t=t.replace(RegExp("\\[\\[value\\]\\]","g"),a)),"date"==s.type&&(s=e.formatDate(new Date(i.values.value),n.dateFormat,this),a=RegExp("\\[\\[value\\]\\]","g"),t=t.replace(a,s),s=e.formatDate(new Date(i.values.open),n.dateFormat,this),a=RegExp("\\[\\[open\\]\\]","g"),t=t.replace(a,s)),n="value open low high close total".split(" "),s=this.pf,t=e.formatValue(t,i.percents,n,s,"percents\\."),t=e.formatValue(t,i.values,n,o,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),-1!=(t=e.formatValue(t,i.values,["percents"],s)).indexOf("[[")&&(t=e.formatDataContextValue(t,i.dataContext)),-1!=t.indexOf("[[")&&i.graph.customData&&(t=e.formatDataContextValue(t,i.graph.customData)),t=e.AmSerialChart.base.formatString.call(this,t,i,r)}return t}},updateChartCursor:function(){e.AmSerialChart.base.updateChartCursor.call(this);var t=this.chartCursor,i=this.categoryAxis;if(t){var r=t.categoryBalloonAlpha,n=t.categoryBalloonColor,o=t.color;void 0===n&&(n=t.cursorColor);var s=t.valueZoomable,a=t.zoomable,l=t.valueLineEnabled;if(this.rotate?(t.vLineEnabled=l,t.hZoomEnabled=s,t.vZoomEnabled=a):(t.hLineEnabled=l,t.vZoomEnabled=s,t.hZoomEnabled=a),t.valueLineBalloonEnabled)for(l=0;l<this.valueAxes.length;l++)(a=(s=this.valueAxes[l]).balloon)||(a={}),(a=e.extend(a,this.balloon,!0)).fillColor=n,a.balloonColor=n,a.fillAlpha=r,a.borderColor=n,a.color=o,s.balloon=a;else for(a=0;a<this.valueAxes.length;a++)(s=this.valueAxes[a]).balloon&&(s.balloon=null);i&&(i.balloonTextFunction=t.categoryBalloonFunction,t.categoryLineAxis=i,i.balloonText=t.categoryBalloonText,t.categoryBalloonEnabled&&((a=i.balloon)||(a={}),(a=e.extend(a,this.balloon,!0)).fillColor=n,a.balloonColor=n,a.fillAlpha=r,a.borderColor=n,a.color=o,i.balloon=a),i.balloon&&(i.balloon.enabled=t.categoryBalloonEnabled))}},addChartScrollbar:function(t){e.callMethod("destroy",[this.chartScrollbar]),t&&(t.chart=this,this.listenTo(t,"zoomed",this.handleScrollbarZoom)),this.rotate?void 0===t.width&&(t.width=t.scrollbarHeight):void 0===t.height&&(t.height=t.scrollbarHeight),t.gridAxis=this.categoryAxis,this.chartScrollbar=t},addValueScrollbar:function(t){e.callMethod("destroy",[this.valueScrollbar]),t&&(t.chart=this,this.listenTo(t,"zoomed",this.handleScrollbarValueZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted));var i=t.scrollbarHeight;this.rotate?void 0===t.height&&(t.height=i):void 0===t.width&&(t.width=i),t.gridAxis||(t.gridAxis=this.valueAxes[0]),t.valueAxes=this.valueAxes,this.valueScrollbar=t},removeChartScrollbar:function(){e.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},removeValueScrollbar:function(){e.callMethod("destroy",[this.valueScrollbar]),this.valueScrollbar=null},handleReleaseOutside:function(t){e.AmSerialChart.base.handleReleaseOutside.call(this,t),e.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){e.AmSerialChart.base.update.call(this),this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update(),this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){e.AmSerialChart.base.processScrollbars.call(this);var t=this.valueScrollbar;t&&((t=e.processObject(t,e.ChartScrollbar,this.theme)).id="valueScrollbar",this.addValueScrollbar(t))},handleValueAxisZoom:function(e){this.handleValueAxisZoomReal(e,this.valueAxes)},zoomOut:function(){e.AmSerialChart.base.zoomOut.call(this),this.zoom(),this.syncGrid()},getNextItem:function(e){var t=e.index,i=this.chartData,r=e.graph;if(t+1<i.length)for(t+=1;t<i.length;t++)if((e=i[t])&&(e=e.axes[r.valueAxis.id].graphs[r.id],!isNaN(e.y)))return e},handleCursorZoomReal:function(e,t,i,r,n){var o,s,a=n.target;this.rotate?(isNaN(e)||isNaN(t)||this.relativeZoomValueAxes(this.valueAxes,e,t)&&this.updateAfterValueZoom(),a.vZoomEnabled&&(o=n.start,s=n.end)):(isNaN(i)||isNaN(r)||this.relativeZoomValueAxes(this.valueAxes,i,r)&&this.updateAfterValueZoom(),a.hZoomEnabled&&(o=n.start,s=n.end)),isNaN(o)||isNaN(s)||((e=this.categoryAxis).parseDates&&!e.equalSpacing?this.zoomToDates(new Date(o),new Date(s)):this.zoomToIndexes(o,s))},handleCursorZoomStarted:function(){if(e=this.valueAxes){var e,t=(e=e[0]).relativeStart,i=e.relativeEnd;e.reversed&&(t=1-e.relativeEnd,i=1-e.relativeStart),this.rotate?(this.startX0=t,this.endX0=i):(this.startY0=t,this.endY0=i)}this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition(),this.prevCursorItem=null},handleCursorMove:function(t){e.AmSerialChart.base.handleCursorMove.call(this,t);var i=t.target,r=this.categoryAxis;if(t.panning)this.handleCursorHide(t);else if(this.chartData&&!i.isHidden){var n,o=this.graphs;if(o)if(n=r.xToIndex(this.rotate?t.y:t.x),n=this.chartData[n]){var s,a,l,d;if(i.oneBalloonOnly&&i.valueBalloonsEnabled){var c=1/0;for(s=o.length-1;0<=s;s--)if((a=o[s]).balloon.enabled&&a.showBalloon&&!a.hidden){if(l=a.valueAxis.id,l=n.axes[l].graphs[a.id],i.showNextAvailable&&isNaN(l.y)&&!(l=this.getNextItem(l)))continue;l=l.y,"top"==a.showBalloonAt&&(l=0),"bottom"==a.showBalloonAt&&(l=this.height);var h=i.mouseX,u=i.mouseY;(l=this.rotate?Math.abs(h-l):Math.abs(u-l))<c&&(c=l,d=a)}i.mostCloseGraph=d}if(this.prevCursorItem!=n||d!=this.prevMostCloseGraph){for(c=[],s=0;s<o.length;s++)l=(a=o[s]).valueAxis.id,l=n.axes[l].graphs[a.id],i.showNextAvailable&&isNaN(l.y)&&!(l=this.getNextItem(l))&&a.balloon?a.balloon.hide():d&&a!=d?(a.showGraphBalloon(l,i.pointer,!1,i.graphBulletSize,i.graphBulletAlpha),a.balloon.hide(0)):i.valueBalloonsEnabled?(a.balloon.showBullet=i.bulletsEnabled,a.balloon.bulletSize=i.bulletSize/2,t.hideBalloons||(a.showGraphBalloon(l,i.pointer,!1,i.graphBulletSize,i.graphBulletAlpha),a.balloon.set&&c.push({balloon:a.balloon,y:a.balloon.pointToY}))):(a.currentDataItem=l,a.resizeBullet(l,i.graphBulletSize,i.graphBulletAlpha));i.avoidBalloonOverlapping&&this.arrangeBalloons(c),this.prevCursorItem=n}this.prevMostCloseGraph=d}o=e.fitToBounds(t.x,0,i.width),d=e.fitToBounds(t.y,0,i.height),r.showBalloon(o,d,i.categoryBalloonDateFormat,t.skip),this.updateLegendValues()}},handleCursorHide:function(t){var i;for(e.AmSerialChart.base.handleCursorHide.call(this,t),t=this.categoryAxis,this.prevCursorItem=null,this.updateLegendValues(),t&&t.hideBalloon(),t=this.graphs,i=0;i<t.length;i++)t[i].currentDataItem=null},handleCursorPanning:function(t){var i,r,n,o=t.target,s=t.deltaX,a=t.deltaY,l=t.delta2X,d=t.delta2Y;if(t=!1,this.rotate){isNaN(l)&&(l=s,t=!0);var c=(h=this.endX0)-(i=this.startX0),h=h-c*l,u=c;t||(u=0),t=e.fitToBounds(i-c*s,0,1-u)}else isNaN(d)&&(d=a,t=!0),h=this.endY0,h+=(c=h-(i=this.startY0))*a,u=c,t||(u=0),t=e.fitToBounds(i+c*d,0,1-u);i=e.fitToBounds(h,u,1),o.valueZoomable&&(r=this.relativeZoomValueAxes(this.valueAxes,t,i)),i=this.categoryAxis,this.rotate&&(s=a,l=d),t=!1,isNaN(l)&&(l=s,t=!0),o.zoomable&&(0<Math.abs(s)||0<Math.abs(l))&&(i.parseDates&&!i.equalSpacing?(d=this.startTime0,l*=i=(a=this.endTime0)-d,c=this.firstTime,h=this.lastTime,u=i,t||(u=0),t=Math.round(e.fitToBounds(d-i*s,c,h-u)),l=Math.round(e.fitToBounds(a-l,c+u,h)),(this.startTime!=t||this.endTime!=l)&&(n={chart:this,target:o,type:"zoomed",start:t,end:l},this.skipZoomed=!0,o.fire(n),this.zoom(t,l),n=!0)):(d=this.start0,i=(a=this.end0)-d,s=Math.round(i*s),l=Math.round(i*l),c=this.chartData.length-1,t||(i=0),t=e.fitToBounds(d-s,0,c-i),i=e.fitToBounds(a-l,i,c),(this.start!=t||this.end!=i)&&(this.skipZoomed=!0,o.fire({chart:this,target:o,type:"zoomed",start:t,end:i}),this.zoom(t,i),n=!0))),!n&&r&&this.updateAfterValueZoom()},arrangeBalloons:function(e){var t=this.plotAreaHeight;e.sort(this.compareY);var i,r,n,o=this.plotAreaWidth,s=e.length;for(i=0;i<s;i++)(r=e[i].balloon).setBounds(0,0,o,t),r.restorePrevious(),r.draw(),t=r.yPos-3;for(e.reverse(),i=0;i<s;i++){t=(r=e[i].balloon).bottom;var a=r.bottom-r.yPos;0<i&&t-a<n+3&&r.setBounds&&(r.setBounds(0,n+3,o,n+a+3),r.restorePrevious(),r.draw()),r.set&&r.set.show(),n=r.bottom}},compareY:function(e,t){return e.y<t.y?1:-1}})}(),function(){var e=window.AmCharts;e.Cuboid=e.Class({construct:function(e,t,i,r,n,o,s,a,l,d,c,h,u,f,p,g,m){this.set=e.set(),this.container=e,this.h=Math.round(i),this.w=Math.round(t),this.dx=r,this.dy=n,this.colors=o,this.alpha=s,this.bwidth=a,this.bcolor=l,this.balpha=d,this.dashLength=f,this.topRadius=g,this.pattern=p,this.rotate=u,this.bcn=m,u?0>t&&0===c&&(c=180):0>i&&270==c&&(c=90),this.gradientRotation=c,0===r&&0===n&&(this.cornerRadius=h),this.draw()},draw:function(){var t=this.set;t.clear();var i=this.container,r=i.chart,n=this.w,o=this.h,s=this.dx,a=this.dy,l=this.colors,d=this.alpha,c=this.bwidth,h=this.bcolor,u=this.balpha,f=this.gradientRotation,p=this.cornerRadius,g=this.dashLength,m=this.pattern,v=this.topRadius,b=this.bcn,y=l,w=l;"object"==typeof l&&(y=l[0],w=l[l.length-1]);var x,C,S,k,D,T,A,N,_,M=d;m&&(d=0);var E,$,O,I,R=this.rotate;if(0<Math.abs(s)||0<Math.abs(a))if(isNaN(v))A=w,w=e.adjustLuminosity(y,-.2),w=e.adjustLuminosity(y,-.2),x=e.polygon(i,[0,s,n+s,n,0],[0,a,a,0,0],w,d,1,h,0,f),0<u&&(_=e.line(i,[0,s,n+s],[0,a,a],h,u,c,g)),(C=e.polygon(i,[0,0,n,n,0],[0,o,o,0,0],w,d,1,h,0,f)).translate(s,a),0<u&&(S=e.line(i,[s,s],[a,a+o],h,u,c,g)),k=e.polygon(i,[0,0,s,s,0],[0,o,o+a,a,0],w,d,1,h,0,f),D=e.polygon(i,[n,n,n+s,n+s,n],[0,o,o+a,a,0],w,d,1,h,0,f),0<u&&(T=e.line(i,[n,n+s,n+s,n],[0,a,o+a,o],h,u,c,g)),w=e.adjustLuminosity(A,.2),A=e.polygon(i,[0,s,n+s,n,0],[o,o+a,o+a,o,o],w,d,1,h,0,f),0<u&&(N=e.line(i,[0,s,n+s],[o,o+a,o+a],h,u,c,g));else{var F,L,j;R?(F=o/2,w=s/2,j=o/2,L=n+s/2,$=Math.abs(o/2),E=Math.abs(s/2)):(w=n/2,F=a/2,L=n/2,j=o+a/2+1,E=Math.abs(n/2),$=Math.abs(a/2)),O=E*v,I=$*v,.1<E&&.1<E&&(x=e.circle(i,E,y,d,c,h,u,!1,$)).translate(w,F),.1<O&&.1<O&&(A=e.circle(i,O,e.adjustLuminosity(y,.5),d,c,h,u,!1,I)).translate(L,j)}for(d=M,1>Math.abs(o)&&(o=0),1>Math.abs(n)&&(n=0),!isNaN(v)&&(0<Math.abs(s)||0<Math.abs(a))?(l={fill:l=[y],stroke:h,"stroke-width":c,"stroke-opacity":u,"fill-opacity":d},R?(d="M0,0 L"+n+","+(o/2-o/2*v),c=" B",0<n&&(c=" A"),e.VML?d=(d+=c+Math.round(n-O)+","+Math.round(o/2-I)+","+Math.round(n+O)+","+Math.round(o/2+I)+","+n+",0,"+n+","+o)+" L0,"+o+(c+Math.round(-E))+","+Math.round(o/2-$)+","+Math.round(E)+","+Math.round(o/2+$)+",0,"+o+",0,0":(d+="A"+O+","+I+",0,0,0,"+n+","+(o-o/2*(1-v))+"L0,"+o,d+="A"+E+","+$+",0,0,1,0,0"),E=90):(d="M0,0 L"+(c=n/2-n/2*v)+","+o,e.VML?(d="M0,0 L"+c+","+o,c=" B",0>o&&(c=" A"),d+=c+Math.round(n/2-O)+","+Math.round(o-I)+","+Math.round(n/2+O)+","+Math.round(o+I)+",0,"+o+","+n+","+o,d+=" L"+n+",0",d+=c+Math.round(n/2+E)+","+Math.round($)+","+Math.round(n/2-E)+","+Math.round(-$)+","+n+",0,0,0"):(d+="A"+O+","+I+",0,0,0,"+(n-n/2*(1-v))+","+o+"L"+n+",0",d+="A"+E+","+$+",0,0,1,0,0"),E=180),(i=i.path(d).attr(l)).gradient("linearGradient",[y,e.adjustLuminosity(y,-.3),e.adjustLuminosity(y,-.3),y],E),R?i.translate(s/2,0):i.translate(0,a/2)):i=0===o?e.line(i,[0,n],[0,0],h,u,c,g):0===n?e.line(i,[0,0],[0,o],h,u,c,g):0<p?e.rect(i,n,o,l,d,c,h,u,p,f,g):e.polygon(i,[0,0,n,n,0],[0,o,o,0,0],l,d,c,h,u,f,!1,g),n=isNaN(v)?0>o?[x,_,C,S,k,D,T,A,N,i]:[A,N,C,S,k,D,x,_,T,i]:R?0<n?[x,i,A]:[A,i,x]:0>o?[x,i,A]:[A,i,x],e.setCN(r,i,b+"front"),e.setCN(r,C,b+"back"),e.setCN(r,A,b+"top"),e.setCN(r,x,b+"bottom"),e.setCN(r,k,b+"left"),e.setCN(r,D,b+"right"),x=0;x<n.length;x++)(C=n[x])&&(t.push(C),e.setCN(r,C,b+"element"));m&&i.pattern(m,NaN,r.path)},width:function(e){isNaN(e)&&(e=0),this.w=Math.round(e),this.draw()},height:function(e){isNaN(e)&&(e=0),this.h=Math.round(e),this.draw()},animateHeight:function(t,i){var r=this;r.animationFinished=!1,r.easing=i,r.totalFrames=t*e.updateRate,r.rh=r.h,r.frame=0,r.height(1),setTimeout(function(){r.updateHeight.call(r)},1e3/e.updateRate)},updateHeight:function(){var t=this;t.frame++;var i=t.totalFrames;t.frame<=i?(i=t.easing(0,t.frame,1,t.rh-1,i),t.height(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateHeight.call(t)}):setTimeout(function(){t.updateHeight.call(t)},1e3/e.updateRate)):(t.height(t.rh),t.animationFinished=!0)},animateWidth:function(t,i){var r=this;r.animationFinished=!1,r.easing=i,r.totalFrames=t*e.updateRate,r.rw=r.w,r.frame=0,r.width(1),setTimeout(function(){r.updateWidth.call(r)},1e3/e.updateRate)},updateWidth:function(){var t=this;t.frame++;var i=t.totalFrames;t.frame<=i?(i=t.easing(0,t.frame,1,t.rw-1,i),t.width(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateWidth.call(t)}):setTimeout(function(){t.updateWidth.call(t)},1e3/e.updateRate)):(t.width(t.rw),t.animationFinished=!0)}})}(),function(){var e=window.AmCharts;e.CategoryAxis=e.Class({inherits:e.AxisBase,construct:function(t){this.cname="CategoryAxis",e.CategoryAxis.base.construct.call(this,t),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.gridPosition="middle",this.safeDistance=30,this.stickBalloonToCategory=!1,e.applyTheme(this,t,this.cname)},draw:function(){e.CategoryAxis.base.draw.call(this),this.generateDFObject();var t=this.chart.chartData;if(this.data=t,this.labelRotationR=this.labelRotation,this.type=null,e.ifArray(t)){var i,r=this.chart;"scrollbar"!=this.id?(e.setCN(r,this.set,"category-axis"),e.setCN(r,this.labelsSet,"category-axis"),e.setCN(r,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var n,o,s,a,l,d,c=this.start,h=this.labelFrequency,u=0,f=this.end-c+1,p=this.gridCountR,g=this.showFirstLabel,m=this.showLastLabel,v="",b=(v=e.extractPeriod(this.minPeriod),e.getPeriodDuration(v.period,v.count)),y=this.rotate,w=this.firstDayOfWeek,x=this.boldPeriodBeginning;i=e.resetDateToMin(new Date(t[t.length-1].time+1.05*b),this.minPeriod,1,w).getTime(),this.firstTime=r.firstTime,this.endTime>i&&(this.endTime=i),d=this.minorGridEnabled,s=this.gridAlpha;var C=0,S=0;if(this.widthField)for(i=this.start;i<=this.end;i++)if(l=this.data[i]){var k=Number(this.data[i].dataContext[this.widthField]);isNaN(k)||(C+=k,l.widthValue=k)}if(this.parseDates&&!this.equalSpacing)this.lastTime=t[t.length-1].time,this.maxTime=e.resetDateToMin(new Date(this.lastTime+1.05*b),this.minPeriod,1,w).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(u=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,h=(i=this.choosePeriod(0)).period,o=i.count,(i=e.getPeriodDuration(h,o))<b&&(h=v.period,o=v.count,i=b),"WW"==(s=h)&&(s="DD"),this.currentDateFormat=this.dateFormatsObject[s],this.stepWidth=this.getStepWidth(f),p=Math.ceil(this.timeDifference/i)+1,v=e.resetDateToMin(new Date(this.startTime-i),h,o,w).getTime(),this.cellWidth=this.getStepWidth(f),c=-1,(f=Math.round(v/i))/2==Math.round(f/2)&&(c=-2,v-=i),(f=this.start)/2==Math.round(f/2)&&f--,0>f&&(f=0),(S=this.end+2)>=this.data.length&&(S=this.data.length),t=!1,t=!g,this.previousPos=-1e3,20<this.labelRotationR&&(this.safeDistance=5),k=f,this.data[f].time!=e.resetDateToMin(new Date(this.data[f].time),h,o,w).getTime()){b=0;var D=v;for(i=f;i<S;i++)l=this.data[i].time,this.checkPeriodChange(h,o,l,D)&&(2<=++b&&(k=i,i=S),D=l)}if(d&&1<o&&(l=this.chooseMinorFrequency(o),e.getPeriodDuration(h,l)),0<this.gridCountR)for(i=f;i<S;i++)l=this.data[i].time,this.checkPeriodChange(h,o,l,v)&&i>=k&&(f=this.getCoordinate(i-this.start),d=!1,this.nextPeriod[s]&&(d=this.checkPeriodChange(this.nextPeriod[s],1,l,v,s))&&e.resetDateToMin(new Date(l),this.nextPeriod[s],1,w).getTime()!=l&&(d=!1),b=!1,d&&this.markPeriodChange?(d=this.dateFormatsObject[this.nextPeriod[s]],b=!0):d=this.dateFormatsObject[s],v=e.formatDate(new Date(l),d,r),(i==c&&!g||i==p&&!m)&&(v=" "),t?t=!1:(x||(b=!1),f-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(v=this.labelFunction(v,new Date(l),this,h,o,a)),this.boldLabels&&(b=!0),d=(n=new this.axisItemRenderer(this,f,v,void 0,void 0,void 0,void 0,b)).graphics(),this.pushAxisItem(n),d=d.getBBox().width,e.isModern||(d-=f),this.previousPos=f+d)),a=v=l)}}else if(this.cellWidth=this.getStepWidth(f),f<p&&(p=f),u+=this.start,this.stepWidth=this.getStepWidth(f),0<p)for(w=Math.floor(f/p),l=this.chooseMinorFrequency(w),(f=u)/2==Math.round(f/2)&&f--,0>f&&(f=0),x=0,this.widthField&&(f=this.start,w=1),this.end-f+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),i=f;i<=this.end+2;i++){if(p=!1,0<=i&&i<this.data.length?(v=(o=this.data[i]).category,p=o.forceShow):v="",d&&!isNaN(l)){if(i/l!=Math.round(i/l)&&!p)continue;i/w==Math.round(i/w)||p||(this.gridAlpha=this.minorGridAlpha,v=void 0)}else if(i/w!=Math.round(i/w)&&!p)continue;f=this.getCoordinate(i-u),p=0,"start"==this.gridPosition&&(f-=this.cellWidth/2,p=this.cellWidth/2),n=!0,a=p,"start"==this.tickPosition&&(a=0,n=!1,p=0),(i==c&&!g||i==this.end&&!m)&&(v=void 0),Math.round(x/h)!=x/h&&(v=void 0),x++,t=this.cellWidth,y&&(t=NaN,this.ignoreAxisWidth||!r.autoMargins)&&(t="right"==this.position?r.marginRight-this.titleWidth:r.marginLeft-this.titleWidth,t-=this.tickLength+10),this.labelFunction&&o&&(v=this.labelFunction(v,o,this)),v=e.fixBrakes(v),b=!1,this.boldLabels&&(b=!0),i>this.end&&"start"==this.tickPosition&&(v=" "),this.rotate&&this.inside&&(p-=2),isNaN(o.widthValue)||(o.percentWidthValue=o.widthValue/C*100,f=S,S+=t=this.rotate?this.height*o.widthValue/C:this.width*o.widthValue/C,a=p=t/2),(n=new this.axisItemRenderer(this,f,v,n,t,p,void 0,b,a,!1,o.labelColor,o.className)).serialDataItem=o,this.pushAxisItem(n),this.gridAlpha=s}for(i=g=0;i<this.data.length;i++)(l=this.data[i])&&(this.parseDates&&!this.equalSpacing?(m=l.time,c=this.cellWidth,"MM"==this.minPeriod&&(c=864e5*e.daysInMonth(new Date(m))*this.stepWidth,l.cellWidth=c),m=Math.round((m-this.startTime)*this.stepWidth+c/2)):m=this.getCoordinate(i-u),l.x[this.id]=m);if(this.widthField)for(i=this.start;i<=this.end;i++)c=(l=this.data[i]).widthValue,l.percentWidthValue=c/C*100,this.rotate?(m=this.height*c/C/2+g,g=this.height*c/C+g):(m=this.width*c/C/2+g,g=this.width*c/C+g),l.x[this.id]=m;for(C=this.guides.length,i=0;i<C;i++)w=w=w=d=c=NaN,m=(g=this.guides[i]).above,g.toCategory&&(w=r.getCategoryIndexByValue(g.toCategory),isNaN(w)||(c=this.getCoordinate(w-u),g.expand&&(c+=this.cellWidth/2),n=new this.axisItemRenderer(this,c,"",!0,NaN,NaN,g),this.pushAxisItem(n,m))),g.category&&(w=r.getCategoryIndexByValue(g.category),isNaN(w)||(d=this.getCoordinate(w-u),g.expand&&(d-=this.cellWidth/2),w=(c-d)/2,n=new this.axisItemRenderer(this,d,g.label,!0,NaN,w,g),this.pushAxisItem(n,m))),x=r.dataDateFormat,g.toDate&&(!x||g.toDate instanceof Date||(g.toDate=g.toDate.toString()+" |"),g.toDate=e.getDate(g.toDate,x),this.equalSpacing?(w=r.getClosestIndex(this.data,"time",g.toDate.getTime(),!1,0,this.data.length-1),isNaN(w)||(c=this.getCoordinate(w-u))):c=(g.toDate.getTime()-this.startTime)*this.stepWidth,n=new this.axisItemRenderer(this,c,"",!0,NaN,NaN,g),this.pushAxisItem(n,m)),g.date&&(!x||g.date instanceof Date||(g.date=g.date.toString()+" |"),g.date=e.getDate(g.date,x),this.equalSpacing?(w=r.getClosestIndex(this.data,"time",g.date.getTime(),!1,0,this.data.length-1),isNaN(w)||(d=this.getCoordinate(w-u))):d=(g.date.getTime()-this.startTime)*this.stepWidth,w=(c-d)/2,n=!0,g.toDate&&(n=!1),n="H"==this.orientation?new this.axisItemRenderer(this,d,g.label,n,2*w,NaN,g):new this.axisItemRenderer(this,d,g.label,!1,NaN,w,g),this.pushAxisItem(n,m)),n&&(w=n.label)&&this.addEventListeners(w,g),(0<c||0<d)&&(w=!1,this.rotate?(c<this.height||d<this.height)&&(w=!0):(c<this.width||d<this.width)&&(w=!0),w&&(d=(c=new this.guideFillRenderer(this,d,c,g)).graphics(),this.pushAxisItem(c,m),g.graphics=d,d.index=i,this.addEventListeners(d,g)));(r=r.chartCursor)&&(y?r.fixHeight(this.cellWidth):(r.fixWidth(this.cellWidth),r.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth))),this.previousHeight=T}this.axisCreated=!0,this.set.translate(this.x,this.y),this.labelsSet.translate(this.x,this.y),this.labelsSet.show(),this.positionTitle(),(y=this.axisLine.set)&&y.toFront();var T=this.getBBox().height;2<T-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(t){var i,r,n=this.data,o=this.chart,s=o.rotate,a=this.stepWidth;if(this.parseDates&&!this.equalSpacing)t=this.startTime+Math.round(t/a)-this.minDuration()/2,i=o.getClosestIndex(n,"time",t,!1,this.start,this.end+1);else if(this.widthField)for(o=1/0,a=this.start;a<=this.end;a++){var l=this.data[a];l&&((l=Math.abs(l.x[this.id]-t))<o&&(o=l,i=a))}else this.startOnAxis||(t-=a/2),i=this.start+Math.round(t/a);return n[i=e.fitToBounds(i,0,n.length-1)]&&(r=n[i].x[this.id]),s?r>this.height+1&&i--:r>this.width+1&&i--,0>r&&i++,e.fitToBounds(i,0,n.length-1)},dateToCoordinate:function(e){return this.parseDates&&!this.equalSpacing?(e.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(e=this.chart.getClosestIndex(this.data,"time",e.getTime(),!1,0,this.data.length-1),this.getCoordinate(e-this.start)):NaN},categoryToCoordinate:function(e){return this.chart?this.parseDates?this.dateToCoordinate(new Date(e)):(e=this.chart.getCategoryIndexByValue(e),isNaN(e)?void 0:this.getCoordinate(e-this.start)):NaN},coordinateToDate:function(e){return this.equalSpacing?(e=this.xToIndex(e),new Date(this.data[e].time)):new Date(this.startTime+e/this.stepWidth)},coordinateToValue:function(e){if(e=this.xToIndex(e),e=this.data[e])return this.parseDates?e.time:e.category},getCoordinate:function(e){return e*=this.stepWidth,this.startOnAxis||(e+=this.stepWidth/2),Math.round(e)},formatValue:function(t,i){return i||(i=this.currentDateFormat),this.parseDates&&(t=e.formatDate(new Date(t),i,this.chart)),t},showBalloonAt:function(e,t){return void 0===t&&(t=this.parseDates?this.dateToCoordinate(new Date(e)):this.categoryToCoordinate(e)),this.adjustBalloonCoordinate(t)},formatBalloonText:function(t,i,r){var n="",o="",s=this.chart,a=this.data[i];if(a)if(this.parseDates)n=e.formatDate(a.category,r,s),i=e.changeDate(new Date(a.category),this.minPeriod,1),o=e.formatDate(i,r,s),-1!=n.indexOf("fff")&&(n=e.formatMilliseconds(n,a.category),o=e.formatMilliseconds(o,i));else{var l;this.data[i+1]&&(l=this.data[i+1]),n=e.fixNewLines(a.category),l&&(o=e.fixNewLines(l.category))}return(t=t.replace(/\[\[category\]\]/g,String(n))).replace(/\[\[toCategory\]\]/g,String(o))},adjustBalloonCoordinate:function(e,t){var i=this.xToIndex(e),r=this.chart.chartCursor;if(this.stickBalloonToCategory){var n=this.data[i];n&&(e=n.x[this.id]),this.stickBalloonToStart&&(e-=this.cellWidth/2);var o=0;if(r){var s=r.limitToGraph;if(s){var a=s.valueAxis.id;s.hidden||(o=n.axes[a].graphs[s.id].y)}this.rotate?("left"==this.position?(s&&(o-=r.width),0<o&&(o=0)):0>o&&(o=0),r.fixHLine(e,o)):("top"==this.position?(s&&(o-=r.height),0<o&&(o=0)):0>o&&(o=0),r.fullWidth&&(e+=1),r.fixVLine(e,o))}}return r&&!t&&(r.setIndex(i),this.parseDates&&r.setTimestamp(this.coordinateToDate(e).getTime())),e}})}()},"9LDP":function(module,exports){AmCharts.translations.dataLoader={},AmCharts.addInitHandler(function(e){void 0!==e.dataLoader&&"object"==typeof e.dataLoader||(e.dataLoader={});var t=e.version.split(".");if(!(Number(t[0])<3||3===Number(t[0])&&Number(t[1])<13)){var i=e.dataLoader;i.remaining=0,i.percentLoaded={};var r={async:!0,format:"json",showErrors:!0,showCurtain:!0,noStyles:!1,reload:0,timestamp:!1,delimiter:",",skip:0,skipEmpty:!0,emptyAs:void 0,useColumnNames:!1,init:!1,progress:!1,reverse:!1,reloading:!1,complete:!1,error:!1,numberFields:[],headers:[],chart:e};i.loadData=function(){if("stock"===e.type)setTimeout(function(){0>e.panelsSettings.startDuration&&(i.startDuration=e.panelsSettings.startDuration,e.panelsSettings.startDuration=0);for(var t=0;t<e.dataSets.length;t++){var r=e.dataSets[t];void 0!==r.dataLoader&&void 0!==r.dataLoader.url&&(h(r.dataLoader.init,r.dataLoader,e),r.dataProvider=[],s(r.dataLoader),n(r.dataLoader.url,r,r.dataLoader,"dataProvider")),void 0!==r.eventDataLoader&&void 0!==r.eventDataLoader.url&&(h(r.eventDataLoader.init,r.eventDataLoader,e),r.events=[],s(r.eventDataLoader),n(r.eventDataLoader.url,r,r.eventDataLoader,"stockEvents"))}},100);else{if(h(i.init,i,e),s(i),void 0===i.url)return;void 0!==e.startDuration&&0<e.startDuration&&(i.startDuration=e.startDuration,e.startDuration=0),"gauge"===e.type?(void 0===e.arrows&&(e.arrows=[]),n(i.url,e,i,"arrows")):(void 0===e.dataProvider&&(e.dataProvider="map"===e.type?{}:[]),n(i.url,e,i,"dataProvider"))}},i.loadData()}function n(t,r,s,a){void 0===a&&(a="dataProvider"),s.showCurtain&&d(void 0,s.noStyles),i.remaining++,i.percentLoaded[t]=0,void 0!==s.progress&&"function"==typeof s.progress&&void 0===s._progress&&(s._progress=s.progress,s.progress=function(e){i.percentLoaded[t]=e;var r=0,n=0;for(var o in i.percentLoaded)i.percentLoaded.hasOwnProperty(o)&&(n++,r+=i.percentLoaded[o]);var a=Math.round(r/n*100)/100;s._progress.call(this,a,Math.round(100*e)/100,t)}),AmCharts.loadFile(t,s,function(d){if(!1===d)h(s.error,s,e),l(AmCharts.__("Error loading the file",e.language)+": "+t,!1,s);else{switch(void 0===s.format&&(s.format="json"),s.format=s.format.toLowerCase(),s.format){case"json":if(r[a]=AmCharts.parseJSON(d),!1===r[a])return h(s.error,s,e),l(AmCharts.__("Error parsing JSON file",e.language)+": "+i.url,!1,s),void(r[a]=[]);r[a]=o(r[a],s),h(s.load,s,e);break;case"csv":if(r[a]=AmCharts.parseCSV(d,s),!1===r[a])return h(s.error,s,e),l(AmCharts.__("Error parsing CSV file",e.language)+": "+i.url,!1,s),void(r[a]=[]);r[a]=o(r[a],s),h(s.load,s,e);break;default:return h(s.error,s,e),void l(AmCharts.__("Unsupported data format",e.language)+": "+s.format,!1,s.noStyles)}if(i.remaining--,0===i.remaining&&(h(s.complete,e),s.async))if("map"===e.type)e.validateNow(!0),c();else if("gauge"!==e.type&&e.addListener("dataUpdated",function(t){"stock"!==e.type||s.reloading||void 0===e.periodSelector||e.periodSelector.setDefaultPeriod(),c(),e.events.dataUpdated.pop()}),"gauge"===e.type?(c(),e.validateNow()):e.validateData(),i.startDuration)if("stock"===e.type){e.panelsSettings.startDuration=i.startDuration;for(var u=0;u<e.panels.length;u++)e.panels[u].startDuration=i.startDuration,e.panels[u].animateAgain()}else e.startDuration=i.startDuration,void 0!==e.animateAgain&&e.animateAgain()}s.reload&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(n,1e3*s.reload,t,r,s,a),s.reloading=!0)})}function o(t,r){if(void 0===r.postProcess||"function"!=typeof r.postProcess)return t;try{return r.postProcess.call(i,t,r,e)}catch(i){return l(AmCharts.__("Error loading file",e.language)+": "+r.url,!1,r),t}}function s(e){for(var t in r)r.hasOwnProperty(t)&&a(e,t,r[t])}function a(e,t,i){void 0===e[t]&&(e[t]=i)}function l(e,t,i){i.showErrors?d(e,i.noStyles):(c(),console.log(e))}function d(t,r){c(),void 0===t&&(t=AmCharts.__("Loading data...",e.language));var n=document.createElement("div");if(n.setAttribute("id",e.div.id+"-curtain"),n.className="amcharts-dataloader-curtain",!0!==r){n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.width=(void 0!==e.realWidth?e.realWidth:e.divRealWidth)+"px",n.style.height=(void 0!==e.realHeight?e.realHeight:e.divRealHeight)+"px",n.style.textAlign="center",n.style.display="table",n.style.fontSize="20px";try{n.style.background="rgba(255, 255, 255, 0.3)"}catch(e){n.style.background="rgb(255, 255, 255)"}n.innerHTML='<div style="display: table-cell; vertical-align: middle;">'+t+"</div>"}else n.innerHTML=t;e.containerDiv.appendChild(n),i.curtain=n}function c(){try{void 0!==i.curtain&&e.containerDiv.removeChild(i.curtain)}catch(e){}i.curtain=void 0}function h(e,t,r,n){"function"==typeof e&&e.call(i,t,r,n)}},["pie","serial","xy","funnel","radar","gauge","gantt","stock","map"]),void 0===AmCharts.__&&(AmCharts.__=function(e,t){return void 0!==t&&void 0!==AmCharts.translations.dataLoader[t]&&void 0!==AmCharts.translations.dataLoader[t][e]?AmCharts.translations.dataLoader[t][e]:e}),AmCharts.loadFile=function(e,t,i){var r;"object"!=typeof t&&(t={}),void 0===t.async&&(t.async=!0),r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");try{r.open("GET",t.timestamp?AmCharts.timestampUrl(e):e,t.async)}catch(e){i.call(this,!1)}if(void 0!==t.headers&&t.headers.length)for(var n=0;n<t.headers.length;n++){var o=t.headers[n];r.setRequestHeader(o.key,o.value)}void 0!==t.progress&&"function"==typeof t.progress&&(r.onprogress=function(e){var i=e.loaded/e.total*100;t.progress.call(this,i)}),r.onreadystatechange=function(){4!==r.readyState||404!==r.status&&500!==r.status?4===r.readyState&&200===r.status&&i.call(this,r.responseText):i.call(this,!1)};try{r.send()}catch(e){i.call(this,!1)}},AmCharts.parseJSON=function(response){try{return void 0!==JSON?JSON.parse(response):eval(response)}catch(e){return!1}},AmCharts.parseCSV=function(e,t){var i,r,n,o=AmCharts.CSVToArray(e,t.delimiter),s=t.numberFields&&t.numberFields.length>0,a=[],l=[];if(t.useColumnNames){l=o.shift();for(var d=0;d<l.length;d++)""===(i=l[d].replace(/^\s+|\s+$/gm,""))&&(i="col"+d),l[d]=i;0<t.skip&&t.skip--}for(r=0;r<t.skip;r++)o.shift();for(;n=t.reverse?o.pop():o.shift();)if(!t.skipEmpty||1!==n.length||""!==n[0]){var c={};for(r=0;r<n.length;r++)c[i=void 0===l[r]?"col"+r:l[r]]=""===n[r]?t.emptyAs:n[r],s&&-1!==t.numberFields.indexOf(i)&&(c[i]=Number(c[i]));a.push(c)}return a},AmCharts.CSVToArray=function(e,t){t=t||",";for(var i=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),r=[[]],n=null;n=i.exec(e);){var o,s=n[1];s.length&&s!==t&&r.push([]),o=n[2]?n[2].replace(new RegExp('""',"g"),'"'):n[3],r[r.length-1].push(o)}return r},AmCharts.timestampUrl=function(e){var t=e.split("?");return 1===t.length?t[1]=(new Date).getTime():t[1]+="&"+(new Date).getTime(),t.join("?")}},"9V2q":function(e,t,i){var r,n,o,s;s=function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var r=this,n=1===i.which,o=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(n&&!o&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})},n=[i("7t+N"),i("zkIY"),i("UZ9c"),i("z1kw")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},DYUE:function(e,t,i){var r,n,o,s;s=function(e){return e.fn.extend({uniqueId:(t=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}});var t},n=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},DuR2:function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},F8S1:function(e,t,i){var r,n,o,s;s=function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=e.ui.safeActiveElement(this.document[0]);e(t.target).closest(i).length||e.ui.safeBlur(i)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var r=this._uiHash();if(!1===this._trigger("drag",t,r))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",t)&&i._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var i=this.options,r=e.isFunction(i.helper),n=r?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),r&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,r,n=this.options,o=this.document[0];this.relativeContainer=null,n.containment?"window"!==n.containment?"document"!==n.containment?n.containment.constructor!==Array?("parent"===n.containment&&(n.containment=this.helper[0].parentNode),(r=(i=e(n.containment))[0])&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)):this.containment=n.containment:this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,r,n,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,d=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),i=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(d=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(d=i[3]+this.offset.click.top)),s.grid&&(n=s.grid[1]?this.originalPageY+Math.round((d-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,d=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-s.grid[1]:n+s.grid[1]:n,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(d=this.originalPageY)),{top:d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,i,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[i,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,r){var n=e.extend({},i,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(r.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i,r){var n=e.extend({},i,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,function(){this.isOver?(this.isOver=0,r.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(t),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",t,n))})},drag:function(t,i,r){e.each(r.sortables,function(){var n=!1,o=this;o.positionAbs=r.positionAbs,o.helperProportions=r.helperProportions,o.offset.click=r.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,e.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,r._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=r.offset.click.top,o.offset.click.left=r.offset.click.left,o.offset.parent.left-=r.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=r.offset.parent.top-o.offset.parent.top,r._trigger("toSortable",t),r.dropped=o.element,e.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,o.fromOutside=r),o.currentItem&&(o._mouseDrag(t),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(r._parent),r._refreshOffsets(t),i.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,r){var n=e("body"),o=r.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(t,i,r){var n=r.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,r){var n=e(i.helper),o=r.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(t,i,r){var n=r.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,r){var n=r.options,o=!1,s=r.scrollParentNotHidden[0],a=r.document[0];s!==a&&"HTML"!==s.tagName?(n.axis&&"x"===n.axis||(r.overflowOffset.top+s.offsetHeight-t.pageY<n.scrollSensitivity?s.scrollTop=o=s.scrollTop+n.scrollSpeed:t.pageY-r.overflowOffset.top<n.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(r.overflowOffset.left+s.offsetWidth-t.pageX<n.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+n.scrollSpeed:t.pageX-r.overflowOffset.left<n.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(a).scrollTop()<n.scrollSensitivity?o=e(a).scrollTop(e(a).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<n.scrollSensitivity&&(o=e(a).scrollTop(e(a).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(a).scrollLeft()<n.scrollSensitivity?o=e(a).scrollLeft(e(a).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<n.scrollSensitivity&&(o=e(a).scrollLeft(e(a).scrollLeft()+n.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,r){var n=r.options;r.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),i=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,r){var n,o,s,a,l,d,c,h,u,f,p=r.options,g=p.snapTolerance,m=i.offset.left,v=m+r.helperProportions.width,b=i.offset.top,y=b+r.helperProportions.height;for(u=r.snapElements.length-1;u>=0;u--)d=(l=r.snapElements[u].left-r.margins.left)+r.snapElements[u].width,h=(c=r.snapElements[u].top-r.margins.top)+r.snapElements[u].height,v<l-g||m>d+g||y<c-g||b>h+g||!e.contains(r.snapElements[u].item.ownerDocument,r.snapElements[u].item)?(r.snapElements[u].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=!1):("inner"!==p.snapMode&&(n=Math.abs(c-y)<=g,o=Math.abs(h-b)<=g,s=Math.abs(l-v)<=g,a=Math.abs(d-m)<=g,n&&(i.position.top=r._convertPositionTo("relative",{top:c-r.helperProportions.height,left:0}).top),o&&(i.position.top=r._convertPositionTo("relative",{top:h,left:0}).top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:l-r.helperProportions.width}).left),a&&(i.position.left=r._convertPositionTo("relative",{top:0,left:d}).left)),f=n||o||s||a,"outer"!==p.snapMode&&(n=Math.abs(c-b)<=g,o=Math.abs(h-y)<=g,s=Math.abs(l-m)<=g,a=Math.abs(d-v)<=g,n&&(i.position.top=r._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=r._convertPositionTo("relative",{top:h-r.helperProportions.height,left:0}).top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=r._convertPositionTo("relative",{top:0,left:d-r.helperProportions.width}).left)),!r.snapElements[u].snapping&&(n||o||s||a||f)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=n||o||s||a||f)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,r){var n,o=r.options,s=e.makeArray(e(o.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});s.length&&(n=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,r){var n=e(i.helper),o=r.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(t,i,r){var n=r.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}}),e.ui.draggable},n=[i("7t+N"),i("9V2q"),i("3eNs"),i("zUl4"),i("Nnp9"),i("ne1m"),i("Rl6D"),i("UZ9c"),i("z1kw")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},HPGu:function(e,t,i){var r,n,o,s;s=function(e){return e.fn.labels=function(){var t,i,r,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),(r=this.attr("id"))&&(o=(t=this.eq(0).parents().last()).add(t.length?t.siblings():this.siblings()),i="label[for='"+e.ui.escapeSelector(r)+"']",n=n.add(o.find(i).addBack(i))),this.pushStack(n))}},n=[i("7t+N"),i("UZ9c"),i("WesT")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},J1Hg:function(e,t,i){var r;!function(e){if(e.document){var t,i,r=e.document;r.querySelectorAll||(r.querySelectorAll=function(t){var i,n=r.createElement("style"),o=[];for(r.documentElement.firstChild.appendChild(n),r._qsa=[],n.styleSheet.cssText=t+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",e.scrollBy(0,0),n.parentNode.removeChild(n);r._qsa.length;)(i=r._qsa.shift()).style.removeAttribute("x-qsa"),o.push(i);return r._qsa=null,o}),r.querySelector||(r.querySelector=function(e){var t=r.querySelectorAll(e);return t.length?t[0]:null}),r.getElementsByClassName||(r.getElementsByClassName=function(e){return e=String(e).replace(/^|\s+/g,"."),r.querySelectorAll(e)}),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw TypeError("Object.keys called on non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i}),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();var r,n=arguments[1];for(r=0;r<i;r++)r in t&&e.call(n,t[r],r,t)}),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",(t=e).atob=t.atob||function(e){var t=0,r=[],n=0,o=0;if((e=(e=String(e)).replace(/\s/g,"")).length%4==0&&(e=e.replace(/=+$/,"")),e.length%4==1)throw Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(e))throw Error("InvalidCharacterError");for(;t<e.length;)n=n<<6|i.indexOf(e.charAt(t)),24===(o+=6)&&(r.push(String.fromCharCode(n>>16&255)),r.push(String.fromCharCode(n>>8&255)),r.push(String.fromCharCode(255&n)),o=0,n=0),t+=1;return 12===o?(n>>=4,r.push(String.fromCharCode(255&n))):18===o&&(n>>=2,r.push(String.fromCharCode(n>>8&255)),r.push(String.fromCharCode(255&n))),r.join("")},t.btoa=t.btoa||function(e){e=String(e);var t,r,n,o,s,a,l,d=0,c=[];if(/[^\x00-\xFF]/.test(e))throw Error("InvalidCharacterError");for(;d<e.length;)o=(t=e.charCodeAt(d++))>>2,s=(3&t)<<4|(r=e.charCodeAt(d++))>>4,a=(15&r)<<2|(n=e.charCodeAt(d++))>>6,l=63&n,d===e.length+2?(a=64,l=64):d===e.length+1&&(l=64),c.push(i.charAt(o),i.charAt(s),i.charAt(a),i.charAt(l));return c.join("")},Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e){var t=this.__proto__||this.constructor.prototype;return e in this&&(!(e in t)||t[e]!==this[e])}),function(){if("performance"in e==!1&&(e.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in e.performance==!1){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),e.performance.now=function(){return Date.now()-t}}}(),e.requestAnimationFrame||(e.webkitRequestAnimationFrame&&e.webkitCancelAnimationFrame?function(e){e.requestAnimationFrame=function(t){return webkitRequestAnimationFrame(function(){t(e.performance.now())})},e.cancelAnimationFrame=e.webkitCancelAnimationFrame}(e):e.mozRequestAnimationFrame&&e.mozCancelAnimationFrame?function(e){e.requestAnimationFrame=function(t){return mozRequestAnimationFrame(function(){t(e.performance.now())})},e.cancelAnimationFrame=e.mozCancelAnimationFrame}(e):function(e){e.requestAnimationFrame=function(t){return e.setTimeout(t,1e3/60)},e.cancelAnimationFrame=e.clearTimeout}(e))}}(this),r=function(){return function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}return i.m=e,i.c=t,i.p="",i(0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){(function(t){var r=i(2),n=i(3),o=i(6),s=i(7),a=i(8),l=i(9),d=i(10),c=i(11),h=i(12),u=i(15),f=s.extend,p=s.dimensionCheck,g=c.svg_ns,m={version:c.version,addTheme:function(e,t){return null!=e&&null!=t&&(v.settings.themes[e]=t),delete v.vars.cache.themeKeys,this},addImage:function(e,t){return l.getNodeArray(t).forEach(function(t){var i=l.newEl("img"),r={};r[v.setup.dataAttr]=e,l.setAttr(i,r),t.appendChild(i)}),this},setResizeUpdate:function(e,t){e.holderData&&(e.holderData.resizeUpdate=!!t,e.holderData.resizeUpdate&&C(e))},run:function(e){e=e||{};var i={},r=f(v.settings,e);v.vars.preempted=!0,v.vars.dataAttr=r.dataAttr||v.setup.dataAttr,i.renderer=r.renderer?r.renderer:v.setup.renderer,-1===v.setup.renderers.join(",").indexOf(i.renderer)&&(i.renderer=v.setup.supportsSVG?"svg":v.setup.supportsCanvas?"canvas":"html");var n=l.getNodeArray(r.images),o=l.getNodeArray(r.bgnodes),a=l.getNodeArray(r.stylenodes),d=l.getNodeArray(r.objects);return i.stylesheets=[],i.svgXMLStylesheet=!0,i.noFontFallback=!!r.noFontFallback,i.noBackgroundSize=!!r.noBackgroundSize,a.forEach(function(e){if(e.attributes.rel&&e.attributes.href&&"stylesheet"==e.attributes.rel.value){var t=e.attributes.href.value,r=l.newEl("a");r.href=t;var n=r.protocol+"//"+r.host+r.pathname+r.search;i.stylesheets.push(n)}}),o.forEach(function(e){if(t.getComputedStyle){var n=t.getComputedStyle(e,null).getPropertyValue("background-image"),o=e.getAttribute("data-background-src")||n,s=null,a=r.domain+"/",l=o.indexOf(a);if(0===l)s=o;else if(1===l&&"?"===o[0])s=o.slice(1);else{var d=o.substr(l).match(/([^\"]*)"?\)/);if(null!==d)s=d[1];else if(0===o.indexOf("url("))throw"Holder: unable to parse background URL: "+o}if(s){var c=y(s,r);c&&w({mode:"background",el:e,flags:c,engineSettings:i})}}}),d.forEach(function(e){var t={};try{t.data=e.getAttribute("data"),t.dataSrc=e.getAttribute(v.vars.dataAttr)}catch(e){}var n=null!=t.data&&0===t.data.indexOf(r.domain),o=null!=t.dataSrc&&0===t.dataSrc.indexOf(r.domain);n?b(r,i,t.data,e):o&&b(r,i,t.dataSrc,e)}),n.forEach(function(e){var t={};try{t.src=e.getAttribute("src"),t.dataSrc=e.getAttribute(v.vars.dataAttr),t.rendered=e.getAttribute("data-holder-rendered")}catch(e){}var n=null!=t.src,o=null!=t.dataSrc&&0===t.dataSrc.indexOf(r.domain),a=null!=t.rendered&&"true"==t.rendered;n?0===t.src.indexOf(r.domain)?b(r,i,t.src,e):o&&(a?b(r,i,t.dataSrc,e):function(e,t,i,r,n){s.imageExists(e,function(e){e||b(t,i,r,n)})}(t.src,r,i,t.dataSrc,e)):o&&b(r,i,t.dataSrc,e)}),this}},v={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",themes:{gray:{bg:"#EEEEEE",fg:"#AAAAAA"},social:{bg:"#3a5a97",fg:"#FFFFFF"},industrial:{bg:"#434A52",fg:"#C2F200"},sky:{bg:"#0D8FDB",fg:"#FFFFFF"},vine:{bg:"#39DBAC",fg:"#1E292C"},lava:{bg:"#F8591A",fg:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16}};function b(e,t,i,r){var n=y(i.substr(i.lastIndexOf(e.domain)),e);n&&w({mode:null,el:r,flags:n,engineSettings:t})}function y(e,t){var i={theme:f(v.settings.themes.gray,null),stylesheets:t.stylesheets,instanceOptions:t},r=e.indexOf("?"),o=[e];-1!==r&&(o=[e.slice(0,r),e.slice(r+1)]);var a=o[0].split("/");i.holderURL=e;var l=a[1],d=l.match(/([\d]+p?)x([\d]+p?)/);if(!d)return!1;if(i.fluid=-1!==l.indexOf("p"),i.dimensions={width:d[1].replace("p","%"),height:d[2].replace("p","%")},2===o.length){var c=n.parse(o[1]);if(s.truthy(c.ratio)){i.fluid=!0;var h=parseFloat(i.dimensions.width.replace("%","")),u=parseFloat(i.dimensions.height.replace("%",""));u=Math.floor(u/h*100),h=100,i.dimensions.width=h+"%",i.dimensions.height=u+"%"}if(i.auto=s.truthy(c.auto),c.bg&&(i.theme.bg=s.parseColor(c.bg)),c.fg&&(i.theme.fg=s.parseColor(c.fg)),c.bg&&!c.fg&&(i.autoFg=!0),c.theme&&i.instanceOptions.themes.hasOwnProperty(c.theme)&&(i.theme=f(i.instanceOptions.themes[c.theme],null)),c.text&&(i.text=c.text),c.textmode&&(i.textmode=c.textmode),c.size&&(i.size=c.size),c.font&&(i.font=c.font),c.align&&(i.align=c.align),c.lineWrap&&(i.lineWrap=c.lineWrap),i.nowrap=s.truthy(c.nowrap),i.outline=s.truthy(c.outline),s.truthy(c.random)){v.vars.cache.themeKeys=v.vars.cache.themeKeys||Object.keys(i.instanceOptions.themes);var p=v.vars.cache.themeKeys[0|Math.random()*v.vars.cache.themeKeys.length];i.theme=f(i.instanceOptions.themes[p],null)}}return i}function w(e){var t=e.mode,i=e.el,r=e.flags,n=e.engineSettings,o=r.dimensions,a=r.theme,d=o.width+"x"+o.height;t=null==t?r.fluid?"fluid":"image":t;if(null!=r.text&&(a.text=r.text,"object"===i.nodeName.toLowerCase())){for(var c=a.text.split("\\n"),h=0;h<c.length;h++)c[h]=s.encodeHtmlEntity(c[h]);a.text=c.join("\\n")}if(a.text){var u=a.text.match(/holder_([a-z]+)/g);null!==u&&u.forEach(function(e){"holder_dimensions"===e&&(a.text=a.text.replace(e,d))})}var g=r.holderURL,m=f(n,null);if(r.font&&(a.font=r.font,!m.noFontFallback&&"img"===i.nodeName.toLowerCase()&&v.setup.supportsCanvas&&"svg"===m.renderer&&(m=f(m,{renderer:"canvas"}))),r.font&&"canvas"==m.renderer&&(m.reRender=!0),"background"==t)null==i.getAttribute("data-background-src")&&l.setAttr(i,{"data-background-src":g});else{var b={};b[v.vars.dataAttr]=g,l.setAttr(i,b)}r.theme=a,i.holderData={flags:r,engineSettings:m},"image"!=t&&"fluid"!=t||l.setAttr(i,{alt:a.text?a.text+" ["+d+"]":d});var y={mode:t,el:i,holderSettings:{dimensions:o,theme:a,flags:r},engineSettings:m};"image"==t?(r.auto||(i.style.width=o.width+"px",i.style.height=o.height+"px"),"html"==m.renderer?i.style.backgroundColor=a.bg:(x(y),"exact"==r.textmode&&(i.holderData.resizeUpdate=!0,v.vars.resizableImages.push(i),C(i)))):"background"==t&&"html"!=m.renderer?x(y):"fluid"==t&&(i.holderData.resizeUpdate=!0,"%"==o.height.slice(-1)?i.style.height=o.height:null!=r.auto&&r.auto||(i.style.height=o.height+"px"),"%"==o.width.slice(-1)?i.style.width=o.width:null!=r.auto&&r.auto||(i.style.width=o.width+"px"),"inline"!=i.style.display&&""!==i.style.display&&"none"!=i.style.display||(i.style.display="block"),function(e){if(e.holderData){var t=p(e);if(t){var i=e.holderData.flags,r={fluidHeight:"%"==i.dimensions.height.slice(-1),fluidWidth:"%"==i.dimensions.width.slice(-1),mode:null,initialDimensions:t};r.fluidWidth&&!r.fluidHeight?(r.mode="width",r.ratio=r.initialDimensions.width/parseFloat(i.dimensions.height)):!r.fluidWidth&&r.fluidHeight&&(r.mode="height",r.ratio=parseFloat(i.dimensions.width)/r.initialDimensions.height),e.holderData.fluidConfig=r}else k(e)}}(i),"html"==m.renderer?i.style.backgroundColor=a.bg:(v.vars.resizableImages.push(i),C(i)))}function x(e){var i,r=e.mode,n=e.el,s=e.holderSettings,a=e.engineSettings;switch(a.renderer){case"svg":if(!v.setup.supportsSVG)return;break;case"canvas":if(!v.setup.supportsCanvas)return;break;default:return}var c={width:s.dimensions.width,height:s.dimensions.height,theme:s.theme,flags:s.flags},f=function(e){var t=v.defaults.size;parseFloat(e.theme.size)?t=e.theme.size:parseFloat(e.flags.size)&&(t=e.flags.size);switch(e.font={family:e.theme.font?e.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:function(e,t,i,r){var n=parseInt(e,10),o=parseInt(t,10),s=Math.max(n,o),a=Math.min(n,o),l=.8*Math.min(a,s*r);return Math.round(Math.max(i,l))}(e.width,e.height,t,v.defaults.scale),units:e.theme.units?e.theme.units:v.defaults.units,weight:e.theme.fontweight?e.theme.fontweight:"bold"},e.text=e.theme.text||Math.floor(e.width)+"x"+Math.floor(e.height),e.noWrap=e.theme.nowrap||e.flags.nowrap,e.align=e.theme.align||e.flags.align||"center",e.flags.textmode){case"literal":e.text=e.flags.dimensions.width+"x"+e.flags.dimensions.height;break;case"exact":if(!e.flags.exactDimensions)break;e.text=Math.floor(e.flags.exactDimensions.width)+"x"+Math.floor(e.flags.exactDimensions.height)}var i=e.flags.lineWrap||v.setup.lineWrapRatio,r=e.width*i,n=r,s=new o({width:e.width,height:e.height}),a=s.Shape,l=new a.Rect("holderBg",{fill:e.theme.bg});if(l.resize(e.width,e.height),s.root.add(l),e.flags.outline){var c=new d(l.properties.fill);c=c.lighten(c.lighterThan("7f7f7f")?-.1:.1),l.properties.outline={fill:c.toHex(!0),width:2}}var h=e.theme.fg;if(e.flags.autoFg){var u=new d(l.properties.fill),f=new d("fff"),p=new d("000",{alpha:.285714});h=u.blendAlpha(u.lighterThan("7f7f7f")?p:f).toHex(!0)}var g=new a.Group("holderTextGroup",{text:e.text,align:e.align,font:e.font,fill:h});g.moveTo(null,null,1),s.root.add(g);var m=g.textPositionData=_(s);if(!m)throw"Holder: staging fallback not supported yet.";g.properties.leading=m.boundingBox.height;var b=null,y=null;function w(e,t,i,r){t.width=i,t.height=r,e.width=Math.max(e.width,t.width),e.height+=t.height}if(m.lineCount>1){var x,C=0,S=0,k=0;y=new a.Group("line"+k),"left"!==e.align&&"right"!==e.align||(n=e.width*(1-2*(1-i)));for(var D=0;D<m.words.length;D++){var T=m.words[D];b=new a.Text(T.text);var A="\\n"==T.text;!e.noWrap&&(C+T.width>=n||!0===A)&&(w(g,y,C,g.properties.leading),g.add(y),C=0,S+=g.properties.leading,k+=1,(y=new a.Group("line"+k)).y=S),!0!==A&&(b.moveTo(C,0),C+=m.spaceWidth+T.width,y.add(b))}if(w(g,y,C,g.properties.leading),g.add(y),"left"===e.align)g.moveTo(e.width-r,null,null);else if("right"===e.align){for(x in g.children)(y=g.children[x]).moveTo(e.width-y.width,null,null);g.moveTo(0-(e.width-r),null,null)}else{for(x in g.children)(y=g.children[x]).moveTo((g.width-y.width)/2,null,null);g.moveTo((e.width-g.width)/2,null,null)}g.moveTo(null,(e.height-g.height)/2,null),(e.height-g.height)/2<0&&g.moveTo(null,0,null)}else b=new a.Text(e.text),(y=new a.Group("line0")).add(b),g.add(y),"left"===e.align?g.moveTo(e.width-r,null,null):"right"===e.align?g.moveTo(0-(e.width-r),null,null):g.moveTo((e.width-m.boundingBox.width)/2,null,null),g.moveTo(null,(e.height-m.boundingBox.height)/2,null);return s}(c);function p(){var t=null;switch(a.renderer){case"canvas":t=u(f,e);break;case"svg":t=h(f,e);break;default:throw"Holder: invalid renderer: "+a.renderer}return t}if(null==(i=p()))throw"Holder: couldn't render placeholder";"background"==r?(n.style.backgroundImage="url("+i+")",a.noBackgroundSize||(n.style.backgroundSize=c.width+"px "+c.height+"px")):("img"===n.nodeName.toLowerCase()?l.setAttr(n,{src:i}):"object"===n.nodeName.toLowerCase()&&l.setAttr(n,{data:i,type:"image/svg+xml"}),a.reRender&&t.setTimeout(function(){var e=p();if(null==e)throw"Holder: couldn't render placeholder";"img"===n.nodeName.toLowerCase()?l.setAttr(n,{src:e}):"object"===n.nodeName.toLowerCase()&&l.setAttr(n,{data:e,type:"image/svg+xml"})},150)),l.setAttr(n,{"data-holder-rendered":!0})}function C(e){for(var t,i=0,r=(t=null==e||null==e.nodeType?v.vars.resizableImages:[e]).length;i<r;i++){var n=t[i];if(n.holderData){var o=n.holderData.flags,s=p(n);if(s){if(!n.holderData.resizeUpdate)continue;if(o.fluid&&o.auto){var a=n.holderData.fluidConfig;switch(a.mode){case"width":s.height=s.width/a.ratio;break;case"height":s.width=s.height*a.ratio}}var l={mode:"image",holderSettings:{dimensions:s,theme:o.theme,flags:o},el:n,engineSettings:n.holderData.engineSettings};"exact"==o.textmode&&(o.exactDimensions=s,l.holderSettings.dimensions=o.dimensions),x(l)}else k(n)}}}function S(){var e,i=[];Object.keys(v.vars.invisibleImages).forEach(function(t){e=v.vars.invisibleImages[t],p(e)&&"img"==e.nodeName.toLowerCase()&&(i.push(e),delete v.vars.invisibleImages[t])}),i.length&&m.run({images:i}),setTimeout(function(){t.requestAnimationFrame(S)},10)}function k(e){e.holderData.invisibleId||(v.vars.invisibleId+=1,v.vars.invisibleImages["i"+v.vars.invisibleId]=e,e.holderData.invisibleId=v.vars.invisibleId)}var D,T,A,N,_=(D=null,T=null,A=null,function(e){var t,i=e.root;if(v.setup.supportsSVG){var r=!1;null!=D&&D.parentNode===document.body||(r=!0),(D=a.initSVG(D,i.properties.width,i.properties.height)).style.display="block",r&&(T=l.newEl("text",g),t=null,A=document.createTextNode(t),l.setAttr(T,{x:0}),T.appendChild(A),D.appendChild(T),document.body.appendChild(D),D.style.visibility="hidden",D.style.position="absolute",D.style.top="-100%",D.style.left="-100%");var n=i.children.holderTextGroup.properties;l.setAttr(T,{y:n.font.size,style:s.cssProps({"font-weight":n.font.weight,"font-size":n.font.size+n.font.units,"font-family":n.font.family})}),A.nodeValue=n.text;var o=T.getBBox(),d=Math.ceil(o.width/i.properties.width),c=n.text.split(" "),h=n.text.match(/\\n/g);d+=null==h?0:h.length,A.nodeValue=n.text.replace(/[ ]+/g,"");var u=T.getComputedTextLength(),f=o.width-u,p=Math.round(f/Math.max(1,c.length-1)),m=[];if(d>1){A.nodeValue="";for(var b=0;b<c.length;b++)if(0!==c[b].length){A.nodeValue=s.decodeHtmlEntity(c[b]);var y=T.getBBox();m.push({text:c[b],width:y.width})}}return D.style.display="none",{spaceWidth:p,lineCount:d,boundingBox:o,words:m}}return!1});function M(){!function(e){v.vars.debounceTimer||e.call(this),v.vars.debounceTimer&&t.clearTimeout(v.vars.debounceTimer),v.vars.debounceTimer=t.setTimeout(function(){v.vars.debounceTimer=null,e.call(this)},v.setup.debounce)}(function(){C(null)})}for(var E in v.flags)v.flags.hasOwnProperty(E)&&(v.flags[E].match=function(e){return e.match(this.regex)});v.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,dataAttr:"data-src",renderers:["html","canvas","svg"]},v.vars={preempted:!1,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:!1,debounceTimer:null,cache:{}},(N=l.newEl("canvas")).getContext&&-1!=N.toDataURL("image/png").indexOf("data:image/png")&&(v.setup.renderer="canvas",v.setup.supportsCanvas=!0),document.createElementNS&&document.createElementNS(g,"svg").createSVGRect&&(v.setup.renderer="svg",v.setup.supportsSVG=!0),v.vars.visibilityCheckStarted||(t.requestAnimationFrame(S),v.vars.visibilityCheckStarted=!0),r&&r(function(){v.vars.preempted||m.run(),t.addEventListener?(t.addEventListener("resize",M,!1),t.addEventListener("orientationchange",M,!1)):t.attachEvent("onresize",M),"object"==typeof t.Turbolinks&&t.document.addEventListener("page:change",function(){m.run()})}),e.exports=m}).call(t,function(){return this}())},function(e,t){e.exports="undefined"!=typeof window&&function(e){null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e,!1),document.readyState="complete"},!1),document.readyState="loading");var t=e.document,i=t.documentElement,r="load",n=!1,o="on"+r,s="complete",a="readyState",l="detachEvent",d="DOMContentLoaded",c="onreadystatechange",h="removeEventListener",u="addEventListener"in t,f=n,p=n,g=[];function m(e){if(!p){if(!t.body)return y(m);for(p=!0;e=g.shift();)y(e)}}function v(e){(u||e.type===r||t[a]===s)&&(b(),m())}function b(){u?(t[h](d,v,n),e[h](r,v,n)):(t[l](c,v),e[l](o,v))}function y(e,t){setTimeout(e,+t>=0?t:1)}if(t[a]===s)y(m);else if(u)t.addEventListener(d,v,n),e.addEventListener(r,v,n);else{t.attachEvent(c,v),e.attachEvent(o,v);try{f=null==e.frameElement&&i}catch(e){}f&&f.doScroll&&function e(){if(!p){try{f.doScroll("left")}catch(t){return y(e,50)}b(),m()}}()}function w(e){p?y(e):g.push(e)}return w.version="1.4.0",w.isReady=function(){return p},w}(window)},function(e,t,i){var r=encodeURIComponent,n=decodeURIComponent,o=i(4),s=i(5),a=/(\w+)\[(\d+)\]/,l=/\w+\.\w+/;t.parse=function(e){if("string"!=typeof e)return{};if(""===(e=o(e)))return{};"?"===e.charAt(0)&&(e=e.slice(1));for(var t={},i=e.split("&"),r=0;r<i.length;r++){var s,d,c,h=i[r].split("="),u=n(h[0]);if(s=a.exec(u))t[s[1]]=t[s[1]]||[],t[s[1]][s[2]]=n(h[1]);else if(s=l.test(u)){for(s=u.split("."),d=t;s.length;)if((c=s.shift()).length){if(d[c]){if(d[c]&&"object"!=typeof d[c])break}else d[c]={};s.length||(d[c]=n(h[1])),d=d[c]}}else t[h[0]]=null==h[1]?"":n(h[1])}return t},t.stringify=function(e){if(!e)return"";var t=[];for(var i in e){var n=e[i];if("array"!=s(n))t.push(r(i)+"="+r(e[i]));else for(var o=0;o<n.length;++o)t.push(r(i+"["+o+"]")+"="+r(n[o]))}return t.join("&")}},function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t){var i=Object.prototype.toString;e.exports=function(e){switch(i.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!=e?"nan":e&&1===e.nodeType?"element":null!=(t=e)&&(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))?"buffer":typeof(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e));var t}},function(e,t){e.exports=function(e){var t=1;var i=function(e){t++,this.parent=null,this.children={},this.id=t,this.name="n"+t,void 0!==e&&(this.name=e),this.x=this.y=this.z=0,this.width=this.height=0};i.prototype.resize=function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t)},i.prototype.moveTo=function(e,t,i){this.x=null!=e?e:this.x,this.y=null!=t?t:this.y,this.z=null!=i?i:this.z},i.prototype.add=function(e){var t=e.name;if(void 0!==this.children[t])throw"SceneGraph: child already exists: "+t;this.children[t]=e,e.parent=this};var r=function(){i.call(this,"root"),this.properties=e};r.prototype=new i;var n=function(e,t){if(i.call(this,e),this.properties={fill:"#000000"},void 0!==t)!function(e,t){for(var i in t)e[i]=t[i]}(this.properties,t);else if(void 0!==e&&"string"!=typeof e)throw"SceneGraph: invalid node name"};n.prototype=new i;var o=function(){n.apply(this,arguments),this.type="group"};o.prototype=new n;var s=function(){n.apply(this,arguments),this.type="rect"};s.prototype=new n;var a=function(e){n.call(this),this.type="text",this.properties.text=e};a.prototype=new n;var l=new r;return this.Shape={Rect:s,Text:a,Group:o},this.root=l,this}},function(e,t){(function(e){t.extend=function(e,t){var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);if(null!=t)for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return i},t.cssProps=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i+":"+e[i]);return t.join(";")},t.encodeHtmlEntity=function(e){for(var t=[],i=0,r=e.length-1;r>=0;r--)(i=e.charCodeAt(r))>128?t.unshift(["&#",i,";"].join("")):t.unshift(e[r]);return t.join("")},t.imageExists=function(e,t){var i=new Image;i.onerror=function(){t.call(this,!1)},i.onload=function(){t.call(this,!0)},i.src=e},t.decodeHtmlEntity=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)})},t.dimensionCheck=function(e){var t={height:e.clientHeight,width:e.clientWidth};return!(!t.height||!t.width)&&t},t.truthy=function(e){return"string"==typeof e?"true"===e||"yes"===e||"1"===e||"on"===e||"✓"===e:!!e},t.parseColor=function(e){var t,i=e.match(/(^(?:#?)[0-9a-f]{6}$)|(^(?:#?)[0-9a-f]{3}$)/i);return null!==i?"#"!==(t=i[1]||i[2])[0]?"#"+t:t:null!==(i=e.match(/^rgb\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/))?t="rgb("+i.slice(1).join(",")+")":null!==(i=e.match(/^rgba\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0\.\d{1,}|1)\)$/))?t="rgba("+i.slice(1).join(",")+")":null},t.canvasRatio=function(){var t=1,i=1;if(e.document){var r=e.document.createElement("canvas");if(r.getContext){var n=r.getContext("2d");t=e.devicePixelRatio||1,i=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1}}return t/i}}).call(t,function(){return this}())},function(e,t,i){(function(e){var r=i(9),n="http://www.w3.org/2000/svg";t.initSVG=function(e,t,i){var o,s,a=!1;e&&e.querySelector?null===(s=e.querySelector("style"))&&(a=!0):(e=r.newEl("svg",n),a=!0),a&&(o=r.newEl("defs",n),s=r.newEl("style",n),r.setAttr(s,{type:"text/css"}),o.appendChild(s),e.appendChild(o)),e.webkitMatchesSelector&&e.setAttribute("xmlns",n);for(var l=0;l<e.childNodes.length;l++)8===e.childNodes[l].nodeType&&e.removeChild(e.childNodes[l]);for(;s.childNodes.length;)s.removeChild(s.childNodes[0]);return r.setAttr(e,{width:t,height:i,viewBox:"0 0 "+t+" "+i,preserveAspectRatio:"none"}),e},t.svgStringToDataURI=function(t,i){return i?"data:image/svg+xml;charset=UTF-8;base64,"+btoa(e.unescape(encodeURIComponent(t))):"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(t)},t.serializeSVG=function(t,i){if(e.XMLSerializer){var n=new XMLSerializer,o="",s=i.stylesheets;if(i.svgXMLStylesheet){for(var a=r.createXML(),l=s.length-1;l>=0;l--){var d=a.createProcessingInstruction("xml-stylesheet",'href="'+s[l]+'" rel="stylesheet"');a.insertBefore(d,a.firstChild)}a.removeChild(a.documentElement),o=n.serializeToString(a)}var c=n.serializeToString(t);return o+(c=c.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"))}}}).call(t,function(){return this}())},function(e,t){(function(e){t.newEl=function(t,i){if(e.document)return null==i?e.document.createElement(t):e.document.createElementNS(i,t)},t.setAttr=function(e,t){for(var i in t)e.setAttribute(i,t[i])},t.createXML=function(){if(e.DOMParser)return(new DOMParser).parseFromString("<xml />","application/xml")},t.getNodeArray=function(t){var i=null;return"string"==typeof t?i=document.querySelectorAll(t):e.NodeList&&t instanceof e.NodeList?i=t:e.Node&&t instanceof e.Node?i=[t]:e.HTMLCollection&&t instanceof e.HTMLCollection?i=t:t instanceof Array?i=t:null===t&&(i=[]),i=Array.prototype.slice.call(i)}}).call(t,function(){return this}())},function(e,t){var i=function(e,t){"string"==typeof e&&(this.original=e,"#"===e.charAt(0)&&(e=e.slice(1)),/[^a-f0-9]+/i.test(e)||(3===e.length&&(e=e.replace(/./g,"$&$&")),6===e.length&&(this.alpha=1,t&&t.alpha&&(this.alpha=t.alpha),this.set(parseInt(e,16)))))};i.rgb2hex=function(e,t,i){return[e,t,i].map(function(e){var t=(0|e).toString(16);return e<16&&(t="0"+t),t}).join("")},i.hsl2rgb=function(e,t,i){var r=e/60,n=(1-Math.abs(2*i-1))*t,o=n*(1-Math.abs(parseInt(r)%2-1)),s=i-n/2,a=0,l=0,d=0;return r>=0&&r<1?(a=n,l=o):r>=1&&r<2?(a=o,l=n):r>=2&&r<3?(l=n,d=o):r>=3&&r<4?(l=o,d=n):r>=4&&r<5?(a=o,d=n):r>=5&&r<6&&(a=n,d=o),a+=s,l+=s,d+=s,[a=parseInt(255*a),l=parseInt(255*l),d=parseInt(255*d)]},i.prototype.set=function(e){this.raw=e;var t=(16711680&this.raw)>>16,i=(65280&this.raw)>>8,r=255&this.raw,n=.2126*t+.7152*i+.0722*r,o=-.09991*t-.33609*i+.436*r,s=.615*t-.55861*i-.05639*r;return this.rgb={r:t,g:i,b:r},this.yuv={y:n,u:o,v:s},this},i.prototype.lighten=function(e){var t=255*(Math.min(1,Math.max(0,Math.abs(e)))*(e<0?-1:1))|0,r=Math.min(255,Math.max(0,this.rgb.r+t)),n=Math.min(255,Math.max(0,this.rgb.g+t)),o=Math.min(255,Math.max(0,this.rgb.b+t)),s=i.rgb2hex(r,n,o);return new i(s)},i.prototype.toHex=function(e){return(e?"#":"")+this.raw.toString(16)},i.prototype.lighterThan=function(e){return e instanceof i||(e=new i(e)),this.yuv.y>e.yuv.y},i.prototype.blendAlpha=function(e){e instanceof i||(e=new i(e));var t=e,r=t.alpha*t.rgb.r+(1-t.alpha)*this.rgb.r,n=t.alpha*t.rgb.g+(1-t.alpha)*this.rgb.g,o=t.alpha*t.rgb.b+(1-t.alpha)*this.rgb.b;return new i(i.rgb2hex(r,n,o))},e.exports=i},function(e,t){e.exports={version:"2.9.4",svg_ns:"http://www.w3.org/2000/svg"}},function(e,t,i){var r=i(13),n=i(8),o=i(11),s=i(7),a=o.svg_ns,l={element:function(e){var t=e.tag,i=e.content||"";return delete e.tag,delete e.content,[t,i,e]}};e.exports=function(e,t){var i,o=t.engineSettings.stylesheets.map(function(e){return'<?xml-stylesheet rel="stylesheet" href="'+e+'"?>'}).join("\n"),d="holder_"+Number(new Date).toString(16),c=e.root,h=c.children.holderTextGroup,u="#"+d+" text { "+(i=h.properties,s.cssProps({fill:i.fill,"font-weight":i.font.weight,"font-family":i.font.family+", monospace","font-size":i.font.size+i.font.units}))+" } ";h.y+=.8*h.textPositionData.boundingBox.height;var f=[];Object.keys(h.children).forEach(function(e){var t=h.children[e];Object.keys(t.children).forEach(function(e){var i=t.children[e],r=h.x+t.x+i.x,n=h.y+t.y+i.y,o=l.element({tag:"text",content:i.properties.text,x:r,y:n});f.push(o)})});var p,g,m,v,b=l.element({tag:"g",content:f}),y=null;if(c.children.holderBg.properties.outline){var w=c.children.holderBg.properties.outline;y=l.element({tag:"path",d:(p=c.children.holderBg.width,g=c.children.holderBg.height,m=w.width,v=m/2,["M",v,v,"H",p-v,"V",g-v,"H",v,"V",0,"M",0,v,"L",p,g-v,"M",0,g-v,"L",p,v].join(" ")),"stroke-width":w.width,stroke:w.fill,fill:"none"})}var x,C,S=(x=c.children.holderBg,C="rect",l.element({tag:C,width:x.width,height:x.height,fill:x.properties.fill})),k=[];k.push(S),w&&k.push(y),k.push(b);var D=l.element({tag:"g",id:d,content:k}),T=l.element({tag:"style",content:u,type:"text/css"}),A=l.element({tag:"defs",content:T}),N=l.element({tag:"svg",content:[A,D],width:c.properties.width,height:c.properties.height,xmlns:a,viewBox:[0,0,c.properties.width,c.properties.height].join(" "),preserveAspectRatio:"none"}),_=r(N);return _=o+_[0],n.svgStringToDataURI(_,"background"===t.mode)}},function(e,t,i){i(14);e.exports=function e(t,i,r){"use strict";var n,o,s,a,l,d,c,h,u,f,p,g=1,m=!0;function v(e,t){if(null!==t&&!1!==t&&void 0!==t)return"string"!=typeof t&&"object"!=typeof t?String(t):t}function b(e){return e||0===e?String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;"):""}if(r=r||{},"string"==typeof t[0])t[0]=(l=t[0],d=l.match(/^[\w-]+/),c={tag:d?d[0]:"div",attr:{},children:[]},h=l.match(/#([\w-]+)/),u=l.match(/\$([\w-]+)/),f=l.match(/\.[\w-]+/g),h&&(c.attr.id=h[1],r[h[1]]=c),u&&(r[u[1]]=c),f&&(c.attr.class=f.join(" ").replace(/\./g,"")),l.match(/&$/g)&&(m=!1),c);else{if(!Array.isArray(t[0]))throw new Error("First element of array must be a string, or an array and not "+JSON.stringify(t[0]));g=0}for(;g<t.length;g++){if(!1===t[g]||null===t[g]){t[0]=!1;break}if(void 0!==t[g]&&!0!==t[g])if("string"==typeof t[g])m&&(t[g]=(p=t[g],String(p).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"))),t[0].children.push(t[g]);else if("number"==typeof t[g])t[0].children.push(t[g]);else if(Array.isArray(t[g])){if(Array.isArray(t[g][0])){if(t[g].reverse().forEach(function(e){t.splice(g+1,0,e)}),0!==g)continue;g++}e(t[g],i,r),t[g][0]&&t[0].children.push(t[g][0])}else if("function"==typeof t[g])s=t[g];else{if("object"!=typeof t[g])throw new TypeError('"'+t[g]+'" is not allowed as a value.');for(o in t[g])t[g].hasOwnProperty(o)&&null!==t[g][o]&&!1!==t[g][o]&&("style"===o&&"object"==typeof t[g][o]?t[0].attr[o]=JSON.stringify(t[g][o],v).slice(2,-2).replace(/","/g,";").replace(/":"/g,":").replace(/\\"/g,"'"):t[0].attr[o]=t[g][o])}}if(!1!==t[0]){for(a in n="<"+t[0].tag,t[0].attr)t[0].attr.hasOwnProperty(a)&&(n+=" "+a+'="'+b(t[0].attr[a])+'"');n+=">",t[0].children.forEach(function(e){n+=e}),n+="</"+t[0].tag+">",t[0]=n}return r[0]=t[0],s&&s(t[0]),r}},function(e,t){"use strict";var i=/["'&<>]/;e.exports=function(e){var t,r=""+e,n=i.exec(r);if(!n)return r;var o="",s=0,a=0;for(s=n.index;s<r.length;s++){switch(r.charCodeAt(s)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==s&&(o+=r.substring(a,s)),a=s+1,o+=t}return a!==s?o+r.substring(a,s):o}},function(e,t,i){var r,n,o=i(9),s=i(7);e.exports=(r=o.newEl("canvas"),n=null,function(e){null==n&&(n=r.getContext("2d"));var t=s.canvasRatio(),i=e.root;r.width=t*i.properties.width,r.height=t*i.properties.height,n.textBaseline="middle";var o=i.children.holderBg,a=t*o.width,l=t*o.height;n.fillStyle=o.properties.fill,n.fillRect(0,0,a,l),o.properties.outline&&(n.strokeStyle=o.properties.outline.fill,n.lineWidth=o.properties.outline.width,n.moveTo(1,1),n.lineTo(a-1,1),n.lineTo(a-1,l-1),n.lineTo(1,l-1),n.lineTo(1,1),n.moveTo(0,1),n.lineTo(a,l-1),n.moveTo(0,l-1),n.lineTo(a,1),n.stroke());var d=i.children.holderTextGroup;for(var c in n.font=d.properties.font.weight+" "+t*d.properties.font.size+d.properties.font.units+" "+d.properties.font.family+", monospace",n.fillStyle=d.properties.fill,d.children){var h=d.children[c];for(var u in h.children){var f=h.children[u],p=t*(d.x+h.x+f.x),g=t*(d.y+h.y+f.y+d.properties.leading/2);n.fillText(f.properties.text,p,g)}}return r.toDataURL("image/png")})}])},e.exports=r(),"undefined"!=typeof Meteor&&"undefined"!=typeof Package&&(Holder=this.Holder)},J5qV:function(e,t,i){var r,n,o,s;s=function(e){return e.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;i<0&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||e.ui.safeBlur(e.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var r=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),r=!0),r&&!i&&this._trigger("focus",t),r},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=e(e.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_keepFocus:function(t){function i(){var t=e.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),r=i.filter(":first"),n=i.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.trigger("focus")}),t.preventDefault()):(this._delay(function(){r.trigger("focus")}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:e("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(e.each(i,function(i,r){var n,o;r=e.isFunction(r)?{click:r,text:i}:r,r=e.extend({type:"button"},r),n=r.click,o={icon:r.icon,iconPosition:r.iconPosition,showLabel:r.showLabel,icons:r.icons,text:r.text},delete r.click,delete r.icon,delete r.iconPosition,delete r.showLabel,delete r.icons,"boolean"==typeof r.text&&delete r.text,e("<button></button>",r).button(o).appendTo(t.uiButtonSet).on("click",function(){n.apply(t.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var t=this,i=this.options;function r(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,n){t._addClass(e(this),"ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",i,r(n))},drag:function(e,i){t._trigger("drag",e,r(i))},stop:function(n,o){var s=o.offset.left-t.document.scrollLeft(),a=o.offset.top-t.document.scrollTop();i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:t.window},t._removeClass(e(this),"ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",n,r(o))}})},_makeResizable:function(){var t=this,i=this.options,r=i.resizable,n=this.uiDialog.css("position"),o="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";function s(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:o,start:function(i,r){t._addClass(e(this),"ui-dialog-resizing"),t._blockFrames(),t._trigger("resizeStart",i,s(r))},resize:function(e,i){t._trigger("resize",e,s(i))},stop:function(r,n){var o=t.uiDialog.offset(),a=o.left-t.document.scrollLeft(),l=o.top-t.document.scrollTop();i.height=t.uiDialog.height(),i.width=t.uiDialog.width(),i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:t.window},t._removeClass(e(this),"ui-dialog-resizing"),t._unblockFrames(),t._trigger("resizeStop",r,s(n))}}).css("position",n)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,r=!1,n={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(r=!0),e in i.resizableRelatedOptions&&(n[e]=t)}),r&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(t,i){var r,n,o=this.uiDialog;"disabled"!==t&&(this._super(t,i),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:e("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((r=o.is(":data(ui-draggable)"))&&!i&&o.draggable("destroy"),!r&&i&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((n=o.is(":data(ui-resizable)"))&&!i&&o.resizable("destroy"),n&&"string"==typeof i&&o.resizable("option","handles",i),n||!1===i||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,r=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),r.minWidth>r.width&&(r.width=r.minWidth),e=this.uiDialog.css({height:"auto",width:r.width}).outerHeight(),t=Math.max(0,r.minHeight-e),i="number"==typeof r.maxHeight?Math.max(0,r.maxHeight-e):"none","auto"===r.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,r.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==e.uiBackCompat&&e.widget("ui.dialog",e.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}}),e.ui.dialog},n=[i("7t+N"),i("o1P/"),i("F8S1"),i("9V2q"),i("mKWO"),i("taAx"),i("WLoA"),i("Up1f"),i("Nnp9"),i("ne1m"),i("mB2l"),i("DYUE"),i("UZ9c"),i("z1kw")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},JJ2Q:function(e,t,i){var r,n,o,s;s=function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var r=null,n=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,o.widgetName+"-item")===o)return r=e(this),!1}),e.data(t.target,o.widgetName+"-item")===o&&(r=e(t.target)),!!r&&(!(this.options.handle&&!i&&(e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(n=!0)}),!n))&&(this.currentItem=r,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,i,r){var n,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,r,n,o,s=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),t.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),!1!==a&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=(r=this.items[i]).item[0],(o=this._intersectsWithPointer(r))&&r.instance===this.currentContainer&&!(n===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===n||e.contains(this.placeholder[0],n)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],n))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,n=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&r.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},i.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,r=this.positionAbs.top,n=r+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,l=a+e.height,d=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||r+d>a&&r+d<l,u="y"===this.options.axis||t+c>o&&t+c<s,f=h&&u;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:o<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&a<r+this.helperProportions.height/2&&n-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,i,r="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!r||!n)&&(t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,r,n,o,s=[],a=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(r=(n=e(l[i],this.document[0])).length-1;r>=0;r--)(o=e.data(n[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function d(){s.push(this)}for(a.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(d);return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,r,n,o,s,a,l,d,c=this.items,h=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],u=this._connectWith();if(u&&this.ready)for(i=u.length-1;i>=0;i--)for(r=(n=e(u[i],this.document[0])).length-1;r>=0;r--)(o=e.data(n[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(i=h.length-1;i>=0;i--)for(s=h[i][1],r=0,d=(a=h[i][0]).length;r<d;r++)(l=e(a[r])).data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var i,r,n,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(r=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=n.outerWidth(),r.height=n.outerHeight()),o=n.offset(),r.left=o.left,r.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i,r=(t=t||this).options;r.placeholder&&r.placeholder.constructor!==String||(i=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),n=e("<"+r+">",t.document[0]);return t._addClass(n,"ui-sortable-placeholder",i||t.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===r?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(n)):"tr"===r?t._createTrPlaceholder(t.currentItem,n):"img"===r&&n.attr("src",t.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(e,n){i&&!r.forcePlaceholderSize||(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var r=this;t.children().each(function(){e("<td>&#160;</td>",r.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,r,n,o,s,a,l,d,c,h,u=null,f=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(u&&e.contains(this.containers[i].element[0],u.element[0]))continue;u=this.containers[i],f=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(u)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(n=1e4,o=null,s=(c=u.floating||this._isFloating(this.currentItem))?"left":"top",a=c?"width":"height",h=c?"pageX":"pageY",r=this.items.length-1;r>=0;r--)e.contains(this.containers[f].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(l=this.items[r].item.offset()[s],d=!1,t[h]-l>this.items[r][a]/2&&(d=!0),Math.abs(t[h]-l)<n&&(n=Math.abs(t[h]-l),o=this.items[r],this.direction=d?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[f].element,!0),this._trigger("change",t,this._uiHash()),this.containers[f]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var i=this.options,r=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),r[0].style.width&&!i.forceHelperSize||r.width(this.currentItem.width()),r[0].style.height&&!i.forceHelperSize||r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,r,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],i=e(n.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var r="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*r}},_generatePosition:function(t){var i,r,n=this.options,o=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((s-this.originalPageY)/n.grid[1])*n.grid[1],s=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,r=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-n.grid[0]:r+n.grid[0]:r)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function n(e,t,i){return function(r){i._trigger(e,r,t._uiHash(t))}}for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<r.length;i++)r[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})},n=[i("7t+N"),i("9V2q"),i("3eNs"),i("zkIY"),i("Rl6D"),i("UZ9c"),i("z1kw")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},K3J8:function(e,t,i){(function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},r=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),r.forEach(function(t){o(e,t,i[t])})}return e}t=t&&t.hasOwnProperty("default")?t.default:t,i=i&&i.hasOwnProperty("default")?i.default:i;var a=function(e){var t="transitionend";function i(t){var i=this,n=!1;return e(this).one(r.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||r.triggerTransitionEnd(i)},t),this}var r={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");t&&"#"!==t||(t=e.getAttribute("href")||"");try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var i=e(t).css("transition-duration");return parseFloat(i)?(i=i.split(",")[0],1e3*parseFloat(i)):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(i){e(i).trigger(t)},supportsTransitionEnd:function(){return Boolean(t)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var o=i[n],s=t[n],a=s&&r.isElement(s)?"element":(l=s,{}.toString.call(l).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(o).test(a))throw new Error(e.toUpperCase()+': Option "'+n+'" provided type "'+a+'" but expected type "'+o+'".')}var l}};return e.fn.emulateTransitionEnd=i,e.event.special[r.TRANSITION_END]={bindType:t,delegateType:t,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}},r}(t),l=function(e){var t=e.fn.alert,i={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},r="alert",o="fade",s="show",l=function(){function t(e){this._element=e}var l=t.prototype;return l.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},l.dispose=function(){e.removeData(this._element,"bs.alert"),this._element=null},l._getRootElement=function(t){var i=a.getSelectorFromElement(t),n=!1;return i&&(n=document.querySelector(i)),n||(n=e(t).closest("."+r)[0]),n},l._triggerCloseEvent=function(t){var r=e.Event(i.CLOSE);return e(t).trigger(r),r},l._removeElement=function(t){var i=this;if(e(t).removeClass(s),e(t).hasClass(o)){var r=a.getTransitionDurationFromElement(t);e(t).one(a.TRANSITION_END,function(e){return i._destroyElement(t,e)}).emulateTransitionEnd(r)}else this._destroyElement(t)},l._destroyElement=function(t){e(t).detach().trigger(i.CLOSED).remove()},t._jQueryInterface=function(i){return this.each(function(){var r=e(this),n=r.data("bs.alert");n||(n=new t(this),r.data("bs.alert",n)),"close"===i&&n[i](this)})},t._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},n(t,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),t}();return e(document).on(i.CLICK_DATA_API,'[data-dismiss="alert"]',l._handleDismiss(new l)),e.fn.alert=l._jQueryInterface,e.fn.alert.Constructor=l,e.fn.alert.noConflict=function(){return e.fn.alert=t,l._jQueryInterface},l}(t),d=function(e){var t="button",i=e.fn[t],r="active",o="btn",s="focus",a='[data-toggle^="button"]',l='[data-toggle="buttons"]',d="input",c=".active",h=".btn",u={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},f=function(){function t(e){this._element=e}var i=t.prototype;return i.toggle=function(){var t=!0,i=!0,n=e(this._element).closest(l)[0];if(n){var o=this._element.querySelector(d);if(o){if("radio"===o.type)if(o.checked&&this._element.classList.contains(r))t=!1;else{var s=n.querySelector(c);s&&e(s).removeClass(r)}if(t){if(o.hasAttribute("disabled")||n.hasAttribute("disabled")||o.classList.contains("disabled")||n.classList.contains("disabled"))return;o.checked=!this._element.classList.contains(r),e(o).trigger("change")}o.focus(),i=!1}}i&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(r)),t&&e(this._element).toggleClass(r)},i.dispose=function(){e.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(i){return this.each(function(){var r=e(this).data("bs.button");r||(r=new t(this),e(this).data("bs.button",r)),"toggle"===i&&r[i]()})},n(t,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),t}();return e(document).on(u.CLICK_DATA_API,a,function(t){t.preventDefault();var i=t.target;e(i).hasClass(o)||(i=e(i).closest(h)),f._jQueryInterface.call(e(i),"toggle")}).on(u.FOCUS_BLUR_DATA_API,a,function(t){var i=e(t.target).closest(h)[0];e(i).toggleClass(s,/^focus(in)?$/.test(t.type))}),e.fn[t]=f._jQueryInterface,e.fn[t].Constructor=f,e.fn[t].noConflict=function(){return e.fn[t]=i,f._jQueryInterface},f}(t),c=function(e){var t="carousel",i="bs.carousel",r="."+i,o=e.fn[t],l={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},d={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},c="next",h="prev",u="left",f="right",p={SLIDE:"slide"+r,SLID:"slid"+r,KEYDOWN:"keydown"+r,MOUSEENTER:"mouseenter"+r,MOUSELEAVE:"mouseleave"+r,TOUCHEND:"touchend"+r,LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},g="carousel",m="active",v="slide",b="carousel-item-right",y="carousel-item-left",w="carousel-item-next",x="carousel-item-prev",C={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},S=function(){function o(t,i){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(i),this._element=e(t)[0],this._indicatorsElement=this._element.querySelector(C.INDICATORS),this._addEventListeners()}var S=o.prototype;return S.next=function(){this._isSliding||this._slide(c)},S.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},S.prev=function(){this._isSliding||this._slide(h)},S.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(C.NEXT_PREV)&&(a.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},S.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},S.to=function(t){var i=this;this._activeElement=this._element.querySelector(C.ACTIVE_ITEM);var r=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one(p.SLID,function(){return i.to(t)});else{if(r===t)return this.pause(),void this.cycle();var n=t>r?c:h;this._slide(n,this._items[t])}},S.dispose=function(){e(this._element).off(r),e.removeData(this._element,i),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},S._getConfig=function(e){return e=s({},l,e),a.typeCheckConfig(t,e,d),e},S._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on(p.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&(e(this._element).on(p.MOUSEENTER,function(e){return t.pause(e)}).on(p.MOUSELEAVE,function(e){return t.cycle(e)}),"ontouchstart"in document.documentElement&&e(this._element).on(p.TOUCHEND,function(){t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval)}))},S._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},S._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(C.ITEM)):[],this._items.indexOf(e)},S._getItemByDirection=function(e,t){var i=e===c,r=e===h,n=this._getItemIndex(t),o=this._items.length-1;if((r&&0===n||i&&n===o)&&!this._config.wrap)return t;var s=(n+(e===h?-1:1))%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},S._triggerSlideEvent=function(t,i){var r=this._getItemIndex(t),n=this._getItemIndex(this._element.querySelector(C.ACTIVE_ITEM)),o=e.Event(p.SLIDE,{relatedTarget:t,direction:i,from:n,to:r});return e(this._element).trigger(o),o},S._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var i=[].slice.call(this._indicatorsElement.querySelectorAll(C.ACTIVE));e(i).removeClass(m);var r=this._indicatorsElement.children[this._getItemIndex(t)];r&&e(r).addClass(m)}},S._slide=function(t,i){var r,n,o,s=this,l=this._element.querySelector(C.ACTIVE_ITEM),d=this._getItemIndex(l),h=i||l&&this._getItemByDirection(t,l),g=this._getItemIndex(h),S=Boolean(this._interval);if(t===c?(r=y,n=w,o=u):(r=b,n=x,o=f),h&&e(h).hasClass(m))this._isSliding=!1;else if(!this._triggerSlideEvent(h,o).isDefaultPrevented()&&l&&h){this._isSliding=!0,S&&this.pause(),this._setActiveIndicatorElement(h);var k=e.Event(p.SLID,{relatedTarget:h,direction:o,from:d,to:g});if(e(this._element).hasClass(v)){e(h).addClass(n),a.reflow(h),e(l).addClass(r),e(h).addClass(r);var D=a.getTransitionDurationFromElement(l);e(l).one(a.TRANSITION_END,function(){e(h).removeClass(r+" "+n).addClass(m),e(l).removeClass(m+" "+n+" "+r),s._isSliding=!1,setTimeout(function(){return e(s._element).trigger(k)},0)}).emulateTransitionEnd(D)}else e(l).removeClass(m),e(h).addClass(m),this._isSliding=!1,e(this._element).trigger(k);S&&this.cycle()}},o._jQueryInterface=function(t){return this.each(function(){var r=e(this).data(i),n=s({},l,e(this).data());"object"==typeof t&&(n=s({},n,t));var a="string"==typeof t?t:n.slide;if(r||(r=new o(this,n),e(this).data(i,r)),"number"==typeof t)r.to(t);else if("string"==typeof a){if(void 0===r[a])throw new TypeError('No method named "'+a+'"');r[a]()}else n.interval&&(r.pause(),r.cycle())})},o._dataApiClickHandler=function(t){var r=a.getSelectorFromElement(this);if(r){var n=e(r)[0];if(n&&e(n).hasClass(g)){var l=s({},e(n).data(),e(this).data()),d=this.getAttribute("data-slide-to");d&&(l.interval=!1),o._jQueryInterface.call(e(n),l),d&&e(n).data(i).to(d),t.preventDefault()}}},n(o,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return l}}]),o}();return e(document).on(p.CLICK_DATA_API,C.DATA_SLIDE,S._dataApiClickHandler),e(window).on(p.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(C.DATA_RIDE)),i=0,r=t.length;i<r;i++){var n=e(t[i]);S._jQueryInterface.call(n,n.data())}}),e.fn[t]=S._jQueryInterface,e.fn[t].Constructor=S,e.fn[t].noConflict=function(){return e.fn[t]=o,S._jQueryInterface},S}(t),h=function(e){var t="collapse",i="bs.collapse",r=e.fn[t],o={toggle:!0,parent:""},l={toggle:"boolean",parent:"(string|element)"},d={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},c="show",h="collapse",u="collapsing",f="collapsed",p="width",g="height",m={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},v=function(){function r(t,i){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(i),this._triggerArray=e.makeArray(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var r=[].slice.call(document.querySelectorAll(m.DATA_TOGGLE)),n=0,o=r.length;n<o;n++){var s=r[n],l=a.getSelectorFromElement(s),d=[].slice.call(document.querySelectorAll(l)).filter(function(e){return e===t});null!==l&&d.length>0&&(this._selector=l,this._triggerArray.push(s))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var v=r.prototype;return v.toggle=function(){e(this._element).hasClass(c)?this.hide():this.show()},v.show=function(){var t,n,o=this;if(!this._isTransitioning&&!e(this._element).hasClass(c)&&(this._parent&&0===(t=[].slice.call(this._parent.querySelectorAll(m.ACTIVES)).filter(function(e){return e.getAttribute("data-parent")===o._config.parent})).length&&(t=null),!(t&&(n=e(t).not(this._selector).data(i))&&n._isTransitioning))){var s=e.Event(d.SHOW);if(e(this._element).trigger(s),!s.isDefaultPrevented()){t&&(r._jQueryInterface.call(e(t).not(this._selector),"hide"),n||e(t).data(i,null));var l=this._getDimension();e(this._element).removeClass(h).addClass(u),this._element.style[l]=0,this._triggerArray.length&&e(this._triggerArray).removeClass(f).attr("aria-expanded",!0),this.setTransitioning(!0);var p="scroll"+(l[0].toUpperCase()+l.slice(1)),g=a.getTransitionDurationFromElement(this._element);e(this._element).one(a.TRANSITION_END,function(){e(o._element).removeClass(u).addClass(h).addClass(c),o._element.style[l]="",o.setTransitioning(!1),e(o._element).trigger(d.SHOWN)}).emulateTransitionEnd(g),this._element.style[l]=this._element[p]+"px"}}},v.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass(c)){var i=e.Event(d.HIDE);if(e(this._element).trigger(i),!i.isDefaultPrevented()){var r=this._getDimension();this._element.style[r]=this._element.getBoundingClientRect()[r]+"px",a.reflow(this._element),e(this._element).addClass(u).removeClass(h).removeClass(c);var n=this._triggerArray.length;if(n>0)for(var o=0;o<n;o++){var s=this._triggerArray[o],l=a.getSelectorFromElement(s);if(null!==l)e([].slice.call(document.querySelectorAll(l))).hasClass(c)||e(s).addClass(f).attr("aria-expanded",!1)}this.setTransitioning(!0);this._element.style[r]="";var p=a.getTransitionDurationFromElement(this._element);e(this._element).one(a.TRANSITION_END,function(){t.setTransitioning(!1),e(t._element).removeClass(u).addClass(h).trigger(d.HIDDEN)}).emulateTransitionEnd(p)}}},v.setTransitioning=function(e){this._isTransitioning=e},v.dispose=function(){e.removeData(this._element,i),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},v._getConfig=function(e){return(e=s({},o,e)).toggle=Boolean(e.toggle),a.typeCheckConfig(t,e,l),e},v._getDimension=function(){return e(this._element).hasClass(p)?p:g},v._getParent=function(){var t=this,i=null;a.isElement(this._config.parent)?(i=this._config.parent,void 0!==this._config.parent.jquery&&(i=this._config.parent[0])):i=document.querySelector(this._config.parent);var n='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',o=[].slice.call(i.querySelectorAll(n));return e(o).each(function(e,i){t._addAriaAndCollapsedClass(r._getTargetFromElement(i),[i])}),i},v._addAriaAndCollapsedClass=function(t,i){if(t){var r=e(t).hasClass(c);i.length&&e(i).toggleClass(f,!r).attr("aria-expanded",r)}},r._getTargetFromElement=function(e){var t=a.getSelectorFromElement(e);return t?document.querySelector(t):null},r._jQueryInterface=function(t){return this.each(function(){var n=e(this),a=n.data(i),l=s({},o,n.data(),"object"==typeof t&&t?t:{});if(!a&&l.toggle&&/show|hide/.test(t)&&(l.toggle=!1),a||(a=new r(this,l),n.data(i,a)),"string"==typeof t){if(void 0===a[t])throw new TypeError('No method named "'+t+'"');a[t]()}})},n(r,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return o}}]),r}();return e(document).on(d.CLICK_DATA_API,m.DATA_TOGGLE,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var r=e(this),n=a.getSelectorFromElement(this),o=[].slice.call(document.querySelectorAll(n));e(o).each(function(){var t=e(this),n=t.data(i)?"toggle":r.data();v._jQueryInterface.call(t,n)})}),e.fn[t]=v._jQueryInterface,e.fn[t].Constructor=v,e.fn[t].noConflict=function(){return e.fn[t]=r,v._jQueryInterface},v}(t),u=function(e){var t="dropdown",r="bs.dropdown",o="."+r,l=e.fn[t],d=new RegExp("38|40|27"),c={HIDE:"hide"+o,HIDDEN:"hidden"+o,SHOW:"show"+o,SHOWN:"shown"+o,CLICK:"click"+o,CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},h="disabled",u="show",f="dropup",p="dropright",g="dropleft",m="dropdown-menu-right",v="position-static",b='[data-toggle="dropdown"]',y=".dropdown form",w=".dropdown-menu",x=".navbar-nav",C=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",S="top-start",k="top-end",D="bottom-start",T="bottom-end",A="right-start",N="left-start",_={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},M={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},E=function(){function l(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var y=l.prototype;return y.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass(h)){var t=l._getParentFromElement(this._element),r=e(this._menu).hasClass(u);if(l._clearMenus(),!r){var n={relatedTarget:this._element},o=e.Event(c.SHOW,n);if(e(t).trigger(o),!o.isDefaultPrevented()){if(!this._inNavbar){if(void 0===i)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var s=this._element;"parent"===this._config.reference?s=t:a.isElement(this._config.reference)&&(s=this._config.reference,void 0!==this._config.reference.jquery&&(s=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(t).addClass(v),this._popper=new i(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(t).closest(x).length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass(u),e(t).toggleClass(u).trigger(e.Event(c.SHOWN,n))}}}},y.dispose=function(){e.removeData(this._element,r),e(this._element).off(o),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},y.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},y._addEventListeners=function(){var t=this;e(this._element).on(c.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},y._getConfig=function(i){return i=s({},this.constructor.Default,e(this._element).data(),i),a.typeCheckConfig(t,i,this.constructor.DefaultType),i},y._getMenuElement=function(){if(!this._menu){var e=l._getParentFromElement(this._element);e&&(this._menu=e.querySelector(w))}return this._menu},y._getPlacement=function(){var t=e(this._element.parentNode),i=D;return t.hasClass(f)?(i=S,e(this._menu).hasClass(m)&&(i=k)):t.hasClass(p)?i=A:t.hasClass(g)?i=N:e(this._menu).hasClass(m)&&(i=T),i},y._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},y._getPopperConfig=function(){var e=this,t={};"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=s({},t.offsets,e._config.offset(t.offsets)||{}),t}:t.offset=this._config.offset;var i={placement:this._getPlacement(),modifiers:{offset:t,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(i.modifiers.applyStyle={enabled:!1}),i},l._jQueryInterface=function(t){return this.each(function(){var i=e(this).data(r);if(i||(i=new l(this,"object"==typeof t?t:null),e(this).data(r,i)),"string"==typeof t){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},l._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var i=[].slice.call(document.querySelectorAll(b)),n=0,o=i.length;n<o;n++){var s=l._getParentFromElement(i[n]),a=e(i[n]).data(r),d={relatedTarget:i[n]};if(t&&"click"===t.type&&(d.clickEvent=t),a){var h=a._menu;if(e(s).hasClass(u)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&e.contains(s,t.target))){var f=e.Event(c.HIDE,d);e(s).trigger(f),f.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),i[n].setAttribute("aria-expanded","false"),e(h).removeClass(u),e(s).removeClass(u).trigger(e.Event(c.HIDDEN,d)))}}}},l._getParentFromElement=function(e){var t,i=a.getSelectorFromElement(e);return i&&(t=document.querySelector(i)),t||e.parentNode},l._dataApiKeydownHandler=function(t){if((/input|textarea/i.test(t.target.tagName)?!(32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||e(t.target).closest(w).length)):d.test(t.which))&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!e(this).hasClass(h))){var i=l._getParentFromElement(this),r=e(i).hasClass(u);if((r||27===t.which&&32===t.which)&&(!r||27!==t.which&&32!==t.which)){var n=[].slice.call(i.querySelectorAll(C));if(0!==n.length){var o=n.indexOf(t.target);38===t.which&&o>0&&o--,40===t.which&&o<n.length-1&&o++,o<0&&(o=0),n[o].focus()}}else{if(27===t.which){var s=i.querySelector(b);e(s).trigger("focus")}e(this).trigger("click")}}},n(l,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return _}},{key:"DefaultType",get:function(){return M}}]),l}();return e(document).on(c.KEYDOWN_DATA_API,b,E._dataApiKeydownHandler).on(c.KEYDOWN_DATA_API,w,E._dataApiKeydownHandler).on(c.CLICK_DATA_API+" "+c.KEYUP_DATA_API,E._clearMenus).on(c.CLICK_DATA_API,b,function(t){t.preventDefault(),t.stopPropagation(),E._jQueryInterface.call(e(this),"toggle")}).on(c.CLICK_DATA_API,y,function(e){e.stopPropagation()}),e.fn[t]=E._jQueryInterface,e.fn[t].Constructor=E,e.fn[t].noConflict=function(){return e.fn[t]=l,E._jQueryInterface},E}(t),f=function(e){var t="modal",i=".bs.modal",r=e.fn.modal,o={backdrop:!0,keyboard:!0,focus:!0,show:!0},l={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},d={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},c="modal-scrollbar-measure",h="modal-backdrop",u="modal-open",f="fade",p="show",g={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},m=function(){function r(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(g.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._scrollbarWidth=0}var m=r.prototype;return m.toggle=function(e){return this._isShown?this.hide():this.show(e)},m.show=function(t){var i=this;if(!this._isTransitioning&&!this._isShown){e(this._element).hasClass(f)&&(this._isTransitioning=!0);var r=e.Event(d.SHOW,{relatedTarget:t});e(this._element).trigger(r),this._isShown||r.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),e(document.body).addClass(u),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(d.CLICK_DISMISS,g.DATA_DISMISS,function(e){return i.hide(e)}),e(this._dialog).on(d.MOUSEDOWN_DISMISS,function(){e(i._element).one(d.MOUSEUP_DISMISS,function(t){e(t.target).is(i._element)&&(i._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return i._showElement(t)}))}},m.hide=function(t){var i=this;if(t&&t.preventDefault(),!this._isTransitioning&&this._isShown){var r=e.Event(d.HIDE);if(e(this._element).trigger(r),this._isShown&&!r.isDefaultPrevented()){this._isShown=!1;var n=e(this._element).hasClass(f);if(n&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off(d.FOCUSIN),e(this._element).removeClass(p),e(this._element).off(d.CLICK_DISMISS),e(this._dialog).off(d.MOUSEDOWN_DISMISS),n){var o=a.getTransitionDurationFromElement(this._element);e(this._element).one(a.TRANSITION_END,function(e){return i._hideModal(e)}).emulateTransitionEnd(o)}else this._hideModal()}}},m.dispose=function(){e.removeData(this._element,"bs.modal"),e(window,document,this._element,this._backdrop).off(i),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},m.handleUpdate=function(){this._adjustDialog()},m._getConfig=function(e){return e=s({},o,e),a.typeCheckConfig(t,e,l),e},m._showElement=function(t){var i=this,r=e(this._element).hasClass(f);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,r&&a.reflow(this._element),e(this._element).addClass(p),this._config.focus&&this._enforceFocus();var n=e.Event(d.SHOWN,{relatedTarget:t}),o=function(){i._config.focus&&i._element.focus(),i._isTransitioning=!1,e(i._element).trigger(n)};if(r){var s=a.getTransitionDurationFromElement(this._element);e(this._dialog).one(a.TRANSITION_END,o).emulateTransitionEnd(s)}else o()},m._enforceFocus=function(){var t=this;e(document).off(d.FOCUSIN).on(d.FOCUSIN,function(i){document!==i.target&&t._element!==i.target&&0===e(t._element).has(i.target).length&&t._element.focus()})},m._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(d.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||e(this._element).off(d.KEYDOWN_DISMISS)},m._setResizeEvent=function(){var t=this;this._isShown?e(window).on(d.RESIZE,function(e){return t.handleUpdate(e)}):e(window).off(d.RESIZE)},m._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){e(document.body).removeClass(u),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(d.HIDDEN)})},m._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},m._showBackdrop=function(t){var i=this,r=e(this._element).hasClass(f)?f:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=h,r&&this._backdrop.classList.add(r),e(this._backdrop).appendTo(document.body),e(this._element).on(d.CLICK_DISMISS,function(e){i._ignoreBackdropClick?i._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===i._config.backdrop?i._element.focus():i.hide())}),r&&a.reflow(this._backdrop),e(this._backdrop).addClass(p),!t)return;if(!r)return void t();var n=a.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(a.TRANSITION_END,t).emulateTransitionEnd(n)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(p);var o=function(){i._removeBackdrop(),t&&t()};if(e(this._element).hasClass(f)){var s=a.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(a.TRANSITION_END,o).emulateTransitionEnd(s)}else o()}else t&&t()},m._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},m._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},m._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},m._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var i=[].slice.call(document.querySelectorAll(g.FIXED_CONTENT)),r=[].slice.call(document.querySelectorAll(g.STICKY_CONTENT));e(i).each(function(i,r){var n=r.style.paddingRight,o=e(r).css("padding-right");e(r).data("padding-right",n).css("padding-right",parseFloat(o)+t._scrollbarWidth+"px")}),e(r).each(function(i,r){var n=r.style.marginRight,o=e(r).css("margin-right");e(r).data("margin-right",n).css("margin-right",parseFloat(o)-t._scrollbarWidth+"px")});var n=document.body.style.paddingRight,o=e(document.body).css("padding-right");e(document.body).data("padding-right",n).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}},m._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(g.FIXED_CONTENT));e(t).each(function(t,i){var r=e(i).data("padding-right");e(i).removeData("padding-right"),i.style.paddingRight=r||""});var i=[].slice.call(document.querySelectorAll(""+g.STICKY_CONTENT));e(i).each(function(t,i){var r=e(i).data("margin-right");void 0!==r&&e(i).css("margin-right",r).removeData("margin-right")});var r=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=r||""},m._getScrollbarWidth=function(){var e=document.createElement("div");e.className=c,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},r._jQueryInterface=function(t,i){return this.each(function(){var n=e(this).data("bs.modal"),a=s({},o,e(this).data(),"object"==typeof t&&t?t:{});if(n||(n=new r(this,a),e(this).data("bs.modal",n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t](i)}else a.show&&n.show(i)})},n(r,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return o}}]),r}();return e(document).on(d.CLICK_DATA_API,g.DATA_TOGGLE,function(t){var i,r=this,n=a.getSelectorFromElement(this);n&&(i=document.querySelector(n));var o=e(i).data("bs.modal")?"toggle":s({},e(i).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var l=e(i).one(d.SHOW,function(t){t.isDefaultPrevented()||l.one(d.HIDDEN,function(){e(r).is(":visible")&&r.focus()})});m._jQueryInterface.call(e(i),o,this)}),e.fn.modal=m._jQueryInterface,e.fn.modal.Constructor=m,e.fn.modal.noConflict=function(){return e.fn.modal=r,m._jQueryInterface},m}(t),p=function(e){var t="tooltip",r=".bs.tooltip",o=e.fn[t],l=new RegExp("(^|\\s)bs-tooltip\\S+","g"),d={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},c={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},h={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},u="show",f="out",p={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,INSERTED:"inserted"+r,CLICK:"click"+r,FOCUSIN:"focusin"+r,FOCUSOUT:"focusout"+r,MOUSEENTER:"mouseenter"+r,MOUSELEAVE:"mouseleave"+r},g="fade",m="show",v=".tooltip-inner",b=".arrow",y="hover",w="focus",x="click",C="manual",S=function(){function o(e,t){if(void 0===i)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var S=o.prototype;return S.enable=function(){this._isEnabled=!0},S.disable=function(){this._isEnabled=!1},S.toggleEnabled=function(){this._isEnabled=!this._isEnabled},S.toggle=function(t){if(this._isEnabled)if(t){var i=this.constructor.DATA_KEY,r=e(t.currentTarget).data(i);r||(r=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,r)),r._activeTrigger.click=!r._activeTrigger.click,r._isWithActiveTrigger()?r._enter(null,r):r._leave(null,r)}else{if(e(this.getTipElement()).hasClass(m))return void this._leave(null,this);this._enter(null,this)}},S.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},S.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var r=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(r);var n=e.contains(this.element.ownerDocument.documentElement,this.element);if(r.isDefaultPrevented()||!n)return;var o=this.getTipElement(),s=a.getUID(this.constructor.NAME);o.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&e(o).addClass(g);var l="function"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,d=this._getAttachment(l);this.addAttachmentClass(d);var c=!1===this.config.container?document.body:e(document).find(this.config.container);e(o).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(o).appendTo(c),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new i(this.element,o,{placement:d,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:b},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){t._handlePopperPlacementChange(e)}}),e(o).addClass(m),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var h=function(){t.config.animation&&t._fixTransition();var i=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),i===f&&t._leave(null,t)};if(e(this.tip).hasClass(g)){var u=a.getTransitionDurationFromElement(this.tip);e(this.tip).one(a.TRANSITION_END,h).emulateTransitionEnd(u)}else h()}},S.hide=function(t){var i=this,r=this.getTipElement(),n=e.Event(this.constructor.Event.HIDE),o=function(){i._hoverState!==u&&r.parentNode&&r.parentNode.removeChild(r),i._cleanTipClass(),i.element.removeAttribute("aria-describedby"),e(i.element).trigger(i.constructor.Event.HIDDEN),null!==i._popper&&i._popper.destroy(),t&&t()};if(e(this.element).trigger(n),!n.isDefaultPrevented()){if(e(r).removeClass(m),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger[x]=!1,this._activeTrigger[w]=!1,this._activeTrigger[y]=!1,e(this.tip).hasClass(g)){var s=a.getTransitionDurationFromElement(r);e(r).one(a.TRANSITION_END,o).emulateTransitionEnd(s)}else o();this._hoverState=""}},S.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},S.isWithContent=function(){return Boolean(this.getTitle())},S.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},S.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},S.setContent=function(){var t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(v)),this.getTitle()),e(t).removeClass(g+" "+m)},S.setElementContent=function(t,i){var r=this.config.html;"object"==typeof i&&(i.nodeType||i.jquery)?r?e(i).parent().is(t)||t.empty().append(i):t.text(e(i).text()):t[r?"html":"text"](i)},S.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},S._getAttachment=function(e){return c[e.toUpperCase()]},S._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach(function(i){if("click"===i)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,function(e){return t.toggle(e)});else if(i!==C){var r=i===y?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,n=i===y?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(r,t.config.selector,function(e){return t._enter(e)}).on(n,t.config.selector,function(e){return t._leave(e)})}e(t.element).closest(".modal").on("hide.bs.modal",function(){return t.hide()})}),this.config.selector?this.config=s({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},S._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},S._enter=function(t,i){var r=this.constructor.DATA_KEY;(i=i||e(t.currentTarget).data(r))||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(r,i)),t&&(i._activeTrigger["focusin"===t.type?w:y]=!0),e(i.getTipElement()).hasClass(m)||i._hoverState===u?i._hoverState=u:(clearTimeout(i._timeout),i._hoverState=u,i.config.delay&&i.config.delay.show?i._timeout=setTimeout(function(){i._hoverState===u&&i.show()},i.config.delay.show):i.show())},S._leave=function(t,i){var r=this.constructor.DATA_KEY;(i=i||e(t.currentTarget).data(r))||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(r,i)),t&&(i._activeTrigger["focusout"===t.type?w:y]=!1),i._isWithActiveTrigger()||(clearTimeout(i._timeout),i._hoverState=f,i.config.delay&&i.config.delay.hide?i._timeout=setTimeout(function(){i._hoverState===f&&i.hide()},i.config.delay.hide):i.hide())},S._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},S._getConfig=function(i){return"number"==typeof(i=s({},this.constructor.Default,e(this.element).data(),"object"==typeof i&&i?i:{})).delay&&(i.delay={show:i.delay,hide:i.delay}),"number"==typeof i.title&&(i.title=i.title.toString()),"number"==typeof i.content&&(i.content=i.content.toString()),a.typeCheckConfig(t,i,this.constructor.DefaultType),i},S._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},S._cleanTipClass=function(){var t=e(this.getTipElement()),i=t.attr("class").match(l);null!==i&&i.length&&t.removeClass(i.join(""))},S._handlePopperPlacementChange=function(e){var t=e.instance;this.tip=t.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},S._fixTransition=function(){var t=this.getTipElement(),i=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass(g),this.config.animation=!1,this.hide(),this.show(),this.config.animation=i)},o._jQueryInterface=function(t){return this.each(function(){var i=e(this).data("bs.tooltip"),r="object"==typeof t&&t;if((i||!/dispose|hide/.test(t))&&(i||(i=new o(this,r),e(this).data("bs.tooltip",i)),"string"==typeof t)){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},n(o,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return h}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return p}},{key:"EVENT_KEY",get:function(){return r}},{key:"DefaultType",get:function(){return d}}]),o}();return e.fn[t]=S._jQueryInterface,e.fn[t].Constructor=S,e.fn[t].noConflict=function(){return e.fn[t]=o,S._jQueryInterface},S}(t),g=function(e){var t="popover",i=".bs.popover",r=e.fn[t],o=new RegExp("(^|\\s)bs-popover\\S+","g"),a=s({},p.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),l=s({},p.DefaultType,{content:"(string|element|function)"}),d="fade",c="show",h=".popover-header",u=".popover-body",f={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,INSERTED:"inserted"+i,CLICK:"click"+i,FOCUSIN:"focusin"+i,FOCUSOUT:"focusout"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i},g=function(r){var s,p;function g(){return r.apply(this,arguments)||this}p=r,(s=g).prototype=Object.create(p.prototype),s.prototype.constructor=s,s.__proto__=p;var m=g.prototype;return m.isWithContent=function(){return this.getTitle()||this._getContent()},m.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},m.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},m.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(h),this.getTitle());var i=this._getContent();"function"==typeof i&&(i=i.call(this.element)),this.setElementContent(t.find(u),i),t.removeClass(d+" "+c)},m._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},m._cleanTipClass=function(){var t=e(this.getTipElement()),i=t.attr("class").match(o);null!==i&&i.length>0&&t.removeClass(i.join(""))},g._jQueryInterface=function(t){return this.each(function(){var i=e(this).data("bs.popover"),r="object"==typeof t?t:null;if((i||!/destroy|hide/.test(t))&&(i||(i=new g(this,r),e(this).data("bs.popover",i)),"string"==typeof t)){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},n(g,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return a}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return f}},{key:"EVENT_KEY",get:function(){return i}},{key:"DefaultType",get:function(){return l}}]),g}(p);return e.fn[t]=g._jQueryInterface,e.fn[t].Constructor=g,e.fn[t].noConflict=function(){return e.fn[t]=r,g._jQueryInterface},g}(t),m=function(e){var t="scrollspy",i=e.fn[t],r={offset:10,method:"auto",target:""},o={offset:"number",method:"string",target:"(string|element)"},l={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},d="dropdown-item",c="active",h={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},u="offset",f="position",p=function(){function i(t,i){var r=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(i),this._selector=this._config.target+" "+h.NAV_LINKS+","+this._config.target+" "+h.LIST_ITEMS+","+this._config.target+" "+h.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(l.SCROLL,function(e){return r._process(e)}),this.refresh(),this._process()}var p=i.prototype;return p.refresh=function(){var t=this,i=this._scrollElement===this._scrollElement.window?u:f,r="auto"===this._config.method?i:this._config.method,n=r===f?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(t){var i,o=a.getSelectorFromElement(t);if(o&&(i=document.querySelector(o)),i){var s=i.getBoundingClientRect();if(s.width||s.height)return[e(i)[r]().top+n,o]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},p.dispose=function(){e.removeData(this._element,"bs.scrollspy"),e(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},p._getConfig=function(i){if("string"!=typeof(i=s({},r,"object"==typeof i&&i?i:{})).target){var n=e(i.target).attr("id");n||(n=a.getUID(t),e(i.target).attr("id",n)),i.target="#"+n}return a.typeCheckConfig(t,i,o),i},p._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},p._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},p._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},p._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),i=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=i){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var n=this._offsets.length;n--;){this._activeTarget!==this._targets[n]&&e>=this._offsets[n]&&(void 0===this._offsets[n+1]||e<this._offsets[n+1])&&this._activate(this._targets[n])}}},p._activate=function(t){this._activeTarget=t,this._clear();var i=this._selector.split(",");i=i.map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'});var r=e([].slice.call(document.querySelectorAll(i.join(","))));r.hasClass(d)?(r.closest(h.DROPDOWN).find(h.DROPDOWN_TOGGLE).addClass(c),r.addClass(c)):(r.addClass(c),r.parents(h.NAV_LIST_GROUP).prev(h.NAV_LINKS+", "+h.LIST_ITEMS).addClass(c),r.parents(h.NAV_LIST_GROUP).prev(h.NAV_ITEMS).children(h.NAV_LINKS).addClass(c)),e(this._scrollElement).trigger(l.ACTIVATE,{relatedTarget:t})},p._clear=function(){var t=[].slice.call(document.querySelectorAll(this._selector));e(t).filter(h.ACTIVE).removeClass(c)},i._jQueryInterface=function(t){return this.each(function(){var r=e(this).data("bs.scrollspy");if(r||(r=new i(this,"object"==typeof t&&t),e(this).data("bs.scrollspy",r)),"string"==typeof t){if(void 0===r[t])throw new TypeError('No method named "'+t+'"');r[t]()}})},n(i,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return r}}]),i}();return e(window).on(l.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(h.DATA_SPY)),i=t.length;i--;){var r=e(t[i]);p._jQueryInterface.call(r,r.data())}}),e.fn[t]=p._jQueryInterface,e.fn[t].Constructor=p,e.fn[t].noConflict=function(){return e.fn[t]=i,p._jQueryInterface},p}(t),v=function(e){var t=e.fn.tab,i={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},r="dropdown-menu",o="active",s="disabled",l="fade",d="show",c=".dropdown",h=".nav, .list-group",u=".active",f="> li > .active",p='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',g=".dropdown-toggle",m="> .dropdown-menu .active",v=function(){function t(e){this._element=e}var p=t.prototype;return p.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass(o)||e(this._element).hasClass(s))){var r,n,l=e(this._element).closest(h)[0],d=a.getSelectorFromElement(this._element);if(l){var c="UL"===l.nodeName?f:u;n=(n=e.makeArray(e(l).find(c)))[n.length-1]}var p=e.Event(i.HIDE,{relatedTarget:this._element}),g=e.Event(i.SHOW,{relatedTarget:n});if(n&&e(n).trigger(p),e(this._element).trigger(g),!g.isDefaultPrevented()&&!p.isDefaultPrevented()){d&&(r=document.querySelector(d)),this._activate(this._element,l);var m=function(){var r=e.Event(i.HIDDEN,{relatedTarget:t._element}),o=e.Event(i.SHOWN,{relatedTarget:n});e(n).trigger(r),e(t._element).trigger(o)};r?this._activate(r,r.parentNode,m):m()}}},p.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},p._activate=function(t,i,r){var n=this,o=("UL"===i.nodeName?e(i).find(f):e(i).children(u))[0],s=r&&o&&e(o).hasClass(l),d=function(){return n._transitionComplete(t,o,r)};if(o&&s){var c=a.getTransitionDurationFromElement(o);e(o).one(a.TRANSITION_END,d).emulateTransitionEnd(c)}else d()},p._transitionComplete=function(t,i,n){if(i){e(i).removeClass(d+" "+o);var s=e(i.parentNode).find(m)[0];s&&e(s).removeClass(o),"tab"===i.getAttribute("role")&&i.setAttribute("aria-selected",!1)}if(e(t).addClass(o),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),a.reflow(t),e(t).addClass(d),t.parentNode&&e(t.parentNode).hasClass(r)){var l=e(t).closest(c)[0];if(l){var h=[].slice.call(l.querySelectorAll(g));e(h).addClass(o)}t.setAttribute("aria-expanded",!0)}n&&n()},t._jQueryInterface=function(i){return this.each(function(){var r=e(this),n=r.data("bs.tab");if(n||(n=new t(this),r.data("bs.tab",n)),"string"==typeof i){if(void 0===n[i])throw new TypeError('No method named "'+i+'"');n[i]()}})},n(t,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),t}();return e(document).on(i.CLICK_DATA_API,p,function(t){t.preventDefault(),v._jQueryInterface.call(e(this),"show")}),e.fn.tab=v._jQueryInterface,e.fn.tab.Constructor=v,e.fn.tab.noConflict=function(){return e.fn.tab=t,v._jQueryInterface},v}(t);!function(e){if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(t),e.Util=a,e.Alert=l,e.Button=d,e.Carousel=c,e.Collapse=h,e.Dropdown=u,e.Modal=f,e.Popover=g,e.Scrollspy=m,e.Tab=v,e.Tooltip=p,Object.defineProperty(e,"__esModule",{value:!0})})(t,i("7t+N"),i("Zgw8"))},L382:function(module,exports,__webpack_require__){(function(jQuery){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t){"use strict";__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("7t+N")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(i){return t(i,e.document)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}("undefined"!=typeof window?window:this,function($,document){"use strict";var englishLanguageDefaults={name:"English (United States)",nameEnglish:"English (United States)",isRTL:!1,defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",pgtext:"Page {0} of {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",savetext:"Saving..."},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],addGroupTitle:"Add subgroup",deleteGroupTitle:"Delete group",addRuleTitle:"Add rule",deleteRuleTitle:"Delete rule",operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(e){return e<11||13<e?["st","nd","rd","th"][Math.min((e-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",masks:{ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",YearMonth:"F, Y"}}}};$.jgrid=$.jgrid||{};var jgrid=$.jgrid;jgrid.locales=jgrid.locales||{};var locales=jgrid.locales,COMPONENT_NAMES={GRID_BOX_DIV:0,GRID_OVERLAY_DIV:1,LOADING_DIV:2,DIALOG_ALERT_DIV:3,DIALOG_SEARCH_DIV:4,DIALOG_VIEW_DIV:5,DIALOG_EDIT_DIV:6,DIALOG_DELETE_DIV:7,GRID_VIEW_DIV:8,TITLE_BAR_DIV:9,UPPER_TOOLBAR_DIV:10,TOP_PAGER_DIV:11,HEADER_DIV:12,HEADER_BOX_DIV:13,HEADER_TABLE:14,HEADER_COLS_ROW:15,HEADER_COLS:16,HEADER_ROWS:47,HEADER_TH:48,HEADER_SORTABLE_DIV:49,HEADER_RESIZABLE_SPAN:50,HEADER_SELECT_ALL_ROWS_CHECKBOX:45,SEARCH_TOOLBAR:17,BODY_DIV:18,BODY_SCROLL_FULL_DIV:19,BODY_SCROLL_TOP_DIV:20,BODY_TABLE:21,GRID:21,BODY_COLS_ROW:22,BODY_COLS:23,BODY_DATA_ROWS:24,FOOTER_DIV:25,FOOTER_BOX_DIV:26,FOOTER_TABLE:27,FOOTER_DATA_ROWS:28,BOTTOM_TOOLBAR_DIV:29,FROZEN_HEADER_DIV:30,FROZEN_HEADER_TABLE:31,FROZEN_HEADER_COLS_ROW:32,FROZEN_HEADER_COLS:33,FROZEN_SEARCH_TOOLBAR:34,FROZEN_FOOTER_DIV:35,FROZEN_FOOTER_TABLE:36,FROZEN_FOOTER_DATA_ROWS:37,FROZEN_BODY_DIV:38,FROZEN_BODY_TABLE:39,FROZEN_BODY_COLS_ROW:40,FROZEN_BODY_COLS:41,FROZEN_BODY_DATA_ROWS:42,COLUMN_RESIZER_DIV:43,BOTTOM_PAGER_DIV:44,SEARCH_OPERATION_MENU_UL:46};(null==jgrid.defaults||$.isEmptyObject(locales)||void 0===locales["en-US"])&&(void 0===locales["en-US"]&&$.extend(!0,jgrid,{locales:{"en-US":englishLanguageDefaults}}),jgrid.defaults=jgrid.defaults||{},void 0===jgrid.defaults.locale&&(jgrid.defaults.locale="en-US")),jgrid.defaults=jgrid.defaults||{};var defaults=jgrid.defaults;$.extend(!0,jgrid,{version:"4.15.5-pre",productName:"free jqGrid",defaults:{},search:{},edit:{},view:{},del:{},nav:{},col:{},errors:{},formatter:{unused:""},icons:{jQueryUI:{common:"ui-icon",pager:{first:"ui-icon-seek-first",prev:"ui-icon-seek-prev",next:"ui-icon-seek-next",last:"ui-icon-seek-end"},sort:{asc:"ui-icon-triangle-1-n",desc:"ui-icon-triangle-1-s"},gridMinimize:{visible:"ui-icon-circle-triangle-n",hidden:"ui-icon-circle-triangle-s"},nav:{edit:"ui-icon-pencil",add:"ui-icon-plus",del:"ui-icon-trash",search:"ui-icon-search",refresh:"ui-icon-refresh",view:"ui-icon-document",save:"ui-icon-disk",cancel:"ui-icon-cancel",newbutton:"ui-icon-newwin"},actions:{edit:"ui-icon-pencil",del:"ui-icon-trash",save:"ui-icon-disk",cancel:"ui-icon-cancel"},form:{close:"ui-icon-closethick",prev:"ui-icon-triangle-1-w",next:"ui-icon-triangle-1-e",save:"ui-icon-disk",undo:"ui-icon-close",del:"ui-icon-scissors",cancel:"ui-icon-cancel",resizableLtr:"ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se"},search:{search:"ui-icon-search",reset:"ui-icon-arrowreturnthick-1-w",query:"ui-icon-comment"},subgrid:{plus:"ui-icon-plus",minus:"ui-icon-minus",openLtr:"ui-icon-caret-1-sw",openRtl:"ui-icon-caret-1-se"},grouping:{plus:"ui-icon-circlesmall-plus",minus:"ui-icon-circlesmall-minus"},treeGrid:{minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off",plusLtr:"ui-icon-triangle-1-e",plusRtl:"ui-icon-triangle-1-w"}},fontAwesome:{common:"fa",pager:{common:"fa-fw",first:"fa-step-backward",prev:"fa-backward",next:"fa-forward",last:"fa-step-forward"},sort:{common:"fa-lg",asc:"fa-sort-asc",desc:"fa-sort-desc"},gridMinimize:{visible:"fa-chevron-circle-up",hidden:"fa-chevron-circle-down"},nav:{common:"fa-lg fa-fw",edit:"fa-pencil",add:"fa-plus",del:"fa-trash-o",search:"fa-search",refresh:"fa-refresh",view:"fa-file-o",save:"fa-floppy-o",cancel:"fa-ban",newbutton:"fa-external-link"},actions:{common:"fa-fw",edit:"fa-pencil",del:"fa-trash-o",save:"fa-floppy-o",cancel:"fa-ban"},form:{close:"fa-times",prev:"fa-caret-left",next:"fa-caret-right",save:"fa-floppy-o",undo:"fa-undo",del:"fa-trash-o",cancel:"fa-ban",resizableLtr:"fa-rss fa-rotate-270"},search:{search:"fa-search",reset:"fa-undo",query:"fa-comments-o"},subgrid:{common:"fa-fw",plus:"fa-plus",minus:"fa-minus",openLtr:"fa-reply fa-rotate-180",openRtl:"fa-share fa-rotate-180"},grouping:{common:"fa-fw",plus:"fa-plus-square-o",minus:"fa-minus-square-o"},treeGrid:{common:"fa-fw",minus:"fa-lg fa-sort-desc",leaf:"fa-dot-circle-o",plusLtr:"fa-lg fa-caret-right",plusRtl:"fa-lg fa-caret-left"},checkbox:{checkedClasses:"fa-check-square-o",checked:"fa-check-square-o fa-lg",unchecked:"fa-square-o fa-lg"}},fontAwesome5:{pager:{common:"fa-fw",first:"fa-step-backward",prev:"fa-backward",next:"fa-forward",last:"fa-step-forward"},sort:{common:"fa-lg",asc:"fa-sort-up",desc:"fa-sort-down"},gridMinimize:{visible:"fa-chevron-circle-up",hidden:"fa-chevron-circle-down"},nav:{common:"fa-lg fa-fw",edit:"fa-pencil-alt",add:"fa-plus",del:"fa-trash-alt",search:"fa-search",refresh:"fa-sync",view:"fa-file",save:"fa-save",cancel:"fa-ban",newbutton:"fa-external-link-alt"},actions:{common:"fa-fw",edit:"fa-pencil-alt",del:"fa-trash-alt",save:"fa-save",cancel:"fa-ban"},form:{close:"fa-times",prev:"fa-caret-left",next:"fa-caret-right",save:"fa-save",undo:"fa-undo",del:"fa-trash-alt",cancel:"fa-ban",resizableLtr:"fa-rss fa-lg fa-rotate-270"},search:{search:"fa-search",reset:"fa-undo",query:"fa-comments"},subgrid:{common:"fa-fw",plus:"fa-plus",minus:"fa-minus",openLtr:"fa-reply fa-rotate-180",openRtl:"fa-share fa-rotate-180"},grouping:{common:"fa-fw",plus:"fa-plus-square",minus:"fa-minus-square"},treeGrid:{common:"fa-fw",minus:"fa-lg fa-sort-down",leaf:"fa-dot-circle",plusLtr:"fa-lg fa-caret-right",plusRtl:"fa-lg fa-caret-left"},checkbox:{ignoreParents:!0,checkedClasses:"fa-check-square",checked:"far fa-check-square fa-lg",unchecked:"far fa-square fa-lg"}},fontAwesomeBrands:{baseIconSet:"fontAwesome5",common:"fab"},fontAwesomeLight:{baseIconSet:"fontAwesome5",common:"fal"},fontAwesomeRegular:{baseIconSet:"fontAwesome5",common:"far"},fontAwesomeSolid:{baseIconSet:"fontAwesome5",common:"fas"},fontAwesomeSVG:{baseIconSet:"fontAwesome5",common:"fas"},glyph:{common:"glyphicon",pager:{common:"",first:"glyphicon-step-backward",prev:"glyphicon-backward",next:"glyphicon-forward",last:"glyphicon-step-forward"},sort:{common:"",asc:"glyphicon-triangle-top",desc:"glyphicon-triangle-bottom"},gridMinimize:{visible:"glyphicon-circle-arrow-up",hidden:"glyphicon-circle-arrow-down"},nav:{common:"",edit:"glyphicon-edit",add:"glyphicon-plus",del:"glyphicon-trash",search:"glyphicon-search",refresh:"glyphicon-refresh",view:"glyphicon-file",save:"glyphicon-save",cancel:"glyphicon-ban-circle",newbutton:"glyphicon-new-window"},actions:{common:"",edit:"glyphicon-edit",del:"glyphicon-trash",save:"glyphicon-save",cancel:"glyphicon-ban-circle"},form:{close:"glyphicon-remove-circle",prev:"glyphicon-step-backward",next:"glyphicon-step-forward",save:"glyphicon-save",undo:"glyphicon-repeat",del:"glyphicon-trash",cancel:"glyphicon-ban-circle",resizableLtr:"glyphicon-import"},search:{search:"glyphicon-search",reset:"glyphicon-repeat",query:"glyphicon-cog"},subgrid:{common:"",plus:"glyphicon-zoom-in",minus:"glyphicon-zoom-out",openLtr:"glyphicon-indent-left",openRtl:"glyphicon-indent-left"},grouping:{common:"",plus:"glyphicon-expand",minus:"glyphicon-collapse-down"},treeGrid:{common:"",minus:"glyphicon-triangle-bottom",leaf:"glyphicon-record",plusLtr:"glyphicon-triangle-right",plusRtl:"glyphicon-triangle-left"},checkbox:{checkedClasses:"glyphicon-check",checked:"glyphicon-check",unchecked:"glyphicon-unchecked"}}},guiStyles:{jQueryUI:{gBox:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all",gView:"",overlay:"ui-widget-overlay",loading:"ui-state-default ui-state-active",hDiv:"ui-state-default ui-corner-top",hTable:"",colHeaders:"ui-state-default",states:{select:"ui-state-highlight",disabled:"ui-state-disabled ui-jqgrid-disablePointerEvents",hover:"ui-state-hover",error:"ui-state-error",active:"ui-state-active",textOfClickable:"ui-state-default"},dialog:{header:"ui-widget-header ui-dialog-titlebar ui-corner-all ui-helper-clearfix",window:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all ui-front",document:"",subdocument:"",body:"",footer:"",content:"ui-widget-content",hr:"ui-widget-content",closeButton:"ui-corner-all",fmButton:"ui-state-default",dataField:"ui-widget-content ui-corner-all",viewCellLabel:"ui-widget-content",viewLabel:"",viewCellData:"ui-widget-content",viewData:"",leftCorner:"ui-corner-left",rightCorner:"ui-corner-right",defaultCorner:"ui-corner-all"},filterToolbar:{dataField:"ui-widget-content"},subgrid:{thSubgrid:"ui-state-default",rowSubTable:"ui-widget-content",row:"ui-widget-content",tdStart:"",tdWithIcon:"ui-widget-content",buttonDiv:"",button:"",tdData:"ui-widget-content",legacyTable:""},grid:"",gridRow:"ui-widget-content",rowNum:"ui-state-default",gridFooter:"",rowFooter:"ui-widget-content",gridTitle:"ui-widget-header ui-corner-top",gridError:"ui-state-error",gridErrorText:"",titleButton:"ui-corner-all",toolbarUpper:"ui-state-default",toolbarBottom:"ui-state-default",actionsDiv:"ui-widget-content",actionsButton:"ui-corner-all",pager:{pager:"ui-state-default",pagerButton:"ui-corner-all",pagerInput:"ui-widget-content",pagerSelect:"ui-widget-content"},navButton:"ui-corner-all",searchDialog:{operator:"ui-corner-all",label:"ui-corner-all",elem:"ui-corner-all",operationGroup:"",addRuleButton:"ui-corner-all",deleteRuleButton:"ui-corner-all",operationSelect:"ui-corner-all",addGroupButton:"ui-corner-all",deleteGroupButton:"ui-corner-all"},searchToolbar:{menu:"ui-menu-jqueryui ui-menu ui-widget ui-widget-content ui-corner-all",menuItem:"ui-menu-item",menuItemButton:"ui-corner-all",operButton:"ui-corner-all",clearButton:"ui-corner-all"},top:"ui-corner-top",bottom:"ui-corner-bottom",resizer:"ui-widget-header"},bootstrap:{gBox:"ui-jqgrid-bootstrap",gView:"panel-info",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-condensed table-bordered",colHeaders:"",states:{select:"success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"hidden",closeButton:"btn btn-xs btn-default",fmButton:"btn btn-default",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-default",actionsDiv:"",actionsButton:"btn btn-xs btn-default",toolbarUpper:"",toolbarBottom:"",pager:{pager:"panel-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-default",deleteRuleButton:"btn btn-xs btn-default",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-default",deleteGroupButton:"btn btn-xs btn-default"},searchToolbar:{menu:"dropdown-menu",menuItem:"",menuItemButton:"ui-corner-all",operButton:"btn btn-xs btn-default",clearButton:"btn btn-xs btn-default"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"},bootstrapPrimary:{baseGuiStyle:"bootstrap",dialog:{closeButton:"btn btn-xs close",fmButton:"btn btn-primary"},searchDialog:{addRuleButton:"btn btn-xs btn-primary",deleteRuleButton:"btn btn-xs btn-primary",addGroupButton:"btn btn-xs btn-primary",deleteGroupButton:"btn btn-xs btn-primary"}},bootstrap4:{gBox:"ui-jqgrid-bootstrap",gView:"card",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-sm table-bordered",colHeaders:"",states:{select:"table-success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",hoverTh:"table-active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"d-none",closeButton:"btn btn-xs btn-outline-primary",fmButton:"btn btn-outline-secondary",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-outline-primary",actionsDiv:"",actionsButton:"btn btn-xs btn-outline-secondary",toolbarUpper:"",toolbarBottom:"",pager:{pager:"card-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-default",deleteRuleButton:"btn btn-xs btn-default",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-default",deleteGroupButton:"btn btn-xs btn-default"},searchToolbar:{menu:"dropdown-menu",menuItem:"",menuItemButton:"dropdown-item",operButton:"btn btn-xs btn-outline-secondary",clearButton:"btn btn-xs btn-outline-secondary"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"}},htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/").replace(/&#39;/g,"'").replace(/&#47;/g,"/").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#47;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldEncodePostedData:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldDecodePostedData:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},clearArray:function(e){for(;0<e.length;)e.pop()},format:function(e){var t=$.makeArray(arguments).slice(1);return null==e&&(e=""),e.replace(/\{(\d+)\}/g,function(e,i){return t[i]})},template:function(e){var t,i=$.makeArray(arguments).slice(1),r=i.length;return null==e&&(e=""),e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((\.*?)?\))?)?\}/g,function(e,n){var o,s;if(!isNaN(parseInt(n,10)))return i[parseInt(n,10)];for(t=0;t<r;t++)if($.isArray(i[t]))for(s=(o=i[t]).length;s--;)if(n===o[s].nm)return o[s].v})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var e,t=-1;return"Microsoft Internet Explorer"===navigator.appName?null!=(e=/(MSIE) ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent))&&3===e.length&&(t=parseFloat(e[2]||-1)):"Netscape"===navigator.appName&&null!=(e=/rv:([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent))&&2===e.length&&(t=parseFloat(e[1]||-1)),t},fixMaxHeightOfDiv:function(e){return"Microsoft Internet Explorer"===navigator.appName?Math.min(e,1533917):null!=/(Firefox)/.exec(navigator.userAgent)?Math.min(e,17895696):e},getRelativeRect:function(e){var t,i,r=e instanceof $&&0<e.length?e[0]:e,n=$(r).outerHeight(),o=$(this).closest(".ui-jqgrid")[0];return o?(t=null!=r.getBoundingClientRect?r.getBoundingClientRect():$(r).offset(),i=null!=o.getBoundingClientRect?o.getBoundingClientRect():$(o).offset(),{top:t.top+n-i.top,left:t.left-i.left}):{top:0,left:0}},getCellIndex:function(e){var t=$(e);return t.is("tr")?-1:null==(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0])?-1:jgrid.msie?$.inArray(t,t.parentNode.cells):t.cellIndex},stripHtml:function(e){return(e=String(e))?(e=e.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,""))&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/"/g,"'"):"":e},stripPref:function(e,t){var i=$.type(e);return"string"!==i&&"number"!==i||(t=""!==(e=String(e))?String(t).replace(String(e),""):t),t},getRes:function(e,t){var i,r=t.split("."),n=r.length;if(null!=e){for(i=0;i<n;i++){if(!r[i])return null;if(void 0===(e=e[r[i]]))break;if("string"==typeof e)return e}return e}},parseDate:function(e,t,i,r){var n,o,s,a=0,l=0,d="string"==typeof t?t.match(/^\/Date\((([\-+])?[0-9]+)(([\-+])([0-9]{2})([0-9]{2}))?\)\/$/):null,c=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},h={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},u=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t};if(void 0===(r=function(e,t){var i,r,n=["AmPm","dayNames","masks","monthNames","userLocalTime","parseRe","S","srcformat"],o=t||{},s=(jgrid.formatter||{}).date||{},a=((locales[(e||$.jgrid.defaults).locale]||{}).formatter||{}).date,l=n.length,d={};for(i=0;i<l;i++)void 0!==o[r=n[i]]?d[r]=o[r]:void 0!==s[r]?d[r]=s[r]:void 0!==a[r]&&(d[r]=a[r]);return d}(this.p,r)).parseRe&&(r.parseRe=/[#%\\\/:_;.,\t\s\-]/),r.masks.hasOwnProperty(e)&&(e=r.masks[e]),t&&null!=t)if(isNaN(t)||"u"!==String(e).toLowerCase())if(isNaN(t)||"u1000"!==String(e).toLowerCase())if(t.constructor===Date)a=t;else if(null!==d)a=new Date(parseInt(d[1],10)),d[3]&&(l=60*Number(d[5])+Number(d[6]),l*="-"===d[4]?1:-1,l-=a.getTimezoneOffset(),a.setTime(Number(Number(a)+60*l*1e3)));else{for("ISO8601Long"===r.srcformat&&"Z"===t.charAt(t.length-1)&&(l-=(new Date).getTimezoneOffset()),t=String(t).replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe),e=e.replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe),o=0,s=Math.min(e.length,t.length);o<s;o++){switch(e[o]){case"M":-1!==(n=$.inArray(t[o],r.monthNames))&&n<12&&(t[o]=n+1,h.m=t[o]);break;case"F":-1!==(n=$.inArray(t[o],r.monthNames,12))&&11<n&&(t[o]=n+1-12,h.m=t[o]);break;case"n":h.m=parseInt(t[o],10);break;case"j":h.d=parseInt(t[o],10);break;case"g":h.h=parseInt(t[o],10);break;case"a":-1!==(n=$.inArray(t[o],r.AmPm))&&n<2&&t[o]===r.AmPm[n]&&(t[o]=n,h.h=u(t[o],h.h));break;case"A":-1!==(n=$.inArray(t[o],r.AmPm))&&1<n&&t[o]===r.AmPm[n]&&(t[o]=n-2,h.h=u(t[o],h.h))}void 0===t[o]||""===t[o]||isNaN(t[o])||(h[e[o].toLowerCase()]=parseInt(t[o],10))}if(h.f&&(h.m=h.f),0===h.m&&0===h.y&&0===h.d)return"&#160;";h.m=parseInt(h.m,10)-1;var f=h.y;70<=f&&f<=99?h.y=1900+h.y:0<=f&&f<=69&&(h.y=2e3+h.y),a=new Date(h.y,h.m,h.d,h.h,h.i,h.s,h.u),0!==l&&a.setTime(Number(Number(a)+60*l*1e3))}else a=new Date(parseFloat(t));else a=new Date(1e3*parseFloat(t));else a=new Date(h.y,h.m,h.d,h.h,h.i,h.s,h.u);if(r.userLocalTime&&0===l&&0!=(l-=(new Date).getTimezoneOffset())&&a.setTime(Number(Number(a)+60*l*1e3)),void 0===i)return a;if(r.masks.hasOwnProperty(i)?i=r.masks[i]:i||(i="Y-m-d"),"u1000"===i.toLowerCase())return a.getTime();var p=a.getHours(),g=a.getMinutes(),m=a.getDate(),v=a.getMonth()+1,b=a.getTimezoneOffset(),y=a.getSeconds(),w=a.getMilliseconds(),x=a.getDay(),C=a.getFullYear(),S=(x+6)%7+1,k=(new Date(C,v-1,m)-new Date(C,0,1))/864e5,D=S<5?Math.floor((k+S-1)/7)+1:Math.floor((k+S-1)/7)||((new Date(C-1,0,1).getDay()+6)%7<4?53:52),T={d:c(m),D:r.dayNames[x],j:m,l:r.dayNames[x+7],N:S,S:r.S(m),w:x,z:k,W:D,F:r.monthNames[v-1+12],m:c(v),M:r.monthNames[v-1],n:v,t:"?",L:"?",o:"?",Y:C,y:String(C).substring(2),a:p<12?r.AmPm[0]:r.AmPm[1],A:p<12?r.AmPm[2]:r.AmPm[3],B:"?",g:p%12||12,G:p,h:c(p%12||12),H:c(p),i:c(g),s:c(y),u:w,e:"?",I:"?",O:(0<b?"-":"+")+c(100*Math.floor(Math.abs(b)/60)+Math.abs(b)%60,4),P:"?",T:(String(a).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[\-+]\d{4})?)\b/g)||[""]).pop().replace(/[^\-+\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(a/1e3)};return i.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,function(e){return T.hasOwnProperty(e)?T[e]:e.substring(1)})},parseDateToNumber:function(e,t){var i=jgrid.parseDate.call(this,e,t);return i instanceof Date?i.getTime():0},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},getGridComponentId:function(e){if(null==this.p||!this.p.id)return"";var t=this.p.id;switch(e){case COMPONENT_NAMES.GRID:return t;case COMPONENT_NAMES.GRID_BOX_DIV:return"gbox_"+t;case COMPONENT_NAMES.GRID_VIEW_DIV:return"gview_"+t;case COMPONENT_NAMES.DIALOG_ALERT_DIV:return"alertmod_"+t;case COMPONENT_NAMES.COLUMN_RESIZER_DIV:return"rs_m"+t;case COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX:return"cb_"+t;case COMPONENT_NAMES.SEARCH_OPERATION_MENU_UL:return"sopt_menu";default:return""}},getGridComponentIdSelector:function(e){var t=jgrid.getGridComponentId.call(this,e);return t?"#"+jgrid.jqID(t):""},isHTMLElement:function(e){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?e instanceof HTMLElement:null!=e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},getGridComponent:function(e,t){var i;if(t instanceof $||0<t.length)i=t[0];else{if(!jgrid.isHTMLElement(t))return $();t=$(i=t)}switch(e){case COMPONENT_NAMES.BODY_TABLE:return t.hasClass("ui-jqgrid-bdiv")?t.children("div").children(".ui-jqgrid-btable"):$();case COMPONENT_NAMES.HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.children("div").children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.children("div").children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.FROZEN_HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FROZEN_FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.BODY_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=i.grid?$(i.grid.bDiv):$();case COMPONENT_NAMES.HEADER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=i.grid?$(i.grid.hDiv):$();case COMPONENT_NAMES.FOOTER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=i.grid?$(i.grid.sDiv):$();default:return $()}},fixScrollOffsetAndhBoxPadding:function(){var e=this.grid;if(e){var t=this.p,i=e.bDiv,r=function(e){var r=$(e).children("div").first();r.css(r.hasClass("ui-jqgrid-hbox-rtl")?"padding-left":"padding-right",t.scrollOffset),e.scrollLeft=i.scrollLeft};0<$(i).width()&&(t.scrollOffset=i.offsetWidth-i.clientWidth,r(e.hDiv),e.sDiv&&r(e.sDiv))}},mergeCssClasses:function(){var e,t,i,r,n=$.makeArray(arguments),o={},s=[];for(e=0;e<n.length;e++)for(i=String(n[e]).replace(/[\t\r\n\f]/g," ").split(" "),t=0;t<i.length;t++)""===(r=i[t])||o.hasOwnProperty(r)||(o[r]=!0,s.push(r));return s.join(" ")},hasOneFromClasses:function(e,t){var i,r=$(e),n=String(t).replace(/[\t\r\n\f]/g," ").split(" "),o=n.length;for(i=0;i<o;i++)if(r.hasClass(n[i]))return!0;return!1},hasAllClasses:function(e,t){var i,r=$(e),n=String(t).replace(/[\t\r\n\f]/g," ").split(" "),o=n.length;for(i=0;i<o;i++)if(!r.hasClass(n[i]))return!1;return!0},detectRowEditing:function(e){return this.grid&&null!=this.p&&null!=this.p.editingInfo&&null!=this.p.editingInfo[e]?this.p.editingInfo[e]:null},getCell:function(e,t){var i,r,n=this.grid,o=this.p;return n&&o?((e instanceof $||0<e.length)&&(e=e[0]),("object"==typeof HTMLTableRowElement||"function"==typeof HTMLTableRowElement)&&e instanceof HTMLTableRowElement&&null!=e.cells?(r=$(e.cells[t]),null!=(i=n.fbRows)&&t<i[0].cells.length?r.add(i[e.rowIndex].cells[t]):r):$()):$()},getDataFieldOfCell:function(e,t){var i,r=this.p,n=jgrid.getCell.call(this,e,t);return r.treeGrid&&0<n.children("div.tree-wrap").length&&(n=n.children("span.cell-wrapperleaf,span.cell-wrapper")),r.colModel[t].autoResizable?0===(i=n.children("span."+r.autoResizing.wrapperClassName)).length&&(i=n):i=n,i},enumEditableCells:function(e,t,i){var r=this,n=r.grid,o=r.rows,s=r.p;if(null==n||null==o||null==s||null==e||null==e.rowIndex||!e.id||!$.isFunction(i))return null;var a,l,d,c,h,u,f,p,g,m,v,b=s.colModel,y=b.length,w=e.rowIndex,x=n.fbRows,C=null!=x,S=C?x[w]:null;for(C&&(e=r.rows[w]),a=0;a<y&&("cb"===(d=(l=b[a]).name)||"subgrid"===d||"rn"===d||(C&&!l.frozen&&(C=!1),g=(C?S:e).cells[a],(m=$(g)).hasClass("not-editable-cell")||(v=m.width(),!0===s.treeGrid&&d===s.ExpandColumn?(v-=m.children("div.tree-wrap").outerWidth(),m=m.children("span.cell-wrapperleaf,span.cell-wrapper").first()):v=0,h=stripPref(s.idPrefix,e.id),c={rowid:e.id,id:h,iCol:a,iRow:w,cmName:d,cm:l,mode:t,td:g,tr:e,trFrozen:S,dataElement:m[0],dataWidth:v},"local"===s.datatype&&(f=null!=(u=s._index[h])?s.data[u]:void 0)&&(c.item=f),l.edittype||(l.edittype="text"),((s.editingInfo[e.id]||{}).editable||{}).hasOwnProperty(d)?p=s.editingInfo[e.id].editable[d]:(p=l.editable,p=$.isFunction(p)?p.call(r,c):p),!0!==p&&"hidden"!==p||(c.editable=p,!1!==i.call(r,c)))));a++);},getEditedValue:function(e,t,i,r){var n,o,s,a,l,d,c=t.formatoptions||{},h=t.editoptions||{},u=h.custom_value,f="[name="+jgrid.jqID(t.name)+"]",p=this,g=$(p);if("hidden"===r||"readonly"===r)return $(p).jqGrid("getCell",e.closest("tr.jqgrow").attr("id"),t.name);switch(t.edittype){case"checkbox":o=["Yes","No"],"string"==typeof h.value&&(o=h.value.split(":")),n=e.find("input[type=checkbox]").is(":checked")?o[0]:o[1];break;case"text":case"password":case"textarea":case"button":n=(a=e.find("input"+f+",textarea"+f)).val(),"date"===a.prop("type")&&3===String(n).split("-").length&&(s=c.newformat||g.jqGrid("getGridRes","formatter.date.newformat"),n=jgrid.parseDate.call(p,"Y-m-d",n,s));break;case"select":a=e.find("select option:selected"),h.multiple?(l=[],d=[],a.each(function(){l.push($(this).val()),d.push($(this).text())}),n=l.join(","),i.text=d.join(",")):(n=a.val(),i.text=a.text()),i.value=n;break;case"custom":try{if(!$.isFunction(u))throw"e1";if(void 0===(n=u.call(p,e.find(".customelement"),"get")))throw"e2"}catch(e){var m,v=jgrid.info_dialog,b=function(e){g.jqGrid("getGridRes",e)};switch(String(e)){case"e1":m="function 'custom_value' "+b("edit.msg.nodefined");break;case"e2":break;default:m=e.message}v&&$.isFunction(v)?v.call(p,b("errors.errcap"),m,b("edit.bClose")):($.isFunction(defaults.fatalError)?defaults.fatalError:alert)(m)}break;default:n=e.find("*"+f).text()}return n},guid:1,uidPref:"jqg",randId:function(e){return(e||jgrid.uidPref)+jgrid.guid++},getAccessor:function(e,t){var i,r,n,o=[];if($.isFunction(t))return t(e);if(null!=e&&e.hasOwnProperty(t))return e[t];try{if("string"==typeof t&&(o=t.split(".")),n=o.length)for(i=e;null!=i&&n--;)r=o.shift(),i=i.hasOwnProperty(r)?i[r]:void 0}catch(e){}return i},getXmlData:function(e,t,i){var r="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;if($.isFunction(t))return t(e);if(r&&r[2])return r[1]?$(r[1],e).attr(r[2]):$(e).attr(r[2]);if(void 0!==e){var n=$(e).find(t);return i?n:0<n.length?$(n).text():void 0}},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div></div></div>"),t=e.appendTo("body").find("td").width();return e.remove(),.1<Math.abs(t-5)},isCellClassHidden:function(e){if(null==e||""===e)return!1;var t=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;' class='"+(e||"")+"'></td></tr></table></div></div></div>"),i=t.appendTo("body").find("td").is(":hidden");return t.remove(),i},cell_width:!0,ajaxOptions:{},from:function(source){var context=this,QueryObject=function(d,q){var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],toString=Object.prototype.toString;if("object"!=typeof d||!d.push)throw"data provides is not an array";if(0<d.length&&"object"!=typeof d[0])throw"data items are not objects";return this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+" || '')"),_trim&&t.push(")"),_usecase||t.push(".toUpperCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/"/g,'\\"'),_usecase?e:e.toUpperCase()},this._funcLoop=function(e){var t=[];return $.each(_data,function(i,r){t.push(e(r))}),t},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;t<_orDepth;t++)_query+="(";_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null===_lastField?_lastCommand(e):_lastCommand(_lastField,e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,i){return void 0===i&&(i=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:("[object Date]"===toString.call(e)&&"[object Date]"===toString.call(t)||_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),e<t?-i:t<e?i:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var i=_sorting[t].by,r=_sorting[t].dir,n=_sorting[t].type,o=_sorting[t].datefmt,s=_sorting[t].sfunc;if(t===_sorting.length-1)return self._getOrder(e,i,r,n,o,s);t++;var a,l,d,c=self._getGroup(e,i,r,n,o),h=[];for(a=0;a<c.length;a++)for(d=self._doSort(c[a].items,t),l=0;l<d.length;l++)h.push(d[l]);return h},this._getOrder=function(e,t,i,r,n,o){var s,a,l,d=[],c=[],h="a"===i?1:-1;void 0===r&&(r="text"),l="float"===r||"number"===r||"currency"===r||"numeric"===r?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?Number.NEGATIVE_INFINITY:t}:"int"===r||"integer"===r?function(e){return null!=e?parseFloat(String(e).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===r||"datetime"===r?function(e){return jgrid.parseDateToNumber.call(context,n,e)}:$.isFunction(r)?r:function(e){return e=null!=e?$.trim(String(e)):"",_usecase?e:e.toUpperCase()},$.each(e,function(e,i){void 0===(a=""!==t?jgrid.getAccessor(i,t):i)&&(a=""),a=l.call(context,a,i),c.push({vSort:a,data:i,index:e})}),$.isFunction(o)?c.sort(function(e,t){return o.call(context,e.vSort,t.vSort,h,e.data,t.data)}):c.sort(function(e,t){return self._compare(e.vSort,t.vSort,h)});for(var u=0,f=e.length;u<f;)s=c[u].index,d.push(e[s]),u++;return d},this._getGroup=function(e,t,i,r,n){var o=[],s=null,a=null;return $.each(self._getOrder(e,t,i,r,n),function(e,i){var r=jgrid.getAccessor(i,t);null==r&&(r=""),self._equals(a,r)||(a=r,null!==s&&o.push(s),s=self._group(t,r)),s.items.push(i)}),null!==s&&o.push(s),o},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match||($.each(_data,function(){(function(){var localMath='(function (context) {\nvar yesObject = { 1: 1, x: 1, "true": 1, yes: 1, y: 1, on: 1 },noObject = { 0: 1, "false": 1, no: 1, n: 1, off: 1 },normilizeBoolean = function (v) {\nif (typeof v === "string") {\nif (noObject[v.toLowerCase()]) { return false; } else if (yesObject[v.toLowerCase()]) { return true; } }\nreturn !!v;\n},intFunc = function (jQuery, self) { return '+match+"; }; return intFunc.call(context.item, context.jQuery, context.context); }(this))";eval(localMath)&&results.push(this.item)}).call({item:this,jQuery:$,context:context})}),_data=results),self},this.data=function(){return _data},this.select=function(e){if(self.execute(),$.isFunction(e)){var t=[];return $.each(_data,function(i,r){t.push(e(r))}),t}return self._hasData()?(self._performSort(),_data):[]},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),0<_data.length)},this.andNot=function(e,t,i){return _negate=!_negate,self.and(e,t,i)},this.orNot=function(e,t,i){return _negate=!_negate,self.or(e,t,i)},this.not=function(e,t,i){return self.andNot(e,t,i)},this.and=function(e,t,i){return _queuedOperator=" && ",void 0===e?self:self._repeatCommand(e,t,i)},this.or=function(e,t,i){return _queuedOperator=" || ",void 0===e?self:self._repeatCommand(e,t,i)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,i,r,n){var o=t;void 0===i&&(i=null);var s=i,a=void 0===n.stype?"text":n.stype;if(null!==i)switch(a){case"int":case"integer":s=String(s).replace(_stripNum,""),s=isNaN(Number(s))||""===s?"0":Number(s),o="parseInt("+o+"||0,10)",s=String(parseInt(s,10));break;case"boolean":o="normilizeBoolean("+o+")",s="normilizeBoolean("+String(s)+")";break;case"float":case"number":case"currency":case"numeric":s=String(s).replace(_stripNum,""),s=isNaN(Number(s))||""===s?"0":Number(s),o="parseFloat("+o+"||0)",s=String(s);break;case"date":case"datetime":s=String(jgrid.parseDateToNumber.call(context,n.newfmt||"Y-m-d",s)),o='jQuery.jgrid.parseDateToNumber.call(self,"'+n.srcfmt+'",'+o+")";break;default:o=self._getStr(o),s=self._getStr('"'+self._toStr(s)+'"')}return self._append(o+" "+r+" "+s),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,i){return self._compareValues(self.equals,e,t,"==",i)},this.notEquals=function(e,t,i){return self._compareValues(self.equals,e,t,"!==",i)},this.isNull=function(e,t,i){return self._compareValues(self.equals,e,null,"===",i)},this.greater=function(e,t,i){return self._compareValues(self.greater,e,t,">",i)},this.less=function(e,t,i){return self._compareValues(self.less,e,t,"<",i)},this.greaterOrEquals=function(e,t,i){return self._compareValues(self.greaterOrEquals,e,t,">=",i)},this.lessOrEquals=function(e,t,i){return self._compareValues(self.lessOrEquals,e,t,"<=",i)},this.startsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return self._append(self._getStr(e)+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(t)+'"')),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return self._append(self._getStr(e)+".substr("+self._getStr(e)+".length-"+r+","+r+') == "'+self._toStr(t)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return self._append(self._getStr(e)+'.indexOf("'+self._toStr(t)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,i,r){return self._hasData()?self._getGroup(_data,e,t,i,r):null},this.orderBy=function(e,t,i,r,n){return null==i&&(i="text"),null==r&&(r="Y-m-d"),null==n&&(n=!1),"desc"!==(t=null==t?"a":$.trim(t.toString().toLowerCase()))&&"descending"!==t||(t="d"),"asc"!==t&&"ascending"!==t||(t="a"),_sorting.push({by:e,dir:t,type:i,datefmt:r,sfunc:n}),self},this.inSet=function(e,t,i){var r=void 0===t?null:t,n=void 0===i.stype?"text":i.stype;return r=self._getStr('"'+self._toStr(r)+'"'),"text"!==n?self._compareValues(self.equals,e,t,"==",i):(self._append("jQuery.inArray("+self._getStr(e)+","+r+".split('"+(context.p.inFilterSeparator||",")+"')) >= 0"),self._setCommand(self.inSet,e),self._resetNegate(),self)},this.custom=function(e,t,i){return self._append("self.p.customSortOperations."+e+'.filter.call(self,{item:this,cmName:"'+t+'",iCol:self.p.iColByName["'+t+'"]>=0 ? self.p.iColByName["'+t+'"] : self.p.iPropByName["'+t+'"],isAddProp:self.p.iColByName["'+t+'"]<0,searchValue:"'+i+'"})'),self._setCommand(self.custom,t),self._resetNegate(),self},self};return new QueryObject(source,null)},serializeFeedback:function(e,t,i){var r,n=this;return n instanceof $&&0<n.length&&(n=n[0]),"string"==typeof i?i:"string"==typeof(r=$(n).triggerHandler(t,i))?r:(null!=r&&"object"==typeof r||(r=i),$.isFunction(e)?e.call(n,r):r)},fullBoolFeedback:function(e,t){var i=$.makeArray(arguments).slice(2),r=$(this).triggerHandler(t,i);if(r=!1!==r&&"stop"!==r,$.isFunction(e)){var n=e.apply(this,i);!1!==n&&"stop"!==n||(r=!1)}return r},feedback:function(e,t,i,r){var n=this;if(n instanceof $&&0<n.length&&(n=n[0]),null==e||"string"!=typeof r||r.length<2)return null;var o="on"===r.substring(0,2)?"jqGrid"+t+r.charAt(2).toUpperCase()+r.substring(3):"jqGrid"+t+r.charAt(0).toUpperCase()+r.substring(1),s=$.makeArray(arguments).slice(4),a=e[r+i];return s.unshift(o),s.unshift(a),jgrid.fullBoolFeedback.apply(n,s)},builderSortIcons:function(e){var t=this,i=t.p,r=$(t),n=r.jqGrid("getGuiStyles","states.disabled"),o=function(o){var s=i.colModel[e],a=null!=s&&$.isFunction(s.sortIconName)?s.sortIconName:i.sortIconName,l=$.isFunction(a)?a.call(t,{order:o,iCol:e,cm:s}):r.jqGrid("getIconRes","sort."+o);return jgrid.mergeCssClasses("ui-grid-ico-sort","ui-icon-"+o,"horizontal"===i.viewsortcols[1]?"ui-i-"+o:"",n,l,"ui-sort-"+i.direction)};return"<span class='s-ico"+(i.sortIconsBeforeText?" jqgrid-icons-first":"")+"' style='display:none'><span class='"+o("asc")+"'></span><span class='"+o("desc")+"'></span></span>"},builderFmButon:function(e,t,i,r,n){var o=this.p,s=$(this),a=function(e){return s.jqGrid("getGuiStyles","dialog."+e)};return null==o?"":"<a id='"+e+"' class='"+jgrid.mergeCssClasses("fm-button",a("fmButton"),a("right"===n?"rightCorner":"left"===n?"leftCorner":"defaultCorner"),"right"===r?"fm-button-icon-right":"left"===r?"fm-button-icon-left":"")+"' role='button' tabindex='0'>"+(i?"<span class='fm-button-icon "+(s.jqGrid("getIconRes",i)||i)+"'></span>":"")+(t?"<span class='fm-button-text'>"+t+"</span>":"")+"</a>"},convertOnSaveLocally:function(e,t,i,r,n,o){if(null==this.p)return e;if($.isFunction(t.convertOnSave))return t.convertOnSave.call(this,{newValue:e,cm:t,oldValue:i,id:r,item:n,iCol:o});if("boolean"!=typeof i&&"number"!=typeof i)return e;if("boolean"!=typeof i||"checkbox"!==t.edittype&&"checkbox"!==t.formatter)"number"!=typeof i||isNaN(e)||("number"===t.formatter||"currency"===t.formatter?e=parseFloat(e):"integer"===t.formatter&&(e=parseInt(e,10)));else{var s=String(e).toLowerCase(),a=null!=t.editoptions&&"string"==typeof t.editoptions.value?t.editoptions.value.split(":"):["yes","no"];0<=$.inArray(s,["1","true",a[0].toLowerCase()])?e=!0:0<=$.inArray(s,["0","false",a[1].toLowerCase()])&&(e=!1)}return e},parseDataToHtml:function(e,t,i,r,n,o,s){var a,l,d,c,h,u,f,p,g,m,v,b,y,w,x,C,S,k,D,T,A,N,_,M,E,O,I,R=this,F=R.p,L=$(R),j=!1,P=[],z=[],B=!0!==F.altRows||L.jqGrid("isBootstrapGuiStyle")?"":F.altclass,H=F.groupingView,q=!1,W=parseInt(F.rowNum,10),G=$.fn.jqGrid,V=!0===F.treeGrid&&-1<F.treeANode?R.rows[F.treeANode].rowIndex+1:R.rows.length,U=R.formatCol;for(V<=1&&(F.rowIndexes={}),("local"===F.datatype&&!F.deselectAfterSort||F.multiPageSelection)&&(j=!0),o&&(W*=o+1),a=0;a<Math.min(e,W);a++){for(h=t[a],u=i[a],f=null!=r?r[a]:u,d=((1===n?0:n)+a)%2==1?B:"",j?F.multiselect?(c=-1!==$.inArray(h,F.selarrrow))&&null===F.selrow&&(F.selrow=h):c=h===F.selrow:c=!1,p=P.length,P.push(""),l=0;l<F.colModel.length;l++)switch(g=F.colModel[l].name){case"rn":P.push((_=l,M=a,E=F.page,O=F.rowNum,I=(parseInt(E,10)-1)*parseInt(O,10)+1+M,"<td role='gridcell' class='"+G.getGuiStyles.call(L,"rowNum","jqgrid-rownum")+"' "+U(_,M,I,null,M,!0)+">"+I+"</td>"));break;case"cb":P.push((T=void 0,T="&nbsp;",A=!(A=void 0),N={rowid:C=h,iRow:k=a,iCol:S=l,data:u,checked:D=c},$.isFunction(F.hasMultiselectCheckBox)&&(A=F.hasMultiselectCheckBox.call(R,N)),A&&(T=$.isFunction(F.checkboxHtml)?F.checkboxHtml.call(R,N):"<input type='checkbox' id='jqg_"+F.id+"_"+C+"' class='cbox' name='jqg_"+F.id+"_"+C+"'"+(D?" checked='checked' aria-checked='true'":" aria-checked='false'")+"/>"),"<td role='gridcell' "+U(S,k,"",null,C,!0)+">"+T+"</td>"));break;case"subgrid":P.push(G.addSubGridCell.call(L,l,a+n,h,u));break;default:P.push((m=h,v=u[g],y=f,w=u,"<td role='gridcell' "+U(b=l,a+n,x=R.formatter(m,v,b,y,"add",w),y,m,w)+">"+x+"</td>"))}F.grouping&&(G.groupingPrepare&&!H._locgr&&G.groupingPrepare.call(L,u,a),q=$.isFunction(H.groupCollapse)?H.groupCollapse.call(R,{group:H.groups[H.groups.length-1],rowid:h,data:u}):H.groupCollapse),P[p]=R.constructTr(h,q,d,u,f,c),P.push("</tr>"),F.rowIndexes[h]=V,V++,F.grouping&&(z.push(P),P=[]),P.length>F.maxItemsToJoin&&(P=[P.join("")])}return F.grouping&&G.groupingRender&&(s&&(H._locgr=!0),P=[G.groupingRender.call(L,z,W)],jgrid.clearArray(z)),P},fillSelectOptions:function(e,t,i,r,n,o){var s,a,l,d,c,h,u,f,p=[],g=!1,m=function(e,t){if(0<t)return e};if(t){if("function"==typeof t&&(t=t()),"string"==typeof t)for(a=t.split(r),s=0;s<a.length;s++)2<(l=a[s].split(i)).length&&(l[1]=$.map(l,m).join(i)),p.push({value:l[0],innerHtml:l[1],selectValue:$.trim(l[0]),selectText:$.trim(l[1]),selected:!1}),""===l[0]&&(g=!0);else if("object"==typeof t)for(u in t)t.hasOwnProperty(u)&&p.push({value:u,innerHtml:t[u],selectValue:$.trim(u),selectText:$.trim(t[u]),selected:!1}),""===u&&(g=!0);if("string"==typeof o){for(f=n?$.map(o.split(","),function(e){return $.trim(e)}):[$.trim(o)],o=$.trim(o),s=0;s<p.length;s++)c=p[s],n||c.selectValue!==o||(h=c.selected=!0),n&&-1<$.inArray(c.selectValue,f)&&(h=c.selected=!0);if(!h)for(s=0;s<p.length;s++)c=p[s],n||c.selectText!==o||(c.selected=!0),n&&-1<$.inArray(c.selectText,f)&&(c.selected=!0)}for(s=0;s<p.length;s++)c=p[s],(d=document.createElement("option")).value=c.value,d.innerHTML=c.innerHtml,c.selected&&(d.selected=!0),e.appendChild(d);return g}},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)}});var clearArray=jgrid.clearArray,jqID=jgrid.jqID,getGridComponentIdSelector=jgrid.getGridComponentIdSelector,getGridComponentId=jgrid.getGridComponentId,getGridComponent=jgrid.getGridComponent,stripPref=jgrid.stripPref,randId=jgrid.randId,getAccessor=jgrid.getAccessor,convertOnSaveLocally=jgrid.convertOnSaveLocally,stripHtml=jgrid.stripHtml,htmlEncode=jgrid.htmlEncode,htmlDecode=jgrid.htmlDecode,mergeCssClasses=jgrid.mergeCssClasses,hasOneFromClasses=jgrid.hasOneFromClasses,feedback=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)};$.fn.jqGrid=function(e){var t,i=$.fn.jqGrid;if("string"==typeof e){if(!(t=i[e]))throw"jqGrid - No such method: "+e;return t.apply(this,$.makeArray(arguments).slice(1))}return this.each(function(){if(!this.grid){var t,r,n=this,o=$(n),s=$.isFunction,a=$.isArray,l=$.extend,d=$.inArray,c=$.trim,h=$.each,u=i.setSelection,f=i.getGridRes,p=s(defaults.fatalError)?defaults.fatalError:alert,g=e.locale||defaults.locale||"en-US",m=null!=locales[g]&&"boolean"==typeof locales[g].isRTL&&locales[g].isRTL?"rtl":"ltr",v=e.iconSet||defaults.iconSet||("bootstrap"===(e.guiStyle||defaults.guiStyle)||"bootstrapPrimary"===(e.guiStyle||defaults.guiStyle)?"glyph":"jQueryUI"),b=e.guiStyle||defaults.guiStyle||"jQueryUI",y=function(e){return i.getIconRes.call(n,e)},w=function(e,t){return o.jqGrid("getGuiStyles",e,t)};null==e&&(e={datatype:"local"}),void 0!==e.datastr&&a(e.datastr)&&(r=e.datastr,e.datastr=[]),void 0!==e.data&&(t=e.data,e.data=[]),null!=jgrid.formatter&&null!=jgrid.formatter.unused||p("CRITICAL ERROR!!!\n\n\nOne uses probably\n\n\t$.extend($.jgrid.defaults, {...});\n\nto set default settings of jqGrid instead of the usage the DEEP version of jQuery.extend (with true as the first parameter):\n\n\t$.extend(true, $.jgrid.defaults, {...});\n\nOne other possible reason:\n\nyou included some OLD version of language file (grid.locale-en.js for example) AFTER jquery.jqGrid.min.js. For example all language files of jqGrid 4.7.0 uses non-deep call of jQuery.extend.\n\n\nSome options of jqGrid could still work, but another one will be broken."),void 0===e.datatype&&void 0!==e.dataType&&(e.datatype=e.dataType,delete e.dataType),void 0===e.mtype&&void 0!==e.type&&(e.mtype=e.type,delete e.type),n.p={iconSet:v};var x=l(!0,{height:"auto",page:1,rowNum:20,maxRowNum:1e4,pagingDuringEditing:"prevent",sortingDuringEditing:"prevent",reloadingDuringEditing:"prevent",autoresizeOnLoad:!1,columnsToReResizing:[],autoResizing:{wrapperClassName:"ui-jqgrid-cell-wrapper",minColWidth:33,maxColWidth:300,adjustGridWidth:!0,compact:!1,fixWidthOnShrink:!1},doubleClickSensitivity:250,minResizingWidth:10,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],additionalProperties:[],arrayReader:[],rowList:[],colNames:[],sortorder:"asc",threeStateSort:!1,sortname:"",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],editingInfo:{},shrinkToFit:!0,xmlReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,singleSelectClickMode:"toggle",selectOnContextMenu:!0,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:function(e,t,i){if("abort"!==t&&"abort"!==i){var r=e.getResponseHeader("Content-Type"),n=e.responseText||"",s=function(e){try{var t,i=$.parseJSON(e),r=[];for(t in i)i.hasOwnProperty(t)&&"StackTrace"!==t&&r.push(t+": "+i[t]);e=r.join("<br />")}catch(e){}return e};"text/html"===r?n=function(e){var t,i,r,n=document.createElement("div");for(r=/<body[^>]*>([\s\S]*)<\/body\s*>/gim.exec(e),n.innerHTML=null!=r&&2===r.length?r[1]:e,i=(t=n.getElementsByTagName("script")).length;i--;)t[i].parentNode.removeChild(t[i]);e=n.innerHTML;try{""===$.trim($(e).text())&&(e="")}catch(e){}return e}(n):"application/json"===r?n=s(n):"text/plain"===r&&(n=s(n)),500!==e.status&&0!==e.status&&(n=(t||i)+(i&&i!==t?": "+i:"")+" "+e.status+" "+e.statusText+(""!==n?"<hr />":"")+n),o.jqGrid("displayErrorMessage",n||t||i)}},loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,forceClientSorting:!1,multiselect:!1,multikey:!1,editurl:"clientArray",search:!1,caption:"",hidegrid:!0,hiddengrid:!1,useUnformattedDataForCellAttr:!0,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",filters:"filters",nd:"nd",id:"id",idold:"idOld",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,iCol:-1,iRow:-1,nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,resetPageAfterSort:!0,multiPageSelection:!1,selectAllMode:"filtered",scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:16,multiselectWidth:16,multiselectPosition:"left",gridview:!0,rownumWidth:25,rownumbers:!1,pagerpos:"center",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!0,autoEncodeOnEdit:!1,remapColumns:[],cmNamesInputOrder:[],ajaxGridOptions:{},direction:m,toppager:!1,headertitles:!1,scrollTimeout:40,maxItemsToJoin:32768,data:[],lastSelectedData:[],quickEmpty:"quickest",_index:{},indexByColumnData:{},dataIndexById:{},iColByName:{},iPropByName:{},reservedColumnNames:["rn","cb","subgrid"],grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,useDefaultValuesOnGrouping:!0,summary:[],displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1,commonIconClass:y("grouping.common"),plusicon:y("grouping.plus"),minusicon:y("grouping.minus")},ignoreCase:!0,cmTemplate:{},idPrefix:"",iconSet:v,guiStyle:b,locale:g,multiSort:!1,showSortOrder:!0,sortOrderPosition:"afterSortIcons",multiSortOrder:"lastClickedFirstSorted",maxSortColumns:3,treeIcons:{commonIconClass:y("treeGrid.common"),plusLtr:y("treeGrid.plusLtr"),plusRtl:y("treeGrid.plusRtl"),minus:y("treeGrid.minus"),leaf:y("treeGrid.leaf")}},defaults,{navOptions:l(!0,{commonIconClass:y("nav.common"),editicon:y("nav.edit"),addicon:y("nav.add"),delicon:y("nav.del"),searchicon:y("nav.search"),refreshicon:y("nav.refresh"),viewicon:y("nav.view"),saveicon:y("nav.save"),cancelicon:y("nav.cancel"),buttonicon:y("nav.newbutton")},jgrid.nav||{}),actionsNavOptions:l(!0,{commonIconClass:y("actions.common"),editicon:y("actions.edit"),delicon:y("actions.del"),saveicon:y("actions.save"),cancelicon:y("actions.cancel")},jgrid.actionsNav||{}),formEditing:l(!0,{commonIconClass:y("form.common"),prevIcon:y("form.prev"),nextIcon:y("form.next"),saveicon:[!0,"left",y("form.save")],closeicon:[!0,"left",y("form.undo")]},jgrid.edit||{}),searching:l(!0,{commonIconClass:y("search.common"),findDialogIcon:y("search.search"),resetDialogIcon:y("search.reset"),queryDialogIcon:y("search.query")},jgrid.search||{}),formViewing:l(!0,{commonIconClass:y("form.common"),prevIcon:y("form.prev"),nextIcon:y("form.next"),closeicon:[!0,"left",y("form.cancel")]},jgrid.view||{}),formDeleting:l(!0,{commonIconClass:y("form.common"),delicon:[!0,"left",y("form.del")],cancelicon:[!0,"left",y("form.cancel")]},jgrid.del||{})},e||{}),C=function(e){return f.call(o,e)},S=function(e){var t=jgrid.getRes(x,e);return void 0!==t?t:f.call(o,"defaults."+e)};if(x.recordpos=x.recordpos||("rtl"===x.direction?"left":"right"),x.autoResizing.widthOfVisiblePartOfSortIcon=void 0!==x.autoResizing.widthOfVisiblePartOfSortIcon?x.autoResizing.widthOfVisiblePartOfSortIcon:"fontAwesome"===x.iconSet?13:12,x.datatype=void 0!==x.datatype?x.datatype:void 0!==t||null==x.url?"local":null!=x.jsonReader&&"object"==typeof x.jsonReader?"json":"xml",x.jsonReader=x.jsonReader||{},x.url=x.url||"",x.cellsubmit=void 0!==x.cellsubmit?x.cellsubmit:void 0===x.cellurl?"clientArray":"remote",x.gridview=void 0!==x.gridview?x.gridview:null==x.afterInsertRow,void 0!==t&&(x.data=t,e.data=t),void 0!==r&&(x.datastr=r,e.datastr=r),"TABLE"===n.tagName.toUpperCase())if(""===n.id&&o.attr("id",randId()),void 0!==document.documentMode&&document.documentMode<=5)p("Grid can not be used in this ('quirks') mode!");else{o.empty().attr("tabindex","0"),(n.p=x).id=n.id,x.idSel="#"+jqID(n.id),x.gBoxId=getGridComponentId.call(n,COMPONENT_NAMES.GRID_BOX_DIV),x.gBox=getGridComponentIdSelector.call(n,COMPONENT_NAMES.GRID_BOX_DIV),x.gViewId=getGridComponentId.call(n,COMPONENT_NAMES.GRID_VIEW_DIV),x.gView=getGridComponentIdSelector.call(n,COMPONENT_NAMES.GRID_VIEW_DIV),x.rsId=getGridComponentId.call(n,COMPONENT_NAMES.COLUMN_RESIZER_DIV),x.rs=getGridComponentIdSelector.call(n,COMPONENT_NAMES.COLUMN_RESIZER_DIV),x.cbId=getGridComponentId.call(n,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX),x.cb=getGridComponentIdSelector.call(n,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX);var k=jgrid.fixScrollOffsetAndhBoxPadding,D=function(e){var t,i={},r=e.length;for(t=0;t<r;t++)i[e[t].name]=t;return i},T=function(){var e,t,i={},r=x.colModel,n=r.length;for(e=0;e<n;e++)((t=r[e]).createColumnIndex||x.createColumnIndex&&!1!==t.createColumnIndex||"select"===t.stype&&(t.searchoptions||{}).generateValue||"select"===t.edittype&&(t.editoptions||{}).generateValue)&&(i[r[e].name]={});return i},A=function(e){var t,i,r={},n=e.length;for(t=0;t<n;t++)r["string"==typeof(i=e[t])?i:i.name]=t;return r},N=function(){var e,t,i={};for(this.p.rowIndexes=i,t=0;t<this.rows.length;t++)e=this.rows[t],$(e).hasClass("jqgrow")&&(i[e.id]=e.rowIndex)},_=function(e){var t=$(this).data("pageX");t?(t=(t=String(t).split(";"))[t.length-1],$(this).data("pageX",t+";"+e.pageX)):$(this).data("pageX",e.pageX)},M=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},E={headers:[],cols:[],footers:[],dragStart:function(e,t,i,r){var n=this,o=$(n.bDiv),s=o.closest(x.gBox).offset(),a=r.offset().left+("rtl"===x.direction?0:n.headers[e].width+(jgrid.cell_width?0:M(x.cellLayout,0))-2);n.resizing={idx:e,startX:a,sOL:a,moved:!1,delta:a-t.pageX},n.curGbox=$(x.rs),n.curGbox.prependTo("body"),n.curGbox.css({display:"block",left:a,top:i[1]+s.top+1,height:i[2]}),n.curGbox.css("height",i[2]-(n.curGbox.outerHeight()-n.curGbox.height())+"px"),n.curGbox.data("idx",e),n.curGbox.data("delta",a-t.pageX),_.call(this.curGbox,t),feedback.call(getGridComponent(COMPONENT_NAMES.BODY_TABLE,o)[0],"resizeStart",t,e),document.onselectstart=function(){return!1},$(document).on("mousemove.jqGrid",function(e){if(E.resizing)return E.dragMove(e),!1}).on("mouseup.jqGrid"+x.id,function(){if(E.resizing)return E.dragEnd(),!1})},dragMove:function(e){var t=this,i=t.resizing;if(i){var r,n,o=e.pageX+i.delta-i.startX,s=t.headers,a=s[i.idx],l="ltr"===x.direction?a.width+o:a.width-o,d=((x.colModel[i.idx]||{}).autoResizing||{}).minColWidth||x.minResizingWidth;i.moved=!0,d<l&&(null==t.curGbox&&(t.curGbox=$(x.rs)),t.curGbox.css({left:i.sOL+o}),!0===x.forceFit?(r=s[i.idx+x.nv],(n="ltr"===x.direction?r.width-o:r.width+o)>x.autoResizing.minColWidth&&(a.newWidth=l,r.newWidth=n)):(t.newWidth="ltr"===x.direction?x.tblwidth+o:x.tblwidth-o,a.newWidth=l))}},resizeColumn:function(e,t,r){var n,o=this,s=o.headers,a=o.footers,l=s[e],d=l.newWidth||l.width,c=getGridComponent(COMPONENT_NAMES.BODY_TABLE,o.bDiv),h=getGridComponent(COMPONENT_NAMES.HEADER_TABLE,o.hDiv).children("thead").children("tr").first()[0].cells;d=parseInt(d,10),x.colModel[e].width=d,l.width=d,h[e].style.width=d+"px",o.cols[e].style.width=d+"px",o.fbRows&&($(o.fbRows[0].cells[e]).css("width",d),$(getGridComponent(COMPONENT_NAMES.FROZEN_HEADER_TABLE,o.fhDiv)[0].rows[0].cells[e]).css("width",d),x.footerrow&&$(getGridComponent(COMPONENT_NAMES.FROZEN_FOOTER_TABLE,o.fsDiv)[0].rows[0].cells[e]).css("width",d)),0<a.length&&(a[e].style.width=d+"px"),!0!==r&&k.call(c[0]),!0===x.forceFit?(d=(n=s[e+x.nv]).newWidth||n.width,n.width=d,h[e+x.nv].style.width=d+"px",o.cols[e+x.nv].style.width=d+"px",0<a.length&&(a[e+x.nv].style.width=d+"px"),x.colModel[e+x.nv].width=d):(x.tblwidth=o.newWidth||x.tblwidth,!0!==r&&(o.hDiv.scrollLeft=o.bDiv.scrollLeft,x.footerrow&&(o.sDiv.scrollLeft=o.bDiv.scrollLeft))),x.autowidth||void 0!==x.widthOrg&&"auto"!==x.widthOrg&&"100%"!==x.widthOrg||!0===r||i.setGridWidth.call(c,o.newWidth+x.scrollOffset,!1),t||feedback.call(c[0],"resizeStop",d,e)},dragEnd:function(){var e=this;e.hDiv.style.cursor="default",e.resizing&&(null!==e.resizing&&!0===e.resizing.moved&&($(e.headers[e.resizing.idx].el).removeData("autoResized"),e.resizeColumn(e.resizing.idx,!1)),$(x.rs).removeData("pageX"),e.resizing=!1,setTimeout(function(){$(x.rs).css("display","none").prependTo(x.gBox)},x.doubleClickSensitivity)),e.curGbox=null,document.onselectstart=function(){return!0},$(document).off("mousemove.jqGrid mouseup.jqGrid"+x.id)},populateVisible:function(){var e=this,t=$(e),i=e.grid,r=i.bDiv,n=$(r);i.timer&&clearTimeout(i.timer),i.timer=null;var o=n.height();if(o){var s,a;if(e.rows.length)try{a=(s=e.rows[1])&&$(s).outerHeight()||i.prevRowHeight}catch(e){a=i.prevRowHeight}if(a){i.prevRowHeight=a;var l=x.rowNum;i.scrollTop=r.scrollTop;var d,c,h,u=i.scrollTop,f=Math.round(t.position().top)-u,p=f+t.height(),g=a*l;if(p<o&&f<=0&&(void 0===x.lastpage||(parseInt((p+u+g-1)/g,10)||0)<=x.lastpage)&&(c=parseInt((o-p+g-1)/g,10)||1,0<=p||c<2||!0===x.scroll?(d=(Math.round((p+u)/g)||0)+1,f=-1):f=1),0<f&&(d=(parseInt(u/g,10)||0)+1,c=(parseInt((u+o)/g,10)||0)+2-d,h=!0),c){if(x.lastpage&&(d>x.lastpage||1===x.lastpage||d===x.page&&d===x.lastpage))return;i.hDiv.loading?i.timer=setTimeout(function(){i.populateVisible.call(e)},x.scrollTimeout):(x.page=d,h&&(i.selectionPreserver.call(e),i.emptyRows.call(e,!1,!1)),i.populate.call(e,c))}}}},scrollGrid:function(){if(x.scroll){var e=this.scrollTop;void 0===E.scrollTop&&(E.scrollTop=0),e!==E.scrollTop&&(E.scrollTop=e,E.timer&&clearTimeout(E.timer),E.timer=setTimeout(function(){E.populateVisible.call(n)},x.scrollTimeout))}return E.hDiv.scrollLeft=this.scrollLeft,x.footerrow&&(E.sDiv.scrollLeft=this.scrollLeft),!1},selectionPreserver:function(){var e=$(this),t=x.selrow,i=x.selarrrow?$.makeArray(x.selarrrow):null,r=this.grid.bDiv,n=r.scrollLeft,o=function(){var s;if(x.selrow=null,!x.multiPageSelection){if(clearArray(x.selarrrow),x.multiselect&&i&&0<i.length)for(s=0;s<i.length;s++)i[s]!==t&&u.call(e,i[s],!1,null);t&&u.call(e,t,!1,null)}r.scrollLeft=n,e.off(".selectionPreserver",o)};e.on("jqGridGridComplete.selectionPreserver",o)}};n.grid=E,feedback.call(n,"beforeInitGrid"),x.iColByName=D(x.colModel),x.iPropByName=A(x.additionalProperties),jgrid.msie=0<jgrid.msiever();var O,I=$("<div class='"+w("gView","ui-jqgrid-view")+"' role='grid' aria-multiselectable='"+!!x.multiselect+"'></div>"),R=jgrid.msie;x.direction=c(x.direction.toLowerCase()),-1===d(x.direction,["ltr","rtl"])&&(x.direction="ltr"),O=x.direction,$(I).insertBefore(n),o.removeClass("scroll").appendTo(I);var F=$("<div class='"+w("gBox","ui-jqgrid")+"'></div>");$(F).attr({id:x.gBoxId,dir:O}).insertBefore(I),$(I).attr("id",x.gViewId).appendTo(F),$("<div class='"+w("overlay","jqgrid-overlay")+"' id='lui_"+x.id+"'></div>").insertBefore(I),$("<div class='"+w("loading","loading")+"' id='load_"+x.id+"'>"+S("loadtext")+"</div>").insertBefore(I),o.attr({role:"presentation","aria-labelledby":"gbox_"+n.id});var L,j=function(e,t,i,r,o,a){var l,d,c,h,u,f=x.colModel[e],p=f.autoResizable?"<span class='"+x.autoResizing.wrapperClassName+"'>":"",g=f.autoResizable?i.substring(p.length,i.length-"</span>".length):i,m=x.useUnformattedDataForCellAttr&&null!=a?a[f.name]:f.autoResizable?g:i,v=f.classes,b=f.align?"text-align:"+f.align+";":"",y=function(e){return"string"==typeof e?e.replace(/'/g,"&#39;"):e},w=" aria-describedby='"+x.id+"_"+f.name+"'";if(!0===f.hidden&&(b+="display:none;"),0===t)b+="width: "+E.headers[e].width+"px;";else if((s(f.cellattr)||"string"==typeof f.cellattr&&null!=jgrid.cellattr&&s(jgrid.cellattr[f.cellattr]))&&"string"==typeof(d=(s(f.cellattr)?f.cellattr:jgrid.cellattr[f.cellattr]).call(n,o,m,r,f,a,g)))for(d=d.replace(/\n/g,"&#xA;");;){if(null===(c=/^\s*(\w+[\w|\-]*)\s*=\s*([\"|\'])(.*?)\2(.*)/.exec(d))||c.length<5)return!u&&f.title&&(u=m),w+" style='"+y(b)+"'"+(v?" class='"+y(v)+"'":"")+(u?" title='"+y(u)+"'":"");switch(h=c[3],d=c[4],c[1].toLowerCase()){case"class":v?v+=" "+h:v=h;break;case"title":u=h;break;case"style":b+=h;break;default:w+=" "+c[1]+"="+c[2]+h+c[2]}}return l=""!==b?"style='"+b+"'":"",(l+=(void 0!==v?" class='"+v+"'":"")+(f.title&&m?" title='"+stripHtml(i).replace(/'/g,"&apos;")+"'":""))+w},P=function(e){return null==e||""===e?"&#160;":x.autoencode?htmlEncode(e):String(e)},z=function(e){var t=x.treeReader,i=t.loaded,r=t.leaf_field,n=t.expanded_field,o=function(e){return!0===e||"true"===e||"1"===e};if("nested"===x.treeGridModel&&!e[r]){var s=parseInt(e[t.left_field],10),a=parseInt(e[t.right_field],10);e[r]=a===s+1}void 0!==e[i]&&(e[i]=o(e[i])),e[r]=o(e[r]),e[n]=o(e[n])},B=function(e,t){var i,r;for(i in x.indexByColumnData)x.indexByColumnData.hasOwnProperty(i)&&(r=e[i],e.hasOwnProperty(i)&&void 0!==r&&""!==r&&(x.ignoreCase&&(r=String(r).toLowerCase()),void 0===x.indexByColumnData[i][r]&&(x.indexByColumnData[i][r]={}),x.indexByColumnData[i][r][t]=e[i],void 0===x.dataIndexById[t]&&(x.dataIndexById[t]={}),void 0===x.dataIndexById[t][i]&&(x.dataIndexById[t][i]={}),x.dataIndexById[t][i][r]=x.indexByColumnData[i][r]))},H=function(){var e,t,i,r,o,d,c,h,u,f,p,g,m=x.data,v=m.length,b=x.localReader,y=x.additionalProperties,w=b.cell,C=x.arrayReaderInfos;if("local"===x.datatype&&!0===b.repeatitems)for(r=!1===x.keyName?s(b.id)?b.id.call(n,m):b.id:x.keyName,isNaN(r)?s(r)||null!=x.arrayReaderInfos[r]&&(o=x.arrayReaderInfos[r].order):o=Number(r),e=0;e<v;e++){for(u in t=m[e],i=w&&getAccessor(t,w)||t,f=a(i),c={},C)C.hasOwnProperty(u)&&(g=C[u],d=getAccessor(i,f?g.order:g.name),1===g.type&&null!=(p=y[g.index])&&s(p.convert)&&(d=p.convert(d,i)),void 0!==d&&(c[u]=d));void 0!==c[r]?h=void 0!==c[r]?c[r]:randId():(void 0===(h=getAccessor(t,a(t)?o:r))&&(h=getAccessor(i,a(i)?o:r)),void 0===h&&(h=randId())),h=String(h),c[b.id]=h,x.treeGrid&&z(c),l(m[e],c)}else if(x.treeGrid)for(e=0;e<v;e++)z(m[e])},q=function(){var e,t,i,r,n=x.data.length;for(e=!1===x.keyName||x.loadonce&&x.dataTypeOrg?x.localReader.id:x.keyName,x._index={},x.dataIndexById={},x.indexByColumnData=T(),t=0;t<n;t++)r=x.data[t],void 0===(i=getAccessor(r,e))&&(i=String(randId()),void 0===r[e]&&(r[e]=i)),x._index[i]=t,B.call(this,r,i)},W=function(e,t){var i,r,o,a=x.colModel,l=a.length,d=function(e){return null==e||""===e?"&#160;":htmlEncode(e)},c=function(e){return null==e||""===e?"&#160;":String(e)};for(i=0;i<l;i++)(r=a[i]).cellBuilder=null,e||(o={colModel:r,gid:x.id,pos:i},void 0===r.formatter?r.cellBuilder=x.autoencode?d:c:"string"==typeof r.formatter&&null!=$.fn.fmatter&&s($.fn.fmatter.getCellBuilder)?r.cellBuilder=$.fn.fmatter.getCellBuilder.call(n,r.formatter,o,t||"add"):s(r.getCellBuilder)&&(r.cellBuilder=r.getCellBuilder.call(n,o,t||"add")))},G=function(e,t,r,n){var o=this,l=$(o),d=new Date,c=x.datatype,h="local"!==c&&x.loadonce||"xmlstring"===c||"jsonstring"===c,u=("xmlstring"===c||"xml"===c)&&$.isXMLDoc(e),f="_id_",p=x.localReader,g=getAccessor;if(e&&("xml"!==c||u)){switch(-1!==x.treeANode||x.scroll?t=1<t?t:1:(E.emptyRows.call(o,!1,!0),t=1),h&&(clearArray(x.data),clearArray(x.lastSelectedData),x._index={},x.grouping&&null!=x.groupingView&&(x.groupingView.groups=[],x.groupingView._locgr=!1),x.localReader.id=f),x.reccount=0,c){case"xml":case"xmlstring":p=x.xmlReader,g=jgrid.getXmlData;break;case"json":case"jsonp":case"jsonstring":p=x.jsonReader}var m,v,b,y,w,C,S,k,D,T,A,_,O,I={},R=x.colModel,F=R.length,L=x.arrayReaderInfos,j={},P=function(e){return function(t){var i=null!=t&&s(t.getAttribute)?t.getAttribute(e):null;return null!==i?i:void 0}},H=function(e){return function(){var t,i=j[e];if(null!=i)return 0<(t=i.childNodes).length?t[0].nodeValue:void 0}};x.page=M(g(e,p.page),x.page),x.lastpage=M(g(e,p.total),1),x.records=M(g(e,p.records)),s(p.userdata)?x.userData=p.userdata.call(o,e)||{}:u?g(e,p.userdata,!0).each(function(){x.userData[this.getAttribute("name")]=$(this).text()}):x.userData=g(e,p.userdata)||{},W();var q,G,V,U,Y={},X=x.additionalProperties,Z=function(e,t){u&&"string"==typeof t&&(/^\w+$/.test(t)?Y[e]=H(t):/^\[\w+\]$/.test(t)&&(Y[e]=P(t.substring(1,t.length-1))))},K=function(e){var t=e.name,i=u?e.xmlmap||t:("local"===c&&!x.dataTypeOrg||"jsonstring"===c||"json"===c||"jsonp"===c)&&e.jsonmap||t;!1!==x.keyName&&!0===e.key&&(x.keyName=t),("string"==typeof i||s(i))&&(Y[t]=i),s(i)||Z(t,i)};for(m=0;m<F;m++)K(R[m]);for(F=X.length,m=0;m<F;m++)"object"==typeof(V=X[m])&&null!=V?K(V):Z(V,V);if(w=!1===x.keyName?s(p.id)?p.id.call(o,e):p.id:x.keyName,isNaN(w)?s(w)||(L[w]&&(C=L[w].order),u&&!1===x.keyName&&("string"==typeof w&&/^\[\w+\]$/.test(w)?w=P(w.substring(1,w.length-1)):"string"==typeof w&&/^\w+$/.test(w)&&(w=H(w)))):C=Number(w),y=g(e,p.root,!0),p.row)if(1===y.length&&"string"==typeof p.row&&/^\w+$/.test(p.row)){for(U=[],A=(T=y[0].childNodes).length,D=0;D<A;D++)1===(_=T[D]).nodeType&&_.nodeName===p.row&&U.push(_);y=U}else y=g(y,p.row,!0);null==y&&a(e)&&(y=e),y||(y=[]),0<(b=y.length)&&x.page<=0&&(x.page=1);var J=parseInt(x.rowNum,10);n&&(J*=n+1);var Q,ee,te=[],ie=[];for(U=[],m=0;m<b;m++){if(ee=y[m],v=p.repeatitems&&p.cell&&g(ee,p.cell,!0)||ee,q=p.repeatitems&&(u||a(v)),I={},j={},u&&!q&&null!=v)for(A=(T=v.childNodes).length,D=0;D<A;D++)1===(_=T[D]).nodeType&&(j[_.nodeName]=_);for(k in L)L.hasOwnProperty(k)&&(O=L[k],q?(G=v[O.order],u&&null!=G&&(G=G.textContent||G.text)):G=null!=Y[k]&&"string"!=typeof Y[k]?Y[k].call(o,v,{cmName:k,iItem:m}):g(v,"string"==typeof Y[k]?Y[k]:O.name),1===O.type&&null!=(V=X[O.index])&&s(V.convert)&&(G=V.convert(G,v)),void 0!==G&&(I[k]=G));if(void 0!==I[w]?Q=void 0!==I[w]?I[w]:randId():(void 0===(Q=g(ee,a(ee)?C:w))&&(Q=g(v,a(v)?C:w)),void 0===Q&&(Q=randId())),void 0===I[w]&&(I[w]=Q),Q=String(Q),S=x.idPrefix+Q,x.treeGrid&&z(I),m<J)ie.push(S),te.push(v),U.push(I);else if(!h)break;(h||!0===x.treeGrid)&&(I[f]=Q,x.data.push(I),B(I,Q),x._index[I[f]]=x.data.length-1)}if(h&&!0!==x.treeGrid){if(x.forceClientSorting)return;x.lastSelectedData=x.data.slice()}var re=jgrid.parseDataToHtml.call(o,b,ie,U,te,t,n,h);W(!0);var ne=-1<x.treeANode?x.treeANode:0,oe=$(o.tBodies[0]);if(!0===x.treeGrid&&0<ne?$(o.rows[ne]).after(re.join("")):x.scroll?oe.append(re.join("")):(null==o.firstElementChild||void 0!==document.documentMode&&document.documentMode<=9?oe.html(oe.html()+re.join("")):o.firstElementChild.innerHTML+=re.join(""),o.grid.cols=o.rows[0].cells),x.grouping){N.call(o);var se,ae=function(e){var t=$(this).closest("tr.jqgroup").attr("id");return l.jqGrid("groupingToggle",t,this,e),!1};for(m=0;m<o.rows.length;m++)(se=$(o.rows[m])).hasClass("jqgroup")&&se.children("td").children("span.tree-wrap").click(ae)}if(!0===x.subGrid)try{i.addSubGrid.call(l,x.iColByName.subgrid)}catch(e){}if(!1===x.gridview||s(x.afterInsertRow))for(m=0;m<Math.min(b,J);m++)feedback.call(o,"afterInsertRow",ie[m],U[m],te[m]);if(x.totaltime=new Date-d,0<m&&0===x.records&&(x.records=b),clearArray(re),!0===x.treeGrid)try{i.setTreeNode.call(l,ne+1,m+ne+1)}catch(e){}x.reccount=Math.min(b,J),x.treeANode=-1,x.userDataOnFooter&&i.footerData.call(l,"set",x.userData,!0),h&&(x.records=b,x.lastpage=Math.ceil(b/J)),r||o.updatepager(!1,!0),function(){var e,t,i=$.fn.fmatter;for(e=0;e<x.colModel.length;e++)"string"==typeof(t=x.colModel[e].formatter)&&null!=i&&s(i[t])&&s(i[t].pageFinalization)&&i[t].pageFinalization.call(this,e)}.call(o)}},V=function(e){var t,i=e.outerWidth();return i<=0&&(t=$(this).closest(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",$(document.body).append("<div id='testpg' class='"+w("gBox","ui-jqgrid")+"' style='font-size:"+t+";visibility:hidden;margin:0;padding:0;' ></div>"),$(e).clone().appendTo("#testpg"),i=$("#testpg>.ui-pg-table").width(),$("#testpg").remove()),0<i&&e.parent().width(i),i},U=function(){this.grid.hDiv.loading=!0,x.hiddengrid||i.progressBar.call($(this),{method:"show",loadtype:x.loadui,htmlcontent:S("loadtext")})},Y=function(){this.grid.hDiv.loading=!1,i.progressBar.call($(this),{method:"hide",loadtype:x.loadui})},X=function(e){var t=this,r=$(t),o=t.grid;if(!o.hDiv.loading){var d,c,u=x.scroll&&!1===e,f={},g=x.prmNames;x.page<=0&&(x.page=Math.min(1,x.lastpage)),null!==g.search&&(f[g.search]=x.search),null!==g.nd&&(f[g.nd]=(new Date).getTime()),(isNaN(parseInt(x.rowNum,10))||parseInt(x.rowNum,10)<=0)&&(x.rowNum=x.maxRowNum),null!==g.rows&&(f[g.rows]=x.rowNum),null!==g.page&&(f[g.page]=x.page),null!==g.sort&&(f[g.sort]=x.sortname),null!==g.order&&(f[g.order]=x.sortorder),null!==x.rowTotal&&null!==g.totalrows&&(f[g.totalrows]=x.rowTotal);var m=s(x.loadComplete),v=m?x.loadComplete:null,b=0;if(1<(e=e||1)?null!==g.npage?(f[g.npage]=e,b=e-1,e=1):v=function(i){x.page++,o.hDiv.loading=!1,m&&x.loadComplete.call(t,i),X.call(t,e-1)}:null!==g.npage&&delete x.postData[g.npage],x.grouping&&i.groupingSetup){i.groupingSetup.call(r);var y,w,S,D,T=x.groupingView,A="";for(y=0;y<T.groupField.length;y++){for(w=T.groupField[y],S=0;S<x.colModel.length;S++)(D=x.colModel[S]).name===w&&D.index&&(w=D.index);A+=w+" "+T.groupOrder[y]+", "}f[g.sort]=A+f[g.sort]}l(x.postData,f);var N=x.scroll?t.rows.length-1:1,_=function(){k.call(t),x.autowidth||void 0!==x.widthOrg&&"auto"!==x.widthOrg&&"100%"!==x.widthOrg||i.setGridWidth.call(r,x.tblwidth+x.scrollOffset,!1)},M=function(){var e;if(x.autoresizeOnLoad)i.autoResizeAllColumns.call(r),clearArray(x.columnsToReResizing),x.autowidth&&i.setGridWidth.call(r,r.closest(".ui-jqgrid").parent().width(),!0);else{for(e=0;e<x.columnsToReResizing.length;e++)i.autoResizeColumn.call(r,x.columnsToReResizing[e]);clearArray(x.columnsToReResizing)}},O=function(){feedback.call(t,"loadComplete",c),M(),r.triggerHandler("jqGridAfterLoadComplete",[c]),Y.call(t),x.datatype="local",x.datastr=null,_()},I=function(i){r.triggerHandler("jqGridLoadComplete",[i]),v&&v.call(t,i),M(),r.triggerHandler("jqGridAfterLoadComplete",[i]),u&&o.populateVisible.call(t),1===e&&Y.call(t),_()},R=function(){var r=function(){var e=$(this),t=x.multiSort?[]:"",r={},n=!1,o={},l=[],d=[],c=C("formatter.date.srcformat"),u=C("formatter.date.newformat");if(!a(x.data))return{};x.multiSort&&Q(t,r);var f,g,m=!!x.grouping&&x.groupingView,v=function(e,i,r){var s,a,h=e.index||e.name,p=e.sorttype||"text";if(o[e.name]={reader:x.dataTypeOrg?e.name:e.jsonmap||e.name,iCol:i,stype:p,srcfmt:"",newfmt:"",sfunc:e.sortfunc||null,isAddProp:!0===r},"date"!==p&&"datetime"!==p||(e.formatter&&"string"==typeof e.formatter&&"date"===e.formatter?(s=e.formatoptions&&e.formatoptions.srcformat?e.formatoptions.srcformat:c,a=e.formatoptions&&e.formatoptions.newformat?e.formatoptions.newformat:u):s=a=e.datefmt||"Y-m-d",o[e.name].srcfmt=s,o[e.name].newfmt=a),x.grouping)for(g=0,f=m.groupField.length;g<f;g++)e.name===m.groupField[g]&&(l[g]=o[h],d[g]=h);x.multiSort||n||e.index!==x.sortname&&e.name!==x.sortname||(t=e.name,n=!0)};if(h(x.colModel,function(e){v(this,e)}),h(x.additionalProperties,function(e){v("string"==typeof this?{name:this}:this,e,!0)}),x.treeGrid)return i.SortTree.call(e,t,x.sortorder,null!=o[t]&&o[t].stype?o[t].stype:"text",null!=o[t]&&o[t].srcfmt?o[t].srcfmt:""),!1;var b={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().inSet:e.andNot().inSet},in:function(e){return e.inSet},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},y=jgrid.from.call(this,x.data);if(x.ignoreCase&&(y=y.ignoreCase()),!0===x.search){var w=x.postData[(x.searching||{}).sFilter||x.prmNames.filters];if(w)"string"==typeof w&&(w=$.parseJSON(w)),function e(t){var i,r,n,a,l,d,c,h=0;if(null!=t.groups){for((r=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase())&&y.orBegin(),i=0;i<t.groups.length;i++){0<h&&r&&y.or();try{e(t.groups[i])}catch(e){p(e)}h++}r&&y.orEnd()}if(null!=t.rules)try{for((n=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase())&&y.orBegin(),i=0;i<t.rules.length;i++)l=t.rules[i],a=t.groupOp.toString().toUpperCase(),b[l.op]&&l.field?(0<h&&a&&"OR"===a&&(y=y.or()),null!=(c=o[l.field])&&(d=c.reader,y=b[l.op](y,a)(s(d)?'jQuery.jgrid.getAccessor(this,jQuery("'+x.idSel+'")[0].p.colModel['+c.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+d+"')",l.data,o[l.field]))):null!=x.customSortOperations&&null!=x.customSortOperations[l.op]&&s(x.customSortOperations[l.op].filter)&&(y=y.custom(l.op,l.field,l.data)),h++;n&&y.orEnd()}catch(e){p(e)}}(w);else try{var S=o[x.postData.searchField];y=b[x.postData.searchOper](y)(s(S.reader)?'jQuery.jgrid.getAccessor(this,jQuery("'+x.idSel+'")[0].p.colModel['+S.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+S.reader+"')",x.postData.searchString,o[x.postData.searchField])}catch(e){}}if(x.grouping)for(g=0;g<f&&g<d.length&&g<l.length;g++)y.orderBy(d[g],m.groupOrder[g],l[g].stype,l[g].srcfmt);x.multiSort?h(t,function(){y.orderBy(this,r[this],o[this].stype,o[this].srcfmt,o[this].sfunc)}):t&&x.sortorder&&n&&y.orderBy(x.sortname,"DESC"===x.sortorder.toUpperCase()?"d":"a",o[t].stype,o[t].srcfmt,o[t].sfunc),x.lastSelectedData=y.select();var k=parseInt(x.rowNum,10),D=x.lastSelectedData.length,T=parseInt(x.page,10),A=Math.ceil(D/k),N={};if(x.grouping&&x.groupingView._locgr){var _,M,E;if(x.groupingView.groups=[],x.footerrow&&x.userDataOnFooter){for(M in x.userData)x.userData.hasOwnProperty(M)&&(x.userData[M]=0);E=!0}for(_=0;_<D;_++){if(E)for(M in x.userData)x.userData.hasOwnProperty(M)&&(x.userData[M]+=parseFloat(x.lastSelectedData[_][M]||0));i.groupingPrepare.call(e,x.lastSelectedData[_],_,k)}}o=y=null;var O=x.localReader;return N[O.total]=A,N[O.page]=T,N[O.records]=D,N[O.root]=x.lastSelectedData.slice((T-1)*k,T*k),N[O.userdata]=x.userData,N}.call(t);G.call(t,r,N,1<e,b),I(r)};if(!feedback.call(t,"beforeRequest"))return;if(s(x.datatype))return void x.datatype.call(t,x.postData,"load_"+x.id,N,e,b);switch(d=x.datatype.toLowerCase(),$(E.eDiv).hide(),d){case"json":case"jsonp":case"xml":case"script":$.ajax(l({url:x.url,type:x.mtype,dataType:d,data:jgrid.serializeFeedback.call(n,x.serializeGridData,"jqGridSerializeGridData",x.postData),success:function(i,r,n){x.jqXhr=null,$(E.eDiv).hide(),s(x.beforeProcessing)&&!1===x.beforeProcessing.call(t,i,r,n)?Y.call(t):(G.call(t,i,N,1<e,b),I(i),(x.loadonce||x.treeGrid)&&(x.dataTypeOrg=x.datatype,x.datatype="local",x.forceClientSorting&&R()))},error:function(i,r,n){x.jqXhr=null,s(x.loadError)&&x.loadError.call(t,i,r,n),1===e&&Y.call(t)},beforeSend:function(e,i){var r=!0;if(s(x.loadBeforeSend)&&(r=x.loadBeforeSend.call(t,e,i)),void 0===r&&(r=!0),!1===r)return!1;x.jqXhr=e,U.call(t)}},jgrid.ajaxOptions,x.ajaxGridOptions));break;case"xmlstring":U.call(t),c="string"==typeof x.datastr?$.parseXML(x.datastr):x.datastr,G.call(t,c),O(),x.forceClientSorting&&R();break;case"jsonstring":U.call(t),c=x.datastr&&"string"==typeof x.datastr?$.parseJSON(x.datastr):x.datastr,G.call(t,c),O(),x.forceClientSorting&&R();break;case"local":case"clientside":U.call(t),x.datatype="local",R()}}},Z=function(e){var t=this.grid;$(x.cb,t.hDiv).prop("checked",e),x.frozenColumns&&$(x.cb,t.fhDiv).prop("checked",e)},K=function(e){var t,i;for(t=0;t<x.savedRow.length;t++)i=x.savedRow[t],"save"===e?i.hasOwnProperty("ic")?o.jqGrid("saveCell",i.id,i.ic):o.jqGrid("saveRow",i.id):i.hasOwnProperty("ic")?o.jqGrid("restoreCell",i.id,i.ic):o.jqGrid("restoreRow",i.id)},J=function(e,t){var i,r,o,s,a,l,d,c,h,u=w("states.hover"),f=w("states.disabled"),p="<td class='ui-pg-button "+f+"'><span class='ui-separator'></span></td>",g="",m="<table style='table-layout:auto;white-space: pre;"+("left"===x.pagerpos?"margin-right:auto;":"right"===x.pagerpos?"margin-left:auto;":"margin-left:auto;margin-right:auto;")+"' class='ui-pg-table'><tbody><tr>",v="",b=function(e,t,i){return!(0<x.savedRow.length&&"prevent"===x.pagingDuringEditing||!feedback.call(n,"onPaging",e,{newPage:t,currentPage:M(x.page,1),lastPage:M(x.lastpage,1),currentRowNum:M(x.rowNum,10),newRowNum:i})||(x.selrow=null,x.multiselect&&(x.multiPageSelection||clearArray(x.selarrrow),Z.call(n,!1)),K(x.pagingDuringEditing),0))};if(t+="_"+e,i="pg_"+e,r=e+"_left",o=e+"_center",s=e+"_right",$("#"+jqID(e)).append("<div id='"+i+"' class='ui-pager-control' role='group'><table class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;'><tbody><tr><td id='"+r+"' class='ui-jqgrid-pg-left'"+(void 0!==x.pagerLeftWidth?" style='width:"+x.pagerLeftWidth+"px;'":"")+"></td><td id='"+o+"' class='ui-jqgrid-pg-center'"+(void 0!==x.pagerCenterWidth?" style='width:"+x.pagerCenterWidth+"px;'":"")+"></td><td id='"+s+"' class='ui-jqgrid-pg-right'"+(void 0!==x.pagerRightWidth?" style='width:"+x.pagerRightWidth+"px;'":"")+"></td></tr></tbody></table></div>").attr("dir","ltr"),i="#"+jqID(i),0<x.rowList.length){v="<td dir='"+O+"'>";var C,k=S("pgrecs");for(v+="<select class='"+w("pager.pagerSelect","ui-pg-selbox")+"' "+(k?"title='"+k+"'":"")+">",l=0;l<x.rowList.length;l++)1===(C=x.rowList[l].toString().split(":")).length&&(C[1]=C[0]),v+="<option value='"+C[0]+"'"+(M(x.rowNum,0)===M(C[0],0)?" selected='selected'":"")+">"+C[1]+"</option>";v+="</select></td>"}if("rtl"===O&&(m+=v),!0===x.pginput&&(g="<td dir='"+O+"'>"+jgrid.format(S("pgtext")||"","<input aria-label='Page No.' class='"+w("pager.pagerInput","ui-pg-input")+"' type='text' size='2' maxlength='7' value='0'/>","<span id='sp_1_"+e+"'>0</span>")+"</td>"),e="#"+jqID(e),!0===x.pgbuttons){var D=["first","prev","next","last"],T=D.slice(),A=w("pager.pagerButton","ui-pg-button");for("rtl"===O&&D.reverse(),l=0;l<D.length;l++)m+=(d=D[l],c=T[l],h=S("pg"+d),"<td role='button' tabindex='0' id='"+d+t+"' class='"+A+"' "+(h?"title='"+h+"'":"")+"><span class='"+y("pager."+c)+"'></span></td>"),1===l&&(m+=""!==g?p+g+p:"")}else""!==g&&(m+=g);"ltr"===O&&(m+=v),m+="</tr></tbody></table>",!0===x.viewrecords&&$("td"+e+"_"+x.recordpos,i).append("<span dir='"+O+"' style='text-align:"+x.recordpos+"' class='ui-paging-info'></span>");var N=$("td"+e+"_"+x.pagerpos,i);N.append(m),a=V.call(this,N.children(".ui-pg-table")),x._nvtd=[],x._nvtd[0]=a?Math.floor((x.width-a)/2):Math.floor(x.width/3),x._nvtd[1]=0,m=null,$(".ui-pg-selbox",i).on("change",function(){var e=M(this.value,10),t=Math.round(x.rowNum*(x.page-1)/e-.5)+1;return b("records",t,e)&&(x.page=t,x.rowNum=e,x.pager&&$(".ui-pg-selbox",x.pager).val(e),x.toppager&&$(".ui-pg-selbox",x.toppager).val(e),X.call(n)),!1}),!0===x.pgbuttons&&($(".ui-pg-button",i).hover(function(){hasOneFromClasses(this,f)?this.style.cursor="default":($(this).addClass(u),this.style.cursor="pointer")},function(){hasOneFromClasses(this,f)||($(this).removeClass(u),this.style.cursor="default")}),$("#first"+jqID(t)+", #prev"+jqID(t)+", #next"+jqID(t)+", #last"+jqID(t)).click(function(){if(hasOneFromClasses(this,f))return!1;var e=M(x.page,1),i=e,r=this.id,o=M(x.lastpage,1),s=!1,a=!0,l=!0,d=!0,c=!0;return 0===o||1===o?(e<=1&&(l=a=!1),c=d=!1):1<o&&1<=e?1===e?l=a=!1:e===o&&(c=d=!1):1<o&&0===e&&(c=d=!1,e=o-1),this.id==="first"+t&&a&&(r="first",i=1,s=!0),this.id==="prev"+t&&l&&(r="prev",i=e-1,s=!0),this.id==="next"+t&&d&&(r="next",i=e+1,s=!0),this.id==="last"+t&&c&&(r="last",i=o,s=!0),b(r,i,M(x.rowNum,10))&&(x.page=i,s&&X.call(n)),!1})),!0===x.pginput&&$("input.ui-pg-input",i).on("keypress.jqGrid",function(e){var t=e.charCode||e.keyCode||0,i=M($(this).val(),1);return 13===t?(b("user",i,M(x.rowNum,10))&&($(this).val(i),x.page=0<$(this).val()?$(this).val():x.page,X.call(n)),!1):this}),N.children(".ui-pg-table").on("keydown.jqGrid",function(e){var t;13===e.which&&0<(t=N.find(":focus")).length&&t.trigger("click")})},Q=function(e,t,i){if(h((x.sortname+" "+x.sortorder).split(","),function(){var t=$.trim(this).split(" ");2===t.length&&e.push(t[0])}),null!=i){var r=$.inArray(i.index||i.name,e);""!==i.lso&&r<0?e.push(i.index||i.name):""===i.lso&&0<=r&&e.splice(r,1)}h(x.colModel,function(){var i,r=this.index||this.name;this.lso&&(i=this.lso.split("-"),$.inArray(r,e)<0&&e.push(r),t[r]=i[i.length-1])})},ee=function(e,t,r,o,a,l){var c=this,u=c.grid,f=x.colModel[t],p=w("states.disabled");if(null!=f&&f.sortable&&!(0<x.savedRow.length&&"prevent"===x.sortingDuringEditing)){if(x.lastsort===t&&""!==x.sortname?"asc"===x.sortorder?x.sortorder="desc":"desc"===x.sortorder?x.sortorder="asc":x.sortorder=f.firstsortorder||"asc":x.sortorder=f.firstsortorder||"asc",f.lso?"asc"===f.lso?f.lso+="-desc":"desc"===f.lso?f.lso+="-asc":"asc-desc"!==f.lso&&"desc-asc"!==f.lso||!x.threeStateSort&&!x.multiSort||(f.lso=""):f.lso=f.firstsortorder||"asc",!r&&x.resetPageAfterSort&&(x.page=1),x.multiSort)!function(e,t){var i,r="",o=x.colModel[e],a=w("states.disabled"),l=x.frozenColumns?$(n.grid.headers[e].el).add($(t)):$(n.grid.headers[e].el),c=l.find("span.s-ico"),u=c.children("span.ui-icon-asc"),f=c.children("span.ui-icon-desc"),p=u,g=f,m=[],v={};if(l.find("span.ui-grid-ico-sort").addClass(a),l.attr("aria-selected","false"),o.lso?(c.show(),"desc"===(i=(i=o.lso.split("-"))[i.length-1])&&(p=f,g=u),p.removeClass(a).css("display",""),x.showOneSortIcon&&g.hide(),l.attr("aria-selected","true")):x.viewsortcols[0]||c.hide(),Q(m,v,o),"string"==typeof x.sortname&&""!==x.sortname&&x.sortname.split(",").length<m.length){var b=function(e){h(x.colModel,function(){var t,i="#jqgh_"+jgrid.jqID(x.id+"_"+this.name),r=$(i);if(this.lso&&(this.index||this.name)===e){if("function"==typeof m.indexOf)t=m.indexOf(e);else{for(t=0;t<m.length&&m[t]!==e;t++);t===m.length&&(t=-1)}0<=t&&(m.splice(t,1),this.lso="")}x.frozenColumns&&(r=r.add($(E.fhDiv).find(i))),r.children(".s-ico")[this.lso?"show":"hide"]()})};if("lastClickedFirstSorted"===x.multiSortOrder&&1<m.length)for(m.unshift(m[m.length-1]),m.pop();m.length>x.maxSortColumns;)b(m[m.length-1]);else s(x.multiSortOrder)&&(m=x.multiSortOrder.call(n,{sortNames:m,cm:o,sortDirs:v,removeSorting:b})||m)}h(m,function(){0<r.length&&(r+=", "),r+=this+" "+v[this],x.sortorder=v[this]}),x.sortname=r.substring(0,r.length-x.sortorder.length-1),x.showSortOrder&&h(x.colModel,function(){if(this.sortable){var e=d(this.name,m),t="#jqgh_"+jgrid.jqID(x.id+"_"+this.name),i=$(t);x.frozenColumns&&(i=i.add($(E.fhDiv).find(t))),i.children(".ui-jqgrid-sort-order").html(e<0?"&nbsp;":s(x.formatSortOrder)?x.formatSortOrder.call(n,{cm:this,sortIndex:e}):e+1)}})}(t,a);else{if(o){if(x.lastsort===t&&x.sortorder===o&&!r)return;x.sortorder=o}var g=u.headers,m=u.fhDiv,v=g[x.lastsort]?$(g[x.lastsort].el):$(),b=x.frozenColumns?$(a):$(g[t].el),y=b.find("span.s-ico"),C=y.children(".ui-icon-"+x.sortorder),S=y.children(".ui-icon-"+("asc"===x.sortorder?"desc":"asc"));f=x.colModel[x.lastsort],v.find(".ui-grid-ico-sort").addClass(p),v.attr("aria-selected","false"),x.frozenColumns&&(m.find(".ui-grid-ico-sort").addClass(p),m.find("th").attr("aria-selected","false")),x.viewsortcols[0]||(x.lastsort!==t?(x.frozenColumns&&m.find("span.s-ico").hide(),v.find("span.s-ico").hide(),y.show()):""===x.sortname&&y.show()),x.lastsort!==t&&"true"===v.data("autoResized")&&(null!=f&&null!=f.autoResizing&&f.autoResizing.compact||x.autoResizing.compact)&&x.columnsToReResizing.push(x.lastsort),f=x.colModel[t],y.css("display",""),""!==f.lso?(C.removeClass(p).css("display",""),x.showOneSortIcon&&S.removeClass(p).hide(),b.attr("aria-selected","true")):(b.attr("aria-selected","false"),x.threeStateSort&&(x.sortorder="",x.viewsortcols[0]||y.hide())),x.lastsort!==t&&"true"===b.data("autoResized")&&(null!=f&&null!=f.autoResizing&&f.autoResizing.compact||x.autoResizing.compact)&&x.columnsToReResizing.push(t),x.sortname=f.index||e}if(feedback.call(c,"onSortCol",x.sortname,t,x.sortorder,l||{})){if("local"===x.datatype?x.deselectAfterSort&&!x.multiPageSelection&&i.resetSelection.call($(c)):x.multiPageSelection||(x.selrow=null,x.multiselect&&(Z.call(c,!1),clearArray(x.selarrrow))),K(x.sortingDuringEditing),x.scroll){var k=u.bDiv.scrollLeft;E.emptyRows.call(c,!0,!1),u.hDiv.scrollLeft=k}x.subGrid&&"local"===x.datatype&&$("td.sgexpanded","#"+jqID(x.id)).each(function(){$(this).trigger("click")}),X.call(c),x.lastsort=t,x.sortname!==e&&t&&(x.lastsort=t)}else x.lastsort=t}},te=function(e){return x.iColByName[(e.id||"").substring(x.id.length+1)]};-1===d(x.multikey,["shiftKey","altKey","ctrlKey"])&&(x.multikey=!1),x.keyName=!1,x.sortorder=x.sortorder.toLowerCase(),jgrid.cell_width=jgrid.cellWidth();var ie,re,ne=jgrid.cmTemplate;for(ie=0;ie<x.colModel.length;ie++)L="string"==typeof(re=x.colModel[ie]).template?null==ne||"object"!=typeof ne[re.template]&&!s(ne[re.template])?{}:ne[re.template]:re.template,s(L)&&(L=L.call(n,{cm:re,iCol:ie})),re=l(!0,{},x.cmTemplate,L||{},re),!1===x.keyName&&!0===re.key&&(x.keyName=re.name),x.colModel[ie]=re;for(x.indexByColumnData=T(),ie=0;ie<x.additionalProperties.length;ie++)re=x.additionalProperties[ie],!1===x.keyName&&!0===re.key&&(x.keyName=re.name);if(0===x.colNames.length)for(ie=0;ie<x.colModel.length;ie++)x.colNames[ie]=void 0!==x.colModel[ie].label?x.colModel[ie].label:x.colModel[ie].name;if(x.colNames.length===x.colModel.length){if(!0===x.grouping&&(x.scroll=!1,x.rownumbers=!1,x.treeGrid=!1,x.gridview=!0),x.subGrid&&s(i.setSubGrid))try{i.setSubGrid.call(o)}catch(t){}if(x.multiselect&&("left"===x.multiselectPosition||"right"===x.multiselectPosition)){var oe="left"===x.multiselectPosition?"unshift":"push";x.colNames[oe]("<input id='"+x.cbId+"' class='cbox' type='checkbox' aria-checked='false'/>"),x.colModel[oe]({name:"cb",width:jgrid.cell_width?x.multiselectWidth+x.cellLayout:x.multiselectWidth,labelClasses:"jqgh_cbox",classes:"td_cbox",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})}if(x.rownumbers&&(x.colNames.unshift(""),x.colModel.unshift({name:"rn",width:jgrid.cell_width?x.rownumWidth+x.cellLayout:x.rownumWidth,labelClasses:"jqgh_rn",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),x.iColByName=D(x.colModel),x.xmlReader=l(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},x.xmlReader),x.jsonReader=l(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},x.jsonReader),x.localReader=l(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},x.localReader),x.scroll&&(x.pgbuttons=!1,x.pginput=!1,x.rowList=[]),!0===x.treeGrid){try{i.setTreeGrid.call(o)}catch(t){}"local"!==x.datatype&&(x.localReader={id:"_id_"}),x.iPropByName=A(x.additionalProperties)}if(function(){var e,t,i,r=x.remapColumns,n=x.colModel,o=n.length,s=[];for(e=0;e<o;e++)i=n[e].name,d(i,x.reservedColumnNames)<0&&s.push(i);if(null!=r)for(t=s.slice(),e=0;e<r.length;e++)s[e]=t[r[e]];x.cmNamesInputOrder=s}(),function(){var e,t,i,r,n,o=x.colModel,s=x.cmNamesInputOrder,a=x.additionalProperties,l=s.length;for(x.arrayReaderInfos={},t=x.arrayReaderInfos,n=0;n<l;n++)i=s[n],d(i,x.reservedColumnNames)<0&&!t.hasOwnProperty(i)&&(void 0!==(r=x.iColByName[i])?t[i]={name:i,index:r,order:n,type:0}:void 0!==(r=x.iPropByName[i])?t[i]={name:i,index:r,order:n,type:1}:i===(x.prmNames.rowidName||"rowid")&&(t[i]={index:r,type:2}));for(l=o.length,e=0;e<l;e++)i=o[e].name,d(i,x.reservedColumnNames)<0&&!t.hasOwnProperty(i)&&(t[i]={name:i,index:e,order:n,type:0},n++);for(l=a.length,e=0;e<l;e++)null==(i=a[e])||t.hasOwnProperty(i)||("object"==typeof i&&"string"===$.type(i.name)&&(i=i.name),t[i]={name:i,index:e,order:n,type:1},n++)}(),x.data.length&&(H.call(n),q.call(n)),!0===x.shrinkToFit&&!0===x.forceFit)for(ie=x.colModel.length-1;0<=ie;ie--)if(!0!==x.colModel[ie].hidden){x.colModel[ie].resizable=!1;break}var se,ae,le,de,ce,he,ue,fe,pe,ge=[],me=[],ve=[],be="<thead><tr class='ui-jqgrid-labels' role='row'>",ye="<tbody><tr style='display:none;'>",we=w("states.hover"),xe=w("states.hoverTh")||we,Ce=w("states.disabled");if(x.multiSort)for(ge=x.sortname.split(","),pe=0;pe<ge.length;pe++)ve=c(ge[pe]).split(" "),ge[pe]=c(ve[0]),me[pe]=ve[1]?c(ve[1]):x.sortorder||"asc";for(ie=0;ie<x.colNames.length;ie++){switch(re=x.colModel[ie],ce=x.headertitles||re.headerTitle?" title='"+stripHtml("string"==typeof re.headerTitle?re.headerTitle:x.colNames[ie])+"'":"",be+="<th id='"+x.id+"_"+re.name+"' class='"+w("colHeaders","ui-th-column ui-th-"+O+" "+(re.labelClasses||""))+"'"+ce+">",se=re.index||re.name,re.labelAlign){case"left":he="text-align:left;";break;case"right":he="text-align:right;";break;case"likeData":he=void 0===re.align||"left"===re.align?"text-align:left;":"right"===re.align?"text-align:right;":"";break;default:he=""}be+="<div id='jqgh_"+x.id+"_"+re.name+"'"+(R?" class='ui-th-div-ie'":"")+(""===he?"":" style='"+he+"'")+" role='columnheader'>",fe=re.autoResizable&&"actions"!==re.formatter||re.rotated?"<span class='"+x.autoResizing.wrapperClassName+"'>"+x.colNames[ie]+"</span>":x.colNames[ie],x.sortIconsBeforeText?(be+=(x.builderSortIcons||jgrid.builderSortIcons).call(n,ie),be+=fe):(be+=fe,be+=(x.builderSortIcons||jgrid.builderSortIcons).call(n,ie)),be+="</div></th>",ye+="<td></td>",re.width=re.width?parseInt(re.width,10):150,"boolean"!=typeof re.title&&(re.title=!0),re.lso="",se===x.sortname&&(x.lastsort=ie,re.lso=x.sortorder||re.firstsortorder||"asc"),x.multiSort&&-1!==(ve=d(se,ge))&&(re.lso=me[ve])}be+="</tr></thead>",ye+="</tr></tbody>";var Se,ke,De,Te,Ae,Ne,_e,Me,Ee,$e,Oe,Ie=$("<table class='"+w("hTable","ui-jqgrid-htable")+"' style='width:1px' role='presentation' aria-labelledby='gbox_"+x.id+"'>"+be+ye+"</table>");if($(Ie[0].tHead).children("tr").children("th").hover(function(){$(this).addClass(xe)},function(){$(this).removeClass(xe)}),x.multiselect&&$(x.cb,Ie).on("click",function(){var e,t,i,r=w("states.select"),o=[],s=x.iColByName.cb,a=function(e,t){$(e)[t?"addClass":"removeClass"](r).attr(t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"}),void 0!==s&&$(e.cells[s]).children("input.cbox").prop("checked",t)},l=E.fbRows,d=Ce+" ui-subgrid jqgroup jqfoot jqgfirstrow jqgskipselect",c=x._index;if(clearArray(x.selarrrow),this.checked){if(e=!0,x.selrow=1<n.rows.length?n.rows[n.rows.length-1].id:null,x.multiPageSelection&&("local"===x.datatype||x.treeGrid))if("filtered"===x.selectAllMode&&null!=x.lastSelectedData&&0<x.lastSelectedData.length)for(x.selarrrow=[],i=0;i<x.lastSelectedData.length;i++)x.lastSelectedData[i].hasOwnProperty(x.localReader.id)&&x.selarrrow.push(x.idPrefix+x.lastSelectedData[i][x.localReader.id]);else if(null!=x.data&&0<x.data.length&&null!=c)for(t in c)c.hasOwnProperty(t)&&x.selarrrow.push(x.idPrefix+t)}else e=!1,x.selrow=null;var h=e?x.selarrrow:o;$(n.rows).each(function(t){hasOneFromClasses(this,d)||(a(this,e),$.inArray(this.id,h)<0&&h.push(this.id),l&&a(l[t],e))}),feedback.call(n,"onSelectAll",e?x.selarrrow:o,e)}),!0===x.autowidth){var Re=Math.floor($(F).innerWidth());x.width=0<Re?Re:"nw"}isNaN(x.width)?isNaN(parseFloat(x.width))||(x.width=parseFloat(x.width)):x.width=Number(x.width),x.widthOrg=x.width,Ae=0,Ne=jgrid.cell_width?0:M(x.cellLayout,0),_e=0,Me=M(x.scrollOffset,0),Ee=!1,$e=0,Oe=jgrid.isCellClassHidden,h(x.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),x.grouping&&x.autowidth){var e=d(this.name,x.groupingView.groupField);0<=e&&x.groupingView.groupColumnShow.length>e&&(this.hidden=!x.groupingView.groupColumnShow[e])}this.widthOrg=ke=M(this.width,0),!1!==this.hidden||Oe(this.classes)||(Ae+=ke+Ne,this.fixed?$e+=ke+Ne:_e++)}),isNaN(x.width)&&(x.width=Ae+(!1!==x.shrinkToFit||isNaN(x.height)?0:Me)),E.width=x.width,x.tblwidth=Ae,!1===x.shrinkToFit&&!0===x.forceFit&&(x.forceFit=!1),!0===x.shrinkToFit&&0<_e&&(De=E.width-Ne*_e-$e,isNaN(x.height)||(De-=Me,Ee=!0),Ae=0,h(x.colModel,function(e){!1!==this.hidden||Oe(this.classes)||this.fixed||(ke=Math.round(De*this.width/(x.tblwidth-Ne*_e-$e)),this.width=ke,Ae+=ke,Se=e)}),Te=0,Ee?E.width-$e-(Ae+Ne*_e)!==Me&&(Te=E.width-$e-(Ae+Ne*_e)-Me):Ee||1===Math.abs(E.width-$e-(Ae+Ne*_e))||(Te=E.width-$e-(Ae+Ne*_e)),x.colModel[Se].width+=Te,x.tblwidth=Ae+Te+Ne*_e+$e,x.tblwidth>x.width&&(x.colModel[Se].width-=x.tblwidth-parseInt(x.width,10),x.tblwidth=x.width)),$(F).css("width",E.width+"px").append("<div class='"+w("resizer","ui-jqgrid-resize-mark")+"' id='"+x.rsId+"'>&#160;</div>"),$(x.rs).on("selectstart",function(){return!1}).click(_).dblclick(function(e){var t=$(this).data("idx"),r=$(this).data("pageX"),s=x.colModel[t];if(null==r||null==s)return!1;var a=String(r).split(";"),l=parseFloat(a[0]),d=parseFloat(a[1]);return 2===a.length&&(5<Math.abs(l-d)||5<Math.abs(e.pageX-l)||5<Math.abs(e.pageX-d))||(feedback.call(n,"resizeDblClick",t,s,e)&&s.autoResizable&&i.autoResizeColumn.call(o,t),feedback.call(n,"afterResizeDblClick",{iCol:t,cm:s,cmName:s.name})),!1}),$(I).css("width",E.width+"px");var Fe="";x.footerrow&&(Fe+="<table role='presentation' style='width:1px' class='"+w("gridFooter","ui-jqgrid-ftable")+"'><tbody><tr role='row' class='"+w("rowFooter","footrow footrow-"+O)+"'>");var Le="<tr class='"+w("gridRow","jqgfirstrow ui-row-"+x.direction)+"' role='row' style='height:auto'>";if(x.disableClick=!1,$("th",Ie[0].tHead.rows[0]).each(function(e){var t=x.colModel[e],i=t.name,r=$(this),o=r.children("div"),a=o.children("span.s-ico"),l=x.showOneSortIcon;ae=t.width,void 0===t.resizable&&(t.resizable=!0),t.resizable?(le=document.createElement("span"),$(le).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+O).on("selectstart",function(){return!1}),r.addClass(x.resizeclass)):le="",r.css("width",ae+"px").prepend(le);var c="";if(!(le=null)===t.hidden&&(r.css("display","none"),c="display:none;"),Le+="<td role='gridcell' "+(t.classes?"class='"+t.classes+"' ":"")+"style='height:0;width:"+ae+"px;"+c+"'></td>",E.headers[e]={width:ae,el:this},"boolean"!=typeof(de=t.sortable)&&(t.sortable=!0,de=!0),"cb"!==i&&"subgrid"!==i&&"rn"!==i&&de&&x.viewsortcols[2]&&o.addClass("ui-jqgrid-sortable"),de)if(x.multiSort){var h="desc"===t.lso?"asc":"desc";x.viewsortcols[0]?(a.css("display",""),t.lso&&(a.children("span.ui-icon-"+t.lso).removeClass(Ce),l&&a.children("span.ui-icon-"+h).hide())):t.lso&&(a.css("display",""),a.children("span.ui-icon-"+t.lso).removeClass(Ce),l&&a.children("span.ui-icon-"+h).hide()),x.showSortOrder&&(ve=d(i,ge),a["beforeSortIcons"===x.sortOrderPosition?"before":"after"]("<span class='ui-jqgrid-sort-order'>"+(ve<0?"&nbsp;":s(x.formatSortOrder)?x.formatSortOrder.call(n,{cm:this,sortIndex:ve}):ve+1)+"</span>"))}else{var u="desc"===x.sortorder?"asc":"desc";x.viewsortcols[0]?(a.css("display",""),e===x.lastsort&&(a.children("span.ui-icon-"+x.sortorder).removeClass(Ce),l&&a.children("span.ui-icon-"+u).hide())):e===x.lastsort&&""!==t.lso&&(a.css("display",""),a.children("span.ui-icon-"+x.sortorder).removeClass(Ce),l&&a.children("span.ui-icon-"+u).hide())}x.footerrow&&(Fe+="<td role='gridcell' "+j(e,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(e){var t,i,r=$(this),n=r.closest(".ui-jqgrid-hdiv").hasClass("frozen-div");if(1===$(e.target).closest("th>span.ui-jqgrid-resize").length)return null!=(t=te(this))&&(!0===x.forceFit&&(x.nv=function(e){var t,i=e,r=e;for(t=e+1;t<x.colModel.length;t++)if(!0!==x.colModel[t].hidden){r=t;break}return r-i}(t)),E.dragStart(t,e,(i=[r.position().left+r.outerWidth()],"rtl"===x.direction&&(i[0]=x.width-i[0]),i[0]-=n?0:E.bDiv.scrollLeft,i.push($(E.hDiv).position().top),i.push($(E.bDiv).offset().top-$(E.hDiv).offset().top+$(E.bDiv).height()+(E.sDiv?$(E.sDiv).height():0)),i),r)),!1}).click(function(e){if(x.disableClick)return x.disableClick=!1;var t,i,r="th.ui-th-column>div";x.viewsortcols[2]?r+=".ui-jqgrid-sortable":r+=">span.s-ico>span.ui-grid-ico-sort";var o=$(e.target).closest(r);if(1===o.length){x.viewsortcols[2]||(t=!0,i=o.hasClass("ui-icon-desc")?"asc":"desc");var s=te(this);return null!=s&&ee.call(n,$("div",this)[0].id.substring(5+x.id.length+1),s,t,i,this,e),!1}}),x.sortable&&s(i.sortableColumns))try{i.sortableColumns.call(o,$(Ie[0].tHead.rows[0]))}catch(t){}x.footerrow&&(Fe+="</tr></tbody></table>"),Le+="</tr>",o.html("<tbody>"+Le+"</tbody>"),o.addClass(w("grid","ui-jqgrid-btable"+(!0===x.altRows&&o.jqGrid("isBootstrapGuiStyle")?" table-striped":"")));var je,Pe,ze=!(!x.caption||!0!==x.hiddengrid),Be=$("<div class='ui-jqgrid-hbox"+("rtl"===O?"-rtl":"")+"'></div>"),He=w("top"),qe=w("bottom");E.hDiv=document.createElement("div"),$(E.hDiv).css({width:E.width+"px"}).addClass(w("hDiv","ui-jqgrid-hdiv")).append(Be).scroll(function(){var e=$(this).next(".ui-jqgrid-bdiv")[0];return e&&(e.scrollLeft=this.scrollLeft),!1}),$(Be).append(Ie),Ie=null,ze&&$(E.hDiv).hide(),x.rowNum=parseInt(x.rowNum,10),(isNaN(x.rowNum)||x.rowNum<=0)&&(x.rowNum=x.maxRowNum),x.pager&&("string"==typeof x.pager&&"#"!==x.pager.substr(0,1)?(Pe=x.pager,je=$("#"+jqID(x.pager))):!0===x.pager?(Pe=randId(),(je=$("<div id='"+Pe+"'></div>")).appendTo("body"),x.pager="#"+jqID(Pe)):Pe=(je=$(x.pager)).attr("id"),0<je.length?(je.css({width:E.width+"px"}).addClass(w("pager.pager","ui-jqgrid-pager "+qe)).appendTo(F),ze&&je.hide(),J.call(n,Pe,""),x.pager="#"+jqID(Pe)):x.pager=""),!1===x.cellEdit&&!0===x.hoverrows&&o.on("mouseover.jqGrid",function(e){ue=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(ue).attr("class")&&$(ue).addClass(we)}).on("mouseout.jqGrid",function(e){ue=$(e.target).closest("tr.jqgrow"),$(ue).removeClass(we)});var We=function(e){var t,i,r;do{if(0<(t=$(e).closest("td")).length){if(r=(i=t.parent()).parent().parent(),i.is(".jqgrow")&&(r[0]===this||r.is("table.ui-jqgrid-btable")&&(r[0].id||"").replace("_frozen","")===this.id))break;e=t.parent()}}while(0<t.length);return t};o.before(E.hDiv).click(function(e){var t=w("states.select"),r=e.target,s=We.call(n,r),a=s.parent();if(0!==a.length&&!hasOneFromClasses(a,Ce)){var l=a[0].id,d=s[0].cellIndex,c=$(r).hasClass("cbox")&&$(r).is(":enabled")&&!hasOneFromClasses(r,Ce),h=feedback.call(n,"beforeSelectRow",l,e),f=!1,p=jgrid.detectRowEditing.call(n,l),g=null!=p&&"cellEditing"!==p.mode;if("A"!==r.tagName&&(!g||c)){if(feedback.call(n,"onCellSelect",l,d,s.html(),e),!0===x.cellEdit){if(h&&x.multiselect&&c){if(u.call(o,l,!0,e),c&&!x.noCellSelection)return;f=!0}try{i.editCell.call(o,a[0].rowIndex,d,!0)}catch(e){}if(!x.multiselect||!x.noCellSelection||x.multiboxonly&&f)return}if(h)if(x.multikey)e[x.multikey]&&!f?u.call(o,l,!0,e):x.multiselect&&c&&(c=$("#jqg_"+jqID(x.id)+"_"+l).is(":checked"),$("#jqg_"+jqID(x.id)+"_"+l).prop("checked",!c));else if(x.multiselect&&x.multiboxonly)if(c&&!f)u.call(o,l,!0,e);else{var m=x.frozenColumns?x.id+"_frozen":"";$(x.selarrrow).each(function(e,r){var n=i.getGridRowById.call(o,r);n&&$(n).removeClass(t),$("#jqg_"+jqID(x.id)+"_"+jqID(r)).prop("checked",!1),m&&($("#"+jqID(r),"#"+jqID(m)).removeClass(t),$("#jqg_"+jqID(x.id)+"_"+jqID(r),"#"+jqID(m)).prop("checked",!1))}),clearArray(x.selarrrow),f||u.call(o,l,!0,e)}else{var v=x.selrow;f||u.call(o,l,!0,e),"toggle"!==x.singleSelectClickMode||x.multiselect||v!==l||(n.grid.fbRows&&(a=a.add(n.grid.fbRows[a[0].rowIndex]===a[0]?n.rows[a[0].rowIndex]:n.grid.fbRows[a[0].rowIndex])),a.removeClass(t).attr({"aria-selected":"false",tabindex:"-1"}),x.selrow=null)}else c&&$(r).prop("checked",!1)}}}).on("reloadGrid",function(e,t){var r=this,n=r.grid,o=$(this),s=r.p;if(0<s.savedRow.length&&"prevent"===s.reloadingDuringEditing)return!1;if(!0===s.treeGrid&&(s.datatype=s.treedatatype),t=l({},defaults.reloadGridOptions||{},s.reloadGridOptions||{},t||{}),"local"===s.datatype&&s.dataTypeOrg&&s.loadonce&&t.fromServer&&(s.datatype=s.dataTypeOrg,delete s.dataTypeOrg),t.current&&n.selectionPreserver.call(r),"local"===s.datatype?(s.multiPageSelection||i.resetSelection.call(o),s.data.length&&(H.call(r),q.call(r))):s.treeGrid||s.multiPageSelection||(s.selrow=null,s.multiselect&&(clearArray(s.selarrrow),Z.call(r,!1)),clearArray(s.savedRow),s.editingInfo={}),K(s.reloadingDuringEditing),s.iRow=-1,s.iCol=-1,s.scroll&&E.emptyRows.call(r,!0,!1),t.page){var a=parseInt(t.page,10);a>s.lastpage&&(a=s.lastpage),a<1&&(a=1),s.page=a,n.prevRowHeight?n.bDiv.scrollTop=(a-1)*n.prevRowHeight*s.rowNum:n.bDiv.scrollTop=0}return n.prevRowHeight&&s.scroll&&void 0===t.page?(delete s.lastpage,n.populateVisible.call(r)):n.populate.call(r),!0===s._inlinenav&&o.jqGrid("showAddEditButtons",!1),!1}).dblclick(function(e){var t=We.call(n,e.target),i=t.parent();if(0<t.length&&!feedback.call(n,"ondblClickRow",i.attr("id"),i[0].rowIndex,t[0].cellIndex,e))return!1}).on("contextmenu",function(e){var t=We.call(n,e.target),i=t.parent(),r=i.attr("id");if(0!==t.length)return x.multiselect||x.selrow===r||!0!==x.selectOnContextMenu||u.call(o,r,!0,e),!!feedback.call(n,"onRightClickRow",r,i[0].rowIndex,t[0].cellIndex,e)&&void 0}),E.bDiv=document.createElement("div"),R&&"auto"===String(x.height).toLowerCase()&&(x.height="100%"),$(E.bDiv).append($("<div style='position:relative;'></div>").append("<div></div>").append(n)).addClass("ui-jqgrid-bdiv").css({height:x.height+(isNaN(x.height)?"":"px"),width:E.width+"px"}).scroll(E.scrollGrid),x.maxHeight&&$(E.bDiv).css("max-height",x.maxHeight+(isNaN(x.maxHeight)?"":"px")),o.css({width:"1px"}),$.support.tbody||2===$(">tbody",n).length&&$(">tbody:gt(0)",n).remove(),x.multikey&&$(E.bDiv).on(jgrid.msie?"selectstart":"mousedown",function(){return!1}),ze&&$(E.bDiv).hide(),E.cDiv=document.createElement("div");var Ge=y("gridMinimize.visible"),Ve=y("gridMinimize.hidden"),Ue=S("showhide"),Ye=!0===x.hidegrid?$("<a role='link' class='"+w("titleButton","ui-jqgrid-titlebar-close")+"'"+(Ue?" title='"+Ue+"'":"")+"/>").hover(function(){Ye.addClass(we)},function(){Ye.removeClass(we)}).append("<span class='"+Ge+"'></span>"):"";if($(E.cDiv).append("<span class='ui-jqgrid-title'>"+x.caption+"</span>").append(Ye).addClass(w("gridTitle","ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===O?"-rtl ":" ")+He)),$(E.cDiv).insertBefore(E.hDiv),x.toolbar[0]){E.uDiv=document.createElement("div"),"top"===x.toolbar[1]?$(E.uDiv).insertBefore(E.hDiv):"bottom"===x.toolbar[1]&&$(E.uDiv).insertAfter(E.hDiv);var Xe=w("toolbarUpper","ui-userdata");"both"===x.toolbar[1]?(E.ubDiv=document.createElement("div"),$(E.uDiv).addClass(Xe).attr("id","t_"+x.id).insertBefore(E.hDiv),$(E.ubDiv).addClass(w("toolbarBottom","ui-userdata")).attr("id","tb_"+x.id).insertAfter(E.hDiv),ze&&$(E.ubDiv).hide()):$(E.uDiv).width(E.width).addClass(Xe).attr("id","t_"+x.id),ze&&$(E.uDiv).hide()}if("string"==typeof x.datatype&&(x.datatype=x.datatype.toLowerCase()),x.toppager?(x.toppager=x.id+"_toppager",E.topDiv=$("<div id='"+x.toppager+"'></div>")[0],$(E.topDiv).addClass(w("pager.pager","ui-jqgrid-toppager"+(x.caption?"":" "+He))).css({width:E.width+"px"}).insertBefore(E.hDiv),J.call(n,x.toppager,"_t"),x.toppager="#"+jqID(x.toppager)):""!==x.pager||x.scroll||(x.rowNum=x.maxRowNum),x.footerrow&&(E.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],Be=$("<div class='ui-jqgrid-hbox"+("rtl"===O?"-rtl":"")+"'></div>"),$(E.sDiv).append(Be).width(E.width).insertAfter(E.hDiv),$(Be).append(Fe),E.footers=$(".ui-jqgrid-ftable",E.sDiv)[0].rows[0].cells,x.rownumbers&&(E.footers[0].className=w("rowNum","jqgrid-rownum")),ze&&$(E.sDiv).hide()),Be=null,x.caption){var Ze=x.datatype;!0===x.hidegrid&&($(".ui-jqgrid-titlebar-close",E.cDiv).click(function(e){var t=".ui-jqgrid-bdiv,.ui-jqgrid-hdiv,.ui-jqgrid-pager,.ui-jqgrid-sdiv",i=this;!0===x.toolbar[0]&&("both"===x.toolbar[1]&&(t+=",#"+jqID($(E.ubDiv).attr("id"))),t+=",#"+jqID($(E.uDiv).attr("id")));var r=$(t,x.gView).length;return x.toppager&&(t+=","+x.toppager),"visible"===x.gridstate?$(t,x.gBox).slideUp("fast",function(){0==--r&&($("span",i).removeClass(Ge).addClass(Ve),x.gridstate="hidden",$(x.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",x.gBox).hide(),$(E.cDiv).addClass(qe),ze||feedback.call(n,"onHeaderClick",x.gridstate,e))}):"hidden"===x.gridstate&&($(E.cDiv).removeClass(qe),$(t,x.gBox).slideDown("fast",function(){0==--r&&($("span",i).removeClass(Ve).addClass(Ge),ze&&(x.datatype=Ze,X.call(n),ze=!1),x.gridstate="visible",$(x.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",x.gBox).show(),ze||feedback.call(n,"onHeaderClick",x.gridstate,e))})),!1}),ze&&(x.datatype="local",$(".ui-jqgrid-titlebar-close",E.cDiv).trigger("click")))}else $(E.cDiv).hide(),$(E.cDiv).nextAll("div:visible").first().addClass("ui-corner-top");$(E.hDiv).after(E.bDiv),E.eDiv=$("<div class='"+w("gridError","ui-jqgrid-errorbar ui-jqgrid-errorbar-"+O)+"' style='display:none;'><span class='"+w("gridErrorText","ui-jqgrid-error")+"'></span></div>")[0],$(E.hDiv).after(E.eDiv),$(F).click(_).dblclick(function(e){var t=$(x.rs),r=t.offset(),s=t.data("idx"),a=t.data("delta"),l=x.colModel[s],d=$(this).data("pageX")||t.data("pageX");if(null==d||null==l)return!1;var c=String(d).split(";"),h=parseFloat(c[0]),u=parseFloat(c[1]);return 2===c.length&&(5<Math.abs(h-u)||5<Math.abs(e.pageX-h)||5<Math.abs(e.pageX-u))||(feedback.call(n,"resizeDblClick",s,l)&&r.left-1<=e.pageX+a&&e.pageX+a<=r.left+t.outerWidth()+1&&l.autoResizable&&i.autoResizeColumn.call(o,s),feedback.call(n,"afterResizeDblClick",{iCol:s,cm:l,cmName:l.name})),!1}),x.pager||$(E.cDiv).nextAll("div:visible").filter(":last").addClass(qe),$(".ui-jqgrid-labels",E.hDiv).on("selectstart",function(){return!1}),n.formatCol=j,n.sortData=ee,n.updatepager=function(e,t){var i,r,n,o,s,a,l,d,c=this,h=$(c),u=c.grid,f=x.pager||"",p=x.pager?"_"+x.pager.substr(1):"",g=u.bDiv,m=$.fmatter?$.fmatter.NumberFormat:null,v=x.toppager?"_"+x.toppager.substr(1):"",b=w("states.hover"),y=w("states.disabled");if((n=parseInt(x.page,10)-1)<0&&(n=0),s=(n*=parseInt(x.rowNum,10))+x.reccount,x.scroll){var k=$(getGridComponent(COMPONENT_NAMES.BODY_TABLE,g)[0].rows).slice(1);n=s-k.length,x.reccount=k.length;var D=k.outerHeight()||u.prevRowHeight;if(D){var T=n*D,A=jgrid.fixMaxHeightOfDiv.call(c,parseInt(x.records,10)*D);$(g).children("div").first().css({height:A+"px"}).children("div").first().css({height:T+"px",display:""}),0===g.scrollTop&&1<x.page&&(g.scrollTop=x.rowNum*(x.page-1)*D)}g.scrollLeft=u.hDiv.scrollLeft}if(f+=x.toppager?(f?",":"")+x.toppager:""){if(l=C("formatter.integer")||{},i=M(x.page),r=M(x.lastpage),$(".selbox",f).prop("disabled",!1),!0===x.pginput){var N=$(".ui-pg-input",f),_=String(x.page).length;N.val(x.page),N.each(function(){var e=parseInt($(this).attr("size"),10);0<e&&e<_&&$(this).attr("size",_)}),d=x.toppager?"#sp_1"+p+",#sp_1"+v:"#sp_1"+p,$(d).html($.fmatter?m(x.lastpage,l):x.lastpage).closest(".ui-pg-table").each(function(){V.call(c,$(this))})}x.viewrecords&&(0===x.reccount?$(".ui-paging-info",f).html(S("emptyrecords")):(o=n+1,a=x.records,$.fmatter&&(o=m(o,l),s=m(s,l),a=m(a,l)),$(".ui-paging-info",f).html(jgrid.format(S("recordtext"),o,s,a)))),!0===x.pgbuttons&&(r<=0&&(i=0),i<=0&&(i=r=0),1===i||0===i?($("#first"+p+", #prev"+p).addClass(y).removeClass(b),x.toppager&&$("#first_t"+v+", #prev_t"+v).addClass(y).removeClass(b)):($("#first"+p+", #prev"+p).removeClass(y),x.toppager&&$("#first_t"+v+", #prev_t"+v).removeClass(y)),i===r||0===i?($("#next"+p+", #last"+p).addClass(y).removeClass(b),x.toppager&&$("#next_t"+v+", #last_t"+v).addClass(y).removeClass(b)):($("#next"+p+", #last"+p).removeClass(y),x.toppager&&$("#next_t"+v+", #last_t"+v).removeClass(y)))}!0===e&&!0===x.rownumbers&&$(">td.jqgrid-rownum",c.rows).each(function(e){$(this).html(n+1+e)}),t&&x.jqgdnd&&h.jqGrid("gridDnD","updateDnD"),feedback.call(c,"gridComplete"),h.triggerHandler("jqGridAfterGridComplete")},n.refreshIndex=q,n.addItemDataToColumnIndex=B,n.removeItemDataFromColumnIndex=function(e){var t,i,r,n=x.dataIndexById[e];if(null!=n){for(t in n)if(n.hasOwnProperty(t))for(r in i=n[t])i.hasOwnProperty(r)&&(delete x.indexByColumnData[t][r][e],$.isEmptyObject(x.indexByColumnData[t][r])&&delete x.indexByColumnData[t][r]);delete x.dataIndexById[e]}},n.generateValueFromColumnIndex=function(e,t,i){var r,n,o=$(this).jqGrid("getUniqueValueFromColumnIndex",e),s="";if(null!=o)for(i=i||";",t=t||":",r=0,n=o.length;r<n;r++)""!==s&&(s+=i||";"),s+=o[r]+(t||":")+o[r];return s},n.setHeadCheckBox=Z,n.fixScrollOffsetAndhBoxPadding=k,n.constructTr=function(e,t,r,n,o,a){var l,d="-1",c="",h=t?"display:none;":"",u=w("gridRow","jqgrow ui-row-"+x.direction)+(r?" "+r:"")+(a?" "+w("states.select"):""),f=$(this).triggerHandler("jqGridRowAttr",[n,o,e]);if("object"!=typeof f&&(f=s(x.rowattr)?x.rowattr.call(this,n,o,e):"string"==typeof x.rowattr&&null!=jgrid.rowattr&&s(jgrid.rowattr[x.rowattr])?jgrid.rowattr[x.rowattr].call(this,n,o,e):{}),null!=f&&!$.isEmptyObject(f)){f.hasOwnProperty("id")&&(e=f.id,delete f.id),f.hasOwnProperty("tabindex")&&(d=f.tabindex,delete f.tabindex),f.hasOwnProperty("style")&&(h+=f.style,delete f.style),f.hasOwnProperty("class")&&(u+=" "+f.class,delete f.class);try{delete f.role}catch(e){}for(l in f)f.hasOwnProperty(l)&&(c+=" "+l+"="+f[l])}if(x.treeGrid&&parseInt(n[x.treeReader.level_field],10)!==parseInt(x.tree_root_level,10)){var p=i.getNodeParent.call($(this),n);!p||!p.hasOwnProperty(x.treeReader.expanded_field)||p[x.treeReader.expanded_field]||t||(h+="display:none;")}return"<tr role='row' id='"+e+"' tabindex='"+d+"' class='"+u+"'"+(""===h?"":" style='"+h+"'")+c+">"},n.formatter=function(e,t,i,r,o,a){var l,d,c=x.colModel[i];if(void 0!==c.formatter){var h={rowId:e=""!==String(x.idPrefix)?(d=e,stripPref(x.idPrefix,d)):e,colModel:c,gid:x.id,pos:i,rowData:a||r};l=s(c.cellBuilder)?c.cellBuilder.call(n,t,h,r,o):s(c.formatter)?c.formatter.call(n,t,h,r,o):$.fmatter?$.fn.fmatter.call(n,c.formatter,t,h,r,o):P(t)}else l=P(t);if(l=c.autoResizable&&"actions"!==c.formatter?"<span class='"+x.autoResizing.wrapperClassName+"'>"+l+"</span>":l,x.treeGrid&&"edit"!==o&&(null==x.ExpandColumn&&0===i||x.ExpandColumn===c.name)){null==a&&(a=x.data[x._index[e]]);var u=parseInt(a[x.treeReader.level_field]||0,10),f=0===parseInt(x.tree_root_level,10)?u:u-1,p=a[x.treeReader.leaf_field],g=a[x.treeReader.expanded_field],m=a[x.treeReader.icon_field],v=p?(null!=m&&""!==m?m:x.treeIcons.leaf)+" tree-leaf":g?x.treeIcons.minus+" tree-minus":x.treeIcons.plus+" tree-plus";if(!p&&m&&"string"==typeof m){var b=m.split(",");2===b.length&&(v=g?b[0]:b[1])}l="<div class='tree-wrap' style='width:"+18*(f+1)+"px;'><div class='"+mergeCssClasses(x.treeIcons.commonIconClass,v,"treeclick")+"' style='"+(!0===x.ExpandColClick?"cursor:pointer;":"")+("rtl"===x.direction?"margin-right:":"margin-left:")+18*f+"px;'></div></div><span class='cell-wrapper"+(p?"leaf":"")+"'"+(x.ExpandColClick?" style='cursor:pointer;'":"")+">"+l+"</span>"}return l},l(E,{populate:X,emptyRows:function(e,t){var i=E.bDiv,r=null!=E.fbDiv?E.fbDiv.children(".ui-jqgrid-btable")[0]:null,n=function(e){if(e){var t=e.rows,i=t[0];if(x.deepempty)t&&$(t).slice(1).remove();else if(x.quickEmpty)if("quickest"===x.quickEmpty)e.replaceChild(document.createElement("tbody"),e.tBodies[0]),e.firstChild.appendChild(i);else for(;1<t.length;)e.deleteRow(t.length-1);else $(e.firstChild).empty().append(i)}};$(this).off(".jqGridFormatter"),n(this),n(r),e&&x.scroll&&($(i.firstChild).css({height:"auto"}),$(i.firstChild.firstChild).css({height:0,display:"none"}),0!==i.scrollTop&&(i.scrollTop=0)),!0===t&&x.treeGrid&&(clearArray(x.data),clearArray(x.lastSelectedData),x._index={},x.dataIndexById={},x.indexByColumnData={}),x.rowIndexes={},x.iRow=-1,x.iCol=-1},beginReq:U,endReq:Y}),n.addXmlData=G,n.addJSONData=G,n.rebuildRowIndexes=N,n.grid.cols=n.rows[0].cells,feedback.call(n,"onInitGrid"),x.treeGrid&&"local"===x.datatype&&null!=x.data&&0<x.data.length&&(x.datatype="jsonstring",x.datastr=x.data,x.data=[]),X.call(n),x.hiddengrid=!1}else p(C("errors.model"))}else p("Element is not a table!")}})};var base=$.fn.jqGrid;jgrid.extend({getGridRes:function(e){var t=this[0];if(!t||!t.grid||!t.p)return null;var i=jgrid.getRes(locales[t.p.locale],e)||jgrid.getRes(locales["en-US"],e),r=jgrid.getRes(jgrid,e);return"object"!=typeof i||null===i||$.isArray(i)?void 0!==r?r:i:$.extend(!0,{},i,r||{})},getGuiStyles:function(e,t){var i=this instanceof $&&0<this.length?this[0]:this;if(!i||!i.grid||!i.p)return"";var r,n=i.p.guiStyle||jgrid.defaults.guiStyle||"jQueryUI",o=jgrid.getRes(jgrid.guiStyles[n],e);return void 0===o&&"string"==typeof(r=jgrid.getRes(jgrid.guiStyles[n],"baseGuiStyle"))&&(o=jgrid.getRes(jgrid.guiStyles[r],e)),jgrid.mergeCssClasses(o||"",t||"")},isBootstrapGuiStyle:function(){return 0<=$.inArray("ui-jqgrid-bootstrap",$(this).jqGrid("getGuiStyles","gBox").split(" "))},displayErrorMessage:function(e){var t=this instanceof $&&0<this.length?this[0]:this;if(t&&t.grid&&t.p&&e){var i=$(t.grid.eDiv),r=i.children(".ui-jqgrid-error");r.html(e),i.show(),t.p.errorDisplayTimeout&&setTimeout(function(){r.empty(),i.hide()},t.p.errorDisplayTimeout)}},getIconRes:function(e){var t=this instanceof $&&0<this.length?this[0]:this;if(!t||!t.p)return"";var i=t.p,r=jgrid.icons[i.iconSet],n=function(e,t,i){var r,n,o,s=t.split("."),a=s.length,l=[];if(null==(e="string"==typeof e?jgrid.icons[e]:e))return"";for((r=e).common?l.push(r.common):i&&i.common&&l.push(i.common),o=0;o<a&&(n=s[o]);o++){if(o+1===a&&r.ignoreParents&&(l=[]),void 0===(r=r[n])){if("common"===n)break;return""}if("string"==typeof r){l.push(r);break}null!=r&&r.common&&l.push(r.common)}return jgrid.mergeCssClasses.apply(this,l)};if(null==r)return"";var o=n(i.iconSet,e);return""===o&&null!=r.baseIconSet&&(o=n(r.baseIconSet,e,jgrid.icons[i.iconSet])),o||""},isInCommonIconClass:function(e){var t=this instanceof $&&0<this.length?this[0]:this;if(!t||!t.p)return"";var i=t.p,r=jgrid.icons[i.iconSet];if(null==r)return!1;var n=r.common;if(void 0===n){if(null==r.baseIconSet)return!1;if(null==(r=jgrid.icons[r.baseIconSet]))return!1;n=r.common}return"string"==typeof n&&0<=$.inArray(e,n.split(" "))},getUniqueValueFromColumnIndex:function(e){var t=this[0];if(!t||!t.grid)return null;var i,r=[],n="",o=t.p.indexByColumnData[e];if(null!=o){for(n in o)if(o.hasOwnProperty(n)){for(i in o[n])if(o[n].hasOwnProperty(i)){n=String(o[n][i]);break}r.push(n)}t.p.ignoreCase?void 0===String.prototype.localeCompare?r.sort(function(e,t){var i=e.toLowerCase(),r=t.toLowerCase();return i===r?0:r<i?1:-1}):r.sort(function(e,t){return String(e).toLowerCase().localeCompare(String(t).toLowerCase())}):r.sort()}return r},generateDatalistFromColumnIndex:function(e){if(!this[0]||!this[0].grid)return null;var t,i,r=this.jqGrid("getUniqueValueFromColumnIndex",e),n=$("<datalist></datalist>");if(!(null!=r&&0<r.length))return $();for(t=0,i=r.length;t<i;t++)n.append($("<option></option>").attr("value",r[t]));return n},getGridParam:function(e){var t=this[0];return t&&t.grid?e?void 0!==t.p[e]?t.p[e]:null:t.p:null},setGridParam:function(e,t){return this.each(function(){null==t&&(t=!1),this.grid&&"object"==typeof e&&(!0===t?$.extend(this.p,e):$.extend(!0,this.p,e))})},abortAjaxRequest:function(){return this.each(function(){null!=this.p.jqXhr&&this.p.jqXhr.abort(),this.grid.endReq.call(this)})},getGridRowById:function(e){if(null==e)return null;var t,i=e.toString();return this.each(function(){var r,n,o=this.rows;if(null!=this.p.rowIndexes&&(n=o[this.p.rowIndexes[i]])&&n.id===i&&(t=n),!t)try{for(r=o.length;r--;)if(n=o[r],i===n.id){t=n;break}}catch(r){t=0<(t=$(this.grid.bDiv).find("#"+jqID(e))).length?t[0]:null}}),t},getDataIDs:function(){var e=[];return this.each(function(){var t,i,r=this.rows,n=r.length;if(n&&0<n)for(t=0;t<n;t++)i=r[t],$(i).hasClass("jqgrow")&&e.push(i.id)}),e},setSelection:function(e,t,i){return this.each(function(){var r,n,o,s,a,l,d,c,h,u,f,p,g,m,v=this,b=$(v),y=v.p,w=base.getGuiStyles,x=base.getGridRowById,C=w.call(b,"states.select"),S=w.call(b,"states.disabled"),k=v.grid.fbRows,D=function(e,t){var i=t?"addClass":"removeClass",r=y.iColByName.cb,n=t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"},o=function(e){$(e)[i](C).attr(n),void 0!==r&&$(e.cells[r]).children("input.cbox").prop("checked",t)};o(e),k&&o(k[e.rowIndex])};void 0!==e&&(t=!1!==t,null!=i&&0<(d=$(i.target).closest("tr.jqgrow")).length&&(n=d[0],k&&(n=v.rows[n.rowIndex])),null==n&&(n=x.call(b,e)),!n||!n.className||-1<n.className.indexOf(S)||(!0===y.scrollrows&&null!=(o=x.call(b,e))&&0<=(o=o.rowIndex)&&(h=v.rows[o],(f=(u=v.grid.bDiv).clientHeight)+(p=u.scrollTop)<=(g=$(h).position().top)+(m=h.clientHeight)?u.scrollTop=g-(f+p)+m+p:g<f+p&&g<p&&(u.scrollTop=g)),y.multiselect?(v.setHeadCheckBox(!1),y.selrow=n.id,c=jgrid.detectRowEditing.call(v,n.id),-1===(s=$.inArray(y.selrow,y.selarrrow))?(r=!0,y.selarrrow.push(y.selrow)):null===c||"inlineEditing"!==c.mode&&$(i.target).hasClass("cbox")?(r=!1,y.selarrrow.splice(s,1),a=y.selarrrow[0],y.selrow=void 0===a?null:a):r=!0,"ui-subgrid"!==n.className&&D(n,r),t&&feedback.call(v,"onSelectRow",n.id,r,i||{})):"ui-subgrid"!==n.className&&(y.selrow!==n.id?(null!==y.selrow&&(l=x.call(b,y.selrow))&&D(l,!1),D(n,!0),r=!0):r=!1,y.selrow=n.id,t&&feedback.call(v,"onSelectRow",n.id,r,i||{}))))})},resetSelection:function(e){return this.each(function(){var t,i=this,r=$(this),n=i.p,o=base.getGuiStyles,s=base.getGridRowById,a=o.call(r,"states.select"),l="edit-cell "+a,d="selected-row "+o.call(r,"states.hover"),c=n.iColByName.cb,h=void 0!==c,u=i.grid.fbRows,f=function(e){var t,i="removeClass",r={"aria-selected":"false",tabindex:"-1"};$(e)[i](a).attr(r),h&&$(e.cells[c]).children("input.cbox").prop("checked",!1),u&&(t=u[e.rowIndex],$(t)[i](a).attr(r),h&&$(t.cells[c]).children("input.cbox").prop("checked",!1))};if(void 0!==e){if(t=s.call(r,e),f(t),h){i.setHeadCheckBox(!1);var p=$.inArray(e,n.selarrrow);-1!==p&&n.selarrrow.splice(p,1)}}else n.multiselect?($(i.rows).each(function(){var e=$.inArray(this.id,n.selarrrow);-1!==e&&(f(this),n.selarrrow.splice(e,1))}),i.setHeadCheckBox(!1),n.multiPageSelection||clearArray(n.selarrrow),n.selrow=null):n.selrow&&(t=s.call(r,n.selrow),f(t),n.selrow=null);!0===n.cellEdit&&0<=parseInt(n.iCol,10)&&0<=parseInt(n.iRow,10)&&(null!=(t=i.rows[n.iRow])&&($(t.cells[n.iCol]).removeClass(l),$(t).removeClass(d)),u&&null!=(t=u[n.iRow])&&($(t.cells[n.iCol]).removeClass(l),$(t).removeClass(d)))})},isCellEditing:function(e,t,i){var r=this[0],n=jgrid.detectRowEditing.call(r,e);if(null!=n&&("inlineEditing"===n.mode||"cellEditing"===n.mode&&n.savedRow.ic===t)){t=isNaN(t)?r.p.iColByName[t]:parseInt(t,10);var o=null!=i&&i.id===e?i:base.getGridRowById.call($(r),e),s=r.p.colModel[t],a=s.editable;if($.isFunction(a)&&(a=a.call(r,{rowid:e,id:stripPref(r.p.idPrefix,e),iCol:t,iRow:o.rowIndex,cmName:s.name,cm:s,mode:n.mode,td:o.cells[t],tr:o,dataElement:jgrid.getDataFieldOfCell.call(r,o,t)[0]})),!0===a)return!0}return!1},getRowData:function(e,t){var i,r={};return"object"==typeof e&&(t=e,e=void 0),t=t||{},this.each(function(){var n,o,s,a,l,d,c,h=this,u=h.p,f=!1,p=1,g=h.rows;if(void 0===e)f=!0,i=[],p=g.length;else if(!(n=base.getGridRowById.call($(h),e)))return r;for(o=0;o<p;o++)if(f&&(n=g[o]),$(n).hasClass("jqgrow")){for(jgrid.detectRowEditing.call(h,e),a=$(n).find("td[role=gridcell]"),s=0;s<a.length;s++)if(d=(l=u.colModel[s]).name,$.inArray(d,u.reservedColumnNames)<0&&"actions"!==l.formatter&&(!t.skipHidden||!l.hidden))if(c=a[s],base.isCellEditing.call($(h),e,s,n))r[d]=jgrid.getEditedValue.call(h,jgrid.getDataFieldOfCell.call(h,n,s),l,{},l.editable);else if(!0===u.treeGrid&&d===u.ExpandColumn)r[d]=htmlDecode($("span",c).first().html());else try{r[d]=$.unformat.call(h,c,{rowId:e,colModel:l},s)}catch(n){r[d]=htmlDecode($(c).html())}!t.includeId||!1!==u.keyName&&null!=r[u.keyName]||(r[u.prmNames.id]=stripPref(u.idPrefix,n.id)),f&&(i.push(r),r={})}}),i||r},delRowData:function(e){var t=!1;return this.each(function(){var i,r,n,o=this,s=o.p,a=$.jgrid.detectRowEditing.call(o,e);if(!(i=base.getGridRowById.call($(o),e)))return!1;if(s.subGrid&&(n=$(i).next()).hasClass("ui-subgrid")&&n.remove(),null!=a)try{"inlineEditing"===a.mode&&null!=base.restoreRow?base.restoreRow.call($(o),e):"cellEditing"===a.mode&&null!=base.restoreCell&&base.restoreCell.call($(o),a.savedRow.id,a.savedRow.ic)}catch(i){}if(i.rowIndex===s.iRow&&(s.iRow=-1,s.iCol=-1),$(i).remove(),s.records--,s.reccount--,o.updatepager(!0,!1),t=!0,s.multiselect&&-1!==(r=$.inArray(e,s.selarrrow))&&s.selarrrow.splice(r,1),s.multiselect&&0<s.selarrrow.length?s.selrow=s.selarrrow[s.selarrrow.length-1]:s.selrow===e&&(s.selrow=null),"local"===s.datatype){var l=stripPref(s.idPrefix,e),d=s._index[l];void 0!==d&&(o.removeItemDataFromColumnIndex(l),s.data.splice(d,1),o.refreshIndex())}if(o.rebuildRowIndexes(),!0===s.altRows&&t&&!$(o).jqGrid("isBootstrapGuiStyle")){var c=s.altclass,h=o.grid.fbRows;$(o.rows).each(function(e){var t=$(this);h&&(t=t.add(h[this.rowIndex])),t[e%2==0?"addClass":"removeClass"](c)})}feedback.call(o,"afterDelRow",e)}),t},setRowData:function(e,t,i){var r=!0;return this.each(function(){var n,o=this,s=o.p,a=typeof i,l={};if(!o.grid)return!1;if(!(n=base.getGridRowById.call($(o),e)))return!1;if(t)try{var d,c=stripPref(s.idPrefix,e),h=s._index[c],u={},f=null!=h?s.data[h]:void 0;if($(s.colModel).each(function(e){var i=this,r=i.name,n=getAccessor(t,r);void 0!==n&&("local"===s.datatype&&null!=f&&(n=convertOnSaveLocally.call(o,n,i,f[r],c,f,e),$.isFunction(i.saveLocally)?i.saveLocally.call(o,{newValue:n,newItem:l,oldItem:f,id:c,cm:i,cmName:r,iCol:e}):l[r]=n),u[r]=n)}),$(s.colModel).each(function(i){var r,a=this.name,d=getAccessor(t,a),c=$(n.cells[i]);if(void 0!==d){"local"===s.datatype&&null!=f&&(d=l[a]),r=this.title?{title:d}:{},d=o.formatter(e,d,i,t,"edit",u),"select"===this.formatter&&(r=this.title?{title:stripHtml(d)}:{});var h=c;!0===s.treeGrid&&a===s.ExpandColumn&&(h=h.children("span.cell-wrapperleaf,span.cell-wrapper").first()),h.html(d),c.attr(r),s.frozenColumns&&(h=$(o.grid.fbRows[n.rowIndex].cells[i]),!0===s.treeGrid&&a===s.ExpandColumn&&(h=h.children("span.cell-wrapperleaf,span.cell-wrapper").first()),h.html(d).attr(r))}}),"local"===s.datatype){if(s.treeGrid)for(d in s.treeReader)s.treeReader.hasOwnProperty(d)&&delete l[s.treeReader[d]];void 0!==f&&(s.data[h]=$.extend(!0,f,l),o.removeItemDataFromColumnIndex(c),o.addItemDataToColumnIndex(s.data[h],c))}feedback.call(o,"afterSetRow",{rowid:e,inputData:t,iData:h,iRow:n.rowIndex,tr:n,localData:l,cssProp:i})}catch(a){r=!1}r&&("string"===a?$(n).addClass(i):null!==i&&"object"===a&&$(n).css(i))}),r},changeRowid:function(e,t){return this.each(function(){var i,r,n,o,s,a,l,d=this,c=$(d),h=d.p;if(d.grid&&h&&e!==t&&(o=c.jqGrid("getGridRowById",e))&&null==c.jqGrid("getGridRowById",t)){var u=jgrid.stripPref(h.idPrefix,e),f=jgrid.stripPref(h.idPrefix,t),p=!1===h.keyName?h.prmNames.id:h.keyName,g=function(){var e=this.id,t=e.length-u.length;0<t&&e.substr(t)===u&&$(this).attr("id",e.substr(0,t)+f)};for(0<=h.iColByName[p]&&c.jqGrid("setCell",e,p,f),"local"===h.datatype&&void 0!==h._index[u]&&(h._index[f]=h._index[u],i=h.data[h._index[u]],delete h._index[u],i.hasOwnProperty(p)&&(i[p]=f)),h.rowIndexes[t]=o.rowIndex,delete h.rowIndexes[e],(s=null==d.grid.fbRows?$(o):$(o).add(d.grid.fbRows[o.rowIndex])).attr("id",t),h.selrow===e&&(h.selrow=t),$.isArray(h.selarrrow)&&0<=(r=$.inArray(e,h.selarrrow))&&(h.selarrrow[r]=t),h.multiselect&&(n="jqg_"+h.id+"_"+t,s.find("input.cbox").attr("id",n).attr("name",n)),r=0;r<h.colModel.length;r++)"actions"===(a=h.colModel[r]).formatter?s.find(".ui-jqgrid-actions .ui-pg-div").each(g):("showlink"===a.formatter||null!=a.unformat&&null!=a.formatter)&&(l=c.jqGrid("getCell",t,r),c.jqGrid("setCell",t,r,l,!1,!1,!0));feedback.call(d,"afterChangeRowid",{rowid:t,oldRowid:e,iRow:o.rowIndex,tr:o})}})},addRowData:function(e,t,i,r){$.inArray(i,["first","last","before","after","afterSelected","beforeSelected"])<0&&(i="last");var n,o,s,a,l,d,c,h,u,f,p,g=!1;return t&&($.isArray(t)?(d=!0,c=e):d=!(t=[t]),this.each(function(){var m,v,b=this,y=b.p,w=t.length,x=$(b),C=b.rows,S=0,k=base.getGridRowById,D=y.colModel,T=y.additionalProperties;for(d||(void 0!==e?e=String(e):(e=randId(),!1!==y.keyName&&(c=y.keyName,void 0!==t[0][c]&&(e=t[0][c])))),h=y.altclass;S<w;){if(u=t[S],o=[],d)try{void 0===(e=u[c])&&(e=randId())}catch(m){e=randId()}for(p=jgrid.stripPref(y.idPrefix,e),m={},a=0;a<D.length;a++)f=D[a],"rn"!==(n=f.name)&&"cb"!==n&&"subgrid"!==n&&(l=convertOnSaveLocally.call(b,u[n],f,void 0,p,{},a),$.isFunction(f.saveLocally)?f.saveLocally.call(b,{newValue:l,newItem:m,oldItem:{},id:p,rowid:e,cm:f,cmName:n,iCol:a}):void 0!==l&&(m[n]=l));for(a=0;a<T.length;a++)"object"==typeof(n=T[a])&&n.hasOwnProperty("name")&&(n=n.name),void 0!==(l=getAccessor(u,n))&&(m[n]=l);if("local"===y.datatype&&(m[y.localReader.id]=p,y._index[p]=y.data.length,y.data.push(m),b.addItemDataToColumnIndex(m,p)),v=y.grouping,y.grouping=!1,o=jgrid.parseDataToHtml.call(b,1,[e],[u]),y.grouping=v,o=o.join(""),0===C.length)$(b.tBodies[0]).append(o);else switch("afterSelected"!==i&&"beforeSelected"!==i||(void 0===r&&null!==y.selrow?(r=y.selrow,i="afterSelected"===i?"after":"before"):i="afterSelected"===i?"last":"first"),i){case"last":$(C[C.length-1]).after(o),s=C.length-1;break;case"first":$(C[0]).after(o),s=1;break;case"after":(s=k.call(x,r))&&($(C[s.rowIndex+1]).hasClass("ui-subgrid")?($(C[s.rowIndex+1]).after(o),s=s.rowIndex+2):($(s).after(o),s=s.rowIndex+1));break;case"before":(s=k.call(x,r))&&($(s).before(o),s=s.rowIndex-1)}!0===y.subGrid&&base.addSubGrid.call(x,y.iColByName.subgrid,s),y.records++,y.reccount++,0===y.lastpage&&(y.lastpage=1),feedback.call(b,"afterAddRow",{rowid:e,inputData:t,position:i,srcRowid:r,iRow:s,tr:C[s],localData:m,iData:y.data.length-1}),S++}!0!==y.altRows||d||x.jqGrid("isBootstrapGuiStyle")||("last"===i?(C.length-1)%2==0&&$(C[C.length-1]).addClass(h):$(C).each(function(e){e%2==1?$(this).addClass(h):$(this).removeClass(h)})),b.rebuildRowIndexes(),b.updatepager(!0,!0),g=!0})),g},footerData:function(e,t,i){var r=!1,n={};return null==e&&(e="get"),"boolean"!=typeof i&&(i=!0),e=e.toLowerCase(),this.each(function(){var o,s,a,l,d=this,c=d.p;if(!d.grid||!c.footerrow)return!1;if("set"===e&&function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(t))return!1;r=!0;var h=$(d.grid.sDiv).children(".ui-jqgrid-hbox"+("rtl"===c.direction?"-rtl":"")).children(".ui-jqgrid-ftable")[0];if(null==h||null==h.rows)return!1;var u=h.rows[0].cells,f=c.colModel,p=null==d.grid.fsDiv?{}:d.grid.fsDiv.children(".ui-jqgrid-ftable")[0].rows[0].cells;if("get"===e)for(l=0;l<f.length;l++)a=f[l].name,$.inArray(a,c.reservedColumnNames)<0&&(!1!==t?(o=$(u[l]).text(),$.trim(o)&&(n[a]=o)):n[a]=$(u[l]).html());else if("set"===e)for(a in t)l=c.iColByName[a],t.hasOwnProperty(a)&&void 0!==l&&(o=i?d.formatter("",t[a],l,t,"edit"):t[a],(s=$(u[l]).add(p[l])).html(o),f[l].title&&s.attr({title:stripHtml(o)}))}),"get"===e?n:r},resetColumnResizerHeight:function(){return this.each(function(){if($.jgrid.msie){var e,t,i,r,n=this.grid.headers;for(i=0;i<n.length;i++)(r=(e=$(n[i].el)).height())&&0<(t=e.children(".ui-jqgrid-resize")).length&&.5<Math.abs(r-t.height())&&e.children(".ui-jqgrid-resize").height(r)}})},rotateColumnHeaders:function(e,t){return this.each(function(){var i,r,n,o,s,a,l,d,c,h,u,f,p,g,m,v,b=$(this),y=this.p,w=y.frozenColumns&&$.isFunction(base.getNumberOfFrozenColumns)?b.jqGrid("getNumberOfFrozenColumns"):0;for($.isArray(e)||(e=[e]),i=0;i<e.length;i++)a=e[i],0<=(r=isNaN(a)?y.iColByName[a]:parseInt(a,10))&&(n=this.grid.headers[r].el,l=(o=r<w?$(n).add($(this.grid.fhDiv.find("#"+jqID(n.id)))):$(n)).children("div"),d=l.children("span.s-ico"),h=l.children("span.ui-jqgrid-sort-order"),(c=l.children("span."+y.autoResizing.wrapperClassName)).length<1&&(d.detach(),h.detach(),l.wrapInner("<span class='"+y.autoResizing.wrapperClassName+"'></span>"),c=l.children("span."+y.autoResizing.wrapperClassName),l.each(function(e){e<d.length&&$(this).append(d[e]),e<h.length&&$(this).append(h[e])})),u=d.outerWidth(!0),f=c.outerWidth(),m=parseFloat(o.css("padding-top")||0),v=parseFloat(o.css("padding-bottom")||0),p=parseFloat(o.css("padding-left")||0),g=parseFloat(o.css("padding-right")||0),y.showSortOrder&&(u+=.5*u),s=void 0===t||0===t?f+u+p+g:t,o.height(s),o.css({paddingTop:g+"px",paddingBottom:p+"px",paddingLeft:m+"px",paddingRight:v+"px"}),l.css("min-width",s-p-g+"px").addClass("ui-jqgrid-rotate").css({bottom:0}),y.colModel[r].rotated=!0);b.jqGrid("resetColumnResizerHeight"),y.frozenColumns&&setTimeout(function(){b.triggerHandler("jqGridResetFrozenHeights",{header:{resizeDiv:!0,resizedRows:{iRowStart:0,iRowEnd:-1}},resizeFooter:!0,body:{resizeDiv:!0,resizedRows:{iRowStart:-1,iRowEnd:-1}}})},0)})},showHideCol:function(e,t,i){return this.each(function(){var r,n=this,o=$(n),s=n.grid,a=!1,l=n.p,d=jgrid.cell_width?0:l.cellLayout;if(s){"string"==typeof e&&(e=[e]),i=i||{};var c=""==(t="none"!==t&&!1!==t?"":"none"),h=l.groupHeader,u=h&&("object"==typeof h||$.isFunction(h));if(u&&!i.skipSetGroupHeaders&&base.destroyGroupHeader.call(o,!1),$(l.colModel).each(function(o){var h=function(e){var i,r,n,s,a,d,h,u,f,p,g,m,v,b,y;for(i=0,r=e.length;i<r;i++)s=(n=e[i]).cells[o],(!$(n).hasClass("jqgroup")||null!=s&&1===s.colSpan)&&(a=$(s),0===i&&$(n).hasClass("jqgfirstrow")?(a.css("height","1px"),a.css("display",t),a.css("height","0")):a.css("display",t),c&&null!=s&&"TH"===s.tagName.toUpperCase()&&a.hasClass("ui-th-column")&&(d=a.children("div")).hasClass("ui-jqgrid-rotate")&&(h=d.children("span.s-ico"),(u=d.children("span."+l.autoResizing.wrapperClassName)).outerHeight(),f=u.outerWidth(),h.outerHeight(),p=h.outerWidth(!0),0<u.length&&(m=parseFloat(a.css("padding-top")||0),v=parseFloat(a.css("padding-bottom")||0),b=parseFloat(a.css("padding-left")||0),y=parseFloat(a.css("padding-right")||0),l.showSortOrder&&(p+=.5*p),g=f+p+b+y,a.height(g),a.css({paddingTop:y+"px",paddingBottom:b+"px",paddingLeft:m+"px",paddingRight:v+"px"}),d.css("min-width",g-b-y+"px").css({bottom:0}))))};if(-1!==$.inArray(this.name,e)&&this.hidden===c){if(!0===l.frozenColumns&&!0===this.frozen&&!i.notSkipFrozen)return!0;h($(s.hDiv).find(".ui-jqgrid-htable>thead>tr")),!0===l.frozenColumns&&null!=s.fhDiv&&h($(s.fhDiv).find(".ui-jqgrid-htable>thead>tr")),h(n.rows),!0===l.frozenColumns&&null!=s.fbRows&&h(n.rows),l.footerrow&&(h($(s.sDiv).find("tr.footrow")),!0===l.frozenColumns&&null!=s.fsDiv&&h($(s.fsDiv).find("tr.footrow"))),r=parseInt(this.width,10),"none"===t?l.tblwidth-=r+d:l.tblwidth+=r+d,this.hidden=!c,a=!0,i.skipFeedback?(i.toReport=i.toReport||{},i.toReport[this.name]=c):feedback.call(n,"onShowHideCol",c,this.name,o,i)}}),!0===a){var f=l.autowidth||void 0!==l.widthOrg&&"auto"!==l.widthOrg&&"100%"!==l.widthOrg?l.width:l.tblwidth+parseInt(l.scrollOffset,10);i.skipSetGridWidth?i.newGridWidth=f:base.setGridWidth.call(o,f)}if(u&&!i.skipSetGroupHeaders)if(null!=l.pivotOptions&&null!=l.pivotOptions.colHeaders&&1<l.pivotOptions.colHeaders.length){var p,g=l.pivotOptions.colHeaders;for(p=0;p<g.length;p++)g[p]&&g[p].groupHeaders.length&&base.setGroupHeaders.call(o,g[p])}else base.setGroupHeaders.call(o,l.groupHeader)}})},hideCol:function(e,t){return this.each(function(){base.showHideCol.call($(this),e,"none",t)})},showCol:function(e,t){return this.each(function(){base.showHideCol.call($(this),e,"",t)})},remapColumns:function(e,t,i){var r,n,o,s,a=this[0],l=a.p,d=a.grid,c=$.makeArray,h=!0===l.frozenColumns,u=this.jqGrid("getNumberOfFrozenColumns");function f(e){var t=e.length?c(e):$.extend({},e);$.each(s,function(i){e[i]=t[this]})}function p(e,t){(t?e.children(t):e.children()).each(function(){var e=this,t=c(e.cells);$.each(s,function(i){var r=t[this],n=e.cells[i];null!=r&&null!=n&&r.cellIndex!==i&&r.parentNode.insertBefore(r,n)})})}if(null!=d&&null!=l){for(s=function(){var t,i=[],r=[],n=e.length;for(t=0;t<n;t++)h&&e[t]<u?i.push(e[t]):r.push(e[t]);return i.concat(r)}(),f(l.colModel),f(l.colNames),f(d.headers),o=$(d.hDiv).children("div").children("table.ui-jqgrid-htable").children("thead"),h&&null!=d.fhDiv&&(o=o.add(d.fhDiv.children("table.ui-jqgrid-htable").children("thead"))),p(o,i&&":not(.ui-jqgrid-labels)"),t&&(o=$(a.tBodies[0]),h&&null!=d.fbDiv&&(o=o.add(d.fbDiv.children("table.ui-jqgrid-btable").children("tbody").first())),p(o,"tr.jqgfirstrow,tr.jqgrow,tr.jqfoot")),l.footerrow&&(o=$(d.sDiv).children("div").children("table.ui-jqgrid-ftable").children("tbody").first(),h&&null!=d.fsDiv&&(o=o.add(d.fsDiv.children("table.ui-jqgrid-ftable").children("tbody").first())),p(o)),l.remapColumns&&(l.remapColumns.length?f(l.remapColumns):l.remapColumns=c(s)),l.lastsort=$.inArray(l.lastsort,s),l.iColByName={},r=0,n=l.colModel.length;r<n;r++)l.iColByName[l.colModel[r].name]=r;feedback.call(a,"onRemapColumns",s,t,i)}},remapColumnsByName:function(e,t,i){var r,n,o=this[0].p,s=[],a=e.slice(),l=$.inArray;for(o.subGrid&&l("subgrid",a)<0&&a.unshift("subgrid"),o.multiselect&&l("cb",a)<0&&a.unshift("cb"),o.rownumbers&&l("rn",a)<0&&a.unshift("rn"),r=0,n=a.length;r<n;r++)s.push(o.iColByName[a[r]]);return base.remapColumns.call(this,s,t,i),this},setGridWidth:function(e,t){return this.each(function(){var i,r,n,o,s=this,a=s.p,l=s.grid,d=0,c=0,h=!1,u=0,f=jgrid.isCellClassHidden,p=e;if(l&&null!=a){s.fixScrollOffsetAndhBoxPadding();var g,m,v,b,y=a.colModel,w=a.scrollOffset,x=jgrid.cell_width?0:a.cellLayout,C=l.headers,S=l.footers,k=l.bDiv,D=l.hDiv,T=l.sDiv,A=l.cols,N=$(D).find(">div>.ui-jqgrid-htable>thead>tr").first()[0].cells,_=function(e){l.width=a.width=e,$(a.gBox).css("width",e+"px"),$(a.gView).css("width",e+"px"),$(k).css("width",e+"px"),$(D).css("width",e+"px"),a.pager&&$(a.pager).css("width",e+"px"),a.toppager&&$(a.toppager).css("width",e+"px"),!0===a.toolbar[0]&&($(l.uDiv).css("width",e+"px"),"both"===a.toolbar[1]&&$(l.ubDiv).css("width",e+"px")),a.footerrow&&$(T).css("width",e+"px")};if("boolean"!=typeof t&&(t=a.shrinkToFit),!isNaN(p)){if(_(p=parseInt(p,10)),!1===t&&!0===a.forceFit&&(a.forceFit=!1),!0===t){if($.each(y,function(){!1!==this.hidden||f(this.classes)||(i=this.widthOrg,d+=i+x,this.fixed?u+=this.width+x:c++)}),0===c)return;if(a.tblwidth=parseInt(d,10),n=p-x*c-u,isNaN(a.height)||(k.clientHeight<k.scrollHeight||1===s.rows.length)&&(h=!0,n-=w),(b=n/(a.tblwidth-x*c-u))<0)return;if(v=(d=0)<A.length,$.each(y,function(e){!1!==this.hidden||f(this.classes)||this.fixed||(i=Math.round(this.widthOrg*b),this.width=i,d+=i,C[e].width=i,N[e].style.width=i+"px",a.footerrow&&(S[e].style.width=i+"px"),v&&(A[e].style.width=i+"px"),r=e)}),!r)return;o=0,h?p-u-(d+x*c)!==w&&(o=p-u-(d+x*c)-w):1!==Math.abs(p-u-(d+x*c))&&(o=p-u-(d+x*c)),(g=y[r]).width+=o,a.tblwidth=parseInt(d+o+x*c+u,10),a.tblwidth>p&&(m=a.tblwidth-parseInt(p,10),a.tblwidth=p,g.width=g.width-m),i=g.width,C[r].width=i,N[r].style.width=i+"px",v&&(A[r].style.width=i+"px"),a.footerrow&&(S[r].style.width=i+"px"),a.tblwidth+(h?w:0)<a.width&&_(a.tblwidth+(h?w:0)),k.offsetWidth>k.clientWidth&&(a.autowidth||void 0!==a.widthOrg&&"auto"!==a.widthOrg&&"100%"!==a.widthOrg||_(k.offsetWidth))}a.tblwidth&&(a.tblwidth=parseInt(a.tblwidth,10),p=a.tblwidth,D.scrollLeft=k.scrollLeft,m=Math.abs(p-a.width),a.shrinkToFit&&!t&&m<3&&0<m&&(p<a.width&&_(p),k.offsetWidth>k.clientWidth&&(a.autowidth||void 0!==a.widthOrg&&"auto"!==a.widthOrg&&"100%"!==a.widthOrg||_(k.offsetWidth)))),s.fixScrollOffsetAndhBoxPadding();var M={resizeDiv:!0,resizedRows:{iRowStart:t?0:-1,iRowEnd:-1}};$(s).triggerHandler("jqGridResetFrozenHeights",[{header:M,resizeFooter:!0,body:M}])}}})},setGridHeight:function(e){return this.each(function(){var t=this,i=t.grid,r=t.p;if(i){var n=$(i.bDiv);n.css({height:e+(isNaN(e)?"":"px")}),!0===r.frozenColumns&&$(r.idSel+"_frozen").parent().height(n.height()-16),r.height=e,r.scroll&&i.populateVisible.call(t),t.fixScrollOffsetAndhBoxPadding(),$(t).triggerHandler("jqGridResetFrozenHeights")}})},setCaption:function(e){return this.each(function(){var t=this.grid.cDiv;this.p.caption=e,$("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",t).html(e),$(t).show(),$(t).nextAll("div").removeClass(base.getGuiStyles.call(this,"top")),$(this).triggerHandler("jqGridResetFrozenHeights")})},setLabel:function(e,t,i,r){return this.each(function(){var n,o,s=this.p;if(this.grid){if(isNaN(e)){if(void 0===(n=s.iColByName[e]))return}else n=parseInt(e,10);0<=n&&(o=$(this.grid.headers[n].el),s.frozenColumns&&(o=o.add(this.grid.fhDiv.find("#"+jqID(o)))),t&&(o.each(function(){var e=$("[id^=jqgh_]",this),i=e.children("span.ui-jqgrid-cell-wrapper");if(0<i.length)i.html(t);else{var r=$(".s-ico",this);e.empty().html(t)[s.sortIconsBeforeText?"prepend":"append"](r)}}),s.colNames[n]=t),i&&("string"==typeof i?o.addClass(i):o.css(i)),"object"==typeof r&&o.attr(r))}})},setCell:function(e,t,i,r,n,o){return this.each(function(){var s,a,l,d,c,h,u,f,p,g,m,v=this,b=v.p,y=b.colModel,w={};if(v.grid&&0<=(s=isNaN(t)?b.iColByName[t]:parseInt(t,10))&&(h=base.getGridRowById.call($(v),e))){if(u=jgrid.getCell.call(v,h,s),""!==i||!0===o){if(d=y[s],"local"===b.datatype&&(g=stripPref(b.idPrefix,e),void 0!==(m=b._index[g])&&(c=b.data[m])),null==c){for(l=0;l<h.cells.length;l++)if(l!==s&&0<(f=jgrid.getDataFieldOfCell.call(v,h,l)).length){try{p=$.unformat.call(v,f,{rowId:e,colModel:y[l]},l)}catch(s){p=htmlDecode(f[0].innerHTML)}w[y[l].name]=p}}else w=c;w[d.name]=i,a=v.formatter(e,i,s,w,"edit");var x=u;!0===b.treeGrid&&d.name===b.ExpandColumn&&(x=x.children("span.cell-wrapperleaf,span.cell-wrapper").first()),x.html(a),d.title&&u.attr({title:i}),null!=c&&(a=convertOnSaveLocally.call(v,i,d,c[d.name],g,c,s),$.isFunction(d.saveLocally)?d.saveLocally.call(v,{newValue:a,newItem:c,oldItem:c,id:g,cm:d,cmName:d.name,iCol:s}):c[d.name]=a)}(r||n)&&(u=jgrid.getCell.call(v,h,s),r&&u["string"==typeof r?"addClass":"css"](r),"object"==typeof n&&u.attr(n))}})},getCell:function(e,t){var i=!1;return this.each(function(){var r,n,o,s,a=this,l=a.p;if(a.grid&&0<=(r=isNaN(t)?l.iColByName[t]:parseInt(t,10))&&(n=base.getGridRowById.call($(a),e))){o=jgrid.getDataFieldOfCell.call(a,n,r).first(),s=l.colModel[r];try{i=base.isCellEditing.call($(a),e,r,n)?jgrid.getEditedValue.call(a,o,s,{},s.editable):$.unformat.call(a,o,{rowId:n.id,colModel:s},r)}catch(r){i=htmlDecode(o.html())}}}),i},getCol:function(e,t,i){var r,n,o,s,a=[],l=0;return t="boolean"==typeof t&&t,void 0===i&&(i=!1),this.each(function(){var d,c,h=this,u=h.p;if(h.grid&&0<=(d=isNaN(e)?u.iColByName[e]:parseInt(e,10))){var f,p,g=h.rows,m=g.length,v=0,b=0,y=u.colModel[d];if(m&&0<m){for(;v<m;){if(f=g[v],$(f).hasClass("jqgrow")){c=jgrid.getDataFieldOfCell.call(h,f,d).first(),p=f.id;try{r=base.isCellEditing.call($(h),p,d,f)?jgrid.getEditedValue.call(h,c,y,{},y.editable):$.unformat.call(h,c,{rowId:p,colModel:y},d)}catch(d){r=htmlDecode(c.html())}i?(s=parseFloat(r),isNaN(s)||(l+=s,void 0===o&&(o=n=s),n=Math.min(n,s),o=Math.max(o,s),b++)):t?a.push({id:p,value:r}):a.push(r)}v++}if(i)switch(i.toLowerCase()){case"sum":a=l;break;case"avg":a=l/b;break;case"count":a=m-1;break;case"min":a=n;break;case"max":a=o}}}}),a},clearGridData:function(e){return this.each(function(){var t=this,i=t.p,r=t.rows,n=t.grid;n&&i&&r&&("boolean"!=typeof e&&(e=!1),$(t).off(".jqGridFormatter"),n.emptyRows.call(t,!1,!0),i.footerrow&&e&&$(".ui-jqgrid-ftable td",n.sDiv).html("&#160;"),i.selrow=null,clearArray(i.selarrrow),clearArray(i.savedRow),i.editingInfo={},clearArray(i.data),clearArray(i.lastSelectedData),i._index={},i.rowIndexes={},i.dataIndexById={},i.indexByColumnData={},i.records=0,i.page=1,i.lastpage=0,i.reccount=0,t.updatepager(!0,!1))})},getInd:function(e,t){var i=base.getGridRowById.call($(this),e);return!!i&&(!0===t?i:i.rowIndex)},bindKeys:function(e){var t=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each(function(){var e=this,i=e.p,r=$(e);i.scrollrows=t.scrollingRows,r.on("keydown.jqGrid",function(n){var o=$(this).find("tr[tabindex=0]")[0],s=jgrid.detectRowEditing.call(e,$(n.target).closest("tr.jqgrow").attr("id")),a=function(e){do{if(null===(o=o[e]))return}while($(o).is(":hidden")||!$(o).hasClass("jqgrow"));base.setSelection.call(r,o.id,!0),n.preventDefault()},l=function(n,o){var s=t["on"+n+(o||"")];r.triggerHandler("jqGridKey"+n,[i.selrow]),$.isFunction(s)&&s.call(e,i.selrow)},d=function(e){if(i.treeGrid){var t=i.data[i._index[stripPref(i.idPrefix,o.id)]][i.treeReader.expanded_field];"Right"===e&&(t=!t),t&&$(o).find("div.treeclick").trigger("click")}l(e,"Key")};if(o&&null===s)switch(n.keyCode){case 38:a("previousSibling");break;case 40:a("nextSibling");break;case 37:d("Left");break;case 39:d("Right");break;case 13:l("Enter");break;case 32:l("Space")}})})},unbindKeys:function(){return this.each(function(){$(this).off("keydown.jqGrid")})},getLocalRow:function(e){var t,i=!1;return this.each(function(){var r=this.p;void 0!==e&&null!=r&&null!=r._index&&null!=r.data&&0<=(t=r._index[stripPref(r.idPrefix,e)])&&(i=r.data[t])}),i},progressBar:function(e){return e=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},e||{}),this.each(function(){var t="show"===e.method,i=jqID(this.p.id),r=$("#load_"+i);switch(""!==e.htmlcontent&&r.html(e.htmlcontent),e.loadtype){case"disable":break;case"enable":r.toggle(t);break;case"block":$("#lui_"+i).toggle(t),r.toggle(t)}})},setColWidth:function(e,t,i,r){return this.each(function(){var n,o=$(this),s=this.grid,a=this.p;if("string"==typeof e){if(void 0===(e=a.iColByName[e]))return}else if("number"!=typeof e)return;null!=(n=s.headers[e])&&(n.newWidth=t,s.newWidth=a.tblwidth+t-n.width,s.resizeColumn(e,!a.frozenColumns,r),!1===i||r||(this.fixScrollOffsetAndhBoxPadding(),base.setGridWidth.call(o,s.newWidth+a.scrollOffset,!1)))})},getAutoResizableWidth:function(e){var t=this;if(0===t.length)return-1;var i,r,n,o,s,a=(t=t[0]).rows,l=t.p,d=l.colModel[e],c=$(t.grid.headers[e].el),h=c.children("div"),u=parseFloat(c.css(d.rotated?"padding-top":"padding-left")||0),f=parseFloat(c.css(d.rotated?"padding-bottom":"padding-right")||0),p=h.children("span.s-ico"),g=h.children(".ui-jqgrid-sort-order"),m=h.children("."+l.autoResizing.wrapperClassName),v=d.rotated?m.outerHeight():m.outerWidth(),b=parseFloat(m.css(d.rotated?"height":"width")||0),y=0,w=0,x=null!=d.autoResizing&&void 0!==d.autoResizable.compact?d.autoResizable.compact:l.autoResizing.compact,C=l.autoResizing.wrapperClassName;if(null==d||!d.autoResizable||0===m.length||d.hidden||jgrid.isCellClassHidden(d.classes)||d.fixed)return-1;for(x&&!p.is(":visible")&&"none"===p.css("display")||(w=d.rotated?p.outerHeight(!0):p.outerWidth(!0)+(0<g.length?g.outerWidth(!0):0),l.sortIconsBeforeText||(w-="rtl"===l.direction?parseFloat(p.css("padding-left")||0)+parseFloat(p.css("margin-left")||0):parseFloat(p.css("padding-right")||0)+parseFloat(p.css("margin-right")||0))),d.rotated?w=Math.max(w,v+u+f):w+=v+u+(b===v?u+f:0)+parseFloat(h.css("margin-left")||0)+parseFloat(h.css("margin-right")||0),n=0,a=t.rows;n<a.length;n++)r=(i=a[n]).cells[e],o=$(i.cells[e]),null!=r&&($(i).hasClass("jqgrow")&&"none"!==i.style.display&&"none"!==r.style.display||$(i).hasClass("jqgroup")&&1===r.colSpan)?(s=$(r.firstChild)).hasClass(C)?w=Math.max(w,s.outerWidth()+y):l.treeGrid&&l.ExpandColumn===d.name&&(s=o.children(".cell-wrapper,.cell-wrapperleaf"),w=Math.max(w,s.outerWidth()+y+o.children(".tree-wrap").outerWidth())):$(i).hasClass("jqgfirstrow")&&(y=(jgrid.cell_width?parseFloat(o.css("padding-left")||0)+parseFloat(o.css("padding-right")||0):0)+parseFloat(o.css("border-right")||0)+parseFloat(o.css("border-left")||0));return w=Math.max(w,null!=d.autoResizing&&void 0!==d.autoResizing.minColWidth?d.autoResizing.minColWidth:l.autoResizing.minColWidth),Math.min(w,null!=d.autoResizing&&void 0!==d.autoResizing.maxColWidth?d.autoResizing.maxColWidth:l.autoResizing.maxColWidth)},autoResizeColumn:function(e,t){return this.each(function(){var i,r=$(this),n=this.p,o=n.colModel[e],s=$(this.grid.headers[e].el),a=base.getAutoResizableWidth.call(r,e),l=(o.autoResizing||{}).resetWidthOrg;null==o||a<0||a===o.width||(base.setColWidth.call(r,e,a,n.autoResizing.adjustGridWidth&&!n.autoResizing.fixWidthOnShrink&&!t,t),n.autoResizing.fixWidthOnShrink&&n.shrinkToFit&&!t&&(o.fixed=!0,i=o.widthOrg,o.widthOrg=o.width,base.setGridWidth.call(r,n.width,!0),o.widthOrg=i,o.fixed=!1),(l||void 0===l&&n.autoResizing.resetWidthOrg)&&(o.widthOrg=o.width),s.data("autoResized","true"))})},autoResizeAllColumns:function(){return this.each(function(){var e,t,i=$(this),r=this.p,n=r.colModel,o=n.length,s=r.shrinkToFit,a=r.autoResizing.adjustGridWidth,l=r.autoResizing.fixWidthOnShrink,d=parseInt(r.widthOrg,10),c=this.grid,h=base.autoResizeColumn;for(r.shrinkToFit=!1,r.autoResizing.adjustGridWidth=!0,r.autoResizing.fixWidthOnShrink=!1,e=0;e<o;e++)(t=n[e]).autoResizable&&"actions"!==t.formatter&&h.call(i,e,!0);c.hDiv.scrollLeft=c.bDiv.scrollLeft,r.footerrow&&(c.sDiv.scrollLeft=c.bDiv.scrollLeft),this.fixScrollOffsetAndhBoxPadding(),isNaN(d)?a&&base.setGridWidth.call(i,c.newWidth+r.scrollOffset,!1):base.setGridWidth.call(i,d,!1),r.autoResizing.fixWidthOnShrink=l,r.autoResizing.adjustGridWidth=a,r.shrinkToFit=s})}});var getTdByColumnIndex=function(e,t){var i=this.grid.fbRows;return null!=(e=null!=i&&i[0].cells.length>t?i[e.rowIndex]:e)&&null!=e.cells?$(e.cells[t]):$()},safeHeightSet=function(e,t){var i=e.height();1<=Math.abs(i-t)&&0<t&&(e.height(t),i=e.height(),1<=Math.abs(t-i)&&e.height(t+Math.round(t-i)))};jgrid.extend({editCell:function(e,t,i){return this.each(function(){var r,n,o,s,a=this,l=$(a),d=a.p,c=a.rows;if(a.grid&&!0===d.cellEdit&&null!=c&&null!=c[e]&&(e=parseInt(e,10),t=parseInt(t,10),!isNaN(e)&&!isNaN(t))){var h,u=c[e],f=null!=u?u.id:null,p=$(u),g=parseInt(d.iCol,10),m=parseInt(d.iRow,10),v=$(c[m]),b=d.savedRow;if(null!=f){if(d.selrow=f,d.knv||l.jqGrid("GridNav"),0<b.length&&0<v.length){if(!0===i&&e===m&&t===g)return;l.jqGrid("saveCell",b[0].id,b[0].ic)}else setTimeout(function(){$("#"+jgrid.jqID(d.knv)).attr("tabindex","-1").focus()},1);if("subgrid"!==(r=(s=d.colModel[t]).name)&&"cb"!==r&&"rn"!==r){o=getTdByColumnIndex.call(a,u,t);var y=s.editable;$.isFunction(y)&&(y=y.call(a,{rowid:f,iCol:t,iRow:e,cmName:r,cm:s,mode:"cell"}));var w=l.jqGrid("getGuiStyles","states.select","edit-cell"),x=l.jqGrid("getGuiStyles","states.hover","selected-row");if(!0!==y||!0!==i||o.hasClass("not-editable-cell"))d.noCellSelection||(0<=g&&0<=m&&(getTdByColumnIndex.call(a,v[0],g).removeClass(w),v.removeClass(x)),o.addClass(w),p.addClass(x)),n=o.html().replace(/&#160;/gi,""),feedback.call(a,"onSelectCell",f,r,n,e,t);else{d.noCellSelection||(0<=g&&0<=m&&(getTdByColumnIndex.call(a,v[0],g).removeClass(w),v.removeClass(x)),o.addClass(w),p.addClass(x)),s.edittype||(s.edittype="text"),h=s.edittype;try{n=$.unformat.call(a,o,{rowId:f,colModel:s},t)}catch(r){n="textarea"===h?o.text():o.html()}if(d.autoEncodeOnEdit&&(n=jgrid.oldDecodePostedData(n)),("&nbsp;"===n||"&#160;"===n||1===n.length&&160===n.charCodeAt(0))&&(n=""),$.isFunction(d.formatCell)){var C=d.formatCell.call(a,f,r,n,e,t);void 0!==C&&(n=C)}feedback.call(a,"beforeEditCell",f,r,n,e,t),b.push({id:e,ic:t,name:r,v:n}),d.editingInfo[f]={mode:"cellEditing",savedRow:b[b.length-1],editable:{}},d.editingInfo[f].editable[r]=y;var S=$.extend({},s.editoptions||{},{id:e+"_"+r,name:r,rowId:f,mode:"cell",cm:s,iCol:t}),k=jgrid.createEl.call(a,h,S,n,!0,$.extend({},jgrid.ajaxOptions,d.ajaxSelectOptions||{})),D=o,T=!0===d.treeGrid&&r===d.ExpandColumn;T&&(D=o.children("span.cell-wrapperleaf,span.cell-wrapper")),D.html("").append(k).attr("tabindex","0"),T&&$(k).width(o.width()-o.children("div.tree-wrap").outerWidth()),jgrid.bindEv.call(a,k,S),d.frozenColumns&&t<l.jqGrid("getNumberOfFrozenColumns")&&safeHeightSet($(a.rows[u.rowIndex].cells[t]),o.height()),setTimeout(function(){$(k).focus()},0),$("input, select, textarea",o).on("keydown",function(i){if(27===i.keyCode&&(0<$("input.hasDatepicker",o).length?$(".ui-datepicker").is(":hidden")?l.jqGrid("restoreCell",e,t):$("input.hasDatepicker",o).datepicker("hide"):l.jqGrid("restoreCell",e,t)),13===i.keyCode&&!i.shiftKey)return l.jqGrid("saveCell",e,t),!1;if(9===i.keyCode){if(a.grid.hDiv.loading)return!1;i.shiftKey?l.jqGrid("prevCell",e,t):l.jqGrid("nextCell",e,t)}i.stopPropagation()}),feedback.call(a,"afterEditCell",f,r,n,e,t)}d.iCol=t,d.iRow=e}}}})},saveCell:function(e,t){return this.each(function(){var i=this,r=$(i),n=i.p,o=i.grid,s=jgrid.info_dialog,a=jgrid.jqID;if(o&&!0===n.cellEdit){var l=r.jqGrid("getGridRes","errors"),d=l.errcap,c=r.jqGrid("getGridRes","edit").bClose,h=n.savedRow,u=1<=h.length?0:null;if(null!==u){var f,p=i.rows[e],g=null!=p?p.id:null,m=null!=p?$(p):$(),v=n.colModel[t],b=v.name,y=getTdByColumnIndex.call(i,p,t),w={},x=jgrid.getEditedValue.call(i,y,v,w);if(x!==h[u].v){void 0!==(f=r.triggerHandler("jqGridBeforeSaveCell",[g,b,x,e,t]))&&(x=f),$.isFunction(n.beforeSaveCell)&&void 0!==(f=n.beforeSaveCell.call(i,g,b,x,e,t))&&(x=f);var C=jgrid.checkValues.call(i,x,t,void 0,void 0,{oldValue:h[u].v,newValue:x,cmName:b,rowid:g,iCol:t,iRow:e,cm:v,tr:p,td:y,mode:"cell"}),S=v.formatoptions||{};if(null==C||!0===C||!0===C[0]){var k=r.triggerHandler("jqGridBeforeSubmitCell",[g,b,x,e,t])||{};if($.isFunction(n.beforeSubmitCell)&&((k=n.beforeSubmitCell.call(i,g,b,x,e,t))||(k={})),0<$("input.hasDatepicker",y).length&&$("input.hasDatepicker",y).datepicker("hide"),"date"===v.formatter&&!0!==S.sendFormatted&&(x=$.unformat.date.call(i,x,v)),"remote"===n.cellsubmit)if(n.cellurl){var D={};D[b]=x;var T=n.prmNames,A=T.id,N=T.oper;D[A]=jgrid.stripPref(n.idPrefix,g),D[N]=T.editoper,D=$.extend(k,D),n.autoEncodeOnEdit&&$.each(D,function(e,t){$.isFunction(t)||(D[e]=jgrid.oldEncodePostedData(t))}),r.jqGrid("progressBar",{method:"show",loadtype:n.loadui,htmlcontent:r.jqGrid("getGridRes","defaults.savetext")||"Saving..."}),o.hDiv.loading=!0,$.ajax($.extend({url:$.isFunction(n.cellurl)?n.cellurl.call(i,n.cellurl,e,t,g,x,b):n.cellurl,data:jgrid.serializeFeedback.call(i,n.serializeCellData,"jqGridSerializeCellData",D),type:"POST",complete:function(a){if(o.endReq.call(i),(a.status<300||304===a.status)&&(0!==a.status||4!==a.readyState)){var l=r.triggerHandler("jqGridAfterSubmitCell",[i,a,D.id,b,x,e,t])||[!0,""];(!0===l||!0===l[0]&&$.isFunction(n.afterSubmitCell))&&(l=n.afterSubmitCell.call(i,a,D.id,b,x,e,t)),null==l||!0===l||!0===l[0]?(r.jqGrid("setCell",g,t,x,!1,!1,!0),y.addClass("dirty-cell"),m.addClass("edited"),feedback.call(i,"afterSaveCell",g,b,x,e,t),h.splice(0,1),delete n.editingInfo[g]):(s.call(i,d,l[1],c),r.jqGrid("restoreCell",e,t))}},error:function(o,a,l){r.triggerHandler("jqGridErrorCell",[o,a,l]),$.isFunction(n.errorCell)?n.errorCell.call(i,o,a,l):s.call(i,d,o.status+" : "+o.statusText+"<br/>"+a,c),r.jqGrid("restoreCell",e,t)}},jgrid.ajaxOptions,n.ajaxCellOptions||{}))}else try{s.call(i,d,l.nourl,c),r.jqGrid("restoreCell",e,t)}catch(a){}if("clientArray"===n.cellsubmit){if(r.jqGrid("setCell",g,t,"select"===v.edittype&&"select"!==v.formatter?w.text:x,!1,!1,!0),y.addClass("dirty-cell"),m.addClass("edited"),feedback.call(i,"afterSaveCell",g,b,x,e,t),n.frozenColumns&&t<r.jqGrid("getNumberOfFrozenColumns"))try{i.rows[p.rowIndex].cells[t].style.height=""}catch(a){}h.splice(0,1),delete n.editingInfo[g]}}else try{setTimeout(function(){var e=jgrid.getRelativeRect.call(i,y);s.call(i,d,x+" "+C[1],c,{top:e.top,left:e.left+$(i).closest(".ui-jqgrid").offset().left})},50),r.jqGrid("restoreCell",e,t)}catch(a){}}else r.jqGrid("restoreCell",e,t)}setTimeout(function(){$("#"+a(n.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(e,t){return this.each(function(){var i,r,n,o=this,s=o.p,a=o.rows[e],l=a.id;if(o.grid&&!0===s.cellEdit){var d=s.savedRow,c=getTdByColumnIndex.call(o,a,t);if(1<=d.length){if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker",c).datepicker("hide")}catch(i){}if(r=s.colModel[t],!0===s.treeGrid&&null!=r&&r.name===s.ExpandColumn?c.children("span.cell-wrapperleaf,span.cell-wrapper").empty():c.empty(),c.attr("tabindex","-1"),i=d[0].v,null!=r&&(n=r.formatoptions||{},"date"===r.formatter&&!0!==n.sendFormatted&&(i=$.unformat.date.call(o,i,r)),$(o).jqGrid("setCell",l,t,i,!1,!1,!0),s.frozenColumns&&t<$(o).jqGrid("getNumberOfFrozenColumns")))try{o.rows[a.rowIndex].cells[t].style.height=""}catch(i){}feedback.call(o,"afterRestoreCell",l,i,e,t),d.splice(0,1),delete s.editingInfo[l]}setTimeout(function(){$("#"+s.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(e,t){return this.each(function(){var i,r,n,o=this,s=$(o),a=o.p,l=!1,d=o.rows;if(o.grid&&!0===a.cellEdit&&null!=d&&null!=d[e]){for(i=t+1;i<a.colModel.length;i++)if(r=(n=a.colModel[i]).editable,$.isFunction(r)&&(r=r.call(o,{rowid:d[e].id,iCol:i,iRow:e,cmName:n.name,cm:n,mode:"cell"})),!0===r){l=i;break}!1!==l?s.jqGrid("editCell",e,l,!0):0<a.savedRow.length&&s.jqGrid("saveCell",e,t)}})},prevCell:function(e,t){return this.each(function(){var i,r,n,o=this,s=$(o),a=o.p,l=!1,d=o.rows;if(o.grid&&!0===a.cellEdit&&null!=d&&null!=d[e]){for(i=t-1;0<=i;i--)if(r=(n=a.colModel[i]).editable,$.isFunction(r)&&(r=r.call(o,{rowid:d[e].id,iCol:i,iRow:e,cmName:n.name,cm:n,mode:"cell"})),!0===r){l=i;break}!1!==l?s.jqGrid("editCell",e,l,!0):0<a.savedRow.length&&s.jqGrid("saveCell",e,t)}})},GridNav:function(){return this.each(function(){var e,t,i=this,r=$(i),n=i.p,o=i.grid;if(o&&!0===n.cellEdit){var s=o.bDiv;n.knv=n.id+"_kn";var a=$("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+n.knv+"'></div></div>");$(a).insertBefore(o.cDiv),$("#"+n.knv).focus().keydown(function(o){var s=parseInt(n.iRow,10),a=parseInt(n.iCol,10);switch(t=o.keyCode,"rtl"===n.direction&&(37===t?t=39:39===t&&(t=37)),t){case 38:0<s-1&&(l(s-1,a,"vu"),r.jqGrid("editCell",s-1,a,!1));break;case 40:s+1<=i.rows.length-1&&(l(s+1,a,"vd"),r.jqGrid("editCell",s+1,a,!1));break;case 37:0<=a-1&&(l(s,e=d(a-1,"lft"),"h"),r.jqGrid("editCell",s,e,!1));break;case 39:a+1<=n.colModel.length-1&&(l(s,e=d(a+1,"rgt"),"h"),r.jqGrid("editCell",s,e,!1));break;case 13:0<=a&&0<=s&&r.jqGrid("editCell",s,a,!0);break;default:return!0}return!1})}function l(e,t,r){var n=i.rows[e];if("v"===r.substr(0,1)){var o=s.clientHeight,a=s.scrollTop,l=n.offsetTop+n.clientHeight,d=n.offsetTop;"vd"===r&&a+o<=l&&(s.scrollTop=s.scrollTop+n.clientHeight),"vu"===r&&d<a&&(s.scrollTop=s.scrollTop-n.clientHeight)}if("h"===r){var c=s.clientWidth,h=s.scrollLeft,u=n.cells[t],f=u.offsetLeft+u.clientWidth,p=u.offsetLeft;f>=c+parseInt(h,10)?s.scrollLeft=s.scrollLeft+u.clientWidth:p<h&&(s.scrollLeft=s.scrollLeft-u.clientWidth)}}function d(e,t){var i,r=0,o=n.colModel;if("lft"===t)for(r=e+1,i=e;0<=i;i--)if(!0!==o[i].hidden){r=i;break}if("rgt"===t)for(r=e-1,i=e;i<o.length;i++)if(!0!==o[i].hidden){r=i;break}return r}})},getChangedCells:function(e){var t=[];return e||(e="all"),this.each(function(){var i=this,r=i.p,n=jgrid.htmlDecode,o=i.rows;i.grid&&!0===r.cellEdit&&$(o).each(function(s){var a={};if($(this).hasClass("edited")){var l=this;$(this.cells).each(function(t){var d=r.colModel[t],c=d.name,h=getTdByColumnIndex.call(i,l,t);if("cb"!==c&&"subgrid"!==c&&"rn"!==c&&("dirty"!==e||h.hasClass("dirty-cell")))try{a[c]=$.unformat.call(i,h[0],{rowId:o[s].id,colModel:d},t)}catch(t){a[c]=n(h.html())}}),a.id=this.id,t.push(a)}})}),t}});var getGuiStyles=base.getGuiStyles,getGridRes=base.getGridRes;jgrid.jqModal=jgrid.jqModal||{},$.extend(!0,jgrid.jqModal,{toTop:!0}),$.extend(jgrid,{showModal:function(e){e.w.show()},closeModal:function(e){e.w.hide().attr("aria-hidden","true"),e.o&&e.o.remove()},hideModal:function(e,t){var i=!(!(t=$.extend({jqm:!0,gb:"",removemodal:!1},t||{})).gb||"string"!=typeof t.gb||"#gbox_"!==t.gb.substr(0,6))&&$("#"+t.gb.substr(6))[0],r=$(e);if(t.onClose){var n=i?t.onClose.call(i,e):t.onClose(e);if("boolean"==typeof n&&!n)return}if($.fn.jqm&&!0===t.jqm)r.attr("aria-hidden","true").jqmHide();else{if(""!==t.gb)try{$(">.jqgrid-overlay",t.gb).first().hide()}catch(e){}r.hide().attr("aria-hidden","true")}t.removemodal&&r.remove()},createModal:function(e,t,i,r,n,o,s){var a=jgrid.jqID,l=this.p;i=$.extend(!0,{resizingRightBottomIcon:base.getIconRes.call(this,"form.resizableLtr")},jgrid.jqModal||{},null!=l&&l.jqModal||{},i);var d=document.createElement("div"),c="#"+a(e.themodal),h="rtl"===$(i.gbox).attr("dir"),u=!!e.resizeAlso&&"#"+a(e.resizeAlso);s=$.extend({},s||{}),d.className=getGuiStyles.call(this,"dialog.window","ui-jqdialog"),d.id=e.themodal,d.dir=h?"rtl":"ltr";var f=document.createElement("div");f.className=getGuiStyles.call(this,"dialog.document"),$(f).attr("role","document");var p=document.createElement("div");p.className=getGuiStyles.call(this,"dialog.subdocument"),f.appendChild(p),d.appendChild(f);var g=document.createElement("div");g.className=getGuiStyles.call(this,"dialog.header","ui-jqdialog-titlebar "+(h?"ui-jqdialog-titlebar-rtl":"ui-jqdialog-titlebar-ltr")),g.id=e.modalhead,$(g).append("<span class='ui-jqdialog-title'>"+i.caption+"</span>");var m=getGuiStyles.call(this,"states.hover"),v=$("<a aria-label='Close' class='"+getGuiStyles.call(this,"dialog.closeButton","ui-jqdialog-titlebar-close")+"'></a>").hover(function(){v.addClass(m)},function(){v.removeClass(m)}).append("<span class='"+base.getIconRes.call(this,"form.close")+"'></span>");$(g).append(v);var b=document.createElement("div");$(b).addClass(getGuiStyles.call(this,"dialog.content","ui-jqdialog-content")).attr("id",e.modalcontent),$(b).append(t),p.appendChild(b),$(p).prepend(g),!0===o?$("body").append(d):"string"==typeof o?$(o).append(d):$(d).insertBefore(r),$(d).css(s),void 0===i.jqModal&&(i.jqModal=!0);var y={};if($.fn.jqm&&!0===i.jqModal?(0===i.left&&0===i.top&&i.overlay&&((i=$(n).offset()).left+=4,i.top+=4),y.top=i.top+"px",y.left=i.left):0===i.left&&0===i.top||(y.left=i.left,y.top=i.top+"px"),$("a.ui-jqdialog-titlebar-close",g).click(function(){var e=$(c).data("onClose")||i.onClose,t=$(c).data("gbox")||i.gbox;return jgrid.hideModal(c,{gb:t,jqm:i.jqModal,onClose:e,removemodal:i.removemodal||!1}),!1}),0!==i.width&&i.width||(i.width=300),0!==i.height&&i.height||(i.height=200),!i.zIndex){var w=$(r).parents("*[role=dialog]").first().css("z-index");w?(i.zIndex=parseInt(w,10)+2,i.toTop=!0):i.zIndex=950}if(y.left&&(y.left+="px"),$(d).css($.extend({width:isNaN(i.width)?"auto":i.width+"px",height:isNaN(i.height)?"auto":i.height+"px",zIndex:i.zIndex},y)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":e.modalhead,"aria-hidden":"true"}),void 0===i.drag&&(i.drag=!0),void 0===i.resize&&(i.resize=!0),i.drag)if($.fn.jqDrag)$(g).css("cursor","move"),$(d).jqDrag(g);else try{$(d).draggable({handle:$("#"+a(g.id))})}catch(e){}if(i.resize)if($.fn.jqResize)$(b).append("<div class='jqResize ui-resizable-handle ui-resizable-se "+i.resizingRightBottomIcon+"'></div>"),$(c).jqResize(".jqResize",u);else try{$(d).resizable({handles:"se, sw",alsoResize:u})}catch(e){}!0===i.closeOnEscape&&$(d).keydown(function(e){if(27===e.which){var t=$(c).data("onClose")||i.onClose;jgrid.hideModal(c,{gb:i.gbox,jqm:i.jqModal,onClose:t,removemodal:i.removemodal||!1,formprop:!i.recreateForm||!1,form:i.form||""})}})},viewModal:function(e,t){if(t=$.extend(!0,{overlay:30,modal:!1,overlayClass:getGuiStyles.call(this,"overlay"),onShow:jgrid.showModal,onHide:jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},jgrid.jqModal||{},t||{}),$.fn.jqm&&!0===t.jqm)t.jqM?$(e).attr("aria-hidden","false").jqm(t).jqmShow():$(e).attr("aria-hidden","false").jqmShow();else{""!==t.gbox&&($(">.jqgrid-overlay",t.gbox).first().show(),$(e).data("gbox",t.gbox)),$(e).show().attr("aria-hidden","false");try{$(":input:visible",e)[0].focus()}catch(e){}}},info_dialog:function(e,t,i,r){var n=this,o=n.p,s=$.extend(!0,{width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]},jgrid.jqModal||{},null!=o&&o.jqModal||{},{caption:"<b>"+e+"</b>"},r||{}),a=s.jqModal;$.fn.jqm&&!a&&(a=!1);var l,d="",c=getGuiStyles.call(n,"states.hover");if(0<s.buttons.length)for(l=0;l<s.buttons.length;l++)void 0===s.buttons[l].id&&(s.buttons[l].id="info_button_"+l),d+=jgrid.builderFmButon.call(n,s.buttons[l].id,s.buttons[l].text);var h=isNaN(s.dataheight)?s.dataheight:s.dataheight+"px",u="text-align:"+s.align+";",f=$("#info_dialog"),p="<div id='info_id'>";p+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+h+";"+u+"'>"+t+"</div>",(i||""!==d)&&(p+="<hr class='"+getGuiStyles.call(n,"dialog.hr")+"' style='margin:1px'/><div style='text-align:"+s.buttonalign+";padding:.8em 0 .5em 0;background-image:none;border-width: 1px 0 0 0;'>"+(i?jgrid.builderFmButon.call(n,"closedialog",i):"")+d+"</div>"),p+="</div>";try{"false"===f.attr("aria-hidden")&&jgrid.hideModal("#info_dialog",{jqm:a}),f.remove()}catch(e){}jgrid.createModal.call(n,{themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",resizeAlso:"infocnt"},p,s,"","",!0),f=$("#info_dialog"),d&&$.each(s.buttons,function(){$("#"+jgrid.jqID(this.id),"#info_id").on("click",{click:this.onClick},function(e){return $.isFunction(e.data.click)&&e.data.click.call(n,e,f),!1})}),$("#closedialog","#info_id").click(function(){return jgrid.hideModal("#info_dialog",{jqm:a,onClose:f.data("onClose")||s.onClose,gb:f.data("gbox")||s.gbox}),!1}),$(".fm-button","#info_dialog").hover(function(){$(this).addClass(c)},function(){$(this).removeClass(c)}),$.isFunction(s.beforeOpen)&&s.beforeOpen(),jgrid.viewModal.call(n,"#info_dialog",{onHide:function(e){e.w.hide().remove(),e.o&&e.o.remove()},modal:s.modal,jqm:a}),$.isFunction(s.afterOpen)&&s.afterOpen();try{f.focus()}catch(e){}},bindEv:function(e,t){$.isFunction(t.dataInit)&&t.dataInit.call(this,e,t),t.dataEvents&&$.each(t.dataEvents,function(){void 0!==this.data?$(e).on(this.type,"object"==typeof this.data&&null!==this.data?$.extend(!0,{},t,this.data):this.data,this.fn):$(e).on(this.type,t,this.fn)})},createEl:function(e,t,i,r,n){var o="",s=this,a=s.p,l=jgrid.info_dialog,d=function(e){return getGridRes.call($(s),e)},c=d("errors.errcap"),h=d("edit"),u=h.msg,f=h.bClose;function p(e,t,i){var r=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value","generateValue","postData","selectFilled","rowId","column","mode","cm","iCol"];void 0!==i&&$.isArray(i)&&$.merge(r,i),$.each(t,function(t,i){-1===$.inArray(t,r)&&$(e).attr(t,i)}),t.hasOwnProperty("id")||$(e).attr("id",jgrid.randId())}if(null==t)return"";switch(e){case"textarea":o=document.createElement("textarea"),r?t.cols||$(o).css({width:"100%","box-sizing":"border-box"}):t.cols||(t.cols=19),t.rows||(t.rows=2),("&nbsp;"===i||"&#160;"===i||1===i.length&&160===i.charCodeAt(0))&&(i=""),o.value=i,p(o,t),$(o).attr({role:"textbox"});break;case"checkbox":if((o=document.createElement("input")).type="checkbox",""!==i&&null!=i||(i=t.hasOwnProperty("defaultValue")?$.isFunction(t.defaultValue)?t.defaultValue.call(s,{cellValue:i,options:t}):t.defaultValue:"false"),t.value){var g=t.value.split(":");i===g[0]&&(o.checked=!0,o.defaultChecked=!0),o.value=i,$(o).data("offval",g[1])}else{var m=String(i).toLowerCase();m.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==m?(o.checked=!0,o.defaultChecked=!0,o.value=i):o.value="on",$(o).data("offval","off")}p(o,t,["value"]),$(o).attr({role:"checkbox","aria-checked":o.checked?"true":"false"});break;case"select":o=document.createElement("select");var v,b=[],y=null;!0===t.multiple||"multiple"===t.multiple?(v=!0,o.multiple="multiple",$(o).attr("aria-multiselectable","true"),b=i.split(","),b=$.map(b,function(e){return $.trim(e)})):(v=!1,b[0]=$.trim(i)),void 0===t.size&&(t.size=v?3:1);try{y=t.rowId}catch(e){}if(a&&a.idPrefix&&(y=jgrid.stripPref(a.idPrefix,y)),void 0===t.dataUrl&&t.generateValue&&null!=a.indexByColumnData[t.cm.name]&&(t.value=s.generateValueFromColumnIndex(t.cm.name,t.separator,t.delimiter)),void 0!==t.dataUrl){var w=t.postData||n.postData,x={elem:o,options:t,cm:t.cm,mode:t.mode,rowid:y,iCol:t.iCol,ovm:b};p(o,t,w?["postData"]:void 0),$.ajax($.extend({url:$.isFunction(t.dataUrl)?t.dataUrl.call(s,y,i,String(t.name),x):t.dataUrl,type:"GET",dataType:"html",data:$.isFunction(w)?w.call(s,y,i,String(t.name)):w,context:x,success:function(e,t,i){var r=this.ovm,n=this.elem,o=this.cm,a=this.iCol,l=$.extend({},this.options),d=this.rowid,c=this.mode,h=$.isFunction(l.buildSelect)?l.buildSelect.call(s,e,i,o,a):e;"string"==typeof h&&(h=$($.trim(h)).html()),h&&($(n).append(h),setTimeout(function(){var e;$("option",n).each(function(t){0===t&&n.multiple&&(this.selected=!1),-1<$.inArray($.trim($(this).val()),r)&&(this.selected=!0,e=!0)}),e||$("option",n).each(function(){-1<$.inArray($.trim($(this).text()),r)&&(this.selected=!0)}),jgrid.fullBoolFeedback.call(s,l.selectFilled,"jqGridSelectFilled",{elem:n,options:l,cm:o,rowid:d,mode:c,cmName:null!=o?o.name:l.name,iCol:a})},0))}},n||{}))}else t.value&&(jgrid.fillSelectOptions(o,t.value,void 0===t.separator?":":t.separator,void 0===t.delimiter?";":t.delimiter,v,i),p(o,t,["value"]),jgrid.fullBoolFeedback.call(s,t.selectFilled,"jqGridSelectFilled",{elem:o,options:t,cm:t.cm,rowid:y,mode:t.mode,cmName:null!=t.cm?t.cm.name:t.name,iCol:t.iCol}));break;case"text":case"password":case"button":var C;C="button"===e?"button":"textbox",(o=document.createElement("input")).type=e,p(o,t),o.value=i,"button"!==e&&(r?t.size||$(o).css({width:"100%","box-sizing":"border-box"}):t.size||(t.size=20)),$(o).attr("role",C);break;case"image":case"file":(o=document.createElement("input")).type=e,p(o,t);break;case"custom":o=document.createElement("span");try{if(!$.isFunction(t.custom_element))throw"editoptions.custom_element is not a function";var S=t.custom_element.call(s,i,t);if(!(S instanceof jQuery||jgrid.isHTMLElement(S)||"string"==typeof S))throw"editoptions.custom_element returns value of a wrong type";S=$(S).addClass("customelement").attr({id:t.id,name:t.name}),$(o).empty().append(S)}catch(e){"e1"===e&&l.call(s,c,"function 'custom_element' "+u.nodefined,f),"e2"===e?l.call(s,c,"function 'custom_element' "+u.novalue,f):l.call(s,c,"string"==typeof e?e:e.message,f)}}return o},checkDate:function(e,t){var i,r={};if(i=-1!==(e=e.toLowerCase()).indexOf("/")?"/":-1!==e.indexOf("-")?"-":-1!==e.indexOf(".")?".":"/",e=e.split(i),3!==(t=t.split(i)).length)return!1;var n,o,s,a,l,d=-1,c=-1,h=-1;for(o=0;o<e.length;o++)s=isNaN(t[o])?0:parseInt(t[o],10),r[e[o]]=s,-1!==(n=e[o]).indexOf("y")&&(d=o),-1!==n.indexOf("m")&&(h=o),-1!==n.indexOf("d")&&(c=o);return n="y"===e[d]||"yyyy"===e[d]?4:"yy"===e[d]?2:-1,-1!==d&&(a=r[e[d]].toString(),2===n&&1===a.length&&(n=1),!(a.length!==n||0===r[e[d]]&&"00"!==t[d]||-1===h||(a=r[e[h]].toString()).length<1||r[e[h]]<1||12<r[e[h]]||-1===c||(a=r[e[c]].toString()).length<1||r[e[c]]<1||31<r[e[c]]||2===r[e[h]]&&r[e[c]]>((l=r[e[d]])%4!=0||l%100==0&&l%400!=0?28:29)||r[e[c]]>[0,31,29,31,30,31,30,31,31,30,31,30,31][r[e[h]]]))},isEmpty:function(e){return!(!e.match(/^\s+$/)&&""!==e)},checkTime:function(e){var t;if(!jgrid.isEmpty(e)){if(!(t=e.match(/^(\d{1,2}):(\d{2})([apAP][Mm])?$/)))return!1;if(t[3]){if(t[1]<1||12<t[1])return!1}else if(23<t[1])return!1;if(59<t[2])return!1}return!0},checkValues:function(e,t,i,r,n){var o,s,a,l,d,c=this,h=c.p,u=h.colModel,f=jgrid.isEmpty,p=getGridRes.call($(c),"edit.msg"),g=function(e){var t=o[e];return $.isFunction(t)?t.call(c,n):t},m=getGridRes.call($(c),"formatter.date.masks");if(void 0===i){if("string"==typeof t&&(t=h.iColByName[t]),void 0===t||t<0)return[!0,"",""];l=u[t],o=l.editrules,null!=l.formoptions&&(s=l.formoptions.label)}else o=i,s=void 0===r?"_":r,l=u[t];if(o){if(s||(s=null!=h.colNames?h.colNames[t]:l.label),!0===g("required")&&f(e))return[!1,s+": "+p.required,""];var v=!1!==g("required");if(!0===g("number")&&(!1!==v||!f(e))&&isNaN(e))return[!1,s+": "+p.number,""];if(void 0!==o.minValue&&!isNaN(o.minValue)&&parseFloat(e)<parseFloat(o.minValue))return[!1,s+": "+p.minValue+" "+o.minValue,""];if(void 0!==o.maxValue&&!isNaN(o.maxValue)&&parseFloat(e)>parseFloat(o.maxValue))return[!1,s+": "+p.maxValue+" "+o.maxValue,""];if(!0===g("email")&&!(!1===v&&f(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)))return[!1,s+": "+p.email,""];if(!0===g("integer")&&(!1!==v||!f(e))){if(isNaN(e))return[!1,s+": "+p.integer,""];if(e%1!=0||-1!==e.indexOf("."))return[!1,s+": "+p.integer,""]}if(!0===g("date")&&!(!1===v&&f(e)||(l.formatoptions&&l.formatoptions.newformat?(a=l.formatoptions.newformat,m.hasOwnProperty(a)&&(a=m[a])):a=u[t].datefmt||"Y-m-d",jgrid.checkDate(a,e))))return[!1,s+": "+p.date+" - "+a,""];if(!0===g("time")&&!(!1===v&&f(e)||jgrid.checkTime(e)))return[!1,s+": "+p.date+" - hh:mm (am/pm)",""];if(!0===g("url")&&!(!1===v&&f(e)||/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i.test(e)))return[!1,s+": "+p.url,""];if(!0===o.custom){if(!1!==v||!f(e))return $.isFunction(o.custom_func)?(d=o.custom_func.call(c,e,s,t),$.isArray(d)?d:[!1,p.customarray,""]):[!1,p.customfcheck,""]}else if($.isFunction(o.custom)&&(!1!==v||!f(e)))return d=o.custom.call(c,n),$.isArray(d)?d:[!1,p.customarray,""]}return[!0,"",""]}}),jgrid.extend({getColProp:function(e){var t,i=this[0];return null!=i&&i.grid&&void 0!==(t=i.p.iColByName[e])?i.p.colModel[t]:{}},setColProp:function(e,t){return this.each(function(){var i,r=this.p;this.grid&&null!=r&&t&&void 0!==(i=r.iColByName[e])&&$.extend(!0,r.colModel[i],t)})},sortGrid:function(e,t,i){return this.each(function(){var r,n,o,s=this.grid,a=this.p,l=a.colModel,d=l.length,c=!1;if(s)for(e||(e=a.sortname),"boolean"!=typeof t&&(t=!1),n=0;n<d;n++)if((r=l[n]).index===e||r.name===e){!0===a.frozenColumns&&!0===r.frozen&&(c=s.fhDiv.find("#"+jqID(a.id+"_"+e))),c&&0!==c.length||(c=s.headers[n].el),("boolean"!=typeof(o=r.sortable)||o)&&this.sortData(r.index||r.name,n,t,i,c);break}})},clearBeforeUnload:function(){return this.each(function(){var e,t=this,i=t.p,r=t.grid,n=jgrid.clearArray,o=Object.prototype.hasOwnProperty;$.isFunction(r.emptyRows)&&r.emptyRows.call(t,!0,!0),$(document).off("mousemove.jqGrid mouseup.jqGrid"+i.id),$(t).off();var s,a=r.headers.length;for(s=0;s<a;s++)r.headers[s].el=null;for(e in r)r.hasOwnProperty(e)&&(r.propOrMethod=null);var l=["formatCol","sortData","updatepager","refreshIndex","setHeadCheckBox","constructTr","clearToolbar","fixScrollOffsetAndhBoxPadding","rebuildRowIndexes","modalAlert","toggleToolbar","triggerToolbar","formatter","addXmlData","addJSONData","ftoolbar","_inlinenav","nav","grid","p"];for(a=l.length,s=0;s<a;s++)o.call(t,l[s])&&(t[l[s]]=null);t._index={},n(i.data),n(i.lastSelectedData),n(i.selarrrow),n(i.savedRow),i.editingInfo={}})},GridDestroy:function(){return this.each(function(){var e=this.p;if(this.grid&&null!=e){e.pager&&$(e.pager).remove();try{$("#alertmod_"+jqID(e.id)).remove(),$(this).jqGrid("clearBeforeUnload"),$(e.gBox).remove()}catch(e){}}})},GridUnload:function(){return this.each(function(){var e=$(this),t=this.p,i=$.fn.jqGrid;this.grid&&(e.removeClass(i.getGuiStyles.call(e,"grid","ui-jqgrid-btable")),t.pager&&(t.pager.substr(1,$.jgrid.uidPref.length)===$.jgrid.uidPref?$(t.pager).remove():$(t.pager).empty().removeClass(i.getGuiStyles.call(e,"pager.pager","ui-jqgrid-pager "+i.getGuiStyles.call(e,"bottom"))).removeAttr("style").removeAttr("dir")),e.jqGrid("clearBeforeUnload"),e.removeAttr("style").removeAttr("tabindex").removeAttr("role").removeAttr("aria-labelledby").removeAttr("style"),e.empty(),e.insertBefore(t.gBox).show(),$(t.pager).insertBefore(t.gBox).show(),$(t.gBox).remove())})},setGridState:function(e){return this.each(function(){var t=this,i=t.p,r=t.grid,n=r.cDiv,o=$(r.uDiv),s=$(r.ubDiv);if(r&&null!=i){var a=function(e){return base.getIconRes.call(t,"gridMinimize."+e)},l=a("visible"),d=a("hidden");"hidden"===e?($(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv",i.gView).slideUp("fast"),i.pager&&$(i.pager).slideUp("fast"),i.toppager&&$(i.toppager).slideUp("fast"),!0===i.toolbar[0]&&("both"===i.toolbar[1]&&s.slideUp("fast"),o.slideUp("fast")),i.footerrow&&$(".ui-jqgrid-sdiv",i.gBox).slideUp("fast"),$(".ui-jqgrid-titlebar-close span",n).removeClass(l).addClass(d),i.gridstate="hidden"):"visible"===e&&($(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv",i.gView).slideDown("fast"),i.pager&&$(i.pager).slideDown("fast"),i.toppager&&$(i.toppager).slideDown("fast"),!0===i.toolbar[0]&&("both"===i.toolbar[1]&&s.slideDown("fast"),o.slideDown("fast")),i.footerrow&&$(".ui-jqgrid-sdiv",i.gBox).slideDown("fast"),$(".ui-jqgrid-titlebar-close span",n).removeClass(d).addClass(l),i.gridstate="visible")}})},filterToolbar:function(e){return this.each(function(){var t=this,i=t.grid,r=$(t),n=t.p,o=jgrid.info_dialog,s=jgrid.htmlEncode;if(!this.ftoolbar){var a,l=$.extend(!0,{autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:n.prmNames.filters,stringResult:!1,groupOp:"AND",defaultSearch:"bw",idMode:"new",searchOperators:!1,resetIcon:"&times;",applyLabelClasses:!0,loadFilterDefaults:!0,operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^",in:"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},jgrid.search,n.searching||{},e||{}),d=n.colModel,c=function(e){return getGridRes.call(r,e)},h=c("errors.errcap"),u=c("edit.bClose"),f=c("edit.msg"),p=getGuiStyles.call(t,"states.hover"),g=getGuiStyles.call(t,"states.select"),m=getGuiStyles.call(t,"filterToolbar.dataField"),v={},b=function(e){var t="gs_";switch(l.idMode){case"compatibility":t+=n.idPrefix;break;case"new":t+=n.id+"_"}return t+e},y=function(e){return"#"+jqID(b(e))},w=function(e){var t=(e.value||"").split(":");return{on:t[0]||"on",off:t[1]||"off"}},x=function(e){var t,i,r,o,s,a,c=n.postData[l.sFilter],h={},u=n.iColByName;if(e)for(i=0;i<d.length;i++)!1!==(s=d[i]).search&&(a=s.searchoptions||{},h[s.name]={op:a.sopt?a.sopt[0]:"select"===s.stype||"checkbox"===s.stype?"eq":l.defaultSearch,data:void 0!==a.defaultValue?a.defaultValue:""});if(!c||!n.search)return h;if("string"==typeof c)try{c=$.parseJSON(c)}catch(e){c={}}else c=c||{};if(r=c.rules||{},null==c||null!=c.groupOp&&null!=l.groupOp&&c.groupOp.toUpperCase()!==l.groupOp.toUpperCase()||null==r||0===r.length||null!=c.groups&&0<c.groups.length)return h;for(i=0;i<r.length;i++)for(o=r[i],s=d[u[o.field]],t=0;t<d.length;t++)if(((s=d[t]).index||s.name)===o.field&&!1!==s.search){if((a=s.searchoptions||{}).sopt){if($.inArray(o.op,a.sopt)<0)continue}else if("select"===s.stype||"checkbox"===s.stype){if("eq"!==o.op)continue}else if(o.op!==l.defaultSearch)continue;h[s.name]={op:o.op,data:o.data}}return h},C=function(e,t){switch(t){case 1:e.data("state",1).prop({checked:!0,indeterminate:!1});break;case 0:e.data("state",0).prop({checked:!1,indeterminate:!1});break;default:e.data("state",-1).prop({checked:!1,indeterminate:!0})}},S=function(){var e={},o=0,s={};$.each(d,function(){var r,a,d=this,h=d.index||d.name,u=d.searchoptions||{},f=$(y(d.name),!0===d.frozen&&!0===n.frozenColumns?i.fhDiv:i.hDiv),p=function(e,t){var i=d.formatoptions||{};return void 0!==i[e]?i[e]:c("formatter."+(t||d.formatter)+"."+e)},g=function(e){var t=p("thousandsSeparator").replace(/([\.\*\_\'\(\)\{\}\+\?\\])/g,"\\$1");return e.replace(new RegExp(t,"g"),"")};if(a=l.searchOperators?f.parent().prev().children("a").data("soper")||l.defaultSearch:u.sopt?u.sopt[0]:"select"===d.stype||"checkbox"===d.stype?"eq":l.defaultSearch,"custom"===d.stype&&$.isFunction(u.custom_value)&&0<f.length&&"SPAN"===f[0].nodeName.toUpperCase())r=u.custom_value.call(t,f.children(".customelement").first(),"get");else if("select"===d.stype)r=f.prop("multiple")?null==(r=f.val())||0===r.length?"":r.join(n.inFilterSeparator||","):f.val();else if("checkbox"===d.stype){var m=w(u);switch(f.data("state")){case-1:r="";break;case 0:r=m.off;break;default:r=m.on}}else switch(r=$.trim(f.val()),d.formatter){case"integer":""!==(r=g(r).replace(p("decimalSeparator","number"),"."))&&(r=String(parseInt(r,10)));break;case"number":""!==(r=g(r).replace(p("decimalSeparator"),"."))&&"0"===String(r).charAt(0)&&(r=String(parseFloat(r)));break;case"currency":var v=p("prefix"),b=p("suffix");v&&v.length&&r.substr(0,v.length)===v&&(r=r.substr(v.length)),b&&b.length&&r.length>b.length&&r.substr(r.length-b.length,b.length)===b&&(r=r.substr(0,r.length-b.length)),""!==(r=g(r).replace(p("decimalSeparator"),"."))&&(r=String(parseFloat(r)))}if(r||"nu"===a||"nn"===a||0<=$.inArray(a,n.customUnaryOperations))e[h]=r,s[h]=a,o++;else if(e.hasOwnProperty(h)&&delete e[h],!l.stringResult&&!l.searchOperators&&"local"!==n.datatype)try{null!=n.postData&&n.postData.hasOwnProperty(h)&&delete n.postData[h]}catch(r){}});var a,h=0<o;if(l.stringResult||l.searchOperators||"local"===n.datatype){var u='{"groupOp":"'+l.groupOp+'","rules":[',f=0;$.each(e,function(e,t){0<f&&(u+=","),u+='{"field":"'+e+'",',u+='"op":"'+s[e]+'",',u+='"data":"'+(t+="").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',f++}),u+="]}",n.postData[l.sFilter]=u,$.each([l.sField,l.sValue,l.sOper],function(e,t){n.postData.hasOwnProperty(t)&&delete n.postData[t]})}else $.extend(n.postData,e);n.searchurl&&(a=n.url,r.jqGrid("setGridParam",{url:n.searchurl}));var p="stop"===r.triggerHandler("jqGridToolbarBeforeSearch");!p&&$.isFunction(l.beforeSearch)&&(p=l.beforeSearch.call(t)),p||r.jqGrid("setGridParam",{search:h}).trigger("reloadGrid",[$.extend({page:1},l.reloadGridSearchOptions||{})]),a&&r.jqGrid("setGridParam",{url:a}),r.triggerHandler("jqGridToolbarAfterSearch"),$.isFunction(l.afterSearch)&&l.afterSearch.call(t)},k=c("search.odata")||[],D=n.customSortOperations,T=[],A=$("<tr></tr>",{class:"ui-search-toolbar",role:"row form"});l.loadFilterDefaults&&(v=x()||{}),$.each(d,function(e){var i,s,d,g,y,w,x,N=this,_="filter",M=N.searchoptions||{},E=N.editoptions||{},O=$("<th></th>",{class:getGuiStyles.call(t,"colHeaders","ui-th-column ui-th-"+n.direction+" "+(l.applyLabelClasses&&N.labelClasses||"")),role:"gridcell","aria-describedby":n.id+"_"+N.name}),I=$("<div></div>"),R=$("<table class='ui-search-table'><tbody><tr><td class='ui-search-oper'></td><td class='ui-search-input'></td><td class='ui-search-clear' style='width:1px'></td></tr></tbody></table>"),F=R.children("tbody").children("tr").children("td"),L=F.eq(0),j=F.eq(1),P=F.eq(2);if(!0===this.hidden&&O.css("display","none"),this.search=!1!==this.search,void 0===this.stype&&(this.stype="text"),i=$.extend({mode:_,name:N.name,cm:N,iCol:e,id:b(N.name)},M),this.search){if(l.searchOperators){for(g=n.search&&null!=v[this.name]?v[this.name].op:i.sopt?i.sopt[0]:"select"===N.stype||"checkbox"===N.stype?"eq":l.defaultSearch,y=0;y<k.length;y++)if(k[y].oper===g){d=l.operands[g]||"";break}var z;if(void 0===d&&null!=D)for(z in D)if(D.hasOwnProperty(z)&&z===g){d=D[z].operand;break}void 0===d&&(d="="),L.append("<a title='"+(null!=i.searchtitle?i.searchtitle:c("search.operandTitle"))+"' data-soper='"+g+"' class='"+getGuiStyles.call(t,"searchToolbar.operButton","soptclass")+"' data-colname='"+this.name+"'>"+d+"</a>")}if(L.data("colindex",e),null!=i.sopt&&1!==i.sopt.length||L.hide(),n.search&&null!=v[this.name]&&(i.defaultValue=v[this.name].data),void 0===i.clearSearch&&(i.clearSearch="text"===this.stype),i.clearSearch){var B=$.isFunction(l.resetTitle)?l.resetTitle.call(t,{options:l,cm:N,cmName:N.name,iCol:e}):(c("search.resetTitle")||"Clear Search Value")+" "+jgrid.stripHtml(n.colNames[e]);P.append("<a title='"+B+"' aria-label='"+B+"' class='"+getGuiStyles.call(t,"searchToolbar.clearButton","clearsearchclass")+"'><span>"+l.resetIcon+"</span></a>")}else P.hide();switch(I.append(R),this.stype){case"checkbox":var H=void 0!==i.defaultValue?i.defaultValue:"-1";x=$("<input role='search' type='checkbox' class='"+m+"' name='"+(N.index||N.name)+"' id='"+b(N.name)+"' aria-labelledby='jqgh_"+n.id+"_"+N.name+"' data-state='"+H+"'/>"),"-1"===H?x.prop("indeterminate",!0):"1"===H&&x.prop("checked",!0),x.click(function(){var e=$(this);switch(e.data("state")){case-1:C(e,1);break;case 0:C(e,-1);break;default:C(e,0)}!0===l.autosearch&&S()}),j.append(x),i.attr&&x.attr(i.attr),T.push({elem:x[0],options:i});break;case"select":var q,W,G;if(s=this.surl||i.dataUrl)$.ajax($.extend({url:s,context:{$tdInput:j,options:i,cm:N,iCol:e},dataType:"html",success:function(e,r,n){var o,s,a,d=this.cm,c=this.iCol,h=this.options,u=this.$tdInput;void 0!==h.buildSelect?(o=h.buildSelect.call(t,e,n,d,c))&&u.append(o):u.append(e),(a=u.children("select")).attr({name:d.index||d.name,id:b(d.name)}),h.attr&&a.attr(h.attr),a.addClass(m),a.css({width:"100%"}),0===a.find("option[value='']").length&&"string"==typeof i.noFilterText&&((s=document.createElement("option")).value="",s.innerHTML=i.noFilterText,a.prepend(s),null!=$(a[0].options[a[0].selectedIndex]).attr("selected")||a[0].multiple||(a[0].selectedIndex=0)),a[0].multiple&&0===a.find("option[selected]").length&&-1!==a[0].selectedIndex&&(a[0].options[a[0].selectedIndex].selected=!1),void 0!==h.defaultValue&&a.val(h.defaultValue),jgrid.bindEv.call(t,a[0],h),jgrid.fullBoolFeedback.call(t,h.selectFilled,"jqGridSelectFilled",{elem:a[0],options:h,cm:d,cmName:d.name,iCol:c,mode:_}),!0===l.autosearch&&a.change(function(){return S(),!1})}},jgrid.ajaxOptions,n.ajaxSelectOptions||{}));else if(N.searchoptions?(q=void 0===M.value?E.value||"":M.value,W=void 0===M.separator?E.separator||":":M.separator,G=void 0===M.delimiter?E.delimiter||";":M.delimiter):N.editoptions&&(q=void 0===E.value?"":E.value,W=void 0===E.separator?":":E.separator,G=void 0===E.delimiter?";":E.delimiter),M.generateValue&&null!=n.indexByColumnData[N.name]&&(q=t.generateValueFromColumnIndex(N.name,W,G)),q){if((w=document.createElement("select")).style.width="100%",x=$(w).attr({name:N.index||N.name,role:"search",id:b(N.name),"aria-describedby":n.id+"_"+N.name}),i.attr&&x.attr(i.attr),!jgrid.fillSelectOptions(w,q,W,G,null!=i.attr&&i.attr.multiple)&&"string"==typeof i.noFilterText){var V=document.createElement("option");V.value="",V.innerHTML=i.noFilterText,V.selected=!0,x.prepend(V)}void 0!==i.defaultValue&&x.val(i.defaultValue),x.addClass(m),T.push({elem:w,options:i}),j.append(w),jgrid.fullBoolFeedback.call(t,i.selectFilled,"jqGridSelectFilled",{elem:w,options:N.searchoptions||E,cm:N,cmName:N.name,iCol:e,mode:_}),!0===l.autosearch&&x.change(function(){return S(),!1})}break;case"text":if(x=$("<input role='search' type='text' class='"+m+"' name='"+(N.index||N.name)+"' id='"+b(N.name)+"' aria-labelledby='jqgh_"+n.id+"_"+N.name+"' value='"+(void 0!==i.defaultValue?i.defaultValue:"")+"'/>"),j.append(x),N.createColumnIndex&&i.generateDatalist){var U="dl_"+b(N.name),Y=r.jqGrid("generateDatalistFromColumnIndex",N.name);null!=Y&&0<Y.length&&(x.attr("list",U),j.append(Y.attr("id",U)))}i.attr&&x.attr(i.attr),T.push({elem:x[0],options:i}),!0===l.autosearch&&(l.searchOnEnter?x.keypress(function(e){return 13===(e.charCode||e.keyCode||0)?(S(),!1):this}):x.keydown(function(e){switch(e.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:a&&clearTimeout(a),a=setTimeout(function(){S()},l.autosearchDelay)}}));break;case"custom":j.append("<span style='width:100%;padding:0;box-sizing:border-box;' name='"+(N.index||N.name)+"' id='"+b(N.name)+"'/>");try{if(!$.isFunction(i.custom_element))throw"e1";var X=i.custom_element.call(t,void 0!==i.defaultValue?i.defaultValue:"",i);if(!X)throw"e2";X=$(X).addClass("customelement"),I.find("span[name='"+(N.index||N.name)+"']").append(X)}catch(e){"e1"===e&&o.call(t,h,"function 'custom_element' "+f.nodefined,u),"e2"===e?o.call(t,h,"function 'custom_element' "+f.novalue,u):o.call(t,h,"string"==typeof e?e:e.message,u)}}}O.append(I),O.find(".ui-search-oper .soptclass,.ui-search-clear .clearsearchclass").hover(function(){$(this).addClass(p)},function(){$(this).removeClass(p)}),A.append(O),l.searchOperators||L.hide()}),$(i.hDiv).find(">div>.ui-jqgrid-htable>thead").append(A),$.each(T,function(){jgrid.bindEv.call(t,this.elem,this.options)}),l.searchOperators&&($(".soptclass",A).click(function(e){var i=$(this).offset();!function(e,i,o){$("#sopt_menu").remove(),i=parseInt(i,10),o=parseInt(o,10)+18;var a,c,h=0,u=[],f=$(e).data("soper"),m=$(e).data("colname"),v=$(".ui-jqgrid-view").css("font-size")||"11px",b="<ul id='sopt_menu' class='"+getGuiStyles.call(t,"searchToolbar.menu","ui-search-menu")+"' role='menu' tabindex='0' style='z-index:9999;display:block;font-size:"+v+";left:"+i+"px;top:"+o+"px;'>";if(void 0!==(h=n.iColByName[m])){var y,w,x,C,T,A=d[h],N=$.extend({},A.searchoptions);for(N.sopt||(N.sopt=[],N.sopt[0]="select"===A.stype||"checkbox"===A.stype?"eq":l.defaultSearch),$.each(k,function(){u.push(this.oper)}),null!=D&&$.each(D,function(e){u.push(e)}),h=0;h<N.sopt.length;h++)x=N.sopt[h],-1!==(c=$.inArray(x,u))&&(void 0!==(y=k[c])?(C=l.operands[x],T=y.text):null!=D&&(C=(w=D[x]).operand,T=w.text),a=f===x?g:"",b+='<li class="'+getGuiStyles.call(t,"searchToolbar.menuItem","ui-jqgrid-menu-item "+a)+'" role="presentation"><a class="'+getGuiStyles.call(t,"searchToolbar.menuItemButton","g-menu-item")+'" tabindex="0" role="menuitem" value="'+s(x)+'" data-oper="'+s(C)+'"><table><tr><td style="width:25px">'+s(C)+"</td><td>"+s(T)+"</td></tr></table></a></li>");b+="</ul>",$("body").append(b),$("#sopt_menu > li > a").hover(function(){$(this).addClass(p)},function(){$(this).removeClass(p)}).click(function(){var t=$(this).attr("value"),i=$(this).data("oper");if(r.triggerHandler("jqGridToolbarSelectOper",[t,i,e]),$("#sopt_menu").hide(),$(e).data("soper",t).text(i),!0===l.autosearch){var o=$(e).parent().next().children()[0];($(o).val()||"nu"===t||"nn"===t||0<=$.inArray(t,n.customUnaryOperations))&&S()}})}}(this,i.left,i.top),e.stopPropagation()}),$("body").on("click",function(e){"soptclass"!==e.target.className&&$("#sopt_menu").hide()})),$(".clearsearchclass",A).click(function(){var e,t,i=$(this).closest(".ui-search-clear"),r=i.siblings(".ui-search-oper"),o=r.children("a"),s=o.data("soper"),a=parseInt(r.data("colindex"),10),c=i.siblings(".ui-search-input"),h=d[a],u=$.extend({},h.searchoptions||{}),f=u.defaultValue||"";switch(h.stype){case"select":f?c.find("select").val(f):c.find("select")[0].selectedIndex=0;break;case"checkbox":C(c.find("input[type=checkbox]"),-1);break;default:c.find("input").val(f)}("nu"===s||"nn"===s||0<=$.inArray(s,n.customUnaryOperations))&&(e=u.sopt?u.sopt[0]:"select"===h.stype||"checkbox"===h.stype?"eq":l.defaultSearch,t=null!=D&&null!=D[e]?D[e].operand:l.operands[e]||"",o.data("soper",e).text(t)),!0===l.autosearch&&S()}),t.ftoolbar=!0,t.triggerToolbar=S,t.clearToolbar=function(e){var o,s={},a=0;e="boolean"!=typeof e||e,$.each(d,function(){var e,r,l=this,d=$(y(l.name),!0===l.frozen&&!0===n.frozenColumns?i.fhDiv:i.hDiv),c=l.searchoptions||{};switch(void 0!==c.defaultValue&&(e=c.defaultValue),o=l.index||l.name,l.stype){case"checkbox":C(d,-1);break;case"select":if(r=!(0<d.length&&d[0].multiple),d.find("option").each(function(t){if(this.selected=0===t&&r,$(this).val()===e)return!(this.selected=!0)}),void 0!==e)s[o]=e,a++;else try{delete n.postData[o]}catch(l){}break;case"text":if(d.val(e||""),void 0!==e)s[o]=e,a++;else try{delete n.postData[o]}catch(l){}break;case"custom":$.isFunction(c.custom_value)&&0<d.length&&"SPAN"===d[0].nodeName.toUpperCase()&&(void 0===e&&(e=""),c.custom_value.call(t,d.children(".customelement").first(),"set",e))}});var c,h=0<a;if(n.resetsearch=!0,l.stringResult||l.searchOperators||"local"===n.datatype){var u='{"groupOp":"'+l.groupOp+'","rules":[',f=0;$.each(s,function(e,t){0<f&&(u+=","),u+='{"field":"'+e+'",',u+='"op":"eq",',u+='"data":"'+(t+="").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',f++}),u+="]}",n.postData[l.sFilter]=u,$.each([l.sField,l.sValue,l.sOper],function(e,t){n.postData.hasOwnProperty(t)&&delete n.postData[t]})}else $.extend(n.postData,s);n.searchurl&&(c=n.url,r.jqGrid("setGridParam",{url:n.searchurl}));var p="stop"===r.triggerHandler("jqGridToolbarBeforeClear");!p&&$.isFunction(l.beforeClear)&&(p=l.beforeClear.call(t)),p||e&&r.jqGrid("setGridParam",{search:h}).trigger("reloadGrid",[$.extend({page:1},l.reloadGridResetOptions||{})]),c&&r.jqGrid("setGridParam",{url:c}),r.triggerHandler("jqGridToolbarAfterClear"),$.isFunction(l.afterClear)&&l.afterClear.call(t)},t.toggleToolbar=function(){var e=$("tr.ui-search-toolbar",i.hDiv),t=!0===n.frozenColumns&&$("tr.ui-search-toolbar",i.fhDiv);"none"===e.css("display")?(e.show(),t&&t.show()):(e.hide(),t&&t.hide()),!0===n.frozenColumns&&(r.jqGrid("destroyFrozenColumns"),r.jqGrid("setFrozenColumns"))},!0===n.frozenColumns&&(r.jqGrid("destroyFrozenColumns"),r.jqGrid("setFrozenColumns")),r.on("jqGridRefreshFilterValues.filterToolbar"+(l.loadFilterDefaults?" jqGridAfterLoadComplete.filterToolbar":""),function(){var e,i,r,o,s,a,d,c=x(!0)||{};if(l.stringResult||l.searchOperators||"local"===n.datatype||!n.search){for(e in c)if(c.hasOwnProperty(e)&&(i=c[e],a=(r=$(y(e))).closest("th.ui-th-column"),0<r.length&&0<a.length)){if(d=(n.colModel[a[0].cellIndex]||{}).searchoptions||{},"SELECT"===r[0].tagName.toUpperCase()&&r[0].multiple)r.val(i.data.split(n.inFilterSeparator||","));else if(r.is("input[type=checkbox]")){var h=w(d);C(r,i.data===h.on?1:i.data===h.off?0:-1)}else if(0<r.find(".customelement").length&&$.isFunction(d.custom_value)){var u=d.custom_value.call(t,r.find(".customelement").first(),"get");""===i.data&&void 0!==d.defaultValue&&(i.data=d.defaultValue),void 0===u&&(u=""),i.data!==u&&String(i.data)!==String(u)&&d.custom_value.call(t,r.find(".customelement").first(),"set",i.data)}else""===i.data&&void 0!==d.defaultValue&&(i.data=d.defaultValue),$.trim(r.val())!==String(i.data)&&r.val(i.data);(o=r.closest(".ui-search-input").siblings(".ui-search-oper").children(".soptclass")).data("soper",i.op),o.text(l.operands[i.op]||(n.customSortOperations[i.op]||{}).operand)}for(s=0;s<n.colModel.length;s++)e=n.colModel[s].name,c.hasOwnProperty(e)||$(y(e)).val("")}})}})},destroyFilterToolbar:function(){return this.each(function(){var e=this;e.ftoolbar&&(e.triggerToolbar=null,e.clearToolbar=null,e.toggleToolbar=null,e.ftoolbar=!1,$(e.grid.hDiv).find("table thead tr.ui-search-toolbar").remove(),!0===e.p.frozenColumns&&$(e).jqGrid("destroyFrozenColumns").jqGrid("setFrozenColumns"))})},destroyGroupHeader:function(e){return void 0===e&&(e=!0),this.each(function(){var t,i,r,n,o,s=this.grid,a=this.p.colModel,l=$("table.ui-jqgrid-htable thead",s.hDiv);if(s){$(this).off(".setGroupHeaders");var d=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),c=s.headers;for(t=0,i=c.length;t<i;t++){o=a[t].hidden?"none":"",r=$(c[t].el).width(c[t].width).css("display",o);try{r.removeAttr("rowSpan")}catch(t){r.attr("rowSpan",1)}d.append(r),0<(n=r.children("span.ui-jqgrid-resize")).length&&(n[0].style.height=""),r.children("div")[0].style.top=""}$(l).children("tr.ui-jqgrid-labels").remove(),$(l).prepend(d),!0===e&&$(this).jqGrid("setGridParam",{groupHeader:null})}})},setGroupHeaders:function(e){return e=$.extend({useColSpanStyle:!1,applyLabelClasses:!0,groupHeaders:[]},e||{}),this.each(function(){this.p.groupHeader=e;var t,i,r,n,o,s,a,l,d,c,h,u,f,p,g=this,m=0,v=g.p,b=v.colModel,y=b.length,w=g.grid.headers,x=$("table.ui-jqgrid-htable",g.grid.hDiv),C=jgrid.isCellClassHidden,S=x.children("thead").children("tr.ui-jqgrid-labels"),k=S.last().addClass("jqg-second-row-header"),D=x.children("thead"),T=x.find(".jqg-first-row-header");void 0===T[0]?T=$("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):T.empty();var A=function(e,t){var i;for(i=0;i<t.length;i++)if(t[i].startColumnName===e)return t[i];return 0};for($(g).prepend(D),r=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header"),t=0;t<y;t++)if(o=w[t].el,s=$(o),i=b[t],a={height:"0",width:w[t].width+"px",display:i.hidden?"none":""},$("<th>",{role:"gridcell"}).css(a).addClass("ui-first-th-"+v.direction+(e.applyLabelClasses?" "+(i.labelClasses||""):"")).appendTo(T),o.style.width="",p=getGuiStyles.call(g,"colHeaders","ui-th-column-header ui-th-"+v.direction+" "+(e.applyLabelClasses&&i.labelClasses||"")),d=A(i.name,e.groupHeaders)){for(c=d.numberOfColumns,h=d.titleText,l=u=0;l<c&&t+l<y;l++)b[t+l].hidden||C(b[t+l].classes)||u++;n=$("<th>").addClass(p).html(h||"&nbsp;"),0<u&&n.attr("colspan",String(u)),v.headertitles&&n.attr("title",n.text()),0===u&&n.hide(),s.before(n),r.append(o),m=c-1}else 0===m?e.useColSpanStyle?s.attr("rowspan",S.length+1):($("<th>").addClass(p).css({display:i.hidden?"none":"","border-top":"0 none"}).insertBefore(s),r.append(o)):(r.append(o),m--);(f=$(g).children("thead")).prepend(T),r.insertAfter(k),x.prepend(f),$(g).triggerHandler("jqGridAfterSetGroupHeaders")})},getNumberOfFrozenColumns:function(){var e=this;if(0===e.length)return 0;var t,i=(e=e[0]).p.colModel,r=i.length,n=-1;for(t=0;t<r&&!0===i[t].frozen;t++)n=t;return n+1},setFrozenColumns:function(e){return e=e||{},this.each(function(){var t=this,i=$(t),r=t.p,n=t.grid;if(n&&null!=r&&!0!==r.frozenColumns){var o,s,a=r.colModel,l=a.length,d=-1,c=!1,h=[],u=jqID(r.id),f=getGuiStyles.call(t,"states.hover");if(!0!==r.subGrid&&!0!==r.treeGrid&&!r.scroll){for(o=0;o<l&&!0===a[o].frozen;o++)c=!0,d=o,h.push("#jqgh_"+u+"_"+jqID(a[o].name));if(r.sortable){s=$(n.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels");try{s.sortable("destroy")}catch(s){}i.jqGrid("setGridParam",{sortable:{options:{items:0<h.length?">th:not(:has("+h.join(",")+"),:hidden)":">th:not(:hidden)"}}}),i.jqGrid("sortableColumns",s)}if(0<=d&&c){var p=r.caption?$(n.cDiv).outerHeight():0,g=$(".ui-jqgrid-htable",r.gView).height();r.toppager&&(p+=$(n.topDiv).outerHeight()),!0===r.toolbar[0]&&"bottom"!==r.toolbar[1]&&(p+=$(n.uDiv).outerHeight()),n.fhDiv=$("<div style='position:absolute;overflow:hidden;"+("rtl"===r.direction?"right:0;border-top-left-radius:0;":"left:0;border-top-right-radius:0;")+"top:"+p+"px;height:"+g+"px;' class='"+getGuiStyles.call(t,"hDiv","frozen-div ui-jqgrid-hdiv")+"'></div>"),n.fbDiv=$("<div style='position:absolute;overflow:hidden;"+("rtl"===r.direction?"right:0;":"left:0;")+"top:"+(parseInt(p,10)+parseInt(g,10)+1)+"px;overflow:hidden;' class='frozen-bdiv ui-jqgrid-bdiv'></div>"),$(r.gView).append(n.fhDiv);var m=$(".ui-jqgrid-htable",r.gView).clone(!0),v=m[0].tHead.rows;if(r.groupHeader){$(v[0].cells).filter(":gt("+d+")").remove(),$(v).filter(".jqg-third-row-header").each(function(){$(this).children("th[id]").each(function(){var e,i=$(this).attr("id");i&&i.substr(0,t.id.length+1)===t.id+"_"&&(e=i.substr(t.id.length+1),r.iColByName[e]>d&&$(this).remove())})});var b,y=-1,w=-1;$(v).filter(".jqg-second-row-header").children("th").each(function(){if(b=parseInt($(this).attr("colspan")||1,10),1<parseInt($(this).attr("rowspan")||1,10)?(y++,w++):b&&(y+=b,w++),y===d)return!1}),y!==d&&(w=d),$(v).filter(".jqg-second-row-header,.ui-search-toolbar").each(function(){$(this).children(":gt("+w+")").remove()})}else $(v).each(function(){$(this).children(":gt("+d+")").remove()});if($(m).width(1),$(n.fhDiv).append(m).scroll(function(){this.scrollLeft=0}),r.footerrow){var x=$(".ui-jqgrid-bdiv",r.gView).height();n.fsDiv=$("<div style='position:absolute;"+("rtl"===r.direction?"right:0;":"left:0;")+"top:"+(parseInt(p,10)+parseInt(g,10)+parseInt(x,10)+1)+"px;' class='frozen-sdiv ui-jqgrid-sdiv'></div>"),$(r.gView).append(n.fsDiv);var C=$(".ui-jqgrid-ftable",r.gView).clone(!0);$("tr",C).each(function(){$("td:gt("+d+")",this).remove()}),$(C).width(1),$(n.fsDiv).append(C)}$(r.gView).append(n.fbDiv),$(n.bDiv).scroll(function(){$(n.fbDiv).scrollTop($(this).scrollTop())}),$(n.fbDiv).on("mousewheel.setFrozenColumns DOMMouseScroll.setFrozenColumns",function(i){n.bDiv.scrollTop+=$.isFunction(e.mouseWheel)?e.mouseWheel.call(t,i):"mousewheel"===i.type?-i.originalEvent.wheelDelta/10:6*i.originalEvent.detail}),!0===r.hoverrows&&$(r.idSel).off("mouseover.jqGrid mouseout.jqGrid");var S=function(e,t){var i=e.height();1<=Math.abs(i-t)&&0<t&&(e.height(t),i=e.height(),1<=Math.abs(t-i)&&e.height(t+Math.round(t-i)))},k=function(e,t){var i=e.width();1<=Math.abs(i-t)&&(e.width(t),i=e.width(),1<=Math.abs(t-i)&&e.width(t+Math.round(t-i)))},D=function(e,t,i,n){var s,a,l,d,c,h,u,f,p,g,m,v,b=$(t).position().top;if(null!=e&&0<e.length){if(e[0].scrollTop=t.scrollTop,e.css("rtl"===r.direction?{top:b,right:0}:{top:b,left:0}),l=e.children("table").children("thead").children("tr"),0===(d=$(t).children("div").children("table").children("thead").children("tr")).length&&0<e.children("table").length&&(l=$(e.children("table")[0].rows),d=$($(t).children("div").children("table")[0].rows)),g=0<(a=Math.min(l.length,d.length))?$(l[0]).position().top:0,m=0<a?$(d[0]).position().top:0,0<=i)for(0<=n&&(a=Math.min(n+1,a)),s=i;s<a;s++)if("none"!==(c=$(d[s])).css("display")&&c.is(":visible")){if(b=c.position().top,u=(h=$(l[s])).position().top,f=c.height(),null!=r.groupHeader&&r.groupHeader.useColSpanStyle)for(v=c[0].cells,o=0;o<v.length;o++)null!=(p=v[o])&&"TH"===p.nodeName.toUpperCase()&&(f=Math.max(f,$(p).height()));S(h,f+(b-m)+(g-u))}S(e,t.clientHeight)}},T={resizeDiv:!0,resizedRows:{iRowStart:0,iRowEnd:-1}},A={header:T,resizeFooter:!0,body:T};i.on("jqGridAfterGridComplete.setFrozenColumns",function(){$(r.idSel+"_frozen").remove(),$(n.fbDiv).height(n.hDiv.clientHeight);var e=$(this).clone(!0),t=e[0].rows,o=i[0].rows;if($(t).filter("tr[role=row]").each(function(){$(this.cells).filter("td[role=gridcell]:gt("+d+")").remove()}),n.fbRows=t,e.width(1).attr("id",r.id+"_frozen"),e.appendTo(n.fbDiv),!0===r.hoverrows){var s=function(e,t,i){$(e)[t](f),$(i[e.rowIndex])[t](f)};$(t).filter(".jqgrow").hover(function(){s(this,"addClass",o)},function(){s(this,"removeClass",o)}),$(o).filter(".jqgrow").hover(function(){s(this,"addClass",t)},function(){s(this,"removeClass",t)})}D(n.fhDiv,n.hDiv,0,-1),D(n.fbDiv,n.bDiv,0,-1),n.sDiv&&D(n.fsDiv,n.sDiv,0,-1)});var N=function(e){$(n.fbDiv).scrollTop($(n.bDiv).scrollTop()),e.header.resizeDiv&&D(n.fhDiv,n.hDiv,e.header.resizedRows.iRowStart,e.header.resizedRows.iRowEnd),e.body.resizeDiv&&D(n.fbDiv,n.bDiv,e.body.resizedRows.iRowStart,e.body.resizedRows.iRowEnd),e.resizeFooter&&n.sDiv&&e.resizeFooter&&D(n.fsDiv,n.sDiv,0,-1);var t=n.fhDiv[0].clientWidth;e.header.resizeDiv&&null!=n.fhDiv&&1<=n.fhDiv.length&&S($(n.fhDiv),n.hDiv.clientHeight),e.body.resizeDiv&&null!=n.fbDiv&&0<n.fbDiv.length&&k($(n.fbDiv),t),e.resizeFooter&&null!=n.fsDiv&&0<=n.fsDiv.length&&k($(n.fsDiv),t)};$(r.gBox).on("resizestop.setFrozenColumns",function(){setTimeout(function(){N(A)},50)}),i.on("jqGridInlineEditRow.setFrozenColumns jqGridInlineAfterRestoreRow.setFrozenColumns jqGridInlineAfterSaveRow.setFrozenColumns jqGridAfterEditCell.setFrozenColumns jqGridAfterRestoreCell.setFrozenColumns jqGridAfterSaveCell.setFrozenColumns jqGridResizeStop.setFrozenColumns",function(e,t){var r=i.jqGrid("getInd",t);N({header:{resizeDiv:!1,resizedRows:{iRowStart:-1,iRowEnd:-1}},resizeFooter:!0,body:{resizeDiv:!0,resizedRows:{iRowStart:r,iRowEnd:r}}})}),i.on("jqGridResizeStop.setFrozenColumns",function(){N(A)}),i.on("jqGridResetFrozenHeights.setFrozenColumns",function(e,t){N(t||A)}),n.hDiv.loading||setTimeout(function(){i.triggerHandler("jqGridAfterGridComplete")},0),r.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){var e=$(this),t=this.grid,i=this.p,r=jqID(i.id);if(t&&!0===i.frozenColumns){if($(t.fhDiv).remove(),$(t.fbDiv).off(".setFrozenColumns"),$(t.fbDiv).remove(),t.fhDiv=null,t.fbDiv=null,t.fbRows=null,i.footerrow&&($(t.fsDiv).remove(),t.fsDiv=null),e.off(".setFrozenColumns"),!0===i.hoverrows){var n,o=getGuiStyles.call(this,"states.hover");e.on("mouseover.jqGrid",function(e){n=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(n).attr("class")&&$(n).addClass(o)}).on("mouseout.jqGrid",function(e){n=$(e.target).closest("tr.jqgrow"),$(n).removeClass(o)})}if(i.frozenColumns=!1,i.sortable){var s=$(t.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels");s.sortable("destroy"),e.jqGrid("setGridParam",{sortable:{options:{items:">th:not(:has(#jqgh_"+r+"_cb,#jqgh_"+r+"_rn,#jqgh_"+r+"_subgrid),:hidden)"}}}),e.jqGrid("sortableColumns",s)}}})}}),$.fn.jqFilter=function(e){if("string"==typeof e){var t=$.fn.jqFilter[e];if(!t)throw"jqFilter - No such method: "+e;var i=$.makeArray(arguments).slice(1);return t.apply(this,i)}var r=$.extend(!0,{filter:null,columns:[],onChange:null,afterRedraw:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[],operands:null,numopts:["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],stropts:["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},jgrid.filter,e||{});return this.each(function(){if(!this.filter){null!==(this.p=r).filter&&void 0!==r.filter||(r.filter={groupOp:r.groupOps[0].op,rules:[],groups:[]});var e,t,i=r.columns.length,n=/msie/i.test(navigator.userAgent)&&!window.opera,o=$.isFunction,s=null!=jgrid.defaults&&o(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert,a=function(){return $("#"+jgrid.jqID(r.id))[0]||null},l=function(e,t){return $(a()).jqGrid("getGuiStyles",e,t||"")},d=function(e){return $(a()).jqGrid("getGridRes","search."+e)},c=function(e){var t=a(),i=t.p.iColByName[e];return void 0!==i?{cm:t.p.colModel[i],iCol:i}:void 0!==(i=t.p.iPropByName[e])?{cm:t.p.additionalProperties[i],iCol:i,isAddProp:!0}:{cm:null,iCol:-1}},h=l("states.error"),u=l("dialog.content");if(r.initFilter=$.extend(!0,{},r.filter),i){for(e=0;e<i;e++)(t=r.columns[e]).stype?t.inputtype=t.stype:t.inputtype||(t.inputtype="text"),t.sorttype?t.searchtype=t.sorttype:t.searchtype||(t.searchtype="string"),void 0===t.hidden&&(t.hidden=!1),t.label||(t.label=t.name),t.cmName=t.name,t.index&&(t.name=t.index),t.hasOwnProperty("searchoptions")||(t.searchoptions={}),t.hasOwnProperty("searchrules")||(t.searchrules={});r.showQuery&&$(this).append("<table class='queryresult "+u+"' style='display:block;max-width:440px;border:0px none;' dir='"+r.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var f=function(e,t){var i=[!0,""],n=a();if(o(t.searchrules))i=t.searchrules.call(n,e,t);else if(jgrid&&jgrid.checkValues)try{i=jgrid.checkValues.call(n,e,-1,t.searchrules,t.label)}catch(e){}i&&i.length&&!1===i[0]&&(r.error=!i[0],r.errmsg=i[1])};this.onchange=function(){return r.error=!1,r.errmsg="",!!o(r.onChange)&&r.onChange.call(a(),r,this)},this.reDraw=function(){$("table.group:first",this).remove();var e=this.createTableForGroup(r.filter,null);$(this).append(e),o(r.afterRedraw)&&r.afterRedraw.call(a(),r,this)},this.createTableForGroup=function(e,t){var i,n=this,o=$("<table class='"+l("searchDialog.operationGroup","group")+"' style='border:0px none;'><tbody></tbody></table>"),s="left";"rtl"===r.direction&&(s="right",o.attr("dir","rtl")),null===t&&o.append("<tr class='error' style='display:none;'><th colspan='5' class='"+h+"' align='"+s+"'></th></tr>");var a=$("<tr></tr>");o.append(a);var c=$("<th colspan='5' align='"+s+"'></th>");if(a.append(c),!0===r.ruleButtons){var u=$("<select class='"+l("searchDialog.operationSelect","opsel")+"'></select>");c.append(u);var f,p="";for(i=0;i<r.groupOps.length;i++)f=e.groupOp===n.p.groupOps[i].op?" selected='selected'":"",p+="<option value='"+n.p.groupOps[i].op+"'"+f+">"+n.p.groupOps[i].text+"</option>";u.append(p).on("change",function(){e.groupOp=$(u).val(),n.onchange()})}var g,m,v,b="<span></span>";if(r.groupButton&&(b=$("<input type='button' value='+ {}' title='"+d("addGroupTitle")+"' class='"+l("searchDialog.addGroupButton","add-group")+"'/>")).on("click",function(){return void 0===e.groups&&(e.groups=[]),e.groups.push({groupOp:r.groupOps[0].op,rules:[],groups:[]}),n.reDraw(),n.onchange(),!1}),c.append(b),!0===r.ruleButtons){var y,w=$("<input type='button' value='+' title='"+d("addRuleTitle")+"' class='"+l("searchDialog.addRuleButton","add-rule ui-add")+"'/>");w.on("click",function(){var t,r,o;for(void 0===e.rules&&(e.rules=[]),i=0;i<n.p.columns.length;i++)if(t=void 0===n.p.columns[i].search||n.p.columns[i].search,r=!0===n.p.columns[i].hidden,!0===n.p.columns[i].searchoptions.searchhidden&&t||t&&!r){y=n.p.columns[i];break}return o=y.searchoptions.sopt?y.searchoptions.sopt:n.p.sopt?n.p.sopt:-1!==$.inArray(y.searchtype,n.p.strarr)?n.p.stropts:n.p.numopts,e.rules.push({field:y.name,op:o[0],data:""}),n.reDraw(),!1}),c.append(w)}if(null!==t){var x=$("<input type='button' value='-' title='"+d("deleteGroupTitle")+"' class='"+l("searchDialog.deleteGroupButton","delete-group")+"'/>");c.append(x),x.on("click",function(){for(i=0;i<t.groups.length;i++)if(t.groups[i]===e){t.groups.splice(i,1);break}return n.reDraw(),n.onchange(),!1})}if(void 0!==e.groups)for(i=0;i<e.groups.length;i++)g=$("<tr></tr>"),o.append(g),m=$("<td class='first'></td>"),g.append(m),(v=$("<td colspan='4'></td>")).append(this.createTableForGroup(e.groups[i],e)),g.append(v);if(void 0===e.groupOp&&(e.groupOp=n.p.groupOps[0].op),void 0!==e.rules)for(i=0;i<e.rules.length;i++)o.append(this.createTableRowForRule(e.rules[i],e));return o},this.createTableRowForRule=function(e,t){var i,s,h,u,f=this,p=a(),g=$("<tr></tr>"),m="";g.append("<td class='first'></td>");var v=$("<td class='columns'></td>");g.append(v);var b,y=$("<select class='"+l("searchDialog.label","selectLabel")+"'></select>"),w=[];v.append(y),y.on("change",function(){e.field=$(y).val();var t,i,r=$(this).parents("tr:first");for(i=0;i<f.p.columns.length;i++)if(f.p.columns[i].name===e.field){t=f.p.columns[i];break}if(t){var a=$.extend({},t.editoptions||{});delete a.readonly,delete a.disabled;var d=$.extend({},a||{},t.searchoptions||{},c(t.cmName),{id:jgrid.randId(),name:t.name,mode:"search"});d.column=t,n&&"text"===t.inputtype&&(d.size||(d.size=10));var h=jgrid.createEl.call(p,t.inputtype,$.extend({},d,d.attr||{}),"",!0,f.p.ajaxSelectOptions||{},!0);$(h).addClass(l("searchDialog.elem","input-elm")),s=d.sopt?d.sopt:f.p.sopt?f.p.sopt:-1!==$.inArray(t.searchtype,f.p.strarr)?f.p.stropts:f.p.numopts;var u,g,m,v="",x=0;for(w=[],$.each(f.p.ops,function(){w.push(this.oper)}),f.p.cops&&$.each(f.p.cops,function(e){w.push(e)}),i=0;i<s.length;i++)g=s[i],-1!==(b=$.inArray(s[i],w))&&(m=void 0!==(u=f.p.ops[b])?u.text:f.p.cops[g].text,0===x&&(e.op=g),v+="<option value='"+g+"'>"+m+"</option>",x++);if($(".selectopts",r).empty().append(v),$(".selectopts",r)[0].selectedIndex=0,jgrid.msie&&jgrid.msiever()<9){var C=parseInt($("select.selectopts",r)[0].offsetWidth,10)+1;$(".selectopts",r).width(C),$(".selectopts",r).css("width","auto")}if($(".data",r).empty().append(h),t.createColumnIndex&&d.generateDatalist){var S="dl_"+h.id,k=$(p).jqGrid("generateDatalistFromColumnIndex",t.name);null!=k&&0<k.length&&($(h).attr("list",S),$(".data",r).append(k.attr("id",S)))}jgrid.bindEv.call(p,h,d),$(".input-elm",r).on("change",d,function(t){var i=t.target,r=t.data.column;e.data=r&&"custom"===r.inputtype&&o(r.searchoptions.custom_value)?r.searchoptions.custom_value.call(p,$(this).find(".customelement").first(),"get"):i.value,$(i).is("input[type=checkbox]")&&!$(i).is(":checked")&&(e.data=$(i).data("offval")),f.onchange()}),setTimeout(function(){e.data=$(h).val(),f.onchange()},0)}});var x,C,S=0;for(i=0;i<f.p.columns.length;i++)x=void 0===f.p.columns[i].search||f.p.columns[i].search,C=!0===f.p.columns[i].hidden,(!0===f.p.columns[i].searchoptions.searchhidden&&x||x&&!C)&&(u="",e.field===f.p.columns[i].name&&(u=" selected='selected'",S=i),m+="<option value='"+f.p.columns[i].name+"'"+u+">"+f.p.columns[i].label+"</option>");y.append(m);var k=$("<td class='operators'></td>");g.append(k),h=r.columns[S],n&&"text"===h.inputtype&&(h.searchoptions.size||(h.searchoptions.size=10));var D=$.extend({},h.editoptions||{});delete D.readonly,delete D.disabled;var T=$.extend({},D,h.searchoptions||{},c(h.cmName),{id:jgrid.randId(),name:h.name,mode:"search"});T.column=h;var A=jgrid.createEl.call(p,h.inputtype,$.extend({},T,T.attr||{}),e.data,!0,f.p.ajaxSelectOptions||{},!0);("nu"===e.op||"nn"===e.op||0<=$.inArray(e.op,p.p.customUnaryOperations))&&($(A).attr("readonly","true"),$(A).attr("disabled","true"));var N,_,M=$("<select class='"+l("searchDialog.operator","selectopts")+"'></select>");for(k.append(M),M.on("change",function(){e.op=$(M).val();var t=$(this).parents("tr:first"),i=$(".input-elm",t)[0];"nu"===e.op||"nn"===e.op||0<=$.inArray(e.op,p.p.customUnaryOperations)?(e.data="","SELECT"!==i.tagName.toUpperCase()&&(i.value=""),i.setAttribute("readonly","true"),i.setAttribute("disabled","true")):("SELECT"===i.tagName.toUpperCase()&&(e.data=i.value),i.removeAttribute("readonly"),i.removeAttribute("disabled")),f.onchange()}),s=h.searchoptions.sopt?h.searchoptions.sopt:f.p.sopt?f.p.sopt:-1!==$.inArray(h.searchtype,f.p.strarr)?f.p.stropts:f.p.numopts,m="",$.each(f.p.ops,function(){w.push(this.oper)}),f.p.cops&&$.each(f.p.cops,function(e){w.push(e)}),i=0;i<s.length;i++)_=s[i],-1!==(b=$.inArray(s[i],w))&&(N=f.p.ops[b],m+="<option value='"+_+"'"+(u=e.op===_?" selected='selected'":"")+">"+(void 0!==N?N.text:f.p.cops[_].text)+"</option>");M.append(m);var E=$("<td class='data'></td>");if(g.append(E),E.append(A),h.createColumnIndex&&h.searchoptions.generateDatalist){var O="dl_"+A.id,I=$(p).jqGrid("generateDatalistFromColumnIndex",h.name);null!=I&&0<I.length&&($(A).attr("list",O),E.append(I.attr("id",O)))}jgrid.bindEv.call(p,A,h.searchoptions),$(A).addClass(l("searchDialog.elem","input-elm")).on("change",function(){e.data="custom"===h.inputtype?h.searchoptions.custom_value.call(p,$(this).find(".customelement").first(),"get"):$(this).val(),$(this).is("input[type=checkbox]")&&!$(this).is(":checked")&&(e.data=$(this).data("offval")),$.isArray(e.data)&&(e.data=e.data.join(r.inFilterSeparator||",")),f.onchange()});var R=$("<td></td>");if(g.append(R),!0===r.ruleButtons){var F=$("<input type='button' value='-' title='"+d("deleteRuleTitle")+"' class='"+l("searchDialog.deleteRuleButton","delete-rule ui-del")+"'/>");R.append(F),F.on("click",function(){for(i=0;i<t.rules.length;i++)if(t.rules[i]===e){t.rules.splice(i,1);break}return f.reDraw(),f.onchange(),!1})}return g},this.getStringForGroup=function(e){var t,i="(";if(void 0!==e.groups)for(t=0;t<e.groups.length;t++){1<i.length&&(i+=" "+e.groupOp+" ");try{i+=this.getStringForGroup(e.groups[t])}catch(e){s(e)}}if(void 0!==e.rules)try{for(t=0;t<e.rules.length;t++)1<i.length&&(i+=" "+e.groupOp+" "),i+=this.getStringForRule(e.rules[t])}catch(e){s(e)}return"()"==(i+=")")?"":i},this.getStringForRule=function(e){var t,i,n,s="",l="",d=e.data;for(t=0;t<r.ops.length;t++)if(r.ops[t].oper===e.op){s=r.operands.hasOwnProperty(e.op)?r.operands[e.op]:"",l=r.ops[t].oper;break}if(""===l&&null!=r.cops)for(n in r.cops)if(r.cops.hasOwnProperty(n)&&(l=n,s=r.cops[n].operand,o(r.cops[n].buildQueryValue)))return r.cops[n].buildQueryValue.call(r,{cmName:e.field,searchValue:d,operand:s});for(t=0;t<r.columns.length;t++)if(r.columns[t].name===e.field){i=r.columns[t];break}return null==i?"":("bw"!==l&&"bn"!==l||(d+="%"),"ew"!==l&&"en"!==l||(d="%"+d),"cn"!==l&&"nc"!==l||(d="%"+d+"%"),"in"!==l&&"ni"!==l||(d=" ("+d+")"),r.errorcheck&&f(e.data,i),-1!==$.inArray(i.searchtype,["int","integer","float","number","currency"])||"nn"===l||"nu"===l||0<=$.inArray(l,a().p.customUnaryOperations)?e.field+" "+s+" "+d:e.field+" "+s+' "'+d+'"')},this.resetFilter=function(){r.filter=$.extend(!0,{},r.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){$("th."+h,this).html(""),$("tr.error",this).hide()},this.showError=function(){$("th."+h,this).html(r.errmsg),$("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(r.filter)},this.toString=function(){var e=this;function t(t){if(e.p.errorcheck){var i,r;for(i=0;i<e.p.columns.length;i++)if(e.p.columns[i].name===t.field){r=e.p.columns[i];break}r&&f(t.data,r)}return t.op+"(item."+t.field+",'"+t.data+"')"}return function e(i){var r,n="(";if(void 0!==i.groups)for(r=0;r<i.groups.length;r++)1<n.length&&("OR"===i.groupOp?n+=" || ":n+=" && "),n+=e(i.groups[r]);if(void 0!==i.rules)for(r=0;r<i.rules.length;r++)1<n.length&&("OR"===i.groupOp?n+=" || ":n+=" && "),n+=t(i.rules[r]);return"()"==(n+=")")?"":n}(r.filter)},this.reDraw(),r.showQuery&&this.onchange(),this.filter=!0}}})},$.extend($.fn.jqFilter,{toSQLString:function(){var e="";return this.each(function(){e=this.toUserFriendlyString()}),e},filterData:function(){var e;return this.each(function(){e=this.p.filter}),e},getParameter:function(e){return void 0!==e&&this.p.hasOwnProperty(e)?this.p[e]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(e){"string"==typeof e&&(e=$.parseJSON(e)),this.each(function(){this.p.filter=e,this.reDraw(),this.onchange()})}});var xmlJsonClass={xml2json:function(e,t){9===e.nodeType&&(e=e.documentElement);var i=this.removeWhite(e),r=this.toObj(i),n=this.toJson(r,e.nodeName,"\t");return"{\n"+t+(t?n.replace(/\t/g,t):n.replace(/\t|\n/g,""))+"\n}"},json2xml:function(e,t){var i,r=function(e,t,i){var n,o,s,a,l="";if(e instanceof Array)if(0===e.length)l+=i+"<"+t+">__EMPTY_ARRAY_</"+t+">\n";else for(n=0,o=e.length;n<o;n+=1)l+=i+r(e[n],t,i+"\t")+"\n";else if("object"==typeof e){for(a in s=!1,l+=i+"<"+t,e)e.hasOwnProperty(a)&&("@"===a.charAt(0)?l+=" "+a.substr(1)+'="'+e[a].toString()+'"':s=!0);if(l+=s?">":"/>",s){for(a in e)e.hasOwnProperty(a)&&("#text"===a?l+=e[a]:"#cdata"===a?l+="<![CDATA["+e[a]+"]]>":"@"!==a.charAt(0)&&(l+=r(e[a],a,i+"\t")));l+=("\n"===l.charAt(l.length-1)?i:"")+"</"+t+">"}}else"function"==typeof e?l+=i+"<"+t+"><![CDATA["+e+"]]></"+t+">":(void 0===e&&(e=""),'""'===e.toString()||0===e.toString().length?l+=i+"<"+t+">__EMPTY_STRING_</"+t+">":l+=i+"<"+t+">"+e.toString()+"</"+t+">");return l},n="";for(i in e)e.hasOwnProperty(i)&&(n+=r(e[i],i,""));return t?n.replace(/\t/g,t):n.replace(/\t|\n/g,"")},toObj:function(e){var t,i,r={},n=/function/i,o=0,s=0,a=!1;if(1===e.nodeType){if(e.attributes.length)for(t=0;t<e.attributes.length;t+=1)r["@"+e.attributes[t].nodeName]=(e.attributes[t].nodeValue||"").toString();if(e.firstChild){for(i=e.firstChild;i;i=i.nextSibling)1===i.nodeType?a=!0:3===i.nodeType&&i.nodeValue.match(/[^ \f\n\r\t\v]/)?o+=1:4===i.nodeType&&(s+=1);if(a)if(o<2&&s<2)for(this.removeWhite(e),i=e.firstChild;i;i=i.nextSibling)3===i.nodeType?r["#text"]=this.escape(i.nodeValue):4===i.nodeType?n.test(i.nodeValue)?r[i.nodeName]=[r[i.nodeName],i.nodeValue]:r["#cdata"]=this.escape(i.nodeValue):r[i.nodeName]?r[i.nodeName]instanceof Array?r[i.nodeName][r[i.nodeName].length]=this.toObj(i):r[i.nodeName]=[r[i.nodeName],this.toObj(i)]:r[i.nodeName]=this.toObj(i);else e.attributes.length?r["#text"]=this.escape(this.innerXml(e)):r=this.escape(this.innerXml(e));else if(o)e.attributes.length?r["#text"]=this.escape(this.innerXml(e)):"__EMPTY_ARRAY_"===(r=this.escape(this.innerXml(e)))?r="[]":"__EMPTY_STRING_"===r&&(r="");else if(s)if(1<s)r=this.escape(this.innerXml(e));else for(i=e.firstChild;i;i=i.nextSibling){if(n.test(e.firstChild.nodeValue)){r=e.firstChild.nodeValue;break}r["#cdata"]=this.escape(i.nodeValue)}}e.attributes.length||e.firstChild||(r=null)}else 9===e.nodeType?r=this.toObj(e.documentElement):(null!=$.jgrid&&null!=$.jgrid.defaults&&$.isFunction($.jgrid.defaults.fatalError)?$.jgrid.defaults.fatalError:alert)("unhandled node type: "+e.nodeType);return r},toJson:function(e,t,i,r){void 0===r&&(r=!0);var n,o,s,a=t?'"'+t+'"':"",l="\t",d="\n",c=[],h=[];if(r||(d=l=""),"[]"===e)a+=t?":[]":"[]";else if(e instanceof Array){for(o=0,n=e.length;o<n;o+=1)c[o]=this.toJson(e[o],"",i+l,r);a+=(t?":[":"[")+(1<c.length?d+i+l+c.join(","+d+i+l)+d+i:c.join(""))+"]"}else if(null===e)a+=(t&&":")+"null";else if("object"==typeof e){for(s in e)e.hasOwnProperty(s)&&(h[h.length]=this.toJson(e[s],s,i+l,r));a+=(t?":{":"{")+(1<h.length?d+i+l+h.join(","+d+i+l)+d+i:h.join(""))+"}"}else a+="string"==typeof e?(t&&":")+'"'+e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"':(t&&":")+e.toString();return a},innerXml:function(e){var t,i="",r=function(e){var t,i,n="";if(1===e.nodeType){for(n+="<"+e.nodeName,t=0;t<e.attributes.length;t+=1)n+=" "+e.attributes[t].nodeName+'="'+(e.attributes[t].nodeValue||"").toString()+'"';if(e.firstChild){for(n+=">",i=e.firstChild;i;i=i.nextSibling)n+=r(i);n+="</"+e.nodeName+">"}else n+="/>"}else 3===e.nodeType?n+=e.nodeValue:4===e.nodeType&&(n+="<![CDATA["+e.nodeValue+"]]>");return n};if(e.hasOwnProperty("innerHTML"))i=e.innerHTML;else for(t=e.firstChild;t;t=t.nextSibling)i+=r(t);return i},escape:function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();for(var t,i=e.firstChild;i;)3===i.nodeType?i.nodeValue.match(/[^ \f\n\r\t\v]/)?i=i.nextSibling:(t=i.nextSibling,e.removeChild(i),i=t):(1===i.nodeType&&this.removeWhite(i),i=i.nextSibling);return e}};window.xmlJsonClass=xmlJsonClass;var jgridFeedback=jgrid.feedback,fullBoolFeedback=jgrid.fullBoolFeedback,builderFmButon=jgrid.builderFmButon,addFormIcon=function(e,t,i){var r;!0===t[0]&&(r="<span class='"+mergeCssClasses("fm-button-icon",i,t[2])+"'></span>","right"===t[1]?e.addClass("fm-button-icon-right").append(r):e.addClass("fm-button-icon-left").prepend(r))},getGuiStateStyles=function(e){return getGuiStyles.call(this,"states."+e)},hideRowsWithoutVissibleCells=function(e){e.find("tr[data-rowpos]").each(function(){var e=0;$(this).children("td").each(function(){"hidden"!==$(this).css("visibility")&&e++}),e||$(this).hide()})},isEmptyString=function(e){return"&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0)};jgrid.extend({searchGrid:function(e){return this.each(function(){var t=this,i=$(t),r=t.p;if(t.grid&&null!=r){var n=$.extend(!0,{drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:r.prmNames.filters,loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,removemodal:!0,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE",in:"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"IS NOT NULL"}},base.getGridRes.call(i,"search"),jgrid.search||{},r.searching||{},e||{}),o="fbox_"+r.id,s=n.commonIconClass,a={themodal:"searchmod"+o,modalhead:"searchhd"+o,modalcontent:"searchcnt"+o,resizeAlso:o},l="#"+jqID(a.themodal),d=r.gBox,c=r.gView,h=$.each,u=r.postData[n.sFilter],f=function(){var e=$.makeArray(arguments);return e.unshift("Search"),e.unshift("Filter"),e.unshift(n),jgridFeedback.apply(t,e)},p=function(){jgrid.hideModal(l,{gb:d,jqm:n.jqModal,onClose:n.onClose,removemodal:n.removemodal})};if("string"==typeof u&&(u=""!==$.trim(u)?$.parseJSON(u):void 0),$(l).remove(),void 0!==$(l)[0])A($("#fbox_"+jqID(r.id)));else{var g=$("<div><div id='"+o+"' class='"+getGuiStyles.call(t,"dialog.body","searchFilter")+"' style='overflow:auto'></div></div>").insertBefore(c);"rtl"===r.direction&&g.attr("dir","rtl");var m,v,b="",y="",w=!1,x=-1,C=$.extend([],r.colModel),S=builderFmButon.call(t,o+"_search",n.Find,mergeCssClasses(s,n.findDialogIcon),"right"),k=builderFmButon.call(t,o+"_reset",n.Reset,mergeCssClasses(s,n.resetDialogIcon),"left");if(n.showQuery&&(b=builderFmButon.call(t,o+"_query","Query",mergeCssClasses(s,n.queryDialogIcon),"left")+"&#160;"),n.searchForAdditionalProperties&&h(r.additionalProperties,function(){var e="string"==typeof this?{name:this}:this;e.label||(e.label=e.name),e.isAddProp=!0,C.push(e)}),n.columns.length?(C=n.columns,m=C[x=0].index||C[0].name):h(C,function(e,t){if(t.label||(t.label=t.isAddProp?t.name:r.colNames[e]),!w){var i=void 0===t.search||t.search,n=!0===t.hidden;(t.searchoptions&&!0===t.searchoptions.searchhidden&&i||i&&!n)&&(w=!0,m=t.index||t.name,x=e)}}),!u&&m||!1===n.multipleSearch){var D="eq";0<=x&&C[x].searchoptions&&C[x].searchoptions.sopt?D=C[x].searchoptions.sopt[0]:n.sopt&&n.sopt.length&&(D=n.sopt[0]),u={groupOp:"AND",rules:[{field:m,op:D,data:""}]}}w=!1,n.tmplNames&&n.tmplNames.length&&(w=!0,y=n.tmplLabel,y+="<select class='ui-template'>",y+="<option value='default'>Default</option>",h(n.tmplNames,function(e,t){y+="<option value='"+e+"'>"+t+"</option>"}),y+="</select>"),v="<div class='"+getGuiStyles.call(t,"dialog.footer")+"'><table class='EditTable' style='border:0px none;margin-top:5px' id='"+o+"_2'><tbody><tr><td colspan='2'><hr class='"+getGuiStyles.call(t,"dialog.hr")+"' style='margin:1px'/></td></tr><tr><td class='EditButton EditButton-"+r.direction+"'  style='float:"+("rtl"===r.direction?"right":"left")+";'>"+k+y+"</td><td class='EditButton EditButton-"+r.direction+"'>"+b+S+"</td></tr></tbody></table></div>",o=jqID(o),n.gbox=d,n.height="auto",$(o="#"+o).jqFilter({columns:C,filter:n.loadDefaults?u:null,showQuery:n.showQuery,errorcheck:n.errorcheck,sopt:n.sopt,groupButton:n.multipleGroup,ruleButtons:n.multipleSearch,afterRedraw:n.afterRedraw,ops:n.odata,cops:r.customSortOperations,operands:n.operands,ajaxSelectOptions:r.ajaxSelectOptions,groupOps:n.groupOps,onChange:function(e,i){e.showQuery&&$(".query",i).text(i.toUserFriendlyString()),fullBoolFeedback.call(t,n.afterChange,"jqGridFilterAfterChange",$(o),n,e,i)},direction:r.direction,id:r.id}),g.append(v),w&&n.tmplFilters&&n.tmplFilters.length&&$(".ui-template",g).on("change",function(){var e=$(this).val();return"default"===e?$(o).jqFilter("addFilter",u):$(o).jqFilter("addFilter",n.tmplFilters[parseInt(e,10)]),!1}),!0===n.multipleGroup&&(n.multipleSearch=!0),f("onInitialize",$(o)),n.layer?jgrid.createModal.call(t,a,g,n,c,$(d)[0],"#"+jqID(n.layer),{position:"relative"}):jgrid.createModal.call(t,a,g,n,c,$(d)[0]),(n.searchOnEnter||n.closeOnEscape)&&$(l).keydown(function(e){var t=$(e.target);return!n.searchOnEnter||13!==e.which||t.hasClass("add-group")||t.hasClass("add-rule")||t.hasClass("delete-group")||t.hasClass("delete-rule")||t.hasClass("fm-button")&&t.is("[id$=_query]")?n.closeOnEscape&&27===e.which?($("#"+jqID(a.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1):void 0:($(o+"_search").click(),!1)}),b&&$(o+"_query").on("click",function(){return $(".queryresult",g).toggle(),!1}),void 0===n.stringResult&&(n.stringResult=n.multipleSearch),$(o+"_search").on("click",function(){var e,s={},a="",l=$(o),d=l.find(".input-elm");if(d.filter(":focus")&&(d=d.filter(":focus")),d.change(),e=l.jqFilter("filterData"),n.errorcheck&&(l[0].hideError(),n.showQuery||l.jqFilter("toSQLString"),l[0].p.error))return l[0].showError(),!1;if(n.stringResult||"local"===r.datatype){try{a=JSON.stringify(e)}catch(e){}"string"==typeof a&&(s[n.sFilter]=a,h([n.sField,n.sValue,n.sOper],function(){s[this]=""}))}else n.multipleSearch?(s[n.sFilter]=e,h([n.sField,n.sValue,n.sOper],function(){s[this]=""})):(s[n.sField]=e.rules[0].field,s[n.sValue]=e.rules[0].data,s[n.sOper]=e.rules[0].op,s[n.sFilter]="");return $.extend(r.postData,s),fullBoolFeedback.call(t,n.onSearch,"jqGridFilterSearch",r.filters)&&(r.search=!0,i.trigger("reloadGrid",[$.extend({page:1},n.reloadGridSearchOptions||{})])),n.closeAfterSearch&&p(),!1}),$(o+"_reset").on("click",function(){var e={},s=$(o);return r.search=!1,!(r.resetsearch=!0)===n.multipleSearch?e[n.sField]=e[n.sValue]=e[n.sOper]="":e[n.sFilter]="",s[0].resetFilter(),w&&$(".ui-template",g).val("default"),$.extend(r.postData,e),fullBoolFeedback.call(t,n.onReset,"jqGridFilterReset")&&i.trigger("reloadGrid",[$.extend({page:1},n.reloadGridResetOptions||{})]),n.closeAfterReset&&p(),!1}),A($(o));var T=getGuiStateStyles.call(t,"hover");$(".fm-button:not(."+getGuiStateStyles.call(t,"disabled").split(" ").join(".")+")",g).hover(function(){$(this).addClass(T)},function(){$(this).removeClass(T)})}}function A(e){f("beforeShow",e)&&($(l).data("onClose",n.onClose),jgrid.viewModal.call(t,l,{gbox:d,jqm:n.jqModal,overlay:n.overlay,modal:n.modal,overlayClass:n.overlayClass,toTop:n.toTop,onHide:function(e){e.w.remove(),e.o&&e.o.remove()}}),f("afterShow",e))}})},editGridRow:function(e,t){return this.each(function(){var i=this,r=$(i),n=i.p;if(i.grid&&null!=n&&e){var o,s,a=n.id,l=base.getGridRes,d=base.setSelection,c=$.extend(!0,{top:0,left:0,width:300,datawidth:"auto",height:"auto",dataheight:"auto",drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",labelswidth:"",savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:getGuiStyles.call(this,"overlay"),removemodal:!0,skipPostTypes:["image","file"],saveui:"enable",savetext:l.call(r,"defaults.savetext")||"Saving..."},l.call(r,"edit"),jgrid.edit,n.formEditing||{},t||{}),h="FrmGrid_"+a,u=h,f="TblGrid_"+a,p="#"+jqID(f),g=p+"_2",m={themodal:"editmod"+a,modalhead:"edithd"+a,modalcontent:"editcnt"+a,resizeAlso:h},v="#"+jqID(m.themodal),b=n.gBox,y=n.colModel,w=n.iColByName,x=1,C=0,S=c.commonIconClass,k=function(){jgrid.hideModal(v,{gb:b,jqm:c.jqModal,onClose:c.onClose,removemodal:c.removemodal})},D=l.call(r,"errors.errcap"),T=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift("AddEdit"),e.unshift(c),jgridFeedback.apply(i,e)},A=getGuiStateStyles.call(i,"hover"),N=getGuiStateStyles.call(i,"disabled"),_=getGuiStateStyles.call(i,"select"),M=getGuiStateStyles.call(i,"active"),E=getGuiStateStyles.call(i,"error");$(v).remove(),h="#"+jqID(h),"new"===e?(e="_empty",s="add",c.caption=c.addCaption):(c.caption=c.editCaption,s="edit");var O=!0;!c.checkOnUpdate||!0!==c.jqModal&&void 0!==c.jqModal||c.modal||(O=!1);var I=isNaN(c.dataheight)?c.dataheight:c.dataheight+"px",R=isNaN(c.datawidth)?c.datawidth:c.datawidth+"px",F=$("<form name='FormPost' id='"+u+"' class='FormGrid' onSubmit='return false;' style='width:"+R+";overflow:auto;position:relative;height:"+I+";'></form>").data("disabled",!1),L=$("<table id='"+f+"' class='EditTable'><tbody></tbody></table>");$(y).each(function(){var e=this.formoptions;x=Math.max(x,e&&e.colpos||0),C=Math.max(C,e&&e.rowpos||0)}),$(F).append(L);var j=$("<tr id='FormError' style='display:none'><td class='"+E+"' colspan='"+2*x+"'>&#160;</td></tr>");if(j[0].rp=0,$(L).append(j),(j=$("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+2*x+"'>"+(c.topinfo||"&#160;")+"</td></tr>"))[0].rp=0,$(L).append(j),T("beforeInitData",F,s)){!function(){var t=jgrid.detectRowEditing.call(i,e);if(null!=t)if("inlineEditing"===t.mode)base.restoreRow.call(r,e);else{var n=t.savedRow,o=i.rows[n.id];base.restoreCell.call(r,n.id,n.ic),$(o.cells[n.ic]).removeClass("edit-cell "+_),$(o).addClass(_).attr({"aria-selected":"true",tabindex:"0"})}}();var P="rtl"===n.direction,z=P?"nData":"pData",B=P?"pData":"nData";!function(e,t,o){var s,l=0,d=[],u=!1,f=$(t),p=String(c.labelswidth)+(!c.labelswidth||isNaN(c.labelswidth)?"":"px"),g="<td class='CaptionTD"+(p?"' style='width:"+p+";":"")+"'>&#160;</td><td class='DataTD'>&#160;</td>",m="";for(s=1;s<=o;s++)m+=g;if("_empty"!==e&&(u=base.getInd.call(r,e)),$(y).each(function(t){var s,a,p,g,v,b=this,y=b.name,w=b.editable,x=!1,C=!1,S="_empty"===e?"addForm":"editForm";switch($.isFunction(w)&&(w=w.call(i,{rowid:e,iCol:t,iRow:u,cmName:y,cm:b,mode:S})),a=!(b.editrules&&!0===b.editrules.edithidden||!0!==b.hidden&&"hidden"!==w),String(w).toLowerCase()){case"hidden":w=!0;break;case"disabled":x=w=!0;break;case"readonly":C=w=!0}if("cb"!==y&&"subgrid"!==y&&!0===w&&"rn"!==y){if(!1===u)g="";else{s=$(i.rows[u].cells[t]);try{g=$.unformat.call(i,s,{rowId:e,colModel:b},t)}catch(t){g=b.edittype&&"textarea"===b.edittype?s.text():s.html()}isEmptyString(g)&&(g="")}var k=$.extend({},b.editoptions||{},{id:y,name:y,rowId:e,mode:S,cm:b,iCol:t}),D=$.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},b.formoptions||{}),T=parseInt(D.rowpos,10)||l+1,A=parseInt(2*(parseInt(D.colpos,10)||1),10);if("_empty"===e&&k.defaultValue&&(g=$.isFunction(k.defaultValue)?k.defaultValue.call(i):k.defaultValue),b.edittype||(b.edittype="text"),n.autoEncodeOnEdit&&(g=jgrid.oldDecodePostedData(g)),v=jgrid.createEl.call(i,b.edittype,k,g,!1,$.extend({},jgrid.ajaxOptions,n.ajaxSelectOptions||{})),(c.checkOnSubmit||c.checkOnUpdate)&&(c._savedData[y]=g),$(v).addClass("FormElement"),-1<$.inArray(b.edittype,["text","textarea","checkbox","password","select"])&&$(v).addClass(getGuiStyles.call(i,"dialog.dataField")),p=f.find("tr[data-rowpos="+T+"]"),D.rowabove){var _=$("<tr><td class='contentinfo' colspan='"+2*o+"'>"+D.rowcontent+"</td></tr>");f.append(_),_[0].rp=T}0===p.length&&(p=$("<tr data-rowpos='"+T+"'></tr>").addClass("FormData").attr("id","tr_"+y),$(p).append(m),f.append(p),p[0].rp=T);var M=$("td:eq("+(A-2)+")",p[0]),E=$("td:eq("+(A-1)+")",p[0]);M.html(void 0===D.label?n.colNames[t]:D.label||"&#160;");var O=E[isEmptyString(E.html())?"html":"append"](D.elmprefix);if(O.append(v).append(D.elmsuffix),"INPUT"===v.tagName.toUpperCase()&&b.createColumnIndex&&k.generateDatalist){var I=r.jqGrid("generateDatalistFromColumnIndex",b.name);null!=I&&0<I.length&&($(v).attr("list","dl_"+v.id),O.append(I.attr("id","dl_"+v.id)))}x?(M.addClass(N),E.addClass(N),$(v).prop("readonly",!0),$(v).prop("disabled",!0)):C&&$(v).prop("readonly",!0),"custom"===b.edittype&&$.isFunction(k.custom_value)&&k.custom_value.call(i,$("#"+jqID(y),h),"set",g),jgrid.bindEv.call(i,v,k),a&&M.add(E).css("visibility","hidden"),d[l]=t,l++}}),hideRowsWithoutVissibleCells(f),0<l){var v=$("<tr class='FormData' style='display:none'><td class='CaptionTD'>&#160;</td><td colspan='"+(2*o-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+a+"_id' value='"+e+"'/></td></tr>");v[0].rp=l+999,f.append(v),(c.checkOnSubmit||c.checkOnUpdate)&&(c._savedData[a+"_id"]=e)}}(e,L,x);var H=builderFmButon.call(i,z,"",mergeCssClasses(S,c.prevIcon),"","left"),q=builderFmButon.call(i,B,"",mergeCssClasses(S,c.nextIcon),"","right"),W=builderFmButon.call(i,"sData",c.bSubmit),G=builderFmButon.call(i,"cData",c.bCancel),V="<div class='"+getGuiStyles.call(i,"dialog.footer")+"'><table class='EditTable' id='"+f+"_2'><tbody><tr><td colspan='2'><hr class='"+getGuiStyles.call(i,"dialog.hr")+"' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton navButton-"+n.direction+"'>"+(P?q+H:H+q)+"</td><td class='EditButton EditButton-"+n.direction+"'>"+W+"&#160;"+G+"</td></tr>";if(V+="<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+(c.bottominfo||"&#160;")+"</td></tr>",V+="</tbody></table></div>",0<C){var U=[];$.each($(L)[0].rows,function(e,t){U[e]=t}),U.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),$.each(U,function(e,t){$("tbody",L).append(t)})}c.gbox=b;var Y=!1;!0===c.closeOnEscape&&(c.closeOnEscape=!1,Y=!0);var X=$("<div></div>").append($("<div class='"+getGuiStyles.call(i,"dialog.body")+"'></div>").append(F)).append(V);if(jgrid.createModal.call(i,m,X,c,n.gView,$(b)[0]),c.topinfo&&$(".tinfo",p).show(),c.bottominfo&&$(".binfo",g).show(),V=X=null,$(v).keydown(function(e){var t,i,r=(e.target.tagName||"").toUpperCase();if(!0===$(h).data("disabled"))return!1;if(13===e.which&&"TEXTAREA"!==r){if(i=(t=$(g).find(":focus")).attr("id"),0<t.length&&0<=$.inArray(i,["pData","nData","cData"]))return t.trigger("click"),!1;if(!0===c.savekey[0]&&13===c.savekey[1])return $("#sData",g).trigger("click"),!1}if(!0===c.savekey[0]&&e.which===c.savekey[1]&&"TEXTAREA"!==r)return $("#sData",g).trigger("click"),!1;if(27===e.which)return ie()&&Y&&k(),!1;if(!0===c.navkeys[0]){if("_empty"===$("#id_g",p).val())return!0;if(e.which===c.navkeys[1])return $("#pData",g).trigger("click"),!1;if(e.which===c.navkeys[2])return $("#nData",g).trigger("click"),!1}}),c.checkOnUpdate&&($("a.ui-jqdialog-titlebar-close span",v).removeClass("jqmClose"),$("a.ui-jqdialog-titlebar-close",v).off("click").click(function(){return ie()&&k(),!1})),addFormIcon($("#sData",g),c.saveicon,S),addFormIcon($("#cData",g),c.closeicon,S),c.checkOnSubmit||c.checkOnUpdate){W=builderFmButon.call(i,"sNew",c.bYes),q=builderFmButon.call(i,"nNew",c.bNo),G=builderFmButon.call(i,"cNew",c.bExit);var Z=c.zIndex||999;Z++,$("<div class='"+c.overlayClass+" jqgrid-overlay confirm' style='z-index:"+Z+";display:none;'>&#160;</div><div class='"+getGuiStyles.call(i,"dialog.content","confirm ui-jqconfirm")+"' style='z-index:"+(Z+1)+"'>"+c.saveData+"<br/><br/>"+W+q+G+"</div>").insertAfter(h),$("#sNew",v).click(function(){return ee(),$(h).data("disabled",!1),$(".confirm",v).hide(),!1}),$("#nNew",v).click(function(){return $(".confirm",v).hide(),$(h).data("disabled",!1),setTimeout(function(){$(h).find("input,textarea,select,button,object,*[tabindex]").filter(":input:visible:not(:disabled)").first().focus()},0),!1}),$("#cNew",v).click(function(){return $(".confirm",v).hide(),$(h).data("disabled",!1),k(),!1})}T("onInitializeForm",$(h),s),"_empty"!==e&&c.viewPagerButtons?$("#pData,#nData",g).show():$("#pData,#nData",g).hide(),T("beforeShowForm",$(h),s),$(v).data("onClose",c.onClose),jgrid.viewModal.call(i,v,{gbox:b,jqm:c.jqModal,overlay:c.overlay,modal:c.modal,overlayClass:c.overlayClass,toTop:c.toTop,onHide:function(e){e.w.remove(),e.o&&e.o.remove()}}),O||$("."+jqID(c.overlayClass)).click(function(){return ie()&&k(),!1}),$(".fm-button",v).hover(function(){$(this).addClass(A)},function(){$(this).removeClass(A)}),$("#sData",g).click(function(){return o={},$("#FormError",p).hide(),J(),"_empty"===o[a+"_id"]?ee():!0===c.checkOnSubmit&&te(o,c._savedData)?($(h).data("disabled",!0),$(".confirm",v).show()):ee(),!1}),$("#cData",g).click(function(){return ie()&&k(),!1}),$("#nData",g).click(function(){if(!ie())return!1;$("#FormError",p).hide();var e=ne();if(e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]){if(!T("onclickPgButtons","next",$(h),e[1][e[0]]))return!1;Q(e[1][e[0]+1],h),d.call(r,e[1][e[0]+1]),T("afterclickPgButtons","next",$(h),e[1][e[0]+1]),re(e[0]+1,e)}return!1}),$("#pData",g).click(function(){if(!ie())return!1;$("#FormError",p).hide();var e=ne();if(-1!==e[0]&&e[1][e[0]-1]){if(!T("onclickPgButtons","prev",$(h),e[1][e[0]]))return!1;if(hasOneFromClasses($("#"+jqID(e[1][e[0]-1])),N))return!1;Q(e[1][e[0]-1],h),d.call(r,e[1][e[0]-1]),T("afterclickPgButtons","prev",$(h),e[1][e[0]-1]),re(e[0]-1,e)}return!1}),T("afterShowForm",$(h),s);var K=ne();re(K[0],K)}}function J(){return $(p+" > tbody > tr > td .FormElement").each(function(){var e,t,n=$(".customelement",this),s=n.length?n.attr("name"):this.name,a=w[s],d=void 0!==a&&y[a]||{},h=d.editoptions||{};if(n.length&&$.isFunction(h.custom_value)){try{if(o[s]=h.custom_value.call(i,$("#"+jqID(s),p),"get"),void 0===o[s])throw"e1"}catch(e){"e1"===e?jgrid.info_dialog.call(i,D,"function 'custom_value' "+c.msg.novalue,c.bClose):jgrid.info_dialog.call(i,D,e.message,c.bClose)}return!0}switch(t=$(this)[0].type){case"checkbox":var u="string"==typeof h.value?h.value.split(":"):["Yes","No"];o[s]=$(this).is(":checked")?u[0]:u[1];break;case"select-one":o[s]=$("option:selected",this).val();break;case"select-multiple":o[s]=$(this).val(),o[s]=o[s]?o[s].join(","):"";var f=[];$("option:selected",this).each(function(e,t){f[e]=$(t).text()});break;case"date":o[s]=$(this).val(),3===String(o[s]).split("-").length&&(e=(d.formatoptions||{}).newformat||l.call(r,"formatter.date.newformat"),o[s]=jgrid.parseDate.call(r[0],"Y-m-d",o[s],e));break;default:void 0!==t&&$.inArray(t,c.skipPostTypes)<0&&(o[s]=$(this).val())}}),!0}function Q(e,t){var o,s,l,d,h,u=0;(c.checkOnSubmit||c.checkOnUpdate)&&(c._savedData={},c._savedData[a+"_id"]=e);var f=n.colModel;if("_empty"===e)return $(f).each(function(){o=this.name,l=$.extend({},this.editoptions||{}),(s=$("#"+jqID(o),t))&&s.length&&null!==s[0]&&(d="","custom"===this.edittype&&$.isFunction(l.custom_value)?l.custom_value.call(i,s,"set",d):l.defaultValue?(d=$.isFunction(l.defaultValue)?l.defaultValue.call(i):l.defaultValue,"checkbox"===s[0].type?(h=d.toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==h?(s[0].checked=!0,s[0].defaultChecked=!0,s[0].value=d):(s[0].checked=!1,s[0].defaultChecked=!1):s.val(d)):"checkbox"===s[0].type?(s[0].checked=!1,s[0].defaultChecked=!1,d=$(s).data("offval")):s[0].type&&"select"===s[0].type.substr(0,6)?s[0].selectedIndex=0:s.val(d),(!0===c.checkOnSubmit||c.checkOnUpdate)&&(c._savedData[o]=d))}),void $("#id_g",t).val(e);var g=base.getInd.call(r,e,!0);g&&($(g.cells).filter("td[role=gridcell]").each(function(r){var s;if("cb"!==(o=f[r].name)&&"subgrid"!==o&&"rn"!==o&&!0===f[r].editable){try{s=$.unformat.call(i,$(this),{rowId:e,colModel:f[r]},r)}catch(e){s="textarea"===f[r].edittype?$(this).text():$(this).html()}switch(n.autoEncodeOnEdit&&(s=jgrid.oldDecodePostedData(s)),(!0===c.checkOnSubmit||c.checkOnUpdate)&&(c._savedData[o]=s),o="#"+jqID(o),f[r].edittype){case"password":case"text":case"button":case"image":case"textarea":isEmptyString(s)&&(s=""),$(o,t).val(s);break;case"select":var a=s.split(",");a=$.map(a,function(e){return $.trim(e)}),$(o+" option",t).each(function(){var e,t=this,i=$(t),n=$.trim(i.val());if(f[r].editoptions.multiple||a[0]!==n?f[r].editoptions.multiple&&-1<(e=$.inArray(n,a))?(a.splice(e,1),t.selected=!0):t.selected=!1:(a.splice(0,1),t.selected=!0),0===a.length)return!1}),0<a.length&&$(o+" option",t).each(function(){var e,t=$(this),i=$.trim(t.text());if(f[r].editoptions.multiple||$.trim(s)!==i&&a[0]!==i?f[r].editoptions.multiple&&-1<(e=$.inArray(i,a))&&(a.splice(e,1),this.selected=!0):(a.splice(0,1),this.selected=!0),0===a.length)return!1});break;case"checkbox":s=String(s),s=f[r].editoptions&&f[r].editoptions.value?f[r].editoptions.value.split(":")[0]===s:(s=s.toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==s,$(o,t).prop({checked:s,defaultChecked:s});break;case"custom":try{if(!f[r].editoptions||!$.isFunction(f[r].editoptions.custom_value))throw"e1";f[r].editoptions.custom_value.call(i,$(o,t),"set",s)}catch(e){"e1"===e?jgrid.info_dialog.call(i,D,"function 'custom_value' "+c.msg.nodefined,c.bClose):jgrid.info_dialog.call(i,D,e.message,c.bClose)}}u++}}),0<u&&$("#id_g",p).val(e))}function ee(){var t,l,u,f,m,v,b,w,x,C=[!0,"",""],S=C,D={},T=n.prmNames,A=base.getInd.call(r,e),N=!1===A?null:i.rows[A],_=r.triggerHandler("jqGridAddEditBeforeCheckValues",[o,$(h),s]);for(u in _&&"object"==typeof _&&(o=_),A=!1===A?-1:A,$.isFunction(c.beforeCheckValues)&&(_=c.beforeCheckValues.call(i,o,$(h),s))&&"object"==typeof _&&(o=_),o)if(o.hasOwnProperty(u)&&(w=n.iColByName[u],null!=(S=jgrid.checkValues.call(i,o[u],u,void 0,void 0,{oldValue:"_empty"===e?null:base.getCell.call(r,e,w),newValue:o[u],cmName:u,rowid:e,cm:y[w],iCol:w,iRow:A,tr:N,td:null==N?null:N.cells[w],mode:"_empty"===e?"addForm":"editForm"}))&&!0!==S||(S=C),!1===S[0]))break;if(x=c.url||n.editurl,$.each(y,function(e,t){var r=t.name;o.hasOwnProperty(r)&&("date"!==t.formatter||null!=t.formatoptions&&!0===t.formatoptions.sendFormatted||(o[r]=$.unformat.date.call(i,o[r],t)),"clientArray"!==x&&t.editoptions&&!0===t.editoptions.NullIfEmpty&&""===o[r]&&(o[r]="null"))}),S[0]&&(void 0===(D=r.triggerHandler("jqGridAddEditClickSubmit",[c,o,s]))&&$.isFunction(c.onclickSubmit)&&(D=c.onclickSubmit.call(i,c,o,s)||{}),null!=(S=r.triggerHandler("jqGridAddEditBeforeSubmit",[o,$(h),s]))&&!0!==S||(S=C),S[0]&&$.isFunction(c.beforeSubmit)&&(null!=(S=c.beforeSubmit.call(i,o,$(h),s))&&!0!==S||(S=C))),S[0]&&!c.processing){if(c.processing=!0,$("#sData",g).addClass(M),v=c.url||n.editurl,l=T.oper,t="clientArray"===v&&!1!==n.keyName?n.keyName:T.id,o[l]="_empty"===$.trim(o[a+"_id"])?T.addoper:T.editoper,o[l]!==T.addoper?o[t]=o[a+"_id"]:void 0===o[t]&&(o[t]=o[a+"_id"]),delete o[a+"_id"],o=$.extend(o,c.editData,D),!0===n.treeGrid){if(o[l]===T.addoper){f=n.selrow;var E="adjacency"===n.treeGridModel?n.treeReader.parent_id_field:"parent_id";o[E]=f}for(m in n.treeReader)if(n.treeReader.hasOwnProperty(m)&&(b=n.treeReader[m],o.hasOwnProperty(b))){if(o[l]===T.addoper&&"parent_id_field"===m)continue;delete o[b]}}o[t]=jgrid.stripPref(n.idPrefix,o[t]),n.autoEncodeOnEdit&&$.each(o,function(e,t){$.isFunction(t)||(o[e]=jgrid.oldEncodePostedData(t))});var O=$.extend({url:$.isFunction(v)?v.call(i,o[t],s,o,c):v,type:$.isFunction(c.mtype)?c.mtype.call(i,s,c,o[t],o):c.mtype,data:jgrid.serializeFeedback.call(i,$.isFunction(c.serializeEditData)?c.serializeEditData:n.serializeEditData,"jqGridAddEditSerializeEditData",o),complete:function(e,u){if(r.jqGrid("progressBar",{method:"hide",loadtype:c.saveui}),$("#sData",g).removeClass(M),o[t]=$("#id_g",p).val(),300<=e.status&&304!==e.status||0===e.status&&4===e.readyState?(S[0]=!1,S[1]=r.triggerHandler("jqGridAddEditErrorTextFormat",[e,s]),$.isFunction(c.errorTextFormat)?S[1]=c.errorTextFormat.call(i,e,s):S[1]=u+" Status: '"+e.statusText+"'. Error code: "+e.status):(null!=(S=r.triggerHandler("jqGridAddEditAfterSubmit",[e,o,s]))&&!0!==S||(S=C),S[0]&&$.isFunction(c.afterSubmit)&&(null!=(S=c.afterSubmit.call(i,e,o,s))&&!0!==S||(S=C))),!1===S[0])$("#FormError>td",p).html(S[1]),$("#FormError",p).show();else{n.autoEncodeOnEdit&&$.each(o,function(e,t){o[e]=jgrid.oldDecodePostedData(t)});var m,v=[$.extend({},c.reloadGridOptions||{})];if(o[l]===T.addoper?(S[2]||(S[2]=jgrid.randId()),null==o[t]||"_empty"===o[t]||o[l]===T.addoper?o[t]=S[2]:S[2]=o[t],c.reloadAfterSubmit?r.trigger("reloadGrid",v):!0===n.treeGrid?base.addChildNode.call(r,S[2],f,o):base.addRowData.call(r,S[2],o,c.addedrow),c.closeAfterAdd?(!0!==n.treeGrid&&d.call(r,S[2]),k()):c.clearAfterAdd&&Q("_empty",h)):(c.reloadAfterSubmit?(r.trigger("reloadGrid",v),c.closeAfterEdit||setTimeout(function(){d.call(r,o[t])},1e3)):!0===n.treeGrid?base.setTreeRow.call(r,o[t],o):base.setRowData.call(r,o[t],o),c.closeAfterEdit&&k()),$.isFunction(c.afterComplete)){var b=e;setTimeout(function(){r.triggerHandler("jqGridAddEditAfterComplete",[b,o,$(h),s]),c.afterComplete.call(i,b,o,$(h),s),b=null},50)}if((c.checkOnSubmit||c.checkOnUpdate)&&($(h).data("disabled",!1),"_empty"!==c._savedData[a+"_id"]))for(m in c._savedData)c._savedData.hasOwnProperty(m)&&o[m]&&(c._savedData[m]=o[m])}c.processing=!1;try{$(h).find("input,textarea,select,button,object,*[tabindex]").filter(":input:visible:not(:disabled)").first().focus()}catch(e){}}},jgrid.ajaxOptions,c.ajaxEditOptions);if(O.url||c.useDataProxy||($.isFunction(n.dataProxy)?c.useDataProxy=!0:(S[0]=!1,S[1]+=" "+jgrid.errors.nourl)),S[0])if(r.jqGrid("progressBar",{method:"show",loadtype:c.saveui,htmlcontent:c.savetext}),c.useDataProxy){var I=n.dataProxy.call(i,O,"set_"+a);void 0===I&&(I=[!0,""]),!1===I[0]?(S[0]=!1,S[1]=I[1]||"Error deleting the selected row!"):(O.data.oper===T.addoper&&c.closeAfterAdd&&k(),O.data.oper===T.editoper&&c.closeAfterEdit&&k())}else"clientArray"===O.url?(c.reloadAfterSubmit=!1,o=O.data,O.complete({status:200,statusText:""},"")):$.ajax(O)}!1===S[0]&&($("#FormError>td",p).html(S[1]),$("#FormError",p).show())}function te(e,t){var i,r=!1;for(i in e)if(e.hasOwnProperty(i)&&String(e[i])!==String(t[i])){r=!0;break}return r}function ie(){var e=!0;return $("#FormError",p).hide(),c.checkOnUpdate&&(o={},J(),te(o,c._savedData)&&($(h).data("disabled",!0),$(".confirm",v).show(),e=!1)),e}function re(e,t){var i=t[1].length-1;0===e?$("#pData",g).addClass(N):void 0!==t[1][e-1]&&hasOneFromClasses($("#"+jqID(t[1][e-1])),N)?$("#pData",g).addClass(N):$("#pData",g).removeClass(N),e===i?$("#nData",g).addClass(N):void 0!==t[1][e+1]&&hasOneFromClasses($("#"+jqID(t[1][e+1])),N)?$("#nData",g).addClass(N):$("#nData",g).removeClass(N)}function ne(){var e=base.getDataIDs.call(r),t=$("#id_g",p).val();return[$.inArray(t,e),e]}})},viewGridRow:function(e,t){return this.each(function(){var i=this,r=$(i),n=i.p;if(i.grid&&null!=n&&e){var o=n.id,s=$.extend(!0,{top:0,left:0,width:0,datawidth:"auto",height:"auto",dataheight:"auto",drag:!0,resize:!0,closeOnEscape:!1,labelswidth:"",navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,removemodal:!0},base.getGridRes.call(r,"view"),jgrid.view||{},n.formViewing||{},t||{}),a="#ViewGrid_"+jqID(o),l="#ViewTbl_"+jqID(o),d=l+"_2",c="ViewGrid_"+o,h="ViewTbl_"+o,u=s.commonIconClass,f={themodal:"viewmod"+o,modalhead:"viewhd"+o,modalcontent:"viewcnt"+o,resizeAlso:c},p="#"+jqID(f.themodal),g=n.gBox,m=n.colModel,v=1,b=0,y=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift("View"),e.unshift(s),jgridFeedback.apply(i,e)},w=function(){jgrid.hideModal(p,{gb:g,jqm:s.jqModal,onClose:s.onClose,removemodal:s.removemodal})},x=getGuiStateStyles.call(i,"hover"),C=getGuiStateStyles.call(i,"disabled"),S=isNaN(s.dataheight)?s.dataheight:s.dataheight+"px",k=isNaN(s.datawidth)?s.datawidth:s.datawidth+"px",D=$("<div class='"+getGuiStyles.call(i,"dialog.body")+"'><form name='FormPost' id='"+c+"' class='FormGrid' style='width:"+k+";overflow:auto;position:relative;height:"+S+";'></form></div>"),T=D.children("form.FormGrid"),A=$("<table id='"+h+"' class='EditTable'><tbody></tbody></table>");if($(p).remove(),$(m).each(function(){var e=this.formoptions;v=Math.max(v,e&&e.colpos||0),b=Math.max(b,e&&e.rowpos||0)}),T.append(A),y("beforeInitData",T)){!function(e,t,o){var a,l,d,c,h,u,f,p,g=0,v=[],b=base.getInd.call(r,e),y=getGuiStyles.call(i,"dialog.viewData"),w=$(t),x=getGuiStyles.call(i,"dialog.viewLabel"),C=String(s.labelswidth)+(!s.labelswidth||isNaN(s.labelswidth)?"":"px"),S="<td class='"+getGuiStyles.call(i,"dialog.viewCellLabel","CaptionTD form-view-label")+(C?"' style='width:"+C+";":"")+"'>&#160;</td><td class='"+getGuiStyles.call(i,"dialog.viewCellData","DataTD form-view-data")+"'>&#160;</td>",k="",D=["integer","number","currency"],T=0,A=0;for(h=0;h<o;h++)k+=S;if($(m).each(function(){var e=this;(l=(!e.editrules||!0!==e.editrules.edithidden)&&!0===e.hidden)||"right"!==e.align||(e.formatter&&-1!==$.inArray(e.formatter,D)?T=Math.max(T,parseInt(e.width,10)):A=Math.max(A,parseInt(e.width,10)))}),u=0!==T?T:0!==A?A:0,$(m).each(function(e){var t=this;if(a=t.name,f=!1,l=(!t.editrules||!0!==t.editrules.edithidden)&&!0===t.hidden,p="boolean"!=typeof t.viewable||t.viewable,"cb"!==a&&"subgrid"!==a&&"rn"!==a&&p){c=!1===b?"":jgrid.getDataFieldOfCell.call(i,i.rows[b],e).html(),f="right"===t.align&&0!==u;var r=$.extend({},{rowabove:!1,rowcontent:""},t.formoptions||{}),s=parseInt(r.rowpos,10)||g+1,h=parseInt(2*(parseInt(r.colpos,10)||1),10);if(r.rowabove){var m=$("<tr><td class='contentinfo' colspan='"+2*o+"'>"+r.rowcontent+"</td></tr>");w.append(m),m[0].rp=s}0===(d=w.find("tr[data-rowpos="+s+"]")).length&&((d=$("<tr data-rowpos='"+s+"'></tr>").addClass("FormData").attr("id","trv_"+a)).append(k),w.append(d),d[0].rp=s);var C=void 0===r.label?n.colNames[e]:r.label,S=$("td:eq("+(h-1)+")",d[0]),D=$("td:eq("+(h-2)+")",d[0]);D.html("<label for='"+a+"'"+(x?" class='"+x+"'>":">")+(C||"&nbsp;")+"</label>"),S[isEmptyString(S.html())?"html":"append"]("<span id='"+a+"'"+(y?" class='"+y+"'>":">")+(c||"&nbsp;")+"</span>").attr("id","v_"+a),f&&$("td:eq("+(h-1)+") span",d[0]).css({"text-align":"right",width:u+"px"}),l&&D.add(S).css("visibility","hidden"),v[g]=e,g++}}),hideRowsWithoutVissibleCells(w),0<g){var N=$("<tr class='FormData' style='display:none'><td class='CaptionTD'>&#160;</td><td colspan='"+(2*o-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+e+"'/></td></tr>");N[0].rp=g+99,w.append(N)}}(e,A,v);var N="rtl"===n.direction,_=N?"nData":"pData",M=N?"pData":"nData",E=builderFmButon.call(i,_,"",mergeCssClasses(u,s.prevIcon),"","left"),O=builderFmButon.call(i,M,"",mergeCssClasses(u,s.nextIcon),"","right"),I=builderFmButon.call(i,"cData",s.bClose);if(0<b){var R=[];$.each($(A)[0].rows,function(e,t){R[e]=t}),R.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),$.each(R,function(e,t){$("tbody",A).append(t)})}s.gbox=g;var F=$("<div></div>").append(D).append("<div class='"+getGuiStyles.call(i,"dialog.footer")+"'><table border='0' class='EditTable' id='"+h+"_2'><tbody><tr id='Act_Buttons'><td class='navButton navButton-"+n.direction+"' width='"+(s.labelswidth||"auto")+"'>"+(N?O+E:E+O)+"</td><td class='EditButton EditButton-"+n.direction+"'>"+I+"</td></tr></tbody></table></div>");jgrid.createModal.call(i,f,F,s,n.gView,$(n.gView)[0]),s.viewPagerButtons||$("#pData, #nData",d).hide(),F=null,$(p).keydown(function(e){var t,i;if(!0===$(a).data("disabled"))return!1;if(13===e.which&&(i=(t=$(d).find(":focus")).attr("id"),0<t.length&&0<=$.inArray(i,["pData","nData","cData"])))return t.trigger("click"),!1;if(27===e.which)return s.closeOnEscape&&w(),!1;if(!0===s.navkeys[0]){if(e.which===s.navkeys[1])return $("#pData",d).trigger("click"),!1;if(e.which===s.navkeys[2])return $("#nData",d).trigger("click"),!1}}),addFormIcon($("#cData",d),s.closeicon,u),y("beforeShowForm",$(a)),jgrid.viewModal.call(i,p,{gbox:g,jqm:s.jqModal,overlay:s.overlay,toTop:s.toTop,modal:s.modal,onHide:function(e){e.w.remove(),e.o&&e.o.remove()}}),$(".fm-button:not(."+C.split(" ").join(".")+")",d).hover(function(){$(this).addClass(x)},function(){$(this).removeClass(x)}),j(),$("#cData",d).click(function(){return w(),!1}),$("#nData",d).click(function(){$("#FormError",l).hide();var e=B();if(e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]){if(!y("onclickPgButtons","next",$(a),e[1][e[0]]))return!1;P(e[1][e[0]+1]),base.setSelection.call(r,e[1][e[0]+1]),y("afterclickPgButtons","next",$(a),e[1][e[0]+1]),z(e[0]+1,e)}return j(),!1}),$("#pData",d).click(function(){$("#FormError",l).hide();var e=B();if(-1!==e[0]&&e[1][e[0]-1]){if(!y("onclickPgButtons","prev",$(a),e[1][e[0]]))return!1;P(e[1][e[0]-1]),base.setSelection.call(r,e[1][e[0]-1]),y("afterclickPgButtons","prev",$(a),e[1][e[0]-1]),z(e[0]-1,e)}return j(),!1});var L=B();z(L[0],L)}}function j(){!0!==s.closeOnEscape&&!0!==s.navkeys[0]||setTimeout(function(){$("#cData").focus()},0)}function P(e){var t,n,o=0,s=base.getInd.call(r,e,!0);s&&($("td",s).each(function(e){n=m[e],"cb"!==(t=n.name)&&"subgrid"!==t&&"rn"!==t&&(t=jqID("v_"+t),$("#"+t+" span",l).html(jgrid.getDataFieldOfCell.call(i,s,e).html()),o++)}),0<o&&$("#id_g",l).val(e))}function z(e,t){var i=t[1].length-1;0===e?$("#pData",d).addClass(C):void 0!==t[1][e-1]&&hasOneFromClasses($("#"+jqID(t[1][e-1])),C)?$("#pData",d).addClass(C):$("#pData",d).removeClass(C),e===i?$("#nData",d).addClass(C):void 0!==t[1][e+1]&&hasOneFromClasses($("#"+jqID(t[1][e+1])),C)?$("#nData",d).addClass(C):$("#nData",d).removeClass(C)}function B(){var e=base.getDataIDs.call(r),t=$("#id_g",l).val();return[$.inArray(t,e),e]}})},delGridRow:function(e,t){return this.each(function(){var i=this,r=i.p,n=$(i);if(i.grid&&null!=r&&e){var o,s,a,l,d=r.id,c=$.extend(!0,{top:0,left:0,width:240,removemodal:!0,height:"auto",dataheight:"auto",datawidth:"auto",drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,closeOnEscape:!1,delData:{},idSeparator:",",onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1,delui:"disable",deltext:base.getGridRes.call(n,"defaults.deltext")||"Deleting..."},base.getGridRes.call(n,"del"),jgrid.del||{},r.formDeleting||{},t||{}),h="DelTbl_"+d,u="#DelTbl_"+jqID(d),f={themodal:"delmod"+d,modalhead:"delhd"+d,modalcontent:"delcnt"+d,resizeAlso:h},p="#"+jqID(f.themodal),g=r.gBox,m=c.commonIconClass,v=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift("Delete"),e.unshift(c),jgridFeedback.apply(i,e)},b=getGuiStateStyles.call(i,"hover"),y=getGuiStateStyles.call(i,"active"),w=getGuiStateStyles.call(i,"error");if($.isArray(e)||(e=[String(e)]),void 0!==$(p)[0]){if(!v("beforeInitData",$(u)))return;$("#DelData>td",u).text(e.join(c.idSeparator)).data("rowids",e),$("#DelError",u).hide(),!0===c.processing&&(c.processing=!1,$("#dData",u).removeClass(y)),v("beforeShowForm",$(u)),jgrid.viewModal.call(i,p,{gbox:g,jqm:c.jqModal,jqM:!1,overlay:c.overlay,toTop:c.toTop,modal:c.modal}),v("afterShowForm",$(u))}else{var x=isNaN(c.dataheight)?c.dataheight:c.dataheight+"px",C=isNaN(c.datawidth)?c.datawidth:c.datawidth+"px",S="<div class='"+getGuiStyles.call(i,"dialog.body")+"'><div id='"+h+"' class='formdata' style='width:"+C+";overflow:auto;position:relative;height:"+x+";'>";S+="<table class='DelTable'><tbody>",S+="<tr id='DelError' style='display:none'><td class='"+w+"'></td></tr>",S+="<tr id='DelData' style='display:none'><td >"+e.join(c.idSeparator)+"</td></tr>",S+="<tr><td class='delmsg'>"+c.msg+"</td></tr>",S+="</tbody></table></div></div>";var k=builderFmButon.call(i,"dData",c.bSubmit),D=builderFmButon.call(i,"eData",c.bCancel);if(S+="<div class='"+getGuiStyles.call(i,"dialog.footer")+"'><table class='EditTable' id='"+h+"_2'><tbody><tr><td><hr class='"+getGuiStyles.call(i,"dialog.hr")+"' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton EditButton-"+r.direction+"'>"+k+"&#160;"+D+"</td></tr></tbody></table></div>",c.gbox=g,jgrid.createModal.call(i,f,S,c,r.gView,$(r.gView)[0]),$("#DelData>td",u).data("rowids",e),!v("beforeInitData",$(S)))return;$(".fm-button",u+"_2").hover(function(){$(this).addClass(b)},function(){$(this).removeClass(b)}),addFormIcon($("#dData",u+"_2"),c.delicon,m),addFormIcon($("#eData",u+"_2"),c.cancelicon,m),$("#dData",u+"_2").click(function(){var e,t=[!0,""],h=$("#DelData>td",u),f=h.text(),m=h.data("rowids"),b={};if($.isFunction(c.onclickSubmit)&&(b=c.onclickSubmit.call(i,c,f,m)||{}),$.isFunction(c.beforeSubmit)&&(t=c.beforeSubmit.call(i,f,m)||t),t[0]&&!c.processing){if(c.processing=!0,a=r.prmNames,o=$.extend({},c.delData,b),l=a.oper,o[l]=a.deloper,s=a.id,!(f=m.slice()).length)return!1;for(e in f)f.hasOwnProperty(e)&&(f[e]=jgrid.stripPref(r.idPrefix,f[e]));o[s]=f.join(c.idSeparator),$(this).addClass(y);var w=c.url||r.editurl,x=$.extend({url:$.isFunction(w)?w.call(i,o[s],o,c,m):w,type:c.mtype,data:$.isFunction(c.serializeDelData)?c.serializeDelData.call(i,o,m):o,complete:function(e,s){var a;if(n.jqGrid("progressBar",{method:"hide",loadtype:c.delui}),$("#dData",u+"_2").removeClass(y),300<=e.status&&304!==e.status||0===e.status&&4===e.readyState?(t[0]=!1,$.isFunction(c.errorTextFormat)?t[1]=c.errorTextFormat.call(i,e):t[1]=s+" Status: '"+e.statusText+"'. Error code: "+e.status):$.isFunction(c.afterSubmit)&&(t=c.afterSubmit.call(i,e,o,m)||[!0]),!1===t[0])$("#DelError>td",u).html(t[1]),$("#DelError",u).show();else{if("local"===r.datatype||!0===r.treeGrid||!c.reloadAfterSubmit)if(!0===r.treeGrid)try{base.delTreeNode.call(n,m[0])}catch(e){}else for(m=m.slice(),a=0;a<m.length;a++)base.delRowData.call(n,m[a]);c.reloadAfterSubmit&&n.trigger("reloadGrid",[$.extend({},c.reloadGridOptions||{})]),setTimeout(function(){v("afterComplete",e,f,$(u),m)},50)}c.processing=!1,t[0]&&jgrid.hideModal(p,{gb:g,jqm:c.jqModal,onClose:c.onClose,removemodal:c.removemodal})}},jgrid.ajaxOptions,c.ajaxDelOptions);if(x.url||c.useDataProxy||($.isFunction(r.dataProxy)?c.useDataProxy=!0:(t[0]=!1,t[1]+=" "+jgrid.errors.nourl)),t[0])if(n.jqGrid("progressBar",{method:"show",loadtype:c.delui,htmlcontent:c.deltext}),c.useDataProxy){var C=r.dataProxy.call(i,x,"del_"+d);void 0===C&&(C=[!0,""]),!1===C[0]?(t[0]=!1,t[1]=C[1]||"Error deleting the selected row!"):jgrid.hideModal(p,{gb:g,jqm:c.jqModal,onClose:c.onClose,removemodal:c.removemodal})}else"clientArray"===x.url?(o=x.data,x.complete({status:200,statusText:""},"")):$.ajax(x)}return!1===t[0]&&($("#DelError>td",u).html(t[1]),$("#DelError",u).show()),!1}),$("#eData",u+"_2").click(function(){return jgrid.hideModal(p,{gb:g,jqm:c.jqModal,onClose:c.onClose,removemodal:c.removemodal}),!1}),v("beforeShowForm",$(u)),jgrid.viewModal.call(i,p,{gbox:g,jqm:c.jqModal,overlay:c.overlay,toTop:c.toTop,modal:c.modal}),v("afterShowForm",$(u))}!0===c.closeOnEscape&&setTimeout(function(){$(".ui-jqdialog-titlebar-close","#"+jqID(f.modalhead)).attr("tabindex","-1").focus()},0)}})},navGrid:function(e,t,i,r,n,o,s){return"object"==typeof e&&(s=o,o=n,n=r,r=i,i=t,t=e,e=void 0),r=r||{},i=i||{},s=s||{},n=n||{},o=o||{},this.each(function(){var a=this,l=a.p,d=$(a);if(a.grid&&null!=l&&!(a.nav&&0<$(e).find(".navtable").length)){var c=l.id,h=$.extend({edit:!0,add:!0,del:!0,search:!0,refresh:!0,refreshstate:"firstpage",view:!1,closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,hideEmptyPagerParts:!0,alertwidth:200,alertheight:"auto",alerttop:null,removemodal:!0,alertleft:null,alertzIndex:null,iconsOverText:!1},base.getGridRes.call(d,"nav"),jgrid.nav||{},l.navOptions||{},t||{});h.position=h.position||("rtl"===l.direction?"right":"left");var u,f,p,g=l.idSel,m=l.gBox,v=h.commonIconClass,b={themodal:"alertmod_"+c,modalhead:"alerthd_"+c,modalcontent:"alertcnt_"+c},y=function(){var e=document.documentElement,t=window,i=1024,r=768,n=d.closest(".ui-jqgrid").offset();void 0===$("#"+jqID(b.themodal))[0]&&(h.alerttop||h.alertleft||(void 0!==t.innerWidth?(i=t.innerWidth,r=t.innerHeight):null!=e&&void 0!==e.clientWidth&&0!==e.clientWidth&&(i=e.clientWidth,r=e.clientHeight),i=i/2-parseInt(h.alertwidth,10)/2-n.left+(void 0!==t.pageXOffset?t.pageXOffset:(e||document.body.parentNode||document.body).scrollLeft),r=r/2-25-n.top+(void 0!==t.pageYOffset?t.pageYOffset:(e||document.body.parentNode||document.body).scrollTop)),jgrid.createModal.call(a,b,"<div class='"+getGuiStyles.call(a,"dialog.body")+"'><div>"+h.alerttext+"</div></div>",{gbox:m,jqModal:h.jqModal,drag:!0,resize:!0,caption:h.alertcap,top:null!=h.alerttop?h.alerttop:r,left:null!=h.alertleft?h.alertleft:i,width:h.alertwidth,height:h.alertheight,closeOnEscape:h.closeOnEscape,zIndex:h.alertzIndex,removemodal:h.removemodal},l.gView,$(m)[0],!1)),jgrid.viewModal.call(a,"#"+jqID(b.themodal),{gbox:m,toTop:h.alertToTop,jqm:h.jqModal});var o=$("#"+jqID(b.modalhead)).find(".ui-jqdialog-titlebar-close");o.attr({tabindex:"0",href:"#",role:"button"}),setTimeout(function(){o.focus()},50)},w=function(e){var t;if(13===e.which&&0<(t=$(this).find(".ui-pg-button").filter(":focus")).length){var i=t[0].id,r=i.substr(0,0<$(this).closest(".ui-jqgrid-toppager").length?i.length-c.length-5:i.length-c.length-1)+"mod"+l.id,n=$(".ui-jqdialog").filter(":visible").map(function(){return this.id});if($.inArray(r,n)<0)return t.trigger("click"),!1}},x=getGuiStateStyles.call(a,"hover"),C=getGuiStateStyles.call(a,"disabled"),S=getGuiStyles.call(a,"navButton","ui-pg-button");if(a.grid){a.modalAlert=y,void 0===e&&(l.pager?(e=l.pager,l.toppager&&(h.cloneToTop=!0)):l.toppager&&(e=l.toppager));var k,D,T,A,N,_,M,E=1,O=["left","center","right"],I="<div class='"+getGuiStyles.call(a,"navButton","ui-pg-button "+getGuiStateStyles.call(a,"disabled"))+"'><span class='ui-separator'></span></div>",R=function(){hasOneFromClasses(this,C)||$(this).addClass(x)},F=function(){$(this).removeClass(x)},L=function(){return hasOneFromClasses(this,C)||($.isFunction(h.addfunc)?h.addfunc.call(a,r):base.editGridRow.call(d,"new",r)),!1},j=function(e,t,i){if(!hasOneFromClasses(this,C)){var r=l.selrow;r?$.isFunction(e)?e.call(a,r,i):base[t].call(d,r,i):y()}return!1},P=function(){return j.call(this,h.editfunc,"editGridRow",i)},z=function(){return j.call(this,h.viewfunc,"viewGridRow",s)},B=function(){var e;return hasOneFromClasses(this,C)||(l.multiselect?0===(e=l.selarrrow).length&&(e=null):e=l.selrow,e?$.isFunction(h.delfunc)?h.delfunc.call(a,e,n):base.delGridRow.call(d,e,n):y()),!1},H=function(){return hasOneFromClasses(this,C)||($.isFunction(h.searchfunc)?h.searchfunc.call(a,o):base.searchGrid.call(d,o)),!1},q=function(){if(!hasOneFromClasses(this,C)){$.isFunction(h.beforeRefresh)&&h.beforeRefresh.call(a),l.search=!1,l.resetsearch=!0;try{if("currentfilter"!==h.refreshstate){l.postData.filters="";try{$("#fbox_"+g).jqFilter("resetFilter")}catch(e){}$.isFunction(a.clearToolbar)&&a.clearToolbar(!1)}}catch(e){}switch(h.refreshstate){case"firstpage":d.trigger("reloadGrid",[$.extend({},h.reloadGridOptions||{},{page:1})]);break;case"current":case"currentfilter":d.trigger("reloadGrid",[$.extend({},h.reloadGridOptions||{},{current:!0})])}$.isFunction(h.afterRefresh)&&h.afterRefresh.call(a)}return!1},W=function(e,t,i){var r=$("<div class='"+S+"' tabindex='0' role='button'></div>"),n=h[e+"icon"],o=$.trim(h[e+"text"]);return r.append("<div class='ui-pg-div'><span class='"+(h.iconsOverText?mergeCssClasses("ui-pg-button-icon-over-text",v,n):mergeCssClasses(v,n))+"'></span>"+(o?"<span class='ui-pg-button-text"+(h.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+o+"</span>":"")+"</div>"),$(p).append(r),r.attr({title:h[e+"title"]||"",id:t||e+"_"+A}).click(i).hover(R,F),r};for(h.cloneToTop&&l.toppager&&(E=2),k=0;k<E;k++){if(p=$("<div class='ui-pg-table navtable' role='toolbar' style='float:"+("rtl"===l.direction?"right":"left")+";table-layout:auto;'></div>"),0===k?(A=c,(T=e)===l.toppager&&(A+="_top",E=1)):(T=l.toppager,A=c+"_top"),h.add&&W("add",r.id,L),h.edit&&W("edit",i.id,P),h.view&&W("view",s.id,z),h.del&&W("del",n.id,B),(h.add||h.edit||h.del||h.view)&&$(p).append(I),h.search&&(D=W("search",o.id,H),o.showOnLoad&&!0===o.showOnLoad&&$(D,p).click()),h.refresh&&W("refresh","",q),f=$(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",$("body").append("<div id='testpg2' class='"+getGuiStyles.call(a,"gBox","ui-jqgrid")+"' style='font-size:"+f+";visibility:hidden;' ></div>"),u=$(p).clone().appendTo("#testpg2").width(),$("#testpg2").remove(),$(T+"_"+h.position,T).append(p),h.hideEmptyPagerParts)for(N=0;N<O.length;N++)O[N]!==h.position&&(0===(M=$(T+"_"+O[N],T)).length||0===M[0].childNodes.length?M.hide():1===M[0].childNodes.length&&(_=M[0].firstChild,!$(_).is("table.ui-pg-table")||0!==_.rows&&0!==_.rows[0].cells.length||M.hide()));l._nvtd&&(u>l._nvtd[0]&&($(T+"_"+h.position,T).width(u),l._nvtd[0]=u),l._nvtd[1]=u),a.nav=!0,p.on("keydown.jqGrid",w)}d.triggerHandler("jqGridResetFrozenHeights")}}})},navButtonAdd:function(e,t){return"object"==typeof e&&(t=e,e=void 0),this.each(function(){var i=this,r=i.p;if(i.grid){var n=$.extend({caption:"newButton",title:"",onClickButton:null,position:"last",iconsOverText:!1},base.getGridRes.call($(i),"nav"),jgrid.nav||{},r.navOptions||{},t||{}),o=n.id,s=getGuiStateStyles.call(i,"hover"),a=getGuiStateStyles.call(i,"disabled"),l=getGuiStyles.call(i,"navButton","ui-pg-button");if(void 0===e)if(r.pager){if(base.navButtonAdd.call($(i),r.pager,n),!r.toppager)return;e=r.toppager,o&&(o+="_top")}else r.toppager&&(e=r.toppager);"string"==typeof e&&0!==e.indexOf("#")&&(e="#"+jqID(e));var d=$(".navtable",e),c=n.commonIconClass;if(0<d.length){if(o&&0<d.find("#"+jqID(o)).length)return;var h=$("<div tabindex='0' role='button'></div>");"NONE"===n.buttonicon.toString().toUpperCase()?$(h).addClass(l).append("<div class='ui-pg-div'>"+(n.caption?"<span class='ui-pg-button-text"+(n.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+n.caption+"</span>":"")+"</div>"):$(h).addClass(l).append("<div class='ui-pg-div'><span class='"+(n.iconsOverText?mergeCssClasses("ui-pg-button-icon-over-text",c,n.buttonicon):mergeCssClasses(c,n.buttonicon))+"'></span>"+(n.caption?"<span class='ui-pg-button-text"+(n.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+n.caption+"</span>":"")+"</div>"),o&&$(h).attr("id",o),"first"===n.position&&0<d.children("div.ui-pg-button").length?d.children("div.ui-pg-button").first().before(h):d.append(h),$(h,d).attr("title",n.title||"").click(function(e){return hasOneFromClasses(this,a)||$.isFunction(n.onClickButton)&&n.onClickButton.call(i,n,e),!1}).hover(function(){hasOneFromClasses(this,a)||$(this).addClass(s)},function(){$(this).removeClass(s)}),$(i).triggerHandler("jqGridResetFrozenHeights")}}})},navSeparatorAdd:function(e,t){return t=$.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},t||{}),this.each(function(){if(this.grid){var i=this.p,r=getGuiStyles.call(this,"navButton","ui-pg-button "+getGuiStateStyles.call(this,"disabled"));if(void 0===e)if(i.pager){if(base.navSeparatorAdd.call($(this),i.pager,t),!i.toppager)return;e=i.toppager}else i.toppager&&(e=i.toppager);"string"==typeof e&&0!==e.indexOf("#")&&(e="#"+jqID(e));var n=$(".navtable",e);if(0<n.length){var o="<div class='"+r+"'><span class='"+t.sepclass+"'></span>"+t.sepcontent+"</div>";"first"===t.position?0===n.children("div.ui-pg-button").length?n.append(o):n.children("div.ui-pg-button").first().before(o):n.append(o)}}})},GridToForm:function(e,t){return this.each(function(){var i,r,n,o;if(this.grid){var s=base.getRowData.call($(this),e);if(s)for(i in s)if(s.hasOwnProperty(i))if((r=$("[name="+jqID(i)+"]",t)).is("input:radio")||r.is("input:checkbox"))for(n=0;n<r.length;n++)(o=$(r[n])).prop("checked",o.val()===String(s[i]));else r.val(isEmptyString(s[i])?"":s[i])}})},FormToGrid:function(e,t,i,r){return this.each(function(){if(this.grid){i||(i="set"),r||(r="first");var n=$(t).serializeArray(),o={};$.each(n,function(e,t){o[t.name]=t.value}),"add"===i?base.addRowData.call($(this),e,o,r):"set"===i&&base.setRowData.call($(this),e,o)}})}}),jgrid.extend({groupingSetup:function(){return this.each(function(){var e,t,i,r,n,o=this.p,s=o.colModel,a=o.groupingView,l=function(){return""};if(null===a||"object"!=typeof a&&!$.isFunction(a))o.grouping=!1;else if(a.groupField.length){for(void 0===a.visibiltyOnNextGrouping&&(a.visibiltyOnNextGrouping=[]),a.lastvalues=[],a._locgr||(a.groups=[]),a.counters=[],e=0;e<a.groupField.length;e++)a.groupOrder[e]||(a.groupOrder[e]="asc"),a.groupText[e]||(a.groupText[e]="{0}"),"boolean"!=typeof a.groupColumnShow[e]&&(a.groupColumnShow[e]=!0),"boolean"!=typeof a.groupSummary[e]&&(a.groupSummary[e]=!1),a.groupSummaryPos[e]||(a.groupSummaryPos[e]="footer"),r=s[o.iColByName[a.groupField[e]]],!0===a.groupColumnShow[e]?(a.visibiltyOnNextGrouping[e]=!0,null!=r&&!0===r.hidden&&base.showCol.call($(this),a.groupField[e])):(a.visibiltyOnNextGrouping[e]=$("#"+jgrid.jqID(o.id+"_"+a.groupField[e])).is(":visible"),null!=r&&!0!==r.hidden&&base.hideCol.call($(this),a.groupField[e]));for(a.summary=[],a.hideFirstGroupCol&&(a.formatDisplayField[0]=function(e){return e}),t=0,i=s.length;t<i;t++)r=s[t],a.hideFirstGroupCol&&(r.hidden||a.groupField[0]!==r.name||(r.formatter=l)),r.summaryType&&(n={nm:r.name,st:r.summaryType,v:"",sr:r.summaryRound,srt:r.summaryRoundType||"round"},r.summaryDivider&&(n.sd=r.summaryDivider,n.vd=""),a.summary.push(n))}else o.grouping=!1})},groupingPrepare:function(e,t){return this.each(function(){var i,r,n,o,s,a,l,d,c,h=this,u=h.p,f=u.groupingView,p=f.groups,g=f.counters,m=f.lastvalues,v=f.isInTheSameGroup,b=f.groupField.length,y=!1,w=base.groupingCalculations.handler,x=function(){var t,i,r;for(t=0;t<s.summary.length;t++)i=s.summary[t],r=$.isArray(i.st)?i.st[o.idx]:i.st,$.isFunction(r)?i.v=r.call(h,i.v,i.nm,e,o):(i.v=w.call($(h),r,i.v,i.nm,i.sr,i.srt,e),"avg"===r.toLowerCase()&&i.sd&&(i.vd=w.call($(h),r,i.vd,i.sd,i.sr,i.srt,e)));return s.summary},C=function(e,t){if(null==e&&f.useDefaultValuesOnGrouping){var i,r=void 0!==u.iColByName[t]?u.colModel[u.iColByName[t]]:u.additionalProperties[u.iPropByName[t]];null!=r&&null!=r.formatter&&(null!=r.formatoptions&&void 0!==r.formatoptions.defaultValue?e=r.formatoptions.defaultValue:"string"==typeof r.formatter&&void 0!==(i=$(h).jqGrid("getGridRes","formatter."+r.formatter+".defaultValue"))&&(e=i))}return e};for(i=0;i<b;i++)if(a=f.groupField[i],l=C(e[a],a),null==(c=null==(d=f.displayField[i])?null:C(e[d],d))&&(c=l),void 0!==l){for(n=[],r=0;r<=i;r++)n.push(e[f.groupField[r]]);for(o={idx:i,dataIndex:a,value:l,displayValue:c,startRow:t,cnt:1,keys:n,summary:[]},s={cnt:1,pos:p.length,summary:$.extend(!0,[],f.summary)},0===t?(p.push(o),m[i]=l,g[i]=s):"object"==typeof l||($.isArray(v)&&$.isFunction(v[i])?v[i].call(h,m[i],l,i,f):m[i]===l)?y?(p.push(o),m[i]=l,g[i]=s):((s=g[i]).cnt+=1,p[s.pos].cnt=s.cnt):(p.push(o),m[i]=l,y=!0,g[i]=s),p[s.pos].summary=x(),r=s.pos-1;0<=r;r--)if(p[r].idx<p[s.pos].idx){p[s.pos].parentGroupIndex=r,p[s.pos].parentGroup=p[r];break}}}),this},getGroupHeaderIndex:function(e,t){var i=this[0].p,r=t?$(t).closest("tr.jqgroup"):$("#"+jgrid.jqID(e)),n=parseInt(r.data("jqgrouplevel"),10),o=i.id+"ghead_"+n+"_";return isNaN(n)||!r.hasClass("jqgroup")||e.length<=o.length?-1:parseInt(e.substring(o.length),10)},groupingToggle:function(e,t){return this.each(function(){var i,r,n,o=this,s=o.p,a=s.groupingView,l=a.minusicon,d=a.plusicon,c=t?$(t).closest("tr.jqgroup"):$("#"+jgrid.jqID(e)),h=function(e){return e.find(">td>span.tree-wrap")},u=!0,f=!1,p=[],g=function(e){var t,i=e.length;for(t=0;t<i;t++)p.push(e[t])},m=parseInt(c.data("jqgrouplevel"),10);for(s.frozenColumns&&0<c.length&&(r=c[0].rowIndex,c=(c=$(o.rows[r])).add(o.grid.fbRows[r])),n=h(c),jgrid.hasAllClasses(n,l)?(n.removeClass(l).addClass(d),f=!0):n.removeClass(d).addClass(l),c=c.next();c.length;c=c.next())if(c.hasClass("jqfoot")){if(i=parseInt(c.data("jqfootlevel"),10),f){if(i=parseInt(c.data("jqfootlevel"),10),(!a.showSummaryOnHide&&i===m||m<i)&&g(c),i<m)break}else if((i===m||a.showSummaryOnHide&&i===m+1)&&g(c),i<=m)break}else if(c.hasClass("jqgroup"))if(i=parseInt(c.data("jqgrouplevel"),10),f){if(i<=m)break;g(c)}else{if(i<=m)break;i===m+1&&(h(c).removeClass(l).addClass(d),g(c)),u=!1}else(f||u)&&g(c);$(p).css("display",f?"none":""),s.frozenColumns&&$(o).triggerHandler("jqGridResetFrozenHeights",[{header:{resizeDiv:!1,resizedRows:{iRowStart:-1,iRowEnd:-1}},resizeFooter:!1,body:{resizeDiv:!0,resizedRows:{iRowStart:r,iRowEnd:c.length?c[0].rowIndex-1:-1}}}]),o.fixScrollOffsetAndhBoxPadding(),$(o).triggerHandler("jqGridGroupingClickGroup",[e,f]),$.isFunction(s.onClickGroup)&&s.onClickGroup.call(o,e,f)}),!1},groupingRender:function(e,t){var i="",r=this[0],n=r.p,o=0,s=[],a=n.groupingView,l=$.makeArray(a.groupSummary),d=a.groupField.length,c=a.groups,h=n.colModel,u=h.length,f=n.page,p="jqGridShowHideCol.groupingRender",g=function(e){return base.getGuiStyles.call(r,"gridRow",e)},m=g("jqgroup ui-row-"+n.direction),v=g("jqfoot ui-row-"+n.direction);function b(e,t,i,o,s){var l,d,f,p,g,m,v,b,y,w,x,C,S,k=c[e],D="",T=0,A=!0;if(0!==t&&0!==c[e].idx)for(l=e;0<=l;l--)if(c[l].idx===c[e].idx-t){k=c[l];break}for(d=k.cnt,x=void 0===s?o:0;x<u;x++){for(f="&#160;",w=h[x],b=0;b<k.summary.length;b++)if(y=k.summary[b],C=$.isArray(y.st)?y.st[i.idx]:y.st,S=$.isArray(w.summaryTpl)?w.summaryTpl[i.idx]:w.summaryTpl||"{0}",y.nm===w.name){"string"==typeof C&&"avg"===C.toLowerCase()&&(y.sd&&y.vd?y.v=y.v/y.vd:y.v&&0<d&&(y.v=y.v/d));try{y.groupCount=k.cnt,y.groupIndex=k.dataIndex,y.groupValue=k.value,m=r.formatter("",y.v,x,y)}catch(e){m=y.v}f=jgrid.format(S,m),w.summaryFormat&&(f=w.summaryFormat.call(r,i,f,m,w,y));break}g=p=!1,void 0!==s&&A&&(w.hidden||(f=s,A=!1,1<o&&(p=!0,T=o-1),g=w.align,w.align="rtl"===n.direction?"right":"left",a.iconColumnName=w.name)),v=!1,0<T&&!w.hidden&&"&#160;"===f?(v=!0,g&&(w.align=g),T--):(D+="<td role='gridcell' "+r.formatCol(x,1,"")+(p?"colspan='"+o+"'":"")+">"+f+"</td>",p=!1,g&&(w.align=g),v&&(w.hidden=!1,T--))}return D}return $.each(h,function(e,t){var i;for(i=0;i<d;i++)if(a.groupField[i]===t.name){s[i]=e;break}}),l.reverse(),$.each(c,function(p,g){var y,w,x,C,S,k,D,T,A=n.id+"ghead_"+g.idx,N=A+"_"+p,_=$.isFunction(a.groupCollapse)?a.groupCollapse.call(r,{group:g,rowid:N}):a.groupCollapse,M=1,E=0,O=d-1===g.idx,I=null!=g.parentGroup&&g.parentGroup.collapsed,R="<span style='cursor:pointer;margin-"+("rtl"===n.direction?"right:":"left:")+12*g.idx+"px;' class='"+a.commonIconClass+" "+(_?a.plusicon:a.minusicon)+" tree-wrap'></span>";if(a._locgr&&!(g.startRow+g.cnt>(f-1)*t&&g.startRow<f*t))return!0;I&&(_=!0),void 0!==_&&(g.collapsed=_),o++;try{$.isArray(a.formatDisplayField)&&$.isFunction(a.formatDisplayField[g.idx])?(g.displayValue=a.formatDisplayField[g.idx].call(r,g.displayValue,g.value,h[s[g.idx]],g.idx,g,p),y=g.displayValue):y=r.formatter(N,g.displayValue,s[g.idx],g.value,g)}catch(p){y=g.displayValue}if(i+="<tr id='"+N+"' data-jqgrouplevel='"+g.idx+"' "+(_&&I?"style='display:none;' ":"")+"role='row' class='"+m+" "+A+"'>","string"!=typeof(T=$.isFunction(a.groupText[g.idx])?a.groupText[g.idx].call(r,y,g.cnt,g.summary):jgrid.template(a.groupText[g.idx],y,g.cnt,g.summary))&&"number"!=typeof T&&(T=y),"header"===a.groupSummaryPos[g.idx]?(M=1,"cb"!==h[0].name&&"cb"!==h[1].name||M++,"subgrid"!==h[0].name&&"subgrid"!==h[1].name||M++,i+=b(p,0,g,M,R+"<span class='cell-wrapper'>"+T+"</span>")):i+="<td role='gridcell' style='padding-left:"+12*g.idx+"px;' colspan='"+u+"'>"+R+T+"</td>",i+="</tr>",O){for(k=c[p+1],S=g.startRow,D=void 0!==k?k.startRow:c[p].startRow+c[p].cnt,a._locgr&&(E=(f-1)*t)>g.startRow&&(S=E),x=S;x<D&&e[x-E];x++)i+=e[x-E].join("");if("header"!==a.groupSummaryPos[g.idx]){if(void 0!==k){for(w=0;w<a.groupField.length&&k.dataIndex!==a.groupField[w];w++);o=a.groupField.length-w}for(C=0;C<o;C++)l[C]&&(i+="<tr data-jqfootlevel='"+(g.idx-C)+(_&&(0<g.idx-C||!a.showSummaryOnHide)?"' style='display:none;'":"'")+" role='row' class='"+v+"'>",i+=b(p,C,c[g.idx-C],0),i+="</tr>");o=w}}}),this.off(p).on(p,function(){var e,t,i,o,s=n.iColByName[a.iconColumnName];if(0<=$.inArray("header",a.groupSummaryPos)){for(o=0;o<h.length;o++)if(!h[o].hidden){i=o;break}if(void 0===i||s===i)return;for(e=0;e<r.rows.length;e++)t=r.rows[e],$(t).hasClass("jqgroup")&&($(t.cells[i]).html(t.cells[s].innerHTML),$(t.cells[s]).html("&nbsp;"));a.iconColumnName=h[i].name}}),i},groupingGroupBy:function(e,t){return this.each(function(){var i,r,n=this.p,o=n.groupingView;for("string"==typeof e&&(e=[e]),n.grouping=!0,o._locgr=!1,void 0===o.visibiltyOnNextGrouping&&(o.visibiltyOnNextGrouping=[]),i=0;i<o.groupField.length;i++)r=n.colModel[n.iColByName[o.groupField[i]]],!o.groupColumnShow[i]&&o.visibiltyOnNextGrouping[i]&&null!=r&&!0===r.hidden&&base.showCol.call($(this),o.groupField[i]);for(i=0;i<e.length;i++)o.visibiltyOnNextGrouping[i]=$(n.idSel+"_"+jgrid.jqID(e[i])).is(":visible");n.groupingView=$.extend(n.groupingView,t||{}),o.groupField=e,$(this).trigger("reloadGrid")})},groupingRemove:function(e){return this.each(function(){var t,i=this.p,r=this.tBodies[0],n=i.groupingView;if(void 0===e&&(e=!0),!(i.grouping=!1)===e){for(t=0;t<n.groupField.length;t++)!n.groupColumnShow[t]&&n.visibiltyOnNextGrouping[t]&&base.showCol.call($(this),n.groupField);$("tr.jqgroup, tr.jqfoot",r).remove(),$("tr.jqgrow",r).filter(":hidden").show()}else $(this).trigger("reloadGrid")})},groupingCalculations:{handler:function(e,t,i,r,n,o){var s,a,l={sum:function(){return parseFloat(t||0)+parseFloat(o[i]||0)},min:function(){return""===t?parseFloat(o[i]||0):Math.min(parseFloat(t),parseFloat(o[i]||0))},max:function(){return""===t?parseFloat(o[i]||0):Math.max(parseFloat(t),parseFloat(o[i]||0))},count:function(){return""===t&&(t=0),o.hasOwnProperty(i)?t+1:0},avg:function(){return l.sum()}};if(!l[e])throw"jqGrid Grouping No such method: "+e;return s=l[e](),null!=r&&("fixed"===n?s=s.toFixed(r):(a=Math.pow(10,r),s=Math.round(s*a)/a)),s}}}),$.jgrid.extend({jqGridImport:function(e){return e=$.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},e||{}),this.each(function(){var t,i=this,r=function(e,t){var r,n,o,s,a=$(t.xmlGrid.config,e)[0],l=$(t.xmlGrid.data,e)[0];if(xmlJsonClass.xml2json){for(o in r=xmlJsonClass.xml2json(a," "),r=$.parseJSON(r))r.hasOwnProperty(o)&&(n=r[o]);void 0!==n&&(l?(s=r.grid.datatype,r.grid.datatype="xmlstring",r.grid.datastr=e,$(i).jqGrid(n).jqGrid("setGridParam",{datatype:s})):$(i).jqGrid(n))}else(null!=jgrid.defaults&&$.isFunction(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert)("xml2json or parse are not present")},n=function(e,t){if(e&&"string"==typeof e){var r,n=$.parseJSON(e),o=n[t.jsonGrid.config],s=n[t.jsonGrid.data];s?(r=o.datatype,o.datatype="jsonstring",o.datastr=s,$(i).jqGrid(o).jqGrid("setGridParam",{datatype:r})):$(i).jqGrid(o)}};switch(e.imptype){case"xml":$.ajax($.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"xml",context:e,complete:function(e){!(e.status<300||304===e.status)||0===e.status&&4===e.readyState||(r(e.responseXML,this),$(i).triggerHandler("jqGridImportComplete",[e,this]),$.isFunction(this.importComplete)&&this.importComplete(e))}},e.ajaxOptions));break;case"xmlstring":e.impstring&&"string"==typeof e.impstring&&(t=$.parseXML(e.impstring))&&(r(t,e),$(i).triggerHandler("jqGridImportComplete",[t,e]),$.isFunction(e.importComplete)&&e.importComplete(t),e.impstring=null);break;case"json":$.ajax($.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"json",context:e,complete:function(e){try{!(e.status<300||304===e.status)||0===e.status&&4===e.readyState||(n(e.responseText,this),$(i).triggerHandler("jqGridImportComplete",[e,this]),$.isFunction(this.importComplete)&&this.importComplete(e))}catch(e){}}},e.ajaxOptions));break;case"jsonstring":e.impstring&&"string"==typeof e.impstring&&(n(e.impstring,e),$(i).triggerHandler("jqGridImportComplete",[e.impstring,e]),$.isFunction(e.importComplete)&&e.importComplete(e.impstring),e.impstring=null)}})},jqGridExport:function(e){e=$.extend({exptype:"xmlstring",root:"grid",ident:"\t"},e||{});var t=null;return this.each(function(){if(this.grid){var i,r=$.extend(!0,{},$(this).jqGrid("getGridParam"));if(r.rownumbers&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.multiselect&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.subGrid&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.knv=null,r.treeGrid)for(i in r.treeReader)r.treeReader.hasOwnProperty(i)&&(r.colNames.splice(r.colNames.length-1),r.colModel.splice(r.colModel.length-1));switch(e.exptype){case"xmlstring":t="<"+e.root+">"+xmlJsonClass.json2xml(r,e.ident)+"</"+e.root+">";break;case"jsonstring":t="{"+xmlJsonClass.toJson(r,e.root,e.ident,!1)+"}",void 0!==r.postData.filters&&(t=(t=t.replace(/filters":"/,'filters":')).replace(/\}\]\}"/,"}]}"))}}}),t},excelExport:function(e){return e=$.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},e||{}),this.each(function(){var t;this.grid&&"remote"===e.exptype&&((t=$.extend({},this.p.postData,e.exportOptions))[e.oper]=e.tag,window.location=e.url+(null!=e.url&&0<=e.url.indexOf("?")?"&":"?")+$.param(t))})}});var editFeedback=function(e){var t=$.makeArray(arguments).slice(1);return t.unshift(""),t.unshift("Inline"),t.unshift(e),jgrid.feedback.apply(this,t)};jgrid.inlineEdit=jgrid.inlineEdit||{},jgrid.extend({editRow:function(e,t,i,r,n,o,s,a,l,d){var c={},h=$.makeArray(arguments).slice(1);return"object"===$.type(h[0])?c=h[0]:(void 0!==t&&(c.keys=t),$.isFunction(i)&&(c.oneditfunc=i),$.isFunction(r)&&(c.successfunc=r),void 0!==n&&(c.url=n),null!=o&&(c.extraparam=o),$.isFunction(s)&&(c.aftersavefunc=s),$.isFunction(a)&&(c.errorfunc=a),$.isFunction(l)&&(c.afterrestorefunc=l),$.isFunction(d)&&(c.beforeEditRow=d)),this.each(function(){var t=this,i=$(t),r=t.p,n=0,o=null,s={},a={},l=r.colModel,d=r.prmNames;if(t.grid){var h=$.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,beforeEditRow:null,focusField:!0},jgrid.inlineEdit,r.inlineEditing||{},c),u=i.jqGrid("getInd",e,!0),f=h.focusField,p="object"==typeof f&&null!=f?$(f.target||f).closest("tr.jqgrow>td")[0]:null;if(!1!==u&&(h.extraparam[d.oper]===d.addoper||editFeedback.call(t,h,"beforeEditRow",h,e))&&"0"===($(u).attr("editable")||"0")&&!$(u).hasClass("not-editable-row")){var g=jgrid.detectRowEditing.call(t,e);if(null!=g&&"cellEditing"===g.mode){var m=g.savedRow,v=t.rows[m.id],b=getGuiStateStyles.call(t,"select");i.jqGrid("restoreCell",m.id,m.ic),$(v.cells[m.ic]).removeClass("edit-cell "+b),$(v).addClass(b).attr({"aria-selected":"true",tabindex:"0"})}if(jgrid.enumEditableCells.call(t,u,$(u).hasClass("jqgrid-new-row")?"add":"edit",function(i){var l,d,c,h=i.cm,u=$(i.dataElement),f=i.dataWidth,p=h.name,g=h.edittype,m=i.iCol,v=h.editoptions||{};if(a[p]=i.editable,"hidden"!==i.editable){try{l=$.unformat.call(this,i.td,{rowId:e,colModel:h},m)}catch(i){l="textarea"===g?u.text():u.html()}s[p]=l,u.html(""),d=$.extend({},v,{id:e+"_"+p,name:p,rowId:e,mode:i.mode,cm:h,iCol:m}),("&nbsp;"===l||"&#160;"===l||1===l.length&&160===l.charCodeAt(0))&&(l=""),c=jgrid.createEl.call(t,g,d,l,!0,$.extend({},jgrid.ajaxOptions,r.ajaxSelectOptions||{})),$(c).addClass("editable"),u.append(c),f&&$(c).width(i.dataWidth),jgrid.bindEv.call(t,c,d),"select"===g&&!0===v.multiple&&void 0===v.dataUrl&&jgrid.msie&&$(c).width($(c).width()),null===o&&(o=m),n++}}),0<n){if(s.id=e,r.savedRow.push(s),r.editingInfo[e]={mode:"inlineEditing",savedRow:s,editable:a},$(u).attr("editable","1"),f&&("number"==typeof f&&parseInt(f,10)<=l.length?o=f:"string"==typeof f?o=r.iColByName[f]:null!=p&&(o=p.cellIndex),setTimeout(function(){var e=i.jqGrid("getNumberOfFrozenColumns"),n=function(i){return r.frozenColumns&&0<e&&o<e?t.grid.fbRows[u.rowIndex].cells[i]:u.cells[i]},s=function(e){return $(e).find("input,textarea,select,button,object,*[tabindex]").filter(":input:visible:not(:disabled)")},a=function(){return s(r.frozenColumns&&0<e?t.grid.fbRows[u.rowIndex]:u).first()},l=s(n(o));0<l.length?l.first().focus():"number"==typeof h.defaultFocusField||"string"==typeof h.defaultFocusField?(0===(l=s(n("number"==typeof h.defaultFocusField?h.defaultFocusField:r.iColByName[h.defaultFocusField]))).length&&(l=a()),l.first().focus()):a().focus()},0)),!0===h.keys){var y=$(u);r.frozenColumns&&(y=y.add(t.grid.fbRows[u.rowIndex])),y.on("keydown",function(t){return 27===t.keyCode?(i.jqGrid("restoreRow",e,h.afterrestorefunc),!1):13===t.keyCode?"TEXTAREA"===t.target.tagName||(i.jqGrid("saveRow",e,h),!1):void 0})}fullBoolFeedback.call(t,h.oneditfunc,"jqGridInlineEditRow",e,h)}}}})},saveRow:function(e,t,i,r,n,o,s,a){var l,d=$.makeArray(arguments).slice(1),c={},h=this[0],u=$(h),f=null!=h?h.p:null,p=jgrid.info_dialog,g=$.isFunction,m=null!=jgrid.defaults&&g(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert;if(h.grid&&null!=f){"object"===$.type(d[0])?c=d[0]:(g(t)&&(c.successfunc=t),void 0!==i&&(c.url=i),void 0!==r&&(c.extraparam=r),g(n)&&(c.aftersavefunc=n),g(o)&&(c.errorfunc=o),g(s)&&(c.afterrestorefunc=s),g(a)&&(c.beforeSaveRow=a));var v=function(e){return u.jqGrid("getGridRes",e)};c=$.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,beforeSaveRow:null,ajaxSaveOptions:{},serializeSaveData:null,mtype:"POST",saveui:"enable",savetext:v("defaults.savetext")||"Saving..."},jgrid.inlineEdit,f.inlineEditing||{},c);var b,y,w,x,C,S,k,D,T={},A={},N={},_=u.jqGrid("getInd",e,!0),M=$(_),E=f.prmNames,O=v("errors.errcap"),I=v("edit.bClose"),R=function(e,t){try{var i=jgrid.getRelativeRect.call(h,t);p.call(h,O,e,I,{top:i.top,left:i.left+$(h).closest(".ui-jqgrid").offset().left})}catch(t){m(e)}};if(!1!==_&&(l=c.extraparam[E.oper]===E.addoper?"add":"edit",editFeedback.call(h,c,"beforeSaveRow",c,e,l)&&(b=M.attr("editable"),c.url=c.url||f.editurl,k="clientArray"!==c.url,"1"===b))){if(S=$.jgrid.detectRowEditing.call(h,e),jgrid.enumEditableCells.call(h,_,M.hasClass("jqgrid-new-row")?"add":"edit",function(e){var t=e.cm,i=t.formatter,r=t.editoptions||{},n=t.formatoptions||{},o={},s=jgrid.getEditedValue.call(h,$(e.dataElement),t,o,e.editable);if("select"===t.edittype&&"select"!==t.formatter&&(A[t.name]=o.text),null!=(C=jgrid.checkValues.call(h,s,e.iCol,void 0,void 0,$.extend(e,{oldValue:null!=S?S.savedRow[t.name]:null,newValue:s,oldRowData:null!=S?S.savedRow:null})))&&!1===C[0])return D=!0,R(C[1],e.td),!1;"date"===i&&!0!==n.sendFormatted&&(s=$.unformat.date.call(h,s,t)),k&&!0===r.NullIfEmpty&&""===s&&(s="null"),T[t.name]=s}),D)return;var F;E=f.prmNames,F=!1===f.keyName?E.id:f.keyName,T&&(T[E.oper]=E.editoper,void 0!==T[F]&&""!==T[F]||(T[F]=jgrid.stripPref(f.idPrefix,e)),T=$.extend({},T,f.inlineData||{},c.extraparam));var L={options:c,rowid:e,tr:_,iRow:_.rowIndex,savedRow:S.savedRow,newData:T,mode:l};if(!editFeedback.call(h,c,"saveRowValidation",L))return void(L.errorText&&R(L.errorText,_));if(k)u.jqGrid("progressBar",{method:"show",loadtype:c.saveui,htmlcontent:c.savetext}),(N=$.extend({},T,N))[F]=jgrid.stripPref(f.idPrefix,N[F]),f.autoEncodeOnEdit&&$.each(N,function(e,t){g(t)||(N[e]=jgrid.oldEncodePostedData(t))}),_.id===f.idPrefix+N[F]||null==E.idold||N.hasOwnProperty(E.idold)||(N[E.idold]=jgrid.stripPref(f.idPrefix,_.id)),$.ajax($.extend({url:g(c.url)?c.url.call(h,N[F],l,N,c):c.url,data:jgrid.serializeFeedback.call(h,g(c.serializeSaveData)?c.serializeSaveData:f.serializeRowData,"jqGridInlineSerializeSaveData",N),type:g(c.mtype)?c.mtype.call(h,l,c,N[F],N):c.mtype,complete:function(t,i){var r,n,o;if(u.jqGrid("progressBar",{method:"hide",loadtype:c.saveui}),(t.status<300||304===t.status)&&(0!==t.status||4!==t.readyState))if(null!=(n=u.triggerHandler("jqGridInlineSuccessSaveRow",[t,e,c,l,N]))&&!0!==n||(n=[!0,T]),n[0]&&g(c.successfunc)&&(n=c.successfunc.call(h,t,e,c,l,N)),$.isArray(n)?(r=n[0],T=n[1]||T):r=n,!0===r){for(f.autoEncodeOnEdit&&$.each(T,function(e,t){T[e]=jgrid.oldDecodePostedData(t)}),T=$.extend({},T,A),u.jqGrid("setRowData",e,T),M.attr("editable","0"),o=0;o<f.savedRow.length;o++)if(String(f.savedRow[o].id)===String(e)){w=o;break}0<=w&&(f.savedRow.splice(w,1),delete f.editingInfo[e]),fullBoolFeedback.call(h,c.aftersavefunc,"jqGridInlineAfterSaveRow",e,t,T,c),null!=n[2]?u.jqGrid("changeRowid",e,f.idPrefix+n[2]):_.id!==f.idPrefix+T[F]&&u.jqGrid("changeRowid",_.id,f.idPrefix+T[F]),M.removeClass("jqgrid-new-row").off("keydown")}else fullBoolFeedback.call(h,c.errorfunc,"jqGridInlineErrorSaveRow",e,t,i,null,c),!0===c.restoreAfterError&&u.jqGrid("restoreRow",e,c.afterrestorefunc)},error:function(t,i,r){if(u.triggerHandler("jqGridInlineErrorSaveRow",[e,t,i,r,c]),g(c.errorfunc))c.errorfunc.call(h,e,t,i,r);else{var n=t.responseText||t.statusText;try{p.call(h,O,'<div class="'+getGuiStateStyles.call(h,"error")+'">'+n+"</div>",I,{buttonalign:"right"})}catch(t){m(n)}}!0===c.restoreAfterError&&u.jqGrid("restoreRow",e,c.afterrestorefunc)}},jgrid.ajaxOptions,f.ajaxRowOptions,c.ajaxSaveOptions||{}));else{for(T=$.extend({},T,A),x=u.jqGrid("setRowData",e,T),M.attr("editable","0"),y=0;y<f.savedRow.length;y++)if(String(f.savedRow[y].id)===String(e)){w=y;break}0<=w&&(f.savedRow.splice(w,1),delete f.editingInfo[e]),fullBoolFeedback.call(h,c.aftersavefunc,"jqGridInlineAfterSaveRow",e,x,T,c),M.removeClass("jqgrid-new-row").off("keydown"),_.id!==f.idPrefix+T[F]&&u.jqGrid("changeRowid",_.id,f.idPrefix+T[F])}}}},restoreRow:function(e,t){var i=$.makeArray(arguments).slice(1),r={};return"object"===$.type(i[0])?r=i[0]:$.isFunction(t)&&(r.afterrestorefunc=t),this.each(function(){var t,i=this,n=$(i),o=i.p,s=-1,a={};if(i.grid){var l=$.extend(!0,{},jgrid.inlineEdit,o.inlineEditing||{},r),d=n.jqGrid("getInd",e,!0);if(!1!==d&&editFeedback.call(i,l,"beforeCancelRow",l,e)){for(t=0;t<o.savedRow.length;t++)if(String(o.savedRow[t].id)===String(e)){s=t;break}if(0<=s){if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker","#"+jgrid.jqID(d.id)).datepicker("hide")}catch(t){}$.each(o.colModel,function(){var e=this.name;o.savedRow[s].hasOwnProperty(e)&&(a[e]=o.savedRow[s][e],!this.formatter||"date"!==this.formatter||null!=this.formatoptions&&!0===this.formatoptions.sendFormatted||(a[e]=$.unformat.date.call(i,a[e],this)))}),n.jqGrid("setRowData",e,a),$(d).attr("editable","0").off("keydown"),o.savedRow.splice(s,1),delete o.editingInfo[e],$("#"+jgrid.jqID(e),i).hasClass("jqgrid-new-row")&&setTimeout(function(){n.jqGrid("delRowData",e),n.jqGrid("showAddEditButtons",!1)},0)}fullBoolFeedback.call(i,l.afterrestorefunc,"jqGridInlineAfterRestoreRow",e)}}})},addRow:function(e){return this.each(function(){if(this.grid){var t=this,i=$(t),r=t.p,n=$.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,beforeAddRow:null,addRowParams:{extraparam:{}}},jgrid.inlineEdit,r.inlineEditing||{},e||{});if(editFeedback.call(t,n,"beforeAddRow",n.addRowParams))if(n.rowID=$.isFunction(n.rowID)?n.rowID.call(t,n):null!=n.rowID?n.rowID:jgrid.randId(),!0===n.useDefValues&&$(r.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var e=this.editoptions.defaultValue;n.initdata[this.name]=$.isFunction(e)?e.call(t,n):e}}),n.rowID=r.idPrefix+n.rowID,i.jqGrid("addRowData",n.rowID,n.initdata,n.position),$("#"+jgrid.jqID(n.rowID),t).addClass("jqgrid-new-row"),n.useFormatter)$("#"+jgrid.jqID(n.rowID)+" .ui-inline-edit",t).click();else{var o=r.prmNames,s=o.oper;n.addRowParams.extraparam[s]=o.addoper,i.jqGrid("editRow",n.rowID,n.addRowParams),i.jqGrid("setSelection",n.rowID)}}})},inlineNav:function(e,t){return"object"==typeof e&&(t=e,e=void 0),this.each(function(){var i=this,r=$(i),n=i.p;if(this.grid&&null!=n){var o,s=e===n.toppager?n.idSel+"_top":n.idSel,a=e===n.toppager?n.id+"_top":n.id,l=getGuiStateStyles.call(i,"disabled"),d=$.extend(!0,{edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",save:!0,saveicon:"ui-icon-disk",cancel:!0,cancelicon:"ui-icon-cancel",commonIconClass:"ui-icon",iconsOverText:!1,addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0},r.jqGrid("getGridRes","nav"),jgrid.nav||{},n.navOptions||{},jgrid.inlineNav||{},n.inlineNavOptions||{},t||{}),c=function(){i.modalAlert()};if(void 0===e)if(n.pager){if(r.jqGrid("inlineNav",n.pager,d),!n.toppager)return;e=n.toppager,s=n.idSel+"_top",a=n.id+"_top"}else n.toppager&&(e=n.toppager,s=n.idSel+"_top",a=n.id+"_top");if(void 0!==e&&!((o=$(e)).length<=0)){if(o.find(".navtable").length<=0&&r.jqGrid("navGrid",e,{add:!1,edit:!1,del:!1,search:!1,refresh:!1,view:!1}),(n._inlinenav=!0)===d.addParams.useFormatter){var h,u,f,p=n.colModel;for(h=0;h<p.length;h++)if(p[h].formatter&&"actions"===p[h].formatter){p[h].formatoptions&&(u={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},f=$.extend(u,p[h].formatoptions),d.addParams.addRowParams={keys:f.keys,oneditfunc:f.onEdit,successfunc:f.onSuccess,url:f.url,extraparam:f.extraparam,aftersavefunc:f.afterSave,errorfunc:f.onError,afterrestorefunc:f.afterRestore});break}}d.add&&r.jqGrid("navButtonAdd",e,{caption:d.addtext,title:d.addtitle,commonIconClass:d.commonIconClass,buttonicon:d.addicon,iconsOverText:d.iconsOverText,id:a+"_iladd",onClickButton:function(){hasOneFromClasses(this,l)||r.jqGrid("addRow",d.addParams)}}),d.edit&&r.jqGrid("navButtonAdd",e,{caption:d.edittext,title:d.edittitle,commonIconClass:d.commonIconClass,buttonicon:d.editicon,iconsOverText:d.iconsOverText,id:a+"_iledit",onClickButton:function(){if(!hasOneFromClasses(this,l)){var e=n.selrow;e?r.jqGrid("editRow",e,d.editParams):c()}}}),d.save&&(r.jqGrid("navButtonAdd",e,{caption:d.savetext,title:d.savetitle,commonIconClass:d.commonIconClass,buttonicon:d.saveicon,iconsOverText:d.iconsOverText,id:a+"_ilsave",onClickButton:function(){if(!hasOneFromClasses(this,l)&&0<n.savedRow.length){var e=n.savedRow[0].id;if(e){var t=n.prmNames,o=t.oper,s=d.editParams;$("#"+jgrid.jqID(e),i).hasClass("jqgrid-new-row")?(d.addParams.addRowParams.extraparam[o]=t.addoper,s=d.addParams.addRowParams):(d.editParams.extraparam||(d.editParams.extraparam={}),d.editParams.extraparam[o]=t.editoper),r.jqGrid("saveRow",e,s)}else c()}}}),$(s+"_ilsave").addClass(l)),d.cancel&&(r.jqGrid("navButtonAdd",e,{caption:d.canceltext,title:d.canceltitle,commonIconClass:d.commonIconClass,buttonicon:d.cancelicon,iconsOverText:d.iconsOverText,id:a+"_ilcancel",onClickButton:function(){if(!hasOneFromClasses(this,l)&&0<n.savedRow.length){var e=n.savedRow[0].id,t=d.editParams;e?($("#"+jgrid.jqID(e),i).hasClass("jqgrid-new-row")&&(t=d.addParams.addRowParams),r.jqGrid("restoreRow",e,t)):c()}}}),$(s+"_ilcancel").addClass(l)),!0===d.restoreAfterSelect&&r.on("jqGridSelectRow",function(e,t){if(0<n.savedRow.length&&!0===n._inlinenav){var i=n.savedRow[0].id;t!==i&&"number"!=typeof i&&r.jqGrid("restoreRow",i,d.editParams)}}),r.on("jqGridInlineAfterRestoreRow jqGridInlineAfterSaveRow",function(){r.jqGrid("showAddEditButtons",!1)}),r.on("jqGridInlineEditRow",function(e,t){r.jqGrid("showAddEditButtons",!0,t)})}}})},showAddEditButtons:function(e){return this.each(function(){if(this.grid){var t=this.p,i=t.idSel,r=getGuiStateStyles.call(this,"disabled"),n=i+"_ilsave,"+i+"_ilcancel"+(t.toppager?","+i+"_top_ilsave,"+i+"_top_ilcancel":""),o=i+"_iladd,"+i+"_iledit"+(t.toppager?","+i+"_top_iladd,"+i+"_top_iledit":"");$(e?o:n).addClass(r),$(e?n:o).removeClass(r)}})}});var $UiMultiselect=null!=$.ui?$.ui.multiselect:null,reorderSelectedColumns=function(e){if(null!=this.grid&&null!=this.grid.p){var t,i,r,n,o,s=this,a=this.grid.p,l=this.gh,d=this.selectedList,c=this.inGroup,h=d.find("li"),u=h.length-1,f=function(e,t,i){var r,n,o=d.find("li");for(void 0===t&&(t=i?o.length-1:0),r=t;i?0<=r:r<o.length;i?r--:r++)if((n=$(o[r]).data("optionLink"))&&e.call(o[r],parseInt(n.val(),10),r))return r},p=function(){0<=(i=$.inArray(a.colModel[e].name,s.newColOrder))&&s.newColOrder.splice(i,1),h=d.find("li"),t=0,f(function(i,r){if(i===e){for(u=r;0<=t&&t<a.colModel.length&&t!==e&&(a.colModel[t].hidden||a.colModel[t].hidedlg)&&(null==c||c[t]===c[e]);)t++;return s.newColOrder.splice(t,0,a.colModel[e].name),!0}(t=$.inArray(a.colModel[i].name,s.newColOrder,t))<0&&(t=$.inArray(a.colModel[i].name,s.newColOrder)),t++})},g=function(t){if(c[t]===c[e])return $(this).after(h[u]),p(),!0},m=function(t){if(c[t]===c[e])return $(this).before(h[u]),p(),!0},v=function(t){if(c[t]===c[e]&&void 0!==c[t])return l[c[t]].startColumnName=a.colModel[t].name,!0};if(p(),l&&void 0!==l[c[e]]){for(n=l[c[e]],i=0;i<n.numberOfColumns;i++)if(t=a.iColByName[n.startColumnName]+i,!a.colModel[t].hidden&&!a.colModel[t].hidedlg){f(g,u-1,!0),f(m,u+1),f(v);break}}else if(l){if(h=d.find("li"),(i=f(function(t){if(t===e)return!0}))+1>=h.length||i<0)return;if((o=$(h[i+1]).data("optionLink"))&&void 0!==(r=c[parseInt(o.val(),10)])&&(o=$(h[i-1]).data("optionLink"))&&c[parseInt(o.val(),10)]===r){var b=f(function(e){if(c[e]!==r)return!0},i+1);$(h[void 0===b||b>=h.length?h.length-1:b-1]).after(h[u]),p()}}}};if(jgrid.msie&&8===jgrid.msiever()&&($.expr[":"].hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||"none"===e.style.display}),jgrid._multiselect=!1,$UiMultiselect){if($UiMultiselect.prototype._setSelected){var setSelected=$UiMultiselect.prototype._setSelected;$UiMultiselect.prototype._setSelected=function(e,t){var i=setSelected.call(this,e,t),r=this.element,n=parseInt(e.data("optionLink").val(),10);return t&&this.selectedList&&(reorderSelectedColumns.call(this,n),this.selectedList.find("li").each(function(){$(this).data("optionLink")&&$(this).data("optionLink").remove().appendTo(r)})),i}}$UiMultiselect.prototype.destroy&&($UiMultiselect.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===$.Widget?$.widget.prototype.destroy.apply(this,arguments):$.Widget.prototype.destroy.apply(this,arguments)}),jgrid._multiselect=!0}function Aggregation(e,t,i){if(!(this instanceof Aggregation))return new Aggregation(e);this.aggregator=e,this.finilized=!1,this.context=t,this.pivotOptions=i}function ArrayOfFieldsets(e,t,i,r,n){var o,s,a=r.length,l=this,d=function(e,t){var i=e,r=t;if(null==i&&(i=""),null==r&&(r=""),i=String(i),r=String(r),this.caseSensitive||(i=i.toUpperCase(),r=r.toUpperCase()),i===r){if(e===t)return 0;if(void 0===e)return-1;if(void 0===t)return 1;if(null===e)return-1;if(null===t)return 1}return i<r?-1:1},c=function(e,t){return(e=Number(e))===(t=Number(t))?0:e<t?-1:1},h=function(e,t){return(e=Math.floor(Number(e)))===(t=Math.floor(Number(t)))?0:e<t?-1:1};for(l.items=[],l.indexesOfSourceData=[],l.trimByCollect=e,l.caseSensitive=t,l.skipSort=i,l.fieldLength=a,l.fieldNames=new Array(a),l.fieldSortDirection=new Array(a),l.fieldCompare=new Array(a),o=0;o<a;o++){switch(s=r[o],l.fieldNames[o]=s[n||"dataName"],s.sorttype){case"integer":case"int":l.fieldCompare[o]=h;break;case"number":case"currency":case"float":l.fieldCompare[o]=c;break;default:l.fieldCompare[o]=$.isFunction(s.compare)?s.compare:d}l.fieldSortDirection[o]="desc"===s.sortorder?-1:1}}jgrid.extend({sortableColumns:function(e){return this.each(function(){var t=this,i=t.p,r=jqID(i.id);if(i&&i.sortable&&$.isFunction($.fn.sortable)){var n={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+r+"_cb,#jqgh_"+r+"_rn,#jqgh_"+r+"_subgrid),:hidden)",placeholder:{element:function(e){return $(document.createElement(e[0].nodeName)).addClass(e[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(e,t){t.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),t.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},start:function(){t.grid.hDiv.scrollLeft=t.grid.bDiv.scrollLeft},update:function(e,r){var n=$(">th",$(r.item).parent()),o=i.id+"_",s=[];n.each(function(){var e=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(o,""),t=i.iColByName[e];void 0!==t&&s.push(t)}),$(t).jqGrid("remapColumns",s,!0,!0),$.isFunction(i.sortable.update)&&i.sortable.update(s),setTimeout(function(){i.disableClick=!1},50)}};if(i.sortable.options?$.extend(n,i.sortable.options):$.isFunction(i.sortable)&&(i.sortable={update:i.sortable}),n.start){var o=n.start;n.start=function(e,t){l(),o.call(this,e,t)}}else n.start=l;i.sortable.exclude&&(n.items+=":not("+i.sortable.exclude+")");var s=e.sortable(n),a=s.data("sortable")||s.data("uiSortable")||s.data("ui-sortable");null!=a&&(a.floating=!0)}function l(){i.disableClick=!0}})},columnChooser:function(e){var t,i,r,n,o,s,a,l=this,d=l[0],c=d.p,h=c.colModel,u=h.length,f=c.colNames,p=function(e){return $UiMultiselect&&$UiMultiselect.prototype&&e.data($UiMultiselect.prototype.widgetFullName||$UiMultiselect.prototype.widgetName)||e.data("ui-multiselect")||e.data("multiselect")};if(!$("#colchooser_"+jqID(c.id)).length){if(t=$('<div id="colchooser_'+c.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),i=$("select",t),e=$.extend({width:400,height:240,classname:null,done:function(e){e&&l.jqGrid("remapColumns",e,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470,dialogClass:"ui-jqdialog"},dlog_opts:function(e){var t={};return t[e.bSubmit]=function(){e.apply_perm(),e.cleanup(!1)},t[e.bCancel]=function(){e.cleanup(!0)},$.extend(!0,{buttons:t,close:function(){e.cleanup(!0)},modal:e.modal||!1,resizable:e.resizable||!0,width:e.width+70,resize:function(){var e=p(i),t=e.container.closest(".ui-dialog-content");0<t.length&&"object"==typeof t[0].style?t[0].style.width="":t.css("width",""),e.selectedList.height(Math.max(e.selectedContainer.height()-e.selectedActions.outerHeight()-1,1)),e.availableList.height(Math.max(e.availableContainer.height()-e.availableActions.outerHeight()-1,1))}},e.dialog_opts||{})},apply_perm:function(){var t,r,n=new Array(c.colModel.length),o={notSkipFrozen:void 0!==e.notSkipFrozen&&e.notSkipFrozen,skipSetGridWidth:!0,skipSetGroupHeaders:!0};for(t=0;t<c.colModel.length;t++)n[t]=c.iColByName[s.newColOrder[t]];if($("option",i).each(function(){$(this).is(":selected")?l.jqGrid("showCol",h[this.value].name,o):l.jqGrid("hideCol",h[this.value].name,o)}),e.done&&e.done.call(l,n),c.groupHeader&&("object"==typeof c.groupHeader||$.isFunction(c.groupHeader)))if(l.jqGrid("destroyGroupHeader",!1),c.groupHeader.groupHeaders=s.gh,null!=c.pivotOptions&&null!=c.pivotOptions.colHeaders&&1<c.pivotOptions.colHeaders.length)for(r=c.pivotOptions.colHeaders,t=0;t<r.length;t++)r[t]&&r[t].groupHeaders.length&&l.jqGrid("setGroupHeaders",r[t]);else l.jqGrid("setGroupHeaders",c.groupHeader);var a=c.autowidth||void 0!==c.widthOrg&&"auto"!==c.widthOrg&&"100%"!==c.widthOrg?c.width:c.tblwidth;a!==c.width&&l.jqGrid("setGridWidth",a,c.shrinkToFit)},cleanup:function(r){S(e.dlog,t,"destroy"),S(e.msel,i,"destroy"),t.remove(),r&&e.done&&e.done.call(l)},msel_opts:{}},l.jqGrid("getGridRes","col"),jgrid.col,e||{}),$.ui&&$UiMultiselect&&$UiMultiselect.defaults){if(!jgrid._multiselect)return void(null!=jgrid.defaults&&$.isFunction(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert)("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");e.msel_opts=$.extend($UiMultiselect.defaults,e.msel_opts)}e.caption&&t.attr("title",e.caption),e.classname&&(t.addClass(e.classname),i.addClass(e.classname)),e.width&&($(">div",t).css({width:e.width,margin:"0 auto"}),i.css("width",e.width)),e.height&&($(">div",t).css("height",e.height),i.css("height",e.height-10)),i.empty();var g,m,v,b,y=null!=c.groupHeader?c.groupHeader.groupHeaders:0,w={};if(y)for(g=0;g<y.length;g++)for(b=y[g],m=0;m<b.numberOfColumns;m++)v=c.iColByName[b.startColumnName]+m,w[v]=$.isFunction(e.buildItemText)?e.buildItemText.call(l[0],{iCol:v,cm:h[v],cmName:h[v].name,colName:f[v],groupTitleText:b.titleText}):$.jgrid.stripHtml(b.titleText)+": "+$.jgrid.stripHtml(""===f[v]?h[v].name:f[v]);for(v=0;v<u;v++)void 0===w[v]&&(w[v]=$.isFunction(e.buildItemText)?e.buildItemText.call(l[0],{iCol:v,cm:h[v],cmName:h[v].name,colName:f[v],groupTitleText:null}):$.jgrid.stripHtml(f[v]));if($.each(h,function(e){this.hidedlg||i.append("<option value='"+e+"'"+(c.headertitles||this.headerTitle?" title='"+jgrid.stripHtml("string"==typeof this.headerTitle?this.headerTitle:w[e])+"'":"")+(this.hidden?"":" selected='selected'")+">"+w[e]+"</option>")}),r=$.isFunction(e.dlog_opts)?e.dlog_opts.call(l,e):e.dlog_opts,S(e.dlog,t,r),n=$.isFunction(e.msel_opts)?e.msel_opts.call(l,e):e.msel_opts,S(e.msel,i,n),(o=$("#colchooser_"+jqID(c.id))).css({margin:"auto"}),o.find(">div").css({width:"100%",height:"100%",margin:"auto"}),s=p(i)){var x,C;if(s.grid=d,y)for(s.gh=$.extend(!0,[],y),s.inGroup=new Array(c.colModel.length),x=0;x<y.length;x++)for(C=y[x],v=0;v<C.numberOfColumns;v++)s.inGroup[c.iColByName[C.startColumnName]+v]=x;s.newColOrder=$.map(h,function(e){return e.name}),s.container.css({width:"100%",height:"100%",margin:"auto"}),s.selectedContainer.css({width:100*s.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),s.availableContainer.css({width:100-100*s.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),s.selectedList.css("height","auto"),s.availableList.css("height","auto"),a=Math.max(s.selectedList.height(),s.availableList.height()),a=Math.min(a,$(window).height()),s.selectedList.css("height",a),s.availableList.css("height",a),null!=s.options&&s.options.sortable&&s.selectedList.on("sortupdate",function(t,i){reorderSelectedColumns.call(s,parseInt(i.item.data("optionLink").val(),10)),i.item.css({width:"",height:""}),$.isFunction(e.sortUpdate)&&e.sortUpdate.call(d,t,i)}),$.isFunction(e.init)&&e.init.call(d,s)}}function S(e,t){e&&("string"==typeof e?$.fn[e]&&$.fn[e].apply(t,$.makeArray(arguments).slice(2)):$.isFunction(e)&&e.apply(t,$.makeArray(arguments).slice(2)))}},sortableRows:function(e){return this.each(function(){var t=this,i=t.grid,r=t.p;i&&(r.treeGrid||$.fn.sortable&&((e=$.extend({cursor:"move",axis:"y",items:">tbody>.jqgrow"},e||{})).start&&$.isFunction(e.start)?(e._start_=e.start,delete e.start):e._start_=!1,e.update&&$.isFunction(e.update)?(e._update_=e.update,delete e.update):e._update_=!1,e.start=function(n,o){if($(o.item).css("border-width","0"),$("td",o.item).each(function(e){this.style.width=i.cols[e].style.width}),r.subGrid){var s=$(o.item).attr("id");try{$(t).jqGrid("collapseSubGridRow",s)}catch(n){}}e._start_&&e._start_.apply(this,[n,o])},e.update=function(i,n){$(n.item).css("border-width",""),!0===r.rownumbers&&$("td.jqgrid-rownum",t.rows).each(function(e){$(this).html(e+1+(parseInt(r.page,10)-1)*parseInt(r.rowNum,10))}),e._update_&&e._update_.apply(this,[i,n])},$(t).sortable(e)))})},gridDnD:function(e){return this.each(function(){var t,i,r=this;if(r.grid&&!r.p.treeGrid&&$.fn.draggable&&$.fn.droppable)if(void 0===$("#jqgrid_dnd")[0]&&$("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>"),"string"!=typeof e||"updateDnD"!==e||!0!==r.p.jqgdnd){if((e=$.extend({drag:function(e){return $.extend({start:function(t,i){var n,o;if(r.p.subGrid){o=$(i.helper).attr("id");try{$(r).jqGrid("collapseSubGridRow",o)}catch(t){}}for(n=0;n<$.data(r,"dnd").connectWith.length;n++)0===$($.data(r,"dnd").connectWith[n]).jqGrid("getGridParam","reccount")&&$($.data(r,"dnd").connectWith[n]).jqGrid("addRowData","jqg_empty_row",{});i.helper.addClass("ui-state-highlight"),$("td",i.helper).each(function(e){this.style.width=r.grid.headers[e].width+"px"}),e.onstart&&$.isFunction(e.onstart)&&e.onstart.call($(r),t,i)},stop:function(t,i){var n,o;for(i.helper.dropped&&!e.dragcopy&&(void 0===(o=$(i.helper).attr("id"))&&(o=$(this).attr("id")),$(r).jqGrid("delRowData",o)),n=0;n<$.data(r,"dnd").connectWith.length;n++)$($.data(r,"dnd").connectWith[n]).jqGrid("delRowData","jqg_empty_row");e.onstop&&$.isFunction(e.onstop)&&e.onstop.call($(r),t,i)}},e.drag_opts||{})},drop:function(e){return $.extend({accept:function(e){if(!$(e).hasClass("jqgrow"))return e;var t=$(e).closest("table.ui-jqgrid-btable");if(0<t.length&&void 0!==$.data(t[0],"dnd")){var i=$.data(t[0],"dnd").connectWith;return-1!==$.inArray("#"+jqID(this.id),i)}return!1},drop:function(t,i){if($(i.draggable).hasClass("jqgrow")){var n,o=$(i.draggable).attr("id"),s=i.draggable.parent().parent(),a=s.jqGrid("getRowData",o);if(!e.dropbyname){var l,d,c,h,u={},f=s.jqGrid("getGridParam","colModel"),p=$("#"+jqID(this.id)).jqGrid("getGridParam","colModel");try{for(d=l=0;l<f.length&&d<p.length;l++)if("cb"!==(c=f[l].name)&&"rn"!==c&&"subgrid"!==c){for(;d<p.length;d++)if("cb"!==(h=p[d].name)&&"rn"!==h&&"subgrid"!==h){u[h]=a[c];break}d++}a=u}catch(t){}}if(i.helper.dropped=!0,e.beforedrop&&$.isFunction(e.beforedrop)){var g=e.beforedrop.call(this,t,i,a,$("#"+jqID(r.p.id)),$(this));null!=g&&"object"==typeof g&&(a=g)}i.helper.dropped&&(e.autoid&&($.isFunction(e.autoid)?n=e.autoid.call(this,a,{rowid:o,ev:t,ui:i}):(n=Math.ceil(1e3*Math.random()),n=e.autoidprefix+n)),$("#"+jqID(this.id)).jqGrid("addRowData",n,a,e.droppos),a[r.p.localReader.id]=n),e.ondrop&&$.isFunction(e.ondrop)&&e.ondrop.call(this,t,i,a)}}},e.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},e||{})).connectWith)for(e.connectWith=e.connectWith.split(","),e.connectWith=$.map(e.connectWith,function(e){return $.trim(e)}),$.data(r,"dnd",e),0===r.p.reccount||r.p.jqgdnd||n(),r.p.jqgdnd=!0,t=0;t<e.connectWith.length;t++)i=e.connectWith[t],$(i).droppable($.isFunction(e.drop)?e.drop.call($(r),e):e.drop)}else n();function n(){var e=$.data(r,"dnd");$("tr.jqgrow:not(.ui-draggable)",r).draggable($.isFunction(e.drag)?e.drag.call($(r),e):e.drag)}})},gridResize:function(e){return this.each(function(){var t,i=this,r=i.grid,n=i.p,o=n.gView+">.ui-jqgrid-bdiv",s=!1,a=n.height;if(r&&$.fn.resizable){if((e=$.extend({},e||{})).alsoResize?(e._alsoResize_=e.alsoResize,delete e.alsoResize):e._alsoResize_=!1,e.stop&&$.isFunction(e.stop)?(e._stop_=e.stop,delete e.stop):e._stop_=!1,e.stop=function(l,d){$(i).jqGrid("setGridWidth",d.size.width,e.shrinkToFit),$(n.gView+">.ui-jqgrid-titlebar").css("width",""),s?($(t).each(function(){$(this).css("height","")}),"auto"!==a&&"100%"!==a||$(r.bDiv).css("height",a)):$(i).jqGrid("setGridParam",{height:$(o).height()}),i.fixScrollOffsetAndhBoxPadding&&i.fixScrollOffsetAndhBoxPadding(),e._stop_&&e._stop_.call(i,l,d)},t=o,"auto"!==a&&"100%"!==a||void 0!==e.handles||(e.handles="e,w"),e.handles){var l=$.map(String(e.handles).split(","),function(e){return $.trim(e)});2===l.length&&("e"===l[0]&&"w"===l[1]||"e"===l[1]&&"w"===l[1])&&(t=n.gView+">div:not(.frozen-div)",s=!0,n.pager&&(t+=","+n.pager))}e._alsoResize_?e.alsoResize=t+","+e._alsoResize_:e.alsoResize=t,delete e._alsoResize_,$(n.gBox).resizable(e)}})}}),Aggregation.prototype.calc=function(e,t,i,r,n){var o=this;if(void 0!==e)switch(o.result=o.result||0,e=parseFloat(e),o.aggregator){case"sum":o.result+=e;break;case"count":o.result++;break;case"avg":o.finilized?(o.count=o.count||0,o.result=(o.result*o.count+e)/(o.count+1)):(o.result+=e,o.count=o.count||0),o.count++;break;case"min":o.result=Math.min(o.result,e);break;case"max":o.result=Math.max(o.result,e);break;default:$.isFunction(o.aggregator)&&(o.result=o.aggregator.call(o.context,{previousResult:o.result,value:e,fieldName:t,item:i,iItem:r,items:n}))}},Aggregation.prototype.getResult=function(e,t,i){var r=this;(void 0!==r.result||i)&&(i&&void 0!==r.result&&(r.result=0,r.count=0),void 0===r.result||r.finilized||"avg"!==r.aggregator||(r.result=r.result/r.count,r.finilized=!0),e[t]=r.result)},ArrayOfFieldsets.prototype.compareVectorsEx=function(e,t){var i,r,n=this.fieldLength;for(i=0;i<n;i++)if(0!==(r=this.fieldCompare[i](e[i],t[i])))return{index:i,result:r};return{index:-1,result:0}},ArrayOfFieldsets.prototype.getIndexOfDifferences=function(e,t){return null===t||null===e?0:this.compareVectorsEx(e,t).index},ArrayOfFieldsets.prototype.compareVectors=function(e,t){var i=this.compareVectorsEx(e,t);return 0<(0<=i.index?this.fieldSortDirection[i.index]:1)?i.result:-i.result},ArrayOfFieldsets.prototype.getItem=function(e){return this.items[e]},ArrayOfFieldsets.prototype.getIndexLength=function(){return this.items.length},ArrayOfFieldsets.prototype.getIndexesOfSourceData=function(e){return this.indexesOfSourceData[e]},ArrayOfFieldsets.prototype.createDataIndex=function(e){var t,i,r,n,o,s,a,l,d,c=e.length,h=this.fieldLength,u=this.fieldNames,f=this.indexesOfSourceData,p=this.items;for(t=0;t<c;t++){for(a=e[t],i=new Array(h),n=0;n<h;n++)void 0!==(r=a[u[n]])&&("string"==typeof r&&this.trimByCollect&&(r=$.trim(r)),i[n]=r);if(l=0,(d=p.length-1)<0)p.push(i),f.push([t]);else if(0!==(o=this.compareVectors(i,p[d])))if(1===o||this.skipSort)p.push(i),f.push([t]);else if(1!==(o=this.compareVectors(p[0],i)))if(0!==o)for(;;){if(d-l<2){p.splice(d,0,i),f.splice(d,0,[t]);break}if(s=Math.floor((l+d)/2),0===(o=this.compareVectors(p[s],i))){f[s].push(t);break}1===o?d=s:l=s}else f[0].push(t);else p.unshift(i),f.unshift([t]);else f[d].push(t)}},jgrid.extend({pivotSetup:function(e,t){var i,r,n,o,s,a,l,d,c,h,u,f,p,g,m,v,b,y,w,x,C,S,k,D,T,A,N,_,M,E=this[0],O=$.isArray,I={},R={groupField:[],groupSummary:[],groupSummaryPos:[]},F={grouping:!0,groupingView:R},L=$.extend({totals:!1,useColSpanStyle:!1,trimByCollect:!0,skipSortByX:!1,skipSortByY:!1,caseSensitive:!1,footerTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1,defaultFormatting:!0,data:e},t||{}),j=e.length,P=L.xDimension,z=L.yDimension,B=L.aggregates,H=L.totalText||L.totals||L.rowTotals||L.totalHeader,q=O(P)?P.length:0,W=O(z)?z.length:0,G=O(B)?B.length:0,V=W-(1===G?1:0),U=[],Y=[],X=[],Z=[],K=["pivotInfos"],J=new Array(G),Q=new Array(W),ee=function(t,i,r){var n=new ArrayOfFieldsets(L.trimByCollect,L.caseSensitive,i,t);return $.isFunction(r)&&(n.compareVectorsEx=r),n.createDataIndex(e),n},te=function(e,t,i,r,n){var o,s,a;switch(e){case 1:o=z[r].totalText||"{0} {1} {2}",s="y"+n+"t"+r;break;case 2:o=L.totalText||"{0}",s="t";break;default:o=1<G?t.label||"{0}":$.isFunction(z[r].label)?z[r].label:_.getItem(n)[r],s="y"+n}return delete(a=$.extend({},t,{name:s+(1<G?"a"+i:""),label:$.isFunction(o)?o.call(E,2===e?{aggregate:t,iAggregate:i,pivotOptions:L}:1===e?{yIndex:_.getItem(n),aggregate:t,iAggregate:i,yLevel:r,pivotOptions:L}:{yData:_.getItem(n)[r],yIndex:_.getItem(n),yLevel:r,pivotOptions:L}):jgrid.template.apply(E,2===e?[String(o),t.aggregator,t.member,i]:[String(o),t.aggregator,t.member,_.getItem(n)[r],r])})).member,delete a.aggregator,a},ie=function(e,t,i){var r,n;for(r=0;r<G;r++)void 0===(n=B[r]).template&&void 0===n.formatter&&L.defaultFormatting&&(n.template="count"===n.aggregator?"integer":"number"),X.push(te(e,n,r,t,i))},re=function(e,t,i){var r,n,o,a;for(r=V-1;t<=r;r--)if(Y[r]){for(n=0;n<=r;n++)(T=U[n].groupHeaders)[T.length-1].numberOfColumns+=G;for(o=(s=z[r]).totalHeader,a=s.headerOnTop,n=r+1;n<=V-1;n++)U[n].groupHeaders.push({titleText:a&&n===r+1||!a&&n===V-1?$.isFunction(o)?o.call(E,i,r):jgrid.template.call(E,String(o||""),i[r],r):"",startColumnName:"y"+(e-1)+"t"+r+(1===G?"":"a0"),numberOfColumns:G})}},ne=function(e){var i=new Aggregation("count"===B[e].aggregator?"sum":B[e].aggregator,E,t);return i.groupInfo={iRows:[],rows:[],ys:[],iYs:[]},i},oe=function(){var e,t;for(e=V-1;0<=e;e--)if(Y[e])for(null==Q[e]&&(Q[e]=new Array(G)),t=0;t<G;t++)Q[e][t]=ne(t)},se=function(e,t,i,r){var n,o,s,a=_.getIndexOfDifferences(t,i);if(null!==i)for(a=Math.max(a,0),n=V-1;a<=n;n--)o="y"+e+"t"+n+(1<G?"a"+r:""),Y[n]&&void 0===k[o]&&((s=Q[n][r]).getResult(k,o),k.pivotInfos[o]={colType:1,iA:r,a:B[r],level:n,iRows:s.groupInfo.iRows,rows:s.groupInfo.rows,ys:s.groupInfo.ys,iYs:s.groupInfo.iYs},t!==i&&(Q[n][r]=ne(r)))},ae=function(t,i,r,n,o,s,a){var l,d,c;if(t!==i)for(l=V-1;0<=l;l--)Y[l]&&((d=Q[l][n]).calc(o[r.member],r.member,o,s,e),c=d.groupInfo,$.inArray(a,c.iYs)<0&&(c.iYs.push(a),c.ys.push(t)),$.inArray(s,c.iRows)<0&&(c.iRows.push(s),c.rows.push(o)))};if(0===q||0===G)throw"xDimension or aggregates options are not set!";for(N=ee(P,L.skipSortByX,L.compareVectorsByX),_=ee(z,L.skipSortByY,L.compareVectorsByY),t.xIndex=N,t.yIndex=_,r=0;r<q;r++)a={name:"x"+r,label:null!=(o=P[r]).label?$.isFunction(o.label)?o.label.call(E,o,r,L):o.label:o.dataName,frozen:L.frozenStaticCols},r<q-1&&!o.skipGrouping&&!o.additionalProperty&&(R.groupField.push(a.name),R.groupSummary.push(L.groupSummary),R.groupSummaryPos.push(L.groupSummaryPos)),delete(a=$.extend(a,o)).dataName,delete a.footerText,o.additionalProperty?K.push(a.name):(X.push(a),F.sortname=a.name);for(q<2&&(F.grouping=!1),R.hideFirstGroupCol=!0,r=0;r<W;r++)s=z[r],Y.push(!!(s.totals||s.rowTotals||s.totalText||s.totalHeader));for(D=_.getItem(0),ie(0,W-1,0),M=_.getIndexLength(),y=1;y<M;y++){for(w=_.getItem(y),r=_.getIndexOfDifferences(w,D),n=V-1;r<=n;n--)Y[n]&&ie(1,n,y-1);D=w,ie(0,W-1,y)}for(r=V-1;0<=r;r--)Y[r]&&ie(1,r,M-1);for(H&&ie(2),D=_.getItem(0),n=0;n<V;n++)U.push({useColSpanStyle:L.useColSpanStyle,groupHeaders:[{titleText:$.isFunction(z[n].label)?z[n].label.call(E,{yData:D[n],yIndex:D,yLevel:n,pivotOptions:L}):D[n],startColumnName:1===G?"y0":"y0a0",numberOfColumns:G}]});for(y=1;y<M;y++){for(w=_.getItem(y),re(y,r=_.getIndexOfDifferences(w,D),D),n=V-1;r<=n;n--)U[n].groupHeaders.push({titleText:$.isFunction(z[n].label)?z[n].label.call(E,{yData:w[n],yIndex:w,yLevel:n,pivotOptions:L}):w[n],startColumnName:"y"+y+(1===G?"":"a0"),numberOfColumns:G});for(n=0;n<r;n++)(T=U[n].groupHeaders)[T.length-1].numberOfColumns+=G;D=w}if(re(M,0,D),H)for(r=0;r<V;r++)U[r].groupHeaders.push({titleText:r<V-1?"":L.totalHeader||"",startColumnName:"t"+(1===G?"":"a0"),numberOfColumns:G});for(v=N.getIndexLength(),c=0;c<v;c++){for(h=N.getItem(c),k={pivotInfos:u={iX:c,x:h}},r=0;r<q;r++)k["x"+r]=h[r];if(b=N.getIndexesOfSourceData(c),H)for(n=0;n<G;n++)J[n]=ne(n);for(D=null,oe(),y=0;y<M;y++){for(w=_.getItem(y),x=_.getIndexesOfSourceData(y),n=0;n<G;n++){for(null!==D&&se(y-1,w,D,n),C=[],r=0;r<x.length;r++)A=x[r],0<=$.inArray(A,b)&&C.push(A);if(0<C.length){for(f=new Array(C.length),p=new Aggregation((S=B[n]).aggregator,E,t),l=0;l<C.length;l++)r=C[l],i=e[r],f[l]=i,p.calc(i[S.member],S.member,i,r,e),H&&((g=J[n]).calc(i[S.member],S.member,i,r,e),m=g.groupInfo,$.inArray(r,m.iYs)<0&&(m.iYs.push(y),m.ys.push(w)),$.inArray(r,m.iRows)<0&&(m.iRows.push(r),m.rows.push(i))),ae(w,D,S,n,i,r,y);d="y"+y+(1===G?"":"a"+n),p.getResult(k,d),u[d]={colType:0,iY:y,y:w,iA:n,a:S,iRows:C,rows:f}}}D=w}if(null!==D)for(n=0;n<G;n++)se(M-1,D,D,n);if(H)for(n=0;n<G;n++)d="t"+(1===G?"":"a"+n),(g=J[n]).getResult(k,d),m=g.groupInfo,u[d]={colType:2,iA:n,a:B[n],iRows:m.iRows,rows:m.rows,iYs:m.iYs,ys:m.ys};Z.push(k)}if(L.footerTotals||L.colTotals){for(j=Z.length,r=0;r<q;r++)I["x"+r]=P[r].footerText||"";for(r=q;r<X.length;r++){for(d=X[r].name,p=new Aggregation(L.footerAggregator||"sum",E,t),l=0;l<j;l++)k=Z[l],p.calc(k[d],d,k,l,Z);p.getResult(I,d)}}return t.colHeaders=U,{colModel:X,additionalProperties:K,options:t,rows:Z,groupOptions:F,groupHeaders:U,summary:I}},jqPivot:function(e,t,i,r){return this.each(function(){var n=this,o=$(n),s=$.fn.jqGrid;function a(){var r,a=s.pivotSetup.call(o,e,t),l=a.groupHeaders,d=0<function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i}(a.summary),c=a.groupOptions.groupingView,h=jgrid.from.call(n,a.rows);if(!t.skipSortByX)for(r=0;r<c.groupField.length;r++)h.orderBy(c.groupField[r],null!=i&&i.groupingView&&null!=i.groupingView.groupOrder&&"desc"===i.groupingView.groupOrder[r]?"d":"a","text","");if(t.data=e,s.call(o,$.extend(!0,{datastr:$.extend(h.select(),d?{userdata:a.summary}:{}),datatype:"jsonstring",footerrow:d,userDataOnFooter:d,colModel:a.colModel,additionalProperties:a.additionalProperties,pivotOptions:a.options,viewrecords:!0,sortname:t.xDimension[0].dataName},a.groupOptions,i||{})),l.length)for(r=0;r<l.length;r++)l[r]&&l[r].groupHeaders.length&&s.setGroupHeaders.call(o,l[r]);t.frozenStaticCols&&s.setFrozenColumns.call(o)}"string"==typeof e?$.ajax($.extend({url:e,dataType:"json",success:function(t){e=jgrid.getAccessor(t,r&&r.reader?r.reader:"rows"),a()}},r||{})):a()})}});var subGridFeedback=function(){var e=$.makeArray(arguments);return e[0]="subGrid"+e[0].charAt(0).toUpperCase()+e[0].substring(1),e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)},collapseOrExpand=function(e,t){return this.each(function(){if(this.grid&&null!=e&&!0===this.p.subGrid){var i=$(this).jqGrid("getInd",e,!0);$(i).find(">td."+t).trigger("click")}})};jgrid.extend({setSubGrid:function(){return this.each(function(){var e,t=this.p,i=$(this),r=t.subGridModel[0],n=function(e){return i.jqGrid("getIconRes",e)};if(t.subGridOptions=$.extend({commonIconClass:n("subgrid.common"),plusicon:n("subgrid.plus"),minusicon:n("subgrid.minus"),openicon:"rtl"===t.direction?n("subgrid.openRtl"):n("subgrid.openLtr"),expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,selectOnCollapse:!1,reloadOnExpand:!0},t.subGridOptions||{}),t.colNames.unshift(""),t.colModel.unshift({name:"subgrid",width:jgrid.cell_width?t.subGridWidth+t.cellLayout:t.subGridWidth,labelClasses:"jqgh_subgrid",sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0,frozen:!0}),r)for(r.align=$.extend([],r.align||[]),e=0;e<r.name.length;e++)r.align[e]=r.align[e]||"left"})},addSubGridCell:function(e,t,i,r){var n=this[0],o=n.p.subGridOptions,s=!$.isFunction(o.hasSubgrid)||o.hasSubgrid.call(n,{rowid:i,iRow:t,iCol:e,data:r});return null==n.p?"":"<td role='gridcell' class='"+base.getGuiStyles.call(this,"subgrid.tdStart",s?"ui-sgcollapsed sgcollapsed":"")+"' "+n.formatCol(e,t)+">"+(s?"<div class='"+base.getGuiStyles.call(this,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+base.getGuiStyles.call(this,"subgrid.button","sgbutton")+"'><span class='"+jgrid.mergeCssClasses(o.commonIconClass,o.plusicon)+"'></span></a></div>":"&nbsp;")+"</td>"},addSubGrid:function(e,t){return this.each(function(){var i,r,n,o=this,s=o.p,a=s.subGridModel[0],l=function(e,t){return base.getGuiStyles.call(o,"subgrid."+e,t||"")},d=l("thSubgrid","ui-th-subgrid ui-th-column ui-th-"+s.direction),c=l("rowSubTable","ui-subtblcell"),h=l("row","ui-subgrid ui-row-"+s.direction),u=l("tdWithIcon","subgrid-cell"),f=l("tdData","subgrid-data"),p=function(e,t,i){var r=a.align[i],n=$("<td"+(r?" style='text-align:"+r+";'":"")+"></td>").html(t);e.append(n)},g=function(e,t){var i=s.xmlReader.subgrid;$(i.root+" "+i.row,e).each(function(){var e,r,n=$("<tr class='"+c+"'></tr>");if(!0===i.repeatitems)$(i.cell,this).each(function(e){p(n,$(this).text()||"&#160;",e)});else if(e=a.mapping||a.name)for(r=0;r<e.length;r++)p(n,jgrid.getXmlData(this,e[r])||"&#160;",r);t.append(n)})},m=function(e,t){var i,r,n,o,l,d=s.jsonReader.subgrid,h=jgrid.getAccessor(e,d.root);if(null!=h)for(r=0;r<h.length;r++){if(l=h[r],i=$("<tr class='"+c+"'></tr>"),!0===d.repeatitems)for(d.cell&&(l=l[d.cell]),n=0;n<l.length;n++)p(i,l[n]||"&#160;",n);else if((o=a.mapping||a.name).length)for(n=0;n<o.length;n++)p(i,jgrid.getAccessor(l,o[n])||"&#160;",n);t.append(i)}},v=function(e,t,i){var r,n,c=l("legacyTable","ui-jqgrid-legacy-subgrid"+(!0===s.altRows&&$(o).jqGrid("isBootstrapGuiStyle")?" table-striped":"")),h=$("<table"+(c?" style='width:1px' role='presentation' class='"+c+"'":"")+"><thead></thead><tbody></tbody></table>"),u=$("<tr></tr>");for(o.grid.endReq.call(o),n=0;n<a.name.length;n++)r=$("<th class='"+d+"'></th>").html(a.name[n]).width(a.width[n]),u.append(r);return u.appendTo(h[0].tHead),i(e,$(h[0].tBodies[0])),$("#"+jqID(s.id+"_"+t)).append(h),!1},b=function(){var t,i=$(this).parent("tr")[0],r=i.nextSibling,n=i.id,l=s.id+"_"+n,d=function(e){return jgrid.mergeCssClasses(s.subGridOptions.commonIconClass,s.subGridOptions[e])},c=1;if($.each(s.colModel,function(){!0!==this.hidden&&"rn"!==this.name&&"cb"!==this.name||c++}),$(this).hasClass("sgcollapsed")){if(!0===s.subGridOptions.reloadOnExpand||!1===s.subGridOptions.reloadOnExpand&&!$(r).hasClass("ui-subgrid")){if(t=1<=e?"<td colspan='"+e+"'>&#160;</td>":"",!subGridFeedback.call(o,"beforeExpand",l,n))return;$(i).after("<tr role='row' class='"+h+"'>"+t+"<td class='"+u+"'><span class='"+d("openicon")+"'></span></td><td colspan='"+parseInt(s.colNames.length-c,10)+"' class='"+f+"'><div id='"+l+"' class='tablediv'></div></td></tr>"),$(o).triggerHandler("jqGridSubGridRowExpanded",[l,n]),$.isFunction(s.subGridRowExpanded)?s.subGridRowExpanded.call(o,l,n):function(e){var t,i,r=$(e).attr("id"),n={nd_:(new Date).getTime()};if(n[s.prmNames.subgridid]=r,a){if(a.params)for(i=0;i<a.params.length;i++)void 0!==(t=s.iColByName[a.params[i]])&&(n[s.colModel[t].name]=$(e.cells[t]).text().replace(/\&#160\;/gi,""));if(!o.grid.hDiv.loading)switch(o.grid.beginReq.call(o),s.subgridtype||(s.subgridtype=s.datatype),$.isFunction(s.subgridtype)?s.subgridtype.call(o,n):s.subgridtype=s.subgridtype.toLowerCase(),s.subgridtype){case"xml":case"json":$.ajax($.extend({type:s.mtype,url:$.isFunction(s.subGridUrl)?s.subGridUrl.call(o,n):s.subGridUrl,dataType:s.subgridtype,context:r,data:jgrid.serializeFeedback.call(o,s.serializeSubGridData,"jqGridSerializeSubGridData",n),success:function(e){v(e,this,"xml"===s.subgridtype?g:m)},error:function(e,t,i){var r=void 0===s.loadSubgridError?s.loadError:s.loadSubgridError;o.grid.endReq.call(o),$.isFunction(r)&&r.call(o,e,t,i),s.subGridOptions.noEmptySubgridOnError||v(null,this,"xml"===s.subgridtype?g:m)}},jgrid.ajaxOptions,s.ajaxSubgridOptions||{}))}}}(i)}else $(r).show();$(this).html("<div class='"+base.getGuiStyles.call(o,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+base.getGuiStyles.call(o,"subgrid.button","sgbutton")+"'><span class='"+d("minusicon")+"'></span></a></div>").removeClass("sgcollapsed").addClass("sgexpanded"),s.subGridOptions.selectOnExpand&&$(o).jqGrid("setSelection",n)}else if($(this).hasClass("sgexpanded")){if(!subGridFeedback.call(o,"beforeCollapse",l,n))return;!0===s.subGridOptions.reloadOnExpand?$(r).remove(".ui-subgrid"):$(r).hasClass("ui-subgrid")&&$(r).hide(),$(this).html("<div class='"+base.getGuiStyles.call(o,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+base.getGuiStyles.call(o,"subgrid.button","sgbutton")+"'><span class='"+d("plusicon")+"'></span></a></div>").removeClass("sgexpanded").addClass("sgcollapsed"),s.subGridOptions.selectOnCollapse&&$(o).jqGrid("setSelection",n)}return!1},y=1;if(o.grid){for(i=o.rows.length,void 0!==t&&0<t&&(i=(y=t)+1);y<i;)r=o.rows[y],$(r).hasClass("jqgrow")&&(n=$(r.cells[e])).hasClass("ui-sgcollapsed")&&(s.scroll&&n.off("click"),n.on("click",b)),y++;if(!0===s.subGridOptions.expandOnLoad){var w=s.iColByName.subgrid;$(o.rows).filter(".jqgrow").each(function(e,t){$(t.cells[w]).filter(".sgcollapsed").children(".sgbutton-div").children(".sgbutton").click()})}o.subGridXml=function(e,t){return v(e,t,g)},o.subGridJson=function(e,t){return v(e,t,m)}}})},expandSubGridRow:function(e){return collapseOrExpand.call(this,e,"sgcollapsed")},collapseSubGridRow:function(e){return collapseOrExpand.call(this,e,"sgexpanded")},toggleSubGridRow:function(e){return collapseOrExpand.call(this,e,"ui-sgcollapsed")}}),window.tableToGrid=function(e,t){$(e).each(function(){var e,i,r,n,o,s,a,l,d=$(this),c=[],h=[],u=[],f=[],p=[];if(!this.grid){for(d.width("99%"),e=d.width(),i=$("tr td:first-child input[type=checkbox]:first",d),r=$("tr td:first-child input[type=radio]:first",d),o=!(n=0<i.length)&&0<r.length,s=n||o,$("th",d).each(function(){0===c.length&&s?(c.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),h.push("__selection__")):(c.push({name:$(this).attr("id")||$.trim($.jgrid.stripHtml($(this).html())).split(" ").join("_"),index:$(this).attr("id")||$.trim($.jgrid.stripHtml($(this).html())).split(" ").join("_"),width:$(this).width()||150}),h.push($(this).html()))}),$("tbody > tr",d).each(function(){var e={},t=0;$("td",$(this)).each(function(){if(0===t&&s){var i=$("input",$(this)),r=i.attr("value");f.push(r||u.length),i.is(":checked")&&p.push(r),e[c[t].name]=i.attr("value")}else e[c[t].name]=$(this).html();t++}),0<t&&u.push(e)}),d.empty(),d.jqGrid($.extend({datatype:"local",width:e,colNames:h,colModel:c,multiselect:n},t||{})),a=0;a<u.length;a++)l=null,0<f.length&&(l=f[a])&&l.replace&&(l=encodeURIComponent(l).replace(/[.\-%]/g,"_")),null===l&&(l=$.jgrid.randId()),d.jqGrid("addRowData",l,u[a]);for(a=0;a<p.length;a++)d.jqGrid("setSelection",p[a])}})};var treeGridFeedback=function(){var e=$.makeArray(arguments);return e[0]="treeGrid"+e[0].charAt(0).toUpperCase()+e[0].substring(1),e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)},getNodeIcons=function(e,t){var i=t[e.treeReader.icon_field],r=e.treeIcons,n=r.plus+" tree-plus",o=r.minus+" tree-minus";return i&&"string"==typeof i&&2===(i=i.split(",")).length&&(o=i[0],n=i[1]),{expanded:o,collapsed:n,common:r.commonIconClass}};jgrid.extend({setTreeNode:function(){return this.each(function(){var e=$(this),t=this.p;if(this.grid&&t.treeGrid){var i=t.treeReader.expanded_field,r=t.treeReader.leaf_field;e.off("jqGridBeforeSelectRow.setTreeNode"),e.on("jqGridBeforeSelectRow.setTreeNode",function(n,o,s){if(null!=s){var a=$(s.target),l=a.closest("tr.jqgrow>td"),d=l.parent(),c=function(){var n=t.data[t._index[stripPref(t.idPrefix,o)]],s=n[i]?"collapse":"expand";n[r]||(base[s+"Row"].call(e,n,d),base[s+"Node"].call(e,n,d))};return a.is("div.treeclick")?c():t.ExpandColClick&&0<l.length&&0<a.closest("span.cell-wrapper",l).length&&c(),!0}})}})},setTreeGrid:function(){return this.each(function(){var e,t,i,r=this.p,n=[],o=["leaf_field","expanded_field","loaded"];if(r.treeGrid){for(t in r.treedatatype||$.extend(this.p,{treedatatype:r.datatype}),r.subGrid=!1,r.altRows=!1,r.pgbuttons=!1,r.pginput=!1,r.gridview=!0,null===r.rowTotal&&(r.rowNum=r.maxRowNum),r.rowList=[],r.treeIcons.plus="rtl"===r.direction?r.treeIcons.plusRtl:r.treeIcons.plusLtr,"nested"===r.treeGridModel?r.treeReader=$.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},r.treeReader):"adjacency"===r.treeGridModel&&(r.treeReader=$.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},r.treeReader)),r.colModel)if(r.colModel.hasOwnProperty(t))for(i in e=r.colModel[t].name,r.treeReader)r.treeReader.hasOwnProperty(i)&&r.treeReader[i]===e&&n.push(e);$.each(r.treeReader,function(e){var t=String(this);t&&-1===$.inArray(t,n)&&(0<=$.inArray(e,o)?r.additionalProperties.push({name:t,search:!1,convert:function(e){return!0===e||"true"===String(e).toLowerCase()||"1"===String(e)||e}}):r.additionalProperties.push(t))})}})},expandRow:function(e){this.each(function(){var t=$(this),i=this.p;if(this.grid&&i.treeGrid){var r=i.treeReader.expanded_field,n=e[i.localReader.id];if(treeGridFeedback.call(this,"beforeExpandRow",{rowid:n,item:e})){var o=base.getNodeChildren.call(t,e);$(o).each(function(){var e=i.idPrefix+getAccessor(this,i.localReader.id);$(base.getGridRowById.call(t,e)).css("display",""),this[r]&&base.expandRow.call(t,this)}),treeGridFeedback.call(this,"afterExpandRow",{rowid:n,item:e})}}})},collapseRow:function(e){this.each(function(){var t=$(this),i=this.p;if(this.grid&&i.treeGrid){var r=i.treeReader.expanded_field,n=e[i.localReader.id];if(treeGridFeedback.call(this,"beforeCollapseRow",{rowid:n,item:e})){var o=base.getNodeChildren.call(t,e);$(o).each(function(){var e=i.idPrefix+getAccessor(this,i.localReader.id);$(base.getGridRowById.call(t,e)).css("display","none"),this[r]&&base.collapseRow.call(t,this)}),treeGridFeedback.call(this,"afterCollapseRow",{rowid:n,item:e})}}})},getRootNodes:function(){var e=[];return this.each(function(){var t=this.p;if(this.grid&&t.treeGrid)switch(t.treeGridModel){case"nested":var i=t.treeReader.level_field;$(t.data).each(function(){parseInt(this[i],10)===parseInt(t.tree_root_level,10)&&e.push(this)});break;case"adjacency":var r=t.treeReader.parent_id_field;$(t.data).each(function(){null!==this[r]&&"null"!==String(this[r]).toLowerCase()||e.push(this)})}}),e},getNodeDepth:function(e){var t=null;return this.each(function(){var i=this.p;if(this.grid&&i.treeGrid)switch(i.treeGridModel){case"nested":var r=i.treeReader.level_field;t=parseInt(e[r],10)-parseInt(i.tree_root_level,10);break;case"adjacency":t=base.getNodeAncestors.call($(this),e).length}}),t},getNodeParent:function(e){var t=this[0];if(!t||!t.grid||null==t.p||!t.p.treeGrid||null==e)return null;var i=t.p,r=i.treeReader,n=e[r.parent_id_field];if("nested"===i.treeGridModel){var o=null,s=r.left_field,a=r.right_field,l=r.level_field,d=parseInt(e[s],10),c=parseInt(e[a],10),h=parseInt(e[l],10);return $(i.data).each(function(){if(parseInt(this[l],10)===h-1&&parseInt(this[s],10)<d&&parseInt(this[a],10)>c)return o=this,!1}),o}if(null===n||"null"===n)return null;var u=i._index[n];return void 0!==u?i.data[u]:null},getNodeChildren:function(e){var t=[];return this.each(function(){var i=this.p;if(this.grid&&i.treeGrid)switch(i.treeGridModel){case"nested":var r=i.treeReader.left_field,n=i.treeReader.right_field,o=i.treeReader.level_field,s=parseInt(e[r],10),a=parseInt(e[n],10),l=parseInt(e[o],10);$(i.data).each(function(){parseInt(this[o],10)===l+1&&parseInt(this[r],10)>s&&parseInt(this[n],10)<a&&t.push(this)});break;case"adjacency":var d=i.treeReader.parent_id_field,c=i.localReader.id;$(i.data).each(function(){String(this[d])===String(e[c])&&t.push(this)})}}),t},getFullTreeNode:function(e){var t=[];return this.each(function(){var i,r=this.p;if(this.grid&&r.treeGrid)switch(r.treeGridModel){case"nested":var n=r.treeReader.left_field,o=r.treeReader.right_field,s=r.treeReader.level_field,a=parseInt(e[n],10),l=parseInt(e[o],10),d=parseInt(e[s],10);$(r.data).each(function(){parseInt(this[s],10)>=d&&parseInt(this[n],10)>=a&&parseInt(this[n],10)<=l&&t.push(this)});break;case"adjacency":if(e){t.push(e);var c=r.treeReader.parent_id_field,h=r.localReader.id;$(r.data).each(function(){var e;for(i=t.length,e=0;e<i;e++)if(String(t[e][h])===String(this[c])){t.push(this);break}})}}}),t},getNodeAncestors:function(e){var t=[];return this.each(function(){var i=$(this),r=base.getNodeParent;if(this.grid&&this.p.treeGrid)for(var n=r.call(i,e);n;)t.push(n),n=r.call(i,n)}),t},isVisibleNode:function(e){var t=!0;return this.each(function(){var i=this.p;if(this.grid&&i.treeGrid){var r=base.getNodeAncestors.call($(this),e),n=i.treeReader.expanded_field;$(r).each(function(){if(!(t=t&&this[n]))return!1})}}),t},isNodeLoaded:function(e){var t;return this.each(function(){var i=this.p;if(this.grid&&i.treeGrid){var r=i.treeReader.leaf_field,n=i.treeReader.loaded;t=void 0!==e&&(void 0!==e[n]?e[n]:!!(e[r]||0<base.getNodeChildren.call($(this),e).length))}}),t},expandNode:function(e){return this.each(function(){var t,i,r,n=this,o=n.p;if(n.grid&&o.treeGrid){var s=o.treeReader;if(!e[s.expanded_field]){if(t=getAccessor(e,o.localReader.id),!treeGridFeedback.call(n,"beforeExpandNode",{rowid:t,item:e}))return;i=$("#"+o.idPrefix+jqID(t),n.grid.bDiv)[0],e[s.expanded_field]=!0,r=getNodeIcons(o,e),$("div.treeclick",i).removeClass(r.collapsed).addClass(r.common).addClass(r.expanded),"local"===o.treedatatype||base.isNodeLoaded.call($(n),o.data[o._index[t]])||n.grid.hDiv.loading||(o.treeANode=i.rowIndex,o.datatype=o.treedatatype,base.setGridParam.call($(n),{postData:"nested"===o.treeGridModel?{nodeid:t,n_level:e[s.level_field],n_left:e[s.left_field],n_right:e[s.right_field]}:{nodeid:t,n_level:e[s.level_field],parentid:e[s.parent_id_field]}}),$(n).trigger("reloadGrid"),e[s.loaded]=!0,base.setGridParam.call($(n),{postData:"nested"===o.treeGridModel?{nodeid:"",n_level:"",n_left:"",n_right:""}:{nodeid:"",n_level:"",parentid:""}})),treeGridFeedback.call(n,"afterExpandNode",{rowid:t,item:e})}}})},collapseNode:function(e){return this.each(function(){var t,i=this.p;if(this.grid&&i.treeGrid){var r=i.treeReader.expanded_field;if(e[r]){var n=getAccessor(e,i.localReader.id);if(!treeGridFeedback.call(this,"beforeCollapseNode",{rowid:n,item:e}))return;e[r]=!1,t=getNodeIcons(i,e),$("#"+i.idPrefix+jqID(n),this.grid.bDiv).find("div.treeclick").removeClass(t.expanded).addClass(t.common).addClass(t.collapsed),(!0===i.unloadNodeOnCollapse||$.isFunction(i.unloadNodeOnCollapse)&&i.unloadNodeOnCollapse.call(this,e))&&(e[i.treeReader.loaded]=!1,$(this).jqGrid("delTreeNode",n,!0)),treeGridFeedback.call(this,"afterCollapseNode",{rowid:n,item:e})}}})},SortTree:function(e,t,i,r){return this.each(function(){var n=this,o=n.p,s=$(n);if(n.grid&&o.treeGrid){var a,l,d,c=[],h=base.getRootNodes.call(s),u=jgrid.from.call(n,h);u.orderBy(e,t,i,r);var f=u.select();for(a=0,l=f.length;a<l;a++)d=f[a],c.push(d),base.collectChildrenSortTree.call(s,c,d,e,t,i,r);$.each(c,function(e){var t=getAccessor(this,o.localReader.id);$(n.rows[e]).after(s.find(">tbody>tr#"+jqID(t)))})}})},collectChildrenSortTree:function(e,t,i,r,n,o){return this.each(function(){var s=$(this);if(this.grid&&this.p.treeGrid){var a,l,d,c=base.getNodeChildren.call(s,t),h=jgrid.from.call(this,c);h.orderBy(i,r,n,o);var u=h.select();for(a=0,l=u.length;a<l;a++)d=u[a],e.push(d),base.collectChildrenSortTree.call(s,e,d,i,r,n,o)}})},setTreeRow:function(e,t){var i=!1;return this.each(function(){this.grid&&this.p.treeGrid&&(i=base.setRowData.call($(this),e,t))}),i},delTreeNode:function(e,t){return this.each(function(){var i,r,n,o,s,a=this.p,l=a.localReader.id,d=$(this),c=a.treeReader.left_field,h=a.treeReader.right_field;if(this.grid&&a.treeGrid){var u=a._index[e];if(void 0!==u){r=(i=parseInt(a.data[u][h],10))-parseInt(a.data[u][c],10)+1;var f=base.getFullTreeNode.call(d,a.data[u]);if(0<f.length)for(s=0;s<f.length;s++)t&&e===f[s][l]||base.delRowData.call(d,f[s][l]);if("nested"===a.treeGridModel){if((n=jgrid.from.call(this,a.data).greater(c,i,{stype:"integer"}).select()).length)for(o in n)n.hasOwnProperty(o)&&(n[o][c]=parseInt(n[o][c],10)-r);if((n=jgrid.from.call(this,a.data).greater(h,i,{stype:"integer"}).select()).length)for(o in n)n.hasOwnProperty(o)&&(n[o][h]=parseInt(n[o][h],10)-r)}}}})},addChildNode:function(e,t,i,r){return this.each(function(){if(i){var n,o,s,a,l,d,c,h=this.p,u=$(this),f=base.getInd,p=h.treeIcons.minus+" tree-minus",g=t,m=h.treeReader.expanded_field,v=h.treeReader.leaf_field,b=h.treeReader.level_field,y=h.treeReader.parent_id_field,w=h.treeReader.left_field,x=h.treeReader.right_field,C=h.treeReader.loaded;void 0===r&&(r=!1),null==e&&(e=jgrid.randId());var S,k,D=f.call(u,t);if(d=!1,null==t||""===t)g=t=null,n="last",a=h.tree_root_level;else{n="after",o=h._index[t],s=h.data[o],t=s[h.localReader.id],l=f.call(u,t),a=parseInt(s[b],10)+1;var T,A,N,_=base.getFullTreeNode.call(u,s);if(_.length)for(T=0;T<_.length;T++)N=_[T][h.localReader.id],l<(A=f.call(u,N))&&(l=A,g=N);s[v]&&(d=!0,s[m]=!0,$(this.rows[D]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(h.treeIcons.leaf+" tree-leaf").addClass(h.treeIcons.commonIconClass).addClass(p),h.data[o][v]=!1,s[C]=!0)}if(void 0===i[m]&&(i[m]=!1),void 0===i[C]&&(i[C]=!1),i[b]=a,void 0===i[v]&&(i[v]=!0),"adjacency"===h.treeGridModel&&(i[y]=t),"nested"===h.treeGridModel)if(null!==t){if(c=parseInt(s[x],10),(S=jgrid.from.call(this,h.data).greaterOrEquals(x,c,{stype:"integer"}).select()).length)for(k in S)S.hasOwnProperty(k)&&(S[k][w]=S[k][w]>c?parseInt(S[k][w],10)+2:S[k][w],S[k][x]=S[k][x]>=c?parseInt(S[k][x],10)+2:S[k][x]);i[w]=c,i[x]=c+1}else{if(c=parseInt(base.getCol.call(u,x,!1,"max"),10),(S=jgrid.from.call(this,h.data).greater(w,c,{stype:"integer"}).select()).length)for(k in S)S.hasOwnProperty(k)&&(S[k][w]=parseInt(S[k][w],10)+2);if((S=jgrid.from.call(this,h.data).greater(x,c,{stype:"integer"}).select()).length)for(k in S)S.hasOwnProperty(k)&&(S[k][x]=parseInt(S[k][x],10)+2);i[w]=c+1,i[x]=c+2}(null===t||base.isNodeLoaded.call(u,s)||d)&&base.addRowData.call(u,e,i,n,g),s&&!s[m]&&r&&$(this.rows[D]).find("div.treeclick").click()}})}});var namespace=".jqGrid",mouseDown="mousedown",mouseMove="mousemove",mouseUp="mouseup",getMouseCoordinates=function(e){var t=e.originalEvent.targetTouches;return t?{x:(t=t[0]).pageX,y:t.pageY}:{x:e.pageX,y:e.pageY}},jqDnR={drag:function(e){var t=e.data,i=t.e,r=t.dnr,n=t.ar,o=t.dnrAr,s=getMouseCoordinates(e);return"move"===r.k?i.css({left:r.X+s.x-r.pX,top:r.Y+s.y-r.pY}):(i.css({width:Math.max(s.x-r.pX+r.W,0),height:Math.max(s.y-r.pY+r.H,0)}),o&&n.css({width:Math.max(s.x-o.pX+o.W,0),height:Math.max(s.y-o.pY+o.H,0)})),!1},stop:function(){$(document).off(mouseMove,jqDnR.drag).off(mouseUp,jqDnR.stop)}},init=function(e,t,i,r){return e.each(function(){(t=t?$(t,e):e).on(mouseDown,{e:e,k:i},function(e){var t,i,n,o,s,a,l=e.data,d={},c=function(e,t){return parseInt(e.css(t),10)||!1},h=function(e){return c(i,e)},u=function(e){return c(o,e)},f=getMouseCoordinates(e);if(!$(e.target).hasClass("ui-jqdialog-titlebar-close")&&!$(e.target).parent().hasClass("ui-jqdialog-titlebar-close")){if(i=l.e,o=!!r&&$(r),"relative"!==i.css("position"))try{i.position(d)}catch(e){}if(n={X:d.left||h("left")||0,Y:d.top||h("top")||0,W:h("width")||i[0].scrollWidth||0,H:h("height")||i[0].scrollHeight||0,pX:f.x,pY:f.y,k:l.k},s=!(!o||"move"===l.k)&&{X:d.left||u("left")||0,Y:d.top||u("top")||0,W:o[0].offsetWidth||u("width")||0,H:o[0].offsetHeight||u("height")||0,pX:f.x,pY:f.y,k:l.k},0<(t=i.find("input.hasDatepicker")).length)try{t.datepicker("hide")}catch(e){}return a={e:i,dnr:n,ar:o,dnrAr:s},$(document).on(mouseMove,a,jqDnR.drag),$(document).on(mouseUp,a,jqDnR.stop),!1}})})};window.PointerEvent?(mouseDown+=namespace+" pointerdown"+namespace,mouseMove+=namespace+" pointermove"+namespace,mouseUp+=namespace+" pointerup"+namespace):window.MSPointerEvent?(mouseDown+=namespace+" mspointerdown"+namespace,mouseMove+=namespace+" mspointermove"+namespace,mouseUp+=namespace+" mspointerup"):(mouseDown+=namespace+" touchstart"+namespace,mouseMove+=namespace+" touchmove"+namespace,mouseUp+=namespace+" touchend"+namespace),$.jqDnR=jqDnR,$.fn.jqDrag=function(e){return init(this,e,"move")},$.fn.jqResize=function(e,t){return init(this,e,"resize",t)};var jqmHashLength=0,jqmHash,createdModals=[],setFocusOnFirstVisibleInput=function(e){try{$(":input:visible",e.w).first().focus()}catch(e){}},setFocus=function(e){setFocusOnFirstVisibleInput(e)},keyOrMouseEventHandler=function(e){var t=jqmHash[createdModals[createdModals.length-1]],i=!$(e.target).parents(".jqmID"+t.s)[0],r=$(e.target).offset(),n=void 0!==e.pageX?e.pageX:r.left,o=void 0!==e.pageY?e.pageY:r.top,s=function(){var e=!1;return $(".jqmID"+t.s).each(function(){var t=$(this),i=t.offset();if(i.top<=o&&o<=i.top+t.height()&&i.left<=n&&n<=i.left+t.width())return!(e=!0)}),e};return!("mousedown"===e.type||!s())||("mousedown"===e.type&&i&&(s()&&(i=!1),i&&!$(e.target).is(":input")&&setFocusOnFirstVisibleInput(t)),!i)},bindOrUnbindEvents=function(e){$(document)[e]("keypress keydown mousedown",keyOrMouseEventHandler)},registerHideOrShow=function(e,t,i){return e.each(function(){var e=this._jqm;$(t).each(function(){this[i]||(this[i]=[],$(this).click(function(){var e,t,i,r=["jqmShow","jqmHide"];for(e=0;e<r.length;e++)for(i in this[t=r[e]])this[t].hasOwnProperty(i)&&jqmHash[this[t][i]]&&jqmHash[this[t][i]].w[t](this);return!1})),this[i].push(e)})})};$.fn.jqm=function(e){var t={overlay:50,closeoverlay:!1,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:!1,ajaxText:"",target:!1,modal:!1,toTop:!1,onShow:!1,onHide:!1,onLoad:!1};return this.each(function(){if(this._jqm)return jqmHash[this._jqm].c=$.extend({},jqmHash[this._jqm].c,e),jqmHash[this._jqm].c;jqmHashLength++,this._jqm=jqmHashLength,jqmHash[jqmHashLength]={c:$.extend(t,$.jqm.params,e),a:!1,w:$(this).addClass("jqmID"+jqmHashLength),s:jqmHashLength},t.trigger&&$(this).jqmAddTrigger(t.trigger)})},$.fn.jqmAddClose=function(e){return registerHideOrShow(this,e,"jqmHide")},$.fn.jqmAddTrigger=function(e){return registerHideOrShow(this,e,"jqmShow")},$.fn.jqmShow=function(e){return this.each(function(){$.jqm.open(this._jqm,e)})},$.fn.jqmHide=function(e){return this.each(function(){$.jqm.close(this._jqm,e)})},$.jqm={hash:{},open:function(e,t){var i,r,n,o,s,a=jqmHash[e],l=a.c,d=a.w.parent().offset(),c="."+l.closeClass,h=parseInt(a.w.css("z-index"),10);return h=0<h?h:3e3,i=$("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":h-1,opacity:l.overlay/100}),a.a||(a.t=t,a.a=!0,a.w.css("z-index",h),$(a.w[0].ownerDocument).data("ui-dialog-overlays")&&a.w.addClass("ui-dialog"),l.modal?(createdModals[0]||setTimeout(function(){bindOrUnbindEvents("bind")},1),createdModals.push(e)):0<l.overlay?l.closeoverlay&&a.w.jqmAddClose(i):i=!1,a.o=!!i&&i.addClass(l.overlayClass).prependTo("body"),l.ajax?(r=l.target||a.w,n=l.ajax,r="string"==typeof r?$(r,a.w):$(r),n="@"===n.substr(0,1)?$(t).attr(n.substring(1)):n,r.html(l.ajaxText).load(n,function(){l.onLoad&&l.onLoad.call(this,a),c&&a.w.jqmAddClose($(c,a.w)),setFocus(a)})):c&&a.w.jqmAddClose($(c,a.w)),l.toTop&&a.o&&(d=a.w.parent().offset(),o=parseFloat(a.w.css("left")||0),s=parseFloat(a.w.css("top")||0),a.w.before('<span id="jqmP'+a.w[0]._jqm+'"></span>').insertAfter(a.o),a.w.css({top:d.top+s,left:d.left+o})),l.onShow?l.onShow(a):a.w.show(),setFocus(a)),!1},close:function(e){var t=jqmHash[e];return t.a&&(t.a=!1,createdModals[0]&&(createdModals.pop(),createdModals[0]||bindOrUnbindEvents("unbind")),t.c.toTop&&t.o&&$("#jqmP"+t.w[0]._jqm).after(t.w).remove(),t.c.onHide?t.c.onHide(t):(t.w.hide(),t.o&&t.o.remove())),!1},params:{}},jqmHash=$.jqm.hash,$.fmatter=$.fmatter||{};var fmatter=$.fmatter,getOptionByName=function(e,t){var i=e.formatoptions||{};return i.hasOwnProperty(t)?i[t]:(e.editoptions||{})[t]},encodeAttr=function(e){return String(e).replace(/\'/g,"&#39;")},parseCheckboxOptions=function(e){var t,i,r=e.colModel||e.cm,n=!1!==r.title?" title='"+encodeAttr(e.colName||r.name)+"'":"",o=function(e){return getOptionByName(r,e)},s=o("checkedClass"),a=o("uncheckedClass"),l=o("value"),d="string"==typeof l&&l.split(":")[0]||"Yes",c="string"==typeof l&&l.split(":")[1]||"No",h=function(e){return"<i class='"+encodeAttr(e)+"'"+n+"></i>"},u=o("disabled");void 0===u&&(u=jgrid.formatter.checkbox.disabled);var f=base.getIconRes.call(this,"checkbox.checked"),p=base.getIconRes.call(this,"checkbox.checkedClasses"),g=base.getIconRes.call(this,"checkbox.unchecked");return!0===u&&(s||a||f||g)?(t=h(s||f),i=h(a||g),s=p||s||f):(t="<input type='checkbox' checked='checked'"+(n+=!(s="")===u?" disabled='disabled'":"")+" />",i="<input type='checkbox'"+n+" />"),{checkedClasses:s,checked:t,unchecked:i,yes:d,no:c}},yesObject={1:1,x:1,true:1,yes:1,y:1,on:1},noObject={0:1,false:1,no:1,n:1,off:1};$.extend(!0,jgrid,{formatter:{date:{parseRe:/[#%\\\/:_;.,\t\s\-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO"},reformatAfterEdit:!0,userLocalTime:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0,defaultValue:!1},idName:"id"},cmTemplate:{integerStr:{formatter:"integer",align:"right",sorttype:"integer",searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},integer:{formatter:"integer",align:"right",sorttype:"integer",convertOnSave:function(e){var t=e.newValue;return isNaN(t)?t:parseInt(t,10)},searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},numberStr:{formatter:"number",align:"right",sorttype:"number",searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},number:{formatter:"number",align:"right",sorttype:"number",convertOnSave:function(e){var t=e.newValue;return isNaN(t)?t:parseFloat(t)},searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},booleanCheckbox:{align:"center",formatter:"checkbox",sorttype:"boolean",edittype:"checkbox",editoptions:{value:"true:false",defaultValue:"false"},convertOnSave:function(e){var t=e.newValue,i=parseCheckboxOptions.call(this,e),r=String(t).toLowerCase();return yesObject[r]||r===i.yes.toLowerCase()?t=!0:(noObject[r]||r===i.no.toLowerCase())&&(t=!1),t},stype:"checkbox",searchoptions:{sopt:["eq"],value:"true:false"}},actions:function(){return{formatter:"actions",width:(null!=this.p&&(base.isInCommonIconClass.call(this,"fa")||base.isInCommonIconClass.call(this,"glyphicon"))?$(this).jqGrid("isBootstrapGuiStyle")?45:39:40)+(jgrid.cellWidth()?5:0),align:"center",label:"",autoResizable:!1,title:!1,frozen:!0,fixed:!0,hidedlg:!0,resizable:!1,sortable:!1,search:!1,editable:!1,viewable:!1}}}}),jgrid.cmTemplate.booleanCheckboxFa=jgrid.cmTemplate.booleanCheckbox,$.extend(fmatter,{isObject:function(e){return e&&("object"==typeof e||$.isFunction(e))||!1},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isValue:function(e){return this.isObject(e)||"string"==typeof e||this.isNumber(e)||"boolean"==typeof e},isEmpty:function(e){return!("string"!=typeof e&&this.isValue(e)||this.isValue(e)&&""!==$.trim(e).replace(/&nbsp;/gi,"").replace(/&#160;/gi,""))},NumberFormat:function(e,t){var i=fmatter.isNumber;if(i(e)||(e*=1),i(e)){var r,n=e<0,o=String(e),s=t.decimalSeparator||".";if(i(t.decimalPlaces)){var a=t.decimalPlaces;if(r=(o=String(Number(Math.round(e+"e"+a)+"e-"+a))).lastIndexOf("."),0<a)for(r<0?r=(o+=s).length-1:"."!==s&&(o=o.replace(".",s));o.length-1-r<a;)o+="0"}if(t.thousandsSeparator){var l=t.thousandsSeparator;r=-1<(r=o.lastIndexOf(s))?r:o.length;var d,c=void 0===t.decimalSeparator?"":o.substring(r),h=-1;for(d=r;0<d;d--)++h%3==0&&d!==r&&(!n||1<d)&&(c=l+c),c=o.charAt(d-1)+c;o=c}return o}return e}});var $FnFmatter=function(e,t,i,r,n){var o=t;i=$.extend({},getGridRes.call($(this),"formatter"),i);try{o=$.fn.fmatter[e].call(this,t,i,r,n)}catch(e){}return o};$.fn.fmatter=$FnFmatter,$FnFmatter.getCellBuilder=function(e,t,i){var r=null!=$.fn.fmatter[e]?$.fn.fmatter[e].getCellBuilder:null;return $.isFunction(r)?r.call(this,$.extend({},getGridRes.call($(this),"formatter"),t),i):null},$FnFmatter.defaultFormat=function(e,t){return fmatter.isValue(e)&&""!==e?e:t.defaultValue||"&#160;"};var defaultFormat=$FnFmatter.defaultFormat,formatCheckboxValue=function(e,t,i){if(void 0===e||fmatter.isEmpty(e)){var r=getOptionByName(i,"defaultValue");void 0===r&&(r=t.no),e=r}return e=String(e).toLowerCase(),yesObject[e]||e===t.yes.toLowerCase()?t.checked:t.unchecked};$FnFmatter.email=function(e,t){return fmatter.isEmpty(e)?defaultFormat(e,t):"<a href='mailto:"+encodeAttr(e)+"'>"+e+"</a>"},$FnFmatter.checkbox=function(e,t){var i=parseCheckboxOptions.call(this,t);return formatCheckboxValue(e,i,t.colModel)},$FnFmatter.checkbox.getCellBuilder=function(e){var t,i=e.colModel;return e.colName=e.colName||this.p.colNames[e.pos],t=parseCheckboxOptions.call(this,e),function(e){return formatCheckboxValue(e,t,i)}},$FnFmatter.checkbox.unformat=function(e,t,i){var r=parseCheckboxOptions.call(this,t),n=$(i);return(r.checkedClasses?jgrid.hasAllClasses(n.children("i,svg"),r.checkedClasses):n.children("input").is(":checked"))?r.yes:r.no},$FnFmatter.checkboxFontAwesome4=$FnFmatter.checkbox,$FnFmatter.checkboxFontAwesome4.getCellBuilder=$FnFmatter.checkbox.getCellBuilder,$FnFmatter.checkboxFontAwesome4.unformat=$FnFmatter.checkbox.unformat,$FnFmatter.link=function(e,t){var i=t.colModel,r="",n={target:t.target};return null!=i&&(n=$.extend({},n,i.formatoptions||{})),n.target&&(r="target="+n.target),fmatter.isEmpty(e)?defaultFormat(e,n):"<a "+r+" href='"+encodeAttr(e)+"'>"+e+"</a>"},$FnFmatter.showlink=function(e,t,i){var r,n,o,s=this,a=t.colModel,l={baseLinkUrl:t.baseLinkUrl,showAction:t.showAction,addParam:t.addParam||"",target:t.target,idName:t.idName,hrefDefaultValue:"#"},d="",c=function(r){return $.isFunction(r)?r.call(s,{cellValue:e,rowid:t.rowId,rowData:i,options:l}):r||""};return null!=a&&(l=$.extend({},l,a.formatoptions||{})),l.target&&(d="target="+c(l.target)),r=c(l.baseLinkUrl)+c(l.showAction),n=l.idName?encodeURIComponent(c(l.idName))+"="+encodeURIComponent(c(l.rowId)||t.rowId):"","object"==typeof(o=c(l.addParam))&&null!==o&&(o=(""!==n?"&":"")+$.param(o)),""==(r+=n||o?"?"+n+o:"")&&(r=c(l.hrefDefaultValue)),"string"==typeof e||fmatter.isNumber(e)||$.isFunction(l.cellValue)?"<a "+d+" href='"+encodeAttr(r)+"'>"+($.isFunction(l.cellValue)?c(l.cellValue):e)+"</a>":defaultFormat(e,l)},$FnFmatter.showlink.getCellBuilder=function(e){var t={baseLinkUrl:e.baseLinkUrl,showAction:e.showAction,addParam:e.addParam||"",target:e.target,idName:e.idName,hrefDefaultValue:"#"},i=e.colModel;return null!=i&&(t=$.extend({},t,i.formatoptions||{})),function(e,i,r){var n,o,s,a=this,l=i.rowId,d="",c=function(i){return $.isFunction(i)?i.call(a,{cellValue:e,rowid:l,rowData:r,options:t}):i||""};return t.target&&(d="target="+c(t.target)),n=c(t.baseLinkUrl)+c(t.showAction),o=t.idName?encodeURIComponent(c(t.idName))+"="+encodeURIComponent(c(l)||i.rowId):"","object"==typeof(s=c(t.addParam))&&null!==s&&(s=(""!==o?"&":"")+$.param(s)),""==(n+=o||s?"?"+o+s:"")&&(n=c(t.hrefDefaultValue)),"string"==typeof e||fmatter.isNumber(e)||$.isFunction(t.cellValue)?"<a "+d+" href='"+encodeAttr(n)+"'>"+($.isFunction(t.cellValue)?c(t.cellValue):e)+"</a>":defaultFormat(e,t)}},$FnFmatter.showlink.pageFinalization=function(e){var t,i,r,n=$(this),o=this.p,s=o.colModel[e],a=o.autoResizing.wrapperClassName,l=this.rows,d=l.length,c=function(e){var t=$(this).closest("tr.jqgrow>td"),i=t.parent(),r=t[0].cellIndex,s=o.colModel[r];if(0<i.length)return s.formatoptions.onClick.call(n[0],{iCol:r,iRow:i[0].rowIndex,rowid:i.attr("id"),cm:s,cmName:s.name,cellValue:$(this).text(),a:this,event:e})};if(null!=s.formatoptions&&$.isFunction(s.formatoptions.onClick))for(t=0;t<d;t++)i=l[t],$(i).hasClass("jqgrow")&&(r=i.cells[e],s.autoResizable&&null!=r&&$(r.firstChild).hasClass(a)&&(r=r.firstChild),null!=r&&$(r.firstChild).on("click",c))};var insertPrefixAndSuffix=function(e,t){return e=t.prefix?t.prefix+e:e,t.suffix?e+t.suffix:e},numberHelper=function(e,t,i){var r=t.colModel,n=$.extend({},t[i]);return null!=r&&(n=$.extend({},n,r.formatoptions||{})),fmatter.isEmpty(e)?insertPrefixAndSuffix(n.defaultValue,n):insertPrefixAndSuffix(fmatter.NumberFormat(e,n),n)};$FnFmatter.integer=function(e,t){return numberHelper(e,t,"integer")},$FnFmatter.number=function(e,t){return numberHelper(e,t,"number")},$FnFmatter.currency=function(e,t){return numberHelper(e,t,"currency")};var numberCellBuilder=function(e,t){var i=e.colModel,r=$.extend({},e[t]);null!=i&&(r=$.extend({},r,i.formatoptions||{}));var n=fmatter.NumberFormat,o=r.defaultValue?insertPrefixAndSuffix(r.defaultValue,r):"";return function(e){return fmatter.isEmpty(e)?o:insertPrefixAndSuffix(n(e,r),r)}};$FnFmatter.integer.getCellBuilder=function(e){return numberCellBuilder(e,"integer")},$FnFmatter.number.getCellBuilder=function(e){return numberCellBuilder(e,"number")},$FnFmatter.currency.getCellBuilder=function(e){return numberCellBuilder(e,"currency")},$FnFmatter.date=function(e,t,i,r){var n=t.colModel,o=$.extend({},t.date);return null!=n&&(o=$.extend({},o,n.formatoptions||{})),o.reformatAfterEdit||"edit"!==r?fmatter.isEmpty(e)?defaultFormat(e,o):jgrid.parseDate.call(this,o.srcformat,e,o.newformat,o):defaultFormat(e,o)},$FnFmatter.date.getCellBuilder=function(e,t){var i=$.extend({},e.date);null!=e.colModel&&(i=$.extend({},i,e.colModel.formatoptions||{}));var r=jgrid.parseDate,n=i.srcformat,o=i.newformat;return i.reformatAfterEdit||"edit"!==t?function(e){return fmatter.isEmpty(e)?defaultFormat(e,i):r.call(this,n,e,o,i)}:function(e){return defaultFormat(e,i)}},$FnFmatter.select=function(e,t){var i,r=[],n=t.colModel,o=$.extend({},n.editoptions||{},n.formatoptions||{}),s="function"==typeof o.value?o.value():o.value,a=o.separator||":",l=o.delimiter||";";if(s){var d,c=!0===o.multiple,h=[],u=function(e,t){if(0<t)return e};if(c&&(h=$.map(String(e).split(","),function(e){return $.trim(e)})),"string"==typeof s){var f,p,g=s.split(l);for(f=0;f<g.length;f++)if(2<(d=g[f].split(a)).length&&(d[1]=$.map(d,u).join(a)),p=$.trim(d[0]),o.defaultValue===p&&(i=d[1]),c)-1<$.inArray(p,h)&&r.push(d[1]);else if(p===$.trim(e)){r=[d[1]];break}}else fmatter.isObject(s)&&(i=s[o.defaultValue],r=c?$.map(h,function(e){return s[e]}):[void 0===s[e]?"":s[e]])}return""!==(e=r.join(", "))?e:void 0!==o.defaultValue?i:defaultFormat(e,o)},$FnFmatter.select.getCellBuilder=function(e){var t,i,r,n,o=e.colModel,s=$FnFmatter.defaultFormat,a=$.extend({},o.editoptions||{},o.formatoptions||{}),l="function"==typeof a.value?a.value():a.value,d=a.separator||":",c=a.delimiter||";",h=void 0!==a.defaultValue,u=!0===a.multiple,f={},p=function(e,t){if(0<t)return e};if("string"==typeof l)for(n=(r=l.split(c)).length-1;0<=n;n--)2<(i=r[n].split(d)).length&&(i[1]=$.map(i,p).join(d)),f[$.trim(i[0])]=i[1];else{if(!fmatter.isObject(l))return function(e){return e?String(e):s(e,a)};f=l}return h&&(t=f[a.defaultValue]),u?function(e){var i,r=[],n=$.map(String(e).split(","),function(e){return $.trim(e)});for(i=0;i<n.length;i++)e=n[i],f.hasOwnProperty(e)&&r.push(f[e]);return""!==(e=r.join(", "))?e:h?t:s(e,a)}:function(e){var i=f[String(e)];return""!==i&&void 0!==i?i:h?t:s(e,a)}},$FnFmatter.rowactions=function(e,t){var i,r,n,o,s=$(this).closest("tr.jqgrow>td"),a=s.parent(),l=a.attr("id"),d=$(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),c=$("#"+jgrid.jqID(d)),h=c[0],u=h.p,f=jgrid.getRelativeRect.call(h,a).top,p=u.colModel[s[0].cellIndex],g=$.extend(!0,{extraparam:{}},jgrid.actionsNav||{},u.actionsNavOptions||{},p.formatoptions||{});switch(void 0!==u.editOptions&&(g.editOptions=$.extend(!0,g.editOptions||{},u.editOptions)),void 0!==u.delOptions&&(g.delOptions=u.delOptions),a.hasClass("jqgrid-new-row")&&(g.extraparam[u.prmNames.oper]=u.prmNames.addoper),o={keys:g.keys,oneditfunc:g.onEdit,successfunc:g.onSuccess,url:g.url,extraparam:g.extraparam,aftersavefunc:g.afterSave,errorfunc:g.onError,afterrestorefunc:g.afterRestore,restoreAfterError:g.restoreAfterError,mtype:g.mtype},!u.multiselect&&l!==u.selrow||u.multiselect&&$.inArray(l,u.selarrrow)<0?c.jqGrid("setSelection",l,!0,e):jgrid.fullBoolFeedback.call(h,"onSelectRow","jqGridSelectRow",l,!0,e),t){case"edit":c.jqGrid("editRow",l,o);break;case"save":c.jqGrid("saveRow",l,o);break;case"cancel":c.jqGrid("restoreRow",l,g.afterRestore);break;case"del":g.delOptions=g.delOptions||{},void 0===g.delOptions.top&&(g.delOptions.top=f),c.jqGrid("delGridRow",l,g.delOptions);break;case"formedit":g.editOptions=g.editOptions||{},void 0===g.editOptions.top&&(g.editOptions.top=f,g.editOptions.recreateForm=!0),c.jqGrid("editGridRow",l,g.editOptions);break;default:if(null!=g.custom&&0<g.custom.length)for(r=g.custom.length,i=0;i<r;i++)(n=g.custom[i]).action===t&&$.isFunction(n.onClick)&&n.onClick.call(h,{rowid:l,event:e,action:t,options:n})}return e.stopPropagation&&e.stopPropagation(),!1},$FnFmatter.actions=function(e,t,i,r){var n,o,s,a=t.rowId,l="",d=$(this),c={},h=getGridRes.call(d,"edit")||{},u=$.extend({editbutton:!0,delbutton:!0,editformbutton:!1,commonIconClass:"ui-icon",editicon:"ui-icon-pencil",delicon:"ui-icon-trash",saveicon:"ui-icon-disk",cancelicon:"ui-icon-cancel",savetitle:h.bSubmit||"",canceltitle:h.bCancel||""},getGridRes.call(d,"nav")||{},jgrid.nav||{},this.p.navOptions||{},getGridRes.call(d,"actionsNav")||{},jgrid.actionsNav||{},this.p.actionsNavOptions||{},(t.colModel||{}).formatoptions||{}),f=[{action:"edit",actionName:"formedit",display:u.editformbutton},{action:"edit",display:!u.editformbutton&&u.editbutton},{action:"del",idPrefix:"Delete",display:u.delbutton},{action:"save",display:u.editformbutton||u.editbutton,hidden:!0},{action:"cancel",display:u.editformbutton||u.editbutton,hidden:!0}],p=function(e){var t,i=e.action,r=e.actionName||i,n=void 0!==e.idPrefix?e.idPrefix:i.charAt(0).toUpperCase()+i.substring(1);return"<div title='"+encodeAttr(u[i+"title"])+(e.hidden?"' style='display:none;":"")+"' class='"+encodeAttr(d.jqGrid("getGuiStyles","actionsButton","ui-pg-div ui-inline-"+i))+"' "+(null!==n?"id='j"+encodeAttr(n+"Button_"+a):"")+"' data-jqactionname=\""+r+'" '+(e.noHovering?"":'\' data-jqhovering="1" ')+"><span class='"+encodeAttr((t=i,jgrid.mergeCssClasses(u.commonIconClass,u[t+"icon"])))+"'></span></div>"},g=null!=u.custom?u.custom.length-1:-1;if(void 0===a||fmatter.isEmpty(a))return"";if($.isFunction(u.isDisplayButtons))try{c=u.isDisplayButtons.call(this,u,i,r)||{}}catch(e){}for(;0<=g;)f["first"===(s=u.custom[g--]).position?"unshift":"push"](s);for(n=0,g=f.length;n<g;n++)!1!==(o=$.extend({},f[n],c[f[n].action]||{})).display&&(l+=p(o));return"<div class='"+encodeAttr(d.jqGrid("getGuiStyles","actionsDiv","ui-jqgrid-actions"))+"'>"+l+"</div>"},$FnFmatter.actions.pageFinalization=function(e){var t,i,r,n,o=$(this),s=this.p,a=s.colModel[e],l=s.autoResizing.wrapperClassName,d=o.jqGrid("getGuiStyles","states.hover"),c=this.rows,h=this.grid.fbRows,u=c.length,f=(n=a.name,function(e,t){var i,r,a=0,l=s.colModel,d=l.length,c=s.iColByName[n];for(r=0;r<d&&!0===l[r].frozen;r++)a=r;null!=t&&null!=t.cells&&(i=$(t.cells[c]).children(".ui-jqgrid-actions"),l[c].frozen&&s.frozenColumns&&c<=a&&(i=i.add($(o[0].grid.fbRows[t.rowIndex].cells[c]).children(".ui-jqgrid-actions"))),e?(i.find(">.ui-inline-edit,>.ui-inline-del").show(),i.find(">.ui-inline-save,>.ui-inline-cancel").hide()):(i.find(">.ui-inline-edit,>.ui-inline-del").hide(),i.find(">.ui-inline-save,>.ui-inline-cancel").show()))}),p=function(e,t){var i=o.jqGrid("getGridRowById",t);return f(!0,i),!1},g=function(e,t){var i=o.jqGrid("getGridRowById",t);return f(!1,i),!1},m=function(e){1===$(e.target).closest("div.ui-pg-div").data("jqhovering")&&$(this).addClass(d)},v=function(e){1===$(e.target).closest("div.ui-pg-div").data("jqhovering")&&$(this).removeClass(d)},b=function(e){return $FnFmatter.rowactions.call(this,e,$(e.target).closest("div.ui-pg-div").data("jqactionname"))},y=function(e,t){t&&null!=e&&$(e.firstChild).hasClass(l)&&(e=e.firstChild),null!=e&&($(e.firstChild).on("click",b),$(e.firstChild).children("div.ui-pg-div").on("mouseover",m).on("mouseout",v))},w=(r=a.name,function(e,t){var i=s.iColByName[r];y(t.tr.cells[i],s.colModel[i].autoResizable)});for(null!=a.formatoptions&&a.formatoptions.editformbutton||(o.off("jqGridInlineAfterRestoreRow.jqGridFormatter jqGridInlineAfterSaveRow.jqGridFormatter",p),o.on("jqGridInlineAfterRestoreRow.jqGridFormatter jqGridInlineAfterSaveRow.jqGridFormatter",p),o.off("jqGridInlineEditRow.jqGridFormatter",g),o.on("jqGridInlineEditRow.jqGridFormatter",g),o.off("jqGridAfterAddRow.jqGridFormatter",w),o.on("jqGridAfterAddRow.jqGridFormatter",w)),t=0;t<u;t++)i=c[t],$(i).hasClass("jqgrow")&&(y(i.cells[e],a.autoResizable),null!=h&&null!=h[t]&&y(h[t].cells[e],a.autoResizable))},$.unformat=function(e,t,i,r){var n,o=t.colModel,s=o.formatter,a=this.p,l=o.formatoptions||{},d=o.unformat||$FnFmatter[s]&&$FnFmatter[s].unformat;if(e instanceof jQuery&&0<e.length&&(e=e[0]),a.treeGrid&&null!=e&&$(e.firstChild).hasClass("tree-wrap")&&($(e.lastChild).hasClass("cell-wrapper")||$(e.lastChild).hasClass("cell-wrapperleaf"))&&(e=e.lastChild),o.autoResizable&&null!=e&&$(e.firstChild).hasClass(a.autoResizing.wrapperClassName)&&(e=e.firstChild),void 0!==d&&$.isFunction(d))n=d.call(this,$(e).text(),t,e);else if(void 0!==s&&"string"==typeof s){var c=$(this),h=function(e,t){return void 0!==l[t]?l[t]:getGridRes.call(c,"formatter."+e+"."+t)},u=function(e,t){var i=h(e,"thousandsSeparator").replace(/([\.\*\_\'\(\)\{\}\+\?\\])/g,"\\$1");return t.replace(new RegExp(i,"g"),"")};switch(s){case"integer":n=u("integer",$(e).text());break;case"number":n=u("number",$(e).text()).replace(h("number","decimalSeparator"),".");break;case"currency":n=$(e).text();var f=h("currency","prefix"),p=h("currency","suffix");f&&f.length&&(n=n.substr(f.length)),p&&p.length&&(n=n.substr(0,n.length-p.length)),n=u("number",n).replace(h("number","decimalSeparator"),".");break;case"checkbox":n=$FnFmatter.checkbox.unformat(e,t,e);break;case"select":n=$.unformat.select(e,t,i,r);break;case"actions":return"";default:n=$(e).text()}}return void 0!==n?n:!0===r?$(e).text():jgrid.htmlDecode($(e).html())},$.unformat.select=function(e,t,i,r){var n=[],o=$(e).text(),s=t.colModel;if(!0===r)return o;var a=$.extend({},s.editoptions||{},s.formatoptions||{}),l=void 0===a.separator?":":a.separator,d=void 0===a.delimiter?";":a.delimiter;if(a.value){var c,h="function"==typeof a.value?a.value():a.value,u=!0===a.multiple,f=[],p=function(e,t){if(0<t)return e};if(u&&(f=o.split(","),f=$.map(f,function(e){return $.trim(e)})),"string"==typeof h){var g,m=h.split(d),v=0;for(g=0;g<m.length;g++)if(2<(c=m[g].split(l)).length&&(c[1]=$.map(c,p).join(l)),u)-1<$.inArray($.trim(c[1]),f)&&(n[v]=c[0],v++);else if($.trim(c[1])===$.trim(o)){n[0]=c[0];break}}else(fmatter.isObject(h)||$.isArray(h))&&(u||(f[0]=o),n=$.map(f,function(e){var t;if($.each(h,function(i,r){if(r===e)return t=i,!1}),void 0!==t)return t}));return n.join(", ")}return o||""},$.unformat.date=function(e,t){var i=$.extend(!0,{},getGridRes.call($(this),"formatter.date"),jgrid.formatter.date||{},t.formatoptions||{});return fmatter.isEmpty(e)?"":jgrid.parseDate.call(this,i.newformat,e,i.srcformat,i)}})}).call(exports,__webpack_require__("7t+N"))},Nnp9:function(e,t,i){var r,n,o,s;s=function(e){return e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t}},n=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},RInU:function(e,t,i){var r;r=function(){return function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="dist/",t(0)}([function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},o=r((r(i(1)),i(6))),s=r(i(7)),a=r(i(8)),l=r(i(9)),d=r(i(10)),c=r(i(11)),h=r(i(14)),u=[],f=!1,p={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},g=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(f=!0),f)return u=(0,c.default)(u,p),(0,d.default)(u,p.once),u},m=function(){u=(0,h.default)(),g()};e.exports={init:function(e){p=n(p,e),u=(0,h.default)();var t=document.all&&!window.atob;return function(e){return!0===e||"mobile"===e&&l.default.mobile()||"phone"===e&&l.default.phone()||"tablet"===e&&l.default.tablet()||"function"==typeof e&&!0===e()}(p.disable)||t?void u.forEach(function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")}):(document.querySelector("body").setAttribute("data-aos-easing",p.easing),document.querySelector("body").setAttribute("data-aos-duration",p.duration),document.querySelector("body").setAttribute("data-aos-delay",p.delay),"DOMContentLoaded"===p.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?g(!0):"load"===p.startEvent?window.addEventListener(p.startEvent,function(){g(!0)}):document.addEventListener(p.startEvent,function(){g(!0)}),window.addEventListener("resize",(0,s.default)(g,p.debounceDelay,!0)),window.addEventListener("orientationchange",(0,s.default)(g,p.debounceDelay,!0)),window.addEventListener("scroll",(0,o.default)(function(){(0,d.default)(u,p.once)},p.throttleDelay)),p.disableMutationObserver||(0,a.default)("[data-aos]",m),u)},refresh:g,refreshHard:m}},function(e,t){},,,,,function(e,t){(function(t){"use strict";function i(e,t,i){function n(t){var i=h,r=u;return h=u=void 0,v=t,p=e.apply(r,i)}function s(e){var i=e-m;return void 0===m||i>=t||i<0||C&&e-v>=f}function l(){var e=x();return s(e)?d(e):void(g=setTimeout(l,function(e){var i=t-(e-m);return C?w(i,f-(e-v)):i}(e)))}function d(e){return g=void 0,S&&h?n(e):(h=u=void 0,p)}function c(){var e=x(),i=s(e);if(h=arguments,u=this,m=e,i){if(void 0===g)return function(e){return v=e,g=setTimeout(l,t),b?n(e):p}(m);if(C)return g=setTimeout(l,t),n(m)}return void 0===g&&(g=setTimeout(l,t)),p}var h,u,f,p,g,m,v=0,b=!1,C=!1,S=!0;if("function"!=typeof e)throw new TypeError(a);return t=o(t)||0,r(i)&&(b=!!i.leading,f=(C="maxWait"in i)?y(o(i.maxWait)||0,t):f,S="trailing"in i?!!i.trailing:S),c.cancel=function(){void 0!==g&&clearTimeout(g),v=0,h=m=u=g=void 0},c.flush=function(){return void 0===g?p:d(x())},c}function r(e){var t=void 0===e?"undefined":s(e);return!!e&&("object"==t||"function"==t)}function n(e){return"symbol"==(void 0===e?"undefined":s(e))||function(e){return!!e&&"object"==(void 0===e?"undefined":s(e))}(e)&&b.call(e)==d}function o(e){if("number"==typeof e)return e;if(n(e))return l;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var i=u.test(e);return i||f.test(e)?p(e.slice(2),i?2:8):h.test(e)?l:+e}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a="Expected a function",l=NaN,d="[object Symbol]",c=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt,g="object"==(void 0===t?"undefined":s(t))&&t&&t.Object===Object&&t,m="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,v=g||m||Function("return this")(),b=Object.prototype.toString,y=Math.max,w=Math.min,x=function(){return v.Date.now()};e.exports=function(e,t,n){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError(a);return r(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),i(e,t,{leading:o,maxWait:t,trailing:s})}}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";function i(e){var t=void 0===e?"undefined":o(e);return!!e&&("object"==t||"function"==t)}function r(e){return"symbol"==(void 0===e?"undefined":o(e))||function(e){return!!e&&"object"==(void 0===e?"undefined":o(e))}(e)&&v.call(e)==l}function n(e){if("number"==typeof e)return e;if(r(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var n=h.test(e);return n||u.test(e)?f(e.slice(2),n?2:8):c.test(e)?a:+e}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s="Expected a function",a=NaN,l="[object Symbol]",d=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=parseInt,p="object"==(void 0===t?"undefined":o(t))&&t&&t.Object===Object&&t,g="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,m=p||g||Function("return this")(),v=Object.prototype.toString,b=Math.max,y=Math.min,w=function(){return m.Date.now()};e.exports=function(e,t,r){function o(t){var i=h,r=u;return h=u=void 0,v=t,p=e.apply(r,i)}function a(e){var i=e-m;return void 0===m||i>=t||i<0||C&&e-v>=f}function l(){var e=w();return a(e)?d(e):void(g=setTimeout(l,function(e){var i=t-(e-m);return C?y(i,f-(e-v)):i}(e)))}function d(e){return g=void 0,S&&h?o(e):(h=u=void 0,p)}function c(){var e=w(),i=a(e);if(h=arguments,u=this,m=e,i){if(void 0===g)return function(e){return v=e,g=setTimeout(l,t),x?o(e):p}(m);if(C)return g=setTimeout(l,t),o(m)}return void 0===g&&(g=setTimeout(l,t)),p}var h,u,f,p,g,m,v=0,x=!1,C=!1,S=!0;if("function"!=typeof e)throw new TypeError(s);return t=n(t)||0,i(r)&&(x=!!r.leading,f=(C="maxWait"in r)?b(n(r.maxWait)||0,t):f,S="trailing"in r?!!r.trailing:S),c.cancel=function(){void 0!==g&&clearTimeout(g),v=0,h=m=u=g=void 0},c.flush=function(){return void 0===g?p:d(w())},c}}).call(t,function(){return this}())},function(e,t){"use strict";function i(e){e&&e.forEach(function(e){var t=Array.prototype.slice.call(e.addedNodes),i=Array.prototype.slice.call(e.removedNodes);if(function e(t){var i=void 0,r=void 0;for(i=0;i<t.length;i+=1){if((r=t[i]).dataset&&r.dataset.aos)return!0;if(r.children&&e(r.children))return!0}return!1}(t.concat(i)))return r()})}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){};t.default=function(e,t){var n=window.document,o=new(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)(i);r=t,o.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}},function(e,t){"use strict";function i(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),n=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,o=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"phone",value:function(){var e=i();return!(!n.test(e)&&!o.test(e.substr(0,4)))}},{key:"mobile",value:function(){var e=i();return!(!s.test(e)&&!a.test(e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),e}();t.default=new l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var i=window.pageYOffset,r=window.innerHeight;e.forEach(function(e,n){!function(e,t,i){var r=e.node.getAttribute("data-aos-once");t>e.position?e.node.classList.add("aos-animate"):void 0!==r&&("false"===r||!i&&"true"!==r)&&e.node.classList.remove("aos-animate")}(e,r+i,t)})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(i(12));t.default=function(e,t){return e.forEach(function(e,i){e.node.classList.add("aos-init"),e.position=(0,r.default)(e.node,t.offset)}),e}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(i(13));t.default=function(e,t){var i=0,n=0,o=window.innerHeight,s={offset:e.getAttribute("data-aos-offset"),anchor:e.getAttribute("data-aos-anchor"),anchorPlacement:e.getAttribute("data-aos-anchor-placement")};switch(s.offset&&!isNaN(s.offset)&&(n=parseInt(s.offset)),s.anchor&&document.querySelectorAll(s.anchor)&&(e=document.querySelectorAll(s.anchor)[0]),i=(0,r.default)(e).top,s.anchorPlacement){case"top-bottom":break;case"center-bottom":i+=e.offsetHeight/2;break;case"bottom-bottom":i+=e.offsetHeight;break;case"top-center":i+=o/2;break;case"bottom-center":i+=o/2+e.offsetHeight;break;case"center-center":i+=o/2+e.offsetHeight/2;break;case"top-top":i+=o;break;case"bottom-top":i+=e.offsetHeight+o;break;case"center-top":i+=e.offsetHeight/2+o}return s.anchorPlacement||s.offset||isNaN(t)||(n=t),i+n}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=0,i=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-("BODY"!=e.tagName?e.scrollLeft:0),i+=e.offsetTop-("BODY"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:i,left:t}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return e=e||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(e,function(e){return{node:e}})}}])},e.exports=r()},Rl6D:function(e,t,i){var r,n,o,s;s=function(e){return e.fn.scrollParent=function(t){var i=this.css("position"),r="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return(!r||"static"!==t.css("position"))&&n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:e(this[0].ownerDocument||document)}},n=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},SDNg:function(e,t,i){var r,n,o,s;s=function(e){var t=/ui-corner-([a-z]){2,6}/g;return e.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,i=[];e.each(this.options.items,function(r,n){var o,s={};if(n)return"controlgroupLabel"===r?((o=t.element.find(n)).each(function(){var t=e(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),t._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(o.get()))):void(e.fn[r]&&(s=t["_"+r+"Options"]?t["_"+r+"Options"]("middle"):{classes:{}},t.element.find(n).each(function(){var n=e(this),o=n[r]("instance"),a=e.widget.extend({},s);if("button"!==r||!n.parent(".ui-spinner").length){o||(o=n[r]()[r]("instance")),o&&(a.classes=t._resolveClassesValues(a.classes,o)),n[r](a);var l=n[r]("widget");e.data(l[0],"ui-controlgroup-data",o||n[r]("instance")),i.push(l[0])}})))}),this.childWidgets=e(e.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var i=e(this).data("ui-controlgroup-data");i&&i[t]&&i[t]()})},_updateCornerClass:function(e,t){var i=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(e,null,i)},_buildSimpleOptions:function(e,t){var i="vertical"===this.options.direction,r={classes:{}};return r.classes[t]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[e],r},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:!!t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(i,r){var n={};return e.each(i,function(o){var s=r.options.classes[o]||"";s=e.trim(s.replace(t,"")),n[o]=(s+" "+i[o]).replace(/\s+/g," ")}),n},_setOption:function(e,t){"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"!==e?this.refresh():this._callChildMethod(t?"disable":"enable")},refresh:function(){var t,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),t=this.childWidgets,this.options.onlyVisible&&(t=t.filter(":visible")),t.length&&(e.each(["first","last"],function(e,r){var n=t[r]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var o=i["_"+n.widgetName+"Options"](1===t.length?"only":r);o.classes=i._resolveClassesValues(o.classes,n),n.element[n.widgetName](o)}else i._updateCornerClass(t[r](),r)}),this._callChildMethod("refresh"))}})},n=[i("7t+N"),i("z1kw")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},UKit:function(e,t,i){var r,n,o,s;s=function(e){return function(e){"use strict";var t=e.tablesorter={version:"2.31.0",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:!0,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,null:0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(i,r){if(i&&i.tHead&&0!==i.tBodies.length&&!0!==i.hasInitialized){var n,o="",s=e(i),a=e.metadata;i.hasInitialized=!1,i.isProcessing=!0,i.config=r,e.data(i,"tablesorter",r),t.debug(r,"core")&&(console[console.group?"group":"log"]("Initializing tablesorter v"+t.version),e.data(i,"startoveralltimer",new Date)),r.supportsDataObject=((n=e.fn.jquery.split("."))[0]=parseInt(n[0],10),n[0]>1||1===n[0]&&parseInt(n[1],10)>=4),r.emptyTo=r.emptyTo.toLowerCase(),r.stringTo=r.stringTo.toLowerCase(),r.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(s.attr("class"))||(o=""!==r.theme?" tablesorter-"+r.theme:""),r.namespace?r.namespace="."+r.namespace.replace(t.regex.nonWord,""):r.namespace=".tablesorter"+Math.random().toString(16).slice(2),r.table=i,r.$table=s.addClass(t.css.table+" "+r.tableClass+o+" "+r.namespace.slice(1)).attr("role","grid"),r.$headers=s.find(r.selectorHeaders),r.$table.children().children("tr").attr("role","row"),r.$tbodies=s.children("tbody:not(."+r.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),r.$table.children("caption").length&&((o=r.$table.children("caption")[0]).id||(o.id=r.namespace.slice(1)+"caption"),r.$table.attr("aria-labelledby",o.id)),r.widgetInit={},r.textExtraction=r.$table.attr("data-text-extraction")||r.textExtraction||"basic",t.buildHeaders(r),t.fixColumnWidth(i),t.addWidgetFromClass(i),t.applyWidgetOptions(i),t.setupParsers(r),r.totalRows=0,r.debug&&t.validateOptions(r),r.delayInit||t.buildCache(r),t.bindEvents(i,r.$headers,!0),t.bindMethods(r),r.supportsDataObject&&void 0!==s.data().sortlist?r.sortList=s.data().sortlist:a&&s.metadata()&&s.metadata().sortlist&&(r.sortList=s.metadata().sortlist),t.applyWidget(i,!0),r.sortList.length>0?t.sortOn(r,r.sortList,{},!r.initWidgets):(t.setHeadersCss(r),r.initWidgets&&t.applyWidget(i,!1)),r.showProcessing&&s.unbind("sortBegin"+r.namespace+" sortEnd"+r.namespace).bind("sortBegin"+r.namespace+" sortEnd"+r.namespace,function(e){clearTimeout(r.timerProcessing),t.isProcessing(i),"sortBegin"===e.type&&(r.timerProcessing=setTimeout(function(){t.isProcessing(i,!0)},500))}),i.hasInitialized=!0,i.isProcessing=!1,t.debug(r,"core")&&(console.log("Overall initialization time:"+t.benchmark(e.data(i,"startoveralltimer"))),t.debug(r,"core")&&console.groupEnd&&console.groupEnd()),s.triggerHandler("tablesorter-initialized",i),"function"==typeof r.initialized&&r.initialized(i)}else t.debug(r,"core")&&(i.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",i))},bindMethods:function(i){var r=i.$table,n=i.namespace,o="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(n+" ");r.unbind(o.replace(t.regex.spaces," ")).bind("sortReset"+n,function(e,i){e.stopPropagation(),t.sortReset(this.config,function(e){e.isApplyingWidgets?setTimeout(function(){t.applyWidget(e,"",i)},100):t.applyWidget(e,"",i)})}).bind("updateAll"+n,function(e,i,r){e.stopPropagation(),t.updateAll(this.config,i,r)}).bind("update"+n+" updateRows"+n,function(e,i,r){e.stopPropagation(),t.update(this.config,i,r)}).bind("updateHeaders"+n,function(e,i){e.stopPropagation(),t.updateHeaders(this.config,i)}).bind("updateCell"+n,function(e,i,r,n){e.stopPropagation(),t.updateCell(this.config,i,r,n)}).bind("addRows"+n,function(e,i,r,n){e.stopPropagation(),t.addRows(this.config,i,r,n)}).bind("updateComplete"+n,function(){this.isUpdating=!1}).bind("sorton"+n,function(e,i,r,n){e.stopPropagation(),t.sortOn(this.config,i,r,n)}).bind("appendCache"+n,function(i,r,n){i.stopPropagation(),t.appendCache(this.config,n),e.isFunction(r)&&r(this)}).bind("updateCache"+n,function(e,i,r){e.stopPropagation(),t.updateCache(this.config,i,r)}).bind("applyWidgetId"+n,function(e,i){e.stopPropagation(),t.applyWidgetId(this,i)}).bind("applyWidgets"+n,function(e,i){e.stopPropagation(),t.applyWidget(this,!1,i)}).bind("refreshWidgets"+n,function(e,i,r){e.stopPropagation(),t.refreshWidgets(this,i,r)}).bind("removeWidget"+n,function(e,i,r){e.stopPropagation(),t.removeWidget(this,i,r)}).bind("destroy"+n,function(e,i,r){e.stopPropagation(),t.destroy(this,i,r)}).bind("resetToLoadState"+n,function(r){r.stopPropagation(),t.removeWidget(this,!0,!1);var n=e.extend(!0,{},i.originalSettings);(i=e.extend(!0,{},t.defaults,n)).originalSettings=n,this.hasInitialized=!1,t.setup(this,i)})},bindEvents:function(i,r,n){var o,s=(i=e(i)[0]).config,a=s.namespace,l=null;!0!==n&&(r.addClass(a.slice(1)+"_extra_headers"),(o=t.getClosest(r,"table")).length&&"TABLE"===o[0].nodeName&&o[0]!==i&&e(o[0]).addClass(a.slice(1)+"_extra_table")),o=(s.pointerDown+" "+s.pointerUp+" "+s.pointerClick+" sort keyup ").replace(t.regex.spaces," ").split(" ").join(a+" "),r.find(s.selectorSort).add(r.filter(s.selectorSort)).unbind(o).bind(o,function(i,r){var n,o,a,d=e(i.target),c=" "+i.type+" ";if(!(1!==(i.which||i.button)&&!c.match(" "+s.pointerClick+" | sort | keyup ")||" keyup "===c&&i.which!==t.keyCodes.enter||c.match(" "+s.pointerClick+" ")&&void 0!==i.which||c.match(" "+s.pointerUp+" ")&&l!==i.target&&!0!==r)){if(c.match(" "+s.pointerDown+" "))return l=i.target,void("1"===(a=d.jquery.split("."))[0]&&a[1]<4&&i.preventDefault());if(l=null,n=t.getClosest(e(this),"."+t.css.header),t.regex.formElements.test(i.target.nodeName)||d.hasClass(s.cssNoSort)||d.parents("."+s.cssNoSort).length>0||n.hasClass("sorter-false")||d.parents("button").length>0)return!s.cancelSelection;s.delayInit&&t.isEmptyObject(s.cache)&&t.buildCache(s),s.last.clickedIndex=n.attr("data-column")||n.index(),(o=s.$headerIndexed[s.last.clickedIndex][0])&&!o.sortDisabled&&t.initSort(s,o,i)}}),s.cancelSelection&&r.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(i){var r,n,o,s;for(i.headerList=[],i.headerContent=[],i.sortVars=[],t.debug(i,"core")&&(o=new Date),i.columns=t.computeColumnIndex(i.$table.children("thead, tfoot").children("tr")),n=i.cssIcon?'<i class="'+(i.cssIcon===t.css.icon?t.css.icon:i.cssIcon+" "+t.css.icon)+'"></i>':"",i.$headers=e(e.map(i.$table.find(i.selectorHeaders),function(r,o){var s,a,l,d,c,h=e(r);if(!t.getClosest(h,"tr").hasClass(i.cssIgnoreRow))return/(th|td)/i.test(r.nodeName)||(c=t.getClosest(h,"th, td"),h.attr("data-column",c.attr("data-column"))),s=t.getColumnData(i.table,i.headers,o,!0),i.headerContent[o]=h.html(),""===i.headerTemplate||h.find("."+t.css.headerIn).length||(d=i.headerTemplate.replace(t.regex.templateContent,h.html()).replace(t.regex.templateIcon,h.find("."+t.css.icon).length?"":n),i.onRenderTemplate&&(a=i.onRenderTemplate.apply(h,[o,d]))&&"string"==typeof a&&(d=a),h.html('<div class="'+t.css.headerIn+'">'+d+"</div>")),i.onRenderHeader&&i.onRenderHeader.apply(h,[o,i,i.$table]),l=parseInt(h.attr("data-column"),10),r.column=l,c=t.getOrder(t.getData(h,s,"sortInitialOrder")||i.sortInitialOrder),i.sortVars[l]={count:-1,order:c?i.sortReset?[1,0,2]:[1,0]:i.sortReset?[0,1,2]:[0,1],lockedOrder:!1,sortedBy:""},void 0!==(c=t.getData(h,s,"lockedOrder")||!1)&&!1!==c&&(i.sortVars[l].lockedOrder=!0,i.sortVars[l].order=t.getOrder(c)?[1,1]:[0,0]),i.headerList[o]=r,h.addClass(t.css.header+" "+i.cssHeader),t.getClosest(h,"tr").addClass(t.css.headerRow+" "+i.cssHeaderRow).attr("role","row"),i.tabIndex&&h.attr("tabindex",0),r})),i.$headerIndexed=[],s=0;s<i.columns;s++)t.isEmptyObject(i.sortVars[s])&&(i.sortVars[s]={}),r=i.$headers.filter('[data-column="'+s+'"]'),i.$headerIndexed[s]=r.length?r.not(".sorter-false").length?r.not(".sorter-false").filter(":last"):r.filter(":last"):e();i.$table.find(i.selectorHeaders).attr({scope:"col",role:"columnheader"}),t.updateHeader(i),t.debug(i,"core")&&(console.log("Built headers:"+t.benchmark(o)),console.log(i.$headers))},addInstanceMethods:function(i){e.extend(t.instanceMethods,i)},setupParsers:function(e,i){var r,n,o,s,a,l,d,c,h,u,f,p,g,m,v=e.table,b=0,y=t.debug(e,"core"),w={};if(e.$tbodies=e.$table.children("tbody:not(."+e.cssInfoBlock+")"),0===(m=(g=void 0===i?e.$tbodies:i).length))return y?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(y&&(p=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),n={extractors:[],parsers:[]};b<m;){if((r=g[b].rows).length)for(a=0,s=e.columns,l=0;l<s;l++){if((d=e.$headerIndexed[a])&&d.length&&(c=t.getColumnData(v,e.headers,a),f=t.getParserById(t.getData(d,c,"extractor")),u=t.getParserById(t.getData(d,c,"sorter")),h="false"===t.getData(d,c,"parser"),e.empties[a]=(t.getData(d,c,"empty")||e.emptyTo||(e.emptyToBottom?"bottom":"top")).toLowerCase(),e.strings[a]=(t.getData(d,c,"string")||e.stringTo||"max").toLowerCase(),h&&(u=t.getParserById("no-parser")),f||(f=!1),u||(u=t.detectParserForColumn(e,r,-1,a)),y&&(w["("+a+") "+d.text()]={parser:u.id,extractor:f?f.id:"none",string:e.strings[a],empty:e.empties[a]}),n.parsers[a]=u,n.extractors[a]=f,(o=d[0].colSpan-1)>0))for(a+=o,s+=o;o+1>0;)n.parsers[a-o]=u,n.extractors[a-o]=f,o--;a++}b+=n.parsers.length?m:1}y&&(t.isEmptyObject(w)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](w),console.log("Completed detecting parsers"+t.benchmark(p)),console.groupEnd&&console.groupEnd()),e.parsers=n.parsers,e.extractors=n.extractors},addParser:function(e){var i,r=t.parsers.length,n=!0;for(i=0;i<r;i++)t.parsers[i].id.toLowerCase()===e.id.toLowerCase()&&(n=!1);n&&(t.parsers[t.parsers.length]=e)},getParserById:function(e){if("false"==e)return!1;var i,r=t.parsers.length;for(i=0;i<r;i++)if(t.parsers[i].id.toLowerCase()===e.toString().toLowerCase())return t.parsers[i];return!1},detectParserForColumn:function(i,r,n,o){for(var s,a,l,d=t.parsers.length,c=!1,h="",u=t.debug(i,"core"),f=!0;""===h&&f;)(l=r[++n])&&n<50?l.className.indexOf(t.cssIgnoreRow)<0&&(c=r[n].cells[o],h=t.getElementText(i,c,o),a=e(c),u&&console.log("Checking if value was empty on row "+n+", column: "+o+': "'+h+'"')):f=!1;for(;--d>=0;)if((s=t.parsers[d])&&"text"!==s.id&&s.is&&s.is(h,i.table,c,a))return s;return t.getParserById("text")},getElementText:function(i,r,n){if(!r)return"";var o,s=i.textExtraction||"",a=r.jquery?r:e(r);return"string"==typeof s?"basic"===s&&void 0!==(o=a.attr(i.textAttribute))?e.trim(o):e.trim(r.textContent||a.text()):"function"==typeof s?e.trim(s(a[0],i.table,n)):"function"==typeof(o=t.getColumnData(i.table,s,n))?e.trim(o(a[0],i.table,n)):e.trim(a[0].textContent||a.text())},getParsedText:function(e,i,r,n){void 0===n&&(n=t.getElementText(e,i,r));var o=""+n,s=e.parsers[r],a=e.extractors[r];return s&&(a&&"function"==typeof a.format&&(n=a.format(n,e.table,i,r)),o="no-parser"===s.id?"":s.format(""+n,e.table,i,r),e.ignoreCase&&"string"==typeof o&&(o=o.toLowerCase())),o},buildCache:function(i,r,n){var o,s,a,l,d,c,h,u,f,p,g,m,v,b,y,w,x,C,S,k,D,T,A=i.table,N=i.parsers,_=t.debug(i,"core");if(i.$tbodies=i.$table.children("tbody:not(."+i.cssInfoBlock+")"),h=void 0===n?i.$tbodies:n,i.cache={},i.totalRows=0,!N)return _?console.warn("Warning: *Empty table!* Not building a cache"):"";for(_&&(m=new Date),i.showProcessing&&t.isProcessing(A,!0),c=0;c<h.length;c++){for(w=[],o=i.cache[c]={normalized:[]},v=h[c]&&h[c].rows.length||0,l=0;l<v;++l)if(b={child:[],raw:[]},f=[],!(u=e(h[c].rows[l])).hasClass(i.selectorRemove.slice(1)))if(u.hasClass(i.cssChildRow)&&0!==l)for(D=o.normalized.length-1,(y=o.normalized[D][i.columns]).$row=y.$row.add(u),u.prev().hasClass(i.cssChildRow)||u.prev().addClass(t.css.cssHasChild),p=u.children("th, td"),D=y.child.length,y.child[D]=[],C=0,k=i.columns,d=0;d<k;d++)(g=p[d])&&(y.child[D][d]=t.getParsedText(i,g,d),(x=p[d].colSpan-1)>0&&(C+=x,k+=x)),C++;else{for(b.$row=u,b.order=l,C=0,k=i.columns,d=0;d<k;++d){if((g=u[0].cells[d])&&C<i.columns&&(!(S=void 0!==N[C])&&_&&console.warn("No parser found for row: "+l+", column: "+d+'; cell containing: "'+e(g).text()+'"; does it have a header?'),s=t.getElementText(i,g,C),b.raw[C]=s,a=t.getParsedText(i,g,C,s),f[C]=a,S&&"numeric"===(N[C].type||"").toLowerCase()&&(w[C]=Math.max(Math.abs(a)||0,w[C]||0)),(x=g.colSpan-1)>0)){for(T=0;T<=x;)a=i.duplicateSpan||0===T?s:"string"!=typeof i.textExtraction&&t.getElementText(i,g,C+T)||"",b.raw[C+T]=a,f[C+T]=a,T++;C+=x,k+=x}C++}f[i.columns]=b,o.normalized[o.normalized.length]=f}o.colMax=w,i.totalRows+=o.normalized.length}if(i.showProcessing&&t.isProcessing(A),_){for(D=Math.min(5,i.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+i.totalRows+" rows (showing "+D+" rows in log) and "+i.columns+" columns"+t.benchmark(m)),s={},d=0;d<i.columns;d++)for(C=0;C<D;C++)s["row: "+C]||(s["row: "+C]={}),s["row: "+C][i.$headerIndexed[d].text()]=i.cache[0].normalized[C][d];console[console.table?"table":"log"](s),console.groupEnd&&console.groupEnd()}e.isFunction(r)&&r(A)},getColumnText:function(i,r,n,o){var s,a,l,d,c,h,u,f,p,g,m="function"==typeof n,v="all"===r,b={raw:[],parsed:[],$cell:[]},y=(i=e(i)[0]).config;if(!t.isEmptyObject(y)){for(c=y.$tbodies.length,s=0;s<c;s++)for(h=(l=y.cache[s].normalized).length,a=0;a<h;a++)d=l[a],o&&!d[y.columns].$row.is(o)||(g=!0,f=v?d.slice(0,y.columns):d[r],d=d[y.columns],u=v?d.raw:d.raw[r],p=v?d.$row.children():d.$row.children().eq(r),m&&(g=n({tbodyIndex:s,rowIndex:a,parsed:f,raw:u,$row:d.$row,$cell:p})),!1!==g&&(b.parsed[b.parsed.length]=f,b.raw[b.raw.length]=u,b.$cell[b.$cell.length]=p));return b}t.debug(y,"core")&&console.warn("No cache found - aborting getColumnText function!")},setHeadersCss:function(i){var r,n,o=i.sortList,s=o.length,a=t.css.sortNone+" "+i.cssNone,l=[t.css.sortAsc+" "+i.cssAsc,t.css.sortDesc+" "+i.cssDesc],d=[i.cssIconAsc,i.cssIconDesc,i.cssIconNone],c=["ascending","descending"],h=function(e,i){e.removeClass(a).addClass(l[i]).attr("aria-sort",c[i]).find("."+t.css.icon).removeClass(d[2]).addClass(d[i])},u=i.$table.find("tfoot tr").children("td, th").add(e(i.namespace+"_extra_headers")).removeClass(l.join(" ")),f=i.$headers.add(e("thead "+i.namespace+"_extra_headers")).removeClass(l.join(" ")).addClass(a).attr("aria-sort","none").find("."+t.css.icon).removeClass(d.join(" ")).end();for(f.not(".sorter-false").find("."+t.css.icon).addClass(d[2]),i.cssIconDisabled&&f.filter(".sorter-false").find("."+t.css.icon).addClass(i.cssIconDisabled),r=0;r<s;r++)if(2!==o[r][1]){if((f=(f=i.$headers.filter(function(e){for(var r=!0,n=i.$headers.eq(e),o=parseInt(n.attr("data-column"),10),s=o+t.getClosest(n,"th, td")[0].colSpan;o<s;o++)r=!!r&&(r||t.isValueInArray(o,i.sortList)>-1);return r})).not(".sorter-false").filter('[data-column="'+o[r][0]+'"]'+(1===s?":last":""))).length)for(n=0;n<f.length;n++)f[n].sortDisabled||h(f.eq(n),o[r][1]);u.length&&h(u.filter('[data-column="'+o[r][0]+'"]'),o[r][1])}for(s=i.$headers.length,r=0;r<s;r++)t.setColumnAriaLabel(i,i.$headers.eq(r))},getClosest:function(t,i){return e.fn.closest?t.closest(i):t.is(i)?t:t.parents(i).filter(":first")},setColumnAriaLabel:function(i,r,n){if(r.length){var o=parseInt(r.attr("data-column"),10),s=i.sortVars[o],a=r.hasClass(t.css.sortAsc)?"sortAsc":r.hasClass(t.css.sortDesc)?"sortDesc":"sortNone",l=e.trim(r.text())+": "+t.language[a];r.hasClass("sorter-false")||!1===n?l+=t.language.sortDisabled:(a=(s.count+1)%s.order.length,n=s.order[a],l+=t.language[0===n?"nextAsc":1===n?"nextDesc":"nextNone"]),r.attr("aria-label",l),s.sortedBy?r.attr("data-sortedBy",s.sortedBy):r.removeAttr("data-sortedBy")}},updateHeader:function(e){var i,r,n,o,s=e.table,a=e.$headers.length;for(i=0;i<a;i++)n=e.$headers.eq(i),o=t.getColumnData(s,e.headers,i,!0),r="false"===t.getData(n,o,"sorter")||"false"===t.getData(n,o,"parser"),t.setColumnSort(e,n,r)},setColumnSort:function(e,t,i){var r=e.table.id;t[0].sortDisabled=i,t[i?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+i),e.tabIndex&&(i?t.removeAttr("tabindex"):t.attr("tabindex","0")),r&&(i?t.removeAttr("aria-controls"):t.attr("aria-controls",r))},updateHeaderSortCount:function(i,r){var n,o,s,a,l,d,c,h,u=r||i.sortList,f=u.length;for(i.sortList=[],a=0;a<f;a++)if(c=u[a],(n=parseInt(c[0],10))<i.columns){switch(i.sortVars[n].order||(h=t.getOrder(i.sortInitialOrder)?i.sortReset?[1,0,2]:[1,0]:i.sortReset?[0,1,2]:[0,1],i.sortVars[n].order=h,i.sortVars[n].count=0),h=i.sortVars[n].order,o=(o=(""+c[1]).match(/^(1|d|s|o|n)/))?o[0]:""){case"1":case"d":o=1;break;case"s":o=l||0;break;case"o":o=0===(d=h[(l||0)%h.length])?1:1===d?0:2;break;case"n":o=h[++i.sortVars[n].count%h.length];break;default:o=0}l=0===a?o:l,s=[n,parseInt(o,10)||0],i.sortList[i.sortList.length]=s,o=e.inArray(s[1],h),i.sortVars[n].count=o>=0?o:s[1]%h.length}},updateAll:function(e,i,r){var n=e.table;n.isUpdating=!0,t.refreshWidgets(n,!0,!0),t.buildHeaders(e),t.bindEvents(n,e.$headers,!0),t.bindMethods(e),t.commonUpdate(e,i,r)},update:function(e,i,r){e.table.isUpdating=!0,t.updateHeader(e),t.commonUpdate(e,i,r)},updateHeaders:function(e,i){e.table.isUpdating=!0,t.buildHeaders(e),t.bindEvents(e.table,e.$headers,!0),t.resortComplete(e,i)},updateCell:function(i,r,n,o){if(e(r).closest("tr").hasClass(i.cssChildRow))console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');else{if(t.isEmptyObject(i.cache))return t.updateHeader(i),void t.commonUpdate(i,n,o);i.table.isUpdating=!0,i.$table.find(i.selectorRemove).remove();var s,a,l,d,c,h,u=i.$tbodies,f=e(r),p=u.index(t.getClosest(f,"tbody")),g=i.cache[p],m=t.getClosest(f,"tr");if(r=f[0],u.length&&p>=0){if(l=u.eq(p).find("tr").not("."+i.cssChildRow).index(m),c=g.normalized[l],(h=m[0].cells.length)!==i.columns)for(d=0,s=!1,a=0;a<h;a++)s||m[0].cells[a]===r?s=!0:d+=m[0].cells[a].colSpan;else d=f.index();s=t.getElementText(i,r,d),c[i.columns].raw[d]=s,s=t.getParsedText(i,r,d,s),c[d]=s,"numeric"===(i.parsers[d].type||"").toLowerCase()&&(g.colMax[d]=Math.max(Math.abs(s)||0,g.colMax[d]||0)),!1!==(s="undefined"!==n?n:i.resort)?t.checkResort(i,s,o):t.resortComplete(i,o)}else t.debug(i,"core")&&console.error("updateCell aborted, tbody missing or not within the indicated table"),i.table.isUpdating=!1}},addRows:function(i,r,n,o){var s,a,l,d,c,h,u,f,p,g,m,v,b,y="string"==typeof r&&1===i.$tbodies.length&&/<tr/.test(r||""),w=i.table;if(y)r=e(r),i.$tbodies.append(r);else if(!(r&&r instanceof e&&t.getClosest(r,"table")[0]===i.table))return t.debug(i,"core")&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(w.isUpdating=!0,t.isEmptyObject(i.cache))t.updateHeader(i),t.commonUpdate(i,n,o);else{for(c=r.filter("tr").attr("role","row").length,l=i.$tbodies.index(r.parents("tbody").filter(":first")),i.parsers&&i.parsers.length||t.setupParsers(i),d=0;d<c;d++){for(p=0,u=r[d].cells.length,f=i.cache[l].normalized.length,m=[],g={child:[],raw:[],$row:r.eq(d),order:f},h=0;h<u;h++)v=r[d].cells[h],s=t.getElementText(i,v,p),g.raw[p]=s,a=t.getParsedText(i,v,p,s),m[p]=a,"numeric"===(i.parsers[p].type||"").toLowerCase()&&(i.cache[l].colMax[p]=Math.max(Math.abs(a)||0,i.cache[l].colMax[p]||0)),(b=v.colSpan-1)>0&&(p+=b),p++;m[i.columns]=g,i.cache[l].normalized[f]=m}t.checkResort(i,n,o)}},updateCache:function(e,i,r){e.parsers&&e.parsers.length||t.setupParsers(e,r),t.buildCache(e,i,r)},appendCache:function(e,i){var r,n,o,s,a,l,d,c=e.table,h=e.$tbodies,u=[],f=e.cache;if(t.isEmptyObject(f))return e.appender?e.appender(c,u):c.isUpdating?e.$table.triggerHandler("updateComplete",c):"";for(t.debug(e,"core")&&(d=new Date),l=0;l<h.length;l++)if((o=h.eq(l)).length){for(s=t.processTbody(c,o,!0),n=(r=f[l].normalized).length,a=0;a<n;a++)u[u.length]=r[a][e.columns].$row,e.appender&&(!e.pager||e.pager.removeRows||e.pager.ajax)||s.append(r[a][e.columns].$row);t.processTbody(c,s,!1)}e.appender&&e.appender(c,u),t.debug(e,"core")&&console.log("Rebuilt table"+t.benchmark(d)),i||e.appender||t.applyWidget(c),c.isUpdating&&e.$table.triggerHandler("updateComplete",c)},commonUpdate:function(e,i,r){e.$table.find(e.selectorRemove).remove(),t.setupParsers(e),t.buildCache(e),t.checkResort(e,i,r)},initSort:function(i,r,n){if(i.table.isUpdating)return setTimeout(function(){t.initSort(i,r,n)},50);var o,s,a,l,d,c,h,u=!n[i.sortMultiSortKey],f=i.table,p=i.$headers.length,g=t.getClosest(e(r),"th, td"),m=parseInt(g.attr("data-column"),10),v="mouseup"===n.type?"user":n.type,b=i.sortVars[m].order;if(g=g[0],i.$table.triggerHandler("sortStart",f),c=(i.sortVars[m].count+1)%b.length,i.sortVars[m].count=n[i.sortResetKey]?2:c,i.sortRestart)for(a=0;a<p;a++)h=i.$headers.eq(a),m!==(c=parseInt(h.attr("data-column"),10))&&(u||h.hasClass(t.css.sortNone))&&(i.sortVars[c].count=-1);if(u){if(e.each(i.sortVars,function(e){i.sortVars[e].sortedBy=""}),i.sortList=[],i.last.sortList=[],null!==i.sortForce)for(o=i.sortForce,s=0;s<o.length;s++)o[s][0]!==m&&(i.sortList[i.sortList.length]=o[s],i.sortVars[o[s][0]].sortedBy="sortForce");if((l=b[i.sortVars[m].count])<2&&(i.sortList[i.sortList.length]=[m,l],i.sortVars[m].sortedBy=v,g.colSpan>1))for(s=1;s<g.colSpan;s++)i.sortList[i.sortList.length]=[m+s,l],i.sortVars[m+s].count=e.inArray(l,b),i.sortVars[m+s].sortedBy=v}else if(i.sortList=e.extend([],i.last.sortList),t.isValueInArray(m,i.sortList)>=0)for(i.sortVars[m].sortedBy=v,s=0;s<i.sortList.length;s++)(c=i.sortList[s])[0]===m&&(c[1]=b[i.sortVars[m].count],2===c[1]&&(i.sortList.splice(s,1),i.sortVars[m].count=-1));else if(l=b[i.sortVars[m].count],i.sortVars[m].sortedBy=v,l<2&&(i.sortList[i.sortList.length]=[m,l],g.colSpan>1))for(s=1;s<g.colSpan;s++)i.sortList[i.sortList.length]=[m+s,l],i.sortVars[m+s].count=e.inArray(l,b),i.sortVars[m+s].sortedBy=v;if(i.last.sortList=e.extend([],i.sortList),i.sortList.length&&i.sortAppend&&(o=e.isArray(i.sortAppend)?i.sortAppend:i.sortAppend[i.sortList[0][0]],!t.isEmptyObject(o)))for(s=0;s<o.length;s++)if(o[s][0]!==m&&t.isValueInArray(o[s][0],i.sortList)<0){if(d=(""+(l=o[s][1])).match(/^(a|d|s|o|n)/))switch(c=i.sortList[0][1],d[0]){case"d":l=1;break;case"s":l=c;break;case"o":l=0===c?1:0;break;case"n":l=(c+1)%b.length;break;default:l=0}i.sortList[i.sortList.length]=[o[s][0],l],i.sortVars[o[s][0]].sortedBy="sortAppend"}i.$table.triggerHandler("sortBegin",f),setTimeout(function(){t.setHeadersCss(i),t.multisort(i),t.appendCache(i),i.$table.triggerHandler("sortBeforeEnd",f),i.$table.triggerHandler("sortEnd",f)},1)},multisort:function(e){var i,r,n,o,s=e.table,a=[],l=0,d=e.textSorter||"",c=e.sortList,h=c.length,u=e.$tbodies.length;if(!e.serverSideSorting&&!t.isEmptyObject(e.cache)){if(t.debug(e,"core")&&(r=new Date),"object"==typeof d)for(n=e.columns;n--;)"function"==typeof(o=t.getColumnData(s,d,n))&&(a[n]=o);for(i=0;i<u;i++)n=e.cache[i].colMax,e.cache[i].normalized.sort(function(i,r){var o,u,f,p,g,m,v;for(o=0;o<h;o++){if(f=c[o][0],p=c[o][1],l=0===p,e.sortStable&&i[f]===r[f]&&1===h)return i[e.columns].order-r[e.columns].order;if((u=/n/i.test(t.getSortType(e.parsers,f)))&&e.strings[f]?(u="boolean"==typeof t.string[e.strings[f]]?(l?1:-1)*(t.string[e.strings[f]]?-1:1):e.strings[f]&&t.string[e.strings[f]]||0,g=e.numberSorter?e.numberSorter(i[f],r[f],l,n[f],s):t["sortNumeric"+(l?"Asc":"Desc")](i[f],r[f],u,n[f],f,e)):(m=l?i:r,v=l?r:i,g="function"==typeof d?d(m[f],v[f],l,f,s):"function"==typeof a[f]?a[f](m[f],v[f],l,f,s):t["sortNatural"+(l?"Asc":"Desc")](i[f]||"",r[f]||"",f,e)),g)return g}return i[e.columns].order-r[e.columns].order});t.debug(e,"core")&&console.log("Applying sort "+c.toString()+t.benchmark(r))}},resortComplete:function(t,i){t.table.isUpdating&&t.$table.triggerHandler("updateComplete",t.table),e.isFunction(i)&&i(t.table)},checkResort:function(i,r,n){var o=e.isArray(r)?r:i.sortList;!1===(void 0===r?i.resort:r)||i.serverSideSorting||i.table.isProcessing?(t.resortComplete(i,n),t.applyWidget(i.table,!1)):o.length?t.sortOn(i,o,function(){t.resortComplete(i,n)},!0):t.sortReset(i,function(){t.resortComplete(i,n),t.applyWidget(i.table,!1)})},sortOn:function(i,r,n,o){var s,a=i.table;for(i.$table.triggerHandler("sortStart",a),s=0;s<i.columns;s++)i.sortVars[s].sortedBy=t.isValueInArray(s,r)>-1?"sorton":"";t.updateHeaderSortCount(i,r),t.setHeadersCss(i),i.delayInit&&t.isEmptyObject(i.cache)&&t.buildCache(i),i.$table.triggerHandler("sortBegin",a),t.multisort(i),t.appendCache(i,o),i.$table.triggerHandler("sortBeforeEnd",a),i.$table.triggerHandler("sortEnd",a),t.applyWidget(a),e.isFunction(n)&&n(a)},sortReset:function(i,r){var n;for(i.sortList=[],n=0;n<i.columns;n++)i.sortVars[n].count=-1,i.sortVars[n].sortedBy="";t.setHeadersCss(i),t.multisort(i),t.appendCache(i),e.isFunction(r)&&r(i.table)},getSortType:function(e,t){return e&&e[t]&&e[t].type||""},getOrder:function(e){return/^d/i.test(e)||1===e},sortNatural:function(e,i){if(e===i)return 0;e=(e||"").toString(),i=(i||"").toString();var r,n,o,s,a,l,d=t.regex;if(d.hex.test(i)){if((r=parseInt(e.match(d.hex),16))<(n=parseInt(i.match(d.hex),16)))return-1;if(r>n)return 1}for(r=e.replace(d.chunk,"\\0$1\\0").replace(d.chunks,"").split("\\0"),n=i.replace(d.chunk,"\\0$1\\0").replace(d.chunks,"").split("\\0"),l=Math.max(r.length,n.length),a=0;a<l;a++){if(o=isNaN(r[a])?r[a]||0:parseFloat(r[a])||0,s=isNaN(n[a])?n[a]||0:parseFloat(n[a])||0,isNaN(o)!==isNaN(s))return isNaN(o)?1:-1;if(typeof o!=typeof s&&(o+="",s+=""),o<s)return-1;if(o>s)return 1}return 0},sortNaturalAsc:function(e,i,r,n){if(e===i)return 0;var o=t.string[n.empties[r]||n.emptyTo];return""===e&&0!==o?"boolean"==typeof o?o?-1:1:-o||-1:""===i&&0!==o?"boolean"==typeof o?o?1:-1:o||1:t.sortNatural(e,i)},sortNaturalDesc:function(e,i,r,n){if(e===i)return 0;var o=t.string[n.empties[r]||n.emptyTo];return""===e&&0!==o?"boolean"==typeof o?o?-1:1:o||1:""===i&&0!==o?"boolean"==typeof o?o?1:-1:-o||-1:t.sortNatural(i,e)},sortText:function(e,t){return e>t?1:e<t?-1:0},getTextValue:function(e,t,i){if(i){var r,n=e?e.length:0,o=i+t;for(r=0;r<n;r++)o+=e.charCodeAt(r);return t*o}return 0},sortNumericAsc:function(e,i,r,n,o,s){if(e===i)return 0;var a=t.string[s.empties[o]||s.emptyTo];return""===e&&0!==a?"boolean"==typeof a?a?-1:1:-a||-1:""===i&&0!==a?"boolean"==typeof a?a?1:-1:a||1:(isNaN(e)&&(e=t.getTextValue(e,r,n)),isNaN(i)&&(i=t.getTextValue(i,r,n)),e-i)},sortNumericDesc:function(e,i,r,n,o,s){if(e===i)return 0;var a=t.string[s.empties[o]||s.emptyTo];return""===e&&0!==a?"boolean"==typeof a?a?-1:1:a||1:""===i&&0!==a?"boolean"==typeof a?a?1:-1:-a||-1:(isNaN(e)&&(e=t.getTextValue(e,r,n)),isNaN(i)&&(i=t.getTextValue(i,r,n)),i-e)},sortNumeric:function(e,t){return e-t},addWidget:function(e){e.id&&!t.isEmptyObject(t.getWidgetById(e.id))&&console.warn('"'+e.id+'" widget was loaded more than once!'),t.widgets[t.widgets.length]=e},hasWidget:function(t,i){return(t=e(t)).length&&t[0].config&&t[0].config.widgetInit[i]||!1},getWidgetById:function(e){var i,r,n=t.widgets.length;for(i=0;i<n;i++)if((r=t.widgets[i])&&r.id&&r.id.toLowerCase()===e.toLowerCase())return r},applyWidgetOptions:function(i){var r,n,o,s=i.config,a=s.widgets.length;if(a)for(r=0;r<a;r++)(n=t.getWidgetById(s.widgets[r]))&&n.options&&(o=e.extend(!0,{},n.options),s.widgetOptions=e.extend(!0,o,s.widgetOptions),e.extend(!0,t.defaults.widgetOptions,n.options))},addWidgetFromClass:function(e){var i,r,n=e.config,o="^"+n.widgetClass.replace(t.regex.templateName,"(\\S+)+")+"$",s=new RegExp(o,"g"),a=(e.className||"").split(t.regex.spaces);if(a.length)for(i=a.length,r=0;r<i;r++)a[r].match(s)&&(n.widgets[n.widgets.length]=a[r].replace(s,"$1"))},applyWidgetId:function(i,r,n){var o,s,a,l=(i=e(i)[0]).config,d=l.widgetOptions,c=t.debug(l,"core"),h=t.getWidgetById(r);h&&(a=h.id,o=!1,e.inArray(a,l.widgets)<0&&(l.widgets[l.widgets.length]=a),c&&(s=new Date),!n&&l.widgetInit[a]||(l.widgetInit[a]=!0,i.hasInitialized&&t.applyWidgetOptions(i),"function"==typeof h.init&&(o=!0,c&&console[console.group?"group":"log"]("Initializing "+a+" widget"),h.init(i,h,l,d))),n||"function"!=typeof h.format||(o=!0,c&&console[console.group?"group":"log"]("Updating "+a+" widget"),h.format(i,l,d,!1)),c&&o&&(console.log("Completed "+(n?"initializing ":"applying ")+a+" widget"+t.benchmark(s)),console.groupEnd&&console.groupEnd()))},applyWidget:function(i,r,n){var o,s,a,l,d,c=(i=e(i)[0]).config,h=t.debug(c,"core"),u=[];if(!1===r||!i.hasInitialized||!i.isApplyingWidgets&&!i.isUpdating){if(h&&(d=new Date),t.addWidgetFromClass(i),clearTimeout(c.timerReady),c.widgets.length){for(i.isApplyingWidgets=!0,c.widgets=e.grep(c.widgets,function(t,i){return e.inArray(t,c.widgets)===i}),s=(a=c.widgets||[]).length,o=0;o<s;o++)(l=t.getWidgetById(a[o]))&&l.id?(l.priority||(l.priority=10),u[o]=l):h&&console.warn('"'+a[o]+'" was enabled, but the widget code has not been loaded!');for(u.sort(function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1}),s=u.length,h&&console[console.group?"group":"log"]("Start "+(r?"initializing":"applying")+" widgets"),o=0;o<s;o++)(l=u[o])&&l.id&&t.applyWidgetId(i,l.id,r);h&&console.groupEnd&&console.groupEnd()}c.timerReady=setTimeout(function(){i.isApplyingWidgets=!1,e.data(i,"lastWidgetApplication",new Date),c.$table.triggerHandler("tablesorter-ready"),r||"function"!=typeof n||n(i),h&&(l=c.widgets.length,console.log("Completed "+(!0===r?"initializing ":"applying ")+l+" widget"+(1!==l?"s":"")+t.benchmark(d)))},10)}},removeWidget:function(i,r,n){var o,s,a,l,d=(i=e(i)[0]).config;if(!0===r)for(r=[],l=t.widgets.length,a=0;a<l;a++)(s=t.widgets[a])&&s.id&&(r[r.length]=s.id);else r=(e.isArray(r)?r.join(","):r||"").toLowerCase().split(/[\s,]+/);for(l=r.length,o=0;o<l;o++)s=t.getWidgetById(r[o]),(a=e.inArray(r[o],d.widgets))>=0&&!0!==n&&d.widgets.splice(a,1),s&&s.remove&&(t.debug(d,"core")&&console.log((n?"Refreshing":"Removing")+' "'+r[o]+'" widget'),s.remove(i,d,d.widgetOptions,n),d.widgetInit[r[o]]=!1);d.$table.triggerHandler("widgetRemoveEnd",i)},refreshWidgets:function(i,r,n){var o,s,a=(i=e(i)[0]).config.widgets,l=t.widgets,d=l.length,c=[],h=function(t){e(t).triggerHandler("refreshComplete")};for(o=0;o<d;o++)(s=l[o])&&s.id&&(r||e.inArray(s.id,a)<0)&&(c[c.length]=s.id);t.removeWidget(i,c.join(","),!0),!0!==n?(t.applyWidget(i,r||!1,h),r&&t.applyWidget(i,!1,h)):h(i)},benchmark:function(e){return" ("+((new Date).getTime()-e.getTime())+" ms)"},log:function(){console.log(arguments)},debug:function(e,t){return e&&(!0===e.debug||"string"==typeof e.debug&&e.debug.indexOf(t)>-1)},isEmptyObject:function(e){for(var t in e)return!1;return!0},isValueInArray:function(e,t){var i,r=t&&t.length||0;for(i=0;i<r;i++)if(t[i][0]===e)return i;return-1},formatFloat:function(i,r){return"string"!=typeof i||""===i?i:(i=(r&&r.config?!1!==r.config.usNumberFormat:void 0===r||r)?i.replace(t.regex.comma,""):i.replace(t.regex.digitNonUS,"").replace(t.regex.comma,"."),t.regex.digitNegativeTest.test(i)&&(i=i.replace(t.regex.digitNegativeReplace,"-$1")),n=parseFloat(i),isNaN(n)?e.trim(i):n);var n},isDigit:function(e){return isNaN(e)?t.regex.digitTest.test(e.toString().replace(t.regex.digitReplace,"")):""!==e},computeColumnIndex:function(i,r){var n,o,s,a,l,d,c,h,u,f,p=r&&r.columns||0,g=[],m=new Array(p);for(n=0;n<i.length;n++)for(d=i[n].cells,o=0;o<d.length;o++){for(c=n,h=(l=d[o]).rowSpan||1,u=l.colSpan||1,void 0===g[c]&&(g[c]=[]),s=0;s<g[c].length+1;s++)if(void 0===g[c][s]){f=s;break}for(p&&l.cellIndex===f||(l.setAttribute?l.setAttribute("data-column",f):e(l).attr("data-column",f)),s=c;s<c+h;s++)for(void 0===g[s]&&(g[s]=[]),m=g[s],a=f;a<f+u;a++)m[a]="x"}return t.checkColumnCount(i,g,m.length),m.length},checkColumnCount:function(e,t,i){var r,n,o=!0,s=[];for(r=0;r<t.length;r++)if(t[r]&&(n=t[r].length,t[r].length!==i)){o=!1;break}o||(e.each(function(e,t){var i=t.parentElement.nodeName;s.indexOf(i)<0&&s.push(i)}),console.error("Invalid or incorrect number of columns in the "+s.join(" or ")+"; expected "+i+", but found "+n+" columns"))},fixColumnWidth:function(i){var r,n,o,s,a,l=(i=e(i)[0]).config,d=l.$table.children("colgroup");if(d.length&&d.hasClass(t.css.colgroup)&&d.remove(),l.widthFixed&&0===l.$table.children("colgroup").length){for(d=e('<colgroup class="'+t.css.colgroup+'">'),r=l.$table.width(),s=(o=l.$tbodies.find("tr:first").children(":visible")).length,a=0;a<s;a++)n=parseInt(o.eq(a).width()/r*1e3,10)/10+"%",d.append(e("<col>").css("width",n));l.$table.prepend(d)}},getData:function(t,i,r){var n,o,s="",a=e(t);return a.length?(n=!!e.metadata&&a.metadata(),o=" "+(a.attr("class")||""),void 0!==a.data(r)||void 0!==a.data(r.toLowerCase())?s+=a.data(r)||a.data(r.toLowerCase()):n&&void 0!==n[r]?s+=n[r]:i&&void 0!==i[r]?s+=i[r]:" "!==o&&o.match(" "+r+"-")&&(s=o.match(new RegExp("\\s"+r+"-([\\w-]+)"))[1]||""),e.trim(s)):""},getColumnData:function(t,i,r,n,o){if("object"!=typeof i||null===i)return i;var s,a=(t=e(t)[0]).config,l=o||a.$headers,d=a.$headerIndexed&&a.$headerIndexed[r]||l.find('[data-column="'+r+'"]:last');if(void 0!==i[r])return n?i[r]:i[l.index(d)];for(s in i)if("string"==typeof s&&d.filter(s).add(d.find(s)).length)return i[s]},isProcessing:function(i,r,n){var o=(i=e(i))[0].config,s=n||i.find("."+t.css.header);r?(void 0!==n&&o.sortList.length>0&&(s=s.filter(function(){return!this.sortDisabled&&t.isValueInArray(parseFloat(e(this).attr("data-column")),o.sortList)>=0})),i.add(s).addClass(t.css.processing+" "+o.cssProcessing)):i.add(s).removeClass(t.css.processing+" "+o.cssProcessing)},processTbody:function(t,i,r){if(t=e(t)[0],r)return t.isProcessing=!0,i.before('<colgroup class="tablesorter-savemyplace"/>'),e.fn.detach?i.detach():i.remove();var n=e(t).find("colgroup.tablesorter-savemyplace");i.insertAfter(n),n.remove(),t.isProcessing=!1},clearTableBody:function(t){e(t)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"áàâãäąå",A:"ÁÀÂÃÄĄÅ",c:"çćč",C:"ÇĆČ",e:"éèêëěę",E:"ÉÈÊËĚĘ",i:"íìİîïı",I:"ÍÌİÎÏ",o:"óòôõöō",O:"ÓÒÔÕÖŌ",ss:"ß",SS:"ẞ",u:"úùûüů",U:"ÚÙÛÜŮ"},replaceAccents:function(e){var i,r="[",n=t.characterEquivalents;if(!t.characterRegex){for(i in t.characterRegexArray={},n)"string"==typeof i&&(r+=n[i],t.characterRegexArray[i]=new RegExp("["+n[i]+"]","g"));t.characterRegex=new RegExp(r+"]")}if(t.characterRegex.test(e))for(i in n)"string"==typeof i&&(e=e.replace(t.characterRegexArray[i],i));return e},validateOptions:function(i){var r,n,o,s,a="headers sortForce sortList sortAppend widgets".split(" "),l=i.originalSettings;if(l){for(r in t.debug(i,"core")&&(s=new Date),l)if("undefined"===(o=typeof t.defaults[r]))console.warn('Tablesorter Warning! "table.config.'+r+'" option not recognized');else if("object"===o)for(n in l[r])o=t.defaults[r]&&typeof t.defaults[r][n],e.inArray(r,a)<0&&"undefined"===o&&console.warn('Tablesorter Warning! "table.config.'+r+"."+n+'" option not recognized');t.debug(i,"core")&&console.log("validate options time:"+t.benchmark(s))}},restoreHeaders:function(i){var r,n,o=e(i)[0].config,s=o.$table.find(o.selectorHeaders),a=s.length;for(r=0;r<a;r++)(n=s.eq(r)).find("."+t.css.headerIn).length&&n.html(o.headerContent[r])},destroy:function(i,r,n){if((i=e(i)[0]).hasInitialized){t.removeWidget(i,!0,!1);var o,s=e(i),a=i.config,l=s.find("thead:first"),d=l.find("tr."+t.css.headerRow).removeClass(t.css.headerRow+" "+a.cssHeaderRow),c=s.find("tfoot:first > tr").children("th, td");!1===r&&e.inArray("uitheme",a.widgets)>=0&&(s.triggerHandler("applyWidgetId",["uitheme"]),s.triggerHandler("applyWidgetId",["zebra"])),l.find("tr").not(d).remove(),o="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(a.namespace+" "),s.removeData("tablesorter").unbind(o.replace(t.regex.spaces," ")),a.$headers.add(c).removeClass([t.css.header,a.cssHeader,a.cssAsc,a.cssDesc,t.css.sortAsc,t.css.sortDesc,t.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),d.find(a.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(a.namespace+" ").replace(t.regex.spaces," ")),t.restoreHeaders(i),s.toggleClass(t.css.table+" "+a.tableClass+" tablesorter-"+a.theme,!1===r),s.removeClass(a.namespace.slice(1)),i.hasInitialized=!1,delete i.config.cache,"function"==typeof n&&n(i),t.debug(a,"core")&&console.log("tablesorter has been removed")}}};e.fn.tablesorter=function(i){return this.each(function(){var r=e.extend(!0,{},t.defaults,i,t.instanceMethods);r.originalSettings=i,!this.hasInitialized&&t.buildTable&&"TABLE"!==this.nodeName?t.buildTable(this,r):t.setup(this,r)})},window.console&&window.console.log||(t.logs=[],console={},console.log=console.warn=console.error=console.table=function(){var e=arguments.length>1?arguments:arguments[0];t.logs[t.logs.length]={date:Date.now(),log:e}}),t.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),t.addParser({id:"text",is:function(){return!0},format:function(i,r){var n=r.config;return i&&(i=e.trim(n.ignoreCase?i.toLocaleLowerCase():i),i=n.sortLocaleCompare?t.replaceAccents(i):i),i},type:"text"}),t.regex.nondigit=/[^\w,. \-()]/g,t.addParser({id:"digit",is:function(e){return t.isDigit(e)},format:function(i,r){var n=t.formatFloat((i||"").replace(t.regex.nondigit,""),r);return i&&"number"==typeof n?n:i?e.trim(i&&r.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"}),t.regex.currencyReplace=/[+\-,. ]/g,t.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,t.addParser({id:"currency",is:function(e){return e=(e||"").replace(t.regex.currencyReplace,""),t.regex.currencyTest.test(e)},format:function(i,r){var n=t.formatFloat((i||"").replace(t.regex.nondigit,""),r);return i&&"number"==typeof n?n:i?e.trim(i&&r.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"}),t.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,t.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/,t.addParser({id:"url",is:function(e){return t.regex.urlProtocolTest.test(e)},format:function(i){return i?e.trim(i.replace(t.regex.urlProtocolReplace,"")):i},type:"text"}),t.regex.dash=/-/g,t.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,t.addParser({id:"isoDate",is:function(e){return t.regex.isoDate.test(e)},format:function(e){var i=e?new Date(e.replace(t.regex.dash,"/")):e;return i instanceof Date&&isFinite(i)?i.getTime():e},type:"numeric"}),t.regex.percent=/%/g,t.regex.percentTest=/(\d\s*?%|%\s*?\d)/,t.addParser({id:"percent",is:function(e){return t.regex.percentTest.test(e)&&e.length<15},format:function(e,i){return e?t.formatFloat(e.replace(t.regex.percent,""),i):e},type:"numeric"}),t.addParser({id:"image",is:function(e,t,i,r){return r.find("img").length>0},format:function(t,i,r){return e(r).find("img").attr(i.config.imgAttr||"alt")||t},parsed:!0,type:"text"}),t.regex.dateReplace=/(\S)([AP]M)$/i,t.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,t.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,t.addParser({id:"usLongDate",is:function(e){return t.regex.usLongDateTest1.test(e)||t.regex.usLongDateTest2.test(e)},format:function(e){var i=e?new Date(e.replace(t.regex.dateReplace,"$1 $2")):e;return i instanceof Date&&isFinite(i)?i.getTime():e},type:"numeric"}),t.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,t.regex.shortDateReplace=/[\-.,]/g,t.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,t.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,t.convertFormat=function(e,i){e=(e||"").replace(t.regex.spaces," ").replace(t.regex.shortDateReplace,"/"),"mmddyyyy"===i?e=e.replace(t.regex.shortDateXXY,"$3/$1/$2"):"ddmmyyyy"===i?e=e.replace(t.regex.shortDateXXY,"$3/$2/$1"):"yyyymmdd"===i&&(e=e.replace(t.regex.shortDateYMD,"$1/$2/$3"));var r=new Date(e);return r instanceof Date&&isFinite(r)?r.getTime():""},t.addParser({id:"shortDate",is:function(e){return e=(e||"").replace(t.regex.spaces," ").replace(t.regex.shortDateReplace,"/"),t.regex.shortDateTest.test(e)},format:function(e,i,r,n){if(e){var o=i.config,s=o.$headerIndexed[n],a=s.length&&s.data("dateFormat")||t.getData(s,t.getColumnData(i,o.headers,n),"dateFormat")||o.dateFormat;return s.length&&s.data("dateFormat",a),t.convertFormat(e,a)||e}return e},type:"numeric"}),t.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,t.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,t.addParser({id:"time",is:function(e){return t.regex.timeTest.test(e)},format:function(e){var i=(e||"").match(t.regex.timeMatch),r=new Date(e),n=e&&(null!==i?i[0]:"00:00 AM"),o=n?new Date("2000/01/01 "+n.replace(t.regex.dateReplace,"$1 $2")):n;return o instanceof Date&&isFinite(o)?(r instanceof Date&&isFinite(r)?r.getTime():0)?parseFloat(o.getTime()+"."+r.getTime()):o.getTime():e},type:"numeric"}),t.addParser({id:"metadata",is:function(){return!1},format:function(t,i,r){var n=i.config,o=n.parserMetadataName?n.parserMetadataName:"sortValue";return e(r).metadata()[o]},type:"numeric"}),t.addWidget({id:"zebra",priority:90,format:function(t,i,r){var n,o,s,a,l,d,c,h=new RegExp(i.cssChildRow,"i"),u=i.$tbodies.add(e(i.namespace+"_extra_table").children("tbody:not(."+i.cssInfoBlock+")"));for(l=0;l<u.length;l++)for(s=0,c=(n=u.eq(l).children("tr:visible").not(i.selectorRemove)).length,d=0;d<c;d++)o=n.eq(d),h.test(o[0].className)||s++,a=s%2==0,o.removeClass(r.zebra[a?1:0]).addClass(r.zebra[a?0:1])},remove:function(e,i,r,n){if(!n){var o,s,a=i.$tbodies,l=(r.zebra||["even","odd"]).join(" ");for(o=0;o<a.length;o++)(s=t.processTbody(e,a.eq(o),!0)).children().removeClass(l),t.processTbody(e,s,!1)}}})}(e),e.tablesorter},n=[i("7t+N")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},UZ9c:function(e,t,i){var r,n,o,s;s=function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"},n=[i("7t+N")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},Up1f:function(e,t,i){var r,n,o,s;s=function(e){return function(){var t,i=Math.max,r=Math.abs,n=/left|center|right/,o=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,d=e.fn.position;function c(e,t,i){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?i/100:1)]}function h(t,i){return parseInt(e.css(t,i),10)||0}e.position={scrollbarWidth:function(){if(void 0!==t)return t;var i,r,n=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];return e("body").append(n),i=o.offsetWidth,n.css("overflow","scroll"),i===(r=o.offsetWidth)&&(r=n[0].clientWidth),n.remove(),t=i-r},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),r=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:r,isDocument:n,offset:!r&&!n?e(t).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return d.apply(this,arguments);t=e.extend({},t);var l,u,f,p,g,m,v,b,y=e(t.of),w=e.position.getWithinInfo(t.within),x=e.position.getScrollInfo(w),C=(t.collision||"flip").split(" "),S={};return m=9===(b=(v=y)[0]).nodeType?{width:v.width(),height:v.height(),offset:{top:0,left:0}}:e.isWindow(b)?{width:v.width(),height:v.height(),offset:{top:v.scrollTop(),left:v.scrollLeft()}}:b.preventDefault?{width:0,height:0,offset:{top:b.pageY,left:b.pageX}}:{width:v.outerWidth(),height:v.outerHeight(),offset:v.offset()},y[0].preventDefault&&(t.at="left top"),u=m.width,f=m.height,p=m.offset,g=e.extend({},p),e.each(["my","at"],function(){var e,i,r=(t[this]||"").split(" ");1===r.length&&(r=n.test(r[0])?r.concat(["center"]):o.test(r[0])?["center"].concat(r):["center","center"]),r[0]=n.test(r[0])?r[0]:"center",r[1]=o.test(r[1])?r[1]:"center",e=s.exec(r[0]),i=s.exec(r[1]),S[this]=[e?e[0]:0,i?i[0]:0],t[this]=[a.exec(r[0])[0],a.exec(r[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===t.at[0]?g.left+=u:"center"===t.at[0]&&(g.left+=u/2),"bottom"===t.at[1]?g.top+=f:"center"===t.at[1]&&(g.top+=f/2),l=c(S.at,u,f),g.left+=l[0],g.top+=l[1],this.each(function(){var n,o,s=e(this),a=s.outerWidth(),d=s.outerHeight(),m=h(this,"marginLeft"),v=h(this,"marginTop"),b=a+m+h(this,"marginRight")+x.width,k=d+v+h(this,"marginBottom")+x.height,D=e.extend({},g),T=c(S.my,s.outerWidth(),s.outerHeight());"right"===t.my[0]?D.left-=a:"center"===t.my[0]&&(D.left-=a/2),"bottom"===t.my[1]?D.top-=d:"center"===t.my[1]&&(D.top-=d/2),D.left+=T[0],D.top+=T[1],n={marginLeft:m,marginTop:v},e.each(["left","top"],function(i,r){e.ui.position[C[i]]&&e.ui.position[C[i]][r](D,{targetWidth:u,targetHeight:f,elemWidth:a,elemHeight:d,collisionPosition:n,collisionWidth:b,collisionHeight:k,offset:[l[0]+T[0],l[1]+T[1]],my:t.my,at:t.at,within:w,elem:s})}),t.using&&(o=function(e){var n=p.left-D.left,o=n+u-a,l=p.top-D.top,c=l+f-d,h={target:{element:y,left:p.left,top:p.top,width:u,height:f},element:{element:s,left:D.left,top:D.top,width:a,height:d},horizontal:o<0?"left":n>0?"right":"center",vertical:c<0?"top":l>0?"bottom":"middle"};u<a&&r(n+o)<u&&(h.horizontal="center"),f<d&&r(l+c)<f&&(h.vertical="middle"),i(r(n),r(o))>i(r(l),r(c))?h.important="horizontal":h.important="vertical",t.using.call(this,e,h)}),s.offset(e.extend(D,{using:o}))})},e.ui.position={fit:{left:function(e,t){var r,n=t.within,o=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,a=e.left-t.collisionPosition.marginLeft,l=o-a,d=a+t.collisionWidth-s-o;t.collisionWidth>s?l>0&&d<=0?(r=e.left+l+t.collisionWidth-s-o,e.left+=l-r):e.left=d>0&&l<=0?o:l>d?o+s-t.collisionWidth:o:l>0?e.left+=l:d>0?e.left-=d:e.left=i(e.left-a,e.left)},top:function(e,t){var r,n=t.within,o=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,a=e.top-t.collisionPosition.marginTop,l=o-a,d=a+t.collisionHeight-s-o;t.collisionHeight>s?l>0&&d<=0?(r=e.top+l+t.collisionHeight-s-o,e.top+=l-r):e.top=d>0&&l<=0?o:l>d?o+s-t.collisionHeight:o:l>0?e.top+=l:d>0?e.top-=d:e.top=i(e.top-a,e.top)}},flip:{left:function(e,t){var i,n,o=t.within,s=o.offset.left+o.scrollLeft,a=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,d=e.left-t.collisionPosition.marginLeft,c=d-l,h=d+t.collisionWidth-a-l,u="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];c<0?((i=e.left+u+f+p+t.collisionWidth-a-s)<0||i<r(c))&&(e.left+=u+f+p):h>0&&((n=e.left-t.collisionPosition.marginLeft+u+f+p-l)>0||r(n)<h)&&(e.left+=u+f+p)},top:function(e,t){var i,n,o=t.within,s=o.offset.top+o.scrollTop,a=o.height,l=o.isWindow?o.scrollTop:o.offset.top,d=e.top-t.collisionPosition.marginTop,c=d-l,h=d+t.collisionHeight-a-l,u="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1];c<0?((n=e.top+u+f+p+t.collisionHeight-a-s)<0||n<r(c))&&(e.top+=u+f+p):h>0&&((i=e.top-t.collisionPosition.marginTop+u+f+p-l)>0||r(i)<h)&&(e.top+=u+f+p)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position},n=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},W2nU:function(e,t){var i,r,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,d=[],c=!1,h=-1;function u(){c&&l&&(c=!1,l.length?d=l.concat(d):h=-1,d.length&&f())}function f(){if(!c){var e=a(u);c=!0;for(var t=d.length;t;){for(l=d,d=[];++h<t;)l&&l[h].run();h=-1,t=d.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];d.push(new p(e,t)),1!==d.length||c||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},WLoA:function(e,t,i){var r,n,o,s;s=function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},n=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},WesT:function(e,t,i){var r,n,o,s;s=function(e){return e.ui.escapeSelector=(t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(e){return e.replace(t,"\\$1")});var t},n=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},XZtq:function(e,t,i){var r,n,o,s;s=function(e){var t={element:"body",position:null,type:"info",allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'};function i(i,r,n){r={content:{message:"object"==typeof r?r.message:r,title:r.title?r.title:"",icon:r.icon?r.icon:"",url:r.url?r.url:"#",target:r.target?r.target:"-"}};n=e.extend(!0,{},r,n),this.settings=e.extend(!0,{},t,n),this._defaults=t,"-"==this.settings.content.target&&(this.settings.content.target=this.settings.url_target),this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"},"number"==typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset}),this.init()}String.format=function(){for(var e=arguments[0],t=1;t<arguments.length;t++)e=e.replace(RegExp("\\{"+(t-1)+"\\}","gm"),arguments[t]);return e},e.extend(i.prototype,{init:function(){var e=this;this.buildNotify(),this.settings.content.icon&&this.setIcon(),"#"!=this.settings.content.url&&this.styleURL(),this.styleDismiss(),this.placement(),this.bind(),this.notify={$ele:this.$ele,update:function(t,i){var r={};for(var t in"string"==typeof t?r[t]=i:r=t,r)switch(t){case"type":this.$ele.removeClass("alert-"+e.settings.type),this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+e.settings.type),e.settings.type=r[t],this.$ele.addClass("alert-"+r[t]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+r[t]);break;case"icon":var n=this.$ele.find('[data-notify="icon"]');"class"==e.settings.icon_type.toLowerCase()?n.removeClass(e.settings.content.icon).addClass(r[t]):(n.is("img")||n.find("img"),n.attr("src",r[t]));break;case"progress":var o=e.settings.delay-e.settings.delay*(r[t]/100);this.$ele.data("notify-delay",o),this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",r[t]).css("width",r[t]+"%");break;case"url":this.$ele.find('[data-notify="url"]').attr("href",r[t]);break;case"target":this.$ele.find('[data-notify="url"]').attr("target",r[t]);break;default:this.$ele.find('[data-notify="'+t+'"]').html(r[t])}var s=this.$ele.outerHeight()+parseInt(e.settings.spacing)+parseInt(e.settings.offset.y);e.reposition(s)},close:function(){e.close()}}},buildNotify:function(){var t=this.settings.content;this.$ele=e(String.format(this.settings.template,this.settings.type,t.title,t.message,t.url,t.target)),this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align),this.settings.allow_dismiss||this.$ele.find('[data-notify="dismiss"]').css("display","none"),(this.settings.delay<=0&&!this.settings.showProgressbar||!this.settings.showProgressbar)&&this.$ele.find('[data-notify="progressbar"]').remove()},setIcon:function(){"class"==this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[data-notify="icon"]').is("img")?this.$ele.find('[data-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleDismiss:function(){this.$ele.find('[data-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+2})},styleURL:function(){this.$ele.find('[data-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:"0px",position:"absolute",top:"0px",width:"100%",zIndex:this.settings.z_index+1})},placement:function(){var t=this,i=this.settings.offset.y,r={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",zIndex:this.settings.z_index},n=!1,o=this.settings;switch(e('[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each(function(){return i=Math.max(i,parseInt(e(this).css(o.placement.from))+parseInt(e(this).outerHeight())+parseInt(o.spacing))}),1==this.settings.newest_on_top&&(i=this.settings.offset.y),r[this.settings.placement.from]=i+"px",this.settings.placement.align){case"left":case"right":r[this.settings.placement.align]=this.settings.offset.x+"px";break;case"center":r.left=0,r.right=0}this.$ele.css(r).addClass(this.settings.animate.enter),e.each(Array("webkit-","moz-","o-","ms-",""),function(e,i){t.$ele[0].style[i+"AnimationIterationCount"]=1}),e(this.settings.element).append(this.$ele),1==this.settings.newest_on_top&&(i=parseInt(i)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(i)),e.isFunction(t.settings.onShow)&&t.settings.onShow.call(this.$ele),this.$ele.one(this.animations.start,function(e){n=!0}).one(this.animations.end,function(i){e.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)}),setTimeout(function(){n||e.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)},600)},bind:function(){var t=this;if(this.$ele.find('[data-notify="dismiss"]').on("click",function(){t.close()}),this.$ele.mouseover(function(t){e(this).data("data-hover","true")}).mouseout(function(t){e(this).data("data-hover","false")}),this.$ele.data("data-hover","false"),this.settings.delay>0){t.$ele.data("notify-delay",t.settings.delay);var i=setInterval(function(){var e=parseInt(t.$ele.data("notify-delay"))-t.settings.timer;if("false"===t.$ele.data("data-hover")&&"pause"==t.settings.mouse_over||"pause"!=t.settings.mouse_over){var r=(t.settings.delay-e)/t.settings.delay*100;t.$ele.data("notify-delay",e),t.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",r).css("width",r+"%")}e<=-t.settings.timer&&(clearInterval(i),t.close())},t.settings.timer)}},close:function(){var t=this,i=parseInt(this.$ele.css(this.settings.placement.from)),r=!1;this.$ele.data("closing","true").addClass(this.settings.animate.exit),t.reposition(i),e.isFunction(t.settings.onClose)&&t.settings.onClose.call(this.$ele),this.$ele.one(this.animations.start,function(e){r=!0}).one(this.animations.end,function(i){e(this).remove(),e.isFunction(t.settings.onClosed)&&t.settings.onClosed.call(this)}),setTimeout(function(){r||(t.$ele.remove(),t.settings.onClosed&&t.settings.onClosed(t.$ele))},600)},reposition:function(t){var i=this,r='[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',n=this.$ele.nextAll(r);1==this.settings.newest_on_top&&(n=this.$ele.prevAll(r)),n.each(function(){e(this).css(i.settings.placement.from,t),t=parseInt(t)+parseInt(i.settings.spacing)+e(this).outerHeight()})}}),e.notify=function(e,t){return new i(this,e,t).notify},e.notifyDefaults=function(i){return t=e.extend(!0,{},t,i)},e.notifyClose=function(t){void 0===t||"all"==t?e("[data-notify]").find('[data-notify="dismiss"]').trigger("click"):e('[data-notify-position="'+t+'"]').find('[data-notify="dismiss"]').trigger("click")}},n=[i("7t+N")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},Zgw8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i="undefined"!=typeof window&&"undefined"!=typeof document,r=["Edge","Trident","Firefox"],n=0,o=0;o<r.length;o+=1)if(i&&navigator.userAgent.indexOf(r[o])>=0){n=1;break}var s=i&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},n))}};function a(e){return e&&"[object Function]"==={}.toString.call(e)}function l(e,t){if(1!==e.nodeType)return[];var i=getComputedStyle(e,null);return t?i[t]:i}function d(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=l(e),i=t.overflow,r=t.overflowX,n=t.overflowY;return/(auto|scroll|overlay)/.test(i+n+r)?e:c(d(e))}var h=i&&!(!window.MSInputMethodContext||!document.documentMode),u=i&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?h:10===e?u:h||u}function p(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,i=e.offsetParent;i===t&&e.nextElementSibling;)i=(e=e.nextElementSibling).offsetParent;var r=i&&i.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TD","TABLE"].indexOf(i.nodeName)&&"static"===l(i,"position")?p(i):i:e?e.ownerDocument.documentElement:document.documentElement}function g(e){return null!==e.parentNode?g(e.parentNode):e}function m(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var i=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=i?e:t,n=i?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(n,0);var s,a,l=o.commonAncestorContainer;if(e!==l&&t!==l||r.contains(n))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&p(s.firstElementChild)!==s?p(l):l;var d=g(e);return d.host?m(d.host,t):m(e,g(t).host)}function v(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function b(e,t){var i="x"===t?"Left":"Top",r="Left"===i?"Right":"Bottom";return parseFloat(e["border"+i+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function y(e,t,i,r){return Math.max(t["offset"+e],t["scroll"+e],i["client"+e],i["offset"+e],i["scroll"+e],f(10)?parseInt(i["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function w(e){var t=e.body,i=e.documentElement,r=f(10)&&getComputedStyle(i);return{height:y("Height",t,i,r),width:y("Width",t,i,r)}}var x=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},C=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),S=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};function D(e){return k({},e,{right:e.left+e.width,bottom:e.top+e.height})}function T(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var i=v(e,"top"),r=v(e,"left");t.top+=i,t.left+=r,t.bottom+=i,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var n={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?w(e.ownerDocument):{},s=o.width||e.clientWidth||n.right-n.left,a=o.height||e.clientHeight||n.bottom-n.top,d=e.offsetWidth-s,c=e.offsetHeight-a;if(d||c){var h=l(e);d-=b(h,"x"),c-=b(h,"y"),n.width-=d,n.height-=c}return D(n)}function A(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),n="HTML"===t.nodeName,o=T(e),s=T(t),a=c(e),d=l(t),h=parseFloat(d.borderTopWidth,10),u=parseFloat(d.borderLeftWidth,10);i&&n&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=D({top:o.top-s.top-h,left:o.left-s.left-u,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!r&&n){var g=parseFloat(d.marginTop,10),m=parseFloat(d.marginLeft,10);p.top-=h-g,p.bottom-=h-g,p.left-=u-m,p.right-=u-m,p.marginTop=g,p.marginLeft=m}return(r&&!i?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(p=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=v(t,"top"),n=v(t,"left"),o=i?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=n*o,e.right+=n*o,e}(p,t)),p}function N(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===l(t,"transform");)t=t.parentElement;return t||document.documentElement}function _(e,t,i,r){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=n?N(e):m(e,t);if("viewport"===r)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.ownerDocument.documentElement,r=A(e,i),n=Math.max(i.clientWidth,window.innerWidth||0),o=Math.max(i.clientHeight,window.innerHeight||0),s=t?0:v(i),a=t?0:v(i,"left");return D({top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:n,height:o})}(s,n);else{var a=void 0;"scrollParent"===r?"BODY"===(a=c(d(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===r?e.ownerDocument.documentElement:r;var h=A(a,s,n);if("HTML"!==a.nodeName||function e(t){var i=t.nodeName;return"BODY"!==i&&"HTML"!==i&&("fixed"===l(t,"position")||e(d(t)))}(s))o=h;else{var u=w(e.ownerDocument),f=u.height,p=u.width;o.top+=h.top-h.marginTop,o.bottom=f+h.top,o.left+=h.left-h.marginLeft,o.right=p+h.left}}var g="number"==typeof(i=i||0);return o.left+=g?i:i.left||0,o.top+=g?i:i.top||0,o.right-=g?i:i.right||0,o.bottom-=g?i:i.bottom||0,o}function M(e,t,i,r,n){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=_(i,r,o,n),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(a).map(function(e){return k({key:e},a[e],{area:(t=a[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),d=l.filter(function(e){var t=e.width,r=e.height;return t>=i.clientWidth&&r>=i.clientHeight}),c=d.length>0?d[0].key:l[0].key,h=e.split("-")[1];return c+(h?"-"+h:"")}function E(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return A(i,r?N(t):m(t,i),r)}function $(e){var t=getComputedStyle(e),i=parseFloat(t.marginTop)+parseFloat(t.marginBottom),r=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+r,height:e.offsetHeight+i}}function O(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function I(e,t,i){i=i.split("-")[0];var r=$(e),n={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(i),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",d=o?"width":"height";return n[s]=t[s]+t[l]/2-r[l]/2,n[a]=i===a?t[a]-r[d]:t[O(a)],n}function R(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function F(e,t,i){return(void 0===i?e:e.slice(0,function(e,t,i){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===i});var r=R(e,function(e){return e[t]===i});return e.indexOf(r)}(e,"name",i))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=e.function||e.fn;e.enabled&&a(i)&&(t.offsets.popper=D(t.offsets.popper),t.offsets.reference=D(t.offsets.reference),t=i(t,e))}),t}function L(e,t){return e.some(function(e){var i=e.name;return e.enabled&&i===t})}function j(e){for(var t=[!1,"ms","Webkit","Moz","O"],i=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var n=t[r],o=n?""+n+i:e;if(void 0!==document.body.style[o])return o}return null}function P(e){var t=e.ownerDocument;return t?t.defaultView:window}function z(e,t,i,r){i.updateBound=r,P(e).addEventListener("resize",i.updateBound,{passive:!0});var n=c(e);return function e(t,i,r,n){var o="BODY"===t.nodeName,s=o?t.ownerDocument.defaultView:t;s.addEventListener(i,r,{passive:!0}),o||e(c(s.parentNode),i,r,n),n.push(s)}(n,"scroll",i.updateBound,i.scrollParents),i.scrollElement=n,i.eventsEnabled=!0,i}function B(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,P(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function H(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function q(e,t){Object.keys(t).forEach(function(i){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&H(t[i])&&(r="px"),e.style[i]=t[i]+r})}function W(e,t,i){var r=R(e,function(e){return e.name===t}),n=!!r&&e.some(function(e){return e.name===i&&e.enabled&&e.order<r.order});if(!n){var o="`"+t+"`",s="`"+i+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return n}var G=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],V=G.slice(3);function U(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=V.indexOf(e),r=V.slice(i+1).concat(V.slice(0,i));return t?r.reverse():r}var Y={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function X(e,t,i,r){var n=[0,0],o=-1!==["right","left"].indexOf(r),s=e.split(/(\+|\-)/).map(function(e){return e.trim()}),a=s.indexOf(R(s,function(e){return-1!==e.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,d=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return(d=d.map(function(e,r){var n=(1===r?!o:o)?"height":"width",s=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,i,r){var n=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+n[1],s=n[2];if(!o)return e;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=i;break;case"%":case"%r":default:a=r}return D(a)[t]/100*o}if("vh"===s||"vw"===s)return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(e,n,t,i)})})).forEach(function(e,t){e.forEach(function(i,r){H(i)&&(n[t]+=i*("-"===e[r-1]?-1:1))})}),n}var Z={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,i=t.split("-")[0],r=t.split("-")[1];if(r){var n=e.offsets,o=n.reference,s=n.popper,a=-1!==["bottom","top"].indexOf(i),l=a?"left":"top",d=a?"width":"height",c={start:S({},l,o[l]),end:S({},l,o[l]+o[d]-s[d])};e.offsets.popper=k({},s,c[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var i=t.offset,r=e.placement,n=e.offsets,o=n.popper,s=n.reference,a=r.split("-")[0],l=void 0;return l=H(+i)?[+i,0]:X(i,o,s,a),"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var i=t.boundariesElement||p(e.instance.popper);e.instance.reference===i&&(i=p(i));var r=j("transform"),n=e.instance.popper.style,o=n.top,s=n.left,a=n[r];n.top="",n.left="",n[r]="";var l=_(e.instance.popper,e.instance.reference,t.padding,i,e.positionFixed);n.top=o,n.left=s,n[r]=a,t.boundaries=l;var d=t.priority,c=e.offsets.popper,h={primary:function(e){var i=c[e];return c[e]<l[e]&&!t.escapeWithReference&&(i=Math.max(c[e],l[e])),S({},e,i)},secondary:function(e){var i="right"===e?"left":"top",r=c[i];return c[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(c[i],l[e]-("right"===e?c.width:c.height))),S({},i,r)}};return d.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=k({},c,h[t](e))}),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,i=t.popper,r=t.reference,n=e.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(n),a=s?"right":"bottom",l=s?"left":"top",d=s?"width":"height";return i[a]<o(r[l])&&(e.offsets.popper[l]=o(r[l])-i[d]),i[l]>o(r[a])&&(e.offsets.popper[l]=o(r[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var i;if(!W(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var n=e.placement.split("-")[0],o=e.offsets,s=o.popper,a=o.reference,d=-1!==["left","right"].indexOf(n),c=d?"height":"width",h=d?"Top":"Left",u=h.toLowerCase(),f=d?"left":"top",p=d?"bottom":"right",g=$(r)[c];a[p]-g<s[u]&&(e.offsets.popper[u]-=s[u]-(a[p]-g)),a[u]+g>s[p]&&(e.offsets.popper[u]+=a[u]+g-s[p]),e.offsets.popper=D(e.offsets.popper);var m=a[u]+a[c]/2-g/2,v=l(e.instance.popper),b=parseFloat(v["margin"+h],10),y=parseFloat(v["border"+h+"Width"],10),w=m-e.offsets.popper[u]-b-y;return w=Math.max(Math.min(s[c]-g,w),0),e.arrowElement=r,e.offsets.arrow=(S(i={},u,Math.round(w)),S(i,f,""),i),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(L(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var i=_(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],n=O(r),o=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case Y.FLIP:s=[r,n];break;case Y.CLOCKWISE:s=U(r);break;case Y.COUNTERCLOCKWISE:s=U(r,!0);break;default:s=t.behavior}return s.forEach(function(a,l){if(r!==a||s.length===l+1)return e;r=e.placement.split("-")[0],n=O(r);var d=e.offsets.popper,c=e.offsets.reference,h=Math.floor,u="left"===r&&h(d.right)>h(c.left)||"right"===r&&h(d.left)<h(c.right)||"top"===r&&h(d.bottom)>h(c.top)||"bottom"===r&&h(d.top)<h(c.bottom),f=h(d.left)<h(i.left),p=h(d.right)>h(i.right),g=h(d.top)<h(i.top),m=h(d.bottom)>h(i.bottom),v="left"===r&&f||"right"===r&&p||"top"===r&&g||"bottom"===r&&m,b=-1!==["top","bottom"].indexOf(r),y=!!t.flipVariations&&(b&&"start"===o&&f||b&&"end"===o&&p||!b&&"start"===o&&g||!b&&"end"===o&&m);(u||v||y)&&(e.flipped=!0,(u||v)&&(r=s[l+1]),y&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=k({},e.offsets.popper,I(e.instance.popper,e.offsets.reference,e.placement)),e=F(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,i=t.split("-")[0],r=e.offsets,n=r.popper,o=r.reference,s=-1!==["left","right"].indexOf(i),a=-1===["top","left"].indexOf(i);return n[s?"left":"top"]=o[i]-(a?n[s?"width":"height"]:0),e.placement=O(t),e.offsets.popper=D(n),e}},hide:{order:800,enabled:!0,fn:function(e){if(!W(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,i=R(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<i.top||t.left>i.right||t.top>i.bottom||t.right<i.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var i=t.x,r=t.y,n=e.offsets.popper,o=R(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:t.gpuAcceleration,a=p(e.instance.popper),l=T(a),d={position:n.position},c={left:Math.floor(n.left),top:Math.round(n.top),bottom:Math.round(n.bottom),right:Math.floor(n.right)},h="bottom"===i?"top":"bottom",u="right"===r?"left":"right",f=j("transform"),g=void 0,m=void 0;if(m="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+c.bottom:-l.height+c.bottom:c.top,g="right"===u?"HTML"===a.nodeName?-a.clientWidth+c.right:-l.width+c.right:c.left,s&&f)d[f]="translate3d("+g+"px, "+m+"px, 0)",d[h]=0,d[u]=0,d.willChange="transform";else{var v="bottom"===h?-1:1,b="right"===u?-1:1;d[h]=m*v,d[u]=g*b,d.willChange=h+", "+u}var y={"x-placement":e.placement};return e.attributes=k({},y,e.attributes),e.styles=k({},d,e.styles),e.arrowStyles=k({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,i;return q(e.instance.popper,e.styles),t=e.instance.popper,i=e.attributes,Object.keys(i).forEach(function(e){!1!==i[e]?t.setAttribute(e,i[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&q(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,i,r,n){var o=E(n,t,e,i.positionFixed),s=M(i.placement,o,t,e,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return t.setAttribute("x-placement",s),q(t,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}},K=function(){function e(t,i){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};x(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=s(this.update.bind(this)),this.options=k({},e.Defaults,n),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(k({},e.Defaults.modifiers,n.modifiers)).forEach(function(t){r.options.modifiers[t]=k({},e.Defaults.modifiers[t]||{},n.modifiers?n.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return k({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&a(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return C(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=E(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=M(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=I(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=F(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,L(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[j("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=z(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return B.call(this)}}]),e}();K.Utils=("undefined"!=typeof window?window:e).PopperUtils,K.placements=G,K.Defaults=Z,t.default=K}.call(t,i("DuR2"))},aYbc:function(e,t,i){var r,n,o;!function(s){"use strict";n=[i("7t+N"),i("JJ2Q")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)}(function(e){e.widget("ui.multiselect",{options:{sortable:!0,searchable:!0,doubleClickable:!0,animated:"fast",show:"slideDown",hide:"slideUp",dividerLocation:.6,availableFirst:!1,nodeComparator:function(e,t){var i=e.text(),r=t.text();return i==r?0:i<r?-1:1}},_create:function(){this.element.hide(),this.id=this.element.attr("id"),this.container=e('<div class="ui-multiselect ui-helper-clearfix ui-widget"></div>').insertAfter(this.element),this.count=0,this.selectedContainer=e('<div class="selected"></div>').appendTo(this.container),this.availableContainer=e('<div class="available"></div>')[this.options.availableFirst?"prependTo":"appendTo"](this.container),this.selectedActions=e('<div class="actions ui-widget-header ui-helper-clearfix"><span class="count">0 '+e.ui.multiselect.locale.itemsCount+'</span><a href="#" class="remove-all">'+e.ui.multiselect.locale.removeAll+"</a></div>").appendTo(this.selectedContainer),this.availableActions=e('<div class="actions ui-widget-header ui-helper-clearfix"><input type="text" class="search empty ui-widget-content ui-corner-all"/><a href="#" class="add-all">'+e.ui.multiselect.locale.addAll+"</a></div>").appendTo(this.availableContainer),this.selectedList=e('<ul class="selected connected-list"><li class="ui-helper-hidden-accessible"></li></ul>').bind("selectstart",function(){return!1}).appendTo(this.selectedContainer),this.availableList=e('<ul class="available connected-list"><li class="ui-helper-hidden-accessible"></li></ul>').bind("selectstart",function(){return!1}).appendTo(this.availableContainer);var t=this;this.container.width(this.element.width()+1),this.selectedContainer.width(Math.floor(this.element.width()*this.options.dividerLocation)),this.availableContainer.width(Math.floor(this.element.width()*(1-this.options.dividerLocation))),this.selectedList.height(Math.max(this.element.height()-this.selectedActions.height(),1)),this.availableList.height(Math.max(this.element.height()-this.availableActions.height(),1)),this.options.animated||(this.options.show="show",this.options.hide="hide"),this._populateLists(this.element.find("option")),this.options.sortable&&this.selectedList.sortable({placeholder:"ui-state-highlight",axis:"y",update:function(i,r){t.selectedList.find("li").each(function(){e(this).data("optionLink")&&e(this).data("optionLink").remove().appendTo(t.element)})},receive:function(i,r){r.item.data("optionLink").prop("selected",!0),t.count+=1,t._updateCount(),t.selectedList.children(".ui-draggable").each(function(){e(this).removeClass("ui-draggable"),e(this).data("optionLink",r.item.data("optionLink")),e(this).data("idx",r.item.data("idx")),t._applyItemState(e(this),!0)}),setTimeout(function(){r.item.remove()},1)}}),this.options.searchable?this._registerSearchEvents(this.availableContainer.find("input.search")):e(".search").hide(),this.container.find(".remove-all").click(function(){return t._populateLists(t.element.find("option").prop("selected",!1)),!1}),this.container.find(".add-all").click(function(){var i=t.element.find("option").not(":selected");return t.availableList.children("li:hidden").length>1?t.availableList.children("li").each(function(t){e(this).is(":visible")&&e(i[t-1]).prop("selected",!0)}):i.prop("selected",!0),t._populateLists(t.element.find("option")),!1})},destroy:function(){this.element.show(),this.container.remove(),e.Widget.prototype.destroy.apply(this,arguments)},_populateLists:function(t){this.selectedList.children(".ui-element").remove(),this.availableList.children(".ui-element").remove(),this.count=0;var i=this;e(t.map(function(t){var r=e(this).is(":selected"),n=i._getOptionNode(this).appendTo(r?i.selectedList:i.availableList).show();return r&&(i.count+=1),i._applyItemState(n,r),n.data("idx",t),n[0]}));this._updateCount(),i._filter.apply(this.availableContainer.find("input.search"),[i.availableList])},_updateCount:function(){this.element.trigger("change"),this.selectedContainer.find("span.count").text(this.count+" "+e.ui.multiselect.locale.itemsCount)},_getOptionNode:function(t){t=e(t);var i=e('<li class="ui-state-default ui-element" title="'+(t.attr("title")||t.text())+'"><span class="ui-icon"/>'+t.text()+'<a href="#" class="action"><span class="ui-corner-all ui-icon"/></a></li>').hide();return i.data("optionLink",t),i},_cloneWithData:function(e){var t=e.clone(!1,!1);return t.data("optionLink",e.data("optionLink")),t.data("idx",e.data("idx")),t},_setSelected:function(t,i){if(t.data("optionLink").prop("selected",i),i){var r=this._cloneWithData(t);return t[this.options.hide](this.options.animated,function(){e(this).remove()}),r.appendTo(this.selectedList).hide()[this.options.show](this.options.animated),this._applyItemState(r,!0),r}var n=this.availableList.find("li"),o=this.options.nodeComparator,s=null,a=t.data("idx"),l=o(t,e(n[a]));if(l){for(;a>=0&&a<n.length;)if(l>0?a++:a--,l!=o(t,e(n[a]))){s=n[l>0?a:a+1];break}}else s=n[a];var d=this._cloneWithData(t);return s?d.insertBefore(e(s)):d.appendTo(this.availableList),t[this.options.hide](this.options.animated,function(){e(this).remove()}),d.hide()[this.options.show](this.options.animated),this._applyItemState(d,!1),d},_applyItemState:function(e,t){t?(this.options.sortable?e.children("span").addClass("ui-icon-arrowthick-2-n-s").removeClass("ui-helper-hidden").addClass("ui-icon"):e.children("span").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon"),e.find("a.action span").addClass("ui-icon-minus").removeClass("ui-icon-plus"),this._registerRemoveEvents(e.find("a.action"))):(e.children("span").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon"),e.find("a.action span").addClass("ui-icon-plus").removeClass("ui-icon-minus"),this._registerAddEvents(e.find("a.action"))),this._registerDoubleClickEvents(e),this._registerHoverEvents(e)},_filter:function(t){var i=e(this),r=t.children("li"),n=r.map(function(){return e(this).text().toLowerCase()}),o=e.trim(i.val().toLowerCase()),s=[];o?(r.hide(),n.each(function(e){this.indexOf(o)>-1&&s.push(e)}),e.each(s,function(){e(r[this]).show()})):r.show()},_registerDoubleClickEvents:function(t){this.options.doubleClickable&&t.dblclick(function(i){0===e(i.target).closest(".action").length&&t.find("a.action").click()})},_registerHoverEvents:function(t){t.removeClass("ui-state-hover"),t.mouseover(function(){e(this).addClass("ui-state-hover")}),t.mouseout(function(){e(this).removeClass("ui-state-hover")})},_registerAddEvents:function(t){var i=this;t.click(function(){i._setSelected(e(this).parent(),!0);return i.count+=1,i._updateCount(),!1}),this.options.sortable&&t.each(function(){e(this).parent().draggable({connectToSortable:i.selectedList,helper:function(){var t=i._cloneWithData(e(this)).width(e(this).width()-50);return t.width(e(this).width()),t},appendTo:i.container,containment:i.container,revert:"invalid"})})},_registerRemoveEvents:function(t){var i=this;t.click(function(){return i._setSelected(e(this).parent(),!1),i.count-=1,i._updateCount(),!1})},_registerSearchEvents:function(t){var i=this;t.focus(function(){e(this).addClass("ui-state-active")}).blur(function(){e(this).removeClass("ui-state-active")}).keypress(function(e){if(13==e.keyCode)return!1}).keyup(function(){i._filter.apply(this,[i.availableList])})}}),e.extend(e.ui.multiselect,{locale:{addAll:"Add all",removeAll:"Remove all",itemsCount:"items selected"}})})},"b4+h":function(e,t,i){var r,n,o,s;s=function(e){return function(){function t(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-“”’]*/g,"")}e.validator.addMethod("maxWords",function(e,i,r){return this.optional(i)||t(e).match(/\b\w+\b/g).length<=r},e.validator.format("Please enter {0} words or less.")),e.validator.addMethod("minWords",function(e,i,r){return this.optional(i)||t(e).match(/\b\w+\b/g).length>=r},e.validator.format("Please enter at least {0} words.")),e.validator.addMethod("rangeWords",function(e,i,r){var n=t(e),o=/\b\w+\b/g;return this.optional(i)||n.match(o).length>=r[0]&&n.match(o).length<=r[1]},e.validator.format("Please enter between {0} and {1} words."))}(),e.validator.addMethod("accept",function(t,i,r){var n,o,s="string"==typeof r?r.replace(/\s/g,""):"image/*",a=this.optional(i);if(a)return a;if("file"===e(i).attr("type")&&(s=s.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*"),i.files&&i.files.length))for(o=new RegExp(".?("+s+")$","i"),n=0;n<i.files.length;n++)if(!i.files[n].type.match(o))return!1;return!0},e.validator.format("Please enter a value with a valid mimetype.")),e.validator.addMethod("alphanumeric",function(e,t){return this.optional(t)||/^\w+$/i.test(e)},"Letters, numbers, and underscores only please"),e.validator.addMethod("bankaccountNL",function(e,t){if(this.optional(t))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(e))return!1;var i,r=e.replace(/ /g,""),n=0,o=r.length;for(i=0;i<o;i++)n+=(o-i)*r.substring(i,i+1);return n%11==0},"Please specify a valid bank account number"),e.validator.addMethod("bankorgiroaccountNL",function(t,i){return this.optional(i)||e.validator.methods.bankaccountNL.call(this,t,i)||e.validator.methods.giroaccountNL.call(this,t,i)},"Please specify a valid bank or giro account number"),e.validator.addMethod("bic",function(e,t){return this.optional(t)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(e.toUpperCase())},"Please specify a valid BIC code"),e.validator.addMethod("cifES",function(e,t){"use strict";if(this.optional(t))return!0;var i,r,n,o,s=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi),a=e.substring(0,1),l=e.substring(1,8),d=e.substring(8,9),c=0,h=0;function u(e){return e%2==0}if(9!==e.length||!s.test(e))return!1;for(i=0;i<l.length;i++)r=parseInt(l[i],10),u(i)?h+=(r*=2)<10?r:r-9:c+=r;return n=(10-(c+h).toString().substr(-1)).toString(),n=parseInt(n,10)>9?"0":n,o="JABCDEFGHI".substr(n,1).toString(),a.match(/[ABEH]/)?d===n:a.match(/[KPQS]/)?d===o:d===n||d===o},"Please specify a valid CIF number."),e.validator.addMethod("cpfBR",function(e){if(11!==(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;var t,i,r,n,o=0;if(t=parseInt(e.substring(9,10),10),i=parseInt(e.substring(10,11),10),r=function(e,t){var i=10*e%11;return 10!==i&&11!==i||(i=0),i===t},""===e||"00000000000"===e||"11111111111"===e||"22222222222"===e||"33333333333"===e||"44444444444"===e||"55555555555"===e||"66666666666"===e||"77777777777"===e||"88888888888"===e||"99999999999"===e)return!1;for(n=1;n<=9;n++)o+=parseInt(e.substring(n-1,n),10)*(11-n);if(r(o,t)){for(o=0,n=1;n<=10;n++)o+=parseInt(e.substring(n-1,n),10)*(12-n);return r(o,i)}return!1},"Please specify a valid CPF number"),e.validator.addMethod("creditcard",function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var i,r,n=0,o=0,s=!1;if((e=e.replace(/\D/g,"")).length<13||e.length>19)return!1;for(i=e.length-1;i>=0;i--)r=e.charAt(i),o=parseInt(r,10),s&&(o*=2)>9&&(o-=9),n+=o,s=!s;return n%10==0},"Please enter a valid credit card number."),e.validator.addMethod("creditcardtypes",function(e,t,i){if(/[^0-9\-]+/.test(e))return!1;e=e.replace(/\D/g,"");var r=0;return i.mastercard&&(r|=1),i.visa&&(r|=2),i.amex&&(r|=4),i.dinersclub&&(r|=8),i.enroute&&(r|=16),i.discover&&(r|=32),i.jcb&&(r|=64),i.unknown&&(r|=128),i.all&&(r=255),1&r&&(/^(5[12345])/.test(e)||/^(2[234567])/.test(e))?16===e.length:2&r&&/^(4)/.test(e)?16===e.length:4&r&&/^(3[47])/.test(e)?15===e.length:8&r&&/^(3(0[012345]|[68]))/.test(e)?14===e.length:16&r&&/^(2(014|149))/.test(e)?15===e.length:32&r&&/^(6011)/.test(e)?16===e.length:64&r&&/^(3)/.test(e)?16===e.length:64&r&&/^(2131|1800)/.test(e)?15===e.length:!!(128&r)},"Please enter a valid credit card number."),e.validator.addMethod("currency",function(e,t,i){var r,n="string"==typeof i,o=n?i:i[0],s=!!n||i[1];return o=o.replace(/,/g,""),r="^["+(o=s?o+"]":o+"]?")+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",r=new RegExp(r),this.optional(t)||r.test(e)},"Please specify a valid currency"),e.validator.addMethod("dateFA",function(e,t){return this.optional(t)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(e)},e.validator.messages.date),e.validator.addMethod("dateITA",function(e,t){var i,r,n,o,s,a=!1;return/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e)?(i=e.split("/"),r=parseInt(i[0],10),n=parseInt(i[1],10),o=parseInt(i[2],10),a=(s=new Date(Date.UTC(o,n-1,r,12,0,0,0))).getUTCFullYear()===o&&s.getUTCMonth()===n-1&&s.getUTCDate()===r):a=!1,this.optional(t)||a},e.validator.messages.date),e.validator.addMethod("dateNL",function(e,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)},e.validator.messages.date),e.validator.addMethod("extension",function(e,t,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(new RegExp("\\.("+i+")$","i"))},e.validator.format("Please enter a value with a valid extension.")),e.validator.addMethod("giroaccountNL",function(e,t){return this.optional(t)||/^[0-9]{1,7}$/.test(e)},"Please specify a valid giro account number"),e.validator.addMethod("greaterThan",function(t,i,r){var n=e(r);return this.settings.onfocusout&&n.not(".validate-greaterThan-blur").length&&n.addClass("validate-greaterThan-blur").on("blur.validate-greaterThan",function(){e(i).valid()}),t>n.val()},"Please enter a greater value."),e.validator.addMethod("greaterThanEqual",function(t,i,r){var n=e(r);return this.settings.onfocusout&&n.not(".validate-greaterThanEqual-blur").length&&n.addClass("validate-greaterThanEqual-blur").on("blur.validate-greaterThanEqual",function(){e(i).valid()}),t>=n.val()},"Please enter a greater value."),e.validator.addMethod("iban",function(e,t){if(this.optional(t))return!0;var i,r,n,o,s,a=e.replace(/ /g,"").toUpperCase(),l="",d=!0,c="";if(a.length<5)return!1;if(void 0!==(n={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"}[a.substring(0,2)])&&!new RegExp("^[A-Z]{2}\\d{2}"+n+"$","").test(a))return!1;for(i=a.substring(4,a.length)+a.substring(0,4),o=0;o<i.length;o++)"0"!==(r=i.charAt(o))&&(d=!1),d||(l+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(r));for(s=0;s<l.length;s++)c=(""+c+l.charAt(s))%97;return 1===c},"Please specify a valid IBAN"),e.validator.addMethod("integer",function(e,t){return this.optional(t)||/^-?\d+$/.test(e)},"A positive or negative non-decimal number please"),e.validator.addMethod("ipv4",function(e,t){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)},"Please enter a valid IP v4 address."),e.validator.addMethod("ipv6",function(e,t){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)},"Please enter a valid IP v6 address."),e.validator.addMethod("lessThan",function(t,i,r){var n=e(r);return this.settings.onfocusout&&n.not(".validate-lessThan-blur").length&&n.addClass("validate-lessThan-blur").on("blur.validate-lessThan",function(){e(i).valid()}),t<n.val()},"Please enter a lesser value."),e.validator.addMethod("lessThanEqual",function(t,i,r){var n=e(r);return this.settings.onfocusout&&n.not(".validate-lessThanEqual-blur").length&&n.addClass("validate-lessThanEqual-blur").on("blur.validate-lessThanEqual",function(){e(i).valid()}),t<=n.val()},"Please enter a lesser value."),e.validator.addMethod("lettersonly",function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)},"Letters only please"),e.validator.addMethod("letterswithbasicpunc",function(e,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(e)},"Letters or punctuation only please"),e.validator.addMethod("maxfiles",function(t,i,r){return!!this.optional(i)||!("file"===e(i).attr("type")&&i.files&&i.files.length>r)},e.validator.format("Please select no more than {0} files.")),e.validator.addMethod("maxsize",function(t,i,r){if(this.optional(i))return!0;if("file"===e(i).attr("type")&&i.files&&i.files.length)for(var n=0;n<i.files.length;n++)if(i.files[n].size>r)return!1;return!0},e.validator.format("File size must not exceed {0} bytes each.")),e.validator.addMethod("maxsizetotal",function(t,i,r){if(this.optional(i))return!0;if("file"===e(i).attr("type")&&i.files&&i.files.length)for(var n=0,o=0;o<i.files.length;o++)if((n+=i.files[o].size)>r)return!1;return!0},e.validator.format("Total size of all files must not exceed {0} bytes.")),e.validator.addMethod("mobileNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid mobile number"),e.validator.addMethod("mobileUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),e.validator.addMethod("netmask",function(e,t){return this.optional(t)||/^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(e)},"Please enter a valid netmask."),e.validator.addMethod("nieES",function(e,t){"use strict";if(this.optional(t))return!0;var i,r=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi),n=e.substr(e.length-1).toUpperCase();return!((e=e.toString().toUpperCase()).length>10||e.length<9||!r.test(e))&&(i=9===(e=e.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2")).length?e.substr(0,8):e.substr(0,9),"TRWAGMYFPDXBNJZSQVHLCKET".charAt(parseInt(i,10)%23)===n)},"Please specify a valid NIE number."),e.validator.addMethod("nifES",function(e,t){"use strict";return!!this.optional(t)||!!(e=e.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(e)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,0)%23)===e.charAt(8):!!/^[KLM]{1}/.test(e)&&e[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,1)%23))},"Please specify a valid NIF number."),e.validator.addMethod("nipPL",function(e){"use strict";if(10!==(e=e.replace(/[^0-9]/g,"")).length)return!1;for(var t=[6,5,7,2,3,4,5,6,7],i=0,r=0;r<9;r++)i+=t[r]*e[r];var n=i%11;return(10===n?0:n)===parseInt(e[9],10)},"Please specify a valid NIP number."),e.validator.addMethod("nisBR",function(e){var t,i,r,n,o,s=0;if(11!==(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;for(i=parseInt(e.substring(10,11),10),t=parseInt(e.substring(0,10),10),n=2;n<12;n++)o=n,10===n&&(o=2),11===n&&(o=3),s+=t%10*o,t=parseInt(t/10,10);return i===(r=(r=s%11)>1?11-r:0)},"Please specify a valid NIS/PIS number"),e.validator.addMethod("notEqualTo",function(t,i,r){return this.optional(i)||!e.validator.methods.equalTo.call(this,t,i,r)},"Please enter a different value, values must not be the same."),e.validator.addMethod("nowhitespace",function(e,t){return this.optional(t)||/^\S+$/i.test(e)},"No white space please"),e.validator.addMethod("pattern",function(e,t,i){return!!this.optional(t)||("string"==typeof i&&(i=new RegExp("^(?:"+i+")$")),i.test(e))},"Invalid format."),e.validator.addMethod("phoneNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid phone number."),e.validator.addMethod("phonePL",function(e,t){e=e.replace(/\s+/g,"");return this.optional(t)||/^(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-68]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}$/.test(e)},"Please specify a valid phone number"),e.validator.addMethod("phonesUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),e.validator.addMethod("phoneUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),e.validator.addMethod("phoneUS",function(e,t){return e=e.replace(/\s+/g,""),this.optional(t)||e.length>9&&e.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number"),e.validator.addMethod("postalcodeBR",function(e,t){return this.optional(t)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(e)},"Informe um CEP válido."),e.validator.addMethod("postalCodeCA",function(e,t){return this.optional(t)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postalcodeIT",function(e,t){return this.optional(t)||/^\d{5}$/.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postalcodeNL",function(e,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postcodeUK",function(e,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(e)},"Please specify a valid UK postcode"),e.validator.addMethod("require_from_group",function(t,i,r){var n=e(r[1],i.form),o=n.eq(0),s=o.data("valid_req_grp")?o.data("valid_req_grp"):e.extend({},this),a=n.filter(function(){return s.elementValue(this)}).length>=r[0];return o.data("valid_req_grp",s),e(i).data("being_validated")||(n.data("being_validated",!0),n.each(function(){s.element(this)}),n.data("being_validated",!1)),a},e.validator.format("Please fill at least {0} of these fields.")),e.validator.addMethod("skip_or_fill_minimum",function(t,i,r){var n=e(r[1],i.form),o=n.eq(0),s=o.data("valid_skip")?o.data("valid_skip"):e.extend({},this),a=n.filter(function(){return s.elementValue(this)}).length,l=0===a||a>=r[0];return o.data("valid_skip",s),e(i).data("being_validated")||(n.data("being_validated",!0),n.each(function(){s.element(this)}),n.data("being_validated",!1)),l},e.validator.format("Please either skip these fields or fill at least {0} of them.")),e.validator.addMethod("stateUS",function(e,t,i){var r,n=void 0===i,o=!n&&void 0!==i.caseSensitive&&i.caseSensitive,s=!n&&void 0!==i.includeTerritories&&i.includeTerritories,a=!n&&void 0!==i.includeMilitary&&i.includeMilitary;return r=s||a?s&&a?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":s?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",r=o?new RegExp(r):new RegExp(r,"i"),this.optional(t)||r.test(e)},"Please specify a valid state"),e.validator.addMethod("strippedminlength",function(t,i,r){return e(t).text().length>=r},e.validator.format("Please enter at least {0} characters")),e.validator.addMethod("time",function(e,t){return this.optional(t)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(e)},"Please enter a valid time, between 00:00 and 23:59"),e.validator.addMethod("time12h",function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)},"Please enter a valid time in 12-hour am/pm format"),e.validator.addMethod("url2",function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},e.validator.messages.url),e.validator.addMethod("vinUS",function(e){if(17!==e.length)return!1;var t,i,r,n,o,s,a=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],l=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],d=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],c=0;for(t=0;t<17;t++){if(n=d[t],r=e.slice(t,t+1),8===t&&(s=r),isNaN(r)){for(i=0;i<a.length;i++)if(r.toUpperCase()===a[i]){r=l[i],r*=n,isNaN(s)&&8===i&&(s=a[i]);break}}else r*=n;c+=r}return 10===(o=c%11)&&(o="X"),o===s},"The specified vehicle identification number (VIN) is invalid."),e.validator.addMethod("zipcodeUS",function(e,t){return this.optional(t)||/^\d{5}(-\d{4})?$/.test(e)},"The specified US ZIP Code is invalid"),e.validator.addMethod("ziprange",function(e,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(e)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"),e},n=[i("7t+N"),i("f9KE")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},f9KE:function(e,t,i){var r,n,o,s;s=function(e){var t;e.extend(e.fn,{validate:function(t){if(this.length){var i=e.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new e.validator(t,this[0]),e.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.submitButton=t.currentTarget,e(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(t){function r(){var r,n;return i.submitButton&&(i.settings.submitHandler||i.formSubmitted)&&(r=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(e(i.submitButton).val()).appendTo(i.currentForm)),!(i.settings.submitHandler&&!i.settings.debug)||(n=i.settings.submitHandler.call(i,i.currentForm,t),r&&r.remove(),void 0!==n&&n)}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,i,r;return e(this[0]).is("form")?t=this.validate().form():(r=[],t=!0,i=e(this[0].form).validate(),this.each(function(){(t=i.element(this)&&t)||(r=r.concat(i.errorList))}),i.errorList=r),t},rules:function(t,i){var r,n,o,s,a,l,d=this[0];if(null!=d&&(!d.form&&d.isContentEditable&&(d.form=this.closest("form")[0],d.name=this.attr("name")),null!=d.form)){if(t)switch(n=(r=e.data(d.form,"validator").settings).rules,o=e.validator.staticRules(d),t){case"add":e.extend(o,e.validator.normalizeRule(i)),delete o.messages,n[d.name]=o,i.messages&&(r.messages[d.name]=e.extend(r.messages[d.name],i.messages));break;case"remove":return i?(l={},e.each(i.split(/\s/),function(e,t){l[t]=o[t],delete o[t]}),l):(delete n[d.name],o)}return(s=e.validator.normalizeRules(e.extend({},e.validator.classRules(d),e.validator.attributeRules(d),e.validator.dataRules(d),e.validator.staticRules(d)),d)).required&&(a=s.required,delete s.required,s=e.extend({required:a},s)),s.remote&&(a=s.remote,delete s.remote,s=e.extend(s,{remote:a})),s}}}),e.extend(e.expr.pseudos||e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){var i=e(t).val();return null!==i&&!!e.trim(""+i)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,i){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=i,this.init()},e.validator.format=function(t,i){return 1===arguments.length?function(){var i=e.makeArray(arguments);return i.unshift(t),e.validator.format.apply(this,i)}:void 0===i?t:(arguments.length>2&&i.constructor!==Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return i})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,i){9===i.which&&""===this.elementValue(t)||-1!==e.inArray(i.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(r):e(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(r):e(t).removeClass(i).addClass(r)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t,i=this.currentForm,r=this.groups={};function n(t){if(!this.form&&this.isContentEditable&&(this.form=e(this).closest("form")[0],this.name=e(this).attr("name")),i===this.form){var r=e.data(this.form,"validator"),n="on"+t.type.replace(/^validate/,""),o=r.settings;o[n]&&!e(this).is(o.ignore)&&o[n].call(r,this,t)}}e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){r[i]=t})}),t=this.settings.rules,e.each(t,function(i,r){t[i]=e.validator.normalizeRule(r)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",n).on("click.validate","select, option, [type='radio'], [type='checkbox']",n),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var i,r,n=this.clean(t),o=this.validationTargetFor(n),s=this,a=!0;return void 0===o?delete this.invalid[n.name]:(this.prepareElement(o),this.currentElements=e(o),(r=this.groups[o.name])&&e.each(this.groups,function(e,t){t===r&&e!==o.name&&(n=s.validationTargetFor(s.clean(s.findByName(e))))&&n.name in s.invalid&&(s.currentElements.push(n),a=s.check(n)&&a)}),i=!1!==this.check(o),a=a&&i,this.invalid[o.name]=!i,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!i)),a},showErrors:function(t){if(t){var i=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,function(e,t){return{message:e,element:i.findByName(t)[0]}}),this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)void 0!==e[t]&&null!==e[t]&&!1!==e[t]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var r=this.name||e(this).attr("name");return!r&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.isContentEditable&&(this.form=e(this).closest("form")[0],this.name=r),this.form===t.currentForm&&(!(r in i||!t.objectLength(e(this).rules()))&&(i[r]=!0,!0))})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var i,r,n=e(t),o=t.type;return"radio"===o||"checkbox"===o?this.findByName(t.name).filter(":checked").val():"number"===o&&void 0!==t.validity?t.validity.badInput?"NaN":n.val():(i=t.isContentEditable?n.text():n.val(),"file"===o?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(r=i.lastIndexOf("/"))>=0?i.substr(r+1):(r=i.lastIndexOf("\\"))>=0?i.substr(r+1):i:"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var i,r,n,o,s=e(t).rules(),a=e.map(s,function(e,t){return t}).length,l=!1,d=this.elementValue(t);for(r in"function"==typeof s.normalizer?o=s.normalizer:"function"==typeof this.settings.normalizer&&(o=this.settings.normalizer),o&&(d=o.call(t,d),delete s.normalizer),s){n={method:r,parameters:s[r]};try{if("dependency-mismatch"===(i=e.validator.methods[r].call(this,d,t,n.parameters))&&1===a){l=!0;continue}if(l=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,n),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+n.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+n.method+"' method."),e}}if(!l)return this.objectLength(s)&&this.successList.push(t),!0},customDataMessage:function(t,i){return e(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,i){"string"==typeof i&&(i={method:i});var r=this.findDefined(this.customMessage(t.name,i.method),this.customDataMessage(t,i.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[i.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),n=/\$?\{(\d+)\}/g;return"function"==typeof r?r=r.call(this,i.parameters,t):n.test(r)&&(r=e.validator.format(r.replace(n,"{$1}"),i.parameters)),r},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t);this.errorList.push({message:i,element:e,method:t.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,i;for(e=0;this.errorList[e];e++)i=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r,n,o,s,a=this.errorsFor(t),l=this.idOrName(t),d=e(t).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(i)):(r=a=e("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(r):this.settings.errorPlacement?this.settings.errorPlacement.call(this,r,e(t)):r.insertAfter(t),a.is("label")?a.attr("for",l):0===a.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(o=a.attr("id"),d?d.match(new RegExp("\\b"+this.escapeCssMeta(o)+"\\b"))||(d+=" "+o):d=o,e(t).attr("aria-describedby",d),(n=this.groups[t.name])&&(s=this,e.each(s.groups,function(t,i){i===n&&e("[name='"+s.escapeCssMeta(t)+"']",s.currentForm).attr("aria-describedby",a.attr("id"))})))),!i&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,t)),this.toShow=this.toShow.add(a)},errorsFor:function(t){var i=this.escapeCssMeta(this.idOrName(t)),r=e(t).attr("aria-describedby"),n="label[for='"+i+"'], label[for='"+i+"'] *";return r&&(n=n+", #"+this.escapeCssMeta(r).replace(/\s+/g,", #")),this.errors().filter(n)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,i){return!!e(t,i.form).length},function:function(e,t){return e(t)}},optional:function(t){var i=this.elementValue(t);return!e.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.submitButton&&e("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,i){return i="string"==typeof i&&i||"remote",e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:i})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:e.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=e(t).attr("class");return r&&e.each(r.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(i,e.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(e,t,i,r){/min|max|step/.test(i)&&(null===t||/number|range|text/.test(t))&&(r=Number(r),isNaN(r)&&(r=void 0)),r||0===r?e[i]=r:t===i&&"range"!==t&&(e[i]=!0)},attributeRules:function(t){var i,r,n={},o=e(t),s=t.getAttribute("type");for(i in e.validator.methods)"required"===i?(""===(r=t.getAttribute(i))&&(r=!0),r=!!r):r=o.attr(i),this.normalizeAttributeRule(n,s,i,r);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var i,r,n={},o=e(t),s=t.getAttribute("type");for(i in e.validator.methods)""===(r=o.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()))&&(r=!0),this.normalizeAttributeRule(n,s,i,r);return n},staticRules:function(t){var i={},r=e.data(t.form,"validator");return r.settings.rules&&(i=e.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return e.each(t,function(r,n){if(!1!==n){if(n.param||n.depends){var o=!0;switch(typeof n.depends){case"string":o=!!e(n.depends,i.form).length;break;case"function":o=n.depends.call(i,i)}o?t[r]=void 0===n.param||n.param:(e.data(i.form,"validator").resetElements(e(i)),delete t[r])}}else delete t[r]}),e.each(t,function(r,n){t[r]=e.isFunction(n)&&"normalizer"!==r?n(i):n}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var i;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};e.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,r){e.validator.methods[t]=i,e.validator.messages[t]=void 0!==r?r:e.validator.messages[t],i.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var n=e(i).val();return n&&n.length>0}return this.checkable(i)?this.getLength(t,i)>0:void 0!==t&&null!==t&&t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:(t=!1,function(e,i){return t||(t=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(i)||!/Invalid|NaN/.test(new Date(e).toString())}),dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,i,r){var n=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||n>=r},maxlength:function(t,i,r){var n=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||n<=r},rangelength:function(t,i,r){var n=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||n>=r[0]&&n<=r[1]},min:function(e,t,i){return this.optional(t)||e>=i},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},step:function(t,i,r){var n,o=e(i).attr("type"),s="Step attribute on input type "+o+" is not supported.",a=new RegExp("\\b"+o+"\\b"),l=function(e){var t=(""+e).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0},d=function(e){return Math.round(e*Math.pow(10,n))},c=!0;if(o&&!a.test(["text","number","range"].join()))throw new Error(s);return n=l(r),(l(t)>n||d(t)%d(r)!=0)&&(c=!1),this.optional(i)||c},equalTo:function(t,i,r){var n=e(r);return this.settings.onfocusout&&n.not(".validate-equalTo-blur").length&&n.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){e(i).valid()}),t===n.val()},remote:function(t,i,r,n){if(this.optional(i))return"dependency-mismatch";n="string"==typeof n&&n||"remote";var o,s,a,l=this.previousValue(i,n);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[i.name][n],this.settings.messages[i.name][n]=l.message,r="string"==typeof r&&{url:r}||r,a=e.param(e.extend({data:t},r.data)),l.old===a?l.valid:(l.old=a,o=this,this.startRequest(i),(s={})[i.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:s,context:o.currentForm,success:function(e){var r,s,a,d=!0===e||"true"===e;o.settings.messages[i.name][n]=l.originalMessage,d?(a=o.formSubmitted,o.resetInternals(),o.toHide=o.errorsFor(i),o.formSubmitted=a,o.successList.push(i),o.invalid[i.name]=!1,o.showErrors()):(r={},s=e||o.defaultMessage(i,{method:n,parameters:t}),r[i.name]=l.message=s,o.invalid[i.name]=!0,o.showErrors(r)),l.valid=d,o.stopRequest(i,d)}},r)),"pending")}}});var i,r={};return e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,i){var n=e.port;"abort"===e.mode&&(r[n]&&r[n].abort(),r[n]=i)}):(i=e.ajax,e.ajax=function(t){var n=("mode"in t?t:e.ajaxSettings).mode,o=("port"in t?t:e.ajaxSettings).port;return"abort"===n?(r[o]&&r[o].abort(),r[o]=i.apply(this,arguments),r[o]):i.apply(this,arguments)}),e},n=[i("7t+N")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},j6mF:function(e,t){!function(){"use strict";var e=function(){},t={},i={},r=null,n={mark:e,measure:e};try{"undefined"!=typeof window&&(t=window),"undefined"!=typeof document&&(i=document),"undefined"!=typeof MutationObserver&&(r=MutationObserver),"undefined"!=typeof performance&&(n=performance)}catch(e){}var o=(t.navigator||{}).userAgent,s=void 0===o?"":o,a=t,l=i,d=r,c=n,h=!!a.document,u=!!l.documentElement&&!!l.head&&"function"==typeof l.addEventListener&&"function"==typeof l.createElement,f=~s.indexOf("MSIE")||~s.indexOf("Trident/"),p=16,g="data-fa-i2svg",m="data-fa-pseudo-element",v="data-prefix",b="data-icon",y="fontawesome-i2svg",w=["HTML","HEAD","STYLE","SCRIPT"],x=function(){try{return!0}catch(e){return!1}}(),C=[1,2,3,4,5,6,7,8,9,10],S=C.concat([11,12,13,14,15,16,17,18,19,20]),k=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],D=["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter"].concat(C.map(function(e){return e+"x"})).concat(S.map(function(e){return"w-"+e})),T=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},A=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},_=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,n=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),M=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)},E=a.FontAwesomeConfig||{};if(l&&"function"==typeof l.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(e){var t=_(e,2),i=t[0],r=t[1],n=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=l.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(i));void 0!==n&&null!==n&&(E[r]=n)})}var $=N({familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},E);$.autoReplaceSvg||($.observeMutations=!1);var O=N({},$);a.FontAwesomeConfig=O;var I=a||{};I.___FONT_AWESOME___||(I.___FONT_AWESOME___={}),I.___FONT_AWESOME___.styles||(I.___FONT_AWESOME___.styles={}),I.___FONT_AWESOME___.hooks||(I.___FONT_AWESOME___.hooks={}),I.___FONT_AWESOME___.shims||(I.___FONT_AWESOME___.shims=[]);var R=I.___FONT_AWESOME___,F=[],L=!1;u&&((L=(l.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(l.readyState))||l.addEventListener("DOMContentLoaded",function e(){l.removeEventListener("DOMContentLoaded",e),L=1,F.map(function(e){return e()})}));var j=function(e){u&&(L?setTimeout(e,0):F.push(e))},P=p,z={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function B(e){if(e&&u){var t=l.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var i=l.head.childNodes,r=null,n=i.length-1;n>-1;n--){var o=i[n],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}return l.head.insertBefore(t,r),e}}var H=0;function q(){return++H}function W(e){for(var t=[],i=(e||[]).length>>>0;i--;)t[i]=e[i];return t}function G(e){return e.classList?W(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(e){return e})}function V(e,t){var i,r=t.split("-"),n=r[0],o=r.slice(1).join("-");return n!==e||""===o||(i=o,~D.indexOf(i))?null:o}function U(e){return(""+e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Y(e){return Object.keys(e||{}).reduce(function(t,i){return t+(i+": ")+e[i]+";"},"")}function X(e){return e.size!==z.size||e.x!==z.x||e.y!==z.y||e.rotate!==z.rotate||e.flipX||e.flipY}function Z(e){var t=e.transform,i=e.containerWidth,r=e.iconWidth;return{outer:{transform:"translate("+i/2+" 256)"},inner:{transform:"translate("+32*t.x+", "+32*t.y+") "+" "+("scale("+t.size/16*(t.flipX?-1:1)+", "+t.size/16*(t.flipY?-1:1)+") ")+" "+("rotate("+t.rotate+" 0 0)")},path:{transform:"translate("+r/2*-1+" -256)"}}}var K={x:0,y:0,width:"100%",height:"100%"},J=function(e){var t=e.children,i=e.attributes,r=e.main,n=e.mask,o=e.transform,s=r.width,a=r.icon,l=n.width,d=n.icon,c=Z({transform:o,containerWidth:l,iconWidth:s}),h={tag:"rect",attributes:N({},K,{fill:"white"})},u={tag:"g",attributes:N({},c.inner),children:[{tag:"path",attributes:N({},a.attributes,c.path,{fill:"black"})}]},f={tag:"g",attributes:N({},c.outer),children:[u]},p="mask-"+q(),g="clip-"+q(),m={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:[d]},{tag:"mask",attributes:N({},K,{id:p,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,f]}]};return t.push(m,{tag:"rect",attributes:N({fill:"currentColor","clip-path":"url(#"+g+")",mask:"url(#"+p+")"},K)}),{children:t,attributes:i}},Q=function(e){var t=e.children,i=e.attributes,r=e.main,n=e.transform,o=Y(e.styles);if(o.length>0&&(i.style=o),X(n)){var s=Z({transform:n,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:N({},s.outer),children:[{tag:"g",attributes:N({},s.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:N({},r.icon.attributes,s.path)}]}]})}else t.push(r.icon);return{children:t,attributes:i}},ee=function(e){var t=e.children,i=e.main,r=e.mask,n=e.attributes,o=e.styles,s=e.transform;if(X(s)&&i.found&&!r.found){var a={x:i.width/i.height/2,y:.5};n.style=Y(N({},o,{"transform-origin":a.x+s.x/16+"em "+(a.y+s.y/16)+"em"}))}return[{tag:"svg",attributes:n,children:t}]},te=function(e){var t=e.prefix,i=e.iconName,r=e.children,n=e.attributes,o=e.symbol,s=!0===o?t+"-"+O.familyPrefix+"-"+i:o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:N({},n,{id:s}),children:r}]}]};function ie(e){var t=e.icons,i=t.main,r=t.mask,n=e.prefix,o=e.iconName,s=e.transform,a=e.symbol,l=e.title,d=e.extra,c=e.watchable,h=void 0!==c&&c,u=r.found?r:i,f=u.width,p=u.height,m="fa-w-"+Math.ceil(f/p*16),v=[O.replacementClass,o?O.familyPrefix+"-"+o:"",m].filter(function(e){return-1===d.classes.indexOf(e)}).concat(d.classes).join(" "),b={children:[],attributes:N({},d.attributes,{"data-prefix":n,"data-icon":o,class:v,role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+f+" "+p})};h&&(b.attributes[g]=""),l&&b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-"+q()},children:[l]});var y=N({},b,{prefix:n,iconName:o,main:i,mask:r,transform:s,symbol:a,styles:d.styles}),w=r.found&&i.found?J(y):Q(y),x=w.children,C=w.attributes;return y.children=x,y.attributes=C,a?te(y):ee(y)}function re(e){var t=e.content,i=e.width,r=e.height,n=e.transform,o=e.title,s=e.extra,a=e.watchable,l=void 0!==a&&a,d=N({},s.attributes,o?{title:o}:{},{class:s.classes.join(" ")});l&&(d[g]="");var c=N({},s.styles);X(n)&&(c.transform=function(e){var t=e.transform,i=e.width,r=void 0===i?p:i,n=e.height,o=void 0===n?p:n,s=e.startCentered,a=void 0!==s&&s,l="";return l+=a&&f?"translate("+(t.x/P-r/2)+"em, "+(t.y/P-o/2)+"em) ":a?"translate(calc(-50% + "+t.x/P+"em), calc(-50% + "+t.y/P+"em)) ":"translate("+t.x/P+"em, "+t.y/P+"em) ",l+="scale("+t.size/P*(t.flipX?-1:1)+", "+t.size/P*(t.flipY?-1:1)+") ",l+="rotate("+t.rotate+"deg) "}({transform:n,startCentered:!0,width:i,height:r}),c["-webkit-transform"]=c.transform);var h=Y(c);h.length>0&&(d.style=h);var u=[];return u.push({tag:"span",attributes:d,children:[t]}),o&&u.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),u}var ne=function(){},oe=O.measurePerformance&&c&&c.mark&&c.measure?c:{mark:ne,measure:ne},se=function(e){oe.mark('FA "5.3.1" '+e+" ends"),oe.measure('FA "5.3.1" '+e,'FA "5.3.1" '+e+" begins",'FA "5.3.1" '+e+" ends")},ae={begin:function(e){return oe.mark('FA "5.3.1" '+e+" begins"),function(){return se(e)}},end:se},le=function(e,t,i,r){var n,o,s,a=Object.keys(e),l=a.length,d=void 0!==r?function(e,t){return function(i,r,n,o){return e.call(t,i,r,n,o)}}(t,r):t;for(void 0===i?(n=1,s=e[a[0]]):(n=0,s=i);n<l;n++)s=d(s,e[o=a[n]],o,e);return s},de=R.styles,ce=R.shims,he={},ue={},fe={},pe=function(){var e=function(e){return le(de,function(t,i,r){return t[r]=le(i,e,{}),t},{})};he=e(function(e,t,i){return e[t[3]]=i,e}),ue=e(function(e,t,i){var r=t[2];return e[i]=i,r.forEach(function(t){e[t]=i}),e});var t="far"in de;fe=le(ce,function(e,i){var r=i[0],n=i[1],o=i[2];return"far"!==n||t||(n="fas"),e[r]={prefix:n,iconName:o},e},{})};function ge(e,t){return he[e][t]}pe();var me=R.styles,ve=function(){return{prefix:null,iconName:null,rest:[]}};function be(e){return e.reduce(function(e,t){var i=V(O.familyPrefix,t);if(me[t])e.prefix=t;else if(i){var r="fa"===e.prefix?fe[i]||{prefix:null,iconName:null}:{};e.iconName=r.iconName||i,e.prefix=r.prefix||e.prefix}else t!==O.replacementClass&&0!==t.indexOf("fa-w-")&&e.rest.push(t);return e},ve())}function ye(e,t,i){if(e&&e[t]&&e[t][i])return{prefix:t,iconName:i,icon:e[t][i]}}function we(e){var t=e.tag,i=e.attributes,r=void 0===i?{}:i,n=e.children,o=void 0===n?[]:n;return"string"==typeof e?U(e):"<"+t+" "+function(e){return Object.keys(e||{}).reduce(function(t,i){return t+(i+'="')+U(e[i])+'" '},"").trim()}(r)+">"+o.map(we).join("")+"</"+t+">"}var xe=function(){};function Ce(e){return"string"==typeof(e.getAttribute?e.getAttribute(g):null)}var Se={replace:function(e){var t=e[0],i=e[1].map(function(e){return we(e)}).join("\n");if(t.parentNode&&t.outerHTML)t.outerHTML=i+(O.keepOriginalSource&&"svg"!==t.tagName.toLowerCase()?"\x3c!-- "+t.outerHTML+" --\x3e":"");else if(t.parentNode){var r=document.createElement("span");t.parentNode.replaceChild(r,t),r.outerHTML=i}},nest:function(e){var t=e[0],i=e[1];if(~G(t).indexOf(O.replacementClass))return Se.replace(e);var r=new RegExp(O.familyPrefix+"-.*");delete i[0].attributes.style;var n=i[0].attributes.class.split(" ").reduce(function(e,t){return t===O.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e},{toNode:[],toSvg:[]});i[0].attributes.class=n.toSvg.join(" ");var o=i.map(function(e){return we(e)}).join("\n");t.setAttribute("class",n.toNode.join(" ")),t.setAttribute(g,""),t.innerHTML=o}};function ke(e,t){var i="function"==typeof t?t:xe;0===e.length?i():(a.requestAnimationFrame||function(e){return e()})(function(){var t=!0===O.autoReplaceSvg?Se.replace:Se[O.autoReplaceSvg]||Se.replace,r=ae.begin("mutate");e.map(t),r(),i()})}var De=!1;var Te=null;function Ae(e){if(d&&O.observeMutations){var t=e.treeCallback,i=e.nodeCallback,r=e.pseudoElementsCallback,n=e.observeMutationsRoot,o=void 0===n?l.body:n;Te=new d(function(e){De||W(e).forEach(function(e){if("childList"===e.type&&e.addedNodes.length>0&&!Ce(e.addedNodes[0])&&(O.searchPseudoElements&&r(e.target),t(e.target)),"attributes"===e.type&&e.target.parentNode&&O.searchPseudoElements&&r(e.target.parentNode),"attributes"===e.type&&Ce(e.target)&&~k.indexOf(e.attributeName))if("class"===e.attributeName){var n=be(G(e.target)),o=n.prefix,s=n.iconName;o&&e.target.setAttribute("data-prefix",o),s&&e.target.setAttribute("data-icon",s)}else i(e.target)})}),u&&Te.observe(o,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}var Ne=function(e){var t=e.getAttribute("style"),i=[];return t&&(i=t.split(";").reduce(function(e,t){var i=t.split(":"),r=i[0],n=i.slice(1);return r&&n.length>0&&(e[r]=n.join(":").trim()),e},{})),i};function _e(e){for(var t="",i=0;i<e.length;i++){t+=("000"+e.charCodeAt(i).toString(16)).slice(-4)}return t}var Me=function(e){var t,i,r=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),o=void 0!==e.innerText?e.innerText.trim():"",s=be(G(e));return r&&n&&(s.prefix=r,s.iconName=n),s.prefix&&o.length>1?s.iconName=(t=s.prefix,i=e.innerText,ue[t][i]):s.prefix&&1===o.length&&(s.iconName=ge(s.prefix,_e(e.innerText))),s},Ee=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(e,t){var i=t.toLowerCase().split("-"),r=i[0],n=i.slice(1).join("-");if(r&&"h"===n)return e.flipX=!0,e;if(r&&"v"===n)return e.flipY=!0,e;if(n=parseFloat(n),isNaN(n))return e;switch(r){case"grow":e.size=e.size+n;break;case"shrink":e.size=e.size-n;break;case"left":e.x=e.x-n;break;case"right":e.x=e.x+n;break;case"up":e.y=e.y-n;break;case"down":e.y=e.y+n;break;case"rotate":e.rotate=e.rotate+n}return e},t):t},$e=function(e){return Ee(e.getAttribute("data-fa-transform"))},Oe=function(e){var t=e.getAttribute("data-fa-symbol");return null!==t&&(""===t||t)},Ie=function(e){var t=W(e.attributes).reduce(function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e},{}),i=e.getAttribute("title");return O.autoA11y&&(i?t["aria-labelledby"]=O.replacementClass+"-title-"+q():t["aria-hidden"]="true"),t},Re=function(e){var t=e.getAttribute("data-fa-mask");return t?be(t.split(" ").map(function(e){return e.trim()})):ve()},Fe={iconName:null,title:null,prefix:null,transform:z,symbol:!1,mask:null,extra:{classes:[],styles:{},attributes:{}}};function Le(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}Le.prototype=Object.create(Error.prototype),Le.prototype.constructor=Le;var je={fill:"currentColor"},Pe={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},ze={tag:"path",attributes:N({},je,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},Be=N({},Pe,{attributeName:"opacity"}),He={tag:"g",children:[ze,{tag:"circle",attributes:N({},je,{cx:"256",cy:"364",r:"28"}),children:[{tag:"animate",attributes:N({},Pe,{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:N({},Be,{values:"1;0;1;1;0;1;"})}]},{tag:"path",attributes:N({},je,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:[{tag:"animate",attributes:N({},Be,{values:"1;0;0;0;0;1;"})}]},{tag:"path",attributes:N({},je,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:N({},Be,{values:"0;0;1;1;0;0;"})}]}]},qe=R.styles,We="fa-layers-text",Ge=/Font Awesome 5 (Solid|Regular|Light|Brands|Free|Pro)/,Ve={Solid:"fas",Regular:"far",Light:"fal",Brands:"fab"},Ue={900:"fas",400:"far",300:"fal"};function Ye(e,t){var i={found:!1,width:512,height:512,icon:He};if(e&&t&&qe[t]&&qe[t][e]){var r=qe[t][e];i={found:!0,width:r[0],height:r[1],icon:{tag:"path",attributes:{fill:"currentColor",d:r.slice(4)[0]}}}}else if(e&&t&&!O.showMissingIcons)throw new Le("Icon is missing for prefix "+t+" with icon name "+e);return i}function Xe(e){var t=function(e){var t=Me(e),i=t.iconName,r=t.prefix,n=t.rest,o=Ne(e),s=$e(e),a=Oe(e),l=Ie(e),d=Re(e);return{iconName:i,title:e.getAttribute("title"),prefix:r,transform:s,symbol:a,mask:d,extra:{classes:n,styles:o,attributes:l}}}(e);return~t.extra.classes.indexOf(We)?function(e,t){var i=t.title,r=t.transform,n=t.extra,o=null,s=null;if(f){var a=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();o=l.width/a,s=l.height/a}return O.autoA11y&&!i&&(n.attributes["aria-hidden"]="true"),[e,re({content:e.innerHTML,width:o,height:s,transform:r,title:i,extra:n,watchable:!0})]}(e,t):function(e,t){var i=t.iconName,r=t.title,n=t.prefix,o=t.transform,s=t.symbol,a=t.mask,l=t.extra;return[e,ie({icons:{main:Ye(i,n),mask:Ye(a.iconName,a.prefix)},prefix:n,iconName:i,transform:o,symbol:s,mask:a,title:r,extra:l,watchable:!0})]}(e,t)}function Ze(e){if(u){var t=ae.begin("searchPseudoElements");De=!0,function(){W(e.querySelectorAll("*")).filter(function(e){return!(e.parentNode===document.head||~w.indexOf(e.tagName.toUpperCase())||e.getAttribute(m)||e.parentNode&&"svg"===e.parentNode.tagName)}).forEach(function(e){[":before",":after"].forEach(function(t){var i=W(e.children).filter(function(e){return e.getAttribute(m)===t})[0],r=a.getComputedStyle(e,t),n=r.getPropertyValue("font-family").match(Ge),o=r.getPropertyValue("font-weight");if(i&&!n)e.removeChild(i);else if(n){var s=r.getPropertyValue("content"),d=~["Light","Regular","Solid","Brands"].indexOf(n[1])?Ve[n[1]]:Ue[o],c=ge(d,_e(3===s.length?s.substr(1,1):s));if(!i||i.getAttribute(v)!==d||i.getAttribute(b)!==c){i&&e.removeChild(i);var h=Fe.extra;h.attributes[m]=t;var u=ie(N({},Fe,{icons:{main:Ye(c,d),mask:ve()},prefix:d,iconName:c,extra:h,watchable:!0})),f=l.createElement("svg");":before"===t?e.insertBefore(f,e.firstChild):e.appendChild(f),f.outerHTML=u.map(function(e){return we(e)}).join("\n")}}})})}(),De=!1,t()}}function Ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(u){var i=l.documentElement.classList,r=function(e){return i.add(y+"-"+e)},n=function(e){return i.remove(y+"-"+e)},o=Object.keys(qe),s=["."+We+":not(["+g+"])"].concat(o.map(function(e){return"."+e+":not(["+g+"])"})).join(", ");if(0!==s.length){var a=W(e.querySelectorAll(s));if(a.length>0){r("pending"),n("complete");var d=ae.begin("onTree"),c=a.reduce(function(e,t){try{var i=Xe(t);i&&e.push(i)}catch(e){x||e instanceof Le&&console.error(e)}return e},[]);d(),ke(c,function(){r("active"),r("complete"),n("pending"),"function"==typeof t&&t()})}}}}function Je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=Xe(e);i&&ke([i],t)}var Qe=function(){var e="svg-inline--fa",t=O.familyPrefix,i=O.replacementClass,r="svg:not(:root).svg-inline--fa{overflow:visible}.svg-inline--fa{display:inline-block;font-size:inherit;height:1em;overflow:visible;vertical-align:-.125em}.svg-inline--fa.fa-lg{vertical-align:-.225em}.svg-inline--fa.fa-w-1{width:.0625em}.svg-inline--fa.fa-w-2{width:.125em}.svg-inline--fa.fa-w-3{width:.1875em}.svg-inline--fa.fa-w-4{width:.25em}.svg-inline--fa.fa-w-5{width:.3125em}.svg-inline--fa.fa-w-6{width:.375em}.svg-inline--fa.fa-w-7{width:.4375em}.svg-inline--fa.fa-w-8{width:.5em}.svg-inline--fa.fa-w-9{width:.5625em}.svg-inline--fa.fa-w-10{width:.625em}.svg-inline--fa.fa-w-11{width:.6875em}.svg-inline--fa.fa-w-12{width:.75em}.svg-inline--fa.fa-w-13{width:.8125em}.svg-inline--fa.fa-w-14{width:.875em}.svg-inline--fa.fa-w-15{width:.9375em}.svg-inline--fa.fa-w-16{width:1em}.svg-inline--fa.fa-w-17{width:1.0625em}.svg-inline--fa.fa-w-18{width:1.125em}.svg-inline--fa.fa-w-19{width:1.1875em}.svg-inline--fa.fa-w-20{width:1.25em}.svg-inline--fa.fa-pull-left{margin-right:.3em;width:auto}.svg-inline--fa.fa-pull-right{margin-left:.3em;width:auto}.svg-inline--fa.fa-border{height:1.5em}.svg-inline--fa.fa-li{width:2em}.svg-inline--fa.fa-fw{width:1.25em}.fa-layers svg.svg-inline--fa{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:1em}.fa-layers svg.svg-inline--fa{-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers-text{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter{background-color:#ff253a;border-radius:1em;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;height:1.5em;line-height:1;max-width:5em;min-width:1.5em;overflow:hidden;padding:.25em;right:0;text-overflow:ellipsis;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-bottom-right{bottom:0;right:0;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom right;transform-origin:bottom right}.fa-layers-bottom-left{bottom:0;left:0;right:auto;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom left;transform-origin:bottom left}.fa-layers-top-right{right:0;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-top-left{left:0;right:auto;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top left;transform-origin:top left}.fa-lg{font-size:1.33333em;line-height:.75em;vertical-align:-.0667em}.fa-xs{font-size:.75em}.fa-sm{font-size:.875em}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:2.5em;padding-left:0}.fa-ul>li{position:relative}.fa-li{left:-2em;position:absolute;text-align:center;width:2em;line-height:inherit}.fa-border{border:solid .08em #eee;border-radius:.1em;padding:.2em .25em .15em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left,.fab.fa-pull-left,.fal.fa-pull-left,.far.fa-pull-left,.fas.fa-pull-left{margin-right:.3em}.fa.fa-pull-right,.fab.fa-pull-right,.fal.fa-pull-right,.far.fa-pull-right,.fas.fa-pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.fa-rotate-90{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-webkit-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{-webkit-transform:scale(1,-1);transform:scale(1,-1)}.fa-flip-horizontal.fa-flip-vertical{-webkit-transform:scale(-1,-1);transform:scale(-1,-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{-webkit-filter:none;filter:none}.fa-stack{display:inline-block;height:2em;position:relative;width:2em}.fa-stack-1x,.fa-stack-2x{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.svg-inline--fa.fa-stack-1x{height:1em;width:1em}.svg-inline--fa.fa-stack-2x{height:2em;width:2em}.fa-inverse{color:#fff}.sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.sr-only-focusable:active,.sr-only-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}";if("fa"!==t||i!==e){var n=new RegExp("\\.fa\\-","g"),o=new RegExp("\\."+e,"g");r=r.replace(n,"."+t+"-").replace(o,"."+i)}return r};function et(e){return{found:!0,width:e[0],height:e[1],icon:{tag:"path",attributes:{fill:"currentColor",d:e.slice(4)[0]}}}}function tt(){O.autoAddCss&&!st&&(B(Qe()),st=!0)}function it(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(e){return we(e)})}}),Object.defineProperty(e,"node",{get:function(){if(u){var t=l.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function rt(e){var t=e.prefix,i=void 0===t?"fa":t,r=e.iconName;if(r)return ye(ot.definitions,i,r)||ye(R.styles,i,r)}var nt,ot=new(function(){function e(){T(this,e),this.definitions={}}return A(e,[{key:"add",value:function(){for(var e=this,t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var n=i.reduce(this._pullDefinitions,{});Object.keys(n).forEach(function(t){e.definitions[t]=N({},e.definitions[t]||{},n[t]),function e(t,i){var r=Object.keys(i).reduce(function(e,t){var r=i[t];return r.icon?e[r.iconName]=r.icon:e[t]=r,e},{});"function"==typeof R.hooks.addPack?R.hooks.addPack(t,r):R.styles[t]=N({},R.styles[t]||{},r),"fas"===t&&e("fa",i)}(t,n[t]),pe()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var i=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(i).map(function(t){var r=i[t],n=r.prefix,o=r.iconName,s=r.icon;e[n]||(e[n]={}),e[n][o]=s}),e}}]),e}()),st=!1,at={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(u){tt();var t=e.node,i=void 0===t?l:t,r=e.callback,n=void 0===r?function(){}:r;O.searchPseudoElements&&Ze(i),Ke(i,n)}},css:Qe,insertCss:function(){st||(B(Qe()),st=!0)},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,i=e.observeMutationsRoot;!1===O.autoReplaceSvg&&(O.autoReplaceSvg=!0),O.observeMutations=!0,j(function(){ct({autoReplaceSvgRoot:t}),Ae({treeCallback:Ke,nodeCallback:Je,pseudoElementsCallback:Ze,observeMutationsRoot:i})})}},lt=(nt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.transform,r=void 0===i?z:i,n=t.symbol,o=void 0!==n&&n,s=t.mask,a=void 0===s?null:s,l=t.title,d=void 0===l?null:l,c=t.classes,h=void 0===c?[]:c,u=t.attributes,f=void 0===u?{}:u,p=t.styles,g=void 0===p?{}:p;if(e){var m=e.prefix,v=e.iconName,b=e.icon;return it(N({type:"icon"},e),function(){return tt(),O.autoA11y&&(d?f["aria-labelledby"]=O.replacementClass+"-title-"+q():f["aria-hidden"]="true"),ie({icons:{main:et(b),mask:a?et(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:m,iconName:v,transform:N({},z,r),symbol:o,title:d,extra:{attributes:f,styles:g,classes:h}})})}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(e||{}).icon?e:rt(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:rt(r||{})),nt(i,N({},t,{mask:r}))}),dt={noAuto:function(){O.autoReplaceSvg=!1,O.observeMutations=!1,Te&&Te.disconnect()},config:O,dom:at,library:ot,parse:{transform:function(e){return Ee(e)}},findIconDefinition:rt,icon:lt,text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.transform,r=void 0===i?z:i,n=t.title,o=void 0===n?null:n,s=t.classes,a=void 0===s?[]:s,l=t.attributes,d=void 0===l?{}:l,c=t.styles,h=void 0===c?{}:c;return it({type:"text",content:e},function(){return tt(),re({content:e,transform:N({},z,r),title:o,extra:{attributes:d,styles:h,classes:[O.familyPrefix+"-layers-text"].concat(M(a))}})})},counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.title,r=void 0===i?null:i,n=t.classes,o=void 0===n?[]:n,s=t.attributes,a=void 0===s?{}:s,l=t.styles,d=void 0===l?{}:l;return it({type:"counter",content:e},function(){return tt(),function(e){var t=e.content,i=e.title,r=e.extra,n=N({},r.attributes,i?{title:i}:{},{class:r.classes.join(" ")}),o=Y(r.styles);o.length>0&&(n.style=o);var s=[];return s.push({tag:"span",attributes:n,children:[t]}),i&&s.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),s}({content:e.toString(),title:r,extra:{attributes:a,styles:d,classes:[O.familyPrefix+"-layers-counter"].concat(M(o))}})})},layer:function(e){return it({type:"layer"},function(){tt();var t=[];return e(function(e){Array.isArray(e)?e.map(function(e){t=t.concat(e.abstract)}):t=t.concat(e.abstract)}),[{tag:"span",attributes:{class:O.familyPrefix+"-layers"},children:t}]})},toHtml:we},ct=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?l:e;Object.keys(R.styles).length>0&&u&&O.autoReplaceSvg&&dt.dom.i2svg({node:t})};!function(e){try{e()}catch(e){if(!x)throw e}}(function(){h&&(a.FontAwesome||(a.FontAwesome=dt),j(function(){ct(),Ae({treeCallback:Ke,nodeCallback:Je,pseudoElementsCallback:Ze})})),R.hooks=N({},R.hooks,{addPack:function(e,t){R.styles[e]=N({},R.styles[e]||{},t),pe(),ct()},addShims:function(e){var t;(t=R.shims).push.apply(t,M(e)),pe(),ct()}})})}()},mB2l:function(e,t,i){var r,n,o,s;s=function(e){return e.extend(e.expr[":"],{tabbable:function(t){var i=e.attr(t,"tabindex"),r=null!=i;return(!r||i>=0)&&e.ui.focusable(t,r)}})},n=[i("7t+N"),i("UZ9c"),i("taAx")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},mKWO:function(e,t,i){var r,n,o,s;s=function(e){return e.widget("ui.resizable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var r,n=i&&"left"===i?"scrollLeft":"scrollTop";return t[n]>0||(t[n]=1,r=t[n]>0,t[n]=0,r)},_create:function(){var t,i=this.options,r=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),i.autoHide&&e(this.element).on("mouseenter",function(){i.disabled||(r._removeClass("ui-resizable-autohide"),r._handles.show())}).on("mouseleave",function(){i.disabled||r.resizing||(r._addClass("ui-resizable-autohide"),r._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,i,r,n,o,s=this.options,a=this;if(this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),r=this.handles.split(","),this.handles={},i=0;i<r.length;i++)n="ui-resizable-"+(t=e.trim(r[i])),o=e("<div>"),this._addClass(o,"ui-resizable-handle "+n),o.css({zIndex:s.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(o);this._renderAxis=function(t){var i,r,n,o;for(i in t=t||this.element,this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=e(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?r.outerHeight():r.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var i,r,n=!1;for(i in this.handles)((r=e(this.handles[i])[0])===t.target||e.contains(r,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,r,n,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),o.containment&&(i+=e(o.containment).scrollLeft()||0,r+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:i,top:r},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,r,n=this.originalMousePosition,o=this.axis,s=t.pageX-n.left||0,a=t.pageY-n.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[t,s,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var i,r,n,o,s,a,l,d=this.options;return this._helper&&(n=(r=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:this.sizeDiff.height,o=r?0:this.sizeDiff.width,s={width:this.helper.width()-o,height:this.helper.height()-n},a=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,l=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,d.animate||this.element.css(e.extend(s,{top:l,left:a})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!d.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,r,n,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,r=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),r>o.minHeight&&(o.minHeight=r),i<o.maxWidth&&(o.maxWidth=i),n<o.maxHeight&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,d=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(e.width=t.minWidth),s&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),o&&d&&(e.left=a-t.minWidth),r&&d&&(e.left=a-t.maxWidth),s&&c&&(e.top=l-t.minHeight),n&&c&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)i[t]=parseFloat(r[t])||0,i[t]+=parseFloat(n[t])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var r=this.originalSize;return{top:this.originalPosition.top+i,height:r.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),r=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),s=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,a=o?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-s},d=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,c&&d?{top:c,left:d}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&e(n[0]).css({width:r.width,height:r.height}),i._updateCache(r),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,r,n,o,s,a,l=e(this).resizable("instance"),d=l.options,c=l.element,h=d.containment,u=h instanceof e?h.get(0):/parent/.test(h)?c.parent().get(0):h;u&&(l.containerElement=e(u),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(u),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){i[e]=l._num(t.css("padding"+r))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},r=l.containerOffset,n=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(u,"left")?u.scrollWidth:o,a=l._hasScroll(u)?u.scrollHeight:n,l.parentData={element:u,left:r.left,top:r.top,width:s,height:a}))},resize:function(t){var i,r,n,o,s=e(this).resizable("instance"),a=s.options,l=s.containerOffset,d=s.position,c=s._aspectRatio||t.shiftKey,h={top:0,left:0},u=s.containerElement,f=!0;u[0]!==document&&/static/.test(u.css("position"))&&(h=l),d.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),c&&(s.size.height=s.size.width/s.aspectRatio,f=!1),s.position.left=a.helper?l.left:0),d.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio,f=!1),s.position.top=s._helper?l.top:0),n=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),n&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),i=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-l.left)),r=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-l.top)),i+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-i,c&&(s.size.height=s.size.width/s.aspectRatio,f=!1)),r+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-r,c&&(s.size.width=s.size.height*s.aspectRatio,f=!1)),f||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,r=t.containerOffset,n=t.containerPosition,o=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,d=s.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-n.left-r.left,width:l,height:d}),t._helper&&!i.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-n.left-r.left,width:l,height:d})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options;e(t.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var r=e(this).resizable("instance"),n=r.options,o=r.originalSize,s=r.originalPosition,a={height:r.size.height-o.height||0,width:r.size.width-o.width||0,top:r.position.top-s.top||0,left:r.position.left-s.left||0};e(n.alsoResize).each(function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),n={},o=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var i=(r[t]||0)+(a[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==e.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),r=i.options,n=i.size,o=i.originalSize,s=i.originalPosition,a=i.axis,l="number"==typeof r.grid?[r.grid,r.grid]:r.grid,d=l[0]||1,c=l[1]||1,h=Math.round((n.width-o.width)/d)*d,u=Math.round((n.height-o.height)/c)*c,f=o.width+h,p=o.height+u,g=r.maxWidth&&r.maxWidth<f,m=r.maxHeight&&r.maxHeight<p,v=r.minWidth&&r.minWidth>f,b=r.minHeight&&r.minHeight>p;r.grid=l,v&&(f+=d),b&&(p+=c),g&&(f-=d),m&&(p-=c),/^(se|s|e)$/.test(a)?(i.size.width=f,i.size.height=p):/^(ne)$/.test(a)?(i.size.width=f,i.size.height=p,i.position.top=s.top-u):/^(sw)$/.test(a)?(i.size.width=f,i.size.height=p,i.position.left=s.left-h):((p-c<=0||f-d<=0)&&(t=i._getPaddingPlusBorderDimensions(this)),p-c>0?(i.size.height=p,i.position.top=s.top-u):(p=c-t.height,i.size.height=p,i.position.top=s.top+o.height-p),f-d>0?(i.size.width=f,i.position.left=s.left-h):(f=d-t.width,i.size.width=f,i.position.left=s.left+o.width-f))}}),e.ui.resizable},n=[i("7t+N"),i("9V2q"),i("nYWQ"),i("zUl4"),i("UZ9c"),i("z1kw")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},nB7B:function(e,t,i){var r,n,o,s;s=function(e){return function(e,t,i){"use strict";var r=e.tablesorter||{};e.extend(!0,r.defaults,{fixedUrl:"",widgetOptions:{storage_fixedUrl:"",storage_group:"",storage_page:"",storage_storageType:"",storage_tableId:"",storage_useSessionStorage:""}}),r.storage=function(n,o,s,a){var l,d,c,h=!1,u={},f=(n=e(n)[0]).config,p=f&&f.widgetOptions,g=r.debug(f,"storage"),m=(a&&a.storageType||p&&p.storage_storageType).toString().charAt(0).toLowerCase(),v=m?"":a&&a.useSessionStorage||p&&p.storage_useSessionStorage,b=e(n),y=a&&a.id||b.attr(a&&a.group||p&&p.storage_group||"data-table-group")||p&&p.storage_tableId||n.id||e(".tablesorter").index(b),w=a&&a.url||b.attr(a&&a.page||p&&p.storage_page||"data-table-page")||p&&p.storage_fixedUrl||f&&f.fixedUrl||t.location.pathname;if("c"!==m&&(m="s"===m||v?"sessionStorage":"localStorage")in t)try{t[m].setItem("_tmptest","temp"),h=!0,t[m].removeItem("_tmptest")}catch(e){console.warn(m+" is not supported in this browser")}if(g&&console.log("Storage >> Using",h?m:"cookies"),e.parseJSON&&(h?u=e.parseJSON(t[m][o]||"null")||{}:(d=i.cookie.split(/[;\s|=]/),u=0!==(l=e.inArray(o,d)+1)&&e.parseJSON(d[l]||"null")||{})),void 0===s||!t.JSON||!JSON.hasOwnProperty("stringify"))return u&&u[w]?u[w][y]:"";u[w]||(u[w]={}),u[w][y]=s,h?t[m][o]=JSON.stringify(u):((c=new Date).setTime(c.getTime()+31536e6),i.cookie=o+"="+JSON.stringify(u).replace(/\"/g,'"')+"; expires="+c.toGMTString()+"; path=/")}}(e,window,document),function(e){"use strict";var t=e.tablesorter||{};t.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"glyphicon glyphicon-chevron-up",iconSortDesc:"glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s ui-icon-caret-2-n-s",iconSortAsc:"ui-icon-carat-1-n ui-icon-caret-1-n",iconSortDesc:"ui-icon-carat-1-s ui-icon-caret-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}},e.extend(t.css,{wrapper:"tablesorter-wrapper"}),t.addWidget({id:"uitheme",priority:10,format:function(i,r,n){var o,s,a,l,d,c,h,u,f,p,g,m,v,b=t.themes,y=r.$table.add(e(r.namespace+"_extra_table")),w=r.$headers.add(e(r.namespace+"_extra_headers")),x=r.theme||"jui",C=b[x]||{},S=e.trim([C.sortNone,C.sortDesc,C.sortAsc,C.active].join(" ")),k=e.trim([C.iconSortNone,C.iconSortDesc,C.iconSortAsc].join(" ")),D=t.debug(r,"uitheme");for(D&&(d=new Date),y.hasClass("tablesorter-"+x)&&r.theme===r.appliedTheme&&n.uitheme_applied||(n.uitheme_applied=!0,p=b[r.appliedTheme]||{},g=(v=!e.isEmptyObject(p))?[p.sortNone,p.sortDesc,p.sortAsc,p.active].join(" "):"",m=v?[p.iconSortNone,p.iconSortDesc,p.iconSortAsc].join(" "):"",v&&(n.zebra[0]=e.trim(" "+n.zebra[0].replace(" "+p.even,"")),n.zebra[1]=e.trim(" "+n.zebra[1].replace(" "+p.odd,"")),r.$tbodies.children().removeClass([p.even,p.odd].join(" "))),C.even&&(n.zebra[0]+=" "+C.even),C.odd&&(n.zebra[1]+=" "+C.odd),y.children("caption").removeClass(p.caption||"").addClass(C.caption),u=y.removeClass((r.appliedTheme?"tablesorter-"+(r.appliedTheme||""):"")+" "+(p.table||"")).addClass("tablesorter-"+x+" "+(C.table||"")).children("tfoot"),r.appliedTheme=r.theme,u.length&&u.children("tr").removeClass(p.footerRow||"").addClass(C.footerRow).children("th, td").removeClass(p.footerCells||"").addClass(C.footerCells),w.removeClass((v?[p.header,p.hover,g].join(" "):"")||"").addClass(C.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(t){e(this)["mouseenter"===t.type?"addClass":"removeClass"](C.hover||"")}),w.each(function(){var i=e(this);i.find("."+t.css.wrapper).length||i.wrapInner('<div class="'+t.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}),r.cssIcon&&w.find("."+t.css.icon).removeClass(v?[p.icons,m].join(" "):"").addClass(C.icons||""),t.hasWidget(r.table,"filter")&&(s=function(){y.children("thead").children("."+t.css.filterRow).removeClass(v&&p.filterRow||"").addClass(C.filterRow||"")},n.filter_initialized?s():y.one("filterInit",function(){s()}))),o=0;o<r.columns;o++)c=r.$headers.add(e(r.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+o+'"]'),h=t.css.icon?c.find("."+t.css.icon):e(),(f=w.not(".sorter-false").filter('[data-column="'+o+'"]:last')).length&&(c.removeClass(S),h.removeClass(k),f[0].sortDisabled?h.removeClass(C.icons||""):(a=C.sortNone,l=C.iconSortNone,f.hasClass(t.css.sortAsc)?(a=[C.sortAsc,C.active].join(" "),l=C.iconSortAsc):f.hasClass(t.css.sortDesc)&&(a=[C.sortDesc,C.active].join(" "),l=C.iconSortDesc),c.addClass(a),h.addClass(l||"")));D&&console.log("uitheme >> Applied "+x+" theme"+t.benchmark(d))},remove:function(e,i,r,n){if(r.uitheme_applied){var o=i.$table,s=i.appliedTheme||"jui",a=t.themes[s]||t.themes.jui,l=o.children("thead").children(),d=a.sortNone+" "+a.sortDesc+" "+a.sortAsc,c=a.iconSortNone+" "+a.iconSortDesc+" "+a.iconSortAsc;o.removeClass("tablesorter-"+s+" "+a.table),r.uitheme_applied=!1,n||(o.find(t.css.header).removeClass(a.header),l.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(a.hover+" "+d+" "+a.active).filter("."+t.css.filterRow).removeClass(a.filterRow),l.find("."+t.css.icon).removeClass(a.icons+" "+c))}}})}(e),function(e){"use strict";var t=e.tablesorter||{};t.addWidget({id:"columns",priority:65,options:{columns:["primary","secondary","tertiary"]},format:function(i,r,n){var o,s,a,l,d,c,h,u,f=r.$table,p=r.$tbodies,g=r.sortList,m=g.length,v=n&&n.columns||["primary","secondary","tertiary"],b=v.length-1;for(h=v.join(" "),s=0;s<p.length;s++)(a=(o=t.processTbody(i,p.eq(s),!0)).children("tr")).each(function(){if(d=e(this),"none"!==this.style.display&&(c=d.children().removeClass(h),g&&g[0]&&(c.eq(g[0][0]).addClass(v[0]),m>1)))for(u=1;u<m;u++)c.eq(g[u][0]).addClass(v[u]||v[b])}),t.processTbody(i,o,!1);if(l=!1!==n.columns_thead?["thead tr"]:[],!1!==n.columns_tfoot&&l.push("tfoot tr"),l.length&&(a=f.find(l.join(",")).children().removeClass(h),m))for(u=0;u<m;u++)a.filter('[data-column="'+g[u][0]+'"]').addClass(v[u]||v[b])},remove:function(i,r,n){var o,s,a=r.$tbodies,l=(n.columns||["primary","secondary","tertiary"]).join(" ");for(r.$headers.removeClass(l),r.$table.children("tfoot").children("tr").children("th, td").removeClass(l),o=0;o<a.length;o++)(s=t.processTbody(i,a.eq(o),!0)).children("tr").each(function(){e(this).children().removeClass(l)}),t.processTbody(i,s,!1)}})}(e),function(e){"use strict";var t,i,r=e.tablesorter||{},n=r.css,o=r.keyCodes;e.extend(n,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"}),e.extend(o,{backSpace:8,escape:27,space:32,left:37,down:40}),r.addWidget({id:"filter",priority:50,options:{filter_cellFilter:"",filter_childRows:!1,filter_childByColumn:!1,filter_childWithSibs:!0,filter_columnAnyMatch:!0,filter_columnFilters:!0,filter_cssFilter:"",filter_defaultAttrib:"data-value",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_filterLabel:'Filter "{{label}}" column by...',filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_matchType:{input:"exact",select:"exact"},filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_resetOnEsc:!0,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_selectSourceSeparator:"|",filter_serversideFiltering:!1,filter_startsWith:!1,filter_useParsedData:!1},format:function(e,i,r){i.$table.hasClass("hasFilters")||t.init(e,i,r)},remove:function(t,i,o,s){var a,l,d=i.$table,c=i.$tbodies,h="addRows updateCell update updateRows updateComplete appendCache filterReset filterAndSortReset filterFomatterUpdate filterEnd search stickyHeadersInit ".split(" ").join(i.namespace+"filter ");if(d.removeClass("hasFilters").unbind(h.replace(r.regex.spaces," ")).find("."+n.filterRow).remove(),o.filter_initialized=!1,!s){for(a=0;a<c.length;a++)(l=r.processTbody(t,c.eq(a),!0)).children().removeClass(o.filter_filteredRow).show(),r.processTbody(t,l,!1);o.filter_reset&&e(document).undelegate(o.filter_reset,"click"+i.namespace+"filter")}}}),t=r.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([migyu]{0,5})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(r,n,o){if((i.orTest.test(n.iFilter)||i.orSplit.test(n.filter))&&!i.regex.test(n.filter)){var s,a,l,d=e.extend({},n),c=n.filter.split(i.orSplit),h=n.iFilter.split(i.orSplit),u=c.length;for(s=0;s<u;s++){d.nestedFilters=!0,d.filter=""+(t.parseFilter(r,c[s],n)||""),d.iFilter=""+(t.parseFilter(r,h[s],n)||""),l="("+(t.parseFilter(r,d.filter,n)||"")+")";try{if(a=new RegExp(n.isMatch?l:"^"+l+"$",r.widgetOptions.filter_ignoreCase?"i":"").test(d.exact)||t.processTypes(r,d,o))return a}catch(e){return null}}return a||!1}return null},and:function(r,n,o){if(i.andTest.test(n.filter)){var s,a,l,d,c=e.extend({},n),h=n.filter.split(i.andSplit),u=n.iFilter.split(i.andSplit),f=h.length;for(s=0;s<f;s++){c.nestedFilters=!0,c.filter=""+(t.parseFilter(r,h[s],n)||""),c.iFilter=""+(t.parseFilter(r,u[s],n)||""),d=("("+(t.parseFilter(r,c.filter,n)||"")+")").replace(i.wild01,"\\S{1}").replace(i.wild0More,"\\S*");try{l=new RegExp(n.isMatch?d:"^"+d+"$",r.widgetOptions.filter_ignoreCase?"i":"").test(c.exact)||t.processTypes(r,c,o),a=0===s?l:a&&l}catch(e){return null}}return a||!1}return null},regex:function(e,t){if(i.regex.test(t.filter)){var r,n=t.filter_regexCache[t.index]||i.regex.exec(t.filter),o=n instanceof RegExp;try{o||(t.filter_regexCache[t.index]=n=new RegExp(n[1],n[2])),r=n.test(t.exact)}catch(e){r=!1}return r}return null},operators:function(n,o){if(i.operTest.test(o.iFilter)&&""!==o.iExact){var s,a,l,d=n.table,c=o.parsed[o.index],h=r.formatFloat(o.iFilter.replace(i.operators,""),d),u=n.parsers[o.index]||{},f=h;return(c||"numeric"===u.type)&&(l=e.trim(""+o.iFilter.replace(i.operators,"")),h="number"!=typeof(a=t.parseFilter(n,l,o,!0))||""===a||isNaN(a)?h:a),!c&&"numeric"!==u.type||isNaN(h)||void 0===o.cache?(l=isNaN(o.iExact)?o.iExact.replace(r.regex.nondigit,""):o.iExact,s=r.formatFloat(l,d)):s=o.cache,i.gtTest.test(o.iFilter)?a=i.gteTest.test(o.iFilter)?s>=h:s>h:i.ltTest.test(o.iFilter)&&(a=i.lteTest.test(o.iFilter)?s<=h:s<h),a||""!==f||(a=!0),a}return null},notMatch:function(r,n){if(i.notTest.test(n.iFilter)){var o,s=n.iFilter.replace("!",""),a=t.parseFilter(r,s,n)||"";return i.exact.test(a)?""===(a=a.replace(i.exact,""))||e.trim(a)!==n.iExact:(o=n.iExact.search(e.trim(a)),""===a||(n.anyMatch?o<0:!(r.widgetOptions.filter_startsWith?0===o:o>=0)))}return null},exact:function(r,n){if(i.exact.test(n.iFilter)){var o=n.iFilter.replace(i.exact,""),s=t.parseFilter(r,o,n)||"";return n.anyMatch?e.inArray(s,n.rowArray)>=0:s==n.iExact}return null},range:function(e,n){if(i.toTest.test(n.iFilter)){var o,s,a,l,d=e.table,c=n.index,h=n.parsed[c],u=n.iFilter.split(i.toSplit);return s=u[0].replace(r.regex.nondigit,"")||"",a=r.formatFloat(t.parseFilter(e,s,n),d),s=u[1].replace(r.regex.nondigit,"")||"",l=r.formatFloat(t.parseFilter(e,s,n),d),(h||"numeric"===e.parsers[c].type)&&(a=""===(o=e.parsers[c].format(""+u[0],d,e.$headers.eq(c),c))||isNaN(o)?a:o,l=""===(o=e.parsers[c].format(""+u[1],d,e.$headers.eq(c),c))||isNaN(o)?l:o),!h&&"numeric"!==e.parsers[c].type||isNaN(a)||isNaN(l)?(s=isNaN(n.iExact)?n.iExact.replace(r.regex.nondigit,""):n.iExact,o=r.formatFloat(s,d)):o=n.cache,a>l&&(s=a,a=l,l=s),o>=a&&o<=l||""===a||""===l}return null},wild:function(e,r){if(i.wildOrTest.test(r.iFilter)){var n=""+(t.parseFilter(e,r.iFilter,r)||"");!i.wildTest.test(n)&&r.nestedFilters&&(n=r.isMatch?n:"^("+n+")$");try{return new RegExp(n.replace(i.wild01,"\\S{1}").replace(i.wild0More,"\\S*"),e.widgetOptions.filter_ignoreCase?"i":"").test(r.exact)}catch(e){return null}}return null},fuzzy:function(e,r){if(i.fuzzyTest.test(r.iFilter)){var n,o=0,s=r.iExact.length,a=r.iFilter.slice(1),l=t.parseFilter(e,a,r)||"";for(n=0;n<s;n++)r.iExact[n]===l[o]&&(o+=1);return o===l.length}return null}},init:function(o){r.language=e.extend(!0,{},{to:"to",or:"or",and:"and"},r.language);var s,a,l,d,c,h,u,f,p=o.config,g=p.widgetOptions,m=function(e,t,i){return""===(t=t.trim())?"":(e||"")+t+(i||"")};if(p.$table.addClass("hasFilters"),p.lastSearch=[],g.filter_searchTimer=null,g.filter_initTimer=null,g.filter_formatterCount=0,g.filter_formatterInit=[],g.filter_anyColumnSelector='[data-column="all"],[data-column="any"]',g.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]',h="\\{"+i.query+"\\}",e.extend(i,{child:new RegExp(p.cssChildRow),filtered:new RegExp(g.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+(-"+m("|",r.language.or)+m("|",r.language.to)+")\\s+)","i"),toTest:new RegExp("\\s+(-"+m("|",r.language.to)+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-"+m("|",r.language.to)+")\\s+)","gi"),andTest:new RegExp("\\s+("+m("",r.language.and,"|")+"&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+m("",r.language.and,"|")+"&&)\\s+)","gi"),orTest:new RegExp("(\\|"+m("|\\s+",r.language.or,"\\s+")+")","i"),orSplit:new RegExp("(?:\\|"+m("|\\s+(?:",r.language.or,")\\s+")+")","gi"),iQuery:new RegExp(h,"i"),igQuery:new RegExp(h,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/}),h=p.$headers.filter(".filter-false, .parser-false").length,!1!==g.filter_columnFilters&&h!==p.$headers.length&&t.buildRow(o,p,g),l="addRows updateCell update updateRows updateComplete appendCache filterReset "+"filterAndSortReset filterResetSaved filterEnd search ".split(" ").join(p.namespace+"filter "),p.$table.bind(l,function(i,s){return h=g.filter_hideEmpty&&e.isEmptyObject(p.cache)&&!(p.delayInit&&"appendCache"===i.type),p.$table.find("."+n.filterRow).toggleClass(g.filter_filteredRow,h),/(search|filter)/.test(i.type)||(i.stopPropagation(),t.buildDefault(o,!0)),"filterReset"===i.type||"filterAndSortReset"===i.type?(p.$table.find("."+n.filter).add(g.filter_$externalFilters).val(""),"filterAndSortReset"===i.type?r.sortReset(this.config,function(){t.searching(o,[])}):t.searching(o,[])):"filterResetSaved"===i.type?r.storage(o,"tablesorter-filters",""):"filterEnd"===i.type?t.buildDefault(o,!0):(s="search"===i.type?s:"updateComplete"===i.type?p.$table.data("lastSearch"):"",/(update|add)/.test(i.type)&&"updateComplete"!==i.type&&(p.lastCombinedFilter=null,p.lastSearch=[],setTimeout(function(){p.$table.triggerHandler("filterFomatterUpdate")},100)),t.searching(o,s,!0)),!1}),g.filter_reset&&(g.filter_reset instanceof e?g.filter_reset.click(function(){p.$table.triggerHandler("filterReset")}):e(g.filter_reset).length&&e(document).undelegate(g.filter_reset,"click"+p.namespace+"filter").delegate(g.filter_reset,"click"+p.namespace+"filter",function(){p.$table.triggerHandler("filterReset")})),g.filter_functions)for(c=0;c<p.columns;c++)if(u=r.getColumnData(o,g.filter_functions,c))if(f=!((d=p.$headerIndexed[c].removeClass("filter-select")).hasClass("filter-false")||d.hasClass("parser-false")),s="",!0===u&&f)t.buildSelect(o,c);else if("object"==typeof u&&f){for(a in u)"string"==typeof a&&(s+=""===s?'<option value="">'+(d.data("placeholder")||d.attr("data-placeholder")||g.filter_placeholder.select||"")+"</option>":"",h=a,l=a,a.indexOf(g.filter_selectSourceSeparator)>=0&&(l=(h=a.split(g.filter_selectSourceSeparator))[1],h=h[0]),s+="<option "+(l===h?"":'data-function-name="'+a+'" ')+'value="'+h+'">'+l+"</option>");p.$table.find("thead").find("select."+n.filter+'[data-column="'+c+'"]').append(s),(u="function"==typeof(l=g.filter_selectSource)||r.getColumnData(o,l,c))&&t.buildSelect(p.table,c,"",!0,d.hasClass(g.filter_onlyAvail))}t.buildDefault(o,!0),t.bindSearch(o,p.$table.find("."+n.filter),!0),g.filter_external&&t.bindSearch(o,g.filter_external),g.filter_hideFilters&&t.hideFilters(p),p.showProcessing&&(l="filterStart filterEnd ".split(" ").join(p.namespace+"filter-sp "),p.$table.unbind(l.replace(r.regex.spaces," ")).bind(l,function(t,i){d=i?p.$table.find("."+n.header).filter("[data-column]").filter(function(){return""!==i[e(this).data("column")]}):"",r.isProcessing(o,"filterStart"===t.type,i?d:"")})),p.filteredRows=p.totalRows,l="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(p.namespace+"filter "),p.$table.unbind(l.replace(r.regex.spaces," ")).bind(l,function(){t.completeInit(this)}),p.pager&&p.pager.initialized&&!g.filter_initialized?(p.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){t.filterInitComplete(p)},100)):g.filter_initialized||t.completeInit(o)},completeInit:function(e){var i=e.config,n=i.widgetOptions,o=t.setDefaults(e,i,n)||[];o.length&&(i.delayInit&&""===o.join("")||r.setFilters(e,o,!0)),i.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){n.filter_initialized||t.filterInitComplete(i)},100)},formatterUpdated:function(e,t){var i=e&&e.closest("table"),r=i.length&&i[0].config,n=r&&r.widgetOptions;n&&!n.filter_initialized&&(n.filter_formatterInit[t]=1)},filterInitComplete:function(i){var n,o,s=i.widgetOptions,a=0,l=function(){s.filter_initialized=!0,i.lastSearch=i.$table.data("lastSearch"),i.$table.triggerHandler("filterInit",i),t.findRows(i.table,i.lastSearch||[]),r.debug(i,"filter")&&console.log("Filter >> Widget initialized")};if(e.isEmptyObject(s.filter_formatter))l();else{for(o=s.filter_formatterInit.length,n=0;n<o;n++)1===s.filter_formatterInit[n]&&a++;clearTimeout(s.filter_initTimer),s.filter_initialized||a!==s.filter_formatterCount?s.filter_initialized||(s.filter_initTimer=setTimeout(function(){l()},500)):l()}},processFilters:function(e,t){var i,r=[],n=t?encodeURIComponent:decodeURIComponent,o=e.length;for(i=0;i<o;i++)e[i]&&(r[i]=n(e[i]));return r},setDefaults:function(i,n,o){var s,a,l,d,c,h=r.getFilters(i)||[];if(o.filter_saveFilters&&r.storage&&(a=r.storage(i,"tablesorter-filters")||[],(s=e.isArray(a))&&""===a.join("")||!s||(h=t.processFilters(a))),""===h.join(""))for(c=n.$headers.add(o.filter_$externalFilters).filter("["+o.filter_defaultAttrib+"]"),l=0;l<=n.columns;l++)d=l===n.columns?"all":l,h[l]=c.filter('[data-column="'+d+'"]').attr(o.filter_defaultAttrib)||h[l]||"";return n.$table.data("lastSearch",h),h},parseFilter:function(e,t,i,r){return r||i.parsed[i.index]?e.parsers[i.index].format(t,e.table,[],i.index):t},buildRow:function(i,o,s){var a,l,d,c,h,u,f,p,g,m=s.filter_cellFilter,v=o.columns,b=e.isArray(m),y='<tr role="search" class="'+n.filterRow+" "+o.cssIgnoreRow+'">';for(d=0;d<v;d++)o.$headerIndexed[d].length&&(y+=(g=o.$headerIndexed[d]&&o.$headerIndexed[d][0].colSpan||0)>1?'<td data-column="'+d+"-"+(d+g-1)+'" colspan="'+g+'"':'<td data-column="'+d+'"',y+=b?m[d]?' class="'+m[d]+'"':"":""!==m?' class="'+m+'"':"",y+="></td>");for(o.$filters=e(y+="</tr>").appendTo(o.$table.children("thead").eq(0)).children("td"),d=0;d<v;d++)u=!1,(c=o.$headerIndexed[d])&&c.length&&(a=t.getColumnElm(o,o.$filters,d),p=r.getColumnData(i,s.filter_functions,d),h=s.filter_functions&&p&&"function"!=typeof p||c.hasClass("filter-select"),l=r.getColumnData(i,o.headers,d),u="false"===r.getData(c[0],l,"filter")||"false"===r.getData(c[0],l,"parser"),h?y=e("<select>").appendTo(a):((p=r.getColumnData(i,s.filter_formatter,d))?(s.filter_formatterCount++,(y=p(a,d))&&0===y.length&&(y=a.children("input")),y&&(0===y.parent().length||y.parent().length&&y.parent()[0]!==a[0])&&a.append(y)):y=e('<input type="search">').appendTo(a),y&&(g=c.data("placeholder")||c.attr("data-placeholder")||s.filter_placeholder.search||"",y.attr("placeholder",g))),y&&(f=(e.isArray(s.filter_cssFilter)?void 0!==s.filter_cssFilter[d]&&s.filter_cssFilter[d]||"":s.filter_cssFilter)||"",y.addClass(n.filter+" "+f),(g=(f=s.filter_filterLabel).match(/{{([^}]+?)}}/g))||(g=["{{label}}"]),e.each(g,function(t,i){var r=new RegExp(i,"g"),n=c.attr("data-"+i.replace(/{{|}}/g,"")),o=void 0===n?c.text():n;f=f.replace(r,e.trim(o))}),y.attr({"data-column":a.attr("data-column"),"aria-label":f}),u&&(y.attr("placeholder","").addClass(n.filterDisabled)[0].disabled=!0)))},bindSearch:function(i,n,s){if(i=e(i)[0],(n=e(n)).length){var a,l=i.config,d=l.widgetOptions,c=l.namespace+"filter",h=d.filter_$externalFilters;!0!==s&&(a=d.filter_anyColumnSelector+","+d.filter_multipleColumnSelector,d.filter_$anyMatch=n.filter(a),h&&h.length?d.filter_$externalFilters=d.filter_$externalFilters.add(n):d.filter_$externalFilters=n,r.setFilters(i,l.$table.data("lastSearch")||[],!1===s)),a="keypress keyup keydown search change input ".split(" ").join(c+" "),n.attr("data-lastSearchTime",(new Date).getTime()).unbind(a.replace(r.regex.spaces," ")).bind("keydown"+c,function(e){if(e.which===o.escape&&!i.config.widgetOptions.filter_resetOnEsc)return!1}).bind("keyup"+c,function(n){d=i.config.widgetOptions;var s=parseInt(e(this).attr("data-column"),10),a="boolean"==typeof d.filter_liveSearch?d.filter_liveSearch:r.getColumnData(i,d.filter_liveSearch,s);if(void 0===a&&(a=d.filter_liveSearch.fallback||!1),e(this).attr("data-lastSearchTime",(new Date).getTime()),n.which===o.escape)this.value=d.filter_resetOnEsc?"":l.lastSearch[s];else{if(""!==this.value&&("number"==typeof a&&this.value.length<a||n.which!==o.enter&&n.which!==o.backSpace&&(n.which<o.space||n.which>=o.left&&n.which<=o.down)))return;if(!1===a&&""!==this.value&&n.which!==o.enter)return}t.searching(i,!0,!0,s)}).bind("search change keypress input blur ".split(" ").join(c+" "),function(n){var s=parseInt(e(this).attr("data-column"),10),a=n.type,c="boolean"==typeof d.filter_liveSearch?d.filter_liveSearch:r.getColumnData(i,d.filter_liveSearch,s);!i.config.widgetOptions.filter_initialized||n.which!==o.enter&&"search"!==a&&"blur"!==a&&("change"!==a&&"input"!==a||!0!==c&&(!0===c||"INPUT"===n.target.nodeName)||this.value===l.lastSearch[s])||(n.preventDefault(),e(this).attr("data-lastSearchTime",(new Date).getTime()),t.searching(i,"keypress"!==a,!0,s))})}},searching:function(e,i,n,o){var s,a=e.config.widgetOptions;void 0===o?s=!1:void 0===(s="boolean"==typeof a.filter_liveSearch?a.filter_liveSearch:r.getColumnData(e,a.filter_liveSearch,o))&&(s=a.filter_liveSearch.fallback||!1),clearTimeout(a.filter_searchTimer),void 0===i||!0===i?a.filter_searchTimer=setTimeout(function(){t.checkFilters(e,i,n)},s?a.filter_searchDelay:10):t.checkFilters(e,i,n)},equalFilters:function(t,i,r){var n,o=[],s=[],a=t.columns+1;for(i=e.isArray(i)?i:[],r=e.isArray(r)?r:[],n=0;n<a;n++)o[n]=i[n]||"",s[n]=r[n]||"";return o.join(",")===s.join(",")},checkFilters:function(i,o,s){var a=i.config,l=a.widgetOptions,d=e.isArray(o),c=d?o:r.getFilters(i,!0),h=c||[];if(e.isEmptyObject(a.cache))a.delayInit&&(!a.pager||a.pager&&a.pager.initialized)&&r.updateCache(a,function(){t.checkFilters(i,!1,s)});else if(d&&(r.setFilters(i,c,!1,!0!==s),l.filter_initialized||(a.lastSearch=[],a.lastCombinedFilter="")),l.filter_hideFilters&&a.$table.find("."+n.filterRow).triggerHandler(t.hideFiltersCheck(a)?"mouseleave":"mouseenter"),!t.equalFilters(a,a.lastSearch,h)||!1===o){if(!1===o&&(a.lastCombinedFilter="",a.lastSearch=[]),c=c||[],c=Array.prototype.map?c.map(String):c.join("�").split("�"),l.filter_initialized&&a.$table.triggerHandler("filterStart",[c]),!a.showProcessing)return t.findRows(i,c,h),!1;setTimeout(function(){return t.findRows(i,c,h),!1},30)}},hideFiltersCheck:function(e){if("function"==typeof e.widgetOptions.filter_hideFilters){var t=e.widgetOptions.filter_hideFilters(e);if("boolean"==typeof t)return t}return""===r.getFilters(e.$table).join("")},hideFilters:function(i,r){var o;(r||i.$table).find("."+n.filterRow).addClass(n.filterRowHide).bind("mouseenter mouseleave",function(r){var s=r,a=e(this);clearTimeout(o),o=setTimeout(function(){/enter|over/.test(s.type)?a.removeClass(n.filterRowHide):e(document.activeElement).closest("tr")[0]!==a[0]&&a.toggleClass(n.filterRowHide,t.hideFiltersCheck(i))},200)}).find("input, select").bind("focus blur",function(r){var s=r,a=e(this).closest("tr");clearTimeout(o),o=setTimeout(function(){clearTimeout(o),a.toggleClass(n.filterRowHide,t.hideFiltersCheck(i)&&"focus"!==s.type)},200)})},defaultFilter:function(t,r){if(""===t)return t;var n=i.iQuery,o=r.match(i.igQuery).length,s=o>1?e.trim(t).split(/\s/):[e.trim(t)],a=s.length-1,l=0,d=r;for(a<1&&o>1&&(s[1]=s[0]);n.test(d);)d=d.replace(n,s[l++]||""),n.test(d)&&l<a&&""!==(s[l]||"")&&(d=r.replace(n,d));return d},getLatestSearch:function(t){return t?t.sort(function(t,i){return e(i).attr("data-lastSearchTime")-e(t).attr("data-lastSearchTime")}):t||e()},findRange:function(e,t,i){var r,n,o,s,a,l,d,c,h,u=[];if(/^[0-9]+$/.test(t))return[parseInt(t,10)];if(!i&&/-/.test(t))for(h=(n=t.match(/(\d+)\s*-\s*(\d+)/g))?n.length:0,c=0;c<h;c++){for(o=n[c].split(/\s*-\s*/),(s=parseInt(o[0],10)||0)>(a=parseInt(o[1],10)||e.columns-1)&&(r=s,s=a,a=r),a>=e.columns&&(a=e.columns-1);s<=a;s++)u[u.length]=s;t=t.replace(n[c],"")}if(!i&&/,/.test(t))for(h=(l=t.split(/\s*,\s*/)).length,d=0;d<h;d++)""!==l[d]&&(c=parseInt(l[d],10))<e.columns&&(u[u.length]=c);if(!u.length)for(c=0;c<e.columns;c++)u[u.length]=c;return u},getColumnElm:function(i,r,n){return r.filter(function(){var r=t.findRange(i,e(this).attr("data-column"));return e.inArray(n,r)>-1})},multipleColumns:function(i,r){var n=i.widgetOptions,o=n.filter_initialized||!r.filter(n.filter_anyColumnSelector).length,s=e.trim(t.getLatestSearch(r).attr("data-column")||"");return t.findRange(i,s,!o)},processTypes:function(i,r,n){var o,s=null,a=null;for(o in t.types)e.inArray(o,n.excludeMatch)<0&&null===a&&null!==(a=t.types[o](i,r,n))&&(r.matchedOn=o,s=a);return s},matchType:function(e,t){var i,r=e.widgetOptions,o=e.$headerIndexed[t];return o.hasClass("filter-exact")?i=!1:o.hasClass("filter-match")?i=!0:(r.filter_columnFilters?o=e.$filters.find("."+n.filter).add(r.filter_$externalFilters).filter('[data-column="'+t+'"]'):r.filter_$externalFilters&&(o=r.filter_$externalFilters.filter('[data-column="'+t+'"]')),i=!!o.length&&"match"===e.widgetOptions.filter_matchType[(o[0].nodeName||"").toLowerCase()]),i},processRow:function(n,o,s){var a,l,d,c,h,u=n.widgetOptions,f=!0,p=u.filter_$anyMatch&&u.filter_$anyMatch.length,g=u.filter_$anyMatch&&u.filter_$anyMatch.length?t.multipleColumns(n,u.filter_$anyMatch):[];if(o.$cells=o.$row.children(),o.matchedOn=null,o.anyMatchFlag&&g.length>1||o.anyMatchFilter&&!p){if(o.anyMatch=!0,o.isMatch=!0,o.rowArray=o.$cells.map(function(t){if(e.inArray(t,g)>-1||o.anyMatchFilter&&!p)return o.parsed[t]?h=o.cacheArray[t]:(h=o.rawArray[t],h=e.trim(u.filter_ignoreCase?h.toLowerCase():h),n.sortLocaleCompare&&(h=r.replaceAccents(h))),h}).get(),o.filter=o.anyMatchFilter,o.iFilter=o.iAnyMatchFilter,o.exact=o.rowArray.join(" "),o.iExact=u.filter_ignoreCase?o.exact.toLowerCase():o.exact,o.cache=o.cacheArray.slice(0,-1).join(" "),s.excludeMatch=s.noAnyMatch,null!==(l=t.processTypes(n,o,s)))f=l;else if(u.filter_startsWith)for(f=!1,g=Math.min(n.columns,o.rowArray.length);!f&&g>0;)g--,f=f||0===o.rowArray[g].indexOf(o.iFilter);else f=(o.iExact+o.childRowText).indexOf(o.iFilter)>=0;if(o.anyMatch=!1,o.filters.join("")===o.filter)return f}for(g=0;g<n.columns;g++)o.filter=o.filters[g],o.index=g,s.excludeMatch=s.excludeFilter[g],o.filter&&(o.cache=o.cacheArray[g],a=o.parsed[g]?o.cache:o.rawArray[g]||"",o.exact=n.sortLocaleCompare?r.replaceAccents(a):a,o.iExact=!i.type.test(typeof o.exact)&&u.filter_ignoreCase?o.exact.toLowerCase():o.exact,o.isMatch=t.matchType(n,g),a=f,c=u.filter_columnFilters&&n.$filters.add(u.filter_$externalFilters).filter('[data-column="'+g+'"]').find("select option:selected").attr("data-function-name")||"",n.sortLocaleCompare&&(o.filter=r.replaceAccents(o.filter)),u.filter_defaultFilter&&i.iQuery.test(s.defaultColFilter[g])&&(o.filter=t.defaultFilter(o.filter,s.defaultColFilter[g])),o.iFilter=u.filter_ignoreCase?(o.filter||"").toLowerCase():o.filter,l=null,(d=s.functions[g])&&("function"==typeof d?l=d(o.exact,o.cache,o.filter,g,o.$row,n,o):"function"==typeof d[c||o.filter]&&(l=d[h=c||o.filter](o.exact,o.cache,o.filter,g,o.$row,n,o))),null===l?(l=t.processTypes(n,o,s),h=!0===d&&("and"===o.matchedOn||"or"===o.matchedOn),null===l||h?!0===d?a=o.isMatch?(""+o.iExact).search(o.iFilter)>=0:o.filter===o.exact:(h=(o.iExact+o.childRowText).indexOf(t.parseFilter(n,o.iFilter,o)),a=!u.filter_startsWith&&h>=0||u.filter_startsWith&&0===h):a=l):a=l,f=!!a&&f);return f},findRows:function(n,o,s){if(!t.equalFilters(n.config,n.config.lastSearch,s)&&n.config.widgetOptions.filter_initialized){var a,l,d,c,h,u,f,p,g,m,v,b,y,w,x,C,S,k,D,T,A,N,_,M=e.extend([],o),E=n.config,$=E.widgetOptions,O=r.debug(E,"filter"),I={anyMatch:!1,filters:o,filter_regexCache:[]},R={noAnyMatch:["range","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:r.getColumnData(n,$.filter_defaultFilter,E.columns,!0)||""};for(I.parsed=[],g=0;g<E.columns;g++)I.parsed[g]=$.filter_useParsedData||E.parsers&&E.parsers[g]&&E.parsers[g].parsed||r.getData&&"parsed"===r.getData(E.$headerIndexed[g],r.getColumnData(n,E.headers,g),"filter")||E.$headerIndexed[g].hasClass("filter-parsed"),R.functions[g]=r.getColumnData(n,$.filter_functions,g)||E.$headerIndexed[g].hasClass("filter-select"),R.defaultColFilter[g]=r.getColumnData(n,$.filter_defaultFilter,g)||"",R.excludeFilter[g]=(r.getColumnData(n,$.filter_excludeFilter,g,!0)||"").split(/\s+/);for(O&&(console.log("Filter >> Starting filter widget search",o),w=new Date),E.filteredRows=0,E.totalRows=0,s=M||[],f=0;f<E.$tbodies.length;f++){if(p=r.processTbody(n,E.$tbodies.eq(f),!0),g=E.columns,l=E.cache[f].normalized,c=e(e.map(l,function(e){return e[g].$row.get()})),""===s.join("")||$.filter_serversideFiltering)c.removeClass($.filter_filteredRow).not("."+E.cssChildRow).css("display","");else{if(a=(c=c.not("."+E.cssChildRow)).length,($.filter_$anyMatch&&$.filter_$anyMatch.length||void 0!==o[E.columns])&&(I.anyMatchFlag=!0,I.anyMatchFilter=""+(o[E.columns]||$.filter_$anyMatch&&t.getLatestSearch($.filter_$anyMatch).val()||""),$.filter_columnAnyMatch)){for(D=I.anyMatchFilter.split(i.andSplit),T=!1,C=0;C<D.length;C++)(A=D[C].split(":")).length>1&&(isNaN(A[0])?e.each(E.headerContent,function(e,t){t.toLowerCase().indexOf(A[0])>-1&&(o[N=e]=A[1])}):N=parseInt(A[0],10)-1,N>=0&&N<E.columns&&(o[N]=A[1],D.splice(C,1),C--,T=!0));T&&(I.anyMatchFilter=D.join(" && "))}if(k=$.filter_searchFiltered,v=E.lastSearch||E.$table.data("lastSearch")||[],k)for(C=0;C<g+1;C++)x=o[C]||"",k||(C=g),k=k&&v.length&&0===x.indexOf(v[C]||"")&&!i.alreadyFiltered.test(x)&&!i.exactTest.test(x)&&!(i.isNeg1.test(x)||i.isNeg2.test(x))&&!(""!==x&&E.$filters&&E.$filters.filter('[data-column="'+C+'"]').find("select").length&&!t.matchType(E,C));for(S=c.not("."+$.filter_filteredRow).length,k&&0===S&&(k=!1),O&&console.log("Filter >> Searching through "+(k&&S<a?S:"all")+" rows"),I.anyMatchFlag&&(E.sortLocaleCompare&&(I.anyMatchFilter=r.replaceAccents(I.anyMatchFilter)),$.filter_defaultFilter&&i.iQuery.test(R.defaultAnyFilter)&&(I.anyMatchFilter=t.defaultFilter(I.anyMatchFilter,R.defaultAnyFilter),k=!1),I.iAnyMatchFilter=$.filter_ignoreCase&&E.ignoreCase?I.anyMatchFilter.toLowerCase():I.anyMatchFilter),u=0;u<a;u++)if(_=c[u].className,!(u&&i.child.test(_)||k&&i.filtered.test(_))){if(I.$row=c.eq(u),I.rowIndex=u,I.cacheArray=l[u],d=I.cacheArray[E.columns],I.rawArray=d.raw,I.childRowText="",!$.filter_childByColumn){for(_="",m=d.child,C=0;C<m.length;C++)_+=" "+m[C].join(" ")||"";I.childRowText=$.filter_childRows?$.filter_ignoreCase?_.toLowerCase():_:""}if(b=!1,y=t.processRow(E,I,R),h=d.$row,x=!!y,m=d.$row.filter(":gt(0)"),$.filter_childRows&&m.length){if($.filter_childByColumn)for($.filter_childWithSibs||(m.addClass($.filter_filteredRow),h=h.eq(0)),C=0;C<m.length;C++)I.$row=m.eq(C),I.cacheArray=d.child[C],I.rawArray=I.cacheArray,x=t.processRow(E,I,R),b=b||x,!$.filter_childWithSibs&&x&&m.eq(C).removeClass($.filter_filteredRow);b=b||y}else b=x;h.toggleClass($.filter_filteredRow,!b)[0].display=b?"":"none"}}E.filteredRows+=c.not("."+$.filter_filteredRow).length,E.totalRows+=c.length,r.processTbody(n,p,!1)}E.lastCombinedFilter=M.join(""),E.lastSearch=M,E.$table.data("lastSearch",M),$.filter_saveFilters&&r.storage&&r.storage(n,"tablesorter-filters",t.processFilters(M,!0)),O&&console.log("Filter >> Completed search"+r.benchmark(w)),$.filter_initialized&&(E.$table.triggerHandler("filterBeforeEnd",E),E.$table.triggerHandler("filterEnd",E)),setTimeout(function(){r.applyWidget(E.table)},0)}},getOptionSource:function(i,n,o){var s=(i=e(i)[0]).config,a=!1,l=s.widgetOptions.filter_selectSource,d=s.$table.data("lastSearch")||[],c="function"==typeof l||r.getColumnData(i,l,n);if(o&&""!==d[n]&&(o=!1),!0===c)a=l(i,n,o);else{if(c instanceof e||"string"===e.type(c)&&c.indexOf("</option>")>=0)return c;if(e.isArray(c))a=c;else if("object"===e.type(l)&&c&&null===(a=c(i,n,o)))return null}return!1===a&&(a=t.getOptions(i,n,o)),t.processOptions(i,n,a)},processOptions:function(t,i,n){if(!e.isArray(n))return!1;var o,s,a,l,d,c,h=(t=e(t)[0]).config,u=void 0!==i&&null!==i&&i>=0&&i<h.columns,f=!!u&&h.$headerIndexed[i].hasClass("filter-select-sort-desc"),p=[];if(n=e.grep(n,function(t,i){return!!t.text||e.inArray(t,n)===i}),u&&h.$headerIndexed[i].hasClass("filter-select-nosort"))return n;for(l=n.length,a=0;a<l;a++)c=(s=n[a]).text?s.text:s,d=(u&&h.parsers&&h.parsers.length&&h.parsers[i].format(c,t,[],i)||c).toString(),d=h.widgetOptions.filter_ignoreCase?d.toLowerCase():d,s.text?(s.parsed=d,p[p.length]=s):p[p.length]={text:s,parsed:d};for(o=h.textSorter||"",p.sort(function(e,n){var s=f?n.parsed:e.parsed,a=f?e.parsed:n.parsed;return u&&"function"==typeof o?o(s,a,!0,i,t):u&&"object"==typeof o&&o.hasOwnProperty(i)?o[i](s,a,!0,i,t):!r.sortNatural||r.sortNatural(s,a)}),n=[],l=p.length,a=0;a<l;a++)n[n.length]=p[a];return n},getOptions:function(t,i,n){var o,s,a,l,d,c,h,u,f=(t=e(t)[0]).config,p=f.widgetOptions,g=[];for(s=0;s<f.$tbodies.length;s++)for(d=f.cache[s],a=f.cache[s].normalized.length,o=0;o<a;o++)if(l=d.row?d.row[o]:d.normalized[o][f.columns].$row[0],!n||!l.className.match(p.filter_filteredRow))if(p.filter_useParsedData||f.parsers[i].parsed||f.$headerIndexed[i].hasClass("filter-parsed")){if(g[g.length]=""+d.normalized[o][i],p.filter_childRows&&p.filter_childByColumn)for(u=d.normalized[o][f.columns].$row.length-1,c=0;c<u;c++)g[g.length]=""+d.normalized[o][f.columns].child[c][i]}else if(g[g.length]=d.normalized[o][f.columns].raw[i],p.filter_childRows&&p.filter_childByColumn)for(u=d.normalized[o][f.columns].$row.length,c=1;c<u;c++)h=d.normalized[o][f.columns].$row.eq(c).children().eq(i),g[g.length]=""+r.getElementText(f,h,i);return g},buildSelect:function(r,o,s,a,l){if(r=e(r)[0],o=parseInt(o,10),r.config.cache&&!e.isEmptyObject(r.config.cache)){var d,c,h,u,f,p,g,m=r.config,v=m.widgetOptions,b=m.$headerIndexed[o],y='<option value="">'+(b.data("placeholder")||b.attr("data-placeholder")||v.filter_placeholder.select||"")+"</option>",w=m.$table.find("thead").find("select."+n.filter+'[data-column="'+o+'"]').val();if(void 0!==s&&""!==s||null!==(s=t.getOptionSource(r,o,l))){if(e.isArray(s)){for(d=0;d<s.length;d++)if((g=s[d]).text){for(c in g["data-function-name"]=void 0===g.value?g.text:g.value,y+="<option",g)g.hasOwnProperty(c)&&"text"!==c&&(y+=" "+c+'="'+g[c].replace(i.quote,"&quot;")+'"');g.value||(y+=' value="'+g.text.replace(i.quote,"&quot;")+'"'),y+=">"+g.text.replace(i.quote,"&quot;")+"</option>"}else""+g!="[object Object]"&&(c=h=g=(""+g).replace(i.quote,"&quot;"),h.indexOf(v.filter_selectSourceSeparator)>=0&&(c=(u=h.split(v.filter_selectSourceSeparator))[0],h=u[1]),y+=""!==g?"<option "+(c===h?"":'data-function-name="'+g+'" ')+'value="'+c+'">'+h+"</option>":"");s=[]}f=(m.$filters?m.$filters:m.$table.children("thead")).find("."+n.filter),v.filter_$externalFilters&&(f=f&&f.length?f.add(v.filter_$externalFilters):v.filter_$externalFilters),(p=f.filter('select[data-column="'+o+'"]')).length&&(p[a?"html":"append"](y),e.isArray(s)||p.append(s).val(w),p.val(w))}}},buildDefault:function(e,i){var n,o,s,a=e.config,l=a.widgetOptions,d=a.columns;for(n=0;n<d;n++)s=!((o=a.$headerIndexed[n]).hasClass("filter-false")||o.hasClass("parser-false")),(o.hasClass("filter-select")||!0===r.getColumnData(e,l.filter_functions,n))&&s&&t.buildSelect(e,n,"",i,o.hasClass(l.filter_onlyAvail))}},i=t.regex,r.getFilters=function(i,r,o,s){var a,l,d,c,h=[],u=i?e(i)[0].config:"",f=u?u.widgetOptions:"";if(!0!==r&&f&&!f.filter_columnFilters||e.isArray(o)&&t.equalFilters(u,o,u.lastSearch))return e(i).data("lastSearch")||[];if(u&&(u.$filters&&(l=u.$filters.find("."+n.filter)),f.filter_$externalFilters&&(l=l&&l.length?l.add(f.filter_$externalFilters):f.filter_$externalFilters),l&&l.length))for(h=o||[],a=0;a<u.columns+1;a++)c=a===u.columns?f.filter_anyColumnSelector+","+f.filter_multipleColumnSelector:'[data-column="'+a+'"]',(d=l.filter(c)).length&&(d=t.getLatestSearch(d),e.isArray(o)?(s&&d.length>1&&(d=d.slice(1)),a===u.columns&&(d=(c=d.filter(f.filter_anyColumnSelector)).length?c:d),d.val(o[a]).trigger("change"+u.namespace)):(h[a]=d.val()||"",a===u.columns?d.slice(1).filter('[data-column*="'+d.attr("data-column")+'"]').val(h[a]):d.slice(1).val(h[a])),a===u.columns&&d.length&&(f.filter_$anyMatch=d));return h},r.setFilters=function(i,n,o,s){var a=i?e(i)[0].config:"",l=r.getFilters(i,!0,n,s);return void 0===o&&(o=!0),a&&o&&(a.lastCombinedFilter=null,a.lastSearch=[],t.searching(a.table,n,s),a.$table.triggerHandler("filterFomatterUpdate")),0!==l.length}}(e),function(e,t){"use strict";var i=e.tablesorter||{};function r(t,i){var r=isNaN(i.stickyHeaders_offset)?e(i.stickyHeaders_offset):[];return r.length?r.height()||0:parseInt(i.stickyHeaders_offset,10)||0}e.extend(i.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),i.addHeaderResizeEvent=function(t,i,r){if((t=e(t)[0]).config){var n=e.extend({},{timer:250},r),o=t.config,s=o.widgetOptions,a=function(e){var t,i,r,n,a,l,d=o.$headers.length;for(s.resize_flag=!0,i=[],t=0;t<d;t++)n=(r=o.$headers.eq(t)).data("savedSizes")||[0,0],a=r[0].offsetWidth,l=r[0].offsetHeight,a===n[0]&&l===n[1]||(r.data("savedSizes",[a,l]),i.push(r[0]));i.length&&!1!==e&&o.$table.triggerHandler("resize",[i]),s.resize_flag=!1};if(clearInterval(s.resize_timer),i)return s.resize_flag=!1,!1;a(!1),s.resize_timer=setInterval(function(){s.resize_flag||a()},n.timer)}},i.addWidget({id:"stickyHeaders",priority:54,options:{stickyHeaders:"",stickyHeaders_appendTo:null,stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(n,o,s){if(!(o.$table.hasClass("hasStickyHeaders")||e.inArray("filter",o.widgets)>=0&&!o.$table.hasClass("hasFilters"))){var a,l,d,c,h=o.$table,u=e(s.stickyHeaders_attachTo||s.stickyHeaders_appendTo),f=o.namespace+"stickyheaders ",p=e(s.stickyHeaders_yScroll||s.stickyHeaders_attachTo||t),g=e(s.stickyHeaders_xScroll||s.stickyHeaders_attachTo||t),m=h.children("thead:first").children("tr").not(".sticky-false").children(),v=h.children("tfoot"),b=r(0,s),y=h.parent().closest("."+i.css.table).hasClass("hasStickyHeaders")?h.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],w=y.length?y.height():0,x=s.$sticky=h.clone().addClass("containsStickyHeaders "+i.css.sticky+" "+s.stickyHeaders+" "+o.namespace.slice(1)+"_extra_table").wrap('<div class="'+i.css.stickyWrap+'">'),C=x.parent().addClass(i.css.stickyHide).css({position:u.length?"absolute":"fixed",padding:parseInt(x.parent().parent().css("padding-left"),10),top:b+w,left:0,visibility:"hidden",zIndex:s.stickyHeaders_zIndex||2}),S=x.children("thead:first"),k="",D=function(e,i){var r,n,o,s,a,l=e.filter(":visible"),d=l.length;for(r=0;r<d;r++)s=i.filter(":visible").eq(r),"border-box"===(a=l.eq(r)).css("box-sizing")?n=a.outerWidth():"collapse"===s.css("border-collapse")?t.getComputedStyle?n=parseFloat(t.getComputedStyle(a[0],null).width):(o=parseFloat(a.css("border-width")),n=a.outerWidth()-parseFloat(a.css("padding-left"))-parseFloat(a.css("padding-right"))-o):n=a.width(),s.css({width:n,"min-width":n,"max-width":n})},T=function(i){return!1===i&&y.length?h.position().left:u.length?parseInt(u.css("padding-left"),10)||0:h.offset().left-parseInt(h.css("margin-left"),10)-e(t).scrollLeft()},A=function(){C.css({left:T(),width:h.outerWidth()}),D(h,x),D(m,c)},N=function(t){if(h.is(":visible")){w=y.length?y.offset().top-p.scrollTop()+y.height():0;var n,o=h.offset(),a=r(0,s),l=e.isWindow(p[0]),d=l?p.scrollTop():y.length?parseInt(y[0].style.top,10):p.offset().top,c=u.length?d:p.scrollTop(),f=s.stickyHeaders_includeCaption?0:h.children("caption").height()||0,g=c+a+w-f,m=h.height()-(C.height()+(v.height()||0))-f,b=g>o.top&&g<o.top+m?"visible":"hidden",x="visible"===b?i.css.stickyVis:i.css.stickyHide,S=!C.hasClass(x),D={visibility:b};u.length&&(S=!0,D.top=l?g-u.offset().top:u.scrollTop()),(n=T(l))!==parseInt(C.css("left"),10)&&(S=!0,D.left=n),D.top=(D.top||0)+(!l&&y.length?y.height():a+w),S&&C.removeClass(i.css.stickyVis+" "+i.css.stickyHide).addClass(x).css(D),(b!==k||t)&&(A(),k=b)}};if(u.length&&!u.css("position")&&u.css("position","relative"),x.attr("id")&&(x[0].id+=s.stickyHeaders_cloneId),x.find("> thead:gt(0), tr.sticky-false").hide(),x.find("> tbody, > tfoot").remove(),x.find("caption").toggle(s.stickyHeaders_includeCaption),c=S.children().children(),x.css({height:0,width:0,margin:0}),c.find("."+i.css.resizer).remove(),h.addClass("hasStickyHeaders").bind("pagerComplete"+f,function(){A()}),i.bindEvents(n,S.children().children("."+i.css.header)),s.stickyHeaders_appendTo?e(s.stickyHeaders_appendTo).append(C):h.after(C),o.onRenderHeader)for(l=(d=S.children("tr").children()).length,a=0;a<l;a++)o.onRenderHeader.apply(d.eq(a),[a,o,x]);g.add(p).unbind("scroll resize ".split(" ").join(f).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(f),function(e){N("resize"===e.type)}),o.$table.unbind("stickyHeadersUpdate"+f).bind("stickyHeadersUpdate"+f,function(){N(!0)}),s.stickyHeaders_addResizeEvent&&i.addHeaderResizeEvent(n),h.hasClass("hasFilters")&&s.filter_columnFilters&&(h.bind("filterEnd"+f,function(){var r=e(document.activeElement).closest("td"),n=r.parent().children().index(r);C.hasClass(i.css.stickyVis)&&s.stickyHeaders_filteredToTop&&(t.scrollTo(0,h.position().top),n>=0&&o.$filters&&o.$filters.eq(n).find("a, select, input").filter(":visible").focus())}),i.filter.bindSearch(h,c.find("."+i.css.filter)),s.filter_hideFilters&&i.filter.hideFilters(o,x)),s.stickyHeaders_addResizeEvent&&h.bind("resize"+o.namespace+"stickyheaders",function(){A()}),N(!0),h.triggerHandler("stickyHeadersInit")}},remove:function(r,n,o){var s=n.namespace+"stickyheaders ";n.$table.removeClass("hasStickyHeaders").unbind("pagerComplete resize filterEnd stickyHeadersUpdate ".split(" ").join(s).replace(/\s+/g," ")).next("."+i.css.stickyWrap).remove(),o.$sticky&&o.$sticky.length&&o.$sticky.remove(),e(t).add(o.stickyHeaders_xScroll).add(o.stickyHeaders_yScroll).add(o.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(s).replace(/\s+/g," ")),i.addHeaderResizeEvent(r,!0)}})}(e,window),function(e,t){"use strict";var i=e.tablesorter||{};e.extend(i.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),e(function(){var t="<style>body."+i.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+i.css.resizableContainer+" { position: relative; height: 1px; }."+i.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";e("head").append(t)}),i.resizable={init:function(t,r){if(!t.$table.hasClass("hasResizable")){t.$table.addClass("hasResizable");var n,o,s,a,l=t.$table,d=l.parent(),c=parseInt(l.css("margin-top"),10),h=r.resizable_vars={useStorage:i.storage&&!1!==r.resizable,$wrap:d,mouseXPosition:0,$target:null,$next:null,overflow:"auto"===d.css("overflow")||"scroll"===d.css("overflow")||"auto"===d.css("overflow-x")||"scroll"===d.css("overflow-x"),storedSizes:[]};for(i.resizableReset(t.table,!0),h.tableWidth=l.width(),h.fullWidth=Math.abs(d.width()-h.tableWidth)<20,h.useStorage&&h.overflow&&(i.storage(t.table,"tablesorter-table-original-css-width",h.tableWidth),a=i.storage(t.table,"tablesorter-table-resized-width")||"auto",i.resizable.setWidth(l,a,!0)),r.resizable_vars.storedSizes=s=(h.useStorage?i.storage(t.table,i.css.resizableStorage):[])||[],i.resizable.setWidths(t,r,s),i.resizable.updateStoredSizes(t,r),r.$resizable_container=e('<div class="'+i.css.resizableContainer+'">').css({top:c}).insertBefore(l),o=0;o<t.columns;o++)n=t.$headerIndexed[o],a=i.getColumnData(t.table,t.headers,o),"false"===i.getData(n,a,"resizable")||e('<div class="'+i.css.resizableHandle+'">').appendTo(r.$resizable_container).attr({"data-column":o,unselectable:"on"}).data("header",n).bind("selectstart",!1);i.resizable.bindings(t,r)}},updateStoredSizes:function(e,t){var i,r,n=e.columns,o=t.resizable_vars;for(o.storedSizes=[],i=0;i<n;i++)r=e.$headerIndexed[i],o.storedSizes[i]=r.is(":visible")?r.width():0},setWidth:function(e,t,i){e.css({width:t,"min-width":i?t:"","max-width":i?t:""})},setWidths:function(t,r,n){var o,s,a=r.resizable_vars,l=e(t.namespace+"_extra_headers"),d=t.$table.children("colgroup").children("col");if((n=n||a.storedSizes||[]).length){for(o=0;o<t.columns;o++)i.resizable.setWidth(t.$headerIndexed[o],n[o],a.overflow),l.length&&(s=l.eq(o).add(d.eq(o)),i.resizable.setWidth(s,n[o],a.overflow));(s=e(t.namespace+"_extra_table")).length&&!i.hasWidget(t.table,"scroller")&&i.resizable.setWidth(s,t.$table.outerWidth(),a.overflow)}},setHandlePosition:function(t,r){var n,o=t.$table.height(),s=r.$resizable_container.children(),a=Math.floor(s.width()/2);i.hasWidget(t.table,"scroller")&&(o=0,t.$table.closest("."+i.css.scrollerWrap).children().each(function(){var t=e(this);o+=t.filter('[style*="height"]').length?t.height():t.children("table").height()})),!r.resizable_includeFooter&&t.$table.children("tfoot").length&&(o-=t.$table.children("tfoot").height()),n=parseFloat(e.fn.jquery)>=3.3?0:t.$table.position().left,s.each(function(){var s=e(this),l=parseInt(s.attr("data-column"),10),d=t.columns-1,c=s.data("header");c&&(!c.is(":visible")||!r.resizable_addLastColumn&&i.resizable.checkVisibleColumns(t,l)?s.hide():(l<d||l===d&&r.resizable_addLastColumn)&&s.css({display:"inline-block",height:o,left:c.position().left-n+c.outerWidth()-a}))})},checkVisibleColumns:function(e,t){var i,r=0;for(i=t+1;i<e.columns;i++)r+=e.$headerIndexed[i].is(":visible")?1:0;return 0===r},toggleTextSelection:function(t,r,n){var o=t.namespace+"tsresize";r.resizable_vars.disabled=n,e("body").toggleClass(i.css.resizableNoSelect,n),n?e("body").attr("unselectable","on").bind("selectstart"+o,!1):e("body").removeAttr("unselectable").unbind("selectstart"+o)},bindings:function(r,n){var o=r.namespace+"tsresize";n.$resizable_container.children().bind("mousedown",function(t){var o,s=n.resizable_vars,a=e(r.namespace+"_extra_headers"),l=e(t.target).data("header");o=parseInt(l.attr("data-column"),10),s.$target=l=l.add(a.filter('[data-column="'+o+'"]')),s.target=o,s.$next=t.shiftKey||n.resizable_targetLast?l.parent().children().not(".resizable-false").filter(":last"):l.nextAll(":not(.resizable-false)").eq(0),o=parseInt(s.$next.attr("data-column"),10),s.$next=s.$next.add(a.filter('[data-column="'+o+'"]')),s.next=o,s.mouseXPosition=t.pageX,i.resizable.updateStoredSizes(r,n),i.resizable.toggleTextSelection(r,n,!0)}),e(document).bind("mousemove"+o,function(e){var t=n.resizable_vars;t.disabled&&0!==t.mouseXPosition&&t.$target&&(n.resizable_throttle?(clearTimeout(t.timer),t.timer=setTimeout(function(){i.resizable.mouseMove(r,n,e)},isNaN(n.resizable_throttle)?5:n.resizable_throttle)):i.resizable.mouseMove(r,n,e))}).bind("mouseup"+o,function(){n.resizable_vars.disabled&&(i.resizable.toggleTextSelection(r,n,!1),i.resizable.stopResize(r,n),i.resizable.setHandlePosition(r,n))}),e(t).bind("resize"+o+" resizeEnd"+o,function(){i.resizable.setHandlePosition(r,n)}),r.$table.bind("columnUpdate pagerComplete resizableUpdate ".split(" ").join(o+" "),function(){i.resizable.setHandlePosition(r,n)}).bind("resizableReset"+o,function(){i.resizableReset(r.table)}).find("thead:first").add(e(r.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+o,function(){var e=0===n.resizable_vars.storedSizes.length;return i.resizableReset(r.table),i.resizable.setHandlePosition(r,n),n.resizable_vars.storedSizes=[],e})},mouseMove:function(t,r,n){if(0!==r.resizable_vars.mouseXPosition&&r.resizable_vars.$target){var o,s=0,a=r.resizable_vars,l=a.$next,d=a.storedSizes[a.target],c=n.pageX-a.mouseXPosition;if(a.overflow){if(d+c>0){for(a.storedSizes[a.target]+=c,i.resizable.setWidth(a.$target,a.storedSizes[a.target],!0),o=0;o<t.columns;o++)s+=a.storedSizes[o];i.resizable.setWidth(t.$table.add(e(t.namespace+"_extra_table")),s)}l.length||(a.$wrap[0].scrollLeft=t.$table.width())}else a.fullWidth?(a.storedSizes[a.target]+=c,a.storedSizes[a.next]-=c,i.resizable.setWidths(t,r)):(a.storedSizes[a.target]+=c,i.resizable.setWidths(t,r));a.mouseXPosition=n.pageX,t.$table.triggerHandler("stickyHeadersUpdate")}},stopResize:function(e,t){var r=t.resizable_vars;i.resizable.updateStoredSizes(e,t),r.useStorage&&(i.storage(e.table,i.css.resizableStorage,r.storedSizes),i.storage(e.table,"tablesorter-table-resized-width",e.$table.width())),r.mouseXPosition=0,r.$target=r.$next=null,e.$table.triggerHandler("stickyHeadersUpdate"),e.$table.triggerHandler("resizableComplete")}},i.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_includeFooter:!0,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1},init:function(e,t,r,n){i.resizable.init(r,n)},format:function(e,t,r){i.resizable.setHandlePosition(t,r)},remove:function(t,r,n,o){if(n.$resizable_container){var s=r.namespace+"tsresize";r.$table.add(e(r.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+s),n.$resizable_container.remove(),i.resizable.toggleTextSelection(r,n,!1),i.resizableReset(t,o),e(document).unbind("mousemove"+s+" mouseup"+s)}}}),i.resizableReset=function(t,r){e(t).each(function(){var e,n,o=this.config,s=o&&o.widgetOptions,a=s.resizable_vars;if(t&&o&&o.$headerIndexed.length){for(a.overflow&&a.tableWidth&&(i.resizable.setWidth(o.$table,a.tableWidth,!0),a.useStorage&&i.storage(t,"tablesorter-table-resized-width",a.tableWidth)),e=0;e<o.columns;e++)n=o.$headerIndexed[e],s.resizable_widths&&s.resizable_widths[e]?i.resizable.setWidth(n,s.resizable_widths[e],a.overflow):n.hasClass("resizable-false")||i.resizable.setWidth(n,"",a.overflow);o.$table.triggerHandler("stickyHeadersUpdate"),i.storage&&!r&&i.storage(this,i.css.resizableStorage,[])}})}}(e,window),function(e){"use strict";var t=e.tablesorter||{};function i(i){var r=t.storage(i.table,"tablesorter-savesort");return r&&r.hasOwnProperty("sortList")&&e.isArray(r.sortList)?r.sortList:[]}function r(e,t){return(t||i(e)).join(",")!==e.sortList.join(",")}t.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(e,t,i,r){t.format(e,i,r,!0)},format:function(e,n,o,s){var a,l=n.$table,d=!1!==o.saveSort,c={sortList:n.sortList},h=t.debug(n,"saveSort");h&&(a=new Date),l.hasClass("hasSaveSort")?d&&e.hasInitialized&&t.storage&&r(n)&&(t.storage(e,"tablesorter-savesort",c),h&&console.log("saveSort >> Saving last sort: "+n.sortList+t.benchmark(a))):(l.addClass("hasSaveSort"),c="",t.storage&&(c=i(n),h&&console.log('saveSort >> Last sort loaded: "'+c+'"'+t.benchmark(a)),l.bind("saveSortReset",function(i){i.stopPropagation(),t.storage(e,"tablesorter-savesort","")})),s&&c&&c.length>0?n.sortList=c:e.hasInitialized&&c&&c.length>0&&r(n,c)&&t.sortOn(n,c))},remove:function(e,i){i.$table.removeClass("hasSaveSort"),t.storage&&t.storage(e,"tablesorter-savesort","")}})}(e),e.tablesorter},n=[i("7t+N")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},nErl:function(e,t){(function(t){e.exports=t}).call(t,{})},nYWQ:function(e,t,i){var r,n,o,s;s=function(e){return e.fn.extend({disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(t+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var t},n=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},ne1m:function(e,t,i){var r,n,o,s;s=function(e){return e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")}},n=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},"o/zv":function(e,t,i){(function(e){function i(e,t){for(var i=0,r=e.length-1;r>=0;r--){var n=e[r];"."===n?e.splice(r,1):".."===n?(e.splice(r,1),i++):i&&(e.splice(r,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,n=function(e){return r.exec(e).slice(1)};function o(e,t){if(e.filter)return e.filter(t);for(var i=[],r=0;r<e.length;r++)t(e[r],r,e)&&i.push(e[r]);return i}t.resolve=function(){for(var t="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var s=n>=0?arguments[n]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return t=i(o(t.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),n="/"===s(e,-1);return(e=i(o(e.split("/"),function(e){return!!e}),!r).join("/"))||r||(e="."),e&&n&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,i){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=t.resolve(e).substr(1),i=t.resolve(i).substr(1);for(var n=r(e.split("/")),o=r(i.split("/")),s=Math.min(n.length,o.length),a=s,l=0;l<s;l++)if(n[l]!==o[l]){a=l;break}var d=[];for(l=a;l<n.length;l++)d.push("..");return(d=d.concat(o.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=n(e),i=t[0],r=t[1];return i||r?(r&&(r=r.substr(0,r.length-1)),i+r):"."},t.basename=function(e,t){var i=n(e)[2];return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},t.extname=function(e){return n(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(t,i("W2nU"))},"o1P/":function(e,t,i){var r,n,o,s;s=function(e){var t;return e.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===e.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,i){var r="iconPosition"!==t,n=r?this.options.iconPosition:i,o="top"===n||"bottom"===n;this.icon?r&&this._removeClass(this.icon,null,this.options.icon):(this.icon=e("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),r&&this._addClass(this.icon,null,i),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,i=void 0===e.icon?this.options.icon:e.icon;t||i||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),this.element[0].disabled=t,t&&this.element.blur())},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==e.uiBackCompat&&(e.widget("ui.button",e.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){"text"!==e?("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",t)}}),e.fn.button=(t=e.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?t.apply(this,arguments):(e.ui.checkboxradio||e.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),e.fn.buttonset=function(){return e.ui.controlgroup||e.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),e.ui.button},n=[i("7t+N"),i("SDNg"),i("yWuW"),i("WLoA"),i("z1kw")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},oKXF:function(e,t,i){var r;r=function(){return function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function r(e,t){"object"===(void 0===e?"undefined":n(e))&&(t=e,e=void 0),t=t||{};var i,r=o(e),s=r.source,c=r.id,h=r.path,u=d[c]&&h in d[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||u?(l("ignoring socket cache for %s",s),i=a(s,t)):(d[c]||(l("new io instance for %s",s),d[c]=a(s,t)),i=d[c]),r.query&&!t.query&&(t.query=r.query),i.socket(r.path,t)}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=i(1),s=i(7),a=i(12),l=i(3)("socket.io-client");e.exports=t=r;var d=t.managers={};t.protocol=s.protocol,t.connect=r,t.Manager=i(12),t.Socket=i(37)},function(e,t,i){(function(t){"use strict";var r=i(2),n=i(3)("socket.io-client:url");e.exports=function(e,i){var o=e;i=i||t.location,null==e&&(e=i.protocol+"//"+i.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?i.protocol+e:i.host+e),/^(https?|wss?):\/\//.test(e)||(n("protocol-less url %s",e),e=void 0!==i?i.protocol+"//"+e:"https://"+e),n("parse %s",e),o=r(e)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";var s=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+s+":"+o.port,o.href=o.protocol+"://"+s+(i&&i.port===o.port?"":":"+o.port),o}}).call(t,function(){return this}())},function(e,t){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,n=e.indexOf("["),o=e.indexOf("]");-1!=n&&-1!=o&&(e=e.substring(0,n)+e.substring(n,o).replace(/:/g,";")+e.substring(o,e.length));for(var s=i.exec(e||""),a={},l=14;l--;)a[r[l]]=s[l]||"";return-1!=n&&-1!=o&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(e,t,i){(function(r){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=i(5)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var i=this.useColors;if(e[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+e[0]+(i?"%c ":" ")+"+"+t.humanize(this.diff),i){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var n=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(o=++n)}),e.splice(o,0,r)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())}).call(t,i(4))},function(e,t){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function n(e){if(d===setTimeout)return setTimeout(e,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function o(){p&&u&&(p=!1,u.length?f=u.concat(f):g=-1,f.length&&s())}function s(){if(!p){var e=n(o);p=!0;for(var t=f.length;t;){for(u=f,f=[];++g<t;)u&&u[g].run();g=-1,t=f.length}u=null,p=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(e)}}function a(e,t){this.fun=e,this.array=t}function l(){}var d,c,h=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(e){d=i}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(e){c=r}}();var u,f=[],p=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];f.push(new a(e,t)),1!==f.length||p||n(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,i){function r(e){function i(){if(i.enabled){var e=i,n=+new Date,o=n-(r||n);e.diff=o,e.prev=r,e.curr=n,r=n;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(i,r){if("%%"===i)return i;l++;var n=t.formatters[r];if("function"==typeof n){var o=s[l];i=n.call(e,o),s.splice(l,1),l--}return i}),t.formatArgs.call(e,s),(i.log||t.log||console.log.bind(console)).apply(e,s)}}var r;return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=function(e){var i,r=0;for(i in e)r=(r<<5)-r+e.charCodeAt(i),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),i.destroy=n,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function n(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];var i,r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(i=0;i<n;i++)r[i]&&("-"===(e=r[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(i=0;i<t.instances.length;i++){var o=t.instances[i];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var i,r;for(i=0,r=t.skips.length;i<r;i++)if(t.skips[i].test(e))return!1;for(i=0,r=t.names.length;i<r;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=i(6),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){function i(e){return r(e,a,"day")||r(e,s,"hour")||r(e,o,"minute")||r(e,n,"second")||e+" ms"}function r(e,t,i){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+i:Math.ceil(e/t)+" "+i+"s"}var n=1e3,o=60*n,s=60*o,a=24*s,l=365.25*a;e.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return i*l;case"days":case"day":case"d":return i*a;case"hours":case"hour":case"hrs":case"hr":case"h":return i*s;case"minutes":case"minute":case"mins":case"min":case"m":return i*o;case"seconds":case"second":case"secs":case"sec":case"s":return i*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===r&&!1===isNaN(e))return t.long?i(e):function(e){return e>=a?Math.round(e/a)+"d":e>=s?Math.round(e/s)+"h":e>=o?Math.round(e/o)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,i){function r(){}function n(e){var i=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(i+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(i+=e.nsp+","),null!=e.id&&(i+=e.id),null!=e.data){var r=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===r)return p;i+=r}return d("encoded %j as %s",e,i),i}function o(){this.reconstructor=null}function s(e){var i=0,r={type:Number(e.charAt(0))};if(null==t.types[r.type])return l("unknown packet type "+r.type);if(t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type){for(var n="";"-"!==e.charAt(++i)&&(n+=e.charAt(i),i!=e.length););if(n!=Number(n)||"-"!==e.charAt(i))throw new Error("Illegal attachments");r.attachments=Number(n)}if("/"===e.charAt(i+1))for(r.nsp="";++i;){if(","===(s=e.charAt(i)))break;if(r.nsp+=s,i===e.length)break}else r.nsp="/";var o=e.charAt(i+1);if(""!==o&&Number(o)==o){for(r.id="";++i;){var s;if(null==(s=e.charAt(i))||Number(s)!=s){--i;break}if(r.id+=e.charAt(i),i===e.length)break}r.id=Number(r.id)}if(e.charAt(++i)){var a=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(i));if(!(!1!==a&&(r.type===t.ERROR||u(a))))return l("invalid payload");r.data=a}return d("decoded %s as %j",e,r),r}function a(e){this.reconPack=e,this.buffers=[]}function l(e){return{type:t.ERROR,data:"parser error: "+e}}var d=i(3)("socket.io-parser"),c=i(8),h=i(9),u=i(10),f=i(11);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=r,t.Decoder=o;var p=t.ERROR+'"encode error"';r.prototype.encode=function(e,i){(d("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){h.removeBlobs(e,function(e){var i=h.deconstructPacket(e),r=n(i.packet),o=i.buffers;o.unshift(r),t(o)})}(e,i):i([n(e)])},c(o.prototype),o.prototype.add=function(e){var i;if("string"==typeof e)i=s(e),t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type?(this.reconstructor=new a(i),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",i)):this.emit("decoded",i);else{if(!f(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(i=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",i))}},o.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},a.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},a.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,i){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function i(){this.off(e,i),t.apply(this,arguments)}return i.fn=t,this.on(e,i),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,n=0;n<i.length;n++)if((r=i[n])===t||r.fn===t){i.splice(n,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks["$"+e];if(i)for(var r=0,n=(i=i.slice(0)).length;r<n;++r)i[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,i){(function(e){var r=i(10),n=i(11),o=Object.prototype.toString,s="function"==typeof e.Blob||"[object BlobConstructor]"===o.call(e.Blob),a="function"==typeof e.File||"[object FileConstructor]"===o.call(e.File);t.deconstructPacket=function(e){var t=[],i=e.data,o=e;return o.data=function e(t,i){if(!t)return t;if(n(t)){var o={_placeholder:!0,num:i.length};return i.push(t),o}if(r(t)){for(var s=new Array(t.length),a=0;a<t.length;a++)s[a]=e(t[a],i);return s}if("object"==typeof t&&!(t instanceof Date)){for(var l in s={},t)s[l]=e(t[l],i);return s}return t}(i,t),o.attachments=t.length,{packet:o,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,i){if(!t)return t;if(t&&t._placeholder)return i[t.num];if(r(t))for(var n=0;n<t.length;n++)t[n]=e(t[n],i);else if("object"==typeof t)for(var o in t)t[o]=e(t[o],i);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var i=0,o=e;(function e(l,d,c){if(!l)return l;if(s&&l instanceof Blob||a&&l instanceof File){i++;var h=new FileReader;h.onload=function(){c?c[d]=this.result:o=this.result,--i||t(o)},h.readAsArrayBuffer(l)}else if(r(l))for(var u=0;u<l.length;u++)e(l[u],u,l);else if("object"==typeof l&&!n(l))for(var f in l)e(l[f],f,l)})(o),i||t(o)}}).call(t,function(){return this}())},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e,t){(function(t){e.exports=function(e){return i&&t.Buffer.isBuffer(e)||r&&(e instanceof t.ArrayBuffer||n(e))};var i="function"==typeof t.Buffer&&"function"==typeof t.Buffer.isBuffer,r="function"==typeof t.ArrayBuffer,n=r&&"function"==typeof t.ArrayBuffer.isView?t.ArrayBuffer.isView:function(e){return e.buffer instanceof t.ArrayBuffer}}).call(t,function(){return this}())},function(e,t,i){"use strict";function r(e,t){if(!(this instanceof r))return new r(e,t);e&&"object"===(void 0===e?"undefined":n(e))&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var i=t.parser||l;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=i(13),s=i(37),a=i(8),l=i(7),d=i(39),c=i(40),h=i(3)("socket.io-client:manager"),u=i(36),f=i(41),p=Object.prototype.hasOwnProperty;e.exports=r,r.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)p.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)p.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},r.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},a(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e,t){if(h("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;h("opening %s",this.uri),this.engine=o(this.uri,this.opts);var i=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var n=d(i,"open",function(){r.onopen(),e&&e()}),s=d(i,"error",function(t){if(h("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var i=new Error("Connection error");i.data=t,e(i)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;h("connect attempt will timeout after %d",a);var l=setTimeout(function(){h("connect attempt timed out after %d",a),n.destroy(),i.close(),i.emit("error","timeout"),r.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(n),this.subs.push(s),this},r.prototype.onopen=function(){h("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(d(e,"data",c(this,"ondata"))),this.subs.push(d(e,"ping",c(this,"onping"))),this.subs.push(d(e,"pong",c(this,"onpong"))),this.subs.push(d(e,"error",c(this,"onerror"))),this.subs.push(d(e,"close",c(this,"onclose"))),this.subs.push(d(this.decoder,"decoded",c(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){h("error",e),this.emitAll("error",e)},r.prototype.socket=function(e,t){function i(){~u(n.connecting,r)||n.connecting.push(r)}var r=this.nsps[e];if(!r){r=new s(this,e,t),this.nsps[e]=r;var n=this;r.on("connecting",i),r.on("connect",function(){r.id=n.generateId(e)}),this.autoConnect&&i()}return r},r.prototype.destroy=function(e){var t=u(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},r.prototype.packet=function(e){h("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(i){for(var r=0;r<i.length;r++)t.engine.write(i[r],e.options);t.encoding=!1,t.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){h("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){h("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){h("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)h("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();h("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var i=setTimeout(function(){e.skipReconnect||(h("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(h("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(h("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(i)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,i){e.exports=i(14),e.exports.parser=i(21)},function(e,t,i){(function(t){function r(e,i){if(!(this instanceof r))return new r(e,i);i=i||{},e&&"object"==typeof e&&(i=e,e=null),e?(e=d(e),i.hostname=e.host,i.secure="https"===e.protocol||"wss"===e.protocol,i.port=e.port,e.query&&(i.query=e.query)):i.host&&(i.hostname=d(i.host).host),this.secure=null!=i.secure?i.secure:t.location&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.agent=i.agent||!1,this.hostname=i.hostname||(t.location?location.hostname:"localhost"),this.port=i.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=i.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==i.upgrade,this.path=(i.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!i.forceJSONP,this.jsonp=!1!==i.jsonp,this.forceBase64=!!i.forceBase64,this.enablesXDR=!!i.enablesXDR,this.timestampParam=i.timestampParam||"t",this.timestampRequests=i.timestampRequests,this.transports=i.transports||["polling","websocket"],this.transportOptions=i.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=i.policyPort||843,this.rememberUpgrade=i.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=i.onlyBinaryUpgrades,this.perMessageDeflate=!1!==i.perMessageDeflate&&(i.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=i.pfx||null,this.key=i.key||null,this.passphrase=i.passphrase||null,this.cert=i.cert||null,this.ca=i.ca||null,this.ciphers=i.ciphers||null,this.rejectUnauthorized=void 0===i.rejectUnauthorized||i.rejectUnauthorized,this.forceNode=!!i.forceNode;var n="object"==typeof t&&t;n.global===n&&(i.extraHeaders&&Object.keys(i.extraHeaders).length>0&&(this.extraHeaders=i.extraHeaders),i.localAddress&&(this.localAddress=i.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}var n=i(15),o=i(8),s=i(3)("engine.io-client:socket"),a=i(36),l=i(21),d=i(2),c=i(30);e.exports=r,r.priorWebsocketSuccess=!1,o(r.prototype),r.protocol=l.protocol,r.Socket=r,r.Transport=i(20),r.transports=i(15),r.parser=i(21),r.prototype.createTransport=function(e){s('creating transport "%s"',e);var t=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}(this.query);t.EIO=l.protocol,t.transport=e;var i=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new n[e]({query:t,socket:this,agent:i.agent||this.agent,hostname:i.hostname||this.hostname,port:i.port||this.port,secure:i.secure||this.secure,path:i.path||this.path,forceJSONP:i.forceJSONP||this.forceJSONP,jsonp:i.jsonp||this.jsonp,forceBase64:i.forceBase64||this.forceBase64,enablesXDR:i.enablesXDR||this.enablesXDR,timestampRequests:i.timestampRequests||this.timestampRequests,timestampParam:i.timestampParam||this.timestampParam,policyPort:i.policyPort||this.policyPort,pfx:i.pfx||this.pfx,key:i.key||this.key,passphrase:i.passphrase||this.passphrase,cert:i.cert||this.cert,ca:i.ca||this.ca,ciphers:i.ciphers||this.ciphers,rejectUnauthorized:i.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:i.perMessageDeflate||this.perMessageDeflate,extraHeaders:i.extraHeaders||this.extraHeaders,forceNode:i.forceNode||this.forceNode,localAddress:i.localAddress||this.localAddress,requestTimeout:i.requestTimeout||this.requestTimeout,protocols:i.protocols||void 0})},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){s("setting transport %s",e.name);var t=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},r.prototype.probe=function(e){function t(){if(u.onlyBinaryUpgrades){var t=!this.supportsBinary&&u.transport.supportsBinary;h=h||t}h||(s('probe transport "%s" opened',e),c.send([{type:"ping",data:"probe"}]),c.once("packet",function(t){if(!h)if("pong"===t.type&&"probe"===t.data){if(s('probe transport "%s" pong',e),u.upgrading=!0,u.emit("upgrading",c),!c)return;r.priorWebsocketSuccess="websocket"===c.name,s('pausing current transport "%s"',u.transport.name),u.transport.pause(function(){h||"closed"!==u.readyState&&(s("changing transport and sending upgrade packet"),d(),u.setTransport(c),c.send([{type:"upgrade"}]),u.emit("upgrade",c),c=null,u.upgrading=!1,u.flush())})}else{s('probe transport "%s" failed',e);var i=new Error("probe error");i.transport=c.name,u.emit("upgradeError",i)}}))}function i(){h||(h=!0,d(),c.close(),c=null)}function n(t){var r=new Error("probe error: "+t);r.transport=c.name,i(),s('probe transport "%s" failed because of error: %s',e,t),u.emit("upgradeError",r)}function o(){n("transport closed")}function a(){n("socket closed")}function l(e){c&&e.name!==c.name&&(s('"%s" works - aborting "%s"',e.name,c.name),i())}function d(){c.removeListener("open",t),c.removeListener("error",n),c.removeListener("close",o),u.removeListener("close",a),u.removeListener("upgrading",l)}s('probing transport "%s"',e);var c=this.createTransport(e,{probe:1}),h=!1,u=this;r.priorWebsocketSuccess=!1,c.once("open",t),c.once("error",n),c.once("close",o),this.once("close",a),this.once("upgrading",l),c.open()},r.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},r.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else s('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},r.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t,i){return this.sendPacket("message",e,t,i),this},r.prototype.sendPacket=function(e,t,i,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof i&&(r=i,i=null),"closing"!==this.readyState&&"closed"!==this.readyState){(i=i||{}).compress=!1!==i.compress;var n={type:e,data:t,options:i};this.emit("packetCreate",n),this.writeBuffer.push(n),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),s("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function i(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():e()}):this.upgrading?i():e()}return this},r.prototype.onError=function(e){s("socket error %j",e),r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){s('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},r.prototype.filterUpgrades=function(e){for(var t=[],i=0,r=e.length;i<r;i++)~a(this.transports,e[i])&&t.push(e[i]);return t}}).call(t,function(){return this}())},function(e,t,i){(function(e){var r=i(16),n=i(18),o=i(33),s=i(34);t.polling=function(t){var i=!1,s=!1,a=!1!==t.jsonp;if(e.location){var l="https:"===location.protocol,d=location.port;d||(d=l?443:80),i=t.hostname!==location.hostname||d!==t.port,s=t.secure!==l}if(t.xdomain=i,t.xscheme=s,"open"in new r(t)&&!t.forceJSONP)return new n(t);if(!a)throw new Error("JSONP disabled");return new o(t)},t.websocket=s}).call(t,function(){return this}())},function(e,t,i){(function(t){var r=i(17);e.exports=function(e){var i=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!i||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(e){}if(!i)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(t,function(){return this}())},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,i){(function(t){function r(){}function n(e){if(l.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,t.location){var i="https:"===location.protocol,r=location.port;r||(r=i?443:80),this.xd=e.hostname!==t.location.hostname||r!==e.port,this.xs=e.secure!==i}}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function s(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var a=i(16),l=i(19),d=i(8),c=i(31),h=i(3)("engine.io-client:polling-xhr");e.exports=n,e.exports.Request=o,c(n,l),n.prototype.supportsBinary=!0,n.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new o(e)},n.prototype.doWrite=function(e,t){var i="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:i}),n=this;r.on("success",t),r.on("error",function(e){n.onError("xhr post error",e)}),this.sendXhr=r},n.prototype.doPoll=function(){h("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},d(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var i=this.xhr=new a(e),r=this;try{h("xhr open %s: %s",this.method,this.uri),i.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var n in i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(n)&&i.setRequestHeader(n,this.extraHeaders[n])}catch(e){}if("POST"===this.method)try{this.isBinary?i.setRequestHeader("Content-type","application/octet-stream"):i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{i.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in i&&(i.withCredentials=!0),this.requestTimeout&&(i.timeout=this.requestTimeout),this.hasXDR()?(i.onload=function(){r.onLoad()},i.onerror=function(){r.onError(i.responseText)}):i.onreadystatechange=function(){if(2===i.readyState)try{var e=i.getResponseHeader("Content-Type");r.supportsBinary&&"application/octet-stream"===e&&(i.responseType="arraybuffer")}catch(e){}4===i.readyState&&(200===i.status||1223===i.status?r.onLoad():setTimeout(function(){r.onError(i.status)},0))},h("xhr data %s",this.data),i.send(this.data)}catch(e){return void setTimeout(function(){r.onError(e)},0)}t.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(e){}t.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return void 0!==t.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},o.requestsCount=0,o.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",s):t.addEventListener&&t.addEventListener("beforeunload",s,!1))}).call(t,function(){return this}())},function(e,t,i){function r(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),n.call(this,e)}var n=i(20),o=i(30),s=i(21),a=i(31),l=i(32),d=i(3)("engine.io-client:polling");e.exports=r;var c=null!=new(i(16))({xdomain:!1}).responseType;a(r,n),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){d("paused"),i.readyState="paused",e()}var i=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(d("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){d("pre-pause polling complete"),--r||t()})),this.writable||(d("we are currently writing - waiting to pause"),r++,this.once("drain",function(){d("pre-pause writing complete"),--r||t()}))}else t()},r.prototype.poll=function(){d("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this;d("polling got data %s",e);s.decodePayload(e,this.socket.binaryType,function(e,i,r){return"opening"===t.readyState&&t.onOpen(),"close"===e.type?(t.onClose(),!1):void t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():d('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function e(){d("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(d("transport open - closing"),e()):(d("transport not open - deferring close"),this.once("open",e))},r.prototype.write=function(e){var t=this;this.writable=!1;var i=function(){t.writable=!0,t.emit("drain")};s.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,i)})},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",i="";return!1!==this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(i=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+i+this.path+e}},function(e,t,i){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var n=i(21),o=i(8);e.exports=r,o(r.prototype),r.prototype.onError=function(e,t){var i=new Error(e);return i.type="TransportError",i.description=t,this.emit("error",i),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=n.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,i){(function(e){function r(e,i){return i("b"+t.packets[e.type]+e.data.data)}function n(e,i,r){if(!i)return t.encodeBase64Packet(e,r);var n=e.data,o=new Uint8Array(n),s=new Uint8Array(1+n.byteLength);s[0]=m[e.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return r(s.buffer)}function o(e,i,r){if(!i)return t.encodeBase64Packet(e,r);if(g)return function(e,i,r){if(!i)return t.encodeBase64Packet(e,r);var n=new FileReader;return n.onload=function(){e.data=n.result,t.encodePacket(e,i,!0,r)},n.readAsArrayBuffer(e.data)}(e,i,r);var n=new Uint8Array(1);return n[0]=m[e.type],r(new y([n.buffer,e.data]))}function s(e,t,i){for(var r=new Array(e.length),n=h(e.length,i),o=function(e,i,n){t(i,function(t,i){r[e]=i,n(t,r)})},s=0;s<e.length;s++)o(s,e[s],n)}var a,l=i(22),d=i(23),c=i(24),h=i(25),u=i(26);e&&e.ArrayBuffer&&(a=i(28));var f="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),p="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),g=f||p;t.protocol=3;var m=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},v=l(m),b={type:"error",data:"parser error"},y=i(29);t.encodePacket=function(t,i,s,a){"function"==typeof i&&(a=i,i=!1),"function"==typeof s&&(a=s,s=null);var l=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&l instanceof ArrayBuffer)return n(t,i,a);if(y&&l instanceof e.Blob)return o(t,i,a);if(l&&l.base64)return r(t,a);var d=m[t.type];return void 0!==t.data&&(d+=s?u.encode(String(t.data),{strict:!1}):String(t.data)),a(""+d)},t.encodeBase64Packet=function(i,r){var n,o="b"+t.packets[i.type];if(y&&i.data instanceof e.Blob){var s=new FileReader;return s.onload=function(){var e=s.result.split(",")[1];r(o+e)},s.readAsDataURL(i.data)}try{n=String.fromCharCode.apply(null,new Uint8Array(i.data))}catch(e){for(var a=new Uint8Array(i.data),l=new Array(a.length),d=0;d<a.length;d++)l[d]=a[d];n=String.fromCharCode.apply(null,l)}return o+=e.btoa(n),r(o)},t.decodePacket=function(e,i,r){if(void 0===e)return b;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),i);if(r&&!1===(e=function(e){try{e=u.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return b;var n=e.charAt(0);return Number(n)==n&&v[n]?e.length>1?{type:v[n],data:e.substring(1)}:{type:v[n]}:b}n=new Uint8Array(e)[0];var o=c(e,1);return y&&"blob"===i&&(o=new y([o])),{type:v[n],data:o}},t.decodeBase64Packet=function(e,t){var i=v[e.charAt(0)];if(!a)return{type:i,data:{base64:!0,data:e.substr(1)}};var r=a.decode(e.substr(1));return"blob"===t&&y&&(r=new y([r])),{type:i,data:r}},t.encodePayload=function(e,i,r){"function"==typeof i&&(r=i,i=null);var n=d(e);return i&&n?y&&!g?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r):e.length?void s(e,function(e,r){t.encodePacket(e,!!n&&i,!1,function(e){r(null,function(e){return e.length+":"+e}(e))})},function(e,t){return r(t.join(""))}):r("0:")},t.decodePayload=function(e,i,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,i,r);var n;if("function"==typeof i&&(r=i,i=null),""===e)return r(b,0,1);for(var o,s,a="",l=0,d=e.length;l<d;l++){var c=e.charAt(l);if(":"===c){if(""===a||a!=(o=Number(a)))return r(b,0,1);if(a!=(s=e.substr(l+1,o)).length)return r(b,0,1);if(s.length){if(n=t.decodePacket(s,i,!1),b.type===n.type&&b.data===n.data)return r(b,0,1);if(!1===r(n,l+o,d))return}l+=o,a=""}else a+=c}return""!==a?r(b,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,i){return e.length?void s(e,function(e,i){t.encodePacket(e,!0,!0,function(e){return i(null,e)})},function(e,t){var r=t.reduce(function(e,t){var i;return e+(i="string"==typeof t?t.length:t.byteLength).toString().length+i+2},0),n=new Uint8Array(r),o=0;return t.forEach(function(e){var t="string"==typeof e,i=e;if(t){for(var r=new Uint8Array(e.length),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);i=r.buffer}n[o++]=t?0:1;var a=i.byteLength.toString();for(s=0;s<a.length;s++)n[o++]=parseInt(a[s]);n[o++]=255;for(r=new Uint8Array(i),s=0;s<r.length;s++)n[o++]=r[s]}),i(n.buffer)}):i(new ArrayBuffer(0))},t.encodePayloadAsBlob=function(e,i){s(e,function(e,i){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);e=r.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),s=new Uint8Array(o.length+1);for(n=0;n<o.length;n++)s[n]=parseInt(o[n]);if(s[o.length]=255,y){var a=new y([t.buffer,s.buffer,e]);i(null,a)}})},function(e,t){return i(new y(t))})},t.decodePayloadAsBinary=function(e,i,r){"function"==typeof i&&(r=i,i=null);for(var n=e,o=[];n.byteLength>0;){for(var s=new Uint8Array(n),a=0===s[0],l="",d=1;255!==s[d];d++){if(l.length>310)return r(b,0,1);l+=s[d]}n=c(n,2+l.length),l=parseInt(l);var h=c(n,0,l);if(a)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(e){var u=new Uint8Array(h);h="";for(d=0;d<u.length;d++)h+=String.fromCharCode(u[d])}o.push(h),n=c(n,l)}var f=o.length;o.forEach(function(e,n){r(t.decodePacket(e,i,!0),n,f)})}}).call(t,function(){return this}())},function(e,t){e.exports=Object.keys||function(e){var t=[],i=Object.prototype.hasOwnProperty;for(var r in e)i.call(e,r)&&t.push(r);return t}},function(e,t,i){(function(t){var r=i(10),n=Object.prototype.toString,o="function"==typeof t.Blob||"[object BlobConstructor]"===n.call(t.Blob),s="function"==typeof t.File||"[object FileConstructor]"===n.call(t.File);e.exports=function e(i){if(!i||"object"!=typeof i)return!1;if(r(i)){for(var n=0,a=i.length;n<a;n++)if(e(i[n]))return!0;return!1}if("function"==typeof t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(i)||"function"==typeof t.ArrayBuffer&&i instanceof ArrayBuffer||o&&i instanceof Blob||s&&i instanceof File)return!0;if(i.toJSON&&"function"==typeof i.toJSON&&1===arguments.length)return e(i.toJSON(),!0);for(var l in i)if(Object.prototype.hasOwnProperty.call(i,l)&&e(i[l]))return!0;return!1}}).call(t,function(){return this}())},function(e,t){e.exports=function(e,t,i){var r=e.byteLength;if(t=t||0,i=i||r,e.slice)return e.slice(t,i);if(t<0&&(t+=r),i<0&&(i+=r),i>r&&(i=r),t>=r||t>=i||0===r)return new ArrayBuffer(0);for(var n=new Uint8Array(e),o=new Uint8Array(i-t),s=t,a=0;s<i;s++,a++)o[a]=n[s];return o.buffer}},function(e,t){function i(){}e.exports=function(e,t,r){function n(e,i){if(n.count<=0)throw new Error("after called too many times");--n.count,e?(o=!0,t(e),t=r):0!==n.count||o||t(null,i)}var o=!1;return r=r||i,n.count=e,0===e?t():n}},function(e,t,i){var r;(function(e,n){!function(o){function s(e){for(var t,i,r=[],n=0,o=e.length;n<o;)(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<o?56320==(64512&(i=e.charCodeAt(n++)))?r.push(((1023&t)<<10)+(1023&i)+65536):(r.push(t),n--):r.push(t);return r}function a(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function l(e,t){return m(e>>t&63|128)}function d(e,t){if(0==(4294967168&e))return m(e);var i="";return 0==(4294965248&e)?i=m(e>>6&31|192):0==(4294901760&e)?(a(e,t)||(e=65533),i=m(e>>12&15|224),i+=l(e,6)):0==(4292870144&e)&&(i=m(e>>18&7|240),i+=l(e,12),i+=l(e,6)),i+m(63&e|128)}function c(){if(g>=p)throw Error("Invalid byte index");var e=255&f[g];if(g++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function h(e){var t,i;if(g>p)throw Error("Invalid byte index");if(g==p)return!1;if(t=255&f[g],g++,0==(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|c())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if((i=(15&t)<<12|c()<<6|c())>=2048)return a(i,e)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&((i=(7&t)<<18|c()<<12|c()<<6|c())>=65536&&i<=1114111))return i;throw Error("Invalid UTF-8 detected")}var u=("object"==typeof e&&e&&e.exports,"object"==typeof n&&n);u.global!==u&&u.window;var f,p,g,m=String.fromCharCode,v={version:"2.1.2",encode:function(e,t){for(var i=!1!==(t=t||{}).strict,r=s(e),n=r.length,o=-1,a="";++o<n;)a+=d(r[o],i);return a},decode:function(e,t){var i=!1!==(t=t||{}).strict;f=s(e),p=f.length,g=0;for(var r,n=[];!1!==(r=h(i));)n.push(r);return function(e){for(var t,i=e.length,r=-1,n="";++r<i;)(t=e[r])>65535&&(n+=m((t-=65536)>>>10&1023|55296),t=56320|1023&t),n+=m(t);return n}(n)}};void 0===(r=function(){return v}.call(t,i,t,e))||(e.exports=r)}()}).call(t,i(27)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),r=0;r<e.length;r++)i[e.charCodeAt(r)]=r;t.encode=function(t){var i,r=new Uint8Array(t),n=r.length,o="";for(i=0;i<n;i+=3)o+=e[r[i]>>2],o+=e[(3&r[i])<<4|r[i+1]>>4],o+=e[(15&r[i+1])<<2|r[i+2]>>6],o+=e[63&r[i+2]];return n%3==2?o=o.substring(0,o.length-1)+"=":n%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,n,o,s,a=.75*e.length,l=e.length,d=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),h=new Uint8Array(c);for(t=0;t<l;t+=4)r=i[e.charCodeAt(t)],n=i[e.charCodeAt(t+1)],o=i[e.charCodeAt(t+2)],s=i[e.charCodeAt(t+3)],h[d++]=r<<2|n>>4,h[d++]=(15&n)<<4|o>>2,h[d++]=(3&o)<<6|63&s;return c}}()},function(e,t){(function(t){function i(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.buffer instanceof ArrayBuffer){var r=i.buffer;if(i.byteLength!==r.byteLength){var n=new Uint8Array(i.byteLength);n.set(new Uint8Array(r,i.byteOffset,i.byteLength)),r=n.buffer}e[t]=r}}}function r(e,t){t=t||{};var r=new o;i(e);for(var n=0;n<e.length;n++)r.append(e[n]);return t.type?r.getBlob(t.type):r.getBlob()}function n(e,t){return i(e),new Blob(e,t||{})}var o=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,s=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),a=s&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),l=o&&o.prototype.append&&o.prototype.getBlob;e.exports=s?a?t.Blob:n:l?r:void 0}).call(t,function(){return this}())},function(e,t){t.encode=function(e){var t="";for(var i in e)e.hasOwnProperty(i)&&(t.length&&(t+="&"),t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t},t.decode=function(e){for(var t={},i=e.split("&"),r=0,n=i.length;r<n;r++){var o=i[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t){e.exports=function(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t){"use strict";function i(e){var t="";do{t=o[e%s]+t,e=Math.floor(e/s)}while(e>0);return t}function r(){var e=i(+new Date);return e!==n?(l=0,n=e):e+"."+i(l++)}for(var n,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,a={},l=0,d=0;d<s;d++)a[o[d]]=d;r.encode=i,r.decode=function(e){var t=0;for(d=0;d<e.length;d++)t=t*s+a[e.charAt(d)];return t},e.exports=r},function(e,t,i){(function(t){function r(){}function n(e){o.call(this,e),this.query=this.query||{},a||(t.___eio||(t.___eio=[]),a=t.___eio),this.index=a.length;var i=this;a.push(function(e){i.onData(e)}),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",function(){i.script&&(i.script.onerror=r)},!1)}var o=i(19),s=i(31);e.exports=n;var a,l=/\n/g,d=/\\n/g;s(n,o),n.prototype.supportsBinary=!1,n.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},n.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var i=document.getElementsByTagName("script")[0];i?i.parentNode.insertBefore(t,i):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},n.prototype.doWrite=function(e,t){function i(){r(),t()}function r(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';o=document.createElement(e)}catch(e){(o=document.createElement("iframe")).name=n.iframeId,o.src="javascript:0"}o.id=n.iframeId,n.form.appendChild(o),n.iframe=o}var n=this;if(!this.form){var o,s=document.createElement("form"),a=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=c,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),r(),e=e.replace(d,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&i()}:this.iframe.onload=i}}).call(t,function(){return this}())},function(e,t,i){(function(t){function r(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=h&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(u=n),o.call(this,e)}var n,o=i(20),s=i(21),a=i(30),l=i(31),d=i(32),c=i(3)("engine.io-client:websocket"),h=t.WebSocket||t.MozWebSocket;if("undefined"==typeof window)try{n=i(35)}catch(e){}var u=h;u||"undefined"!=typeof window||(u=n),e.exports=r,l(r,o),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,i={agent:this.agent,perMessageDeflate:this.perMessageDeflate};i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(i.headers=this.extraHeaders),this.localAddress&&(i.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new u(e,t):new u(e):new u(e,t,i)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},r.prototype.write=function(e){var i=this;this.writable=!1;for(var r=e.length,n=0,o=r;n<o;n++)!function(e){s.encodePacket(e,i.supportsBinary,function(n){if(!i.usingBrowserWebSocket){var o={};if(e.options&&(o.compress=e.options.compress),i.perMessageDeflate)("string"==typeof n?t.Buffer.byteLength(n):n.length)<i.perMessageDeflate.threshold&&(o.compress=!1)}try{i.usingBrowserWebSocket?i.ws.send(n):i.ws.send(n,o)}catch(e){c("websocket closed before onclose event")}--r||(i.emit("flush"),setTimeout(function(){i.writable=!0,i.emit("drain")},0))})}(e[n])},r.prototype.onClose=function(){o.prototype.onClose.call(this)},r.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",i="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(i=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=d()),this.supportsBinary||(e.b64=1),(e=a.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+i+this.path+e},r.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===r.prototype.name)}}).call(t,function(){return this}())},function(e,t){},function(e,t){var i=[].indexOf;e.exports=function(e,t){if(i)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t,i){"use strict";function r(e,t,i){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},i&&i.query&&(this.query=i.query),this.io.autoConnect&&this.open()}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=i(7),s=i(8),a=i(38),l=i(39),d=i(40),c=i(3)("socket.io-client:socket"),h=i(30),u=i(23);e.exports=r;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=s.prototype.emit;s(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[l(e,"open",d(this,"onopen")),l(e,"packet",d(this,"onpacket")),l(e,"close",d(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(f.hasOwnProperty(e))return p.apply(this,arguments),this;var t=a(arguments),i={type:(void 0!==this.flags.binary?this.flags.binary:u(t))?o.BINARY_EVENT:o.EVENT,data:t,options:{}};return i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),this.flags={},this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===n(this.query)?h.encode(this.query):this.query;c("sending connect packet with query %s",e),this.packet({type:o.CONNECT,query:e})}else this.packet({type:o.CONNECT})},r.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){var t=e.nsp===this.nsp,i=e.type===o.ERROR&&"/"===e.nsp;if(t||i)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,i=!1;return function(){if(!i){i=!0;var r=a(arguments);c("sending ack %j",r),t.packet({type:u(r)?o.BINARY_ACK:o.ACK,id:e,data:r})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags.compress=e,this},r.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=function(e,t){for(var i=[],r=(t=t||0)||0;r<e.length;r++)i[r-t]=e[r];return i}},function(e,t){"use strict";e.exports=function(e,t,i){return e.on(t,i),{destroy:function(){e.removeListener(t,i)}}}},function(e,t){var i=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=i.call(arguments,2);return function(){return t.apply(e,r.concat(i.call(arguments)))}}},function(e,t){function i(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=i,i.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),i=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-i:e+i}return 0|Math.min(e,this.max)},i.prototype.reset=function(){this.attempts=0},i.prototype.setMin=function(e){this.ms=e},i.prototype.setMax=function(e){this.max=e},i.prototype.setJitter=function(e){this.jitter=e}}])},e.exports=r()},p4NU:function(e,t){AmCharts.addInitHandler(function(e){"use strict";if(void 0!==e.responsive&&!0!==e.responsive.ready&&!0===e.responsive.enabled){var t=e.version.split(".");if(!(t.length<2||Number(t[0])<3||3===Number(t[0])&&Number(t[1])<13)){var i=e.responsive;i.ready=!0,i.currentRules={},i.overridden=[],"stock"===e.type?0>e.panelsSettings.startDuration&&(i.startDuration=e.panelsSettings.startDuration,e.panelsSettings.startDuration=0):void 0!==e.startDuration&&0<e.startDuration&&(i.startDuration=e.startDuration,e.startDuration=0);var r={pie:[{maxWidth:550,legendPosition:"left",overrides:{legend:{enabled:!1}}},{maxWidth:550,legendPosition:"right",overrides:{legend:{enabled:!1}}},{maxWidth:150,overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"top",overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"bottom",overrides:{legend:{enabled:!1}}},{maxHeight:150,overrides:{legend:{enabled:!1}}},{maxWidth:400,overrides:{labelsEnabled:!1}},{maxWidth:100,overrides:{legend:{enabled:!1}}},{maxHeight:350,overrides:{pullOutRadius:0}},{maxHeight:200,overrides:{titles:{enabled:!1},labelsEnabled:!1}},{maxWidth:60,overrides:{autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,radius:"50%",innerRadius:0,balloon:{enabled:!1},legend:{enabled:!1}}},{maxHeight:60,overrides:{marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,radius:"50%",innerRadius:0,balloon:{enabled:!1},legend:{enabled:!1}}}],funnel:[{maxWidth:550,legendPosition:"left",overrides:{legend:{enabled:!1}}},{maxWidth:550,legendPosition:"right",overrides:{legend:{enabled:!1}}},{maxWidth:150,overrides:{legend:{enabled:!1}}},{maxHeight:500,legendPosition:"top",overrides:{legend:{enabled:!1}}},{maxHeight:500,legendPosition:"bottom",overrides:{legend:{enabled:!1}}},{maxHeight:150,overrides:{legend:{enabled:!1}}},{maxWidth:400,overrides:{labelsEnabled:!1,marginLeft:10,marginRight:10,legend:{enabled:!1}}},{maxHeight:350,overrides:{pullOutRadius:0,legend:{enabled:!1}}},{maxHeight:300,overrides:{titles:{enabled:!1}}}],radar:[{maxWidth:550,legendPosition:"left",overrides:{legend:{enabled:!1}}},{maxWidth:550,legendPosition:"right",overrides:{legend:{enabled:!1}}},{maxWidth:150,overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"top",overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"bottom",overrides:{legend:{enabled:!1}}},{maxHeight:150,overrides:{legend:{enabled:!1}}},{maxWidth:300,overrides:{labelsEnabled:!1}},{maxWidth:200,overrides:{autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,radius:"50%",titles:{enabled:!1},valueAxes:{labelsEnabled:!1,radarCategoriesEnabled:!1}}},{maxHeight:300,overrides:{labelsEnabled:!1}},{maxHeight:200,overrides:{autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,radius:"50%",titles:{enabled:!1},valueAxes:{radarCategoriesEnabled:!1}}},{maxHeight:100,overrides:{valueAxes:{labelsEnabled:!1}}}],gauge:[{maxWidth:550,legendPosition:"left",overrides:{legend:{enabled:!1}}},{maxWidth:550,legendPosition:"right",overrides:{legend:{enabled:!1}}},{maxWidth:150,overrides:{legend:{enabled:!1}}},{maxHeight:500,legendPosition:"top",overrides:{legend:{enabled:!1}}},{maxHeight:500,legendPosition:"bottom",overrides:{legend:{enabled:!1}}},{maxHeight:150,overrides:{legend:{enabled:!1}}},{maxWidth:200,overrides:{titles:{enabled:!1},allLabels:{enabled:!1},axes:{labelsEnabled:!1}}},{maxHeight:200,overrides:{titles:{enabled:!1},allLabels:{enabled:!1},axes:{labelsEnabled:!1}}}],serial:[{maxWidth:550,legendPosition:"left",overrides:{legend:{enabled:!1}}},{maxWidth:550,legendPosition:"right",overrides:{legend:{enabled:!1}}},{maxWidth:100,overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"top",overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"bottom",overrides:{legend:{enabled:!1}}},{maxHeight:100,overrides:{legend:{enabled:!1}}},{maxWidth:350,overrides:{autoMarginOffset:0,graphs:{hideBulletsCount:10}}},{maxWidth:350,rotate:!1,overrides:{marginLeft:10,marginRight:10,valueAxes:{ignoreAxisWidth:!0,inside:!0,title:"",showFirstLabel:!1,showLastLabel:!1},graphs:{bullet:"none"}}},{maxWidth:350,rotate:!0,overrides:{marginLeft:10,marginRight:10,categoryAxis:{ignoreAxisWidth:!0,inside:!0,title:""}}},{maxWidth:200,rotate:!1,overrides:{marginLeft:10,marginRight:10,marginTop:10,marginBottom:10,categoryAxis:{ignoreAxisWidth:!0,labelsEnabled:!1,inside:!0,title:"",guides:{inside:!0}},valueAxes:{ignoreAxisWidth:!0,labelsEnabled:!1,axisAlpha:0,guides:{label:""}},legend:{enabled:!1}}},{maxWidth:200,rotate:!0,overrides:{chartScrollbar:{scrollbarHeight:4,graph:"",resizeEnabled:!1},categoryAxis:{labelsEnabled:!1,axisAlpha:0,guides:{label:""}},legend:{enabled:!1}}},{maxWidth:100,rotate:!1,overrides:{valueAxes:{gridAlpha:0}}},{maxWidth:100,rotate:!0,overrides:{categoryAxis:{gridAlpha:0}}},{maxHeight:300,overrides:{autoMarginOffset:0,graphs:{hideBulletsCount:10}}},{maxHeight:200,rotate:!1,overrides:{marginTop:10,marginBottom:10,categoryAxis:{ignoreAxisWidth:!0,inside:!0,title:"",showFirstLabel:!1,showLastLabel:!1}}},{maxHeight:200,rotate:!0,overrides:{marginTop:10,marginBottom:10,valueAxes:{ignoreAxisWidth:!0,inside:!0,title:"",showFirstLabel:!1,showLastLabel:!1},graphs:{bullet:"none"}}},{maxHeight:150,rotate:!1,overrides:{titles:{enabled:!1},chartScrollbar:{scrollbarHeight:4,graph:"",resizeEnabled:!1},categoryAxis:{labelsEnabled:!1,ignoreAxisWidth:!0,axisAlpha:0,guides:{label:""}}}},{maxHeight:150,rotate:!0,overrides:{titles:{enabled:!1},valueAxes:{labelsEnabled:!1,ignoreAxisWidth:!0,axisAlpha:0,guides:{label:""}}}},{maxHeight:100,rotate:!1,overrides:{valueAxes:{labelsEnabled:!1,ignoreAxisWidth:!0,axisAlpha:0,gridAlpha:0,guides:{label:""}}}},{maxHeight:100,rotate:!0,overrides:{categoryAxis:{labelsEnabled:!1,ignoreAxisWidth:!0,axisAlpha:0,gridAlpha:0,guides:{label:""}}}},{maxWidth:100,overrides:{autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,categoryAxis:{labelsEnabled:!1},valueAxes:{labelsEnabled:!1}}},{maxHeight:100,overrides:{autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,categoryAxis:{labelsEnabled:!1},valueAxes:{labelsEnabled:!1}}}],xy:[{maxWidth:550,legendPosition:"left",overrides:{legend:{enabled:!1}}},{maxWidth:550,legendPosition:"right",overrides:{legend:{enabled:!1}}},{maxWidth:100,overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"top",overrides:{legend:{enabled:!1}}},{maxHeight:350,legendPosition:"bottom",overrides:{legend:{enabled:!1}}},{maxHeight:100,overrides:{legend:{enabled:!1}}},{maxWidth:250,overrides:{autoMarginOffset:0,autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,valueAxes:{inside:!0,title:"",showFirstLabel:!1,showLastLabel:!1},legend:{enabled:!1}}},{maxWidth:150,overrides:{valueyAxes:{labelsEnabled:!1,axisAlpha:0,gridAlpha:0,guides:{label:""}}}},{maxHeight:250,overrides:{autoMarginOffset:0,autoMargins:!1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,valueAxes:{inside:!0,title:"",showFirstLabel:!1,showLastLabel:!1},legend:{enabled:!1}}},{maxWidth:150,overrides:{valueyAxes:{labelsEnabled:!1,axisAlpha:0,gridAlpha:0,guides:{label:""}}}}],stock:[{maxWidth:500,overrides:{dataSetSelector:{position:"top"},periodSelector:{position:"bottom"}}},{maxWidth:400,overrides:{dataSetSelector:{selectText:"",compareText:""},periodSelector:{periodsText:"",inputFieldsEnabled:!1}}}],map:[{maxWidth:200,overrides:{zoomControl:{zoomControlEnabled:!1},smallMap:{enabled:!1},valueLegend:{enabled:!1},dataProvider:{areas:{descriptionWindowWidth:160,descriptionWindowRight:10,descriptionWindowTop:10},images:{descriptionWindowWidth:160,descriptionWindowRight:10,descriptionWindowTop:10},lines:{descriptionWindowWidth:160,descriptionWindowRight:10,descriptionWindowTop:10}}}},{maxWidth:150,overrides:{dataProvider:{areas:{descriptionWindowWidth:110,descriptionWindowRight:10,descriptionWindowTop:10},images:{descriptionWindowWidth:110,descriptionWindowRight:10,descriptionWindowTop:10},lines:{descriptionWindowWidth:110,descriptionWindowLeft:10,descriptionWindowRight:10}}}},{maxHeight:200,overrides:{zoomControl:{zoomControlEnabled:!1},smallMap:{enabled:!1},valueLegend:{enabled:!1},dataProvider:{areas:{descriptionWindowHeight:160,descriptionWindowRight:10,descriptionWindowTop:10},images:{descriptionWindowHeight:160,descriptionWindowRight:10,descriptionWindowTop:10},lines:{descriptionWindowHeight:160,descriptionWindowRight:10,descriptionWindowTop:10}}}},{maxHeight:150,overrides:{dataProvider:{areas:{descriptionWindowHeight:110,descriptionWindowRight:10,descriptionWindowTop:10},images:{descriptionWindowHeight:110,descriptionWindowRight:10,descriptionWindowTop:10},lines:{descriptionWindowHeight:110,descriptionWindowLeft:10,descriptionWindowRight:10}}}}]},n=function(e){return null===e||void 0===e},o=function(e){return!n(e)&&"[object Array]"===Object.prototype.toString.call(e)},s=function(e){return null!==e&&"object"==typeof e},a=function(e,t){for(var i=0;i<e.length;i++)if(s(e[i])&&e[i].id===t)return e[i]},l=function(e){if(!s(e))return e;if(o(e))return e.slice();var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=l(e[i]));return t},d={},c=function(e,t,r){var n="{F0578839-A214-4E2D-8D1B-44941ECE8332}_"+t;n in e||(e[n]=t in e?e[t]:d),e[t]=l(r),i.overridden.push({object:e,property:t})},h=function(e,t){var i=e["{F0578839-A214-4E2D-8D1B-44941ECE8332}_"+t];i===d?delete e[t]:e[t]=i},u=function(){if(i.startDuration){if("stock"===e.type){e.panelsSettings.startDuration=i.startDuration;for(var t=0;t<e.panels.length;t++)e.panels[t].startDuration=i.startDuration,e.panels[t].animateAgain()}else e.startDuration=i.startDuration,void 0!==e.animateAgain&&e.animateAgain();delete i.startDuration}},f=function(e,t){if(!n(t))for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=e[i],l=t[i];if(n(r))"periodSelector"!==i&&"dataSetSelector"!==i&&c(e,i,l);else{if(o(r)){if(o(l)){if(r.length>0&&!s(r[0])||l.length>0&&!s(l[0])){c(e,i,l);continue}for(var d=!0,h=0;h<l.length;h++)if(n(l[h])||n(l[h].id)){d=!1;break}if(d){for(var u=0;u<l.length;u++){var p=a(r,l[u].id);if(void 0===p)throw'could not find element to override in "'+i+'" with ID: '+l[u].id;f(p,l[u])}continue}if(l.length<=r.length){for(var g=0;g<l.length;g++)f(r[g],l[g]);continue}throw"too many index-based overrides specified for object array property: "+i}if(s(l)){for(var m=0;m<r.length;m++)f(r[m],l);continue}throw"non-object override detected for array property: "+i}s(r)?f(r,l):c(e,i,l)}}},p=function(){var t=e.divRealWidth,r=e.divRealHeight;if(0!==t&&0!==r){for(var o=!1,s=0;s<i.rules.length;s++){var a=i.rules[s];(n(a.minWidth)||a.minWidth<=t)&&(n(a.maxWidth)||a.maxWidth>=t)&&(n(a.minHeight)||a.minHeight<=r)&&(n(a.maxHeight)||a.maxHeight>=r)&&(n(a.rotate)||!0===a.rotate&&!0===e.rotate||!1===a.rotate&&(n(e.rotate)||!1===e.rotate))&&(n(a.legendPosition)||!n(e.legend)&&!n(e.legend.position)&&e.legend.position===a.legendPosition)?n(i.currentRules[s])&&(i.currentRules[s]=!0,o=!0):n(i.currentRules[s])||(i.currentRules[s]=void 0,o=!0)}if(o){for(var l in function(){for(;i.overridden.length>0;){var e=i.overridden.pop();h(e.object,e.property)}}(),i.currentRules)if(Object.prototype.hasOwnProperty.call(i.currentRules,l)&&!n(i.currentRules[l])){if(n(i.rules[l]))throw"null or undefined rule in index: "+l;f(e,i.rules[l].overrides)}e.dataChanged=!0,"xy"!==e.type&&(e.marginsUpdated=!1),e.zoomOutOnDataUpdate=!1,e.validateNow(!0),h(e,"zoomOutOnDataUpdate"),u()}else u()}};r.gantt=r.serial,o(i.rules)?!1!==i.addDefaultRules&&(i.rules=r[e.type].concat(i.rules)):i.rules=r[e.type],c(e,"zoomOutOnDataUpdate",e.zoomOutOnDataUpdate),e.addListener("resized",p),e.addListener("init",p)}}},["pie","serial","xy","funnel","radar","gauge","gantt","stock","map"])},r8HW:function(e,t,i){var r,n,o,s;s=function(e){e.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,r=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(r)?r:function(e){return e.is(r)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var r=e.ui.ddmanager.droppables[this.options.scope];this._splice(r),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(i)))},_drop:function(i,r){var n=r||e.ui.ddmanager.current,o=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var r=e(this).droppable("instance");if(r.options.greedy&&!r.options.disabled&&r.options.scope===n.options.scope&&r.accept.call(r.element[0],n.currentItem||n.element)&&t(n,e.extend(r,{offset:r.element.offset()}),r.options.tolerance,i))return o=!0,!1}),!o&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",i,this.ui(n)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var t=e.ui.intersect=function(){function e(e,t,i){return e>=t&&e<t+i}return function(t,i,r,n){if(!i.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,a=o+t.helperProportions.width,l=s+t.helperProportions.height,d=i.offset.left,c=i.offset.top,h=d+i.proportions().width,u=c+i.proportions().height;switch(r){case"fit":return d<=o&&a<=h&&c<=s&&l<=u;case"intersect":return d<o+t.helperProportions.width/2&&a-t.helperProportions.width/2<h&&c<s+t.helperProportions.height/2&&l-t.helperProportions.height/2<u;case"pointer":return e(n.pageY,c,i.proportions().height)&&e(n.pageX,d,i.proportions().width);case"touch":return(s>=c&&s<=u||l>=c&&l<=u||s<c&&l>u)&&(o>=d&&o<=h||a>=d&&a<=h||o<d&&a>h);default:return!1}}}();return e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var r,n,o=e.ui.ddmanager.droppables[t.options.scope]||[],s=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;r<o.length;r++)if(!(o[r].options.disabled||t&&!o[r].accept.call(o[r].element[0],t.currentItem||t.element))){for(n=0;n<a.length;n++)if(a[n]===o[r].element[0]){o[r].proportions().height=0;continue e}o[r].visible="none"!==o[r].element.css("display"),o[r].visible&&("mousedown"===s&&o[r]._activate.call(o[r],i),o[r].offset=o[r].element.offset(),o[r].proportions({width:o[r].element[0].offsetWidth,height:o[r].element[0].offsetHeight}))}},drop:function(i,r){var n=!1;return e.each((e.ui.ddmanager.droppables[i.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t(i,this,this.options.tolerance,r)&&(n=this._drop.call(this,r)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,r)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(i,r){i.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(i,r),e.each(e.ui.ddmanager.droppables[i.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,o,s,a=t(i,this,this.options.tolerance,r),l=!a&&this.isover?"isout":a&&!this.isover?"isover":null;l&&(this.options.greedy&&(o=this.options.scope,(s=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===o})).length&&((n=e(s[0]).droppable("instance")).greedyChild="isover"===l)),n&&"isover"===l&&(n.isover=!1,n.isout=!0,n._out.call(n,r)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,r),n&&"isout"===l&&(n.isout=!1,n.isover=!0,n._over.call(n,r)))}})},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),e.ui.droppable},n=[i("7t+N"),i("F8S1"),i("9V2q"),i("UZ9c"),i("z1kw")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},taAx:function(e,t,i){var r,n,o,s;s=function(e){return e.ui.focusable=function(t,i){var r,n,o,s,a,l=t.nodeName.toLowerCase();return"area"===l?(n=(r=t.parentNode).name,!(!t.href||!n||"map"!==r.nodeName.toLowerCase())&&((o=e("img[usemap='#"+n+"']")).length>0&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(l)?(s=!t.disabled)&&(a=e(t).closest("fieldset")[0])&&(s=!a.disabled):s="a"===l&&t.href||i,s&&e(t).is(":visible")&&function(e){var t=e.css("visibility");for(;"inherit"===t;)e=e.parent(),t=e.css("visibility");return"hidden"!==t}(e(t)))},e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}}),e.ui.focusable},n=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},uVPH:function(e,t,i){(function(t){var r=i("o/zv");e.exports={includePaths:[r.join(t,"_sass/hamburgers")]}}).call(t,"/")},vfPe:function(e,t,i){var r,n,o,s;s=function(e){return e.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):e(this[0].form)}},n=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},wDpx:function(e,t){var i;window.AmCharts?i=window.AmCharts:(i={},window.AmCharts=i,i.themes={},i.maps={},i.inheriting={},i.charts=[],i.onReadyArray=[],i.useUTC=!1,i.updateRate=60,i.uid=0,i.lang={},i.translations={},i.mapTranslations={},i.windows={},i.initHandlers=[],i.amString="am",i.pmString="pm"),i.Class=function(e){var t=function(){arguments[0]!==i.inheriting&&(this.events={},this.construct.apply(this,arguments))};for(var r in e.inherits?(t.prototype=new e.inherits(i.inheriting),t.base=e.inherits.prototype,delete e.inherits):(t.prototype.createEvents=function(){for(var e=0;e<arguments.length;e++)this.events[arguments[e]]=[]},t.prototype.listenTo=function(e,t,i){this.removeListener(e,t,i),e.events[t].push({handler:i,scope:this})},t.prototype.addListener=function(e,t,i){this.removeListener(this,e,t),e&&this.events[e]&&this.events[e].push({handler:t,scope:i})},t.prototype.removeListener=function(e,t,i){if(e&&e.events&&(e=e.events[t]))for(t=e.length-1;0<=t;t--)e[t].handler===i&&e.splice(t,1)},t.prototype.fire=function(e){for(var t=this.events[e.type],i=0;i<t.length;i++){var r=t[i];r.handler.call(r.scope,e)}}),e)t.prototype[r]=e[r];return t},i.addChart=function(e){window.requestAnimationFrame?i.animationRequested||(i.animationRequested=!0,window.requestAnimationFrame(i.update)):i.updateInt||(i.updateInt=setInterval(function(){i.update()},Math.round(1e3/i.updateRate))),i.charts.push(e)},i.removeChart=function(e){for(var t=i.charts,r=t.length-1;0<=r;r--)t[r]==e&&t.splice(r,1);0===t.length&&(i.requestAnimation&&(window.cancelAnimationFrame(i.requestAnimation),i.animationRequested=!1),i.updateInt&&(clearInterval(i.updateInt),i.updateInt=NaN))},i.isModern=!0,i.getIEVersion=function(){var e,t=0;return"Microsoft Internet Explorer"==navigator.appName&&(e=navigator.userAgent,null!==/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(e)&&(t=parseFloat(RegExp.$1))),t},i.applyLang=function(e,t){var r=i.translations;t.dayNames=i.extend({},i.dayNames),t.shortDayNames=i.extend({},i.shortDayNames),t.monthNames=i.extend({},i.monthNames),t.shortMonthNames=i.extend({},i.shortMonthNames),t.amString="am",t.pmString="pm",r&&(r=r[e])&&(i.lang=r,t.langObj=r,r.monthNames&&(t.dayNames=i.extend({},r.dayNames),t.shortDayNames=i.extend({},r.shortDayNames),t.monthNames=i.extend({},r.monthNames),t.shortMonthNames=i.extend({},r.shortMonthNames)),r.am&&(t.amString=r.am),r.pm&&(t.pmString=r.pm)),i.amString=t.amString,i.pmString=t.pmString},i.IEversion=i.getIEVersion(),9>i.IEversion&&0<i.IEversion&&(i.isModern=!1,i.isIE=!0),i.dx=0,i.dy=0,(document.addEventListener||window.opera)&&(i.isNN=!0,i.isIE=!1,i.dx=.5,i.dy=.5),document.attachEvent&&(i.isNN=!1,i.isIE=!0,i.isModern||(i.dx=0,i.dy=0)),window.chrome&&(i.chrome=!0),i.handleMouseUp=function(e){for(var t=i.charts,r=0;r<t.length;r++){var n=t[r];n&&n.handleReleaseOutside&&n.handleReleaseOutside(e)}},i.handleMouseMove=function(e){for(var t=i.charts,r=0;r<t.length;r++){var n=t[r];n&&n.handleMouseMove&&n.handleMouseMove(e)}},i.handleWheel=function(e){for(var t=i.charts,r=0;r<t.length;r++){var n=t[r];if(n&&n.mouseIsOver){(n.mouseWheelScrollEnabled||n.mouseWheelZoomEnabled)&&n.handleWheel&&(n.handleMouseMove(e),n.handleWheel(e));break}}},i.resetMouseOver=function(){for(var e=i.charts,t=0;t<e.length;t++){var r=e[t];r&&(r.mouseIsOver=!1)}},i.ready=function(e){i.onReadyArray.push(e)},i.handleLoad=function(){i.isReady=!0;for(var e=i.onReadyArray,t=0;t<e.length;t++){var r=e[t];isNaN(i.processDelay)?r():setTimeout(r,i.processDelay*t)}i.onReadyArray=[]},i.addInitHandler=function(e,t){i.initHandlers.push({method:e,types:t})},i.callInitHandler=function(e){var t=i.initHandlers;if(i.initHandlers)for(var r=0;r<t.length;r++){var n=t[r];n.types?i.isInArray(n.types,e.type)&&n.method(e):n.method(e)}},i.getUniqueId=function(){return i.uid++,"AmChartsEl-"+i.uid},i.isNN&&(document.addEventListener("mousemove",i.handleMouseMove),document.addEventListener("mouseup",i.handleMouseUp,!0),window.addEventListener("load",i.handleLoad,!0)),i.isIE&&(document.attachEvent("onmousemove",i.handleMouseMove),document.attachEvent("onmouseup",i.handleMouseUp),window.attachEvent("onload",i.handleLoad)),i.addWheelListeners=function(){i.wheelIsListened||(i.isNN&&(window.addEventListener("DOMMouseScroll",i.handleWheel,!0),document.addEventListener("mousewheel",i.handleWheel,!0)),i.isIE&&document.attachEvent("onmousewheel",i.handleWheel)),i.wheelIsListened=!0},i.clear=function(){var e=i.charts;if(e)for(var t=e.length-1;0<=t;t--)e[t].clear();i.updateInt&&clearInterval(i.updateInt),i.requestAnimation&&window.cancelAnimationFrame(i.requestAnimation),i.charts=[],i.isNN&&(document.removeEventListener("mousemove",i.handleMouseMove,!0),document.removeEventListener("mouseup",i.handleMouseUp,!0),window.removeEventListener("load",i.handleLoad,!0),window.removeEventListener("DOMMouseScroll",i.handleWheel,!0),document.removeEventListener("mousewheel",i.handleWheel,!0)),i.isIE&&(document.detachEvent("onmousemove",i.handleMouseMove),document.detachEvent("onmouseup",i.handleMouseUp),window.detachEvent("onload",i.handleLoad))},i.makeChart=function(e,t,r){var n,o=t.type,s=t.theme;switch(i.isString(s)&&(s=i.themes[s],t.theme=s),o){case"serial":n=new i.AmSerialChart(s);break;case"xy":n=new i.AmXYChart(s);break;case"pie":n=new i.AmPieChart(s);break;case"radar":n=new i.AmRadarChart(s);break;case"gauge":n=new i.AmAngularGauge(s);break;case"funnel":n=new i.AmFunnelChart(s);break;case"map":n=new i.AmMap(s);break;case"stock":n=new i.AmStockChart(s);break;case"gantt":n=new i.AmGanttChart(s)}return i.extend(n,t),i.isReady?isNaN(r)?n.write(e):setTimeout(function(){i.realWrite(n,e)},r):i.ready(function(){isNaN(r)?n.write(e):setTimeout(function(){i.realWrite(n,e)},r)}),n},i.realWrite=function(e,t){e.write(t)},i.updateCount=0,i.validateAt=Math.round(i.updateRate/10),i.update=function(){var e=i.charts;i.updateCount++;var t=!1;if(i.updateCount==i.validateAt&&(t=!0,i.updateCount=0),e)for(var r=e.length-1;0<=r;r--)e[r].update&&e[r].update(),t&&(e[r].autoResize?e[r].validateSize&&e[r].validateSize():e[r].premeasure&&e[r].premeasure());window.requestAnimationFrame&&(i.requestAnimation=window.requestAnimationFrame(i.update))},"complete"==document.readyState&&i.handleLoad(),function(){var e=window.AmCharts;e.toBoolean=function(e,t){if(void 0===e)return t;switch(String(e).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return!!e}},e.removeFromArray=function(e,t){var i;if(void 0!==t&&void 0!==e)for(i=e.length-1;0<=i;i--)e[i]==t&&e.splice(i,1)},e.getPath=function(){var e=document.getElementsByTagName("script");if(e)for(var t=0;t<e.length;t++){var i=e[t].src;if(-1!==i.search(/\/(amcharts|ammap)\.js/))return i.replace(/\/(amcharts|ammap)\.js.*/,"/")}},e.normalizeUrl=function(e){return""!==e&&-1===e.search(/\/$/)?e+"/":e},e.isAbsolute=function(e){return 0===e.search(/^http[s]?:|^\//)},e.isInArray=function(e,t){for(var i=0;i<e.length;i++)if(e[i]==t)return!0;return!1},e.getDecimals=function(e){var t=0;return isNaN(e)||(-1!=(e=String(e)).indexOf("e-")?t=Number(e.split("-")[1]):-1!=e.indexOf(".")&&(t=e.split(".")[1].length)),t},e.wordwrap=function(t,i,r,n){var o,s,a,l;if(t+="",1>i)return t;for(o=-1,t=(l=t.split(/\r\n|\n|\r/)).length;++o<t;l[o]+=a){for(a=l[o],l[o]="";a.length>i;l[o]+=e.trim(a.slice(0,s))+((a=a.slice(s)).length?r:""))s=2==n||(s=a.slice(0,i+1).match(/\S*(\s)?$/))[1]?i:s.input.length-s[0].length||1==n&&i||s.input.length+(s=a.slice(i).match(/^\S*/))[0].length;a=e.trim(a)}return l.join(r)},e.trim=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.wrappedText=function(t,i,r,n,o,s,a,l){var d=e.text(t,i,r,n,o,s,a);if(d){var c=d.getBBox();if(c.width>l){var h="\n";e.isModern||(h="<br>"),2<(l=Math.floor(l/(c.width/i.length)))&&(l-=2),i=e.wordwrap(i,l,h,!0),d.remove(),d=e.text(t,i,r,n,o,s,a)}}return d},e.getStyle=function(e,t){var i="";if(document.defaultView&&document.defaultView.getComputedStyle)try{i=document.defaultView.getComputedStyle(e,"").getPropertyValue(t)}catch(e){}else e.currentStyle&&(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),i=e.currentStyle[t]);return i},e.removePx=function(e){if(void 0!==e)return Number(e.substring(0,e.length-2))},e.getURL=function(t,i){if(t)if("_self"!=i&&i)if("_top"==i&&window.top)window.top.location.href=t;else if("_parent"==i&&window.parent)window.parent.location.href=t;else if("_blank"==i)window.open(t);else{var r=document.getElementsByName(i)[0];r?r.src=t:(r=e.windows[i])&&r.opener&&!r.opener.closed?r.location.href=t:e.windows[i]=window.open(t)}else window.location.href=t},e.ifArray=function(e){return!!(e&&"object"==typeof e&&0<e.length)},e.callMethod=function(e,t){var i;for(i=0;i<t.length;i++){var r=t[i];if(r){r[e]&&r[e]();var n,o=r.length;if(0<o)for(n=0;n<o;n++){var s=r[n];s&&s[e]&&s[e]()}}}},e.toNumber=function(e){return"number"==typeof e?e:Number(String(e).replace(/[^0-9\-.]+/g,""))},e.toColor=function(e){if(""!==e&&void 0!==e)if(-1!=e.indexOf(",")){var t;for(e=e.split(","),t=0;t<e.length;t++){var i=e[t].substring(e[t].length-6,e[t].length);e[t]="#"+i}}else e="#"+(e=e.substring(e.length-6,e.length));return e},e.toCoordinate=function(e,t,i){var r;return void 0!==e&&(e=String(e),i&&i<t&&(t=i),r=Number(e),-1!=e.indexOf("!")&&(r=t-Number(e.substr(1))),-1!=e.indexOf("%")&&(r=t*Number(e.substr(0,e.length-1))/100)),r},e.fitToBounds=function(e,t,i){return e<t&&(e=t),e>i&&(e=i),e},e.isDefined=function(e){return void 0!==e},e.stripNumbers=function(e){return e.replace(/[0-9]+/g,"")},e.roundTo=function(e,t){if(0>t)return e;var i=Math.pow(10,t);return Math.round(e*i)/i},e.toFixed=function(e,t){var i=!1;0>e&&(i=!0,e=Math.abs(e));var r=String(Math.round(e*Math.pow(10,t)));if(0<t){var n,o=r.length;if(o<t)for(n=0;n<t-o;n++)r="0"+r;return""===(o=r.substring(0,r.length-t))&&(o=0),r=o+"."+r.substring(r.length-t,r.length),i?"-"+r:r}return String(r)},e.formatDuration=function(t,i,r,n,o,s){var a=e.intervals,l=s.decimalSeparator;if(t>=a[i].contains){var d=t-Math.floor(t/a[i].contains)*a[i].contains;return"ss"==i?1==(d=e.formatNumber(d,s)).split(l)[0].length&&(d="0"+d):d=e.roundTo(d,s.precision),("mm"==i||"hh"==i)&&10>d&&(d="0"+d),r=d+""+n[i]+r,t=Math.floor(t/a[i].contains),i=a[i].nextInterval,e.formatDuration(t,i,r,n,o,s)}if("ss"==i&&(1==(t=e.formatNumber(t,s)).split(l)[0].length&&(t="0"+t)),"mm"==i&&(t=e.roundTo(t,s.precision)),("mm"==i||"hh"==i)&&10>t&&(t="0"+t),r=t+""+n[i]+r,a[o].count>a[i].count)for(t=a[i].count;t<a[o].count;t++)"ss"==(i=a[i].nextInterval)||"mm"==i||"hh"==i?r="00"+n[i]+r:"DD"==i&&(r="0"+n[i]+r);return":"==r.charAt(r.length-1)&&(r=r.substring(0,r.length-1)),r},e.formatNumber=function(t,i,r,n,o){t=e.roundTo(t,i.precision),isNaN(r)&&(r=i.precision);var s,a=i.decimalSeparator;i=i.thousandsSeparator,void 0==a&&(a=","),void 0==i&&(i=" "),s=0>t?"-":"",t=Math.abs(t);var l=!1;-1!=(h=String(t)).indexOf("e")&&(l=!0),0<=r&&!l&&(h=e.toFixed(t,r));var d="";if(l)d=h;else{var c,h=h.split(".");for(c=(l=String(h[0])).length;0<=c;c-=3)d=c!=l.length?0!==c?l.substring(c-3,c)+i+d:l.substring(c-3,c)+d:l.substring(c-3,c);void 0!==h[1]&&(d=d+a+h[1]),void 0!==r&&0<r&&"0"!=d&&(d=e.addZeroes(d,a,r))}return d=s+d,""===s&&!0===n&&0!==t&&(d="+"+d),!0===o&&(d+="%"),d},e.addZeroes=function(t,i,r){return void 0===(t=t.split(i))[1]&&0<r&&(t[1]="0"),t[1].length<r?(t[1]+="0",e.addZeroes(t[0]+i+t[1],i,r)):void 0!==t[1]?t[0]+i+t[1]:t[0]},e.scientificToNormal=function(e){var t,i;if("-"==(e=String(e).split("e"))[1].substr(0,1)){for(t="0.",i=0;i<Math.abs(Number(e[1]))-1;i++)t+="0";t+=e[0].split(".").join("")}else{var r=0;for((t=e[0].split("."))[1]&&(r=t[1].length),t=e[0].split(".").join(""),i=0;i<Math.abs(Number(e[1]))-r;i++)t+="0"}return t},e.toScientific=function(e,t){if(0===e)return"0";var i=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r=String(r).split(".").join(t);return String(r)+"e"+i},e.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)},e.hitTest=function(t,i,r){var n=!1,o=t.x,s=t.x+t.width,a=t.y,l=t.y+t.height,d=e.isInRectangle;return n||(n=d(o,a,i)),n||(n=d(o,l,i)),n||(n=d(s,a,i)),n||(n=d(s,l,i)),n||!0===r||(n=e.hitTest(i,t,!0)),n},e.isInRectangle=function(e,t,i){return e>=i.x-5&&e<=i.x+i.width+5&&t>=i.y-5&&t<=i.y+i.height+5},e.isPercents=function(e){if(-1!=String(e).indexOf("%"))return!0},e.formatValue=function(t,i,r,n,o,s,a,l){var d;if(i)for(void 0===o&&(o=""),d=0;d<r.length;d++){var c=r[d],h=i[c];void 0!==h&&(h=s?e.addPrefix(h,l,a,n):e.formatNumber(h,n),t=t.replace(new RegExp("\\[\\["+o+c+"\\]\\]","g"),h))}return t},e.formatDataContextValue=function(e,t){if(e){var i,r=e.match(/\[\[.*?\]\]/g);for(i=0;i<r.length;i++){var n;void 0!==t[n=(n=r[i]).substr(2,n.length-4)]&&(e=e.replace(new RegExp("\\[\\["+n+"\\]\\]","g"),t[n]))}}return e},e.massReplace=function(e,t){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];void 0===r&&(r=""),e=e.replace(i,r)}return e},e.cleanFromEmpty=function(e){return e.replace(/\[\[[^\]]*\]\]/g,"")},e.addPrefix=function(t,i,r,n,o){var s,a,l,d=e.formatNumber(t,n),c="";if(0===t)return"0";if(0>t&&(c="-"),1<(t=Math.abs(t))){for(s=i.length-1;-1<s;s--)if(t>=i[s].number&&(a=t/i[s].number,1>(l=Number(n.precision))&&(l=1),r=e.roundTo(a,l),l=e.formatNumber(r,{precision:-1,decimalSeparator:n.decimalSeparator,thousandsSeparator:n.thousandsSeparator}),!o||a==r)){d=c+""+l+i[s].prefix;break}}else for(s=0;s<r.length;s++)if(t<=r[s].number){a=t/r[s].number,l=Math.abs(Math.floor(Math.log(a)*Math.LOG10E)),d=c+""+(a=e.roundTo(a,l))+r[s].prefix;break}return d},e.remove=function(e){e&&e.remove()},e.getEffect=function(e){return">"==e&&(e="easeOutSine"),"<"==e&&(e="easeInSine"),"elastic"==e&&(e="easeOutElastic"),e},e.getObjById=function(e,t){var i,r;for(r=0;r<e.length;r++){var n=e[r];if(n.id==t){i=n;break}}return i},e.applyTheme=function(t,i,r){i||(i=e.theme);try{i=JSON.parse(JSON.stringify(i))}catch(e){}i&&i[r]&&e.extend(t,i[r])},e.isString=function(e){return"string"==typeof e},e.extend=function(e,t,i){var r;for(r in e||(e={}),t)i&&e.hasOwnProperty(r)||(e[r]=t[r]);return e},e.copyProperties=function(e,t){for(var i in e)e.hasOwnProperty(i)&&"events"!=i&&void 0!==e[i]&&"function"!=typeof e[i]&&"cname"!=i&&(t[i]=e[i])},e.processObject=function(t,i,r,n){if(!1==t instanceof i&&(t=n?e.extend(new i(r),t):e.extend(t,new i(r),!0)).listeners)for(var o in t.listeners)i=t.listeners[o],t.addListener(i.event,i.method);return t},e.fixNewLines=function(e){var t=RegExp("\\n","g");return e&&(e=e.replace(t,"<br />")),e},e.fixBrakes=function(t){if(e.isModern){var i=RegExp("<br>","g");t&&(t=t.replace(i,"\n"))}else t=e.fixNewLines(t);return t},e.deleteObject=function(t,i){if(t&&(void 0!==i&&null!==i||(i=20),0!==i))if("[object Array]"===Object.prototype.toString.call(t))for(var r=0;r<t.length;r++)e.deleteObject(t[r],i-1),t[r]=null;else if(t&&!t.tagName)try{for(r in t.theme=null,t)t[r]&&("object"==typeof t[r]&&e.deleteObject(t[r],i-1),"function"!=typeof t[r]&&(t[r]=null))}catch(e){}},e.bounce=function(e,t,i,r,n){return(t/=n)<1/2.75?7.5625*r*t*t+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i},e.easeInOutQuad=function(e,t,i,r,n){return 1>(t/=n/2)?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i},e.easeInSine=function(e,t,i,r,n){return-r*Math.cos(t/n*(Math.PI/2))+r+i},e.easeOutSine=function(e,t,i,r,n){return r*Math.sin(t/n*(Math.PI/2))+i},e.easeOutElastic=function(e,t,i,r,n){e=1.70158;var o=0,s=r;return 0===t?i:1==(t/=n)?i+r:(o||(o=.3*n),s<Math.abs(r)?(s=r,e=o/4):e=o/(2*Math.PI)*Math.asin(r/s),s*Math.pow(2,-10*t)*Math.sin(2*(t*n-e)*Math.PI/o)+r+i)},e.fixStepE=function(t){t=t.toExponential(0).split("e");var i=Number(t[1]);return 9==Number(t[0])&&i++,e.generateNumber(1,i)},e.generateNumber=function(e,t){var i,r,n="";for(i=0>t?Math.abs(t)-1:Math.abs(t),r=0;r<i;r++)n+="0";return 0>t?Number("0."+n+String(e)):Number(String(e)+n)},e.setCN=function(e,t,i,r){if(e.addClassNames&&t&&(t=t.node)&&i){var n=t.getAttribute("class");e=e.classNamePrefix+"-",r&&(e=""),n?t.setAttribute("class",n+" "+e+i):t.setAttribute("class",e+i)}},e.removeCN=function(e,t,i){t&&(t=t.node)&&i&&(t=t.classList)&&t.remove(e.classNamePrefix+"-"+i)},e.parseDefs=function(t,i){for(var r in t){var n=typeof t[r];if(0<t[r].length&&"object"==n)for(var o=0;o<t[r].length;o++)n=document.createElementNS(e.SVG_NS,r),i.appendChild(n),e.parseDefs(t[r][o],n);else"object"==n?(n=document.createElementNS(e.SVG_NS,r),i.appendChild(n),e.parseDefs(t[r],n)):i.setAttribute(r,t[r])}}}(),function(){var e=window.AmCharts;e.AxisBase=e.Class({construct:function(t){this.createEvents("clickItem","rollOverItem","rollOutItem","rollOverGuide","rollOutGuide","clickGuide"),this.titleDY=this.y=this.x=this.dy=this.dx=0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridCount=this.tickLength=5,this.gridAlpha=.15,this.gridThickness=1,this.gridColor="#000000",this.dashLength=0,this.labelFrequency=1,this.showLastLabel=this.showFirstLabel=!0,this.fillColor="#FFFFFF",this.fillAlpha=0,this.labelsEnabled=!0,this.labelRotation=0,this.autoGridCount=!0,this.offset=0,this.guides=[],this.visible=!0,this.counter=0,this.guides=[],this.ignoreAxisWidth=this.inside=!1,this.minHorizontalGap=75,this.minVerticalGap=35,this.titleBold=!0,this.minorGridEnabled=!1,this.minorGridAlpha=.07,this.autoWrap=!1,this.titleAlign="middle",this.labelOffset=0,this.bcn="axis-",this.centerLabels=!1,this.firstDayOfWeek=1,this.centerLabelOnFullPeriod=this.markPeriodChange=this.boldPeriodBeginning=!0,this.titleWidth=0,this.periods=[{period:"fff",count:1},{period:"fff",count:5},{period:"fff",count:10},{period:"fff",count:50},{period:"fff",count:100},{period:"fff",count:500},{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}],this.dateFormats=[{period:"fff",format:"NN:SS.QQQ"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}],this.nextPeriod={fff:"ss",ss:"mm",mm:"hh",hh:"DD",DD:"MM",MM:"YYYY"},e.applyTheme(this,t,"AxisBase")},zoom:function(e,t){this.start=e,this.end=t,this.dataChanged=!0,this.draw()},fixAxisPosition:function(){var e=this.position;"H"==this.orientation?("left"==e&&(e="bottom"),"right"==e&&(e="top")):("bottom"==e&&(e="left"),"top"==e&&(e="right")),this.position=e},init:function(){this.createBalloon()},draw:function(){var e=this.chart;this.prevBY=this.prevBX=NaN,this.allLabels=[],this.counter=0,this.destroy(),this.fixAxisPosition(),this.setBalloonBounds(),this.labels=[];var t=e.container,i=t.set();e.gridSet.push(i),this.set=i,t=t.set(),e.axesLabelsSet.push(t),this.labelsSet=t,this.axisLine=new this.axisRenderer(this),this.autoGridCount?("V"==this.orientation?3>(e=this.height/this.minVerticalGap)&&(e=3):e=this.width/this.minHorizontalGap,this.gridCountR=Math.max(e,1)):this.gridCountR=this.gridCount,this.axisWidth=this.axisLine.axisWidth,this.addTitle()},setOrientation:function(e){this.orientation=e?"H":"V"},addTitle:function(){var t=this.title;if(this.titleLabel=null,t){var i=this.chart,r=this.titleColor;void 0===r&&(r=i.color);var n=this.titleFontSize;isNaN(n)&&(n=i.fontSize+1),t=e.text(i.container,t,r,i.fontFamily,n,this.titleAlign,this.titleBold),e.setCN(i,t,this.bcn+"title"),this.titleLabel=t}},positionTitle:function(){var t=this.titleLabel;if(t){var i,r,n={};0<(o=this.labelsSet).length()?n=o.getBBox():(n.x=0,n.y=0,n.width=this.width,n.height=this.height,e.VML&&(n.y+=this.y,n.x+=this.x)),o.push(t);var o=n.x,s=n.y;e.VML&&(s-=this.y,o-=this.x);var a=n.width,l=(n=n.height,this.width),d=this.height,c=0,h=t.getBBox().height/2,u=this.inside,f=this.titleAlign;switch(this.position){case"top":i="left"==f?-1:"right"==f?l:l/2,r=s-10-h;break;case"bottom":i="left"==f?-1:"right"==f?l:l/2,r=s+n+10+h;break;case"left":i=o-10-h,u&&(i-=5),c=-90,r=("left"==f?d+1:"right"==f?-1:d/2)+this.titleDY,this.titleWidth=h+10;break;case"right":i=o+a+10+h,u&&(i+=7),r=("left"==f?d+2:"right"==f?-2:d/2)+this.titleDY,this.titleWidth=h+10,c=-90}this.marginsChanged?(t.translate(i,r),this.tx=i,this.ty=r):t.translate(this.tx,this.ty),this.marginsChanged=!1,isNaN(this.titleRotation)||(c=this.titleRotation),0!==c&&t.rotate(c)}},pushAxisItem:function(e,t){var i=this,r=e.graphics();0<r.length()&&(t?i.labelsSet.push(r):i.set.push(r)),(r=e.getLabel())&&(i.labelsSet.push(r),r.click(function(t){i.handleMouse(t,e,"clickItem")}).touchend(function(t){i.handleMouse(t,e,"clickItem")}).mouseover(function(t){i.handleMouse(t,e,"rollOverItem")}).mouseout(function(t){i.handleMouse(t,e,"rollOutItem")}))},handleMouse:function(e,t,i){this.fire({type:i,value:t.value,serialDataItem:t.serialDataItem,axis:this,target:t.label,chart:this.chart,event:e})},addGuide:function(t){for(var i=this.guides,r=!1,n=i.length,o=0;o<i.length;o++)i[o]==t&&(r=!0,n=o);(t=e.processObject(t,e.Guide,this.theme)).id||(t.id="guideAuto"+n+"_"+(new Date).getTime()),r||i.push(t)},removeGuide:function(e){var t,i=this.guides;for(t=0;t<i.length;t++)i[t]==e&&i.splice(t,1)},handleGuideOver:function(e){clearTimeout(this.chart.hoverInt);var t={x:0,y:0,width:0,height:0};e.graphics&&(t=e.graphics.getBBox());var i=this.x+t.x+t.width/2,r=(t=this.y+t.y+t.height/2,e.fillColor);void 0===r&&(r=e.lineColor),this.chart.showBalloon(e.balloonText,r,!0,i,t),this.fire({type:"rollOverGuide",guide:e,chart:this.chart})},handleGuideOut:function(e){this.chart.hideBalloon(),this.fire({type:"rollOutGuide",guide:e,chart:this.chart})},handleGuideClick:function(e){this.chart.hideBalloon(),this.fire({type:"clickGuide",guide:e,chart:this.chart})},addEventListeners:function(e,t){var i=this;e.mouseover(function(){i.handleGuideOver(t)}),e.mouseup(function(){i.handleGuideClick(t)}),e.touchstart(function(){i.handleGuideOver(t)}),e.mouseout(function(){i.handleGuideOut(t)})},getBBox:function(){var t;return this.labelsSet&&(t=this.labelsSet.getBBox()),t?e.VML||(t={x:t.x+this.x,y:t.y+this.y,width:t.width,height:t.height}):t={x:0,y:0,width:0,height:0},t},destroy:function(){e.remove(this.set),e.remove(this.labelsSet);var t=this.axisLine;t&&e.remove(t.axisSet),e.remove(this.grid0)},chooseMinorFrequency:function(e){for(var t=10;0<t;t--)if(e/t==Math.round(e/t))return e/t},parseDatesDraw:function(){var t,i,r,n,o,s,a,l=this.chart,d=this.showFirstLabel,c=this.showLastLabel,h="",u=e.extractPeriod(this.minPeriod),f=e.getPeriodDuration(u.period,u.count),p=this.firstDayOfWeek,g=this.boldPeriodBeginning;t=this.minorGridEnabled;var m,v,b=this.gridAlpha,y=(w=this.choosePeriod(0)).period,w=w.count,x=e.getPeriodDuration(y,w);x<f&&(y=u.period,w=u.count,x=f),"WW"==(u=y)&&(u="DD"),this.stepWidth=this.getStepWidth(this.timeDifference);var C=Math.ceil(this.timeDifference/x)+5,S=r=e.resetDateToMin(new Date(this.startTime-x),y,w,p).getTime();(u==y&&1==w&&this.centerLabelOnFullPeriod||this.autoWrap||this.centerLabels)&&(o=x*this.stepWidth,this.autoWrap&&!this.centerLabels&&(o=-o)),this.cellWidth=f*this.stepWidth,f=-1,(s=Math.round(r/x))/2==Math.round(s/2)&&(f=-2,r-=x),s=this.firstTime;var k=0,D=0;if(t&&1<w&&(m=this.chooseMinorFrequency(w),v=e.getPeriodDuration(y,m),"DD"==y&&(v+=e.getPeriodDuration("hh")),"fff"==y&&(v=1)),0<this.gridCountR)for(C-5-f>this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),t=f;t<=C;t++){if(a=s+x*(t+Math.floor((S-s)/x))-k,"DD"==y&&(a+=36e5),a=e.resetDateToMin(new Date(a),y,w,p).getTime(),"MM"==y&&(i=(a-r)/x,1.5<=(a-r)/x&&(a=a-(i-1)*x+e.getPeriodDuration("DD",3),a=e.resetDateToMin(new Date(a),y,1).getTime(),k+=x)),i=(a-this.startTime)*this.stepWidth,"radar"==l.type){if(0>(i=this.axisWidth-i)||i>this.axisWidth)continue}else this.rotate?"date"==this.type&&"middle"==this.gridPosition&&(D=-x*this.stepWidth/2):"date"==this.type&&(i=this.axisWidth-i);if(h=!1,this.nextPeriod[u]&&(h=this.checkPeriodChange(this.nextPeriod[u],1,a,r,u)),r=!1,h&&this.markPeriodChange?(h=this.dateFormatsObject[this.nextPeriod[u]],this.twoLineMode&&(h=this.dateFormatsObject[u]+"\n"+h,h=e.fixBrakes(h)),r=!0):h=this.dateFormatsObject[u],g||(r=!1),this.currentDateFormat=h,h=e.formatDate(new Date(a),h,l),(t==f&&!d||t==C&&!c)&&(h=" "),this.labelFunction&&(h=this.labelFunction(h,new Date(a),this,y,w,n).toString()),this.boldLabels&&(r=!0),n=new this.axisItemRenderer(this,i,h,!1,o,D,!1,r),this.pushAxisItem(n),n=r=a,!isNaN(m))for(i=1;i<w;i+=m)this.gridAlpha=this.minorGridAlpha,h=a+v*i,h=e.resetDateToMin(new Date(h),y,m,p).getTime(),h=new this.axisItemRenderer(this,(h-this.startTime)*this.stepWidth,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0),this.pushAxisItem(h);this.gridAlpha=b}},choosePeriod:function(t){var i=e.getPeriodDuration(this.periods[t].period,this.periods[t].count),r=this.periods;return this.timeDifference<i&&0<t?r[t-1]:Math.ceil(this.timeDifference/i)<=this.gridCountR?r[t]:t+1<r.length?this.choosePeriod(t+1):r[t]},getStepWidth:function(e){var t;return this.startOnAxis?(t=this.axisWidth/(e-1),1==e&&(t=this.axisWidth)):t=this.axisWidth/e,t},timeZoom:function(e,t){this.startTime=e,this.endTime=t},minDuration:function(){var t=e.extractPeriod(this.minPeriod);return e.getPeriodDuration(t.period,t.count)},checkPeriodChange:function(t,i,r,n,o){r=new Date(r);var s=new Date(n),a=this.firstDayOfWeek;return n=i,"DD"==t&&(i=1),r=e.resetDateToMin(r,t,i,a).getTime(),i=e.resetDateToMin(s,t,i,a).getTime(),!("DD"==t&&"hh"!=o&&r-i<e.getPeriodDuration(t,n)-e.getPeriodDuration("hh",1))&&r!=i},generateDFObject:function(){var e;for(this.dateFormatsObject={},e=0;e<this.dateFormats.length;e++){var t=this.dateFormats[e];this.dateFormatsObject[t.period]=t.format}},hideBalloon:function(){this.balloon&&this.balloon.hide&&this.balloon.hide(),this.prevBY=this.prevBX=NaN},formatBalloonText:function(e){return e},showBalloon:function(e,t,i,r){var n,o=this.offset;switch(this.position){case"bottom":t=this.height+o;break;case"top":t=-o;break;case"left":e=-o;break;case"right":e=this.width+o}if(i||(i=this.currentDateFormat),"V"==this.orientation){if(0>t||t>this.height)return;if(isNaN(t))return void this.hideBalloon();t=this.adjustBalloonCoordinate(t,r),r=this.coordinateToValue(t)}else{if(0>e||e>this.width)return;if(isNaN(e))return void this.hideBalloon();e=this.adjustBalloonCoordinate(e,r),r=this.coordinateToValue(e)}(o=this.chart.chartCursor)&&(n=o.index),this.balloon&&void 0!==r&&this.balloon.enabled&&(this.balloonTextFunction?("date"!=this.type&&!0!==this.parseDates||(r=new Date(r)),r=this.balloonTextFunction(r)):this.balloonText?r=this.formatBalloonText(this.balloonText,n,i):isNaN(r)||(r=this.formatValue(r,i)),e==this.prevBX&&t==this.prevBY||(this.balloon.setPosition(e,t),this.prevBX=e,this.prevBY=t,r&&this.balloon.showBalloon(r)))},adjustBalloonCoordinate:function(e){return e},createBalloon:function(){var t=this.chart,i=t.chartCursor;i&&("mouse"!=(i=i.cursorPosition)&&(this.stickBalloonToCategory=!0),"start"==i&&(this.stickBalloonToStart=!0),"ValueAxis"==this.cname&&(this.stickBalloonToCategory=!1)),this.balloon&&(this.balloon.destroy&&this.balloon.destroy(),e.extend(this.balloon,t.balloon,!0))},setBalloonBounds:function(){var e=this.balloon;if(e){var t=this.chart;e.cornerRadius=0,e.shadowAlpha=0,e.borderThickness=1,e.borderAlpha=1,e.adjustBorderColor=!1,e.showBullet=!1,this.balloon=e,e.chart=t,e.mainSet=t.plotBalloonsSet,e.pointerWidth=this.tickLength,(this.parseDates||"date"==this.type)&&(e.pointerWidth=0),e.className=this.id,t="V","V"==this.orientation&&(t="H"),this.stickBalloonToCategory||(e.animationDuration=0);var i,r,n,o,s=this.inside,a=this.width,l=this.height;switch(this.position){case"bottom":i=0,r=a,s?(n=0,o=l):(n=l,o=l+1e3);break;case"top":i=0,r=a,s?(n=0,o=l):(n=-1e3,o=0);break;case"left":n=0,o=l,s?(i=0,r=a):(i=-1e3,r=0);break;case"right":n=0,o=l,s?(i=0,r=a):(i=a,r=a+1e3)}e.drop||(e.pointerOrientation=t),e.setBounds(i,n,r,o)}}})}(),function(){var e=window.AmCharts;e.ValueAxis=e.Class({inherits:e.AxisBase,construct:function(t){this.cname="ValueAxis",this.createEvents("axisChanged","logarithmicAxisFailed","axisZoomed","axisIntZoomed"),e.ValueAxis.base.construct.call(this,t),this.dataChanged=!0,this.stackType="none",this.position="left",this.unitPosition="right",this.includeAllValues=this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1,this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""},this.scrollbar=!1,this.baseValue=0,this.radarCategoriesEnabled=!0,this.axisFrequency=1,this.gridType="polygons",this.useScientificNotation=!1,this.axisTitleOffset=10,this.pointPosition="axis",this.minMaxMultiplier=1,this.logGridLimit=2,this.totalTextOffset=this.treatZeroAs=0,this.minPeriod="ss",this.relativeStart=0,this.relativeEnd=1,e.applyTheme(this,t,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1),this.totals=[],this.data=this.chart.chartData;var t=this.chart;"xy"!=t.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step")),this.recalculateToPercents&&this.recalculate(),this.synchronizationMultiplier&&this.synchronizeWith?(e.isString(this.synchronizeWith)&&(this.synchronizeWith=t.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax(),(0===this.start&&this.end==this.data.length-1&&isNaN(this.minZoom)&&isNaN(this.maxZoom)||isNaN(this.fullMin)&&isNaN(this.fullMax))&&(this.fullMin=this.min,this.fullMax=this.max,"date"!=this.type&&this.strictMinMax&&(isNaN(this.minimum)||(this.fullMin=this.minimum),isNaN(this.maximum)||(this.fullMax=this.maximum)),this.logarithmic&&(this.fullMin=this.logMin,0===this.fullMin&&(this.fullMin=this.treatZeroAs)),"date"==this.type&&(this.minimumDate||(this.fullMin=this.minRR),this.maximumDate||(this.fullMax=this.maxRR),this.strictMinMax&&(this.minimumDate&&(this.fullMin=this.minimumDate.getTime()),this.maximumDate&&(this.fullMax=this.maximumDate.getTime())))))},draw:function(){e.ValueAxis.base.draw.call(this);var t=this.chart,i=this.set;this.labelRotationR=this.labelRotation,e.setCN(t,this.set,"value-axis value-axis-"+this.id),e.setCN(t,this.labelsSet,"value-axis value-axis-"+this.id),e.setCN(t,this.axisLine.axisSet,"value-axis value-axis-"+this.id);var r=this.type;if("duration"==r&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),"date"==r&&(this.logarithmic=!1,this.min=this.minRR,this.max=this.maxRR,this.reversed=!1,this.getDateMinMax()),this.logarithmic){var n=this.treatZeroAs,o=this.getExtremes(0,this.data.length-1).min;if(!isNaN(this.minimum)&&this.minimum<o&&(o=this.minimum),this.logMin=o,this.minReal<o&&(this.minReal=o),isNaN(this.minReal)&&(this.minReal=o),0<n&&0===o&&(this.minReal=o=n),0>=o||0>=this.minimum)return void this.fire({type:"logarithmicAxisFailed",chart:t})}this.grid0=null;var s,a,l=t.dx,d=t.dy;n=!1,o=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||1/0==this.min||-1/0==this.max)n=!0;else{"date"==this.type&&this.min==this.max&&(this.max+=this.minDuration(),this.min-=this.minDuration());var c=this.labelFrequency,h=this.showFirstLabel,u=this.showLastLabel,f=1,p=0;if(this.minCalc=this.min,this.maxCalc=this.max,this.strictMinMax&&(isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),this.min==this.max))return;if(isNaN(this.minZoom)||(this.minReal=this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.logarithmic){a=this.fullMin;var g=this.fullMax;isNaN(this.minimum)||(a=this.minimum),isNaN(this.maximum)||(g=this.maximum);g=Math.log(g)*Math.LOG10E-Math.log(a)*Math.LOG10E;var m=Math.log(this.max)/Math.LN10-Math.log(a)*Math.LOG10E;this.relativeStart=e.roundTo((Math.log(this.minReal)/Math.LN10-Math.log(a)*Math.LOG10E)/g,5),this.relativeEnd=e.roundTo(m/g,5)}else this.relativeStart=e.roundTo(e.fitToBounds((this.min-this.fullMin)/(this.fullMax-this.fullMin),0,1),5),this.relativeEnd=e.roundTo(e.fitToBounds((this.max-this.fullMin)/(this.fullMax-this.fullMin),0,1),5);var v;g=Math.round((this.maxCalc-this.minCalc)/this.step)+1;!0===o?(v=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/v,v>this.logGridLimit&&(g=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,p=Math.round(Math.log(this.minReal)*Math.LOG10E),g>this.gridCountR&&(f=Math.ceil(g/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min);var b,y=0;for(1>this.step&&-1<this.step&&(y=e.getDecimals(this.step)),this.integersOnly&&(y=0),y>this.maxDecCount&&(y=this.maxDecCount),m=this.precision,isNaN(m)||(y=m),isNaN(this.maxZoom)&&(this.max=e.roundTo(this.max,this.maxDecCount),this.min=e.roundTo(this.min,this.maxDecCount)),(a={}).precision=y,a.decimalSeparator=t.nf.decimalSeparator,a.thousandsSeparator=t.nf.thousandsSeparator,this.numberFormatter=a,this.exponential=!1,a=p;a<g;a+=f){var w=e.roundTo(this.step*a+this.min,y);-1!=String(w).indexOf("e")&&(this.exponential=!0)}this.duration&&(this.maxInterval=e.getMaxInterval(this.max,this.duration));var x;y=this.step,w=this.minorGridAlpha;if(this.minorGridEnabled&&(x=this.getMinorGridStep(y,this.stepWidth*y)),this.autoGridCount||0!==this.gridCount)if("date"==r)this.generateDFObject(),this.timeDifference=this.max-this.min,this.maxTime=this.lastTime=this.max,this.startTime=this.firstTime=this.min,this.parseDatesDraw();else for(g>=this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),r=this.minCalc,o&&(g++,r=this.maxCalc-g*y),this.gridCountReal=g,a=this.startCount=p;a<g;a+=f)if(p=y*a+r,p=e.roundTo(p,this.maxDecCount+1),(!this.integersOnly||Math.round(p)==p)&&(isNaN(m)||Number(e.toFixed(p,m))==p)){if(!0===o)if(v>this.logGridLimit){if((p=Math.pow(10,a))>this.max)continue}else if(0>=p&&0>=(p=r+y*a+y/2))continue;var C;if(b=this.formatValue(p,!1,a),Math.round(a/c)!=a/c&&(b=void 0),(0===a&&!h||a==g-1&&!u)&&(b=" "),s=this.getCoordinate(p),this.rotate&&this.autoWrap&&(C=this.stepWidth*y-10),b=new this.axisItemRenderer(this,s,b,void 0,C,void 0,void 0,this.boldLabels),this.pushAxisItem(b),p==this.baseValue&&"radar"!=t.type){var S,k,D=this.width,T=this.height;"H"==this.orientation?0<=s&&s<=D+1&&(S=[s,s,s+l],k=[T,0,d]):0<=s&&s<=T+1&&(S=[0,D,D+l],k=[s,s,s+d]),S&&(s=e.fitToBounds(2*this.gridAlpha,0,1),isNaN(this.zeroGridAlpha)||(s=this.zeroGridAlpha),(s=e.line(t.container,S,k,this.gridColor,s,1,this.dashLength)).translate(this.x,this.y),this.grid0=s,t.axesSet.push(s),s.toBack(),e.setCN(t,s,this.bcn+"zero-grid-"+this.id),e.setCN(t,s,this.bcn+"zero-grid"))}if(!isNaN(x)&&0<w&&a<g-1){for(s=y/x,o&&(x=y*(a+f)+this.minCalc,x=e.roundTo(x,this.maxDecCount+1),v>this.logGridLimit&&(x=Math.pow(10,a+f)),x=(x-p)/(s=9)),D=this.gridAlpha,this.gridAlpha=this.minorGridAlpha,T=1;T<s;T++){var A=this.getCoordinate(p+x*T);A=new this.axisItemRenderer(this,A,"",!1,0,0,!1,!1,0,!0);this.pushAxisItem(A)}this.gridAlpha=D}}if(0<(C=(v=this.guides).length)){for(S=this.fillAlpha,a=this.fillAlpha=0;a<C;a++)l=NaN,x=(k=v[a]).above,isNaN(k.toValue)||(l=this.getCoordinate(k.toValue),b=new this.axisItemRenderer(this,l,"",!0,NaN,NaN,k),this.pushAxisItem(b,x)),d=NaN,isNaN(k.value)||(d=this.getCoordinate(k.value),b=new this.axisItemRenderer(this,d,k.label,!0,NaN,(l-d)/2,k),this.pushAxisItem(b,x)),isNaN(l)&&(l=(d-=3)+3),b&&(c=b.label)&&this.addEventListeners(c,k),isNaN(l-d)||0>d&&0>l||(l=new this.guideFillRenderer(this,d,l,k),this.pushAxisItem(l,x),x=l.graphics(),k.graphics=x,this.addEventListeners(x,k));this.fillAlpha=S}b=this.baseValue,this.min>this.baseValue&&this.max>this.baseValue&&(b=this.min),this.min<this.baseValue&&this.max<this.baseValue&&(b=this.max),o&&b<this.minReal&&(b=this.minReal),this.baseCoord=this.getCoordinate(b,!0),(b={type:"axisChanged",target:this,chart:t}).min=o?this.minReal:this.min,b.max=this.max,this.fire(b),this.axisCreated=!0}o=this.axisLine.set,b=this.labelsSet,i.translate(this.x,this.y),b.translate(this.x,this.y),this.positionTitle(),"radar"!=t.type&&o.toFront(),!this.visible||n?(i.hide(),o.hide(),b.hide()):(i.show(),o.show(),b.show()),this.axisY=this.y,this.axisX=this.x},getDateMinMax:function(){this.minimumDate&&(this.minimumDate instanceof Date||(this.minimumDate=e.getDate(this.minimumDate,this.chart.dataDateFormat,"fff")),this.min=this.minimumDate.getTime()),this.maximumDate&&(this.maximumDate instanceof Date||(this.maximumDate=e.getDate(this.maximumDate,this.chart.dataDateFormat,"fff")),this.max=this.maximumDate.getTime())},formatValue:function(t,i,r){var n=this.exponential,o=this.logarithmic,s=this.numberFormatter,a=this.chart;if(s)return!0===this.logarithmic&&(n=-1!=String(t).indexOf("e")),this.useScientificNotation&&(n=!0),this.usePrefixes&&(n=!1),n?(n=(r=-1==String(t).indexOf("e")?t.toExponential(15):String(t)).split("e"),r=Number(n[0]),n=Number(n[1]),r=e.roundTo(r,14),i||isNaN(this.precision)||(r=e.roundTo(r,this.precision)),10==r&&(r=1,n+=1),r=r+"e"+n,0===t&&(r="0"),1==t&&(r="1")):(o&&((n=String(t).split("."))[1]?(s.precision=n[1].length,0>r&&(s.precision=Math.abs(r)),i&&1<t&&(s.precision=0),i||isNaN(this.precision)||(s.precision=this.precision)):s.precision=-1),r=this.usePrefixes?e.addPrefix(t,a.prefixesOfBigNumbers,a.prefixesOfSmallNumbers,s,!i):e.formatNumber(t,s,s.precision)),this.duration&&(i&&(s.precision=0),r=e.formatDuration(t,this.duration,"",this.durationUnits,this.maxInterval,s)),"date"==this.type&&(r=e.formatDate(new Date(t),this.currentDateFormat,a)),this.recalculateToPercents?r+="%":(i=this.unit)&&(r="left"==this.unitPosition?i+r:r+i),this.labelFunction&&(r="date"==this.type?this.labelFunction(r,new Date(t),this).toString():this.labelFunction(t,r,this).toString()),r},getMinorGridStep:function(e,t){var i=[5,4,2];60>t&&i.shift();for(var r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n=0;n<i.length;n++){var o=e/i[n],s=Math.floor(Math.log(Math.abs(o))*Math.LOG10E);if(!(1<Math.abs(r-s)))if(1>e){if((s=Math.pow(10,-s)*o)==Math.round(s))return o}else if(o==Math.round(o))return o}return 1},stackGraphs:function(t){var i=this.stackType;"stacked"==i&&(i="regular"),"line"==i&&(i="none"),"100% stacked"==i&&(i="100%"),this.stackType=i;var r,n,o,s,a,l,d=[],c=[],h=[],u=[],f=this.chart.graphs,p=this.baseValue,g=!1;if("line"!=t&&"step"!=t&&"smoothedLine"!=t||(g=!0),g&&("regular"==i||"100%"==i))for(a=0;a<f.length;a++)(s=f[a]).stackGraph=null,s.hidden||(o=s.type,s.chart==this.chart&&s.valueAxis==this&&t==o&&s.stackable&&(n&&(s.stackGraph=n),n=s));for(s=this.start-10,n=this.end+10,a=this.data.length-1,s=e.fitToBounds(s,0,a),n=e.fitToBounds(n,0,a),l=s;l<=n;l++){var m=0;for(a=0;a<f.length;a++)if((s=f[a]).hidden)s.newStack&&(h[l]=NaN,c[l]=NaN);else if(o=s.type,s.chart==this.chart&&s.valueAxis==this&&t==o&&s.stackable)if(r=(o=this.data[l].axes[this.id].graphs[s.id]).values.value,isNaN(r))s.newStack&&(h[l]=NaN,c[l]=NaN);else{var v=e.getDecimals(r);m<v&&(m=v),isNaN(u[l])?u[l]=Math.abs(r):u[l]+=Math.abs(r),u[l]=e.roundTo(u[l],m),v=s.fillToGraph,g&&v&&(v=this.data[l].axes[this.id].graphs[v.id])&&(o.values.open=v.values.value),"regular"==i&&(g&&(isNaN(d[l])?(d[l]=r,o.values.close=r,o.values.open=this.baseValue):(isNaN(r)?o.values.close=d[l]:o.values.close=r+d[l],o.values.open=d[l],d[l]=o.values.close)),"column"==t&&(s.newStack&&(h[l]=NaN,c[l]=NaN),o.values.close=r,0>r?(o.values.close=r,isNaN(c[l])?o.values.open=p:(o.values.close+=c[l],o.values.open=c[l]),c[l]=o.values.close):(o.values.close=r,isNaN(h[l])?o.values.open=p:(o.values.close+=h[l],o.values.open=h[l]),h[l]=o.values.close)))}}for(l=this.start;l<=this.end;l++)for(a=0;a<f.length;a++)(s=f[a]).hidden?s.newStack&&(h[l]=NaN,c[l]=NaN):(o=s.type,s.chart==this.chart&&s.valueAxis==this&&t==o&&s.stackable&&(r=(o=this.data[l].axes[this.id].graphs[s.id]).values.value,isNaN(r)||(d=r/u[l]*100,o.values.percents=d,o.values.total=u[l],s.newStack&&(h[l]=NaN,c[l]=NaN),"100%"==i&&(isNaN(c[l])&&(c[l]=0),isNaN(h[l])&&(h[l]=0),0>d?(o.values.close=e.fitToBounds(d+c[l],-100,100),o.values.open=c[l],c[l]=o.values.close):(o.values.close=e.fitToBounds(d+h[l],-100,100),o.values.open=h[l],h[l]=o.values.close)))))},recalculate:function(){var t,i=this.chart,r=i.graphs;for(t=0;t<r.length;t++){var n=r[t];if(n.valueAxis==this){var o="value";"candlestick"!=n.type&&"ohlc"!=n.type||(o="open");var s,a,l,d=this.end+2;d=e.fitToBounds(this.end+1,0,this.data.length-1);if(0<(f=this.start)&&f--,a=this.start,n.compareFromStart&&(a=0),!isNaN(i.startTime)&&(l=i.categoryAxis)){var c=l.minDuration(),h=(c=new Date(i.startTime+c/2),e.resetDateToMin(new Date(i.startTime),l.minPeriod).getTime());e.resetDateToMin(new Date(c),l.minPeriod).getTime()>h&&a++}for((l=i.recalculateFromDate)&&(l=e.getDate(l,i.dataDateFormat,"fff"),a=i.getClosestIndex(i.chartData,"time",l.getTime(),!0,0,i.chartData.length),d=i.chartData.length-1),l=a;l<=d&&(s=(a=this.data[l].axes[this.id].graphs[n.id]).values[o],n.recalculateValue&&(s=a.dataContext[n.valueField+n.recalculateValue]),isNaN(s));l++);for(this.recBaseValue=s,o=f;o<=d;o++){(a=this.data[o].axes[this.id].graphs[n.id]).percents={};var u,f=a.values;for(u in f)a.percents[u]="percents"!=u?f[u]/s*100-100:f[u]}}}},getMinMax:function(){var t,i=!1,r=this.chart,n=r.graphs;for(t=0;t<n.length;t++){var o=n[t].type;("line"==o||"step"==o||"smoothedLine"==o)&&this.expandMinMax&&(i=!0)}if(i&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==r.type&&(!0!==r.categoryAxis.parseDates||i||this.end<this.data.length-1&&this.end++),this.includeAllValues&&(this.start=0,this.end=this.data.length-1),i=this.minMaxMultiplier,r=this.getExtremes(this.start,this.end),this.min=r.min,this.max=r.max,this.minRR=this.min,this.maxRR=this.max,i=(this.max-this.min)*(i-1),this.min-=i,this.max+=i,i=this.guides.length,this.includeGuidesInMinMax&&0<i)for(r=0;r<i;r++)(n=this.guides[r]).toValue<this.min&&(this.min=n.toValue),n.value<this.min&&(this.min=n.value),n.toValue>this.max&&(this.max=n.toValue),n.value>this.max&&(this.max=n.value);isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),"date"==this.type&&this.getDateMinMax(),this.min>this.max&&(i=this.max,this.max=this.min,this.min=i),isNaN(this.minZoom)||(this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.minCalc=this.min,this.maxCalc=this.max,this.minReal=this.min,this.maxReal=this.max,0===this.min&&0===this.max&&(this.max=9),this.min>this.max&&(this.min=this.max-1),i=this.min,r=this.max,t=0===(n=this.max-this.min)?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E))/10,isNaN(this.maximum)&&(this.max=Math.ceil(this.max/t)*t+t),isNaN(this.minimum)&&(this.min=Math.floor(this.min/t)*t-t),0>this.min&&0<=i&&(this.min=0),0<this.max&&0>=r&&(this.max=0),"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100),n=this.max-this.min,t=Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E))/10,this.step=Math.ceil(n/this.gridCountR/t)*t,n=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),n=e.fixStepE(n),5<(t=Math.ceil(this.step/n))&&(t=10),5>=t&&2<t&&(t=5),this.step=Math.ceil(this.step/(n*t))*n*t,isNaN(this.setStep)||(this.step=this.setStep),1>n?(this.maxDecCount=Math.abs(Math.log(Math.abs(n))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=e.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0,this.min=this.step*Math.floor(this.min/this.step),this.max=this.step*Math.ceil(this.max/this.step),0>this.min&&0<=i&&(this.min=0),0<this.max&&0>=r&&(this.max=0),1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal)),n=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E)),0===this.min&&(this.minReal=n),0===this.min&&1<this.minReal&&(this.minReal=1),0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min),this.logarithmic&&(2<Math.log(r)*Math.LOG10E-Math.log(i)*Math.LOG10E?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E)),this.maxReal=this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(r))*Math.LOG10E))):(i=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E))/10,Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10<i&&(this.minReal=this.min=10*i)))},getExtremes:function(e,t){var i,r,n;for(n=e;n<=t;n++){var o,s=this.data[n].axes[this.id].graphs;for(o in s)if(s.hasOwnProperty(o)){var a,l=this.chart.graphsById[o];if(l.includeInMinMax&&(!l.hidden||this.includeHidden))if(isNaN(i)&&(i=1/0),isNaN(r)&&(r=-1/0),this.foundGraphs=!0,l=s[o].values,this.recalculateToPercents&&(l=s[o].percents),this.minMaxField)(a=l[this.minMaxField])<i&&(i=a),a>r&&(r=a);else for(var d in l)l.hasOwnProperty(d)&&"percents"!=d&&"total"!=d&&"error"!=d&&((a=l[d])<i&&(i=a),a>r&&(r=a))}}return{min:i,max:r}},zoomOut:function(e){this.maxZoom=this.minZoom=NaN,this.zoomToRelativeValues(0,1,e)},zoomToRelativeValues:function(e,t,i){if(this.reversed){var r=e;e=1-t,t=1-r}var n=this.fullMax,o=(r=this.fullMin)+(n-r)*e,s=r+(n-r)*t;return 0<=this.minimum&&0>o&&(o=0),this.logarithmic&&(isNaN(this.minimum)||(r=this.minimum),isNaN(this.maximum)||(n=this.maximum),n=Math.log(n)*Math.LOG10E-Math.log(r)*Math.LOG10E,o=Math.pow(10,n*e+Math.log(r)*Math.LOG10E),s=Math.pow(10,n*t+Math.log(r)*Math.LOG10E)),this.zoomToValues(o,s,i)},zoomToValues:function(t,i,r){if(i<t){var n=i;i=t,t=n}var o=this.fullMax;n=this.fullMin;if(this.relativeStart=e.roundTo((t-n)/(o-n),9),this.relativeEnd=e.roundTo((i-n)/(o-n),9),this.logarithmic){isNaN(this.minimum)||(n=this.minimum),isNaN(this.maximum)||(o=this.maximum);o=Math.log(o)*Math.LOG10E-Math.log(n)*Math.LOG10E;var s=Math.log(i)/Math.LN10-Math.log(n)*Math.LOG10E;this.relativeStart=e.roundTo((Math.log(t)/Math.LN10-Math.log(n)*Math.LOG10E)/o,9),this.relativeEnd=e.roundTo(s/o,9)}if(this.minZoom!=t||this.maxZoom!=i)return this.minZoom=t,this.maxZoom=i,(n={type:"axisZoomed"}).chart=this.chart,n.valueAxis=this,n.startValue=t,n.endValue=i,n.relativeStart=this.relativeStart,n.relativeEnd=this.relativeEnd,this.prevStartValue==t&&this.prevEndValue==i||this.fire(n),this.prevStartValue=t,this.prevEndValue=i,r||(t={},e.copyProperties(n,t),t.type="axisIntZoomed",this.fire(t)),0===this.relativeStart&&1==this.relativeEnd&&(this.maxZoom=this.minZoom=NaN),!0},coordinateToValue:function(e){if(isNaN(e))return NaN;var t=this.axisWidth,i=this.stepWidth,r=this.reversed,n=this.rotate,o=this.min,s=this.minReal;return!0===this.logarithmic?Math.pow(10,(n?!0===r?(t-e)/i:e/i:!0===r?e/i:(t-e)/i)+Math.log(s)*Math.LOG10E):!0===r?n?o-(e-t)/i:e/i+o:n?e/i+o:o-(e-t)/i},getCoordinate:function(e,t){if(isNaN(e))return NaN;var i=this.rotate,r=this.reversed,n=this.axisWidth,o=this.stepWidth,s=this.min,a=this.minReal;return!0===this.logarithmic?(0===e&&(e=this.treatZeroAs),s=Math.log(e)*Math.LOG10E-Math.log(a)*Math.LOG10E,i=i?!0===r?n-o*s:o*s:!0===r?o*s:n-o*s):i=!0===r?i?n-o*(e-s):o*(e-s):i?o*(e-s):n-o*(e-s),1e7<Math.abs(i)&&(i=i/Math.abs(i)*1e7),t||(i=Math.round(i)),i},synchronizeWithAxis:function(e){this.synchronizeWith=e,this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){if(this.synchronizeWith){e.isString(this.synchronizeWith)&&(this.synchronizeWith=this.chart.getValueAxisById(this.synchronizeWith));var t=(r=this.synchronizeWith).min,i=r.max,r=r.step,n=this.synchronizationMultiplier;n&&(this.min=t*n,this.max=i*n,this.step=r*n,t=Math.abs(Math.log(Math.abs(Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E))))*Math.LOG10E),this.maxDecCount=t=Math.round(t),this.draw())}}})}(),function(){var e=window.AmCharts;e.RecAxis=e.Class({construct:function(t){var i=t.chart,r=t.axisThickness,n=t.axisColor,o=t.axisAlpha,s=t.offset,a=t.dx,l=t.dy,d=t.x,c=t.y,h=t.height,u=t.width,f=i.container;"H"==t.orientation?(n=e.line(f,[0,u],[0,0],n,o,r),this.axisWidth=t.width,"bottom"==t.position?(l=r/2+s+h+c-1,r=d):(l=-r/2-s+c+l,r=a+d)):(this.axisWidth=t.height,"right"==t.position?(n=e.line(f,[0,0,-a],[0,h,h-l],n,o,r),l=c+l,r=r/2+s+a+u+d-1):(n=e.line(f,[0,0],[0,h],n,o,r),l=c,r=-r/2-s+d)),n.translate(r,l),(r=i.container.set()).push(n),i.axesSet.push(r),e.setCN(i,n,t.bcn+"line"),this.axisSet=r,this.set=n}})}(),function(){var e=window.AmCharts;e.RecItem=e.Class({construct:function(t,i,r,n,o,s,a,l,d,c,h,u){i=Math.round(i);var f=t.chart;this.value=r,void 0==r&&(r=""),d||(d=0),void 0==n&&(n=!0);var p=f.fontFamily,g=t.fontSize;void 0==g&&(g=f.fontSize);var m=t.color;void 0==m&&(m=f.color),void 0!==h&&(m=h);var v=t.chart.container,b=v.set();this.set=b;var y=t.axisThickness,w=t.axisColor,x=t.axisAlpha,C=t.tickLength,S=t.gridAlpha,k=t.gridThickness,D=t.gridColor,T=t.dashLength,A=t.fillColor,N=t.fillAlpha,_=t.labelsEnabled;h=t.labelRotationR;var M,E,$=t.counter,O=t.inside,I=t.labelOffset,R=t.dx,F=t.dy,L=t.orientation,j=t.position,P=t.previousCoord,z=t.height,B=t.width,H=t.offset;a?(void 0!==a.id&&(u=f.classNamePrefix+"-guide-"+a.id),_=!0,isNaN(a.tickLength)||(C=a.tickLength),void 0!=a.lineColor&&(D=a.lineColor),void 0!=a.color&&(m=a.color),isNaN(a.lineAlpha)||(S=a.lineAlpha),isNaN(a.dashLength)||(T=a.dashLength),isNaN(a.lineThickness)||(k=a.lineThickness),!0===a.inside&&(O=!0,0<H&&(H=0)),isNaN(a.labelRotation)||(h=a.labelRotation),isNaN(a.fontSize)||(g=a.fontSize),a.position&&(j=a.position),void 0!==a.boldLabel&&(l=a.boldLabel),isNaN(a.labelOffset)||(I=a.labelOffset)):""===r&&(C=0),c&&!isNaN(t.minorTickLength)&&(C=t.minorTickLength);var q="start";0<o&&(q="middle"),t.centerLabels&&(q="middle");var W,G,V,U=h*Math.PI/180,Y=0,X=0,Z=0,K=W=0,J=0;"V"==L&&(h=0),_&&""!==r&&(K=(q=(V=t.autoWrap&&0===h?e.wrappedText(v,r,m,p,g,q,l,Math.abs(o),0):e.text(v,r,m,p,g,q,l)).getBBox()).width,J=q.height),"H"==L?(0<=i&&i<=B+1&&(0<C&&0<x&&i+d<=B+1&&(M=e.line(v,[i+d,i+d],[0,C],w,x,k),b.push(M)),0<S&&(E=e.line(v,[i,i+R,i+R],[z,z+F,F],D,S,k,T),b.push(E))),X=0,Y=i,a&&90==h&&O&&(Y-=g),!1===n?(q="start",X="bottom"==j?O?X+C:X-C:O?X-C:X+C,Y+=3,0<o&&(Y+=o/2-3,q="middle"),0<h&&(q="middle")):q="middle",1==$&&0<N&&!a&&!c&&P<B&&(0<(W=(n=e.fitToBounds(i,0,B))-(P=e.fitToBounds(P,0,B)))&&((G=e.rect(v,W,t.height,A,N)).translate(n-W+R,F),b.push(G))),"bottom"==j?(X+=z+g/2+H,O?(0<h?(X=z-K/2*Math.sin(U)-C-3,t.centerRotatedLabels||(Y+=K/2*Math.cos(U)-4+2)):0>h?(X=z+K*Math.sin(U)-C-3+2,Y+=-K*Math.cos(U)-J*Math.sin(U)-4):X-=C+g+3+3,X-=I):(0<h?(X=z+K/2*Math.sin(U)+C+3,t.centerRotatedLabels||(Y-=K/2*Math.cos(U))):0>h?(X=z+C+3-K/2*Math.sin(U)+2,Y+=K/2*Math.cos(U)):X+=C+y+3+3,X+=I)):(X+=F+g/2-H,Y+=R,O?(0<h?(X=K/2*Math.sin(U)+C+3,t.centerRotatedLabels||(Y-=K/2*Math.cos(U))):X+=C+3,X+=I):(0<h?(X=-K/2*Math.sin(U)-C-6,t.centerRotatedLabels||(Y+=K/2*Math.cos(U))):X-=C+g+3+y+3,X-=I)),"bottom"==j?W=(O?z-C-1:z+y-1)+H:(Z=R,W=(O?F:F-C-y+1)-H),s&&(Y+=s),g=Y,0<h&&(g+=K/2*Math.cos(U)),V&&(s=0,O&&(s=K/2*Math.cos(U)),g+s>B+2||0>g)&&(V.remove(),V=null)):(0<=i&&i<=z+1&&(0<C&&0<x&&i+d<=z+1&&(M=e.line(v,[0,C+1],[i+d,i+d],w,x,k),b.push(M)),0<S&&(E=e.line(v,[0,R,B+R],[i,i+F,i+F],D,S,k,T),b.push(E))),q="end",(!0===O&&"left"==j||!1===O&&"right"==j)&&(q="start"),X=i-J/2+2,1==$&&0<N&&!a&&!c&&(U=(n=e.fitToBounds(i,0,z))-(P=e.fitToBounds(P,0,z)),(G=e.polygon(v,[0,t.width,t.width,0],[0,0,U,U],A,N)).translate(R,n-U+F),b.push(G)),X+=g/2,"right"==j?(Y+=R+B+H,X+=F,O?(s||(X-=g/2+3),Y=Y-(C+4)-I):(Y+=C+4+y,X-=2,Y+=I)):O?(Y+=C+4-H,s||(X-=g/2+3),a&&(Y+=R,X+=F),Y+=I):(Y+=-C-y-4-2-H,X-=2,Y-=I),M&&("right"==j?(Z+=R+H+B-1,W+=F,Z=O?Z-y:Z+y):(Z-=H,O||(Z-=C+y))),s&&(X+=s),O=-3,"right"==j&&(O+=F),V&&(X>z+1||X<O-g/10)&&(V.remove(),V=null)),M&&(M.translate(Z,W),e.setCN(f,M,t.bcn+"tick"),e.setCN(f,M,u,!0),a&&e.setCN(f,M,"guide")),!1===t.visible&&(M&&M.remove(),V&&(V.remove(),V=null)),V&&(V.attr({"text-anchor":q}),V.translate(Y,X,NaN,!0),0!==h&&V.rotate(-h,t.chart.backgroundColor),t.allLabels.push(V),this.label=V,e.setCN(f,V,t.bcn+"label"),e.setCN(f,V,u,!0),a&&e.setCN(f,V,"guide")),E&&(e.setCN(f,E,t.bcn+"grid"),e.setCN(f,E,u,!0),a&&e.setCN(f,E,"guide")),G&&(e.setCN(f,G,t.bcn+"fill"),e.setCN(f,G,u,!0)),c?E&&e.setCN(f,E,t.bcn+"grid-minor"):(t.counter=0===$?1:0,t.previousCoord=i),0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}})}(),function(){var e=window.AmCharts;e.RecFill=e.Class({construct:function(t,i,r,n){var o=t.dx,s=t.dy,a=t.orientation,l=0;if(r<i){var d=i;i=r,r=d}var c=n.fillAlpha;isNaN(c)&&(c=0);d=t.chart.container;var h=n.fillColor;"V"==a?(i=e.fitToBounds(i,0,t.height),r=e.fitToBounds(r,0,t.height)):(i=e.fitToBounds(i,0,t.width),r=e.fitToBounds(r,0,t.width)),r-=i,isNaN(r)&&(r=4,l=2,c=0),0>r&&"object"==typeof h&&(h=h.join(",").split(",").reverse()),"V"==a?(a=e.rect(d,t.width,r,h,c)).translate(o,i-l+s):(a=e.rect(d,r,t.height,h,c)).translate(i-l+o,s),e.setCN(t.chart,a,"guide-fill"),n.id&&e.setCN(t.chart,a,"guide-fill-"+n.id),this.set=d.set([a])},graphics:function(){return this.set},getLabel:function(){}})}(),function(){var e=window.AmCharts;e.AmChart=e.Class({construct:function(t){this.svgIcons=this.tapToActivate=!0,this.theme=t,this.classNamePrefix="amcharts",this.addClassNames=!1,this.version="3.21.13",e.addChart(this),this.createEvents("buildStarted","dataUpdated","init","rendered","drawn","failed","resized","animationFinished"),this.height=this.width="100%",this.dataChanged=!0,this.chartCreated=!1,this.previousWidth=this.previousHeight=0,this.backgroundColor="#FFFFFF",this.borderAlpha=this.backgroundAlpha=0,this.color=this.borderColor="#000000",this.fontFamily="Verdana",this.fontSize=11,this.usePrefixes=!1,this.autoResize=!0,this.autoDisplay=!1,this.addCodeCredits=this.accessible=!0,this.touchStartTime=this.touchClickDuration=0,this.precision=-1,this.percentPrecision=2,this.decimalSeparator=".",this.thousandsSeparator=",",this.labels=[],this.allLabels=[],this.titles=[],this.marginRight=this.marginLeft=this.autoMarginOffset=0,this.timeOuts=[],this.creditsPosition="top-left";var i=document.createElement("div"),r=i.style;r.overflow="hidden",r.position="relative",r.textAlign="left",this.chartDiv=i,(r=(i=document.createElement("div")).style).overflow="hidden",r.position="relative",r.textAlign="left",this.legendDiv=i,this.titleHeight=0,this.hideBalloonTime=150,this.handDrawScatter=2,this.cssScale=this.handDrawThickness=1,this.cssAngle=0,this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}],this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"μ"},{number:.001,prefix:"m"}],this.panEventsEnabled=!0,this.product="amcharts",this.animations=[],this.balloon=new e.AmBalloon(this.theme),this.balloon.chart=this,this.processTimeout=0,this.processCount=1e3,this.animatable=[],this.langObj={},e.applyTheme(this,t,"AmChart")},drawChart:function(){0<this.realWidth&&0<this.realHeight&&(this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr(),this.renderFix(),this.chartDiv&&(this.boundingRect=this.chartDiv.getBoundingClientRect()))},makeAccessible:function(e,t,i){this.accessible&&e&&(i&&e.setAttr("role",i),e.setAttr("aria-label",t))},drawBackground:function(){e.remove(this.background);var t=this.container,i=this.backgroundColor,r=this.backgroundAlpha,n=this.set;e.isModern||0!==r||(r=.001);var o=this.updateWidth();this.realWidth=o;var s=this.updateHeight();this.realHeight=s,i=e.polygon(t,[0,o-1,o-1,0],[0,0,s-1,s-1],i,r,1,this.borderColor,this.borderAlpha),e.setCN(this,i,"bg"),this.background=i,n.push(i),(i=this.backgroundImage)&&(t=t.image(i,0,0,o,s),e.setCN(this,i,"bg-image"),this.bgImg=t,n.push(t))},drawTitles:function(t){var i=this.titles;if(this.titleHeight=0,e.ifArray(i)){var r,n=20;for(r=0;r<i.length;r++){var o=i[r];if(!1!==(o=e.processObject(o,e.Title,this.theme)).enabled){var s=o.color;void 0===s&&(s=this.color);var a=o.size;isNaN(a)&&(a=this.fontSize+2),isNaN(o.alpha);var l=this.marginLeft,d=!0;void 0!==o.bold&&(d=o.bold),(s=e.wrappedText(this.container,o.text,s,this.fontFamily,a,"middle",d,this.realWidth-35-this.marginRight-l)).translate(l+(this.realWidth-this.marginRight-l)/2,n),s.node.style.pointerEvents="none",o.sprite=s,void 0!==o.tabIndex&&s.setAttr("tabindex",o.tabIndex),e.setCN(this,s,"title"),o.id&&e.setCN(this,s,"title-"+o.id),s.attr({opacity:o.alpha}),n+=s.getBBox().height+5,t?s.remove():this.freeLabelsSet.push(s)}}this.titleHeight=n-10}},write:function(e){var t=this;if(t.listeners)for(var i=0;i<t.listeners.length;i++){var r=t.listeners[i];t.addListener(r.event,r.method)}t.fire({type:"buildStarted",chart:t}),t.afterWriteTO&&clearTimeout(t.afterWriteTO),0<t.processTimeout?t.afterWriteTO=setTimeout(function(){t.afterWrite.call(t,e)},t.processTimeout):t.afterWrite(e)},afterWrite:function(t){var i;if(i="object"!=typeof t?document.getElementById(t):t){for(;i.firstChild;)i.removeChild(i.firstChild);this.div=i,i.style.overflow="hidden",i.style.textAlign="left",t=this.chartDiv;var r=this.legendDiv,n=this.legend,o=r.style,s=t.style;this.measure(),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth;var a,l=document.createElement("div");if((a=l.style).position="relative",this.containerDiv=l,l.className=this.classNamePrefix+"-main-div",t.className=this.classNamePrefix+"-chart-div",i.appendChild(l),(i=this.exportConfig)&&e.AmExport&&!this.AmExport&&(this.AmExport=new e.AmExport(this,i)),this.amExport&&e.AmExport&&(this.AmExport=e.extend(this.amExport,new e.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init(),n){if((n=this.addLegend(n,n.divId)).enabled)switch(o.left=null,o.top=null,o.right=null,s.left=null,s.right=null,s.top=null,o.position="relative",s.position="relative",a.width="100%",a.height="100%",n.position){case"bottom":l.appendChild(t),l.appendChild(r);break;case"top":l.appendChild(r),l.appendChild(t);break;case"absolute":o.position="absolute",s.position="absolute",void 0!==n.left&&(o.left=n.left+"px"),void 0!==n.right&&(o.right=n.right+"px"),void 0!==n.top&&(o.top=n.top+"px"),void 0!==n.bottom&&(o.bottom=n.bottom+"px"),n.marginLeft=0,n.marginRight=0,l.appendChild(t),l.appendChild(r);break;case"right":o.position="relative",s.position="absolute",l.appendChild(t),l.appendChild(r);break;case"left":o.position="absolute",s.position="relative",l.appendChild(t),l.appendChild(r);break;case"outside":l.appendChild(t)}else l.appendChild(t);this.prevLegendPosition=n.position}else l.appendChild(t);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0),(this.mouseWheelScrollEnabled||this.mouseWheelZoomEnabled)&&e.addWheelListeners(),this.initChart()}},createLabelsSet:function(){e.remove(this.labelsSet),this.labelsSet=this.container.set(),this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.balloon=e.processObject(this.balloon,e.AmBalloon,this.theme),window.AmCharts_path&&(this.path=window.AmCharts_path),void 0===this.path&&(this.path=e.getPath()),void 0===this.path&&(this.path="amcharts/"),this.path=e.normalizeUrl(this.path),void 0===this.pathToImages&&(this.pathToImages=this.path+"images/"),this.initHC||(e.callInitHandler(this),this.initHC=!0),e.applyLang(this.language,this);var t=this.numberFormatter;t&&(isNaN(t.precision)||(this.precision=t.precision),void 0!==t.thousandsSeparator&&(this.thousandsSeparator=t.thousandsSeparator),void 0!==t.decimalSeparator&&(this.decimalSeparator=t.decimalSeparator)),(t=this.percentFormatter)&&!isNaN(t.precision)&&(this.percentPrecision=t.precision),this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.destroy(),(t=this.container)?(t.container.innerHTML="",t.width=this.realWidth,t.height=this.realHeight,t.addDefs(this),this.chartDiv.appendChild(t.container)):t=new e.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this),this.container=t,this.extension=".png",this.svgIcons&&e.SVG&&(this.extension=".svg"),this.checkDisplay(),this.checkTransform(this.div),t.chart=this,e.VML||e.SVG?(t.handDrawn=this.handDrawn,t.handDrawScatter=this.handDrawScatter,t.handDrawThickness=this.handDrawThickness,e.remove(this.set),this.set=t.set(),e.remove(this.gridSet),this.gridSet=t.set(),e.remove(this.cursorLineSet),this.cursorLineSet=t.set(),e.remove(this.graphsBehindSet),this.graphsBehindSet=t.set(),e.remove(this.bulletBehindSet),this.bulletBehindSet=t.set(),e.remove(this.columnSet),this.columnSet=t.set(),e.remove(this.graphsSet),this.graphsSet=t.set(),e.remove(this.trendLinesSet),this.trendLinesSet=t.set(),e.remove(this.axesSet),this.axesSet=t.set(),e.remove(this.cursorSet),this.cursorSet=t.set(),e.remove(this.scrollbarsSet),this.scrollbarsSet=t.set(),e.remove(this.bulletSet),this.bulletSet=t.set(),e.remove(this.freeLabelsSet),this.freeLabelsSet=t.set(),e.remove(this.axesLabelsSet),this.axesLabelsSet=t.set(),e.remove(this.balloonsSet),this.balloonsSet=t.set(),e.remove(this.plotBalloonsSet),this.plotBalloonsSet=t.set(),e.remove(this.zoomButtonSet),this.zoomButtonSet=t.set(),e.remove(this.zbSet),this.zbSet=null,e.remove(this.linkSet),this.linkSet=t.set()):this.fire({type:"failed",chart:this})},premeasure:function(){var e=this.div;if(e){try{this.boundingRect=this.chartDiv.getBoundingClientRect()}catch(e){}var t=e.offsetWidth,i=e.offsetHeight;e.clientHeight&&(t=e.clientWidth,i=e.clientHeight),t==this.mw&&i==this.mh||(this.mw=t,this.mh=i,this.measure())}},measure:function(){if(o=this.div){var t=this.chartDiv,i=o.offsetWidth,r=o.offsetHeight,n=this.container;o.clientHeight&&(i=o.clientWidth,r=o.clientHeight);r=Math.round(r),i=Math.round(i);var o=Math.round(e.toCoordinate(this.width,i)),s=Math.round(e.toCoordinate(this.height,r));(i!=this.previousWidth||r!=this.previousHeight)&&0<o&&0<s&&(t.style.width=o+"px",t.style.height=s+"px",t.style.padding=0,n&&n.setSize(o,s),this.balloon=e.processObject(this.balloon,e.AmBalloon,this.theme)),this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,o-2,s),this.updateWidth(),this.balloon.chart=this,this.realWidth=o,this.realHeight=s,this.divRealWidth=i,this.divRealHeight=r}},checkDisplay:function(){if(this.autoDisplay&&this.container){var t=e.rect(this.container,10,10),i=t.getBBox();0===i.width&&0===i.height&&(this.divRealHeight=this.divRealWidth=this.realHeight=this.realWidth=0,this.previousWidth=this.previousHeight=NaN),t.remove()}},checkTransform:function(e){if(this.autoTransform&&window.getComputedStyle&&e){if(e.style)if((t=window.getComputedStyle(e,null))&&(t=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform"))&&"none"!==t){var t=(i=t.split("(")[1].split(")")[0].split(","))[0],i=i[1];t=Math.sqrt(t*t+i*i);isNaN(t)||(this.cssScale*=t)}e.parentNode&&this.checkTransform(e.parentNode)}},destroy:function(){this.chartDiv.innerHTML="",this.clearTimeOuts(),this.legend&&this.legend.destroy()},clearTimeOuts:function(){var e,t=this.timeOuts;if(t)for(e=0;e<t.length;e++)clearTimeout(t[e]);this.timeOuts=[]},clear:function(t){try{document.removeEventListener("touchstart",this.docfn1,!0),document.removeEventListener("touchend",this.docfn2,!0)}catch(e){}if(e.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),t||e.removeChart(this),t=this.div)for(;t.firstChild;)t.removeChild(t.firstChild);this.legend&&this.legend.destroy(),this.AmExport&&this.AmExport.clear&&this.AmExport.clear()},setMouseCursor:function(t){"auto"==t&&e.isNN&&(t="default"),this.chartDiv.style.cursor=t,this.legendDiv.style.cursor=t},redrawLabels:function(){this.labels=[];var e,t=this.allLabels;for(this.createLabelsSet(),e=0;e<t.length;e++)this.drawLabel(t[e])},drawLabel:function(t){var i=this;if(i.container&&!1!==t.enabled){var r=(t=e.processObject(t,e.Label,i.theme)).y,n=t.text,o=t.align,s=t.size,a=t.color,l=t.rotation,d=t.alpha,c=t.bold,h=e.toCoordinate(t.x,i.realWidth);r=e.toCoordinate(r,i.realHeight);h||(h=0),r||(r=0),void 0===a&&(a=i.color),isNaN(s)&&(s=i.fontSize),o||(o="start"),"left"==o&&(o="start"),"right"==o&&(o="end"),"center"==o&&(o="middle",l?r=i.realHeight-r+r/2:h=i.realWidth/2-h),void 0===d&&(d=1),void 0===l&&(l=0),r+=s/2,(n=e.text(i.container,n,a,i.fontFamily,s,o,c,d)).translate(h,r),void 0!==t.tabIndex&&n.setAttr("tabindex",t.tabIndex),e.setCN(i,n,"label"),t.id&&e.setCN(i,n,"label-"+t.id),0!==l&&n.rotate(l),t.url?(n.setAttr("cursor","pointer"),n.click(function(){e.getURL(t.url,i.urlTarget)})):n.node.style.pointerEvents="none",i.labelsSet.push(n),i.labels.push(n)}},addLabel:function(e,t,i,r,n,o,s,a,l,d){e={x:e,y:t,text:i,align:r,size:n,color:o,alpha:a,rotation:s,bold:l,url:d,enabled:!0},this.container&&this.drawLabel(e),this.allLabels.push(e)},clearLabels:function(){var e,t=this.labels;for(e=t.length-1;0<=e;e--)t[e].remove();this.labels=[],this.allLabels=[]},updateHeight:function(){var e=this.divRealHeight;if(t=this.legend){var t,i=this.legendDiv.offsetHeight;"top"!=(t=t.position)&&"bottom"!=t||((0>(e-=i)||isNaN(e))&&(e=0),this.chartDiv.style.height=e+"px")}return e},updateWidth:function(){var e=this.divRealWidth,t=this.divRealHeight,i=this.legend;if(i){var r=(o=this.legendDiv).offsetWidth;isNaN(i.width)||(r=i.width),i.ieW&&(r=i.ieW);var n=o.offsetHeight,o=o.style,s=this.chartDiv.style,a=i.position;"right"!=a&&"left"!=a||void 0!==i.divId||((0>(e-=r)||isNaN(e))&&(e=0),s.width=e+"px",this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,e-2,this.realHeight),"left"==a?(s.left=r+"px",o.left="0px"):(s.left="0px",o.left=e+"px"),t>n&&(o.top=(t-n)/2+"px"))}return e},getTitleHeight:function(){return this.drawTitles(!0),this.titleHeight},addTitle:function(e,t,i,r,n){return isNaN(t)&&(t=this.fontSize+2),e={text:e,size:t,color:i,alpha:r,bold:n,enabled:!0},this.titles.push(e),e},handleWheel:function(e){var t=0;e||(e=window.event),e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t&&this.handleWheelReal(t,e.shiftKey),e.preventDefault&&e.preventDefault()},handleWheelReal:function(){},handleDocTouchStart:function(){this.handleMouseMove(),this.tmx=this.mouseX,this.tmy=this.mouseY,this.touchStartTime=(new Date).getTime()},handleDocTouchEnd:function(){-.5<this.tmx&&this.tmx<this.divRealWidth+1&&0<this.tmy&&this.tmy<this.divRealHeight?(this.handleMouseMove(),4>Math.abs(this.mouseX-this.tmx)&&4>Math.abs(this.mouseY-this.tmy)?(this.tapped=!0,this.panRequired&&this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="none",this.chartDiv.style.touchAction="none")):this.mouseIsOver||this.resetTouchStyle()):(this.tapped=!1,this.resetTouchStyle())},resetTouchStyle:function(){this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="auto",this.chartDiv.style.touchAction="auto")},checkTouchDuration:function(e){var t=this,i=(new Date).getTime();if(e)if(e.touches)t.isTouchEvent=!0;else if(!t.isTouchEvent)return!0;if(i-t.touchStartTime>t.touchClickDuration)return!0;setTimeout(function(){t.resetTouchDuration()},300)},resetTouchDuration:function(){this.isTouchEvent=!1},checkTouchMoved:function(){if(4<Math.abs(this.mouseX-this.tmx)||4<Math.abs(this.mouseY-this.tmy))return!0},addListeners:function(){var e=this,t=e.chartDiv;document.addEventListener?("ontouchstart"in document.documentElement&&(t.addEventListener("touchstart",function(t){e.handleTouchStart.call(e,t)},!0),t.addEventListener("touchmove",function(t){e.handleMouseMove.call(e,t)},!0),t.addEventListener("touchend",function(t){e.handleTouchEnd.call(e,t)},!0),e.docfn1=function(t){e.handleDocTouchStart.call(e,t)},e.docfn2=function(t){e.handleDocTouchEnd.call(e,t)},document.addEventListener("touchstart",e.docfn1,!0),document.addEventListener("touchend",e.docfn2,!0)),t.addEventListener("mousedown",function(t){e.mouseIsOver=!0,e.handleMouseMove.call(e,t),e.handleMouseDown.call(e,t),e.handleDocTouchStart.call(e,t)},!0),t.addEventListener("mouseover",function(t){e.handleMouseOver.call(e,t)},!0),t.addEventListener("mouseout",function(t){e.handleMouseOut.call(e,t)},!0),t.addEventListener("mouseup",function(t){e.handleDocTouchEnd.call(e,t)},!0)):(t.attachEvent("onmousedown",function(t){e.handleMouseDown.call(e,t)}),t.attachEvent("onmouseover",function(t){e.handleMouseOver.call(e,t)}),t.attachEvent("onmouseout",function(t){e.handleMouseOut.call(e,t)}))},dispDUpd:function(){this.skipEvents||(this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,this.fire({type:"dataUpdated",chart:this})),this.chartCreated||(this.chartCreated=!0,this.fire({type:"init",chart:this})),this.chartRendered||(this.fire({type:"rendered",chart:this}),this.chartRendered=!0),this.fire({type:"drawn",chart:this})),this.skipEvents=!1},validateSize:function(){var e=this;if(e.premeasure(),e.checkDisplay(),e.cssScale=1,e.cssAngle=0,e.checkTransform(e.div),e.divRealWidth!=e.previousWidth||e.divRealHeight!=e.previousHeight){var t=e.legend;if(0<e.realWidth&&0<e.realHeight){if(e.sizeChanged=!0,t){e.legendInitTO&&clearTimeout(e.legendInitTO);var i=setTimeout(function(){t.invalidateSize()},10);e.timeOuts.push(i),e.legendInitTO=i}e.marginsUpdated=!1,clearTimeout(e.initTO),i=setTimeout(function(){e.initChart()},10),e.timeOuts.push(i),e.initTO=i}e.renderFix(),t&&t.renderFix&&t.renderFix(),e.positionCred(),clearTimeout(e.resizedTO),e.resizedTO=setTimeout(function(){e.fire({type:"resized",chart:e})},10),e.previousHeight=e.divRealHeight,e.previousWidth=e.divRealWidth}},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN,this.invalidateSizeReal()},invalidateSizeReal:function(){var e=this;e.marginsUpdated=!1,clearTimeout(e.validateTO);var t=setTimeout(function(){e.validateSize()},5);e.timeOuts.push(t),e.validateTO=t},validateData:function(e){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(e))},validateNow:function(e,t){this.initTO&&clearTimeout(this.initTO),e&&(this.dataChanged=!0,this.marginsUpdated=!1),this.skipEvents=t,this.chartRendered=!1;var i=this.legend;i&&i.position!=this.prevLegendPosition&&(this.previousWidth=this.mw=0,i.invalidateSize&&(i.invalidateSize(),this.validateSize())),this.write(this.div)},showItem:function(e){e.hidden=!1,this.initChart()},hideItem:function(e){e.hidden=!0,this.initChart()},hideBalloon:function(){var e=this;clearTimeout(e.hoverInt),clearTimeout(e.balloonTO),e.hoverInt=setTimeout(function(){e.hideBalloonReal.call(e)},e.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var e=this.balloon;e&&e.hide&&e.hide()},showBalloon:function(e,t,i,r,n){var o=this;clearTimeout(o.balloonTO),clearTimeout(o.hoverInt),o.balloonTO=setTimeout(function(){o.showBalloonReal.call(o,e,t,i,r,n)},1)},showBalloonReal:function(e,t,i,r,n){this.handleMouseMove();var o=this.balloon;o.enabled&&(o.followCursor(!1),o.changeColor(t),!i||o.fixedPosition?(o.setPosition(r,n),isNaN(r)||isNaN(n)?o.followCursor(!0):o.followCursor(!1)):o.followCursor(!0),e&&o.showBalloon(e))},handleMouseOver:function(){this.outTO&&clearTimeout(this.outTO),e.resetMouseOver(),this.mouseIsOver=!0},handleMouseOut:function(){var t=this;e.resetMouseOver(),t.outTO&&clearTimeout(t.outTO),t.outTO=setTimeout(function(){t.handleMouseOutReal()},10)},handleMouseOutReal:function(){this.mouseIsOver=!1},handleMouseMove:function(e){var t,i,r,n;if(e||(e=window.event),this.mouse2Y=this.mouse2X=NaN,e){if(e.touches){var o=e.touches.item(1);if(o&&this.panEventsEnabled&&this.boundingRect&&(r=o.clientX-this.boundingRect.left,n=o.clientY-this.boundingRect.top),!(e=e.touches.item(0)))return}else this.wasTouched=!1;this.boundingRect&&e.clientX&&(t=e.clientX-this.boundingRect.left,i=e.clientY-this.boundingRect.top),isNaN(r)?this.mouseX=t:(this.mouseX=Math.min(t,r),this.mouse2X=Math.max(t,r)),isNaN(n)?this.mouseY=i:(this.mouseY=Math.min(i,n),this.mouse2Y=Math.max(i,n)),this.autoTransform&&(this.mouseX/=this.cssScale,this.mouseY/=this.cssScale)}},handleTouchStart:function(e){this.hideBalloonReal(),e&&(e.touches&&this.tapToActivate&&!this.tapped||!this.panRequired)||(this.handleMouseMove(e),this.handleMouseDown(e))},handleTouchEnd:function(t){this.wasTouched=!0,this.handleMouseMove(t),e.resetMouseOver(),this.handleReleaseOutside(t)},handleReleaseOutside:function(){this.handleDocTouchEnd.call(this)},handleMouseDown:function(t){e.resetMouseOver(),this.mouseIsOver=!0,t&&t.preventDefault&&(this.panEventsEnabled?t.preventDefault():t.touches||t.preventDefault())},addLegend:function(t,i){var r;return(t=e.processObject(t,e.AmLegend,this.theme)).divId=i,t.ieW=0,r="object"!=typeof i&&i?document.getElementById(i):i,this.legend=t,t.chart=this,r?(t.div=r,t.position="outside",t.autoMargins=!1):t.div=this.legendDiv,t},removeLegend:function(){this.legend=void 0,this.previousWidth=0,this.legendDiv.innerHTML=""},handleResize:function(){(e.isPercents(this.width)||e.isPercents(this.height))&&this.invalidateSizeReal(),this.renderFix()},renderFix:function(){if(!e.VML){var t=this.container;t&&t.renderFix()}},getSVG:function(){if(e.hasSVG)return this.container},animate:function(t,i,r,n,o,s,a){return t["an_"+i]&&e.removeFromArray(this.animations,t["an_"+i]),r={obj:t,frame:0,attribute:i,from:r,to:n,time:o,effect:s,suffix:a},t["an_"+i]=r,this.animations.push(r),r},setLegendData:function(e){var t=this.legend;t&&t.setData(e)},stopAnim:function(t){e.removeFromArray(this.animations,t)},updateAnimations:function(){var t;if(this.container&&this.container.update(),this.animations)for(t=this.animations.length-1;0<=t;t--){var i=this.animations[t],r=e.updateRate*i.time,n=i.frame+1,o=i.obj,s=i.attribute;if(n<=r){i.frame++;var a=Number(i.from),l=Number(i.to)-a;r=e[i.effect](0,n,a,l,r);0===l?(this.animations.splice(t,1),o.node.style[s]=Number(i.to)+i.suffix):o.node.style[s]=r+i.suffix}else o.node.style[s]=Number(i.to)+i.suffix,o.animationFinished=!0,this.animations.splice(t,1)}},update:function(){this.updateAnimations();var e=this.animatable;if(0<e.length){for(var t=!0,i=e.length-1;0<=i;i--){var r=e[i];r&&(r.animationFinished?e.splice(i,1):t=!1)}t&&(this.fire({type:"animationFinished",chart:this}),this.animatable=[])}},inIframe:function(){try{return window.self!==window.top}catch(e){return!0}},brr:function(){if(!this.hideCredits){var e,t="amcharts.com";if(2<=(i=window.location.hostname.split(".")).length&&(e=i[i.length-2]+"."+i[i.length-1]),this.amLink&&(i=this.amLink.parentNode)&&i.removeChild(this.amLink),e!=t||!0===this.inIframe()){e=t="http://www."+t;var i="JavaScript charts",r="JS chart by amCharts";"ammap"==this.product&&(e=t+"/javascript-maps/",i="Interactive JavaScript maps",r="JS map by amCharts"),t=document.createElement("a"),r=document.createTextNode(r),t.setAttribute("href",e),t.setAttribute("title",i),this.urlTarget&&t.setAttribute("target",this.urlTarget),t.appendChild(r),this.chartDiv.appendChild(t),this.amLink=t,(t=t.style).position="absolute",t.textDecoration="none",t.color=this.color,t.fontFamily=this.fontFamily,t.fontSize="11px",t.opacity=.7,t.display="block",this.positionCred()}}},positionCred:function(){if(r=this.amLink){var e=this.creditsPosition,t=r.style,i=r.offsetWidth,r=r.offsetHeight,n=0,o=0,s=this.realWidth,a=this.realHeight;"serial"!=(l=this.type)&&"xy"!=l&&"gantt"!=l||(n=this.marginLeftReal,o=this.marginTopReal,s=n+this.plotAreaWidth,a=o+this.plotAreaHeight);var l=5+n,d=o+5;"bottom-left"==e&&(l=5+n,d=a-r-3),"bottom-right"==e&&(l=s-i-5,d=a-r-3),"top-right"==e&&(l=s-i-5,d=o+5),t.left=l+"px",t.top=d+"px"}}}),e.Slice=e.Class({construct:function(){}}),e.SerialDataItem=e.Class({construct:function(){}}),e.GraphDataItem=e.Class({construct:function(){}}),e.Guide=e.Class({construct:function(t){this.cname="Guide",e.applyTheme(this,t,this.cname)}}),e.Title=e.Class({construct:function(t){this.cname="Title",e.applyTheme(this,t,this.cname)}}),e.Label=e.Class({construct:function(t){this.cname="Label",e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.AmGraph=e.Class({construct:function(t){this.cname="AmGraph",this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.type="line",this.stackable=!0,this.columnCount=1,this.columnIndex=0,this.centerCustomBullets=this.showBalloon=!0,this.maxBulletSize=50,this.minBulletSize=4,this.balloonText="[[value]]",this.hidden=this.scrollbar=this.animationPlayed=!1,this.pointPosition="middle",this.depthCount=1,this.includeInMinMax=!0,this.negativeBase=0,this.visibleInLegend=!0,this.showAllValueLabels=!1,this.showBulletsAt=this.showBalloonAt="close",this.lineThickness=1,this.dashLength=0,this.connect=!0,this.lineAlpha=1,this.bullet="none",this.bulletBorderThickness=2,this.bulletBorderAlpha=0,this.bulletAlpha=1,this.bulletSize=8,this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0,this.cursorBulletAlpha=1,this.gradientOrientation="vertical",this.dy=this.dx=0,this.periodValue="",this.clustered=!0,this.periodSpan=1,this.accessibleLabel="[[title]] [[category]] [[value]]",this.accessibleSkipText="Press enter to skip [[title]]",this.y=this.x=0,this.switchable=!0,this.minDistance=.8,this.tcc=1,this.labelRotation=0,this.labelAnchor="auto",this.labelOffset=3,this.bcn="graph-",this.dateFormat="MMM DD, YYYY",this.noRounding=!0,e.applyTheme(this,t,this.cname)},init:function(){this.createBalloon()},draw:function(){var t=this.chart;t.isRolledOverBullet=!1;var i=t.type;if(t.drawGraphs){isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:t.decimalSeparator,thousandsSeparator:t.thousandsSeparator});var r=t.container;this.container=r,this.destroy();var n=r.set();this.set=n,n.translate(this.x,this.y);var o=r.set();this.bulletSet=o,o.translate(this.x,this.y),this.behindColumns?(t.graphsBehindSet.push(n),t.bulletBehindSet.push(o)):(t.graphsSet.push(n),t.bulletSet.push(o));var s=this.bulletAxis;e.isString(s)&&(this.bulletAxis=t.getValueAxisById(s)),r=r.set(),e.remove(this.columnsSet),this.columnsSet=r,e.setCN(t,n,"graph-"+this.type),e.setCN(t,n,"graph-"+this.id),e.setCN(t,o,"graph-"+this.type),e.setCN(t,o,"graph-"+this.id),this.columnsArray=[],this.ownColumns=[],this.allBullets=[],this.animationArray=[],(o=this.labelPosition)||(s=this.valueAxis.stackType,o="top","column"==this.type&&(t.rotate&&(o="right"),"100%"==s||"regular"==s)&&(o="middle"),this.labelPosition=o),e.ifArray(this.data)&&(t=!1,"xy"==i?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(t=!0):this.valueAxis.axisCreated&&(t=!0),!this.hidden&&t&&this.createGraph()),n.push(r)}},createGraph:function(){var t=this,i=t.chart;t.startAlpha=i.startAlpha,t.seqAn=i.sequencedAnimation,t.baseCoord=t.valueAxis.baseCoord,void 0===t.fillAlphas&&(t.fillAlphas=0),t.bulletColorR=t.bulletColor,void 0===t.bulletColorR&&(t.bulletColorR=t.lineColorR,t.bulletColorNegative=t.negativeLineColor),void 0===t.bulletAlpha&&(t.bulletAlpha=t.lineAlpha),("step"==r||e.VML)&&(t.noRounding=!1);var r=i.type;if("gantt"==r&&(r="serial"),clearTimeout(t.playedTO),!isNaN(t.valueAxis.min)&&!isNaN(t.valueAxis.max)){switch(r){case"serial":t.categoryAxis&&(t.createSerialGraph(),"candlestick"==t.type&&1>t.valueAxis.minMaxMultiplier&&t.positiveClip(t.set));break;case"radar":t.createRadarGraph();break;case"xy":t.createXYGraph()}t.playedTO=setTimeout(function(){t.setAnimationPlayed.call(t)},500*t.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var e,t=[],i=[],r=this.xAxis,n=this.yAxis;for(this.pmh=n.height,this.pmw=r.width,this.pmy=this.pmx=0,e=this.start;e<=this.end;e++){var o=this.data[e].axes[r.id].graphs[this.id],s=(l=o.values).x,a=l.y,l=r.getCoordinate(s,this.noRounding),d=n.getCoordinate(a,this.noRounding);if(!isNaN(s)&&!isNaN(a)&&(t.push(l),i.push(d),o.x=l,o.y=d,s=this.createBullet(o,l,d,e),a=this.labelText)){a=this.createLabel(o,a);var c=0;s&&(c=s.size),this.positionLabel(o,l,d,a,c)}}this.drawLineGraph(t,i),this.launchAnimation()},createRadarGraph:function(){var e,t,i,r,n,o=this.valueAxis.stackType,s=[],a=[],l=[],d=[];for(n=this.start;n<=this.end;n++){var c,h,u=this.data[n].axes[this.valueAxis.id].graphs[this.id];if("none"==o||"3d"==o?c=u.values.value:(c=u.values.close,h=u.values.open),isNaN(c))this.connect||(this.drawLineGraph(s,a,l,d),s=[],a=[],l=[],d=[]);else{var f=(f=this.valueAxis.getCoordinate(c,this.noRounding)-this.height)*this.valueAxis.rMultiplier,p=-360/(this.end-this.start+1)*n;if("middle"==this.valueAxis.pointPosition&&(p-=180/(this.end-this.start+1)),c=f*Math.sin(p/180*Math.PI),f*=Math.cos(p/180*Math.PI),s.push(c),a.push(f),!isNaN(h)){var g,m=(g=(g=this.valueAxis.getCoordinate(h,this.noRounding)-this.height)*this.valueAxis.rMultiplier)*Math.sin(p/180*Math.PI);p=g*Math.cos(p/180*Math.PI);l.push(m),d.push(p),isNaN(i)&&(i=m),isNaN(r)&&(r=p)}p=this.createBullet(u,c,f,n),u.x=c,u.y=f,(m=this.labelText)&&(m=this.createLabel(u,m),g=0,p&&(g=p.size),this.positionLabel(u,c,f,m,g)),isNaN(e)&&(e=c),isNaN(t)&&(t=f)}}s.push(e),a.push(t),isNaN(i)||(l.push(i),d.push(r)),this.drawLineGraph(s,a,l,d),this.launchAnimation()},positionLabel:function(e,t,i,r,n){if(r){var o=this.chart,s=this.valueAxis,a="middle",l=!1,d=this.labelPosition,c=r.getBBox(),h=this.chart.rotate,u=e.isNegative;switch(void 0===(f=this.fontSize)&&(f=this.chart.fontSize),i-=c.height/2-f/2-1,void 0!==e.labelIsNegative&&(u=e.labelIsNegative),d){case"right":d=h&&u?"left":"right";break;case"top":d=h?"top":u?"bottom":"top";break;case"bottom":d=h?"bottom":u?"top":"bottom";break;case"left":d=h&&u?"right":"left"}var f,p=0,g=0;(f=e.columnGraphics)&&(p=f.x,g=f.y);var m=this.labelOffset;switch(d){case"right":a="start",t+=n/2+m;break;case"top":i=s.reversed?i+(n/2+c.height/2+m):i-(n/2+c.height/2+m);break;case"bottom":i=s.reversed?i-(n/2+c.height/2+m):i+(n/2+c.height/2+m);break;case"left":a="end",t-=n/2+m;break;case"inside":"column"==this.type&&(l=!0,h?u?(a="end",t=p-3-m):(a="start",t=p+3+m):i=u?g+7+m:g-10-m);break;case"middle":"column"==this.type&&(l=!0,h?t-=(t-p)/2+m-3:i-=(i-g)/2+m-3)}return"auto"!=this.labelAnchor&&(a=this.labelAnchor),r.attr({"text-anchor":a}),this.labelRotation&&r.rotate(this.labelRotation),r.translate(t,i),!this.showAllValueLabels&&f&&l&&((c=r.getBBox()).height>e.columnHeight||c.width>e.columnWidth)&&(r.remove(),r=null),r&&"radar"!=o.type&&(h?((0>i||i>this.height)&&(r.remove(),r=null),!this.showAllValueLabels&&r&&(0>t||t>this.width)&&(r.remove(),r=null)):((0>t||t>this.width)&&(r.remove(),r=null),!this.showAllValueLabels&&r&&(0>i||i>this.height)&&(r.remove(),r=null))),r&&this.allBullets.push(r),r}},getGradRotation:function(){var e=270;return"horizontal"==this.gradientOrientation&&(e=0),this.gradientRotation=e},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var t=this.chart,i=this.id,r=this.index,n=this.data,o=this.chart.container,s=this.valueAxis,a=this.type,l=this.columnWidthReal,d=this.showBulletsAt;isNaN(this.columnWidth)||(l=this.columnWidth),isNaN(l)&&(l=.8);var c,h,u,f,p,g=this.useNegativeColorIfDown,m=this.width,v=this.height,b=this.y,y=this.rotate,w=this.columnCount,x=e.toCoordinate(this.cornerRadiusTop,l/2),C=this.connect,S=[],k=[],D=this.chart.graphs.length,T=this.dx/this.tcc,A=this.dy/this.tcc,N=s.stackType,_=this.start,M=this.end,E=this.scrollbar,$="graph-column-";E&&($="scrollbar-graph-column-");var O,I=this.categoryAxis,R=this.baseCoord,F=this.negativeBase,L=this.columnIndex,j=this.lineThickness,P=this.lineAlpha,z=this.lineColorR,B=this.dashLength,H=this.set,q=this.getGradRotation(),W=this.chart.columnSpacing,G=I.cellWidth,V=(G*l-w)/w;W>V&&(W=V);var U,Y,X,Z=v,K=m,J=0,Q=0,ee=0,te=0,ie=0,re=0,ne=this.fillColorsR,oe=this.negativeFillColors,se=this.negativeLineColor,ae=this.fillAlphas,le=this.negativeFillAlphas;"object"==typeof ae&&(ae=ae[0]),"object"==typeof le&&(le=le[0]);var de=this.noRounding;"step"==a&&(de=!1);var ce=s.getCoordinate(s.min);if(s.logarithmic&&(ce=s.getCoordinate(s.minReal)),this.minCoord=ce,this.resetBullet&&(this.bullet="none"),!(E||"line"!=a&&"smoothedLine"!=a&&"step"!=a||(1==n.length&&"step"!=a&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!oe&&void 0==se||g))){var he=F;he>s.max&&(he=s.max),he<s.min&&(he=s.min),s.logarithmic&&(he=s.minReal);var ue=s.getCoordinate(he)+.5,fe=s.getCoordinate(s.max);y?(Z=v,K=Math.abs(fe-ue),ee=v,te=Math.abs(ce-ue),re=Q=0,s.reversed?(J=0,ie=ue):(J=ue,ie=0)):(K=m,Z=Math.abs(fe-ue),te=m,ee=Math.abs(ce-ue),ie=J=0,s.reversed?(re=b,Q=ue):re=ue)}var pe=Math.round;this.pmx=pe(J),this.pmy=pe(Q),this.pmh=pe(Z),this.pmw=pe(K),this.nmx=pe(ie),this.nmy=pe(re),this.nmh=pe(ee),this.nmw=pe(te),e.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),this.clustered||(w=1),1>(l="column"==a?(G*l-W*(w-1))/w:G*l)&&(l=1);var ge,me=this.fixedColumnWidth;if(isNaN(me)||(l=me),"line"==a||"step"==a||"smoothedLine"==a){if(0<_){for(ge=_-1;-1<ge;ge--)if(X=(Y=(U=n[ge]).axes[s.id].graphs[i]).values.value,!isNaN(X)){_=ge;break}if(this.lineColorField)for(ge=_;-1<ge;ge--)if((Y=(U=n[ge]).axes[s.id].graphs[i]).lineColor){this.lineColorSwitched=Y.lineColor,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched);break}if(this.fillColorsField)for(ge=_;-1<ge;ge--)if((Y=(U=n[ge]).axes[s.id].graphs[i]).fillColors){this.fillColorsSwitched=Y.fillColors;break}if(this.dashLengthField)for(ge=_;-1<ge;ge--)if(Y=(U=n[ge]).axes[s.id].graphs[i],!isNaN(Y.dashLength)){this.dashLengthSwitched=Y.dashLength;break}}if(M<n.length-1)for(ge=M+1;ge<n.length;ge++)if(X=(Y=(U=n[ge]).axes[s.id].graphs[i]).values.value,!isNaN(X)){M=ge;break}}M<n.length-1&&M++;var ve=[],be=[],ye=!1;"line"!=a&&"step"!=a&&"smoothedLine"!=a||(this.stackable&&"regular"==N||"100%"==N||this.fillToGraph)&&(ye=!0);var we=this.noStepRisers,xe=-1e3,Ce=-1e3,Se=this.minDistance,ke=!0,De=!1;for(ge=_;ge<=M;ge++){(Y=(U=n[ge]).axes[s.id].graphs[i]).index=ge;var Te,Ae=NaN;if(g&&void 0==this.openField)for(var Ne=ge+1;Ne<n.length&&(!n[Ne]||!(Te=n[ge+1].axes[s.id].graphs[i])||!Te.values||(Ae=Te.values.value,isNaN(Ae)));Ne++);var _e,Me,Ee,$e,Oe,Ie,Re=NaN,Fe=NaN,Le=NaN,je=NaN,Pe=NaN,ze=NaN,Be=NaN,He=NaN,qe=NaN,We=NaN,Ge=NaN,Ve=NaN,Ue=NaN,Ye=NaN,Xe=NaN,Ze=NaN,Ke=NaN,Je=void 0,Qe=ne,et=ae,tt=z,it=this.proCandlesticks,rt=this.topRadius,nt=v-1,ot=m-1,st=this.pattern;void 0!=Y.pattern&&(st=Y.pattern),isNaN(Y.alpha)||(et=Y.alpha),isNaN(Y.dashLength)||(B=Y.dashLength);var at=Y.values;if(s.recalculateToPercents&&(at=Y.percents),"none"==N&&(L=isNaN(Y.columnIndex)?this.columnIndex:Y.columnIndex),at){if(Ye=this.stackable&&"none"!=N&&"3d"!=N?at.close:at.value,"candlestick"!=a&&"ohlc"!=a||(Ye=at.close,Ze=at.low,Be=s.getCoordinate(Ze),Xe=at.high,qe=s.getCoordinate(Xe)),Ke=at.open,Le=s.getCoordinate(Ye,de),isNaN(Ke)||(Pe=s.getCoordinate(Ke,de),g&&"regular"!=N&&"100%"!=N&&(Ae=Ke,Ke=Pe=NaN)),g&&(void 0==this.openField?Te&&(Te.isNegative=Ae<Ye,isNaN(Ae)&&(Y.isNegative=!ke)):Y.isNegative=Ae>Ye),!E)switch(this.showBalloonAt){case"close":Y.y=Le;break;case"open":Y.y=Pe;break;case"high":Y.y=qe;break;case"low":Y.y=Be}Re=U.x[I.id];var lt=this.periodSpan-1;"step"!=a||isNaN(U.cellWidth)||(G=U.cellWidth);var dt=Math.floor(G/2)+Math.floor(lt*G/2),ct=dt;if("left"==this.stepDirection&&(Re-=(2*G+lt*G)/2),"center"==this.stepDirection&&(Re-=G/2),"start"==this.pointPosition&&(Re-=G/2+Math.floor(lt*G/2),dt=0,ct=Math.floor(G)+Math.floor(lt*G)),"end"==this.pointPosition&&(Re+=G/2+Math.floor(lt*G/2),dt=Math.floor(G)+Math.floor(lt*G),ct=0),we){var ht=this.columnWidth;isNaN(ht)||(dt*=ht,ct*=ht)}E||(Y.x=Re),-1e5>Re&&(Re=-1e5),Re>m+1e5&&(Re=m+1e5),y?(Fe=Le,je=Pe,Pe=Le=Re,isNaN(Ke)&&!this.fillToGraph&&(je=R),ze=Be,He=qe):(je=Fe=Re,isNaN(Ke)&&!this.fillToGraph&&(Pe=R)),(!it&&Ye<Ke||it&&Ye<O)&&(Y.isNegative=!0,oe&&(Qe=oe),le&&(et=le),void 0!=se&&(tt=se)),De=!1,isNaN(Ye)||(g?Ye>Ae?(ke&&(De=!0),ke=!1):(ke||(De=!0),ke=!0):Y.isNegative=Ye<F,O=Ye);var ut=!1;switch(E&&t.chartScrollbar.ignoreCustomColors&&(ut=!0),ut||(void 0!=Y.color&&(Qe=Y.color),Y.fillColors&&(Qe=Y.fillColors)),Le=e.fitToBounds(Le,-3e4,3e4),a){case"line":isNaN(Ye)?C||(this.drawLineGraph(S,k,ve,be),S=[],k=[],ve=[],be=[]):((Math.abs(Fe-xe)>=Se||Math.abs(Le-Ce)>=Se)&&(S.push(Fe),k.push(Le),xe=Fe,Ce=Le),We=Fe,Ge=Le,Ve=Fe,Ue=Le,!ye||isNaN(Pe)||isNaN(je)||(ve.push(je),be.push(Pe)),(De||void 0!=Y.lineColor&&Y.lineColor!=this.lineColorSwitched||void 0!=Y.fillColors&&Y.fillColors!=this.fillColorsSwitched||!isNaN(Y.dashLength))&&(this.drawLineGraph(S,k,ve,be),S=[Fe],k=[Le],ve=[],be=[],!ye||isNaN(Pe)||isNaN(je)||(ve.push(je),be.push(Pe)),g?(ke?(this.lineColorSwitched=z,this.fillColorsSwitched=ne):(this.lineColorSwitched=se,this.fillColorsSwitched=oe),void 0===this.bulletColor&&(this.bulletColorSwitched=z)):(this.lineColorSwitched=Y.lineColor,this.fillColorsSwitched=Y.fillColors,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched)),this.dashLengthSwitched=Y.dashLength),Y.gap&&(this.drawLineGraph(S,k,ve,be),S=[],k=[],ve=[],be=[],Ce=xe=-1e3));break;case"smoothedLine":isNaN(Ye)?C||(this.drawSmoothedGraph(S,k,ve,be),S=[],k=[],ve=[],be=[]):((Math.abs(Fe-xe)>=Se||Math.abs(Le-Ce)>=Se)&&(S.push(Fe),k.push(Le),xe=Fe,Ce=Le),We=Fe,Ge=Le,Ve=Fe,Ue=Le,!ye||isNaN(Pe)||isNaN(je)||(ve.push(je),be.push(Pe)),(De||void 0!=Y.lineColor&&Y.lineColor!=this.lineColorSwitched||void 0!=Y.fillColors&&Y.fillColors!=this.fillColorsSwitched||!isNaN(Y.dashLength))&&(this.drawSmoothedGraph(S,k,ve,be),S=[Fe],k=[Le],ve=[],be=[],!ye||isNaN(Pe)||isNaN(je)||(ve.push(je),be.push(Pe)),this.lineColorSwitched=Y.lineColor,this.fillColorsSwitched=Y.fillColors,this.dashLengthSwitched=Y.dashLength),Y.gap&&(this.drawSmoothedGraph(S,k,ve,be),S=[],k=[],ve=[],be=[]));break;case"step":if(isNaN(Ye))C||((1>=this.periodSpan||1<this.periodSpan&&Fe-c>dt+ct)&&(c=h=NaN),this.drawLineGraph(S,k,ve,be),S=[],k=[],ve=[],be=[]);else{if(y?(isNaN(c)||(S.push(c),k.push(Le-dt)),k.push(Le-dt),S.push(Fe),k.push(Le+ct),S.push(Fe),!ye||isNaN(Pe)||isNaN(je)||(isNaN(u)||(ve.push(u),be.push(Pe-dt)),ve.push(je),be.push(Pe-dt),ve.push(je),be.push(Pe+ct))):(isNaN(h)||(k.push(h),S.push(Fe-dt)),S.push(Fe-dt),k.push(Le),S.push(Fe+ct),k.push(Le),!ye||isNaN(Pe)||isNaN(je)||(isNaN(f)||(ve.push(je-dt),be.push(f)),ve.push(je-dt),be.push(Pe),ve.push(je+ct),be.push(Pe))),c=Fe,h=Le,u=je,f=Pe,We=Fe,Ge=Le,Ve=Fe,Ue=Le,De||void 0!=Y.lineColor||void 0!=Y.fillColors||!isNaN(Y.dashLength)){var ft=S[S.length-2],pt=k[k.length-2];S.pop(),k.pop(),ve.pop(),be.pop(),this.drawLineGraph(S,k,ve,be),S=[ft],k=[pt],ve=[],be=[],ye&&(ve=[ft,ft+dt+ct],be=[f,f]),y?(k.push(Le+ct),S.push(Fe)):(S.push(Fe+ct),k.push(Le)),this.lineColorSwitched=Y.lineColor,this.fillColorsSwitched=Y.fillColors,this.dashLengthSwitched=Y.dashLength,g&&(ke?(this.lineColorSwitched=z,this.fillColorsSwitched=ne):(this.lineColorSwitched=se,this.fillColorsSwitched=oe))}(we||Y.gap)&&(c=h=NaN,this.drawLineGraph(S,k,ve,be),S=[],k=[],ve=[],be=[])}break;case"column":if(Oe=tt,void 0!=Y.lineColor&&(Oe=Y.lineColor),!isNaN(Ye)){g||(Y.isNegative=Ye<F),Y.isNegative&&(oe&&(Qe=oe),void 0!=se&&(Oe=se));var gt,mt=s.min,vt=s.max,bt=Ke;if(isNaN(bt)&&(bt=F),!(Ye<mt&&bt<mt||Ye>vt&&bt>vt))if(y)"3d"==N?(Me=Le-(w/2-this.depthCount+1)*(l+W)+W/2+A*L,_e=je+T*L,gt=L):(Me=Math.floor(Le-(w/2-L)*(l+W)+W/2),_e=je,gt=0),We=Fe,Ge=Me+l/2,Ve=Fe,Ue=Me+l/2,Me+(Ee=l)>v+gt*A&&(Ee=v-Me+gt*A),Me<gt*A&&(Ee+=Me,Me=gt*A),$e=Fe-je,$e+=_e-(_e=e.fitToBounds(_e,0,m)),$e=e.fitToBounds($e,-_e,m-_e+T*L),Y.labelIsNegative=0>$e,0===$e&&1/Ye==-1/0&&(Y.labelIsNegative=!0),isNaN(U.percentWidthValue)||(Ge=(Me=Re-(Ee=this.height*U.percentWidthValue/100)/2)+Ee/2),Ee=e.roundTo(Ee,2),$e=e.roundTo($e,2),Me<v&&0<Ee&&(Je=new e.Cuboid(o,$e,Ee,T-t.d3x,A-t.d3y,Qe,et,j,Oe,P,q,x,y,B,st,rt,$),Y.columnWidth=Math.abs($e),Y.columnHeight=Math.abs(Ee));else"3d"==N?(_e=Fe-(w/2-this.depthCount+1)*(l+W)+W/2+T*L,Me=Pe+A*L,gt=L):(_e=Fe-(w/2-L)*(l+W)+W/2,Me=Pe,gt=0),We=_e+l/2,Ge=Le,Ve=_e+l/2,Ue=Le,_e+(Ee=l)>m+gt*T&&(Ee=m-_e+gt*T),_e<gt*T&&(Ee+=_e-gt*T,_e=gt*T),$e=Le-Pe,Y.labelIsNegative=0<$e,0===$e&&1/Ye!=1/Math.abs(Ye)&&(Y.labelIsNegative=!0),$e+=Me-(Me=e.fitToBounds(Me,this.dy,v)),$e=e.fitToBounds($e,A*gt-Me,v-Me),isNaN(U.percentWidthValue)||(We=(_e=Re-(Ee=this.width*U.percentWidthValue/100)/2)+Ee/2),Ee=e.roundTo(Ee,2),$e=e.roundTo($e,2),_e<m+L*T&&0<Ee&&(this.showOnAxis&&(Me-=A/2),Je=new e.Cuboid(o,Ee,$e,T-t.d3x,A-t.d3y,Qe,et,j,Oe,this.lineAlpha,q,x,y,B,st,rt,$),Y.columnHeight=Math.abs($e),Y.columnWidth=Math.abs(Ee));Je&&(Ie=Je.set,e.setCN(t,Je.set,"graph-"+this.type),e.setCN(t,Je.set,"graph-"+this.id),Y.className&&e.setCN(t,Je.set,Y.className,!0),Y.columnGraphics=Ie,_e=e.roundTo(_e,2),Me=e.roundTo(Me,2),Ie.translate(_e,Me),(Y.url||this.showHandOnHover)&&Ie.setAttr("cursor","pointer"),E||("none"==N&&(p=y?(this.end+1-ge)*D-r:D*ge+r),"3d"==N&&(y?(p=(this.end+1-ge)*D-r-1e3*this.depthCount,We+=T*L,Ve+=T*L,Y.y+=T*L):(p=(D-r)*(ge+1)+1e3*this.depthCount,Ge+=A*L,Ue+=A*L,Y.y+=A*L)),"regular"!=N&&"100%"!=N||(p=y?0<at.value?(this.end+1-ge)*D+r+1e3*this.depthCount:(this.end+1-ge)*D-r+1e3*this.depthCount:0<at.value?D*ge+r:D*ge-r),this.columnsArray.push({column:Je,depth:p}),Y.x=y?Me+Ee/2:_e+Ee/2,this.ownColumns.push(Je),this.animateColumns(Je,ge,Fe,je,Le,Pe),this.addListeners(Ie,Y),void 0!==this.tabIndex&&Ie.setAttr("tabindex",this.tabIndex)),this.columnsSet.push(Ie))}break;case"candlestick":if(!isNaN(Ke)&&!isNaN(Ye)){var yt,wt;if(Oe=tt,void 0!=Y.lineColor&&(Oe=Y.lineColor),We=Fe,Ue=Ge=Le,Ve=Fe,y){if("open"==d&&(Ve=je),"high"==d&&(Ve=He),"low"==d&&(Ve=ze),Fe=e.fitToBounds(Fe,0,ot),je=e.fitToBounds(je,0,ot),ze=e.fitToBounds(ze,0,ot),He=e.fitToBounds(He,0,ot),0===Fe&&0===je&&0===ze&&0===He)continue;if(Fe==ot&&je==ot&&ze==ot&&He==ot)continue;var xt,Ct;if(_e=je,(Me=Le-l/2)+(Ee=l)>v&&(Ee=v-Me),0>Me&&(Ee+=Me,Me=0),Me<v&&0<Ee)Ye>Ke?(xt=[Fe,He],Ct=[je,ze]):(xt=[je,He],Ct=[Fe,ze]),!isNaN(He)&&!isNaN(ze)&&Le<v&&0<Le&&(yt=e.line(o,xt,[Le,Le],Oe,P,j),wt=e.line(o,Ct,[Le,Le],Oe,P,j)),$e=Fe-je,Je=new e.Cuboid(o,$e,Ee,T,A,Qe,ae,j,Oe,P,q,x,y,B,st,rt,$)}else{if("open"==d&&(Ue=Pe),"high"==d&&(Ue=qe),"low"==d&&(Ue=Be),Le=e.fitToBounds(Le,0,nt),Pe=e.fitToBounds(Pe,0,nt),Be=e.fitToBounds(Be,0,nt),qe=e.fitToBounds(qe,0,nt),0===Le&&0===Pe&&0===Be&&0===qe)continue;if(Le==nt&&Pe==nt&&Be==nt&&qe==nt)continue;if(Me=Pe+j/2,(_e=Fe-l/2)+(Ee=l)>m&&(Ee=m-_e),0>_e&&(Ee+=_e,_e=0),$e=Le-Pe,_e<m&&0<Ee){it&&Ye>=Ke&&(et=0);var St,kt;Je=new e.Cuboid(o,Ee,$e,T,A,Qe,et,j,Oe,P,q,x,y,B,st,rt,$);Ye>Ke?(St=[Le,qe],kt=[Pe,Be]):(St=[Pe,qe],kt=[Le,Be]),!isNaN(qe)&&!isNaN(Be)&&Fe<m&&0<Fe&&(yt=e.line(o,[Fe,Fe],St,Oe,P,j),wt=e.line(o,[Fe,Fe],kt,Oe,P,j),e.setCN(t,yt,this.bcn+"line-high"),Y.className&&e.setCN(t,yt,Y.className,!0),e.setCN(t,wt,this.bcn+"line-low"),Y.className&&e.setCN(t,wt,Y.className,!0))}}Je&&(Ie=Je.set,Y.columnGraphics=Ie,H.push(Ie),Ie.translate(_e,Me-j/2),(Y.url||this.showHandOnHover)&&Ie.setAttr("cursor","pointer"),yt&&(H.push(yt),H.push(wt)),E||(Y.x=y?Me+Ee/2:_e+Ee/2,this.animateColumns(Je,ge,Fe,je,Le,Pe),this.addListeners(Ie,Y),void 0!==this.tabIndex&&Ie.setAttr("tabindex",this.tabIndex)))}break;case"ohlc":if(!(isNaN(Ke)||isNaN(Xe)||isNaN(Ze)||isNaN(Ye))){var Dt,Tt,At,Nt=o.set();if(H.push(Nt),Ye<Ke&&(Y.isNegative=!0,void 0!=se&&(tt=se)),void 0!=Y.lineColor&&(tt=Y.lineColor),y){if(Ue=Le,Ve=Fe,"open"==d&&(Ve=je),"high"==d&&(Ve=He),"low"==d&&(Ve=ze),ze=e.fitToBounds(ze,0,ot),He=e.fitToBounds(He,0,ot),0===Fe&&0===je&&0===ze&&0===He)continue;if(Fe==ot&&je==ot&&ze==ot&&He==ot)continue;var _t=Le-l/2,Mt=(_t=e.fitToBounds(_t,0,v),e.fitToBounds(Le,0,v)),Et=Le+l/2;Et=e.fitToBounds(Et,0,v);0<=je&&je<=ot&&(Tt=e.line(o,[je,je],[_t,Mt],tt,P,j,B)),0<Le&&Le<v&&(Dt=e.line(o,[ze,He],[Le,Le],tt,P,j,B)),0<=Fe&&Fe<=ot&&(At=e.line(o,[Fe,Fe],[Mt,Et],tt,P,j,B))}else{Ue=Le,"open"==d&&(Ue=Pe),"high"==d&&(Ue=qe),"low"==d&&(Ue=Be);Ve=Fe,Be=e.fitToBounds(Be,0,nt),qe=e.fitToBounds(qe,0,nt);var $t=Fe-l/2,Ot=($t=e.fitToBounds($t,0,m),e.fitToBounds(Fe,0,m)),It=Fe+l/2;It=e.fitToBounds(It,0,m);0<=Pe&&Pe<=nt&&(Tt=e.line(o,[$t,Ot],[Pe,Pe],tt,P,j,B)),0<Fe&&Fe<m&&(Dt=e.line(o,[Fe,Fe],[Be,qe],tt,P,j,B)),0<=Le&&Le<=nt&&(At=e.line(o,[Ot,It],[Le,Le],tt,P,j,B))}H.push(Tt),H.push(Dt),H.push(At),e.setCN(t,Tt,this.bcn+"stroke-open"),e.setCN(t,At,this.bcn+"stroke-close"),e.setCN(t,Dt,this.bcn+"stroke"),Y.className&&e.setCN(t,Nt,Y.className,!0),Dt&&this.addListeners(Dt,Y),At&&this.addListeners(At,Y),Tt&&this.addListeners(Tt,Y),We=Fe,Ge=Le}}if(!E&&!isNaN(Ye)){var Rt=this.hideBulletsCount;if(this.end-this.start<=Rt||0===Rt){var Ft=this.createBullet(Y,Ve,Ue,ge),Lt=this.labelText;if(Lt&&!isNaN(We)&&!isNaN(We)){var jt=this.createLabel(Y,Lt),Pt=0;Ft&&(Pt=Ft.size),this.positionLabel(Y,We,Ge,jt,Pt)}if("regular"==N||"100%"==N){var zt=s.totalText;if(zt){var Bt=this.createLabel(Y,zt,s.totalTextColor);if(e.setCN(t,Bt,this.bcn+"label-total"),this.allBullets.push(Bt),Bt){var Ht,qt,Wt=Bt.getBBox(),Gt=Wt.width,Vt=Wt.height,Ut=s.totalTextOffset,Yt=s.totals[ge];Yt&&Yt.remove();var Xt=0;"column"!=a&&(Xt=this.bulletSize),y?(qt=Ge,Ht=0>Ye?Fe-Gt/2-2-Xt-Ut:Fe+Gt/2+3+Xt+Ut):(Ht=We,qt=0>Ye?Le+Vt/2+Xt+Ut:Le-Vt/2-3-Xt-Ut),Bt.translate(Ht,qt),s.totals[ge]=Bt,y?(0>qt||qt>v)&&Bt.remove():(0>Ht||Ht>m)&&Bt.remove()}}}}}}}this.lastDataItem=Y,"line"!=a&&"step"!=a&&"smoothedLine"!=a||("smoothedLine"==a?this.drawSmoothedGraph(S,k,ve,be):this.drawLineGraph(S,k,ve,be),E||this.launchAnimation()),this.bulletsHidden&&this.hideBullets(),this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(e,t){var i=this,r=i.chart.startDuration;0<r&&!i.animationPlayed&&(i.seqAn?(e.set.hide(),i.animationArray.push(e),r=setTimeout(function(){i.animate.call(i)},r/(i.end-i.start+1)*(t-i.start)*1e3),i.timeOuts.push(r)):i.animate(e),i.chart.animatable.push(e))},createLabel:function(t,i,r){var n=this.chart,o=t.labelColor;o||(o=this.color),o||(o=n.color),r&&(o=r),void 0===(r=this.fontSize)&&(this.fontSize=r=n.fontSize);var s=this.labelFunction;if(i=n.formatString(i,t),i=e.cleanFromEmpty(i),s&&(i=s(t,i)),void 0!==i&&""!==i)return(t=e.text(this.container,i,o,n.fontFamily,r)).node.style.pointerEvents="none",e.setCN(n,t,this.bcn+"label"),this.bulletSet.push(t),t},positiveClip:function(e){e.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(e){e.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(t,i,r,n){var o=this;if(1<t.length){var s=o.noRounding,a=o.set,l=o.chart,d=o.container,c=d.set(),h=d.set();a.push(h),a.push(c);var u=o.lineAlpha,f=o.lineThickness,p=(a=o.fillAlphas,o.lineColorR),g=o.negativeLineAlpha;isNaN(g)&&(g=u),(m=o.lineColorSwitched)&&(p=m);var m=o.fillColorsR;(b=o.fillColorsSwitched)&&(m=b);var v=o.dashLength;(b=o.dashLengthSwitched)&&(v=b);var b=o.negativeLineColor,y=o.negativeFillColors,w=o.negativeFillAlphas,x=o.baseCoord;0!==o.negativeBase&&((x=o.valueAxis.getCoordinate(o.negativeBase,s))>o.height&&(x=o.height),0>x&&(x=0)),(u=e.line(d,t,i,p,u,f,v,!1,!1,s)).node.setAttribute("stroke-linejoin","round"),e.setCN(l,u,o.bcn+"stroke"),c.push(u),c.click(function(e){o.handleGraphEvent(e,"clickGraph")}).mouseover(function(e){o.handleGraphEvent(e,"rollOverGraph")}).mouseout(function(e){o.handleGraphEvent(e,"rollOutGraph")}).touchmove(function(e){o.chart.handleMouseMove(e)}).touchend(function(e){o.chart.handleTouchEnd(e)}),void 0===b||o.useNegativeColorIfDown||((f=e.line(d,t,i,b,g,f,v,!1,!1,s)).node.setAttribute("stroke-linejoin","round"),e.setCN(l,f,o.bcn+"stroke"),e.setCN(l,f,o.bcn+"stroke-negative"),h.push(f)),(0<a||0<w)&&(f=t.join(";").split(";"),g=i.join(";").split(";"),"serial"==(u=l.type)||"radar"==u?0<r.length?(r.reverse(),n.reverse(),f=t.concat(r),g=i.concat(n)):"radar"==u?(g.push(0),f.push(0)):o.rotate?(g.push(g[g.length-1]),f.push(x),g.push(g[0]),f.push(x),g.push(g[0]),f.push(f[0])):(f.push(f[f.length-1]),g.push(x),f.push(f[0]),g.push(x),f.push(t[0]),g.push(g[0])):"xy"==u&&(i=o.fillToAxis)&&(e.isString(i)&&(i=l.getValueAxisById(i)),"H"==i.orientation?(x="top"==i.position?0:i.height,f.push(f[f.length-1]),g.push(x),f.push(f[0]),g.push(x),f.push(t[0]),g.push(g[0])):(x="left"==i.position?0:i.width,g.push(g[g.length-1]),f.push(x),g.push(g[0]),f.push(x),g.push(g[0]),f.push(f[0]))),t=o.gradientRotation,0<a&&((i=e.polygon(d,f,g,m,a,1,"#000",0,t,s)).pattern(o.pattern,NaN,l.path),e.setCN(l,i,o.bcn+"fill"),c.push(i),i.toBack()),(y||void 0!==b)&&(isNaN(w)&&(w=a),y||(y=b),s=e.polygon(d,f,g,y,w,1,"#000",0,t,s),e.setCN(l,s,o.bcn+"fill"),e.setCN(l,s,o.bcn+"fill-negative"),s.pattern(o.pattern,NaN,l.path),h.push(s),s.toBack(),h.click(function(e){o.handleGraphEvent(e,"clickGraph")}).mouseover(function(e){o.handleGraphEvent(e,"rollOverGraph")}).mouseout(function(e){o.handleGraphEvent(e,"rollOutGraph")}).touchmove(function(e){o.chart.handleMouseMove(e)}).touchend(function(e){o.chart.handleTouchEnd(e)}))),o.applyMask(h,c)}},applyMask:function(e,t){var i=e.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(t),0<i&&this.negativeClip(e))},drawSmoothedGraph:function(t,i,r,n){if(1<t.length){var o=this.set,s=this.chart,a=this.container,l=a.set(),d=a.set();o.push(d),o.push(l);var c=this.lineAlpha,h=this.lineThickness,u=(o=this.dashLength,this.fillAlphas),f=this.lineColorR,p=this.fillColorsR,g=this.negativeLineColor,m=this.negativeFillColors,v=this.negativeFillAlphas,b=this.baseCoord,y=this.lineColorSwitched;y&&(f=y),(y=this.fillColorsSwitched)&&(p=y);var w=this.negativeLineAlpha;isNaN(w)&&(w=c),y=this.getGradRotation(),c=new e.Bezier(a,t,i,f,c,h,p,0,o,void 0,y),e.setCN(s,c,this.bcn+"stroke"),l.push(c.path),void 0!==g&&(h=new e.Bezier(a,t,i,g,w,h,p,0,o,void 0,y),e.setCN(s,h,this.bcn+"stroke"),e.setCN(s,h,this.bcn+"stroke-negative"),d.push(h.path)),0<u&&(h=t.join(";").split(";"),c=i.join(";").split(";"),f="",0<r.length?(r.push("M"),n.push("M"),r.reverse(),n.reverse(),h=t.concat(r),c=i.concat(n)):(this.rotate?(f+=" L"+b+","+i[i.length-1],f+=" L"+b+","+i[0]):(f+=" L"+t[t.length-1]+","+b,f+=" L"+t[0]+","+b),f+=" L"+t[0]+","+i[0]),t=new e.Bezier(a,h,c,NaN,0,0,p,u,o,f,y),e.setCN(s,t,this.bcn+"fill"),t.path.pattern(this.pattern,NaN,s.path),l.push(t.path),m||void 0!==g)&&(v||(v=u),m||(m=g),(a=new e.Bezier(a,h,c,NaN,0,0,m,v,o,f,y)).path.pattern(this.pattern,NaN,s.path),e.setCN(s,a,this.bcn+"fill"),e.setCN(s,a,this.bcn+"fill-negative"),d.push(a.path)),this.applyMask(d,l)}},launchAnimation:function(){var t=this,i=t.chart.startDuration;if(0<i&&!t.animationPlayed){var r=t.set,n=t.bulletSet;e.VML||(r.attr({opacity:t.startAlpha}),n.attr({opacity:t.startAlpha})),r.hide(),n.hide(),t.seqAn?(i=setTimeout(function(){t.animateGraphs.call(t)},t.index*i*1e3),t.timeOuts.push(i)):t.animateGraphs()}},animateGraphs:function(){var e=this.chart,t=this.set,i=this.bulletSet,r=this.x,n=this.y;t.show(),i.show();var o=e.startDuration,s=e.startEffect;t&&(this.rotate?(t.translate(-1e3,n),i.translate(-1e3,n)):(t.translate(r,-1e3),i.translate(r,-1e3)),t.animate({opacity:1,translate:r+","+n},o,s),i.animate({opacity:1,translate:r+","+n},o,s),e.animatable.push(t))},animate:function(t){var i=this.chart,r=this.animationArray;!t&&0<r.length&&(t=r[0],r.shift()),r=e[e.getEffect(i.startEffect)],i=i.startDuration,t&&(this.rotate?t.animateWidth(i,r):t.animateHeight(i,r),t.set.show())},legendKeyColor:function(){var e=this.legendColor,t=this.lineAlpha;return void 0===e&&(e=this.lineColorR,0===t&&(t=this.fillColorsR)&&(e="object"==typeof t?t[0]:t)),e},legendKeyAlpha:function(){var e=this.legendAlpha;return void 0===e&&(e=this.lineAlpha,this.fillAlphas>e&&(e=this.fillAlphas),0===e&&(e=this.bulletAlpha),0===e&&(e=1)),e},createBullet:function(t,i,r){if(!isNaN(i)&&!isNaN(r)&&("none"!=this.bullet||this.customBullet||t.bullet||t.customBullet)){var n=this.chart,o=this.container,s=this.bulletOffset,a=this.bulletSize;isNaN(t.bulletSize)||(a=t.bulletSize);var l,d=t.values.value,c=this.maxValue,h=this.minValue,u=this.maxBulletSize,f=this.minBulletSize;isNaN(c)||(isNaN(d)||(a=(d-h)/(c-h)*(u-f)+f),h==c&&(a=u)),c=a,this.bulletAxis&&(a=t.values.error,isNaN(a)||(d=a),a=this.bulletAxis.stepWidth*d),a<this.minBulletSize&&(a=this.minBulletSize),this.rotate?i=t.isNegative?i-s:i+s:r=t.isNegative?r+s:r-s,f=this.bulletColorR,t.lineColor&&void 0===this.bulletColor&&(this.bulletColorSwitched=t.lineColor),this.bulletColorSwitched&&(f=this.bulletColorSwitched),t.isNegative&&void 0!==this.bulletColorNegative&&(f=this.bulletColorNegative),void 0!==t.color&&(f=t.color),"xy"==n.type&&this.valueField&&(l=this.pattern,t.pattern&&(l=t.pattern)),s=this.bullet,t.bullet&&(s=t.bullet);d=this.bulletBorderThickness,h=this.bulletBorderColorR,u=this.bulletBorderAlpha;var p=this.bulletAlpha;h||(h=f),this.useLineColorForBulletBorder&&(h=this.lineColorR,t.isNegative&&this.negativeLineColor&&(h=this.negativeLineColor),this.lineColorSwitched&&(h=this.lineColorSwitched));var g=t.alpha;return isNaN(g)||(p=g),l=e.bullet(o,s,a,f,p,d,h,u,c,0,l,n.path),c=this.customBullet,t.customBullet&&(c=t.customBullet),c&&(l&&l.remove(),"function"==typeof c?((c=new c).chart=n,t.bulletConfig&&(c.availableSpace=r,c.graph=this,c.graphDataItem=t,c.bulletY=r,t.bulletConfig.minCoord=this.minCoord-r,c.bulletConfig=t.bulletConfig),c.write(o),l&&c.showBullet&&c.set.push(l),t.customBulletGraphics=c.cset,l=c.set):(l=o.set(),c=o.image(c,0,0,a,a),l.push(c),this.centerCustomBullets&&c.translate(-a/2,-a/2))),l&&((t.url||this.showHandOnHover)&&l.setAttr("cursor","pointer"),"serial"!=n.type&&"gantt"!=n.type||(-.5>i||i>this.width||r<-a/2||r>this.height)&&(l.remove(),l=null),l&&(this.bulletSet.push(l),l.translate(i,r),this.addListeners(l,t),this.allBullets.push(l)),t.bx=i,t.by=r,e.setCN(n,l,this.bcn+"bullet"),t.className&&e.setCN(n,l,t.className,!0)),l?(l.size=a||0,(n=this.bulletHitAreaSize)&&((o=e.circle(o,n,"#FFFFFF",.001,0)).translate(i,r),t.hitBullet=o,this.bulletSet.push(o),this.addListeners(o,t)),t.bulletGraphics=l,void 0!==this.tabIndex&&l.setAttr("tabindex",this.tabIndex)):l={size:0},l.graphDataItem=t,l}},showBullets:function(){var e,t=this.allBullets;for(this.bulletsHidden=!1,e=0;e<t.length;e++)t[e].show()},hideBullets:function(){var e,t=this.allBullets;for(this.bulletsHidden=!0,e=0;e<t.length;e++)t[e].hide()},showCustomBullets:function(){var e,t=this.allBullets;for(this.customBulletsHidden=!1,e=0;e<t.length;e++){var i=t[e].graphDataItem;i&&i.customBulletGraphics&&i.customBulletGraphics.show()}},hideCustomBullets:function(){var e,t=this.allBullets;for(this.customBulletsHidden=!0,e=0;e<t.length;e++){var i=t[e].graphDataItem;i&&i.customBulletGraphics&&i.customBulletGraphics.hide()}},addListeners:function(e,t){var i=this;e.mouseover(function(e){i.handleRollOver(t,e)}).mouseout(function(e){i.handleRollOut(t,e)}).touchend(function(e){i.handleRollOver(t,e),i.chart.panEventsEnabled&&i.handleClick(t,e)}).touchstart(function(e){i.handleRollOver(t,e)}).click(function(e){i.handleClick(t,e)}).dblclick(function(e){i.handleDoubleClick(t,e)}).contextmenu(function(e){i.handleRightClick(t,e)});var r=i.chart;if(r.accessible&&i.accessibleLabel){var n=r.formatString(i.accessibleLabel,t);r.makeAccessible(e,n)}},handleRollOver:function(e,t){if(this.handleGraphEvent(t,"rollOverGraph"),e){var i=this.chart;e.bulletConfig&&(i.isRolledOverBullet=!0);var r={type:"rollOverGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire(r),i.fire(r),clearTimeout(i.hoverInt),(i=i.chartCursor)&&i.valueBalloonsEnabled||this.showGraphBalloon(e,"V",!0)}},handleRollOut:function(e,t){var i=this.chart;if(e){var r={type:"rollOutGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire(r),i.fire(r),i.isRolledOverBullet=!1}this.handleGraphEvent(t,"rollOutGraph"),(i=i.chartCursor)&&i.valueBalloonsEnabled||this.hideBalloon()},handleClick:function(t,i){if(!this.chart.checkTouchMoved()&&this.chart.checkTouchDuration(i)){if(t){var r={type:"clickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:i};this.fire(r),this.chart.fire(r),e.getURL(t.url,this.urlTarget)}this.handleGraphEvent(i,"clickGraph")}},handleGraphEvent:function(e,t){var i={type:t,graph:this,target:this,chart:this.chart,event:e};this.fire(i),this.chart.fire(i)},handleRightClick:function(e,t){if(e){var i={type:"rightClickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire(i),this.chart.fire(i)}},handleDoubleClick:function(e,t){if(e){var i={type:"doubleClickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire(i),this.chart.fire(i)}},zoom:function(e,t){this.start=e,this.end=t,this.draw()},changeOpacity:function(e){var t,i=this.set;if(i&&i.setAttr("opacity",e),i=this.ownColumns)for(t=0;t<i.length;t++){var r=i[t].set;r&&r.setAttr("opacity",e)}(i=this.bulletSet)&&i.setAttr("opacity",e)},destroy:function(){e.remove(this.set),e.remove(this.bulletSet);var t,i=this.timeOuts;if(i)for(t=0;t<i.length;t++)clearTimeout(i[t]);this.timeOuts=[]},createBalloon:function(){var t=this.chart;this.balloon?this.balloon.destroy&&this.balloon.destroy():this.balloon={};var i=this.balloon;e.extend(i,t.balloon,!0),i.chart=t,i.mainSet=t.plotBalloonsSet,i.className=this.id},hideBalloon:function(){var e=this,t=e.chart;t.chartCursor&&t.chartCursor.valueBalloonsEnabled||t.hideBalloon(),clearTimeout(e.hoverInt),e.hoverInt=setTimeout(function(){e.hideBalloonReal.call(e)},t.hideBalloonTime)},hideBalloonReal:function(){this.balloon&&this.balloon.hide(),this.fixBulletSize()},fixBulletSize:function(){if(e.isModern){var t=this.resizedDItem;if(t){var i=t.bulletGraphics;if(i&&!i.doNotScale){i.translate(t.bx,t.by,1);var r=this.bulletAlpha;isNaN(t.alpha)||(r=t.alpha),i.setAttr("fill-opacity",r),i.setAttr("stroke-opacity",this.bulletBorderAlpha)}}this.resizedDItem=null}},showGraphBalloon:function(t,i,r,n,o){if(t){var s=this.chart,a=this.balloon,l=0,d=0,c=!0;if((h=s.chartCursor)&&h.valueBalloonsEnabled||(a=s.balloon,l=this.x,d=this.y,c=!1),clearTimeout(this.hoverInt),s.chartCursor&&(this.currentDataItem=t,"serial"==s.type&&s.isRolledOverBullet&&s.chartCursor.valueBalloonsEnabled))return void this.hideBalloonReal();if(this.resizeBullet(t,n,o),a&&a.enabled&&this.showBalloon&&!this.hidden){var h=s.formatString(this.balloonText,t,!0),u=this.balloonFunction;u&&(h=u(t,t.graph)),h&&(h=e.cleanFromEmpty(h)),h&&""!==h?(n=s.getBalloonColor(this,t),a.drop||(a.pointerOrientation=i),i=t.x,o=t.y,s.rotate&&(i=t.y,o=t.x),i+=l,o+=d,isNaN(i)||isNaN(o)?this.hideBalloonReal():(t=this.width,u=this.height,c&&a.setBounds(l,d,t+l,u+d),a.changeColor(n),a.setPosition(i,o),a.fixPrevious(),a.fixedPosition&&(r=!1),!r&&"radar"!=s.type&&(i<l-.5||i>t+l||o<d-.5||o>u+d)?(a.showBalloon(h),a.hide(0)):(a.followCursor(r),a.showBalloon(h)))):(this.hideBalloonReal(),a.hide(),this.resizeBullet(t,n,o))}else this.hideBalloonReal()}},resizeBullet:function(t,i,r){if(this.fixBulletSize(),t&&e.isModern&&(1!=i||!isNaN(r))){var n=t.bulletGraphics;n&&!n.doNotScale&&(n.translate(t.bx,t.by,i),isNaN(r)||(n.setAttr("fill-opacity",r),n.setAttr("stroke-opacity",r)),this.resizedDItem=t)}}})}(),function(){var e=window.AmCharts;e.ChartCursor=e.Class({construct:function(t){this.cname="ChartCursor",this.createEvents("changed","zoomed","onHideCursor","onShowCursor","draw","selected","moved","panning","zoomStarted"),this.enabled=!0,this.cursorAlpha=1,this.selectionAlpha=.2,this.cursorColor="#CC0000",this.categoryBalloonAlpha=1,this.color="#FFFFFF",this.type="cursor",this.zoomed=!1,this.zoomable=!0,this.pan=!1,this.categoryBalloonDateFormat="MMM DD, YYYY",this.categoryBalloonText="[[category]]",this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0,this.rolledOver=!1,this.cursorPosition="middle",this.bulletsEnabled=this.skipZoomDispatch=!1,this.bulletSize=8,this.selectWithoutZooming=this.oneBalloonOnly=!1,this.graphBulletSize=1.7,this.animationDuration=.3,this.zooming=!1,this.adjustment=0,this.avoidBalloonOverlapping=!0,this.leaveCursor=!1,this.leaveAfterTouch=!0,this.valueZoomable=!1,this.balloonPointerOrientation="horizontal",this.hLineEnabled=this.vLineEnabled=!0,this.vZoomEnabled=this.hZoomEnabled=!1,e.applyTheme(this,t,this.cname)},draw:function(){this.destroy();var t=this.chart;t.panRequired=!0;var i=t.container;this.rotate=t.rotate,this.container=i,this.prevLineHeight=this.prevLineWidth=NaN,(i=i.set()).translate(this.x,this.y),this.set=i,t.cursorSet.push(i),this.createElements(),e.isString(this.limitToGraph)&&(this.limitToGraph=e.getObjById(t.graphs,this.limitToGraph),this.fullWidth=!1,this.cursorPosition="middle"),this.pointer=this.balloonPointerOrientation.substr(0,1).toUpperCase(),this.isHidden=!1,this.hideLines(),this.valueLineAxis||(this.valueLineAxis=t.valueAxes[0])},createElements:function(){var t,i,r=this,n=r.chart,o=n.dx,s=n.dy,a=r.width,l=r.height,d=r.cursorAlpha,c=r.valueLineAlpha;r.rotate?(t=c,i=d):(i=c,t=d),"xy"==n.type&&(i=d,void 0!==c&&(i=c),t=d),r.vvLine=e.line(r.container,[o,0,0],[s,0,l],r.cursorColor,t,1),e.setCN(n,r.vvLine,"cursor-line"),e.setCN(n,r.vvLine,"cursor-line-vertical"),r.hhLine=e.line(r.container,[0,a,a+o],[0,0,s],r.cursorColor,i,1),e.setCN(n,r.hhLine,"cursor-line"),e.setCN(n,r.hhLine,"cursor-line-horizontal"),r.vLine=r.rotate?r.vvLine:r.hhLine,r.set.push(r.vvLine),r.set.push(r.hhLine),r.set.node.style.pointerEvents="none",r.fullLines=r.container.set(),(n=n.cursorLineSet).push(r.fullLines),n.translate(r.x,r.y),n.clipRect(-1,-1,a+2,l+2),void 0!==r.tabIndex&&(n.setAttr("tabindex",r.tabIndex),n.keyup(function(e){r.handleKeys(e)}).focus(function(e){r.showCursor()}).blur(function(e){r.hideCursor()})),r.set.clipRect(0,0,a,l)},handleKeys:function(t){var i=this.prevIndex,r=this.chart;if(r){var n=r.chartData;n&&(isNaN(i)&&(i=n.length-1),37!=t.keyCode&&40!=t.keyCode||i--,39!=t.keyCode&&38!=t.keyCode||i++,i=e.fitToBounds(i,r.startIndex,r.endIndex),(t=this.chart.chartData[i])&&this.setPosition(t.x.categoryAxis),this.prevIndex=i)}},update:function(){var e=this.chart;if(e){var t,i=e.mouseX-this.x,r=e.mouseY-this.y;if(this.mouseX=i,this.mouseY=r,this.mouse2X=e.mouse2X-this.x,this.mouse2Y=e.mouse2Y-this.y,e.chartData&&0<e.chartData.length){if(this.mouseIsOver()?(this.hideGraphBalloons=!1,this.rolledOver=t=!0,this.updateDrawing(),this.vvLine&&isNaN(this.fx)&&(e.rotate||!this.limitToGraph)&&this.vvLine.translate(i,0),!this.hhLine||!isNaN(this.fy)||e.rotate&&this.limitToGraph||this.hhLine.translate(0,r),isNaN(this.mouse2X)?this.dispatchMovedEvent(i,r):t=!1):this.forceShow||this.hideCursor(),this.zooming){if(!isNaN(this.mouse2X))return void(isNaN(this.mouse2X0)||this.dispatchPanEvent());if(this.pan)return void this.dispatchPanEvent();(this.hZoomEnabled||this.vZoomEnabled)&&this.zooming&&this.updateSelection()}t&&this.showCursor()}}},updateDrawing:function(){if(this.drawing&&this.chart.setMouseCursor("crosshair"),this.drawingNow&&(e.remove(this.drawingLine),1<Math.abs(this.drawStartX-this.mouseX)||1<Math.abs(this.drawStartY-this.mouseY))){var t=(i=this.chart).marginTop,i=i.marginLeft;this.drawingLine=e.line(this.container,[this.drawStartX+i,this.mouseX+i],[this.drawStartY+t,this.mouseY+t],this.cursorColor,1,1)}},fixWidth:function(t){if(this.fullWidth&&this.prevLineWidth!=t){var i=this.vvLine,r=0;i&&(i.remove(),r=i.x),(i=this.container.set()).translate(r,0),r=e.rect(this.container,t,this.height,this.cursorColor,this.cursorAlpha,this.cursorAlpha,this.cursorColor),e.setCN(this.chart,r,"cursor-fill"),r.translate(-t/2-1,0),i.push(r),this.vvLine=i,this.fullLines.push(i),this.prevLineWidth=t}},fixHeight:function(t){if(this.fullWidth&&this.prevLineHeight!=t){var i=this.hhLine,r=0;i&&(i.remove(),r=i.y),(i=this.container.set()).translate(0,r),(r=e.rect(this.container,this.width,t,this.cursorColor,this.cursorAlpha)).translate(0,-t/2),i.push(r),this.fullLines.push(i),this.hhLine=i,this.prevLineHeight=t}},fixVLine:function(e,t){if(!isNaN(e)&&this.vvLine){if(isNaN(this.prevLineX)){var i=0,r=this.mouseX;if(this.limitToGraph){var n=this.chart.categoryAxis;n&&(this.chart.rotate||(i="bottom"==n.position?this.height:-this.height),r=e)}this.vvLine.translate(r,i)}else this.prevLineX!=e&&this.vvLine.translate(this.prevLineX,this.prevLineY);this.fx=e,this.prevLineX!=e&&(i=this.animationDuration,this.zooming&&(i=0),this.vvLine.stop(),this.vvLine.animate({translate:e+","+t},i,"easeOutSine"),this.prevLineX=e,this.prevLineY=t)}},fixHLine:function(e,t){if(!isNaN(e)&&this.hhLine){if(isNaN(this.prevLineY)){var i=0,r=this.mouseY;if(this.limitToGraph){var n=this.chart.categoryAxis;n&&(this.chart.rotate&&(i="right"==n.position?this.width:-this.width),r=e)}this.hhLine.translate(i,r)}else this.prevLineY!=e&&this.hhLine.translate(this.prevLineX,this.prevLineY);this.fy=e,this.prevLineY!=e&&(i=this.animationDuration,this.zooming&&(i=0),this.hhLine.stop(),this.hhLine.animate({translate:t+","+e},i,"easeOutSine"),this.prevLineY=e,this.prevLineX=t)}},hideCursor:function(e){this.forceShow=!1,this.chart.wasTouched&&this.leaveAfterTouch||this.isHidden||this.leaveCursor||(this.hideCursorReal(),e?this.chart.handleCursorHide():this.fire({target:this,chart:this.chart,type:"onHideCursor"}),this.chart.setMouseCursor("auto"))},hideCursorReal:function(){this.hideLines(),this.isHidden=!0,this.index=this.prevLineY=this.prevLineX=this.mouseY0=this.mouseX0=this.fy=this.fx=NaN},hideLines:function(){this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.hide(),this.fullLines&&this.fullLines.hide(),this.isHidden=!0,this.chart.handleCursorHide()},showCursor:function(e){!this.drawing&&this.enabled&&(this.vLineEnabled&&this.vvLine&&this.vvLine.show(),this.hLineEnabled&&this.hhLine&&this.hhLine.show(),this.isHidden=!1,this.updateFullLine(),e||this.fire({target:this,chart:this.chart,type:"onShowCursor"}),this.pan&&this.chart.setMouseCursor("move"))},updateFullLine:function(){this.zooming&&this.fullWidth&&this.selection&&(this.rotate?0<this.selection.height&&this.hhLine.hide():0<this.selection.width&&this.vvLine.hide())},updateSelection:function(){if(!this.pan&&this.enabled){var t=this.mouseX,i=this.mouseY;isNaN(this.fx)||(t=this.fx),isNaN(this.fy)||(i=this.fy),this.clearSelection();var r,n=this.mouseX0,o=this.mouseY0,s=this.width,a=this.height;t=e.fitToBounds(t,0,s),i=e.fitToBounds(i,0,a);t<n&&(r=t,t=n,n=r),i<o&&(r=i,i=o,o=r),this.hZoomEnabled?s=t-n:n=0,this.vZoomEnabled?a=i-o:o=0,isNaN(this.mouse2X)&&0<Math.abs(s)&&0<Math.abs(a)&&(t=this.chart,i=e.rect(this.container,s,a,this.cursorColor,this.selectionAlpha),e.setCN(t,i,"cursor-selection"),i.width=s,i.height=a,i.translate(n,o),this.set.push(i),this.selection=i),this.updateFullLine()}},mouseIsOver:function(){var e=this.mouseX,t=this.mouseY;return this.justReleased?(this.justReleased=!1,!0):!!this.mouseIsDown||(this.chart.mouseIsOver&&0<e&&e<this.width&&0<t&&t<this.height||(this.handleMouseOut(),!1))},fixPosition:function(){this.prevY=this.prevX=NaN},handleMouseDown:function(){if(this.update(),this.mouseIsOver())if(this.mouseIsDown=!0,this.mouseX0=this.mouseX,this.mouseY0=this.mouseY,this.mouse2X0=this.mouse2X,this.mouse2Y0=this.mouse2Y,this.drawing)this.drawStartY=this.mouseY,this.drawStartX=this.mouseX,this.drawingNow=!0;else if(this.dispatchMovedEvent(this.mouseX,this.mouseY),!this.pan&&isNaN(this.mouse2X0)&&(isNaN(this.fx)||(this.mouseX0=this.fx),isNaN(this.fy)||(this.mouseY0=this.fy)),this.hZoomEnabled||this.vZoomEnabled){this.zooming=!0;var e={chart:this.chart,target:this,type:"zoomStarted"};e.x=this.mouseX/this.width,e.y=this.mouseY/this.height,this.index0=e.index=this.index,this.timestamp0=this.timestamp,this.fire(e)}},registerInitialMouse:function(){},handleReleaseOutside:function(){if(this.mouseIsDown=!1,this.drawingNow){this.drawingNow=!1,e.remove(this.drawingLine);var t=this.drawStartX,i=this.drawStartY,r=this.mouseX,n=this.mouseY,o=this.chart;(2<Math.abs(t-r)||2<Math.abs(i-n))&&this.fire({type:"draw",target:this,chart:o,initialX:t,initialY:i,finalX:r,finalY:n})}this.zooming&&(this.zooming=!1,this.selectWithoutZooming?this.dispatchZoomEvent("selected"):(this.hZoomEnabled||this.vZoomEnabled)&&this.dispatchZoomEvent("zoomed"),this.rolledOver&&this.dispatchMovedEvent(this.mouseX,this.mouseY)),this.mouse2Y0=this.mouse2X0=this.mouseY0=this.mouseX0=NaN},dispatchZoomEvent:function(e){if(!this.pan&&((d=this.selection)&&3<Math.abs(d.width)&&3<Math.abs(d.height))){var t=Math.min(this.index,this.index0),i=Math.max(this.index,this.index0),r=t,n=i,o=this.chart,s=o.chartData,a=o.categoryAxis;a&&a.parseDates&&!a.equalSpacing&&(r=s[t]?s[t].time:Math.min(this.timestamp0,this.timestamp),n=s[i]?o.getEndTime(s[i].time):Math.max(this.timestamp0,this.timestamp));var l,d={type:e,chart:this.chart,target:this,end:n,start:r,startIndex:t,endIndex:i,selectionHeight:d.height,selectionWidth:d.width,selectionY:d.y,selectionX:d.x};this.hZoomEnabled&&4<Math.abs(this.mouseX0-this.mouseX)&&(d.startX=this.mouseX0/this.width,d.endX=this.mouseX/this.width,l=!0),this.vZoomEnabled&&4<Math.abs(this.mouseY0-this.mouseY)&&(d.startY=1-this.mouseY0/this.height,d.endY=1-this.mouseY/this.height,l=!0),l&&(this.prevY=this.prevX=NaN,this.fire(d),"selected"!=e&&this.clearSelection()),this.hideCursor()}},dispatchMovedEvent:function(e,t,i,r){if(e=Math.round(e),t=Math.round(t),!this.isHidden&&(e!=this.prevX||t!=this.prevY||"changed"==i)){i||(i="moved");var n=this.fx,o=this.fy;isNaN(n)&&(n=e),isNaN(o)&&(o=t);var s=!1;this.zooming&&this.pan&&(s=!0),s={hidden:this.isHidden,type:i,chart:this.chart,target:this,x:e,y:t,finalX:n,finalY:o,zooming:this.zooming,panning:s,mostCloseGraph:this.mostCloseGraph,index:this.index,skip:r,hideBalloons:this.hideGraphBalloons},this.prevIndex=this.index,this.rotate?(s.position=t,s.finalPosition=o):(s.position=e,s.finalPosition=n),this.prevX=e,this.prevY=t,r?this.chart.handleCursorMove(s):(this.fire(s),"changed"==i&&this.chart.fire(s))}},dispatchPanEvent:function(){if(this.mouseIsDown){var t=e.roundTo((this.mouseX-this.mouseX0)/this.width,3),i=e.roundTo((this.mouseY-this.mouseY0)/this.height,3),r=e.roundTo((this.mouse2X-this.mouse2X0)/this.width,3),n=e.roundTo((this.mouse2Y-this.mouse2Y0)/this.height,2),o=!1;0!==Math.abs(t)&&0!==Math.abs(i)&&(o=!0),this.prevDeltaX!=t&&this.prevDeltaY!=i||(o=!1),isNaN(r)||isNaN(n)||(0!==Math.abs(r)&&0!==Math.abs(n)&&(o=!0),this.prevDelta2X!=r&&this.prevDelta2Y!=n)||(o=!1),o&&(this.hideLines(),this.fire({type:"panning",chart:this.chart,target:this,deltaX:t,deltaY:i,delta2X:r,delta2Y:n,index:this.index}),this.prevDeltaX=t,this.prevDeltaY=i,this.prevDelta2X=r,this.prevDelta2Y=n)}},clearSelection:function(){var e=this.selection;e&&(e.width=0,e.height=0,e.remove())},destroy:function(){this.clear(),e.remove(this.selection),this.selection=null,clearTimeout(this.syncTO),e.remove(this.set)},clear:function(){},setTimestamp:function(e){this.timestamp=e},setIndex:function(e,t){e!=this.index&&(this.index=e,t||this.isHidden||this.dispatchMovedEvent(this.mouseX,this.mouseY,"changed"))},handleMouseOut:function(){this.enabled&&this.rolledOver&&(this.leaveCursor||this.setIndex(void 0),this.forceShow=!1,this.hideCursor(),this.rolledOver=!1)},showCursorAt:function(e){var t=this.chart.categoryAxis;t&&this.setPosition(t.categoryToCoordinate(e),e)},setPosition:function(e,t){var i,r,n=this.chart,o=n.categoryAxis;o&&(void 0===t&&(t=o.coordinateToValue(e)),o.showBalloonAt(t,e),this.forceShow=!0,o.stickBalloonToCategory?n.rotate?this.fixHLine(e,0):this.fixVLine(e,0):(this.showCursor(),n.rotate?this.hhLine.translate(0,e):this.vvLine.translate(e,0)),n.rotate?i=e:r=e,n.rotate?(this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.show()):(this.hhLine&&this.hhLine.hide(),this.vvLine&&this.vvLine.show()),this.updateFullLine(),this.isHidden=!1,this.dispatchMovedEvent(r,i,"moved",!0))},enableDrawing:function(e){this.enabled=!e,this.hideCursor(),this.drawing=e},syncWithCursor:function(e,t){clearTimeout(this.syncTO),e&&(e.isHidden?this.hideCursor(!0):this.syncWithCursorReal(e,t))},isZooming:function(e){this.zooming=e},syncWithCursorReal:function(e,t){var i=e.vvLine,r=e.hhLine;this.index=e.index,this.forceShow=!0,this.zooming&&this.pan||this.showCursor(!0),this.hideGraphBalloons=t,this.justReleased=e.justReleased,this.zooming=e.zooming,this.index0=e.index0,this.mouseX0=e.mouseX0,this.mouseY0=e.mouseY0,this.mouse2X0=e.mouse2X0,this.mouse2Y0=e.mouse2Y0,this.timestamp0=e.timestamp0,this.prevDeltaX=e.prevDeltaX,this.prevDeltaY=e.prevDeltaY,this.prevDelta2X=e.prevDelta2X,this.prevDelta2Y=e.prevDelta2Y,this.fx=e.fx,this.fy=e.fy,e.zooming&&this.updateSelection();var n=e.mouseX,o=e.mouseY;this.rotate?(n=NaN,this.vvLine&&this.vvLine.hide(),this.hhLine&&r&&(isNaN(e.fy)?this.hhLine.translate(0,e.mouseY):this.fixHLine(e.fy,0))):(o=NaN,this.hhLine&&this.hhLine.hide(),this.vvLine&&i&&(isNaN(e.fx)?this.vvLine.translate(e.mouseX,0):this.fixVLine(e.fx,0))),this.dispatchMovedEvent(n,o,"moved",!0)}})}(),function(){var e=window.AmCharts;e.SimpleChartScrollbar=e.Class({construct:function(t){this.createEvents("zoomed","zoomStarted","zoomEnded"),this.backgroundColor="#D4D4D4",this.backgroundAlpha=1,this.selectedBackgroundColor="#EFEFEF",this.scrollDuration=this.selectedBackgroundAlpha=1,this.resizeEnabled=!0,this.hideResizeGrips=!1,this.scrollbarHeight=20,this.updateOnReleaseOnly=!1,9>document.documentMode&&(this.updateOnReleaseOnly=!0),this.dragIconHeight=this.dragIconWidth=35,this.dragIcon="dragIconRoundBig",this.dragCursorHover="cursor: move; cursor: grab; cursor: -moz-grab; cursor: -webkit-grab;",this.dragCursorDown="cursor: move; cursor: grab; cursor: -moz-grabbing; cursor: -webkit-grabbing;",this.vResizeCursor="ns-resize",this.hResizeCursor="ew-resize",this.enabled=!0,this.percentStart=this.offset=0,this.percentEnd=1,e.applyTheme(this,t,"SimpleChartScrollbar")},getPercents:function(){var e=(r=this.getDBox()).x,t=r.y,i=r.width,r=r.height;this.rotate?(e=1-t/this.height,t=1-(t+r)/this.height):(t=e/this.width,e=(e+i)/this.width),this.percentStart=t,this.percentEnd=e},draw:function(){var t=this;if(t.destroy(),t.enabled){var i=t.chart.container,r=t.rotate,n=t.chart;n.panRequired=!0;var o,s,a=i.set();if(t.set=a,r?e.setCN(n,a,"scrollbar-vertical"):e.setCN(n,a,"scrollbar-horizontal"),n.scrollbarsSet.push(a),r?(o=t.scrollbarHeight,s=n.plotAreaHeight):(s=t.scrollbarHeight,o=n.plotAreaWidth),t.width=o,(t.height=s)&&o){var l=e.rect(i,o,s,t.backgroundColor,t.backgroundAlpha,1,t.backgroundColor,t.backgroundAlpha);e.setCN(n,l,"scrollbar-bg"),t.bg=l,a.push(l),l=e.rect(i,o,s,"#000",.005),a.push(l),t.invisibleBg=l,l.click(function(){t.handleBgClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}).touchend(function(){t.handleBgClick()}),l=e.rect(i,o,s,t.selectedBackgroundColor,t.selectedBackgroundAlpha),e.setCN(n,l,"scrollbar-bg-selected"),t.selectedBG=l,a.push(l),o=e.rect(i,o,s,"#000",.005),t.dragger=o,a.push(o),o.mousedown(function(e){t.handleDragStart(e)}).mouseup(function(){t.handleDragStop()}).mouseover(function(){t.handleDraggerOver()}).mouseout(function(){t.handleMouseOut()}).touchstart(function(e){t.handleDragStart(e)}).touchend(function(){t.handleDragStop()}),s=n.pathToImages;var d;l=t.dragIcon.replace(/\.[a-z]*$/i,"");e.isAbsolute(l)&&(s=""),r?(d=s+l+"H"+n.extension,s=t.dragIconWidth,r=t.dragIconHeight):(d=s+l+n.extension,r=t.dragIconWidth,s=t.dragIconHeight),l=i.image(d,0,0,r,s),e.setCN(n,l,"scrollbar-grip-left"),d=i.image(d,0,0,r,s),e.setCN(n,d,"scrollbar-grip-right");var c=10,h=20;n.panEventsEnabled&&(c=25,h=t.scrollbarHeight);var u=e.rect(i,c,h,"#000",.005),f=e.rect(i,c,h,"#000",.005);f.translate(-(c-r)/2,-(h-s)/2),u.translate(-(c-r)/2,-(h-s)/2),r=i.set([l,f]),i=i.set([d,u]),t.iconLeft=r,a.push(t.iconLeft),t.iconRight=i,a.push(i),t.updateGripCursor(!1),n.makeAccessible(r,t.accessibleLabel),n.makeAccessible(i,t.accessibleLabel),n.makeAccessible(o,t.accessibleLabel),r.setAttr("role","menuitem"),i.setAttr("role","menuitem"),o.setAttr("role","menuitem"),void 0!==t.tabIndex&&(r.setAttr("tabindex",t.tabIndex),r.keyup(function(e){t.handleKeys(e,1,0)})),void 0!==t.tabIndex&&(o.setAttr("tabindex",t.tabIndex),o.keyup(function(e){t.handleKeys(e,1,1)})),void 0!==t.tabIndex&&(i.setAttr("tabindex",t.tabIndex),i.keyup(function(e){t.handleKeys(e,0,1)})),r.mousedown(function(){t.leftDragStart()}).mouseup(function(){t.leftDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.leftDragStart()}).touchend(function(){t.leftDragStop()}),i.mousedown(function(){t.rightDragStart()}).mouseup(function(){t.rightDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.rightDragStart()}).touchend(function(){t.rightDragStop()}),e.ifArray(n.chartData)?a.show():a.hide(),t.hideDragIcons(),t.clipDragger(!1)}a.translate(t.x,t.y),a.node.style.msTouchAction="none",a.node.style.touchAction="none"}},handleKeys:function(e,t,i){this.getPercents();var r=this.percentStart,n=this.percentEnd;if(this.rotate){var o=n;n=r,r=o}37!=e.keyCode&&40!=e.keyCode||(r-=.02*t,n-=.02*i),39!=e.keyCode&&38!=e.keyCode||(r+=.02*t,n+=.02*i),this.rotate&&(e=n,n=r,r=e),isNaN(n)||isNaN(r)||this.percentZoom(r,n,!0)},updateScrollbarSize:function(e,t){if(!isNaN(e)&&!isNaN(t)){e=Math.round(e),t=Math.round(t);var i,r,n,o,s,a=this.dragger;this.rotate?(i=0,r=e,n=this.width+1,o=t-e,a.setAttr("height",t-e),a.setAttr("y",r)):(i=e,r=0,n=t-e,o=this.height+1,s=t-e,a.setAttr("x",i),a.setAttr("width",s)),this.clipAndUpdate(i,r,n,o)}},update:function(){var e,t,i,r=!1,n=this.x,o=this.y,s=this.dragger;if(l=this.getDBox()){t=l.x+n,i=l.y+o;var a=l.width,l=l.height,d=this.rotate,c=this.chart,h=this.width,u=this.height,f=c.mouseX;c=c.mouseY;if(e=this.initialMouse,this.forceClip&&this.clipDragger(!0),this.dragging){var p=this.initialCoord;d?(0>(e=p+(c-e))&&(e=0),e>(p=u-l)&&(e=p),s.setAttr("y",e)):(0>(e=p+(f-e))&&(e=0),(e>(p=h-a)||isNaN(e))&&(e=p),s.setAttr("x",e)),this.clipDragger(!0)}this.resizingRight&&(d?(e=c-i,!isNaN(this.maxHeight)&&e>this.maxHeight&&(e=this.maxHeight),e+i>u+o&&(e=u-i+o),0>e?(this.resizingRight=!1,r=this.resizingLeft=!0):((0===e||isNaN(e))&&(e=.1),s.setAttr("height",e))):(e=f-t,!isNaN(this.maxWidth)&&e>this.maxWidth&&(e=this.maxWidth),e+t>h+n&&(e=h-t+n),0>e?(this.resizingRight=!1,r=this.resizingLeft=!0):((0===e||isNaN(e))&&(e=.1),s.setAttr("width",e))),this.clipDragger(!0)),this.resizingLeft&&(d?(t=i,(i=c)<o&&(i=o),isNaN(i)&&(i=o),i>u+o&&(i=u+o),e=!0===r?t-i:l+t-i,!isNaN(this.maxHeight)&&e>this.maxHeight&&(e=this.maxHeight,i=t),0>e?(this.resizingRight=!0,this.resizingLeft=!1,s.setAttr("y",t+l-o)):((0===e||isNaN(e))&&(e=.1),s.setAttr("y",i-o),s.setAttr("height",e))):((i=f)<n&&(i=n),isNaN(i)&&(i=n),i>h+n&&(i=h+n),e=!0===r?t-i:a+t-i,!isNaN(this.maxWidth)&&e>this.maxWidth&&(e=this.maxWidth,i=t),0>e?(this.resizingRight=!0,this.resizingLeft=!1,s.setAttr("x",t+a-n)):((0===e||isNaN(e))&&(e=.1),s.setAttr("x",i-n),s.setAttr("width",e))),this.clipDragger(!0))}},stopForceClip:function(){this.animating=this.forceClip=!1},clipDragger:function(e){if(n=this.getDBox()){var t=n.x,i=n.y,r=n.width,n=n.height,o=!1;this.rotate?(t=0,r=this.width+1,(this.clipY!=i||this.clipH!=n)&&(o=!0)):(i=0,n=this.height+1,(this.clipX!=t||this.clipW!=r)&&(o=!0)),o&&this.clipAndUpdate(t,i,r,n),e&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent())}},maskGraphs:function(){},clipAndUpdate:function(e,t,i,r){this.clipX=e,this.clipY=t,this.clipW=i,this.clipH=r,this.selectedBG.setAttr("width",i),this.selectedBG.setAttr("height",r),this.selectedBG.translate(e,t),this.updateDragIconPositions(),this.maskGraphs(e,t,i,r)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var e=this.chart;e.hideBalloon();var t=(n=this.getDBox()).x,i=n.y,r=n.width,n=n.height;this.getPercents(),this.rotate?(t=i,r=this.height/n):r=this.width/r,e={type:"zoomed",position:t,chart:e,target:this,multiplier:r,relativeStart:this.percentStart,relativeEnd:this.percentEnd},this.percentStart==this.prevPercentStart&&this.percentEnd==this.prevPercentEnd&&this.prevMultiplier==r||(this.fire(e),this.prevPercentStart=this.percentStart,this.prevPercentEnd=this.percentEnd,this.prevMultiplier=r)}},updateDragIconPositions:function(){var e,t,i=this.getDBox(),r=i.x,n=i.y,o=this.iconLeft,s=this.iconRight,a=this.scrollbarHeight;this.rotate?(e=this.dragIconWidth,t=this.dragIconHeight,o.translate((a-t)/2,n-e/2),s.translate((a-t)/2,n+i.height-e/2)):(e=this.dragIconHeight,t=this.dragIconWidth,o.translate(r-t/2,(a-e)/2),s.translate(r-t/2+i.width,(a-e)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){this.resizingLeft||this.resizingRight||this.dragging||(!this.hideResizeGrips&&this.resizeEnabled||(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},fireZoomEvent:function(e){this.fire({type:e,chart:this.chart,target:this})},percentZoom:function(t,i,r){var n,o;(t=e.fitToBounds(t,0,i),i=e.fitToBounds(i,t,1),this.dragger&&this.enabled)&&(this.dragger.stop(),isNaN(t)&&(t=0),isNaN(i)&&(i=1),this.rotate?(i=(n=this.height)-n*i,o=n-n*t):(o=(n=this.width)*i,i=n*t),this.updateScrollbarSize(i,o),this.clipDragger(!1),this.getPercents(),r&&this.dispatchScrollbarEvent())},destroy:function(){this.clear(),e.remove(this.set),e.remove(this.iconRight),e.remove(this.iconLeft)},clear:function(){},handleDragStart:function(){if(this.enabled){this.fireZoomEvent("zoomStarted");var t=this.chart;this.dragger.stop(),this.removeCursors(),e.isModern&&(this.dragger.node.style.cssText=this.dragCursorDown),this.dragging=!0;var i=this.getDBox();this.rotate?(this.initialCoord=i.y,this.initialMouse=t.mouseY):(this.initialCoord=i.x,this.initialMouse=t.mouseX)}},handleDragStop:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent()),this.dragging=!1,this.mouseIsOver&&this.removeCursors(),e.isModern&&(this.dragger.node.style.cssText=this.dragCursorHover),this.update(),this.fireZoomEvent("zoomEnded")},handleDraggerOver:function(){this.handleMouseOver(),e.isModern&&(this.dragger.node.style.cssText=this.dragCursorHover)},leftDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingLeft=!0,this.updateGripCursor(!0)},updateGripCursor:function(t){e.isModern&&(t=this.rotate?t?this.vResizeCursorDown:this.vResizeCursorHover:t?this.hResizeCursorDown:this.hResizeCursorHover)&&(this.iconRight&&(this.iconRight.node.style.cssText=t),this.iconLeft&&(this.iconLeft.node.style.cssText=t))},leftDragStop:function(){this.resizingLeft&&(this.resizingLeft=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},rightDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingRight=!0,this.updateGripCursor(!0)},rightDragStop:function(){this.resizingRight&&(this.resizingRight=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.vResizeCursor&&this.chart.setMouseCursor(this.vResizeCursor):this.hResizeCursor&&this.chart.setMouseCursor(this.hResizeCursor),this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var t=this;if(!t.resizingRight&&!t.resizingLeft){t.zooming=!0;var i,r,n=t.scrollDuration,o=t.dragger,s=(i=t.getDBox()).height,a=i.width;r=t.chart;var l=t.y,d=t.x,c=t.rotate;c?(i="y",r=r.mouseY-s/2-l,r=e.fitToBounds(r,0,t.height-s)):(i="x",r=r.mouseX-a/2-d,r=e.fitToBounds(r,0,t.width-a)),t.updateOnReleaseOnly?(t.skipEvent=!1,o.setAttr(i,r),t.dispatchScrollbarEvent(),t.clipDragger()):(t.animating=!0,r=Math.round(r),c?o.animate({y:r},n,">"):o.animate({x:r},n,">"),t.forceClip=!0,clearTimeout(t.forceTO),t.forceTO=setTimeout(function(){t.stopForceClip.call(t)},5e3*n))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.dragging=this.resizingRight=this.resizingLeft=!1,this.updateOnRelease(),this.removeCursors()),this.animating=this.mouseIsOver=!1,this.hideDragIcons(),this.update())},handleMouseOver:function(){this.mouseIsOver=!0,this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1,this.hideDragIcons(),this.removeCursors()}})}(),function(){var e=window.AmCharts;e.ChartScrollbar=e.Class({inherits:e.SimpleChartScrollbar,construct:function(t){this.cname="ChartScrollbar",e.ChartScrollbar.base.construct.call(this,t),this.graphLineColor="#BBBBBB",this.graphLineAlpha=0,this.graphFillColor="#BBBBBB",this.graphFillAlpha=1,this.selectedGraphLineColor="#888888",this.selectedGraphLineAlpha=0,this.selectedGraphFillColor="#888888",this.selectedGraphFillAlpha=1,this.gridCount=0,this.gridColor="#FFFFFF",this.gridAlpha=.7,this.skipEvent=this.autoGridCount=!1,this.color="#FFFFFF",this.scrollbarCreated=!1,this.oppositeAxis=!0,this.accessibleLabel="Zoom chart using cursor arrows",e.applyTheme(this,t,this.cname)},init:function(){var t=this.categoryAxis,i=this.chart,r=this.gridAxis;t||("CategoryAxis"==this.gridAxis.cname?(this.catScrollbar=!0,(t=new e.CategoryAxis).id="scrollbar"):((t=new e.ValueAxis).data=i.chartData,t.id=r.id,t.type=r.type,t.maximumDate=r.maximumDate,t.minimumDate=r.minimumDate,t.minPeriod=r.minPeriod,t.minMaxField=r.minMaxField),this.categoryAxis=t),t.chart=i;var n=i.categoryAxis;n&&(t.firstDayOfWeek=n.firstDayOfWeek),t.dateFormats=r.dateFormats,t.markPeriodChange=r.markPeriodChange,t.boldPeriodBeginning=r.boldPeriodBeginning,t.labelFunction=r.labelFunction,t.axisItemRenderer=e.RecItem,t.axisRenderer=e.RecAxis,t.guideFillRenderer=e.RecFill,t.inside=!0,t.fontSize=this.fontSize,t.tickLength=0,t.axisAlpha=0,e.isString(this.graph)&&(this.graph=e.getObjById(i.graphs,this.graph)),(t=this.graph)&&this.catScrollbar&&((r=this.valueAxis)||(this.valueAxis=r=new e.ValueAxis,r.visible=!1,r.scrollbar=!0,r.axisItemRenderer=e.RecItem,r.axisRenderer=e.RecAxis,r.guideFillRenderer=e.RecFill,r.labelsEnabled=!1,r.chart=i),(i=this.unselectedGraph)||((i=new e.AmGraph).scrollbar=!0,this.unselectedGraph=i,i.negativeBase=t.negativeBase,i.noStepRisers=t.noStepRisers),(i=this.selectedGraph)||((i=new e.AmGraph).scrollbar=!0,this.selectedGraph=i,i.negativeBase=t.negativeBase,i.noStepRisers=t.noStepRisers)),this.scrollbarCreated=!0},draw:function(){var t=this;if(e.ChartScrollbar.base.draw.call(t),t.enabled){t.scrollbarCreated||t.init();var i=t.chart,r=i.chartData,n=t.categoryAxis,o=t.rotate,s=t.x,a=t.y,l=t.width,d=t.height,c=t.gridAxis,h=t.set;if(n.setOrientation(!o),n.parseDates=c.parseDates,"ValueAxis"==t.categoryAxis.cname&&(n.rotate=!o),n.equalSpacing=c.equalSpacing,n.minPeriod=c.minPeriod,n.startOnAxis=c.startOnAxis,n.width=l-1,n.height=d,n.gridCount=t.gridCount,n.gridColor=t.gridColor,n.gridAlpha=t.gridAlpha,n.color=t.color,n.tickLength=0,n.axisAlpha=0,n.autoGridCount=t.autoGridCount,n.parseDates&&!n.equalSpacing&&n.timeZoom(i.firstTime,i.lastTime),n.minimum=t.gridAxis.fullMin,n.maximum=t.gridAxis.fullMax,n.strictMinMax=!0,n.zoom(0,r.length-1),(c=t.graph)&&t.catScrollbar){var u=t.valueAxis,f=c.valueAxis;u.id=f.id,u.rotate=o,u.setOrientation(o),u.width=l,u.height=d,u.dataProvider=r,u.reversed=f.reversed,u.logarithmic=f.logarithmic,u.gridAlpha=0,u.axisAlpha=0,h.push(u.set),o?(u.y=a,u.x=0):(u.x=s,u.y=0);var p;s=1/0,a=-1/0;for(p=0;p<r.length;p++){var g,m=r[p].axes[f.id].graphs[c.id].values;for(g in m)if(m.hasOwnProperty(g)&&"percents"!=g&&"total"!=g){var v=m[g];v<s&&(s=v),v>a&&(a=v)}}1/0!=s&&(u.minimum=s),-1/0!=a&&(u.maximum=a+.1*(a-s)),s==a&&(--u.minimum,u.maximum+=1),void 0!==t.minimum&&(u.minimum=t.minimum),void 0!==t.maximum&&(u.maximum=t.maximum),u.zoom(0,r.length-1),(g=t.unselectedGraph).id=c.id,g.bcn="scrollbar-graph-",g.rotate=o,g.chart=i,g.data=r,g.valueAxis=u,g.chart=c.chart,g.categoryAxis=t.categoryAxis,g.periodSpan=c.periodSpan,g.valueField=c.valueField,g.openField=c.openField,g.closeField=c.closeField,g.highField=c.highField,g.lowField=c.lowField,g.lineAlpha=t.graphLineAlpha,g.lineColorR=t.graphLineColor,g.fillAlphas=t.graphFillAlpha,g.fillColorsR=t.graphFillColor,g.connect=c.connect,g.hidden=c.hidden,g.width=l,g.height=d,g.pointPosition=c.pointPosition,g.stepDirection=c.stepDirection,g.periodSpan=c.periodSpan,(f=t.selectedGraph).id=c.id,f.bcn=g.bcn+"selected-",f.rotate=o,f.chart=i,f.data=r,f.valueAxis=u,f.chart=c.chart,f.categoryAxis=n,f.periodSpan=c.periodSpan,f.valueField=c.valueField,f.openField=c.openField,f.closeField=c.closeField,f.highField=c.highField,f.lowField=c.lowField,f.lineAlpha=t.selectedGraphLineAlpha,f.lineColorR=t.selectedGraphLineColor,f.fillAlphas=t.selectedGraphFillAlpha,f.fillColorsR=t.selectedGraphFillColor,f.connect=c.connect,f.hidden=c.hidden,f.width=l,f.height=d,f.pointPosition=c.pointPosition,f.stepDirection=c.stepDirection,f.periodSpan=c.periodSpan,(i=t.graphType)||(i=c.type),g.type=i,f.type=i,r=r.length-1,g.zoom(0,r),f.zoom(0,r),f.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}),g.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}),h.push(g.set),h.push(f.set)}h.push(n.set),h.push(n.labelsSet),t.bg.toBack(),t.invisibleBg.toFront(),t.dragger.toFront(),t.iconLeft.toFront(),t.iconRight.toFront()}},timeZoom:function(t,i,r){this.startTime=t,this.endTime=i,this.timeDifference=i-t,this.skipEvent=!e.toBoolean(r),this.zoomScrollbar(),this.dispatchScrollbarEvent()},zoom:function(e,t){this.start=e,this.end=t,this.skipEvent=!0,this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.categoryAxis&&"ValueAxis"==this.categoryAxis.cname)e.ChartScrollbar.base.dispatchScrollbarEvent.call(this);else if(this.skipEvent)this.skipEvent=!1;else{var t,i,r=this.chart.chartData;t=(s=this.dragger.getBBox()).x;var n=s.y,o=s.width,s=s.height,a=this.chart;this.rotate?(t=n,i=s):i=o,(o={type:"zoomed",target:this}).chart=a;var l=this.categoryAxis,d=this.stepWidth,c=(n=a.minSelectedTime,s=a.maxSelectedTime,!1);l.parseDates&&!l.equalSpacing?(r=a.lastTime,a=a.firstTime,(l=Math.round(t/d)+a)>(t=this.dragging?l+this.timeDifference:Math.round((t+i)/d)+a)&&(l=t),0<n&&t-l<n&&(l=(t=Math.round(l+(t-l)/2))-(c=Math.round(n/2)),t+=c,c=!0),0<s&&t-l>s&&(l=(t=Math.round(l+(t-l)/2))-(c=Math.round(s/2)),t+=c,c=!0),t>r&&(t=r),t-n<l&&(l=t-n),l<a&&(l=a),l+n>t&&(t=l+n),(l!=this.startTime||t!=this.endTime)&&(this.startTime=l,this.endTime=t,o.start=l,o.end=t,o.startDate=new Date(l),o.endDate=new Date(t),this.fire(o))):(l.startOnAxis||(t+=d/2),i-=this.stepWidth/2,n=l.xToIndex(t),t=l.getCoordinate(n)-this.stepWidth/2,t=l.xToIndex(t+i),n==this.start&&this.end==t||(l.startOnAxis&&(this.resizingRight&&n==t&&t++,this.resizingLeft&&n==t&&(0<n?n--:t=1)),this.start=n,this.end=this.dragging?this.start+this.difference:t,o.start=this.start,o.end=this.end,l.parseDates&&(r[this.start]&&(o.startDate=new Date(r[this.start].time)),r[this.end]&&(o.endDate=new Date(r[this.end].time))),this.fire(o)),this.percentStart=n,this.percentEnd=t),c&&this.zoomScrollbar(!0)}},zoomScrollbar:function(e){if((!(this.dragging||this.resizingLeft||this.resizingRight||this.animating)||e)&&this.dragger&&this.enabled){var t,i,r=this.chart;e=r.chartData;var n=this.categoryAxis;n.parseDates&&!n.equalSpacing?(e=n.stepWidth,i=r.firstTime,t=e*(this.startTime-i),i=e*(this.endTime-i)):(e[this.start]&&(t=e[this.start].x[n.id]),e[this.end]&&(i=e[this.end].x[n.id]),e=n.stepWidth,n.startOnAxis||(t-=r=e/2,i+=r)),this.stepWidth=e,isNaN(t)||isNaN(i)||this.updateScrollbarSize(t,i)}},maskGraphs:function(e,t,i,r){var n=this.selectedGraph;n&&n.set.clipRect(e,t,i,r)},handleDragStart:function(){e.ChartScrollbar.base.handleDragStart.call(this),this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){e.ChartScrollbar.base.handleBackgroundClick.call(this),this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}})}(),function(){var e=window.AmCharts;e.AmBalloon=e.Class({construct:function(t){this.cname="AmBalloon",this.enabled=!0,this.fillColor="#FFFFFF",this.fillAlpha=.8,this.borderThickness=2,this.borderColor="#FFFFFF",this.borderAlpha=1,this.cornerRadius=0,this.maxWidth=220,this.horizontalPadding=8,this.verticalPadding=4,this.pointerWidth=6,this.pointerOrientation="V",this.color="#000000",this.adjustBorderColor=!0,this.show=this.follow=this.showBullet=!1,this.bulletSize=3,this.shadowAlpha=.4,this.shadowColor="#000000",this.fadeOutDuration=this.animationDuration=.3,this.fixedPosition=!0,this.offsetY=6,this.offsetX=1,this.textAlign="center",this.disableMouseEvents=!0,this.deltaSignX=this.deltaSignY=1,e.isModern||(this.offsetY*=1.5),this.sdy=this.sdx=0,e.applyTheme(this,t,this.cname)},draw:function(){var t=this.pointToX,i=this.pointToY;e.isModern||(this.drop=!1);var r=this.chart;if(e.VML&&(this.fadeOutDuration=0),this.xAnim&&r.stopAnim(this.xAnim),this.yAnim&&r.stopAnim(this.yAnim),this.sdy=this.sdx=0,!isNaN(t)){var n=this.follow,o=r.container,s=this.set;if(e.remove(s),this.removeDiv(),(s=o.set()).node.style.pointerEvents="none",this.set=s,this.mainSet?(this.mainSet.push(this.set),this.sdx=this.mainSet.x,this.sdy=this.mainSet.y):r.balloonsSet.push(s),this.show){var a=this.l,l=this.t,d=this.r,c=this.b,h=this.balloonColor,u=this.fillColor,f=this.borderColor,p=u;void 0!=h&&(this.adjustBorderColor?p=f=h:u=h);var g=this.horizontalPadding,m=this.verticalPadding,v=this.pointerWidth,b=this.pointerOrientation,y=this.cornerRadius,w=r.fontFamily;void 0==(A=this.fontSize)&&(A=r.fontSize);h=document.createElement("div");var x=r.classNamePrefix;h.className=x+"-balloon-div",this.className&&(h.className=h.className+" "+x+"-balloon-div-"+this.className),x=h.style,this.disableMouseEvents&&(x.pointerEvents="none"),x.position="absolute";var C=this.minWidth,S=document.createElement("div");h.appendChild(S);var k=S.style;isNaN(C)||(k.minWidth=C-2*g+"px"),k.textAlign=this.textAlign,k.maxWidth=this.maxWidth+"px",k.fontSize=A+"px",k.color=this.color,k.fontFamily=w,S.innerHTML=this.text,r.chartDiv.appendChild(h),this.textDiv=h;k=h.offsetWidth;var D=h.offsetHeight;h.clientHeight&&(k=h.clientWidth,D=h.clientHeight),w=D+2*m,S=k+2*g,!isNaN(C)&&S<C&&(S=C),window.opera&&(w+=2);var T=!1,A=this.offsetY;r.handDrawn&&(A+=r.handDrawScatter+2),"H"!=b?(C=t-S/2,i<l+w+10&&"down"!=b?(T=!0,n&&(i+=A),A=i+v,this.deltaSignY=-1):(n&&(i-=A),A=i-w-v,this.deltaSignY=1)):(2*v>w&&(v=w/2),A=i-w/2,t<a+(d-a)/2?(C=t+v,this.deltaSignX=-1):(C=t-S-v,this.deltaSignX=1)),A+w>=c&&(A=c-w),A<l&&(A=l),C<a&&(C=a),C+S>d&&(C=d-S);l=A+m,c=C+g;var N,_=this.shadowAlpha,M=this.shadowColor,E=(g=this.borderThickness,this.bulletSize),$=(m=this.fillAlpha,this.borderAlpha);this.showBullet&&(N=e.circle(o,E,p,m),s.push(N)),this.drop?(a=S/1.6,d=0,"V"==b&&(b="down"),"H"==b&&(b="left"),"down"==b&&(C=t+1,A=i-a-a/3),"up"==b&&(d=180,C=t+1,A=i+a+a/3),"left"==b&&(d=270,C=t+a+a/3+2,A=i),"right"==b&&(d=90,C=t-a-a/3+2,A=i),l=A-D/2+1,c=C-k/2-1,u=e.drop(o,a,d,u,m,g,f,$)):0<y||0===v?(0<_&&(t=e.rect(o,S,w,u,0,g+1,M,_,y),e.isModern?t.translate(1,1):t.translate(4,4),s.push(t)),u=e.rect(o,S,w,u,m,g,f,$,y)):(p=[],y=[],"H"!=b?((a=t-C)>S-v&&(a=S-v),a<v&&(a=v),p=[0,a-v,t-C,a+v,S,S,0,0],y=T?[0,0,i-A,0,0,w,w,0]:[w,w,i-A,w,w,0,0,w]):((b=i-A)>w-v&&(b=w-v),b<v&&(b=v),y=[0,b-v,i-A,b+v,w,w,0,0],p=t<a+(d-a)/2?[0,0,C<t?0:t-C,0,0,S,S,0]:[S,S,C+S>t?S:t-C,S,S,0,0,S]),0<_&&((t=e.polygon(o,p,y,u,0,g,M,_)).translate(1,1),s.push(t)),u=e.polygon(o,p,y,u,m,g,f,$)),this.bg=u,s.push(u),u.toFront(),e.setCN(r,u,"balloon-bg"),this.className&&e.setCN(r,u,"balloon-bg-"+this.className),o=1*this.deltaSignX,c+=this.sdx,l+=this.sdy,x.left=c+"px",x.top=l+"px",s.translate(C-o,A,1,!0),u=u.getBBox(),this.bottom=A+w+1,this.yPos=u.y+A,N&&N.translate(this.pointToX-C+o,i-A),i=this.animationDuration,0<this.animationDuration&&!n&&!isNaN(this.prevX)&&(s.translate(this.prevX,this.prevY,NaN,!0),s.animate({translate:C-o+","+A},i,"easeOutSine"),h&&(x.left=this.prevTX+"px",x.top=this.prevTY+"px",this.xAnim=r.animate({node:h},"left",this.prevTX,c,i,"easeOutSine","px"),this.yAnim=r.animate({node:h},"top",this.prevTY,l,i,"easeOutSine","px"))),this.prevX=C-o,this.prevY=A,this.prevTX=c,this.prevTY=l}}},fixPrevious:function(){this.rPrevX=this.prevX,this.rPrevY=this.prevY,this.rPrevTX=this.prevTX,this.rPrevTY=this.prevTY},restorePrevious:function(){this.prevX=this.rPrevX,this.prevY=this.rPrevY,this.prevTX=this.rPrevTX,this.prevTY=this.rPrevTY},followMouse:function(){if(this.follow&&this.show){var e=this.chart.mouseX-this.offsetX*this.deltaSignX-this.sdx,t=this.chart.mouseY-this.sdy;if(this.pointToX=e,this.pointToY=t,e!=this.previousX||t!=this.previousY)if(this.previousX=e,this.previousY=t,0===this.cornerRadius)this.draw();else{var i=this.set;if(i){var r=i.getBBox(),n=(e=e-r.width/2,t-r.height-10);e<this.l&&(e=this.l),e>this.r-r.width&&(e=this.r-r.width),n<this.t&&(n=t+10),i.translate(e,n),(t=this.textDiv.style).left=e+this.horizontalPadding+"px",t.top=n+this.verticalPadding+"px"}}}},changeColor:function(e){this.balloonColor=e},setBounds:function(e,t,i,r){this.l=e,this.t=t,this.r=i,this.b=r,this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(e){(this.text!=e||this.positionChanged)&&(this.text=e,this.isHiding=!1,this.show=!0,this.destroyTO&&clearTimeout(this.destroyTO),e=this.chart,this.fadeAnim1&&e.stopAnim(this.fadeAnim1),this.fadeAnim2&&e.stopAnim(this.fadeAnim2),this.draw(),this.positionChanged=!1)},hide:function(e){var t=this;t.text=void 0,isNaN(e)&&(e=t.fadeOutDuration);var i=t.chart;if(0<e&&!t.isHiding){t.isHiding=!0,t.destroyTO&&clearTimeout(t.destroyTO),t.destroyTO=setTimeout(function(){t.destroy.call(t)},1e3*e),t.follow=!1,t.show=!1;var r=t.set;r&&(r.setAttr("opacity",t.fillAlpha),t.fadeAnim1=r.animate({opacity:0},e,"easeInSine")),t.textDiv&&(t.fadeAnim2=i.animate({node:t.textDiv},"opacity",1,0,e,"easeInSine",""))}else t.show=!1,t.follow=!1,t.destroy()},setPosition:function(e,t){e==this.pointToX&&t==this.pointToY||(this.previousX=this.pointToX,this.previousY=this.pointToY,this.pointToX=e,this.pointToY=t,this.positionChanged=!0)},followCursor:function(e){var t=this;t.follow=e,clearInterval(t.interval);var i=t.chart.mouseX-t.sdx,r=t.chart.mouseY-t.sdy;!isNaN(i)&&e&&(t.pointToX=i-t.offsetX*t.deltaSignX,t.pointToY=r,t.followMouse(),t.interval=setInterval(function(){t.followMouse.call(t)},40))},removeDiv:function(){if(this.textDiv){var e=this.textDiv.parentNode;e&&e.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval),e.remove(this.set),this.removeDiv(),this.set=null}})}(),function(){var e=window.AmCharts;e.AmCoordinateChart=e.Class({inherits:e.AmChart,construct:function(t){e.AmCoordinateChart.base.construct.call(this,t),this.theme=t,this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.startAlpha=1,this.startDuration=0,this.startEffect="elastic",this.sequencedAnimation=!0,this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" "),this.balloonDateFormat="MMM DD, YYYY",this.valueAxes=[],this.graphs=[],this.guides=[],this.gridAboveGraphs=!1,e.applyTheme(this,t,"AmCoordinateChart")},initChart:function(){e.AmCoordinateChart.base.initChart.call(this),this.drawGraphs=!0;var t=this.categoryAxis;t&&(this.categoryAxis=e.processObject(t,e.CategoryAxis,this.theme)),this.processValueAxes(),this.createValueAxes(),this.processGraphs(),this.processGuides(),e.VML&&(this.startAlpha=1),this.setLegendData(this.graphs),this.gridAboveGraphs&&(this.gridSet.toFront(),this.bulletSet.toFront(),this.balloonsSet.toFront())},createValueAxes:function(){if(0===this.valueAxes.length){var t=new e.ValueAxis;this.addValueAxis(t)}},parseData:function(){this.processValueAxes(),this.processGraphs()},parseSerialData:function(e){if(this.chartData=[],e)if(0<this.processTimeout){1>this.processCount&&(this.processCount=1);var t=e.length/this.processCount;this.parseCount=Math.ceil(t)-1;for(var i=0;i<t;i++)this.delayParseSerialData(e,i)}else this.parseCount=0,this.parsePartSerialData(e,0,e.length,0);else this.onDataUpdated()},delayParseSerialData:function(e,t){var i=this,r=i.processCount;setTimeout(function(){i.parsePartSerialData.call(i,e,t*r,(t+1)*r,t)},i.processTimeout)},parsePartSerialData:function(t,i,r,n){r>t.length&&(r=t.length);var o=this.graphs,s={},a=this.seriesIdField;a||(a=this.categoryField);var l,d,c,h,u=!1,f=this.categoryAxis;f&&(u=f.parseDates,d=f.forceShowField,h=f.classNameField,c=f.labelColorField,l=f.categoryFunction);var p,g,m,v={};u&&(g=(p=e.extractPeriod(f.minPeriod)).period,p=p.count,m=e.getPeriodDuration(g,p));var b={};this.lookupTable=b;var y,w=this.dataDateFormat,x={};for(y=i;y<r;y++){var C={},S=t[y];if(i=S[this.categoryField],C.dataContext=S,C.category=l?l(i,S,f):String(i),d&&(C.forceShow=S[d]),h&&(C.className=S[h]),c&&(C.labelColor=S[c]),b[S[a]]=C,!u||(f.categoryFunction?i=f.categoryFunction(i,S,f):(!w||i instanceof Date||(i=i.toString()+" |"),i=e.getDate(i,w,f.minPeriod)),i=e.resetDateToMin(i,g,p,f.firstDayOfWeek),C.category=i,C.time=i.getTime(),!isNaN(C.time))){var k,D=this.valueAxes;for(C.axes={},C.x={},k=0;k<D.length;k++){var T,A=D[k].id;for(C.axes[A]={},C.axes[A].graphs={},T=0;T<o.length;T++){var N=(i=o[T]).id,_=1.1;isNaN(i.gapPeriod)||(_=i.gapPeriod);var M=i.periodValue;if(i.valueAxis.id==A){C.axes[A].graphs[N]={};var E={};E.index=y;var $=S;if(i.dataProvider&&($=s),E.values=this.processValues($,i,M),!i.connect||i.forceGap&&!isNaN(i.gapPeriod))if(x&&x[N]&&0<_&&C.time-v[N]>=m*_&&(x[N].gap=!0),i.forceGap){var O;_=0;for(O in E.values)_++;0<_&&(v[N]=C.time,x[N]=E)}else v[N]=C.time,x[N]=E;this.processFields(i,E,$),E.category=C.category,E.serialDataItem=C,E.graph=i,C.axes[A].graphs[N]=E}}}this.chartData[y]=C}}if(this.parseCount==n){for(t=0;t<o.length;t++)(i=o[t]).dataProvider&&this.parseGraphData(i);this.dataChanged=!1,this.dispatchDataUpdated=!0,this.onDataUpdated()}},processValues:function(t,i,r){var n,o={},s=!1;"candlestick"!=i.type&&"ohlc"!=i.type||""===r||(s=!0);for(var a="value error open close low high".split(" "),l=0;l<a.length;l++){var d=a[l];"value"!=d&&"error"!=d&&s&&(r=d.charAt(0).toUpperCase()+d.slice(1));var c=t[i[d+"Field"]+r];null!==c&&(n=Number(c),isNaN(n)||(o[d]=n),"date"==i.valueAxis.type&&void 0!==c&&(n=e.getDate(c,i.chart.dataDateFormat),o[d]=n.getTime()))}return o},parseGraphData:function(e){var t,i=e.dataProvider,r=e.seriesIdField;for(r||(r=this.seriesIdField),r||(r=this.categoryField),t=0;t<i.length;t++){var n=i[t],o=this.lookupTable[String(n[r])],s=e.valueAxis.id;o&&((s=o.axes[s].graphs[e.id]).serialDataItem=o,s.values=this.processValues(n,e,e.periodValue),this.processFields(e,s,n))}},addValueAxis:function(e){e.chart=this,this.valueAxes.push(e),this.validateData()},removeValueAxesAndGraphs:function(){var e,t=this.valueAxes;for(e=t.length-1;-1<e;e--)this.removeValueAxis(t[e])},removeValueAxis:function(e){var t,i=this.graphs;for(t=i.length-1;0<=t;t--){var r=i[t];r&&r.valueAxis==e&&this.removeGraph(r)}for(t=(i=this.valueAxes).length-1;0<=t;t--)i[t]==e&&i.splice(t,1);this.validateData()},addGraph:function(e){this.graphs.push(e),this.chooseGraphColor(e,this.graphs.length-1),this.validateData()},removeGraph:function(e){var t,i=this.graphs;for(t=i.length-1;0<=t;t--)i[t]==e&&(i.splice(t,1),e.destroy());this.validateData()},handleValueAxisZoom:function(){},processValueAxes:function(){var t,i=this.valueAxes;for(t=0;t<i.length;t++){var r=i[t];r=e.processObject(r,e.ValueAxis,this.theme);i[t]=r,r.chart=this,r.init(),this.listenTo(r,"axisIntZoomed",this.handleValueAxisZoom),r.id||(r.id="valueAxisAuto"+t+"_"+(new Date).getTime()),void 0===r.usePrefixes&&(r.usePrefixes=this.usePrefixes)}},processGuides:function(){var t=this.guides,i=this.categoryAxis;if(t)for(var r=0;r<t.length;r++){var n=t[r];(void 0!==n.category||void 0!==n.date)&&i&&i.addGuide(n),n.id||(n.id="guideAuto"+r+"_"+(new Date).getTime());var o=n.valueAxis;o?(e.isString(o)&&(o=this.getValueAxisById(o)),o?o.addGuide(n):this.valueAxes[0].addGuide(n)):isNaN(n.value)||this.valueAxes[0].addGuide(n)}},processGraphs:function(){var t,i=this.graphs;for(this.graphsById={},t=0;t<i.length;t++){var r=i[t];r=e.processObject(r,e.AmGraph,this.theme);i[t]=r,this.chooseGraphColor(r,t),r.chart=this,r.init(),e.isString(r.valueAxis)&&(r.valueAxis=this.getValueAxisById(r.valueAxis)),r.valueAxis||(r.valueAxis=this.valueAxes[0]),r.id||(r.id="graphAuto"+t+"_"+(new Date).getTime()),this.graphsById[r.id]=r}},formatString:function(t,i,r){var n=i.graph,o=n.valueAxis;if(o.duration&&o.maxInterval&&i.values.value){var s=o.numberFormatter;s||(s=chart.nf),o=e.formatDuration(i.values.value,o.duration,"",o.durationUnits,o.maxInterval,s),t=t.split("[[value]]").join(o)}return t=e.massReplace(t,{"[[title]]":n.title,"[[description]]":i.description}),t=r?e.fixNewLines(t):e.fixBrakes(t),e.cleanFromEmpty(t)},getBalloonColor:function(t,i,r){var n=t.lineColor,o=t.balloonColor;return r&&(o=n),"object"==typeof(r=t.fillColorsR)?n=r[0]:void 0!==r&&(n=r),i.isNegative&&(r=t.negativeLineColor,"object"==typeof(t=t.negativeFillColors)?r=t[0]:void 0!==t&&(r=t),void 0!==r&&(n=r)),void 0!==i.color&&(n=i.color),void 0!==i.lineColor&&(n=i.lineColor),void 0!==(i=i.fillColors)&&(n=i,e.ifArray(i)&&(n=i[0])),void 0===o&&(o=n),o},getGraphById:function(t){return e.getObjById(this.graphs,t)},getValueAxisById:function(t){return e.getObjById(this.valueAxes,t)},processFields:function(t,i,r){if(t.itemColors){var n=t.itemColors,o=i.index;i.color=o<n.length?n[o]:e.randomColor()}for(n="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className columnIndex".split(" "),o=0;o<n.length;o++){var s=n[o],a=t[s+"Field"];a&&(a=r[a],e.isDefined(a)&&(i[s]=a))}i.dataContext=r},chooseGraphColor:function(t,i){var r;t.lineColor?t.lineColorR=t.lineColor:(r=this.colors.length>i?this.colors[i]:t.lineColorR?t.lineColorR:e.randomColor(),t.lineColorR=r);t.fillColorsR=t.fillColors?t.fillColors:t.lineColorR,t.bulletBorderColorR=t.bulletBorderColor?t.bulletBorderColor:t.useLineColorForBulletBorder?t.lineColorR:t.bulletColor,t.bulletColorR=t.bulletColor?t.bulletColor:t.lineColorR,(r=this.patterns)&&(t.pattern=r[i])},handleLegendEvent:function(e){var t=e.type;if(e=e.dataItem){var i=e.hidden,r=e.showBalloon;switch(t){case"clickMarker":this.textClickEnabled&&(r?this.hideGraphsBalloon(e):this.showGraphsBalloon(e));break;case"clickLabel":r?this.hideGraphsBalloon(e):this.showGraphsBalloon(e);break;case"rollOverItem":i||this.highlightGraph(e);break;case"rollOutItem":i||this.unhighlightGraph();break;case"hideItem":this.hideGraph(e);break;case"showItem":this.showGraph(e)}}},highlightGraph:function(e){var t=this.graphs;if(t){var i,r=.2;if(this.legend&&(r=this.legend.rollOverGraphAlpha),1!=r)for(i=0;i<t.length;i++){var n=t[i];n!=e&&n.changeOpacity(r)}}},unhighlightGraph:function(){var e,t;if(this.legend&&(e=this.legend.rollOverGraphAlpha),1!=e)for(e=this.graphs,t=0;t<e.length;t++)e[t].changeOpacity(1)},showGraph:function(e){e.switchable&&(e.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(e){e.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),e.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(e){e.showBalloon=!1,this.updateLegend()},showGraphsBalloon:function(e){e.showBalloon=!0,this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){this.animatable=[];var e,t=this.graphs;if(t)for(e=0;e<t.length;e++)t[e].animationPlayed=!1},animateAgain:function(){this.resetAnimation(),this.validateNow()}})}(),function(){var e=window.AmCharts;e.TrendLine=e.Class({construct:function(t){this.cname="TrendLine",this.createEvents("click","rollOver","rollOut"),this.isProtected=!1,this.dashLength=0,this.lineColor="#00CC00",this.lineThickness=this.lineAlpha=1,e.applyTheme(this,t,this.cname)},draw:function(){var t=this;t.destroy();var i,r,n,o,s=t.chart,a=s.container,l=t.categoryAxis,d=t.initialDate,c=t.initialCategory,h=t.finalDate,u=t.finalCategory,f=t.valueAxis,p=t.valueAxisX,g=t.initialXValue,m=t.finalXValue,v=t.initialValue,b=t.finalValue,y=f.recalculateToPercents,w=s.dataDateFormat;l&&(d&&(d=e.getDate(d,w,"fff"),t.initialDate=d,i=l.dateToCoordinate(d)),c&&(i=l.categoryToCoordinate(c)),h&&(h=e.getDate(h,w,"fff"),t.finalDate=h,r=l.dateToCoordinate(h)),u&&(r=l.categoryToCoordinate(u))),p&&!y&&(isNaN(g)||(i=p.getCoordinate(g)),isNaN(m)||(r=p.getCoordinate(m))),f&&!y&&(isNaN(v)||(n=f.getCoordinate(v)),isNaN(b)||(o=f.getCoordinate(b))),isNaN(i)||isNaN(r)||isNaN(n)||isNaN(n)||(s.rotate?(l=[n,o],o=[i,r]):(l=[i,r],o=[n,o]),n=e.line(a,l,o,t.lineColor,t.lineAlpha,t.lineThickness,t.dashLength),i=l,r=o,h=l[1]-l[0],u=o[1]-o[0],0===h&&(h=.01),0===u&&(u=.01),d=h/Math.abs(h),c=u/Math.abs(u),u=90*Math.PI/180-Math.asin(h/(h*u/Math.abs(h*u)*Math.sqrt(Math.pow(h,2)+Math.pow(u,2)))),h=Math.abs(5*Math.cos(u)),u=Math.abs(5*Math.sin(u)),i.push(l[1]-d*u,l[0]-d*u),r.push(o[1]+c*h,o[0]+c*h),o=e.polygon(a,i,r,"#ffffff",.005,0),(a=a.set([o,n])).translate(s.marginLeftReal,s.marginTopReal),s.trendLinesSet.push(a),e.setCN(s,n,"trend-line"),e.setCN(s,n,"trend-line-"+t.id),t.line=n,t.set=a,(n=t.initialImage)&&((n=e.processObject(n,e.Image,t.theme)).chart=s,n.draw(),n.translate(i[0]+n.offsetX,r[0]+n.offsetY),a.push(n.set)),(n=t.finalImage)&&((n=e.processObject(n,e.Image,t.theme)).chart=s,n.draw(),n.translate(i[1]+n.offsetX,r[1]+n.offsetY),a.push(n.set)),a.mouseup(function(){t.handleLineClick()}).mouseover(function(){t.handleLineOver()}).mouseout(function(){t.handleLineOut()}),a.touchend&&a.touchend(function(){t.handleLineClick()}),a.clipRect(0,0,s.plotAreaWidth,s.plotAreaHeight))},handleLineClick:function(){this.fire({type:"click",trendLine:this,chart:this.chart})},handleLineOver:function(){var e=this.rollOverColor;void 0!==e&&this.line.attr({stroke:e}),this.balloonText&&(clearTimeout(this.chart.hoverInt),e=this.line.getBBox(),this.chart.showBalloon(this.balloonText,this.lineColor,!0,this.x+e.x+e.width/2,this.y+e.y+e.height/2)),this.fire({type:"rollOver",trendLine:this,chart:this.chart})},handleLineOut:function(){this.line.attr({stroke:this.lineColor}),this.balloonText&&this.chart.hideBalloon(),this.fire({type:"rollOut",trendLine:this,chart:this.chart})},destroy:function(){e.remove(this.set)}})}(),function(){var e=window.AmCharts;e.Image=e.Class({construct:function(t){this.cname="Image",this.height=this.width=20,this.rotation=this.offsetY=this.offsetX=0,this.balloonColor=this.color="#000000",this.opacity=1,e.applyTheme(this,t,this.cname)},draw:function(){var e=this;e.set&&e.set.remove();var t,i,r=e.chart.container;e.set=r.set(),e.url?(t=r.image(e.url,0,0,e.width,e.height),i=1):e.svgPath&&((t=r.path(e.svgPath)).setAttr("fill",e.color),t.setAttr("stroke",e.outlineColor),r=t.getBBox(),i=Math.min(e.width/r.width,e.height/r.height)),t&&(t.setAttr("opacity",e.opacity),e.set.rotate(e.rotation),t.translate(-e.width/2,-e.height/2,i),e.balloonText&&t.mouseover(function(){e.chart.showBalloon(e.balloonText,e.balloonColor,!0)}).mouseout(function(){e.chart.hideBalloon()}).touchend(function(){e.chart.hideBalloon()}).touchstart(function(){e.chart.showBalloon(e.balloonText,e.balloonColor,!0)}),e.set.push(t))},translate:function(e,t){this.set&&this.set.translate(e,t)}})}(),function(){var e=window.AmCharts;e.circle=function(t,i,r,n,o,s,a,l,d){return 0>=i&&(i=.001),void 0!=o&&0!==o||(o=.01),void 0===s&&(s="#000000"),void 0===a&&(a=0),n={fill:r,stroke:s,"fill-opacity":n,"stroke-width":o,"stroke-opacity":a},t=isNaN(d)?t.circle(0,0,i).attr(n):t.ellipse(0,0,i,d).attr(n),l&&t.gradient("radialGradient",[r,e.adjustLuminosity(r,-.6)]),t},e.text=function(t,i,r,n,o,s,a,l){return s||(s="middle"),"right"==s&&(s="end"),"left"==s&&(s="start"),isNaN(l)&&(l=1),void 0!==i&&(i=String(i),e.isIE&&!e.isModern&&(i=(i=i.replace("&amp;","&")).replace("&","&amp;"))),r={fill:r,"font-family":n,"font-size":o+"px",opacity:l},!0===a&&(r["font-weight"]="bold"),r["text-anchor"]=s,t.text(i,r)},e.polygon=function(t,i,r,n,o,s,a,l,d,c,h){isNaN(s)&&(s=.01),isNaN(l)&&(l=o);var u=n,f=!1;for("object"==typeof u&&1<u.length&&(f=!0,u=u[0]),void 0===a&&(a=u),o={fill:u,stroke:a,"fill-opacity":o,"stroke-width":s,"stroke-opacity":l},void 0!==h&&0<h&&(o["stroke-dasharray"]=h),h=e.dx,s=e.dy,t.handDrawn&&(i=(r=e.makeHD(i,r,t.handDrawScatter))[0],r=r[1]),a=Math.round,c&&(a=Number),l="M"+(a(i[0])+h)+","+(a(r[0])+s),u=1;u<i.length;u++)c&&(i[u]=e.roundTo(i[u],5),r[u]=e.roundTo(r[u],5)),l+=" L"+(a(i[u])+h)+","+(a(r[u])+s);return t=t.path(l+" Z").attr(o),f&&t.gradient("linearGradient",n,d),t},e.rect=function(t,i,r,n,o,s,a,l,d,c,h){if(isNaN(i)||isNaN(r))return t.set();isNaN(s)&&(s=0),void 0===d&&(d=0),void 0===c&&(c=270),isNaN(o)&&(o=0);var u=n,f=!1;"object"==typeof u&&(u=u[0],f=!0),void 0===a&&(a=u),void 0===l&&(l=o),i=Math.round(i),r=Math.round(r);var p=0,g=0;return 0>i&&(p=-(i=Math.abs(i))),0>r&&(g=-(r=Math.abs(r))),p+=e.dx,g+=e.dy,o={fill:u,stroke:a,"fill-opacity":o,"stroke-opacity":l},void 0!==h&&0<h&&(o["stroke-dasharray"]=h),t=t.rect(p,g,i,r,d,s).attr(o),f&&t.gradient("linearGradient",n,c),t},e.bullet=function(t,i,r,n,o,s,a,l,d,c,h,u,f){var p;switch("circle"==i&&(i="round"),i){case"round":p=e.circle(t,r/2,n,o,s,a,l);break;case"square":p=e.polygon(t,[-r/2,r/2,r/2,-r/2],[r/2,r/2,-r/2,-r/2],n,o,s,a,l,c-180,void 0,f);break;case"rectangle":p=e.polygon(t,[-r,r,r,-r],[r/2,r/2,-r/2,-r/2],n,o,s,a,l,c-180,void 0,f);break;case"diamond":p=e.polygon(t,[-r/2,0,r/2,0],[0,-r/2,0,r/2],n,o,s,a,l);break;case"triangleUp":p=e.triangle(t,r,0,n,o,s,a,l);break;case"triangleDown":p=e.triangle(t,r,180,n,o,s,a,l);break;case"triangleLeft":p=e.triangle(t,r,270,n,o,s,a,l);break;case"triangleRight":p=e.triangle(t,r,90,n,o,s,a,l);break;case"bubble":p=e.circle(t,r/2,n,o,s,a,l,!0);break;case"line":p=e.line(t,[-r/2,r/2],[0,0],n,o,s,a,l);break;case"yError":(p=t.set()).push(e.line(t,[0,0],[-r/2,r/2],n,o,s)),p.push(e.line(t,[-d,d],[-r/2,-r/2],n,o,s)),p.push(e.line(t,[-d,d],[r/2,r/2],n,o,s));break;case"xError":(p=t.set()).push(e.line(t,[-r/2,r/2],[0,0],n,o,s)),p.push(e.line(t,[-r/2,-r/2],[-d,d],n,o,s)),p.push(e.line(t,[r/2,r/2],[-d,d],n,o,s))}return p&&p.pattern(h,NaN,u),p},e.triangle=function(e,t,i,r,n,o,s,a){var l;return void 0!==o&&0!==o||(o=1),void 0===s&&(s="#000"),void 0===a&&(a=0),r={fill:r,stroke:s,"fill-opacity":n,"stroke-width":o,"stroke-opacity":a},t/=2,0===i&&(l=" M"+-t+","+t+" L0,"+-t+" L"+t+","+t+" Z"),180==i&&(l=" M"+-t+","+-t+" L0,"+t+" L"+t+","+-t+" Z"),90==i&&(l=" M"+-t+","+-t+" L"+t+",0 L"+-t+","+t+" Z"),270==i&&(l=" M"+-t+",0 L"+t+","+t+" L"+t+","+-t+" Z"),e.path(l).attr(r)},e.line=function(t,i,r,n,o,s,a,l,d,c,h){if(t.handDrawn&&!h)return e.handDrawnLine(t,i,r,n,o,s,a,l,d,c,h);for(s={fill:"none","stroke-width":s},void 0!==a&&0<a&&(s["stroke-dasharray"]=a),isNaN(o)||(s["stroke-opacity"]=o),n&&(s.stroke=n),n=Math.round,c&&(n=Number,i[0]=e.roundTo(i[0],5),r[0]=e.roundTo(r[0],5)),c=e.dx,o=e.dy,a="M"+(n(i[0])+c)+","+(n(r[0])+o),l=1;l<i.length;l++)i[l]=e.roundTo(i[l],5),r[l]=e.roundTo(r[l],5),a+=" L"+(n(i[l])+c)+","+(n(r[l])+o);return e.VML?t.path(a,void 0,!0).attr(s):(d&&(a+=" M0,0 L0,0"),t.path(a).attr(s))},e.makeHD=function(e,t,i){for(var r=[],n=[],o=1;o<e.length;o++)for(var s=Number(e[o-1]),a=Number(t[o-1]),l=Number(e[o]),d=Number(t[o]),c=Math.round(Math.sqrt(Math.pow(l-s,2)+Math.pow(d-a,2))/50)+1,h=(l=(l-s)/c,d=(d-a)/c,0);h<=c;h++){var u=a+h*d+Math.random()*i;r.push(s+h*l+Math.random()*i),n.push(u)}return[r,n]},e.handDrawnLine=function(t,i,r,n,o,s,a,l,d,c){var h,u=t.set();for(h=1;h<i.length;h++)for(var f=[i[h-1],i[h]],p=[r[h-1],r[h]],g=(f=(p=e.makeHD(f,p,t.handDrawScatter))[0],p=p[1],1);g<f.length;g++)u.push(e.line(t,[f[g-1],f[g]],[p[g-1],p[g]],n,o,s+Math.random()*t.handDrawThickness-t.handDrawThickness/2,a,l,d,c,!0));return u},e.doNothing=function(e){return e},e.drop=function(e,t,i,r,n,o,s,a){var l=1/180*Math.PI,d=i-20,c=Math.sin(d*l)*t,h=Math.cos(d*l)*t,u=Math.sin((d+40)*l)*t,f=Math.cos((d+40)*l)*t,p=.8*t,g=-t/3,m=t/3;return 0===i&&(g=-g,m=0),180==i&&(m=0),90==i&&(g=0),270==i&&(g=0,m=-m),i={fill:r,stroke:s,"stroke-width":o,"stroke-opacity":a,"fill-opacity":n},t="M"+c+","+h+" A"+t+","+t+",0,1,1,"+u+","+f+" A"+p+","+p+",0,0,0,"+(Math.sin((d+20)*l)*t+m)+","+(Math.cos((d+20)*l)*t+g),t+=" A"+p+","+p+",0,0,0,"+c+","+h,e.path(t,void 0,void 0,"1000,1000").attr(i)},e.wedge=function(t,i,r,n,o,s,a,l,d,c,h,u,f,p){var g=Math.round;s=g(s);var m=g((a=g(a))/s*(l=g(l))),v=e.VML;359.94<(x=359.5+s/100)&&(x=359.94),o>=x&&(o=x);var b,y,w=1/180*Math.PI,x=i+Math.sin(n*w)*l,C=r-Math.cos(n*w)*m,S=i+Math.sin(n*w)*s,k=r-Math.cos(n*w)*a,D=i+Math.sin((n+o)*w)*s,T=r-Math.cos((n+o)*w)*a,A=i+Math.sin((n+o)*w)*l,N=(w=r-Math.cos((n+o)*w)*m,{fill:e.adjustLuminosity(c.fill,-.2),"stroke-opacity":0,"fill-opacity":c["fill-opacity"]}),_=0;if(180<Math.abs(o)&&(_=1),n=t.set(),v&&(x=g(10*x),S=g(10*S),D=g(10*D),A=g(10*A),C=g(10*C),k=g(10*k),T=g(10*T),w=g(10*w),i=g(10*i),d=g(10*d),r=g(10*r),s*=10,a*=10,l*=10,m*=10,1>Math.abs(o)&&1>=Math.abs(D-S)&&1>=Math.abs(T-k)&&(b=!0)),o="",u&&(N["fill-opacity"]=0,N["stroke-opacity"]=c["stroke-opacity"]/2,N.stroke=c.stroke),0<d){y=" M"+x+","+(C+d)+" L"+S+","+(k+d),v?(b||(y+=" A"+(i-s)+","+(d+r-a)+","+(i+s)+","+(d+r+a)+","+S+","+(k+d)+","+D+","+(T+d)),y+=" L"+A+","+(w+d),0<l&&(b||(y+=" B"+(i-l)+","+(d+r-m)+","+(i+l)+","+(d+r+m)+","+A+","+(d+w)+","+x+","+(d+C)))):(y+=" A"+s+","+a+",0,"+_+",1,"+D+","+(T+d)+" L"+A+","+(w+d),0<l&&(y+=" A"+l+","+m+",0,"+_+",0,"+x+","+(C+d))),y+=" Z";var M=d;v&&(M/=10);for(var E=0;E<M;E+=10){var $=t.path(y,void 0,void 0,"1000,1000").attr(N);n.push($),$.translate(0,-E)}y=t.path(" M"+x+","+C+" L"+x+","+(C+d)+" L"+S+","+(k+d)+" L"+S+","+k+" L"+x+","+C+" Z",void 0,void 0,"1000,1000").attr(N),d=t.path(" M"+D+","+T+" L"+D+","+(T+d)+" L"+A+","+(w+d)+" L"+A+","+w+" L"+D+","+T+" Z",void 0,void 0,"1000,1000").attr(N),n.push(y),n.push(d)}if(v?(b||(o=" A"+g(i-s)+","+g(r-a)+","+g(i+s)+","+g(r+a)+","+g(S)+","+g(k)+","+g(D)+","+g(T)),a=" M"+g(x)+","+g(C)+" L"+g(S)+","+g(k)+o+" L"+g(A)+","+g(w)):a=" M"+x+","+C+" L"+S+","+k+" A"+s+","+a+",0,"+_+",1,"+D+","+T+" L"+A+","+w,0<l&&(v?b||(a+=" B"+(i-l)+","+(r-m)+","+(i+l)+","+(r+m)+","+A+","+w+","+x+","+C):a+=" A"+l+","+m+",0,"+_+",0,"+x+","+C),t.handDrawn&&(l=e.line(t,[x,S],[C,k],c.stroke,c.thickness*Math.random()*t.handDrawThickness,c["stroke-opacity"]),n.push(l)),t=t.path(a+" Z",void 0,void 0,"1000,1000").attr(c),h){for(l=[],m=0;m<h.length;m++)l.push(e.adjustLuminosity(c.fill,h[m]));"radial"!=p||e.isModern||(l=[]),0<l.length&&t.gradient(p+"Gradient",l)}return e.isModern&&"radial"==p&&t.grad&&(t.grad.setAttribute("gradientUnits","userSpaceOnUse"),t.grad.setAttribute("r",s),t.grad.setAttribute("cx",i),t.grad.setAttribute("cy",r)),t.pattern(u,NaN,f),n.wedge=t,n.push(t),n},e.rgb2hex=function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},e.adjustLuminosity=function(t,i){t&&-1!=t.indexOf("rgb")&&(t=e.rgb2hex(t)),6>(t=String(t).replace(/[^0-9a-f]/gi,"")).length&&(t=String(t[0])+String(t[0])+String(t[1])+String(t[1])+String(t[2])+String(t[2])),i=i||0;var r,n,o="#";for(n=0;3>n;n++)r=parseInt(t.substr(2*n,2),16),o+=("00"+(r=Math.round(Math.min(Math.max(0,r+r*i),255)).toString(16))).substr(r.length);return o}}(),function(){var e=window.AmCharts;e.Bezier=e.Class({construct:function(t,i,r,n,o,s,a,l,d,c,h){var u,f,p=t.chart,g=e.bezierX,m=e.bezierY;for(isNaN(p.bezierX)||(g=p.bezierX),isNaN(p.bezierY)||(m=p.bezierY),isNaN(g)&&(p.rotate?(g=20,m=4):(m=20,g=4)),"object"==typeof a&&1<a.length&&(f=!0,u=a,a=a[0]),"object"==typeof l&&(l=l[0]),0===l&&(a="none"),s={fill:a,"fill-opacity":l,"stroke-width":s},void 0!==d&&0<d&&(s["stroke-dasharray"]=d),isNaN(o)||(s["stroke-opacity"]=o),n&&(s.stroke=n),n="M"+Math.round(i[0])+","+Math.round(r[0])+" ",o=[],d=0;d<i.length;d++)isNaN(i[d])||isNaN(r[d])?(n+=this.drawSegment(o,g,m),d<i.length-1&&(n+="L"+i[d+1]+","+r[d+1]+" "),o=[]):o.push({x:Number(i[d]),y:Number(r[d])});n+=this.drawSegment(o,g,m),c&&(n+=c),this.path=t.path(n).attr(s),this.node=this.path.node,f&&this.path.gradient("linearGradient",u,h)},drawSegment:function(e,t,i){var r="";if(2<e.length)for(var n=0;n<e.length-1;n++){var o=[],s=e[n-1],a=e[n],l=e[n+1],d=e[n+2];0===n?(o.push({x:a.x,y:a.y}),o.push({x:a.x,y:a.y}),o.push({x:l.x,y:l.y}),o.push({x:d.x,y:d.y})):n>=e.length-2?(o.push({x:s.x,y:s.y}),o.push({x:a.x,y:a.y}),o.push({x:l.x,y:l.y}),o.push({x:l.x,y:l.y})):(o.push({x:s.x,y:s.y}),o.push({x:a.x,y:a.y}),o.push({x:l.x,y:l.y}),o.push({x:d.x,y:d.y})),s=[],a=Math.round,s.push({x:a(o[1].x),y:a(o[1].y)}),s.push({x:a((-o[0].x+t*o[1].x+o[2].x)/t),y:a((-o[0].y+i*o[1].y+o[2].y)/i)}),s.push({x:a((o[1].x+t*o[2].x-o[3].x)/t),y:a((o[1].y+i*o[2].y-o[3].y)/i)}),s.push({x:a(o[2].x),y:a(o[2].y)}),r+="C"+s[1].x+","+s[1].y+","+s[2].x+","+s[2].y+","+s[3].x+","+s[3].y+" "}else 1<e.length&&(r+="L"+e[1].x+","+e[1].y);return r}})}(),function(){var e=window.AmCharts;e.AmDraw=e.Class({construct:function(t,i,r,n){e.SVG_NS="http://www.w3.org/2000/svg",e.SVG_XLINK="http://www.w3.org/1999/xlink",e.hasSVG=!!document.createElementNS&&!!document.createElementNS(e.SVG_NS,"svg").createSVGRect,1>i&&(i=10),1>r&&(r=10),this.div=t,this.width=i,this.height=r,this.rBin=document.createElement("div"),e.hasSVG?(e.SVG=!0,i=this.createSvgElement("svg"),t.appendChild(i),this.container=i,this.addDefs(n),this.R=new e.SVGRenderer(this)):e.isIE&&e.VMLRenderer&&(e.VML=!0,e.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?((i=document.createStyleSheet()).addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),e.vmlStyleSheet=i):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=t,this.R=new e.VMLRenderer(this,n),this.R.disableSelection(t))},createSvgElement:function(t){return document.createElementNS(e.SVG_NS,t)},circle:function(t,i,r,n){var o=new e.AmDObject("circle",this);return o.attr({r:r,cx:t,cy:i}),this.addToContainer(o.node,n),o},ellipse:function(t,i,r,n,o){var s=new e.AmDObject("ellipse",this);return s.attr({rx:r,ry:n,cx:t,cy:i}),this.addToContainer(s.node,o),s},setSize:function(e,t){0<e&&0<t&&(this.container.style.width=e+"px",this.container.style.height=t+"px")},rect:function(t,i,r,n,o,s,a){var l=new e.AmDObject("rect",this);return e.VML&&(o=Math.round(100*o/Math.min(r,n)),r+=2*s,n+=2*s,l.bw=s,l.node.style.marginLeft=-s,l.node.style.marginTop=-s),1>r&&(r=1),1>n&&(n=1),l.attr({x:t,y:i,width:r,height:n,rx:o,ry:o,"stroke-width":s}),this.addToContainer(l.node,a),l},image:function(t,i,r,n,o,s){var a=new e.AmDObject("image",this);return a.attr({x:i,y:r,width:n,height:o}),this.R.path(a,t),this.addToContainer(a.node,s),a},addToContainer:function(e,t){t||(t=this.container),t.appendChild(e)},text:function(e,t,i){return this.R.text(e,t,i)},path:function(t,i,r,n){var o=new e.AmDObject("path",this);return n||(n="100,100"),o.attr({cs:n}),r?o.attr({dd:t}):o.attr({d:t}),this.addToContainer(o.node,i),o},set:function(e){return this.R.set(e)},remove:function(e){if(e){var t=this.rBin;t.appendChild(e),t.innerHTML=""}},renderFix:function(){var e=this.container,t=e.style;t.top="0px",t.left="0px";try{var i=e.getBoundingClientRect(),r=i.left-Math.round(i.left),n=i.top-Math.round(i.top);r&&(t.left=r+"px"),n&&(t.top=n+"px")}catch(e){}},update:function(){this.R.update()},addDefs:function(t){if(e.hasSVG){var i=this.createSvgElement("desc"),r=this.container;if(r.setAttribute("version","1.1"),r.style.position="absolute",this.setSize(this.width,this.height),t.accessibleTitle){var n=this.createSvgElement("text");r.appendChild(n),n.innerHTML=t.accessibleTitle,n.style.opacity=0}e.rtl&&(r.setAttribute("direction","rtl"),r.style.left="auto",r.style.right="0px"),t&&(t.addCodeCredits&&i.appendChild(document.createTextNode("JavaScript chart by amCharts "+t.version)),t.accessibleDescription&&(i.innerHTML="",i.appendChild(document.createTextNode(t.accessibleDescription))),r.appendChild(i),t.defs&&(i=this.createSvgElement("defs"),r.appendChild(i),e.parseDefs(t.defs,i),this.defs=i))}}})}(),function(){var e=window.AmCharts;e.AmDObject=e.Class({construct:function(e,t){this.D=t,this.R=t.R,this.node=this.R.create(this,e),this.y=this.x=0,this.scale=1},attr:function(e){return this.R.attr(this,e),this},getAttr:function(e){return this.node.getAttribute(e)},setAttr:function(e,t){return this.R.setAttr(this,e,t),this},clipRect:function(e,t,i,r){this.R.clipRect(this,e,t,i,r)},translate:function(e,t,i,r){r||(e=Math.round(e),t=Math.round(t)),this.R.move(this,e,t,i),this.x=e,this.y=t,this.scale=i,this.angle&&this.rotate(this.angle)},rotate:function(e,t){this.R.rotate(this,e,t),this.angle=e},animate:function(t,i,r){for(var n in t)if(t.hasOwnProperty(n)){var o=n,s=t[n];r=e.getEffect(r),this.R.animate(this,o,s,i,r)}},push:function(e){if(e){var t=this.node;t.appendChild(e.node);var i=e.clipPath;i&&t.appendChild(i),(e=e.grad)&&t.appendChild(e)}},text:function(e){this.R.setText(this,e)},remove:function(){this.stop(),this.R.remove(this)},clear:function(){var e=this.node;if(e.hasChildNodes())for(;1<=e.childNodes.length;)e.removeChild(e.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var e=this.node;if(e){this.prevNextNode=e.nextSibling;var t=e.parentNode;t&&t.appendChild(e)}},toPrevious:function(){var e=this.node;e&&this.prevNextNode&&(e=e.parentNode)&&e.insertBefore(this.prevNextNode,null)},toBack:function(){var e=this.node;if(e){this.prevNextNode=e.nextSibling;var t=e.parentNode;if(t){var i=t.firstChild;i&&t.insertBefore(e,i)}}},mouseover:function(e){return this.R.addListener(this,"mouseover",e),this},mouseout:function(e){return this.R.addListener(this,"mouseout",e),this},click:function(e){return this.R.addListener(this,"click",e),this},dblclick:function(e){return this.R.addListener(this,"dblclick",e),this},mousedown:function(e){return this.R.addListener(this,"mousedown",e),this},mouseup:function(e){return this.R.addListener(this,"mouseup",e),this},touchmove:function(e){return this.R.addListener(this,"touchmove",e),this},touchstart:function(e){return this.R.addListener(this,"touchstart",e),this},touchend:function(e){return this.R.addListener(this,"touchend",e),this},keyup:function(e){return this.R.addListener(this,"keyup",e),this},focus:function(e){return this.R.addListener(this,"focus",e),this},blur:function(e){return this.R.addListener(this,"blur",e),this},contextmenu:function(e){return this.node.addEventListener?this.node.addEventListener("contextmenu",e,!0):this.R.addListener(this,"contextmenu",e),this},stop:function(){e.removeFromArray(this.R.animations,this.an_translate),e.removeFromArray(this.R.animations,this.an_y),e.removeFromArray(this.R.animations,this.an_x)},length:function(){return this.node.childNodes.length},gradient:function(e,t,i){this.R.gradient(this,e,t,i)},pattern:function(e,t,i){e&&this.R.pattern(this,e,t,i)}})}(),function(){var e=window.AmCharts;e.VMLRenderer=e.Class({construct:function(e,t){this.chart=t,this.D=e,this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"},this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(e,t){var i;if("group"==t)i=document.createElement("div"),e.type="div";else if("text"==t)i=document.createElement("div"),e.type="text";else if("image"==t)i=document.createElement("img"),e.type="image";else{e.type="shape",e.shapeType=this.cNames[t],i=document.createElement("amvml:"+this.cNames[t]);var r=document.createElement("amvml:stroke");i.appendChild(r),e.stroke=r;var n=document.createElement("amvml:fill");i.appendChild(n),e.fill=n,n.className="amvml",r.className="amvml",i.className="amvml"}return i.style.position="absolute",i.style.top=0,i.style.left=0,i},path:function(e,t){e.node.setAttribute("src",t)},setAttr:function(t,i,r){if(void 0!==r){var n;8===document.documentMode&&(n=!0);var o=t.node,s=t.type,a=o.style;"r"==i&&(a.width=2*r,a.height=2*r),"oval"==t.shapeType&&("rx"==i&&(a.width=2*r),"ry"==i&&(a.height=2*r)),"roundrect"==t.shapeType&&("width"!=i&&"height"!=i||--r),"cursor"==i&&(a.cursor=r),"cx"==i&&(a.left=r-e.removePx(a.width)/2),"cy"==i&&(a.top=r-e.removePx(a.height)/2);var l=this.styleMap[i];if("width"==l&&0>r&&(r=0),void 0!==l&&(a[l]=r),"text"==s&&("text-anchor"==i&&(t.anchor=r,l=o.clientWidth,"end"==r&&(a.marginLeft=-l+"px"),"middle"==r&&(a.marginLeft=-l/2+"px",a.textAlign="center"),"start"==r&&(a.marginLeft="0px")),"fill"==i&&(a.color=r),"font-weight"==i&&(a.fontWeight=r)),a=t.children)for(l=0;l<a.length;l++)a[l].setAttr(i,r);"shape"==s&&("cs"==i&&(o.style.width="100px",o.style.height="100px",o.setAttribute("coordsize",r)),"d"==i&&o.setAttribute("path",this.svgPathToVml(r)),"dd"==i&&o.setAttribute("path",r),s=t.stroke,t=t.fill,"stroke"==i&&(n?s.color=r:s.setAttribute("color",r)),"stroke-width"==i&&(n?s.weight=r:s.setAttribute("weight",r)),"stroke-opacity"==i&&(n?s.opacity=r:s.setAttribute("opacity",r)),"stroke-dasharray"==i&&(a="solid",0<r&&3>r&&(a="dot"),3<=r&&6>=r&&(a="dash"),6<r&&(a="longdash"),n?s.dashstyle=a:s.setAttribute("dashstyle",a)),"fill-opacity"!=i&&"opacity"!=i||(0===r?n?t.on=!1:t.setAttribute("on",!1):n?t.opacity=r:t.setAttribute("opacity",r)),"fill"==i&&(n?t.color=r:t.setAttribute("color",r)),"rx"==i&&(n?o.arcSize=r+"%":o.setAttribute("arcsize",r+"%")))}},attr:function(e,t){for(var i in t)t.hasOwnProperty(i)&&this.setAttr(e,i,t[i])},text:function(t,i,r){var n=new e.AmDObject("text",this.D),o=n.node;return o.style.whiteSpace="pre",o.innerHTML=t,this.D.addToContainer(o,r),this.attr(n,i),n},getBBox:function(e){return this.getBox(e.node)},getBox:function(e){var t,i=e.offsetLeft,r=e.offsetTop,n=e.offsetWidth,o=e.offsetHeight;if(e.hasChildNodes()){var s,a,l;for(l=0;l<e.childNodes.length;l++){var d=(t=this.getBox(e.childNodes[l])).x;isNaN(d)||(isNaN(s)?s=d:d<s&&(s=d));var c=t.y;isNaN(c)||(isNaN(a)?a=c:c<a&&(a=c)),d=t.width+d,isNaN(d)||(n=Math.max(n,d)),t=t.height+c,isNaN(t)||(o=Math.max(o,t))}0>s&&(i+=s),0>a&&(r+=a)}return{x:i,y:r,width:n,height:o}},setText:function(e,t){var i=e.node;i&&(i.innerHTML=t),this.setAttr(e,"text-anchor",e.anchor)},addListener:function(e,t,i){e.node["on"+t]=i},move:function(t,i,r){var n=t.node,o=n.style;"text"==t.type&&(r-=e.removePx(o.fontSize)/2-1),"oval"==t.shapeType&&(i-=e.removePx(o.width)/2,r-=e.removePx(o.height)/2),t=t.bw,isNaN(t)||(i-=t,r-=t),isNaN(i)||isNaN(r)||(n.style.left=i+"px",n.style.top=r+"px")},svgPathToVml:function(e){var t=e.split(" ");e="";var i,r,n=Math.round;for(r=0;r<t.length;r++){var o,s=(o=t[r]).substring(0,1),a=(o=o.substring(1)).split(","),l=n(a[0])+","+n(a[1]);if("M"==s&&(e+=" m "+l),"L"==s&&(e+=" l "+l),"Z"==s&&(e+=" x e"),"Q"==s){var d=i.length,c=i[d-1],h=a[0],u=a[1],f=(l=a[2],a[3]);e+=" c "+(i=n(i[d-2]/3+2/3*h))+","+(c=n(c/3+2/3*u))+","+(h=n(2/3*h+l/3))+","+(u=n(2/3*u+f/3))+","+l+","+f}"C"==s&&(e+=" c "+a[0]+","+a[1]+","+a[2]+","+a[3]+","+a[4]+","+a[5]),"A"==s&&(e+=" wa "+o),"B"==s&&(e+=" at "+o),i=a}return e},animate:function(e,t,i,r,n){var o=e.node,s=this.chart;if(e.animationFinished=!1,"translate"==t){i=(t=i.split(","))[1];var a=o.offsetTop;s.animate(e,"left",o.offsetLeft,t[0],r,n,"px"),s.animate(e,"top",a,i,r,n,"px")}},clipRect:function(e,t,i,r,n){e=e.node,0===t&&0===i?(e.style.width=r+"px",e.style.height=n+"px",e.style.overflow="hidden"):e.style.clip="rect("+i+"px "+(t+r)+"px "+(i+n)+"px "+t+"px)"},rotate:function(t,i,r){if(0!==Number(i)){t=(d=t.node).style,r||(r=this.getBGColor(d.parentNode)),t.backgroundColor=r,t.paddingLeft=1,r=i*Math.PI/180;var n=Math.cos(r),o=Math.sin(r),s=e.removePx(t.left),a=e.removePx(t.top),l=d.offsetWidth,d=d.offsetHeight;i/=Math.abs(i),t.left=s+l/2-l/2*Math.cos(r)-i*d/2*Math.sin(r)+3,t.top=a-i*l/2*Math.sin(r)+i*d/2*Math.sin(r),t.cssText=t.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+n+"', M12='"+-o+"', M21='"+o+"', M22='"+n+"', sizingmethod='auto expand');"}},getBGColor:function(e){var t="#FFFFFF";if(e.style){var i=e.style.backgroundColor;""!==i?t=i:e.parentNode&&(t=this.getBGColor(e.parentNode))}return t},set:function(t){var i,r=new e.AmDObject("group",this.D);if(this.D.container.appendChild(r.node),t)for(i=0;i<t.length;i++)r.push(t[i]);return r},gradient:function(e,t,i,r){var n,o="";for("radialGradient"==t&&(t="gradientradial",i.reverse()),"linearGradient"==t&&(t="gradient"),n=0;n<i.length;n++)o+=Math.round(100*n/(i.length-1))+"% "+i[n],n<i.length-1&&(o+=",");e=e.fill,90==r?r=0:270==r?r=180:180==r?r=90:0===r&&(r=270),8===document.documentMode?(e.type=t,e.angle=r):(e.setAttribute("type",t),e.setAttribute("angle",r)),o&&(e.colors.value=o)},remove:function(e){e.clipPath&&this.D.remove(e.clipPath),this.D.remove(e.node)},disableSelection:function(e){e.onselectstart=function(){return!1},e.style.cursor="default"},pattern:function(t,i,r,n){r=t.node,t=t.fill;var o="none";i.color&&(o=i.color),r.fillColor=o,i=i.url,e.isAbsolute(i)||(i=n+i),8===document.documentMode?(t.type="tile",t.src=i):(t.setAttribute("type","tile"),t.setAttribute("src",i))},update:function(){}})}(),function(){var e=window.AmCharts;e.SVGRenderer=e.Class({construct:function(e){this.D=e,this.animations=[]},create:function(t,i){return document.createElementNS(e.SVG_NS,i)},attr:function(e,t){for(var i in t)t.hasOwnProperty(i)&&this.setAttr(e,i,t[i])},setAttr:function(e,t,i){void 0!==i&&e.node.setAttribute(t,i)},animate:function(t,i,r,n,o){t.animationFinished=!1;var s=t.node;t["an_"+i]&&e.removeFromArray(this.animations,t["an_"+i]),"translate"==i?0===(s=(s=(s=(s=s.getAttribute("transform"))?String(s).substring(10,s.length-1):"0,0").split(", ").join(" ")).split(" ").join(","))&&(s="0,0"):s=Number(s.getAttribute(i)),r={obj:t,frame:0,attribute:i,from:s,to:r,time:n,effect:o},this.animations.push(r),t["an_"+i]=r},update:function(){var t,i=this.animations;for(t=i.length-1;0<=t;t--){var r,n,o,s=i[t],a=s.time*e.updateRate,l=s.frame+1,d=s.obj,c=s.attribute;if(l<=a){if(s.frame++,"translate"==c){if(r=s.from.split(","),c=Number(r[0]),r=Number(r[1]),isNaN(r)&&(r=0),n=s.to.split(","),o=Number(n[0]),n=Number(n[1]),o=0==o-c?o:Math.round(e[s.effect](0,l,c,o-c,a)),s=0==n-r?n:Math.round(e[s.effect](0,l,r,n-r,a)),c="transform",isNaN(o)||isNaN(s))continue;s="translate("+o+","+s+")"}else n=Number(s.from),o=(r=Number(s.to))-n,s=e[s.effect](0,l,n,o,a),isNaN(s)&&(s=r),0===o&&this.animations.splice(t,1);this.setAttr(d,c,s)}else"translate"==c?(n=s.to.split(","),o=Number(n[0]),n=Number(n[1]),d.translate(o,n)):(r=Number(s.to),this.setAttr(d,c,r)),d.animationFinished=!0,this.animations.splice(t,1)}},getBBox:function(e){if(e=e.node)try{return e.getBBox()}catch(e){}return{width:0,height:0,x:0,y:0}},path:function(t,i){t.node.setAttributeNS(e.SVG_XLINK,"xlink:href",i)},clipRect:function(t,i,r,n,o){var s=t.node,a=t.clipPath;a&&this.D.remove(a);var l=s.parentNode;l&&(s=document.createElementNS(e.SVG_NS,"clipPath"),a=e.getUniqueId(),s.setAttribute("id",a),this.D.rect(i,r,n,o,0,0,s),l.appendChild(s),i="#",e.baseHref&&!e.isIE&&(i=this.removeTarget(window.location.href)+i),this.setAttr(t,"clip-path","url("+i+a+")"),this.clipPathC++,t.clipPath=s)},text:function(t,i,r){var n=new e.AmDObject("text",this.D);t=String(t).split("\n");var o,s=e.removePx(i["font-size"]);for(o=0;o<t.length;o++){var a=this.create(null,"tspan");a.appendChild(document.createTextNode(t[o])),a.setAttribute("y",(s+2)*o+Math.round(s/2)),a.setAttribute("x",0),n.node.appendChild(a)}return n.node.setAttribute("y",Math.round(s/2)),this.attr(n,i),this.D.addToContainer(n.node,r),n},setText:function(e,t){var i=e.node;i&&(i.removeChild(i.firstChild),i.appendChild(document.createTextNode(t)))},move:function(e,t,i,r){isNaN(t)&&(t=0),isNaN(i)&&(i=0),t="translate("+t+","+i+")",r&&(t=t+" scale("+r+")"),this.setAttr(e,"transform",t)},rotate:function(e,t){var i=e.node.getAttribute("transform"),r="rotate("+t+")";i&&(r=i+" "+r),this.setAttr(e,"transform",r)},set:function(t){var i,r=new e.AmDObject("g",this.D);if(this.D.container.appendChild(r.node),t)for(i=0;i<t.length;i++)r.push(t[i]);return r},addListener:function(e,t,i){e.node["on"+t]=i},gradient:function(t,i,r,n){var o=t.node,s=t.grad;if(s&&this.D.remove(s),i=document.createElementNS(e.SVG_NS,i),s=e.getUniqueId(),i.setAttribute("id",s),!isNaN(n)){var a=0,l=0,d=0,c=0;90==n?d=100:270==n?c=100:180==n?a=100:0===n&&(l=100),i.setAttribute("x1",a+"%"),i.setAttribute("x2",l+"%"),i.setAttribute("y1",d+"%"),i.setAttribute("y2",c+"%")}for(n=0;n<r.length;n++)a=document.createElementNS(e.SVG_NS,"stop"),l=100*n/(r.length-1),0===n&&(l=0),a.setAttribute("offset",l+"%"),a.setAttribute("stop-color",r[n]),i.appendChild(a);o.parentNode.appendChild(i),r="#",e.baseHref&&!e.isIE&&(r=this.removeTarget(window.location.href)+r),o.setAttribute("fill","url("+r+s+")"),t.grad=i},removeTarget:function(e){return e.split("#")[0]},pattern:function(t,i,r,n){var o=t.node;isNaN(r)&&(r=1),(s=t.patternNode)&&this.D.remove(s);var s=document.createElementNS(e.SVG_NS,"pattern"),a=e.getUniqueId(),l=i;i.url&&(l=i.url),e.isAbsolute(l)||-1!=l.indexOf("data:image")||(l=n+l),n=Number(i.width),isNaN(n)&&(n=4);var d=Number(i.height);isNaN(d)&&(d=4),n/=r,d/=r,r=i.x,isNaN(r)&&(r=0);var c=-Math.random()*Number(i.randomX);isNaN(c)||(r=c),c=i.y,isNaN(c)&&(c=0);var h=-Math.random()*Number(i.randomY);isNaN(h)||(c=h),s.setAttribute("id",a),s.setAttribute("width",n),s.setAttribute("height",d),s.setAttribute("patternUnits","userSpaceOnUse"),s.setAttribute("xlink:href",l),i.color&&((h=document.createElementNS(e.SVG_NS,"rect")).setAttributeNS(null,"height",n),h.setAttributeNS(null,"width",d),h.setAttributeNS(null,"fill",i.color),s.appendChild(h)),this.D.image(l,0,0,n,d,s).translate(r,c),l="#",e.baseHref&&!e.isIE&&(l=this.removeTarget(window.location.href)+l),o.setAttribute("fill","url("+l+a+")"),t.patternNode=s,o.parentNode.appendChild(s)},remove:function(e){e.clipPath&&this.D.remove(e.clipPath),e.grad&&this.D.remove(e.grad),e.patternNode&&this.D.remove(e.patternNode),this.D.remove(e.node)}})}(),function(){var e=window.AmCharts;e.AmLegend=e.Class({construct:function(t){this.enabled=!0,this.cname="AmLegend",this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","clickLabel"),this.position="bottom",this.borderColor=this.color="#000000",this.borderAlpha=0,this.markerLabelGap=5,this.verticalGap=10,this.align="left",this.horizontalGap=0,this.spacing=10,this.markerDisabledColor="#AAB3B3",this.markerType="square",this.markerSize=16,this.markerBorderThickness=this.markerBorderAlpha=1,this.marginBottom=this.marginTop=0,this.marginLeft=this.marginRight=20,this.autoMargins=!0,this.valueWidth=50,this.switchable=!0,this.switchType="x",this.switchColor="#FFFFFF",this.rollOverColor="#CC0000",this.reversedOrder=!1,this.labelText="[[title]]",this.valueText="[[value]]",this.accessibleLabel="[[title]]",this.useMarkerColorForLabels=!1,this.rollOverGraphAlpha=1,this.textClickEnabled=!1,this.equalWidths=!0,this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.useGraphSettings=!1,this.showEntries=!0,this.labelDx=0,e.applyTheme(this,t,this.cname)},setData:function(e){this.legendData=e,this.invalidateSize()},invalidateSize:function(){this.destroy(),this.entries=[],this.valueLabels=[];var t=this.legendData;this.enabled&&(e.ifArray(t)||e.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var t=this.chart,i=this.position,r=this.width,n=t.divRealWidth,o=t.divRealHeight,s=this.div,a=this.legendData;if(this.data&&(a=this.combineLegend?this.legendData.concat(this.data):this.data),isNaN(this.fontSize)&&(this.fontSize=t.fontSize),this.maxColumnsReal=this.maxColumns,"right"==i||"left"==i)this.maxColumnsReal=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=t.marginRight,this.marginLeft=t.marginLeft;var l=t.autoMarginOffset;"bottom"==i?(this.marginBottom=l,this.marginTop=0):(this.marginTop=l,this.marginBottom=0)}if(r=void 0!==r?e.toCoordinate(r,n):"right"!=i&&"left"!=i?t.realWidth:0<this.ieW?this.ieW:t.realWidth,"outside"==i?(r=s.offsetWidth,o=s.offsetHeight,s.clientHeight&&(r=s.clientWidth,o=s.clientHeight)):(isNaN(r)||(s.style.width=r+"px"),s.className="amChartsLegend "+t.classNamePrefix+"-legend-div"),this.divWidth=r,(i=this.container)?(i.container.innerHTML="",s.appendChild(i.container),i.width=r,i.height=o,i.setSize(r,o),i.addDefs(t)):i=new e.AmDraw(s,r,o,t),this.container=i,this.lx=0,this.ly=8,(o=this.markerSize)>this.fontSize&&(this.ly=o/2-1),0<o&&(this.lx+=o+this.markerLabelGap),this.titleWidth=0,(o=this.title)&&(o=e.text(this.container,o,this.color,t.fontFamily,this.fontSize,"start",!0),e.setCN(t,o,"legend-title"),o.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),t=o.getBBox(),this.titleWidth=t.width+15,this.titleHeight=t.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(t=0;t<a.length;t++)this.createEntry(a[t]);for(t=this.index=0;t<a.length;t++)this.createValue(a[t])}this.arrangeEntries(),this.updateValues()},arrangeEntries:function(){var t=this.position,i=this.marginLeft+this.titleWidth,r=this.marginRight,n=this.marginTop,o=this.marginBottom,s=this.horizontalGap,a=this.div,l=this.divWidth,d=this.maxColumnsReal,c=this.verticalGap,h=this.spacing,u=l-r-i,f=0,p=0,g=this.container;this.set&&this.set.remove();var m=g.set();this.set=m;var v=g.set();m.push(v);var b,y,w=this.entries;for(y=0;y<w.length;y++){(x=(b=w[y].getBBox()).width)>f&&(f=x),(b=b.height)>p&&(p=b)}var x=p=0,C=s,S=0,k=0;for(y=0;y<w.length;y++){var D,T=w[y];this.reversedOrder&&(T=w[w.length-y-1]),b=T.getBBox(),this.equalWidths?D=x*(f+h+this.markerLabelGap):(D=C,C=C+b.width+s+h),D+b.width>u&&0<y&&0!==x&&(p++,C=(D=x=0)+b.width+s+h,S=S+k+c,k=0),b.height>k&&(k=b.height),T.translate(D,S),x++,!isNaN(d)&&x>=d&&(x=0,p++,S=S+k+c,C=s,k=0),v.push(T)}d=(b=v.getBBox()).height+2*c-1,"left"==t||"right"==t?(l=(h=b.width+2*s)+i+r,a.style.width=l+"px",this.ieW=l):h=l-i-r-1,r=e.polygon(this.container,[0,h,h,0],[0,0,d,d],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),e.setCN(this.chart,r,"legend-bg"),m.push(r),m.translate(i,n),r.toBack(),i=s,"top"!=t&&"bottom"!=t&&"absolute"!=t&&"outside"!=t||("center"==this.align?i=s+(h-b.width)/2:"right"==this.align&&(i=s+h-b.width)),v.translate(i,c+1),this.titleHeight>d&&(d=this.titleHeight),0>(n=d+n+o+1)&&(n=0),"absolute"!=t&&"outside"!=t&&n>this.chart.divRealHeight&&(a.style.top="0px"),a.style.height=Math.round(n)+"px",g.setSize(this.divWidth,n)},createEntry:function(t){if(!1!==t.visibleInLegend&&!t.hideFromLegend){var i=this,r=i.chart,n=i.useGraphSettings,o=t.markerType;o&&(n=!1),t.legendEntryWidth=i.markerSize,o||(o=i.markerType);var s,a=t.color,l=t.alpha;t.legendKeyColor&&(a=t.legendKeyColor()),t.legendKeyAlpha&&(l=t.legendKeyAlpha()),!0===t.hidden&&(s=a=i.markerDisabledColor);var d,c=t.pattern,h=t.customMarker;h||(h=i.customMarker);var u,f,p=i.container,g=i.markerSize,m=0,v=0,b=g/2;if(n)n=t.type,i.switchType=void 0,"line"==n||"step"==n||"smoothedLine"==n||"ohlc"==n?(d=p.set(),t.hidden||(a=t.lineColorR,s=t.bulletBorderColorR),m=e.line(p,[0,2*g],[g/2,g/2],a,t.lineAlpha,t.lineThickness,t.dashLength),e.setCN(r,m,"graph-stroke"),d.push(m),t.bullet&&(t.hidden||(a=t.bulletColorR),m=e.bullet(p,t.bullet,t.bulletSize,a,t.bulletAlpha,t.bulletBorderThickness,s,t.bulletBorderAlpha))&&(e.setCN(r,m,"graph-bullet"),m.translate(g+1,g/2),d.push(m)),b=0,m=g,v=g/3):(t.getGradRotation&&(0===(d=t.getGradRotation())&&(d=180)),m=t.fillColorsR,!0===t.hidden&&(m=a),(d=i.createMarker("rectangle",m,t.fillAlphas,t.lineThickness,a,t.lineAlpha,d,c,t.dashLength))&&(b=g,d.translate(b,g/2)),m=g),e.setCN(r,d,"graph-"+n),e.setCN(r,d,"graph-"+t.id);else if(h)d=p.image(h,0,0,g,g);else{var y;isNaN(i.gradientRotation)||(y=180+i.gradientRotation),(d=i.createMarker(o,a,l,void 0,void 0,void 0,y,c))&&d.translate(g/2,g/2)}e.setCN(r,d,"legend-marker"),i.addListeners(d,t),p=p.set([d]),i.switchable&&t.switchable&&p.setAttr("cursor","pointer"),void 0!==t.id&&e.setCN(r,p,"legend-item-"+t.id),e.setCN(r,p,t.className,!0),(s=i.switchType)&&"none"!=s&&0<g&&("x"==s?(u=i.createX()).translate(g/2,g/2):u=i.createV(),u.dItem=t,!0!==t.hidden?"x"==s?u.hide():u.show():"x"!=s&&u.hide(),i.switchable||u.hide(),i.addListeners(u,t),t.legendSwitch=u,p.push(u),e.setCN(r,u,"legend-switch")),s=i.color,t.showBalloon&&i.textClickEnabled&&void 0!==i.selectedColor&&(s=i.selectedColor),i.useMarkerColorForLabels&&!c&&(s=a),!0===t.hidden&&(s=i.markerDisabledColor),a=e.massReplace(i.labelText,{"[[title]]":t.title}),void 0!==i.tabIndex&&(p.setAttr("tabindex",i.tabIndex),p.setAttr("role","menuitem"),p.keyup(function(e){13==e.keyCode&&i.clickMarker(t,e)})),r.accessible&&i.accessibleLabel&&(c=e.massReplace(i.accessibleLabel,{"[[title]]":t.title}),r.makeAccessible(p,c)),c=i.fontSize,d&&(g<=c&&(g=g/2+i.ly-c/2+(c+2-g)/2-v,d.translate(b,g),u&&u.translate(u.x,g)),t.legendEntryWidth=d.getBBox().width),a&&(a=e.fixBrakes(a),t.legendTextReal=a,f=i.labelWidth,f=isNaN(f)?e.text(i.container,a,s,r.fontFamily,c,"start"):e.wrappedText(i.container,a,s,r.fontFamily,c,"start",!1,f,0),e.setCN(r,f,"legend-label"),f.translate(i.lx+m,i.ly),p.push(f),i.labelDx=m,r=f.getBBox().width,i.maxLabelWidth<r&&(i.maxLabelWidth=r)),i.entries[i.index]=p,t.legendEntry=i.entries[i.index],t.legendMarker=d,t.legendLabel=f,i.index++}},addListeners:function(e,t){var i=this;e&&e.mouseover(function(e){i.rollOverMarker(t,e)}).mouseout(function(e){i.rollOutMarker(t,e)}).click(function(e){i.clickMarker(t,e)})},rollOverMarker:function(e,t){this.switchable&&this.dispatch("rollOverMarker",e,t),this.dispatch("rollOverItem",e,t)},rollOutMarker:function(e,t){this.switchable&&this.dispatch("rollOutMarker",e,t),this.dispatch("rollOutItem",e,t)},clickMarker:function(e,t){this.switchable&&(!0===e.hidden?this.dispatch("showItem",e,t):this.dispatch("hideItem",e,t)),this.dispatch("clickMarker",e,t)},rollOverLabel:function(e,t){e.hidden||this.textClickEnabled&&e.legendLabel&&e.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",e,t)},rollOutLabel:function(e,t){if(!e.hidden&&this.textClickEnabled&&e.legendLabel){var i=this.color;void 0!==this.selectedColor&&e.showBalloon&&(i=this.selectedColor),this.useMarkerColorForLabels&&(void 0===(i=e.lineColor)&&(i=e.color)),e.legendLabel.attr({fill:i})}this.dispatch("rollOutItem",e,t)},clickLabel:function(e,t){this.textClickEnabled?e.hidden||this.dispatch("clickLabel",e,t):this.switchable&&(!0===e.hidden?this.dispatch("showItem",e,t):this.dispatch("hideItem",e,t))},dispatch:function(e,t,i){e={type:e,dataItem:t,target:this,event:i,chart:this.chart},this.chart&&this.chart.handleLegendEvent(e),this.fire(e)},createValue:function(t){var i=this,r=i.fontSize,n=i.chart;if(!1!==t.visibleInLegend&&!t.hideFromLegend){var o=i.maxLabelWidth,s=0;i.forceWidth&&(o=i.labelWidth),i.equalWidths||(i.valueAlign="left"),s={x:0,y:0,width:0,height:0},t.legendLabel&&(s=t.legendLabel.getBBox()),"left"==i.valueAlign&&(o=s.width);s=s.height;var a=o,l=i.markerSize;if(l<r+7&&(l=r+7,e.VML&&(l+=3)),i.valueText&&0<i.valueWidth){var d=i.color;i.useMarkerColorForValues&&(d=t.color,t.legendKeyColor&&(d=t.legendKeyColor())),!0===t.hidden&&(d=i.markerDisabledColor);var c=i.valueText,h=(o=o+i.lx+i.labelDx+i.markerLabelGap+i.valueWidth,"end");"left"==i.valueAlign&&(o-=i.valueWidth,h="start"),r=e.text(i.container,c,d,i.chart.fontFamily,r,h),e.setCN(n,r,"legend-value"),r.translate(o,i.ly),i.entries[i.index].push(r),a+=i.valueWidth+2*i.markerLabelGap,r.dItem=t,i.valueLabels.push(r),l<s+5&&(l=s+5)}i.index++,(n=i.container.rect(t.legendEntryWidth,0,a,l,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005})).dItem=t,i.entries[i.index-1].push(n),n.mouseover(function(e){i.rollOverLabel(t,e)}).mouseout(function(e){i.rollOutLabel(t,e)}).click(function(e){i.clickLabel(t,e)})}},createV:function(){var t=this.markerSize;return e.polygon(this.container,[t/5,t/2,t-t/5,t/2],[t/3,t-t/5,t/5,t/1.7],this.switchColor)},createX:function(){var t=(this.markerSize-4)/2,i={stroke:this.switchColor,"stroke-width":3},r=this.container,n=e.line(r,[-t,t],[-t,t]).attr(i);t=e.line(r,[-t,t],[t,-t]).attr(i);return this.container.set([n,t])},createMarker:function(t,i,r,n,o,s,a,l,d){var c=this.markerSize,h=this.container;return o||(o=this.markerBorderColor),o||(o=i),isNaN(n)&&(n=this.markerBorderThickness),isNaN(s)&&(s=this.markerBorderAlpha),e.bullet(h,t,c,i,r,n,o,s,c,a,l,this.chart.path,d)},validateNow:function(){this.invalidateSize()},updateValues:function(){var t,i=this.valueLabels,r=this.chart,n=this.data;if(i)for(t=0;t<i.length;t++){var o=i[t],s=o.dItem;s.periodDataItem=void 0,s.periodPercentDataItem=void 0;var a=" ";if(n)s.value?o.text(s.value):o.text("");else{var l=null;if(void 0!==s.type){l=s.currentDataItem;var d=this.periodValueText;s.legendPeriodValueText&&(d=s.legendPeriodValueText),s.legendPeriodValueTextR&&(d=s.legendPeriodValueTextR),l?(a=this.valueText,s.legendValueText&&(a=s.legendValueText),s.legendValueTextR&&(a=s.legendValueTextR),a=r.formatString(a,l)):d&&r.formatPeriodString&&(d=e.massReplace(d,{"[[title]]":s.title}),a=r.formatPeriodString(d,s))}else a=r.formatString(this.valueText,s);d=s,l&&(d=l);var c,h=this.valueFunction;h&&(a=h(d,a,r.periodDataItem)),this.useMarkerColorForLabels&&!l&&s.lastDataItem&&(l=s.lastDataItem),l?c=r.getBalloonColor(s,l):s.legendKeyColor&&(c=s.legendKeyColor()),s.legendColorFunction&&(c=s.legendColorFunction(d,a,s.periodDataItem,s.periodPercentDataItem)),o.text(a),!s.pattern&&(this.useMarkerColorForValues&&o.setAttr("fill",c),this.useMarkerColorForLabels)&&((o=s.legendMarker)&&(o.setAttr("fill",c),o.setAttr("stroke",c)),(o=s.legendLabel)&&(s.hidden?o.setAttr("fill",this.markerDisabledColor):o.setAttr("fill",c)))}}},renderFix:function(){if(!e.VML&&this.enabled){var t=this.container;t&&t.renderFix()}},destroy:function(){this.div.innerHTML="",e.remove(this.set)}})}(),function(){var e=window.AmCharts;e.formatMilliseconds=function(e,t){if(-1!=e.indexOf("fff")){var i=t.getMilliseconds(),r=String(i);10>i&&(r="00"+i),10<=i&&100>i&&(r="0"+i),e=e.replace(/fff/g,r)}return e},e.extractPeriod=function(t){var i=e.stripNumbers(t),r=1;return i!=t&&(r=Number(t.slice(0,t.indexOf(i)))),{period:i,count:r}},e.getDate=function(t,i,r){return t instanceof Date?e.newDate(t,r):i&&isNaN(t)?e.stringToDate(t,i):new Date(t)},e.daysInMonth=function(e){return new Date(e.getYear(),e.getMonth()+1,0).getDate()},e.newDate=function(e,t){return t&&-1==t.indexOf("fff")?new Date(e):new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},e.resetDateToMin=function(t,i,r,n){var o,s,a,l,d,c,h;switch(void 0===n&&(n=1),e.useUTC?(o=t.getUTCFullYear(),s=t.getUTCMonth(),a=t.getUTCDate(),l=t.getUTCHours(),d=t.getUTCMinutes(),c=t.getUTCSeconds(),h=t.getUTCMilliseconds(),t=t.getUTCDay()):(o=t.getFullYear(),s=t.getMonth(),a=t.getDate(),l=t.getHours(),d=t.getMinutes(),c=t.getSeconds(),h=t.getMilliseconds(),t=t.getDay()),i){case"YYYY":o=Math.floor(o/r)*r,s=0,a=1,h=c=d=l=0;break;case"MM":s=Math.floor(s/r)*r,a=1,h=c=d=l=0;break;case"WW":a=t>=n?a-t+n:a-(7+t)+n,h=c=d=l=0;break;case"DD":h=c=d=l=0;break;case"hh":l=Math.floor(l/r)*r,h=c=d=0;break;case"mm":d=Math.floor(d/r)*r,h=c=0;break;case"ss":c=Math.floor(c/r)*r,h=0;break;case"fff":h=Math.floor(h/r)*r}return e.useUTC?((t=new Date).setUTCFullYear(o,s,a),t.setUTCHours(l,d,c,h)):t=new Date(o,s,a,l,d,c,h),t},e.getPeriodDuration=function(e,t){var i;switch(void 0===t&&(t=1),e){case"YYYY":i=316224e5;break;case"MM":i=26784e5;break;case"WW":i=6048e5;break;case"DD":i=864e5;break;case"hh":i=36e5;break;case"mm":i=6e4;break;case"ss":i=1e3;break;case"fff":i=1}return i*t},e.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:1/0,count:3}},e.getMaxInterval=function(t,i){var r=e.intervals;return t>=r[i].contains?(t=Math.round(t/r[i].contains),i=r[i].nextInterval,e.getMaxInterval(t,i)):"ss"==i?r[i].nextInterval:i},e.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),e.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" "),e.monthNames="January February March April May June July August September October November December".split(" "),e.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),e.getWeekNumber=function(e){(e=new Date(e)).setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)},e.stringToDate=function(t,i){var r={},n=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],o=!0;-1!=(d=i.indexOf("AA"))&&(t.substr(d,2),"pm"==t.toLowerCase&&(o=!1));var s,a,l,d=i;for(l=0;l<n.length;l++)r[a=n[l].period]=0,"date"==a&&(r[a]=1);for(l=0;l<n.length;l++)if(s=n[l].pattern,a=n[l].period,-1!=i.indexOf(s)){var c=e.getFromDateString(s,t,d);i=i.replace(s,""),"KK"!=s&&"K"!=s&&"LL"!=s&&"L"!=s||o||(c+=12),r[a]=c}return e.useUTC?((n=new Date).setUTCFullYear(r.year,r.month,r.date),n.setUTCHours(r.hours,r.minutes,r.seconds,r.milliseconds)):n=new Date(r.year,r.month,r.date,r.hours,r.minutes,r.seconds,r.milliseconds),n},e.getFromDateString=function(e,t,i){if(void 0!==t)return i=i.indexOf(e),"0"==(t=(t=String(t)).substr(i,e.length)).charAt(0)&&(t=t.substr(1,t.length-1)),t=Number(t),isNaN(t)&&(t=0),-1!=e.indexOf("M")&&t--,t},e.formatDate=function(t,i,r){r||(r=e);var n,o,s,a,l,d,c,h,u=e.getWeekNumber(t);e.useUTC?(n=t.getUTCFullYear(),o=t.getUTCMonth(),s=t.getUTCDate(),a=t.getUTCDay(),l=t.getUTCHours(),d=t.getUTCMinutes(),c=t.getUTCSeconds(),h=t.getUTCMilliseconds()):(n=t.getFullYear(),o=t.getMonth(),s=t.getDate(),a=t.getDay(),l=t.getHours(),d=t.getMinutes(),c=t.getSeconds(),h=t.getMilliseconds());var f=String(n).substr(2,2),p="0"+a;i=i.replace(/W/g,u),24==(u=l)&&(u=0);var g=u;10>g&&(g="0"+g),i=(i=i.replace(/JJ/g,g)).replace(/J/g,u),0===(g=l)&&(g=24,-1!=i.indexOf("H")&&(0===--s&&((n=new Date(t)).setDate(n.getDate()-1),o=n.getMonth(),s=n.getDate(),n=n.getFullYear()))),t=o+1,9>o&&(t="0"+t),u=s,10>s&&(u="0"+s);var m=g;return 10>m&&(m="0"+m),i=(i=i.replace(/HH/g,m)).replace(/H/g,g),11<(g=l)&&(g-=12),10>(m=g)&&(m="0"+m),i=(i=i.replace(/KK/g,m)).replace(/K/g,g),0===(g=l)&&(g=12),12<g&&(g-=12),10>(m=g)&&(m="0"+m),i=(i=i.replace(/LL/g,m)).replace(/L/g,g),10>(g=d)&&(g="0"+g),i=(i=i.replace(/NN/g,g)).replace(/N/g,d),10>(d=c)&&(d="0"+d),i=(i=i.replace(/SS/g,d)).replace(/S/g,c),10>(c=h)?c="00"+c:100>c&&(c="0"+c),10>(d=h)&&(d="00"+d),i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=i.replace(/A/g,"@A@")).replace(/QQQ/g,c)).replace(/QQ/g,d)).replace(/Q/g,h)).replace(/YYYY/g,"@IIII@")).replace(/YY/g,"@II@")).replace(/MMMM/g,"@XXXX@")).replace(/MMM/g,"@XXX@")).replace(/MM/g,"@XX@")).replace(/M/g,"@X@")).replace(/DD/g,"@RR@")).replace(/D/g,"@R@")).replace(/EEEE/g,"@PPPP@")).replace(/EEE/g,"@PPP@")).replace(/EE/g,"@PP@")).replace(/E/g,"@P@")).replace(/@IIII@/g,n)).replace(/@II@/g,f)).replace(/@XXXX@/g,r.monthNames[o])).replace(/@XXX@/g,r.shortMonthNames[o])).replace(/@XX@/g,t)).replace(/@X@/g,o+1)).replace(/@RR@/g,u)).replace(/@R@/g,s)).replace(/@PPPP@/g,r.dayNames[a])).replace(/@PPP@/g,r.shortDayNames[a])).replace(/@PP@/g,p)).replace(/@P@/g,a),12>l?i.replace(/@A@/g,r.amString):i.replace(/@A@/g,r.pmString)},e.changeDate=function(t,i,r,n,o){if(e.useUTC)return e.changeUTCDate(t,i,r,n,o);var s=-1;switch(void 0===n&&(n=!0),void 0===o&&(o=!1),!0===n&&(s=1),i){case"YYYY":t.setFullYear(t.getFullYear()+r*s),n||o||t.setDate(t.getDate()+1);break;case"MM":i=t.getMonth();var a=t.getFullYear();t.setMonth(t.getMonth()+r*s),a==t.getFullYear()&&t.getMonth()>i+r*s&&t.setDate(t.getDate()-1),n||o||t.setDate(t.getDate()+1);break;case"DD":t.setDate(t.getDate()+r*s);break;case"WW":t.setDate(t.getDate()+r*s*7);break;case"hh":t.setHours(t.getHours()+r*s);break;case"mm":t.setMinutes(t.getMinutes()+r*s);break;case"ss":t.setSeconds(t.getSeconds()+r*s);break;case"fff":t.setMilliseconds(t.getMilliseconds()+r*s)}return t},e.changeUTCDate=function(e,t,i,r,n){var o=-1;switch(void 0===r&&(r=!0),void 0===n&&(n=!1),!0===r&&(o=1),t){case"YYYY":e.setUTCFullYear(e.getUTCFullYear()+i*o),r||n||e.setUTCDate(e.getUTCDate()+1);break;case"MM":t=e.getUTCMonth(),e.setUTCMonth(e.getUTCMonth()+i*o),e.getUTCMonth()>t+i*o&&e.setUTCDate(e.getUTCDate()-1),r||n||e.setUTCDate(e.getUTCDate()+1);break;case"DD":e.setUTCDate(e.getUTCDate()+i*o);break;case"WW":e.setUTCDate(e.getUTCDate()+i*o*7);break;case"hh":e.setUTCHours(e.getUTCHours()+i*o);break;case"mm":e.setUTCMinutes(e.getUTCMinutes()+i*o);break;case"ss":e.setUTCSeconds(e.getUTCSeconds()+i*o);break;case"fff":e.setUTCMilliseconds(e.getUTCMilliseconds()+i*o)}return e}}()},xgXc:function(e,t,i){var r,n,o,s;!function(){"use strict";var e,t,i,r,n,o,a;o=864e5,a=3600,e=function(e,t){return"string"==typeof e&&"string"==typeof t&&e.toLowerCase()===t.toLowerCase()},t=function(e,i,r){var n=r||"0",o=e.toString();return o.length<i?t(n+o,i):o},i=function(e){var t,r;for(e=e||{},t=1;t<arguments.length;t++)if(r=arguments[t])for(var n in r)r.hasOwnProperty(n)&&("object"==typeof r[n]?i(e[n],r[n]):e[n]=r[n]);return e},r=function(e,t){for(var i=0;i<t.length;i++)if(t[i].toLowerCase()===e.toLowerCase())return i;return-1},n={dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function(e){var t=e%10,i={1:"st",2:"nd",3:"rd"};return 1!==Math.floor(e%100/10)&&i[t]?i[t]:"th"}},separators:/[ \-+\/\.T:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g},(s=function(e){var t=this,r=i(n,e);t.dateSettings=r.dateSettings,t.separators=r.separators,t.validParts=r.validParts,t.intParts=r.intParts,t.tzParts=r.tzParts,t.tzClip=r.tzClip}).prototype={constructor:s,getMonth:function(e){var t;return 0===(t=r(e,this.dateSettings.monthsShort)+1)&&(t=r(e,this.dateSettings.months)+1),t},parseDate:function(t,i){var r,n,o,s,a,l,d,c,h,u,f=this,p=!1,g=!1,m=f.dateSettings,v={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(!t)return null;if(t instanceof Date)return t;if("U"===i)return(o=parseInt(t))?new Date(1e3*o):t;switch(typeof t){case"number":return new Date(t);case"string":break;default:return null}if(!(r=i.match(f.validParts))||0===r.length)throw new Error("Invalid date format definition.");for(n=t.replace(f.separators,"\0").split("\0"),o=0;o<n.length;o++)switch(s=n[o],a=parseInt(s),r[o]){case"y":case"Y":if(!a)return null;h=s.length,v.year=2===h?parseInt((70>a?"20":"19")+s):a,p=!0;break;case"m":case"n":case"M":case"F":if(isNaN(a)){if(!((l=f.getMonth(s))>0))return null;v.month=l}else{if(!(a>=1&&12>=a))return null;v.month=a}p=!0;break;case"d":case"j":if(!(a>=1&&31>=a))return null;v.day=a,p=!0;break;case"g":case"h":if(u=n[d=r.indexOf("a")>-1?r.indexOf("a"):r.indexOf("A")>-1?r.indexOf("A"):-1],d>-1)c=e(u,m.meridiem[0])?0:e(u,m.meridiem[1])?12:-1,a>=1&&12>=a&&c>-1?v.hour=a+c-1:a>=0&&23>=a&&(v.hour=a);else{if(!(a>=0&&23>=a))return null;v.hour=a}g=!0;break;case"G":case"H":if(!(a>=0&&23>=a))return null;v.hour=a,g=!0;break;case"i":if(!(a>=0&&59>=a))return null;v.min=a,g=!0;break;case"s":if(!(a>=0&&59>=a))return null;v.sec=a,g=!0}if(!0===p&&v.year&&v.month&&v.day)v.date=new Date(v.year,v.month-1,v.day,v.hour,v.min,v.sec,0);else{if(!0!==g)return null;v.date=new Date(0,0,0,v.hour,v.min,v.sec,0)}return v.date},guessDate:function(e,t){if("string"!=typeof e)return e;var i,r,n,o,s,a,l=e.replace(this.separators,"\0").split("\0"),d=t.match(this.validParts),c=new Date,h=0;if(!/^[djmn]/g.test(d[0]))return e;for(n=0;n<l.length;n++){if(h=2,s=l[n],a=parseInt(s.substr(0,2)),isNaN(a))return null;switch(n){case 0:"m"===d[0]||"n"===d[0]?c.setMonth(a-1):c.setDate(a);break;case 1:"m"===d[0]||"n"===d[0]?c.setDate(a):c.setMonth(a-1);break;case 2:if(r=c.getFullYear(),h=4>(i=s.length)?i:4,!(r=parseInt(4>i?r.toString().substr(0,4-i)+s:s.substr(0,4))))return null;c.setFullYear(r);break;case 3:c.setHours(a);break;case 4:c.setMinutes(a);break;case 5:c.setSeconds(a)}(o=s.substr(h)).length>0&&l.splice(n+1,0,o)}return c},parseFormat:function(e,i){var r,n=this,s=n.dateSettings,l=/\\?(.?)/gi,d=function(e,t){return r[e]?r[e]():t};return r={d:function(){return t(r.j(),2)},D:function(){return s.daysShort[r.w()]},j:function(){return i.getDate()},l:function(){return s.days[r.w()]},N:function(){return r.w()||7},w:function(){return i.getDay()},z:function(){var e=new Date(r.Y(),r.n()-1,r.j()),t=new Date(r.Y(),0,1);return Math.round((e-t)/o)},W:function(){var e=new Date(r.Y(),r.n()-1,r.j()-r.N()+3),i=new Date(e.getFullYear(),0,4);return t(1+Math.round((e-i)/o/7),2)},F:function(){return s.months[i.getMonth()]},m:function(){return t(r.n(),2)},M:function(){return s.monthsShort[i.getMonth()]},n:function(){return i.getMonth()+1},t:function(){return new Date(r.Y(),r.n(),0).getDate()},L:function(){var e=r.Y();return e%4==0&&e%100!=0||e%400==0?1:0},o:function(){var e=r.n(),t=r.W();return r.Y()+(12===e&&9>t?1:1===e&&t>9?-1:0)},Y:function(){return i.getFullYear()},y:function(){return r.Y().toString().slice(-2)},a:function(){return r.A().toLowerCase()},A:function(){var e=r.G()<12?0:1;return s.meridiem[e]},B:function(){var e=i.getUTCHours()*a,r=60*i.getUTCMinutes(),n=i.getUTCSeconds();return t(Math.floor((e+r+n+a)/86.4)%1e3,3)},g:function(){return r.G()%12||12},G:function(){return i.getHours()},h:function(){return t(r.g(),2)},H:function(){return t(r.G(),2)},i:function(){return t(i.getMinutes(),2)},s:function(){return t(i.getSeconds(),2)},u:function(){return t(1e3*i.getMilliseconds(),6)},e:function(){return/\((.*)\)/.exec(String(i))[1]||"Coordinated Universal Time"},I:function(){return new Date(r.Y(),0)-Date.UTC(r.Y(),0)!=new Date(r.Y(),6)-Date.UTC(r.Y(),6)?1:0},O:function(){var e=i.getTimezoneOffset(),r=Math.abs(e);return(e>0?"-":"+")+t(100*Math.floor(r/60)+r%60,4)},P:function(){var e=r.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return(String(i).match(n.tzParts)||[""]).pop().replace(n.tzClip,"")||"UTC"},Z:function(){return 60*-i.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(l,d)},r:function(){return"D, d M Y H:i:s O".replace(l,d)},U:function(){return i.getTime()/1e3||0}},d(e,e)},formatDate:function(e,t){var i,r,n,o,s,a=this,l="";if("string"==typeof e&&!(e=a.parseDate(e,t)))return null;if(e instanceof Date){for(n=t.length,i=0;n>i;i++)"S"!==(s=t.charAt(i))&&"\\"!==s&&(i>0&&"\\"===t.charAt(i-1)?l+=s:(o=a.parseFormat(s,e),i!==n-1&&a.intParts.test(s)&&"S"===t.charAt(i+1)&&(r=parseInt(o)||0,o+=a.dateSettings.ordinal(r)),l+=o));return l}return""}}}();var a;a=function(e){"use strict";var t={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeekShort:["ن","ث","ع","خ","ج","س","ح"],dayOfWeek:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت","الأحد"]},ro:{months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],dayOfWeekShort:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],dayOfWeek:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeekShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],dayOfWeek:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},is:{months:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],dayOfWeekShort:["Sun","Mán","Þrið","Mið","Fim","Fös","Lau"],dayOfWeek:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeekShort:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeekShort:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],dayOfWeek:["یک‌شنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنج‌شنبه","جمعه","شنبه","یک‌شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeekShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeekShort:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"],dayOfWeek:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeekShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayOfWeek:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeekShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayOfWeek:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeekShort:["zo","ma","di","wo","do","vr","za"],dayOfWeek:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeekShort:["Paz","Pts","Sal","Çar","Per","Cum","Cts"],dayOfWeek:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeekShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayOfWeek:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeekShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],dayOfWeek:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeekShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayOfWeek:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัส","ศุกร์","เสาร์","อาทิตย์"]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeekShort:["nd","pn","wt","śr","cz","pt","sb"],dayOfWeek:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},km:{months:["មករា​","កុម្ភៈ","មិនា​","មេសា​","ឧសភា​","មិថុនា​","កក្កដា​","សីហា​","កញ្ញា​","តុលា​","វិច្ឆិកា","ធ្នូ​"],dayOfWeekShort:["អាទិ​","ច័ន្ទ​","អង្គារ​","ពុធ​","ព្រហ​​","សុក្រ​","សៅរ៍"],dayOfWeek:["អាទិត្យ​","ច័ន្ទ​","អង្គារ​","ពុធ​","ព្រហស្បតិ៍​","សុក្រ​","សៅរ៍"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayOfWeek:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]},da:{months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeekShort:["日","月","火","水","木","金","土"],dayOfWeek:["日曜","月曜","火曜","水曜","木曜","金曜","土曜"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeekShort:["CN","T2","T3","T4","T5","T6","T7"],dayOfWeek:["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeekShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"],dayOfWeek:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeekShort:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeekShort:["Va","Hé","Ke","Sze","Cs","Pé","Szo"],dayOfWeek:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeekShort:["B","Be","Ça","Ç","Ca","C","Ş"],dayOfWeek:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ca:{months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeekShort:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],dayOfWeek:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},et:{months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeekShort:["P","E","T","K","N","R","L"],dayOfWeek:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeekShort:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."],dayOfWeek:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeekShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayOfWeek:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"],dayOfWeek:["Domingo","Luns","Martes","Mércores","Xoves","Venres","Sábado"]},hr:{months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ko:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},lt:{months:["Sausio","Vasario","Kovo","Balandžio","Gegužės","Birželio","Liepos","Rugpjūčio","Rugsėjo","Spalio","Lapkričio","Gruodžio"],dayOfWeekShort:["Sek","Pir","Ant","Tre","Ket","Pen","Šeš"],dayOfWeek:["Sekmadienis","Pirmadienis","Antradienis","Trečiadienis","Ketvirtadienis","Penktadienis","Šeštadienis"]},lv:{months:["Janvāris","Februāris","Marts","Aprīlis ","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeekShort:["Sv","Pr","Ot","Tr","Ct","Pk","St"],dayOfWeek:["Svētdiena","Pirmdiena","Otrdiena","Trešdiena","Ceturtdiena","Piektdiena","Sestdiena"]},mk:{months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],dayOfWeekShort:["нед","пон","вто","сре","чет","пет","саб"],dayOfWeek:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота"]},mn:{months:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],dayOfWeekShort:["Дав","Мяг","Лха","Пүр","Бсн","Бям","Ням"],dayOfWeek:["Даваа","Мягмар","Лхагва","Пүрэв","Баасан","Бямба","Ням"]},"pt-BR":{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},sk:{months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],dayOfWeekShort:["Ne","Po","Ut","St","Št","Pi","So"],dayOfWeek:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"]},sq:{months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"],dayOfWeekShort:["Die","Hën","Mar","Mër","Enj","Pre","Shtu"],dayOfWeek:["E Diel","E Hënë","E Martē","E Mërkurë","E Enjte","E Premte","E Shtunë"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sre","čet","Pet","Sub"],dayOfWeek:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota"]},sr:{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],dayOfWeekShort:["нед","пон","уто","сре","чет","пет","суб"],dayOfWeek:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayOfWeek:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"]},"zh-TW":{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},zh:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},ug:{months:["1-ئاي","2-ئاي","3-ئاي","4-ئاي","5-ئاي","6-ئاي","7-ئاي","8-ئاي","9-ئاي","10-ئاي","11-ئاي","12-ئاي"],dayOfWeek:["يەكشەنبە","دۈشەنبە","سەيشەنبە","چارشەنبە","پەيشەنبە","جۈمە","شەنبە"]},he:{months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],dayOfWeekShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],dayOfWeek:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת","ראשון"]},hy:{months:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],dayOfWeekShort:["Կի","Երկ","Երք","Չոր","Հնգ","Ուրբ","Շբթ"],dayOfWeek:["Կիրակի","Երկուշաբթի","Երեքշաբթի","Չորեքշաբթի","Հինգշաբթի","Ուրբաթ","Շաբաթ"]},kg:{months:["Үчтүн айы","Бирдин айы","Жалган Куран","Чын Куран","Бугу","Кулжа","Теке","Баш Оона","Аяк Оона","Тогуздун айы","Жетинин айы","Бештин айы"],dayOfWeekShort:["Жек","Дүй","Шей","Шар","Бей","Жум","Ише"],dayOfWeek:["Жекшемб","Дүйшөмб","Шейшемб","Шаршемб","Бейшемби","Жума","Ишенб"]},rm:{months:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],dayOfWeekShort:["Du","Gli","Ma","Me","Gie","Ve","So"],dayOfWeek:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"]},ka:{months:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომბერი","ნოემბერი","დეკემბერი"],dayOfWeekShort:["კვ","ორშ","სამშ","ოთხ","ხუთ","პარ","შაბ"],dayOfWeek:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი"]}},ownerDocument:document,contentWindow:window,value:"",rtl:!1,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,openOnFocus:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,minDateTime:!1,maxDateTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",touchMovedThreshold:5,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onGetWeekOfYear:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],allowDates:[],allowDateRe:null,disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1},i=null,r=null,n="en",o={meridiem:["AM","PM"]},a=function(){var a=t.i18n[n],l={days:a.dayOfWeek,daysShort:a.dayOfWeekShort,months:a.months,monthsShort:e.map(a.months,function(e){return e.substring(0,3)})};"function"==typeof s&&(i=r=new s({dateSettings:e.extend({},o,l)}))},l={moment:{default_options:{format:"YYYY/MM/DD HH:mm",formatDate:"YYYY/MM/DD",formatTime:"HH:mm"},formatter:{parseDate:function(e,t){if(c(t))return r.parseDate(e,t);var i=moment(e,t);return!!i.isValid()&&i.toDate()},formatDate:function(e,t){return c(t)?r.formatDate(e,t):moment(e).format(t)},formatMask:function(e){return e.replace(/Y{4}/g,"9999").replace(/Y{2}/g,"99").replace(/M{2}/g,"19").replace(/D{2}/g,"39").replace(/H{2}/g,"29").replace(/m{2}/g,"59").replace(/s{2}/g,"59")}}}};e.datetimepicker={setLocale:function(e){var i=t.i18n[e]?e:"en";n!==i&&(n=i,a())},setDateFormatter:function(r){if("string"==typeof r&&l.hasOwnProperty(r)){var n=l[r];e.extend(t,n.default_options),i=n.formatter}else i=r}};var d={RFC_2822:"D, d M Y H:i:s O",ATOM:"Y-m-dTH:i:sP",ISO_8601:"Y-m-dTH:i:sO",RFC_822:"D, d M y H:i:s O",RFC_850:"l, d-M-y H:i:s T",RFC_1036:"D, d M y H:i:s O",RFC_1123:"D, d M Y H:i:s O",RSS:"D, d M Y H:i:s O",W3C:"Y-m-dTH:i:sP"},c=function(e){return-1!==Object.values(d).indexOf(e)};function h(e,t,i){this.date=e,this.desc=t,this.style=i}e.extend(e.datetimepicker,d),a(),window.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var i=/(-([a-z]))/g;return"float"===t&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,function(e,t,i){return i.toUpperCase()})),e.currentStyle[t]||null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var i,r;for(i=t||0,r=this.length;i<r;i+=1)if(this[i]===e)return i;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},e.fn.xdsoftScroller=function(t,i){return this.each(function(){var r,n,o,s,a,l=e(this),d=function(e){var t,i={x:0,y:0};return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type?(t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],i.x=t.clientX,i.y=t.clientY):"mousedown"!==e.type&&"mouseup"!==e.type&&"mousemove"!==e.type&&"mouseover"!==e.type&&"mouseout"!==e.type&&"mouseenter"!==e.type&&"mouseleave"!==e.type||(i.x=e.clientX,i.y=e.clientY),i},c=100,h=!1,u=0,f=0,p=0,g=!1,m=0,v=function(){};"hide"!==i?(e(this).hasClass("xdsoft_scroller_box")||(r=l.children().eq(0),n=l[0].clientHeight,o=r[0].offsetHeight,s=e('<div class="xdsoft_scrollbar"></div>'),a=e('<div class="xdsoft_scroller"></div>'),s.append(a),l.addClass("xdsoft_scroller_box").append(s),v=function(e){var t=d(e).y-u+m;t<0&&(t=0),t+a[0].offsetHeight>p&&(t=p-a[0].offsetHeight),l.trigger("scroll_element.xdsoft_scroller",[c?t/c:0])},a.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(r){n||l.trigger("resize_scroll.xdsoft_scroller",[i]),u=d(r).y,m=parseInt(a.css("margin-top"),10),p=s[0].offsetHeight,"mousedown"===r.type||"touchstart"===r.type?(t.ownerDocument&&e(t.ownerDocument.body).addClass("xdsoft_noselect"),e([t.ownerDocument.body,t.contentWindow]).on("touchend mouseup.xdsoft_scroller",function i(){e([t.ownerDocument.body,t.contentWindow]).off("touchend mouseup.xdsoft_scroller",i).off("mousemove.xdsoft_scroller",v).removeClass("xdsoft_noselect")}),e(t.ownerDocument.body).on("mousemove.xdsoft_scroller",v)):(g=!0,r.stopPropagation(),r.preventDefault())}).on("touchmove",function(e){g&&(e.preventDefault(),v(e))}).on("touchend touchcancel",function(){g=!1,m=0}),l.on("scroll_element.xdsoft_scroller",function(e,t){n||l.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:t<0||isNaN(t)?0:t,a.css("margin-top",c*t),setTimeout(function(){r.css("marginTop",-parseInt((r[0].offsetHeight-n)*t,10))},10)}).on("resize_scroll.xdsoft_scroller",function(e,t,i){var d,h;n=l[0].clientHeight,o=r[0].offsetHeight,h=(d=n/o)*s[0].offsetHeight,d>1?a.hide():(a.show(),a.css("height",parseInt(h>10?h:10,10)),c=s[0].offsetHeight-a[0].offsetHeight,!0!==i&&l.trigger("scroll_element.xdsoft_scroller",[t||Math.abs(parseInt(r.css("marginTop"),10))/(o-n)]))}),l.on("mousewheel",function(e){var t=Math.abs(parseInt(r.css("marginTop"),10));return(t-=20*e.deltaY)<0&&(t=0),l.trigger("scroll_element.xdsoft_scroller",[t/(o-n)]),e.stopPropagation(),!1}),l.on("touchstart",function(e){h=d(e),f=Math.abs(parseInt(r.css("marginTop"),10))}),l.on("touchmove",function(e){if(h){e.preventDefault();var t=d(e);l.trigger("scroll_element.xdsoft_scroller",[(f-(t.y-h.y))/(o-n)])}}),l.on("touchend touchcancel",function(){h=!1,f=0})),l.trigger("resize_scroll.xdsoft_scroller",[i])):l.find(".xdsoft_scrollbar").hide()})},e.fn.datetimepicker=function(r,o){var s,a,l=this,d=48,c=57,u=96,f=105,p=17,g=46,m=13,v=27,b=8,y=37,w=38,x=39,C=40,S=9,k=116,D=65,T=67,A=86,N=90,_=89,M=!1,E=e.isPlainObject(r)||!r?e.extend(!0,{},t,r):e.extend(!0,{},t),$=0;return s=function(t){var o,s,a,l,$,O,I=e('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),R=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),F=e('<div class="xdsoft_datepicker active"></div>'),L=e('<div class="xdsoft_monthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),j=e('<div class="xdsoft_calendar"></div>'),P=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),z=P.find(".xdsoft_time_box").eq(0),B=e('<div class="xdsoft_time_variant"></div>'),H=e('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),q=e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),W=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),G=!1,V=0;E.id&&I.attr("id",E.id),E.style&&I.attr("style",E.style),E.weeks&&I.addClass("xdsoft_showweeks"),E.rtl&&I.addClass("xdsoft_rtl"),I.addClass("xdsoft_"+E.theme),I.addClass(E.className),L.find(".xdsoft_month span").after(q),L.find(".xdsoft_year span").after(W),L.find(".xdsoft_month,.xdsoft_year").on("touchstart mousedown.xdsoft",function(t){var i,r,n=e(this).find(".xdsoft_select").eq(0),o=0,s=0,a=n.is(":visible");for(L.find(".xdsoft_select").hide(),$.currentTime&&(o=$.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),n[a?"hide":"show"](),i=n.find("div.xdsoft_option"),r=0;r<i.length&&i.eq(r).data("value")!==o;r+=1)s+=i[0].offsetHeight;return n.xdsoftScroller(E,s/(n.children()[0].offsetHeight-n[0].clientHeight)),t.stopPropagation(),!1});var U=function(e){var t=e.originalEvent,i=t.touches?t.touches[0]:t;this.touchStartPosition=this.touchStartPosition||i;var r=Math.abs(this.touchStartPosition.clientX-i.clientX),n=Math.abs(this.touchStartPosition.clientY-i.clientY);Math.sqrt(r*r+n*n)>E.touchMovedThreshold&&(this.touchMoved=!0)};function Y(){var e,i=!1;return E.startDate?i=$.strToDate(E.startDate):(i=E.value||(t&&t.val&&t.val()?t.val():""))?(i=$.strToDateTime(i),E.yearOffset&&(i=new Date(i.getFullYear()-E.yearOffset,i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))):E.defaultDate&&(i=$.strToDateTime(E.defaultDate),E.defaultTime&&(e=$.strtotime(E.defaultTime),i.setHours(e.getHours()),i.setMinutes(e.getMinutes()))),i&&$.isValidDate(i)?I.data("changed",!0):i="",i||0}function X(r){var n=function(e,t){var i=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(i).test(t)},o=function(e,t){if(!(e="string"==typeof e||e instanceof String?r.ownerDocument.getElementById(e):e))return!1;if(e.createTextRange){var i=e.createTextRange();return i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select(),!0}return!!e.setSelectionRange&&(e.setSelectionRange(t,t),!0)};r.mask&&t.off("keydown.xdsoft"),!0===r.mask&&(i.formatMask?r.mask=i.formatMask(r.format):r.mask=r.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===e.type(r.mask)&&(n(r.mask,t.val())||(t.val(r.mask.replace(/[0-9]/g,"_")),o(t[0],0)),t.on("paste.xdsoft",function(i){var s=(i.clipboardData||i.originalEvent.clipboardData||window.clipboardData).getData("text"),a=this.value,l=this.selectionStart;return a=a.substr(0,l)+s+a.substr(l+s.length),l+=s.length,n(r.mask,a)?(this.value=a,o(this,l)):""===e.trim(a)?this.value=r.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft"),i.preventDefault(),!1}),t.on("keydown.xdsoft",function(i){var s,a=this.value,l=i.which,h=this.selectionStart,E=this.selectionEnd,$=h!==E;if(l>=d&&l<=c||l>=u&&l<=f||l===b||l===g){for(s=l===b||l===g?"_":String.fromCharCode(u<=l&&l<=f?l-d:l),l===b&&h&&!$&&(h-=1);;){var O=r.mask.substr(h,1),I=h<r.mask.length,R=h>0;if(!(/[^0-9_]/.test(O)&&I&&R))break;h+=l!==b||$?1:-1}if($){var F=E-h,L=r.mask.replace(/[0-9]/g,"_"),j=L.substr(h,F).substr(1);a=a.substr(0,h)+(s+j)+a.substr(h+F)}else a=a.substr(0,h)+s+a.substr(h+1);if(""===e.trim(a))a=L;else if(h===r.mask.length)return i.preventDefault(),!1;for(h+=l===b?0:1;/[^0-9_]/.test(r.mask.substr(h,1))&&h<r.mask.length&&h>0;)h+=l===b?0:1;n(r.mask,a)?(this.value=a,o(this,h)):""===e.trim(a)?this.value=r.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft")}else if(-1!==[D,T,A,N,_].indexOf(l)&&M||-1!==[v,w,C,y,x,k,p,S,m].indexOf(l))return!0;return i.preventDefault(),!1}))}L.find(".xdsoft_select").xdsoftScroller(E).on("touchstart mousedown.xdsoft",function(e){var t=e.originalEvent;this.touchMoved=!1,this.touchStartPosition=t.touches?t.touches[0]:t,e.stopPropagation(),e.preventDefault()}).on("touchmove",".xdsoft_option",U).on("touchend mousedown.xdsoft",".xdsoft_option",function(){if(!this.touchMoved){void 0!==$.currentTime&&null!==$.currentTime||($.currentTime=$.now());var t=$.currentTime.getFullYear();$&&$.currentTime&&$.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),I.trigger("xchange.xdsoft"),E.onChangeMonth&&e.isFunction(E.onChangeMonth)&&E.onChangeMonth.call(I,$.currentTime,I.data("input")),t!==$.currentTime.getFullYear()&&e.isFunction(E.onChangeYear)&&E.onChangeYear.call(I,$.currentTime,I.data("input"))}}),I.getValue=function(){return $.getCurrentTime()},I.setOptions=function(r){var n={};E=e.extend(!0,{},E,r),r.allowTimes&&e.isArray(r.allowTimes)&&r.allowTimes.length&&(E.allowTimes=e.extend(!0,[],r.allowTimes)),r.weekends&&e.isArray(r.weekends)&&r.weekends.length&&(E.weekends=e.extend(!0,[],r.weekends)),r.allowDates&&e.isArray(r.allowDates)&&r.allowDates.length&&(E.allowDates=e.extend(!0,[],r.allowDates)),r.allowDateRe&&"[object String]"===Object.prototype.toString.call(r.allowDateRe)&&(E.allowDateRe=new RegExp(r.allowDateRe)),r.highlightedDates&&e.isArray(r.highlightedDates)&&r.highlightedDates.length&&(e.each(r.highlightedDates,function(t,r){var o,s=e.map(r.split(","),e.trim),a=new h(i.parseDate(s[0],E.formatDate),s[1],s[2]),l=i.formatDate(a.date,E.formatDate);void 0!==n[l]?(o=n[l].desc)&&o.length&&a.desc&&a.desc.length&&(n[l].desc=o+"\n"+a.desc):n[l]=a}),E.highlightedDates=e.extend(!0,[],n)),r.highlightedPeriods&&e.isArray(r.highlightedPeriods)&&r.highlightedPeriods.length&&(n=e.extend(!0,[],E.highlightedDates),e.each(r.highlightedPeriods,function(t,r){var o,s,a,l,d,c,u;if(e.isArray(r))o=r[0],s=r[1],a=r[2],u=r[3];else{var f=e.map(r.split(","),e.trim);o=i.parseDate(f[0],E.formatDate),s=i.parseDate(f[1],E.formatDate),a=f[2],u=f[3]}for(;o<=s;)l=new h(o,a,u),d=i.formatDate(o,E.formatDate),o.setDate(o.getDate()+1),void 0!==n[d]?(c=n[d].desc)&&c.length&&l.desc&&l.desc.length&&(n[d].desc=c+"\n"+l.desc):n[d]=l}),E.highlightedDates=e.extend(!0,[],n)),r.disabledDates&&e.isArray(r.disabledDates)&&r.disabledDates.length&&(E.disabledDates=e.extend(!0,[],r.disabledDates)),r.disabledWeekDays&&e.isArray(r.disabledWeekDays)&&r.disabledWeekDays.length&&(E.disabledWeekDays=e.extend(!0,[],r.disabledWeekDays)),!E.open&&!E.opened||E.inline||t.trigger("open.xdsoft"),E.inline&&(G=!0,I.addClass("xdsoft_inline"),t.after(I).hide()),E.inverseButton&&(E.next="xdsoft_prev",E.prev="xdsoft_next"),E.datepicker?F.addClass("active"):F.removeClass("active"),E.timepicker?P.addClass("active"):P.removeClass("active"),E.value&&($.setCurrentTime(E.value),t&&t.val&&t.val($.str)),isNaN(E.dayOfWeekStart)?E.dayOfWeekStart=0:E.dayOfWeekStart=parseInt(E.dayOfWeekStart,10)%7,E.timepickerScrollbar||z.xdsoftScroller(E,"hide"),E.minDate&&/^[\+\-](.*)$/.test(E.minDate)&&(E.minDate=i.formatDate($.strToDateTime(E.minDate),E.formatDate)),E.maxDate&&/^[\+\-](.*)$/.test(E.maxDate)&&(E.maxDate=i.formatDate($.strToDateTime(E.maxDate),E.formatDate)),E.minDateTime&&/^\+(.*)$/.test(E.minDateTime)&&(E.minDateTime=$.strToDateTime(E.minDateTime).dateFormat(E.formatDate)),E.maxDateTime&&/^\+(.*)$/.test(E.maxDateTime)&&(E.maxDateTime=$.strToDateTime(E.maxDateTime).dateFormat(E.formatDate)),H.toggle(E.showApplyButton),L.find(".xdsoft_today_button").css("visibility",E.todayButton?"visible":"hidden"),L.find("."+E.prev).css("visibility",E.prevButton?"visible":"hidden"),L.find("."+E.next).css("visibility",E.nextButton?"visible":"hidden"),X(E),E.validateOnBlur&&t.off("blur.xdsoft").on("blur.xdsoft",function(){if(E.allowBlank&&(!e.trim(e(this).val()).length||"string"==typeof E.mask&&e.trim(e(this).val())===E.mask.replace(/[0-9]/g,"_")))e(this).val(null),I.data("xdsoft_datetime").empty();else{var t=i.parseDate(e(this).val(),E.format);if(t)e(this).val(i.formatDate(t,E.format));else{var r=+[e(this).val()[0],e(this).val()[1]].join(""),n=+[e(this).val()[2],e(this).val()[3]].join("");!E.datepicker&&E.timepicker&&r>=0&&r<24&&n>=0&&n<60?e(this).val([r,n].map(function(e){return e>9?e:"0"+e}).join(":")):e(this).val(i.formatDate($.now(),E.format))}I.data("xdsoft_datetime").setCurrentTime(e(this).val())}I.trigger("changedatetime.xdsoft"),I.trigger("close.xdsoft")}),E.dayOfWeekStartPrev=0===E.dayOfWeekStart?6:E.dayOfWeekStart-1,I.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},I.data("options",E).on("touchstart mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),W.hide(),q.hide(),!1}),z.append(B),z.xdsoftScroller(E),I.on("afterOpen.xdsoft",function(){z.xdsoftScroller(E)}),I.append(F).append(P),!0!==E.withoutCopyright&&I.append(R),F.append(L).append(j).append(H),e(E.parentID).append(I),$=new function(){var t=this;t.now=function(e){var i,r,n=new Date;return!e&&E.defaultDate&&(i=t.strToDateTime(E.defaultDate),n.setFullYear(i.getFullYear()),n.setMonth(i.getMonth()),n.setDate(i.getDate())),n.setFullYear(n.getFullYear()),!e&&E.defaultTime&&(r=t.strtotime(E.defaultTime),n.setHours(r.getHours()),n.setMinutes(r.getMinutes()),n.setSeconds(r.getSeconds()),n.setMilliseconds(r.getMilliseconds())),n},t.isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t.setCurrentTime=function(e,i){"string"==typeof e?t.currentTime=t.strToDateTime(e):t.isValidDate(e)?t.currentTime=e:e||i||!E.allowBlank||E.inline?t.currentTime=t.now():t.currentTime=null,I.trigger("xchange.xdsoft")},t.empty=function(){t.currentTime=null},t.getCurrentTime=function(){return t.currentTime},t.nextMonth=function(){void 0!==t.currentTime&&null!==t.currentTime||(t.currentTime=t.now());var i,r=t.currentTime.getMonth()+1;return 12===r&&(t.currentTime.setFullYear(t.currentTime.getFullYear()+1),r=0),i=t.currentTime.getFullYear(),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),r+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(r),E.onChangeMonth&&e.isFunction(E.onChangeMonth)&&E.onChangeMonth.call(I,$.currentTime,I.data("input")),i!==t.currentTime.getFullYear()&&e.isFunction(E.onChangeYear)&&E.onChangeYear.call(I,$.currentTime,I.data("input")),I.trigger("xchange.xdsoft"),r},t.prevMonth=function(){void 0!==t.currentTime&&null!==t.currentTime||(t.currentTime=t.now());var i=t.currentTime.getMonth()-1;return-1===i&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),i=11),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),i+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(i),E.onChangeMonth&&e.isFunction(E.onChangeMonth)&&E.onChangeMonth.call(I,$.currentTime,I.data("input")),I.trigger("xchange.xdsoft"),i},t.getWeekOfYear=function(t){if(E.onGetWeekOfYear&&e.isFunction(E.onGetWeekOfYear)){var i=E.onGetWeekOfYear.call(I,t);if(void 0!==i)return i}var r=new Date(t.getFullYear(),0,1);return 4!==r.getDay()&&r.setMonth(0,1+(4-r.getDay()+7)%7),Math.ceil(((t-r)/864e5+r.getDay()+1)/7)},t.strToDateTime=function(e){var r,n,o=[];return e&&e instanceof Date&&t.isValidDate(e)?e:((o=/^([+-]{1})(.*)$/.exec(e))&&(o[2]=i.parseDate(o[2],E.formatDate)),o&&o[2]?(r=o[2].getTime()-6e4*o[2].getTimezoneOffset(),n=new Date(t.now(!0).getTime()+parseInt(o[1]+"1",10)*r)):n=e?i.parseDate(e,E.format):t.now(),t.isValidDate(n)||(n=t.now()),n)},t.strToDate=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var r=e?i.parseDate(e,E.formatDate):t.now(!0);return t.isValidDate(r)||(r=t.now(!0)),r},t.strtotime=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var r=e?i.parseDate(e,E.formatTime):t.now(!0);return t.isValidDate(r)||(r=t.now(!0)),r},t.str=function(){var e=E.format;return E.yearOffset&&(e=(e=e.replace("Y",t.currentTime.getFullYear()+E.yearOffset)).replace("y",String(t.currentTime.getFullYear()+E.yearOffset).substring(2,4))),i.formatDate(t.currentTime,e)},t.currentTime=this.now()},H.on("touchend click",function(e){e.preventDefault(),I.data("changed",!0),$.setCurrentTime(Y()),t.val($.str()),I.trigger("close.xdsoft")}),L.find(".xdsoft_today_button").on("touchend mousedown.xdsoft",function(){I.data("changed",!0),$.setCurrentTime(0,!0),I.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){var e,i,r=$.getCurrentTime();r=new Date(r.getFullYear(),r.getMonth(),r.getDate()),e=$.strToDate(E.minDate),r<(e=new Date(e.getFullYear(),e.getMonth(),e.getDate()))||(i=$.strToDate(E.maxDate),r>(i=new Date(i.getFullYear(),i.getMonth(),i.getDate()))||(t.val($.str()),t.trigger("change"),I.trigger("close.xdsoft")))}),L.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var t=e(this),i=0,r=!1;!function e(n){t.hasClass(E.next)?$.nextMonth():t.hasClass(E.prev)&&$.prevMonth(),E.monthChangeSpinner&&(r||(i=setTimeout(e,n||100)))}(500),e([E.ownerDocument.body,E.contentWindow]).on("touchend mouseup.xdsoft",function t(){clearTimeout(i),r=!0,e([E.ownerDocument.body,E.contentWindow]).off("touchend mouseup.xdsoft",t)})}),P.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var t=e(this),i=0,r=!1,n=110;!function e(o){var s=z[0].clientHeight,a=B[0].offsetHeight,l=Math.abs(parseInt(B.css("marginTop"),10));t.hasClass(E.next)&&a-s-E.timeHeightInTimePicker>=l?B.css("marginTop","-"+(l+E.timeHeightInTimePicker)+"px"):t.hasClass(E.prev)&&l-E.timeHeightInTimePicker>=0&&B.css("marginTop","-"+(l-E.timeHeightInTimePicker)+"px"),z.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(B[0].style.marginTop,10)/(a-s))]),n=n>10?10:n-10,r||(i=setTimeout(e,o||n))}(500),e([E.ownerDocument.body,E.contentWindow]).on("touchend mouseup.xdsoft",function t(){clearTimeout(i),r=!0,e([E.ownerDocument.body,E.contentWindow]).off("touchend mouseup.xdsoft",t)})}),o=0,I.on("xchange.xdsoft",function(s){clearTimeout(o),o=setTimeout(function(){void 0!==$.currentTime&&null!==$.currentTime||($.currentTime=$.now());for(var o,s,a,l,d,c,h,u,f,p,g="",m=new Date($.currentTime.getFullYear(),$.currentTime.getMonth(),1,12,0,0),v=0,b=$.now(),y=!1,w=!1,x=!1,C=!1,S=[],k=!0,D="";m.getDay()!==E.dayOfWeekStart;)m.setDate(m.getDate()-1);for(g+="<table><thead><tr>",E.weeks&&(g+="<th></th>"),o=0;o<7;o+=1)g+="<th>"+E.i18n[n].dayOfWeekShort[(o+E.dayOfWeekStart)%7]+"</th>";for(g+="</tr></thead>",g+="<tbody>",!1!==E.maxDate&&(y=$.strToDate(E.maxDate),y=new Date(y.getFullYear(),y.getMonth(),y.getDate(),23,59,59,999)),!1!==E.minDate&&(w=$.strToDate(E.minDate),w=new Date(w.getFullYear(),w.getMonth(),w.getDate())),!1!==E.minDateTime&&(x=$.strToDate(E.minDateTime),x=new Date(x.getFullYear(),x.getMonth(),x.getDate(),x.getHours(),x.getMinutes(),x.getSeconds())),!1!==E.maxDateTime&&(C=$.strToDate(E.maxDateTime),C=new Date(C.getFullYear(),C.getMonth(),C.getDate(),C.getHours(),C.getMinutes(),C.getSeconds())),!1!==C&&(p=31*(12*C.getFullYear()+C.getMonth())+C.getDate());v<$.currentTime.countDaysInMonth()||m.getDay()!==E.dayOfWeekStart||$.currentTime.getMonth()===m.getMonth();){S=[],v+=1,a=m.getDay(),l=m.getDate(),d=m.getFullYear(),_=m.getMonth(),c=$.getWeekOfYear(m),f="",S.push("xdsoft_date"),h=E.beforeShowDay&&e.isFunction(E.beforeShowDay.call)?E.beforeShowDay.call(I,m):null,E.allowDateRe&&"[object RegExp]"===Object.prototype.toString.call(E.allowDateRe)&&(E.allowDateRe.test(i.formatDate(m,E.formatDate))||S.push("xdsoft_disabled")),E.allowDates&&E.allowDates.length>0&&-1===E.allowDates.indexOf(i.formatDate(m,E.formatDate))&&S.push("xdsoft_disabled");var T=31*(12*m.getFullYear()+m.getMonth())+m.getDate();(!1!==y&&m>y||!1!==x&&m<x||!1!==w&&m<w||!1!==C&&T>p||h&&!1===h[0])&&S.push("xdsoft_disabled"),-1!==E.disabledDates.indexOf(i.formatDate(m,E.formatDate))&&S.push("xdsoft_disabled"),-1!==E.disabledWeekDays.indexOf(a)&&S.push("xdsoft_disabled"),t.is("[disabled]")&&S.push("xdsoft_disabled"),h&&""!==h[1]&&S.push(h[1]),$.currentTime.getMonth()!==_&&S.push("xdsoft_other_month"),(E.defaultSelect||I.data("changed"))&&i.formatDate($.currentTime,E.formatDate)===i.formatDate(m,E.formatDate)&&S.push("xdsoft_current"),i.formatDate(b,E.formatDate)===i.formatDate(m,E.formatDate)&&S.push("xdsoft_today"),0!==m.getDay()&&6!==m.getDay()&&-1===E.weekends.indexOf(i.formatDate(m,E.formatDate))||S.push("xdsoft_weekend"),void 0!==E.highlightedDates[i.formatDate(m,E.formatDate)]&&(s=E.highlightedDates[i.formatDate(m,E.formatDate)],S.push(void 0===s.style?"xdsoft_highlighted_default":s.style),f=void 0===s.desc?"":s.desc),E.beforeShowDay&&e.isFunction(E.beforeShowDay)&&S.push(E.beforeShowDay(m)),k&&(g+="<tr>",k=!1,E.weeks&&(g+="<th>"+c+"</th>")),g+='<td data-date="'+l+'" data-month="'+_+'" data-year="'+d+'" class="xdsoft_date xdsoft_day_of_week'+m.getDay()+" "+S.join(" ")+'" title="'+f+'"><div>'+l+"</div></td>",m.getDay()===E.dayOfWeekStartPrev&&(g+="</tr>",k=!0),m.setDate(l+1)}g+="</tbody></table>",j.html(g),L.find(".xdsoft_label span").eq(0).text(E.i18n[n].months[$.currentTime.getMonth()]),L.find(".xdsoft_label span").eq(1).text($.currentTime.getFullYear()+E.yearOffset),D="",_="";var A=0;if(!1!==E.minTime){var N=$.strtotime(E.minTime);A=60*N.getHours()+N.getMinutes()}var _,M=1440;(!1!==E.maxTime&&(N=$.strtotime(E.maxTime),M=60*N.getHours()+N.getMinutes()),!1!==E.minDateTime&&(N=$.strToDateTime(E.minDateTime),i.formatDate($.currentTime,E.formatDate)===i.formatDate(N,E.formatDate)&&(_=60*N.getHours()+N.getMinutes())>A&&(A=_)),!1!==E.maxDateTime)&&(N=$.strToDateTime(E.maxDateTime),i.formatDate($.currentTime,E.formatDate)===i.formatDate(N,E.formatDate)&&(_=60*N.getHours()+N.getMinutes())<M&&(M=_));if(u=function(r,n){var o,s=$.now(),a=E.allowTimes&&e.isArray(E.allowTimes)&&E.allowTimes.length;s.setHours(r),r=parseInt(s.getHours(),10),s.setMinutes(n),n=parseInt(s.getMinutes(),10),S=[];var l=60*r+n;(t.is("[disabled]")||l>=M||l<A)&&S.push("xdsoft_disabled"),(o=new Date($.currentTime)).setHours(parseInt($.currentTime.getHours(),10)),a||o.setMinutes(Math[E.roundTime]($.currentTime.getMinutes()/E.step)*E.step),(E.initTime||E.defaultSelect||I.data("changed"))&&o.getHours()===parseInt(r,10)&&(!a&&E.step>59||o.getMinutes()===parseInt(n,10))&&(E.defaultSelect||I.data("changed")?S.push("xdsoft_current"):E.initTime&&S.push("xdsoft_init_time")),parseInt(b.getHours(),10)===parseInt(r,10)&&parseInt(b.getMinutes(),10)===parseInt(n,10)&&S.push("xdsoft_today"),D+='<div class="xdsoft_time '+S.join(" ")+'" data-hour="'+r+'" data-minute="'+n+'">'+i.formatDate(s,E.formatTime)+"</div>"},E.allowTimes&&e.isArray(E.allowTimes)&&E.allowTimes.length)for(v=0;v<E.allowTimes.length;v+=1)u($.strtotime(E.allowTimes[v]).getHours(),_=$.strtotime(E.allowTimes[v]).getMinutes());else for(v=0,o=0;v<(E.hours12?12:24);v+=1)for(o=0;o<60;o+=E.step){var O=60*v+o;O<A||O>=M||u((v<10?"0":"")+v,_=(o<10?"0":"")+o)}for(B.html(D),r="",v=parseInt(E.yearStart,10);v<=parseInt(E.yearEnd,10);v+=1)r+='<div class="xdsoft_option '+($.currentTime.getFullYear()===v?"xdsoft_current":"")+'" data-value="'+v+'">'+(v+E.yearOffset)+"</div>";for(W.children().eq(0).html(r),v=parseInt(E.monthStart,10),r="";v<=parseInt(E.monthEnd,10);v+=1)r+='<div class="xdsoft_option '+($.currentTime.getMonth()===v?"xdsoft_current":"")+'" data-value="'+v+'">'+E.i18n[n].months[v]+"</div>";q.children().eq(0).html(r),e(I).trigger("generate.xdsoft")},10),s.stopPropagation()}).on("afterOpen.xdsoft",function(){var e,t,i,r;E.timepicker&&(B.find(".xdsoft_current").length?e=".xdsoft_current":B.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e?(t=z[0].clientHeight,(i=B[0].offsetHeight)-t<(r=B.find(e).index()*E.timeHeightInTimePicker+1)&&(r=i-t),z.trigger("scroll_element.xdsoft_scroller",[parseInt(r,10)/(i-t)])):z.trigger("scroll_element.xdsoft_scroller",[0]))}),s=0,j.on("touchend click.xdsoft","td",function(i){i.stopPropagation(),s+=1;var r=e(this),n=$.currentTime;if(void 0!==n&&null!==n||($.currentTime=$.now(),n=$.currentTime),r.hasClass("xdsoft_disabled"))return!1;n.setDate(1),n.setFullYear(r.data("year")),n.setMonth(r.data("month")),n.setDate(r.data("date")),I.trigger("select.xdsoft",[n]),t.val($.str()),E.onSelectDate&&e.isFunction(E.onSelectDate)&&E.onSelectDate.call(I,$.currentTime,I.data("input"),i),I.data("changed",!0),I.trigger("xchange.xdsoft"),I.trigger("changedatetime.xdsoft"),(s>1||!0===E.closeOnDateSelect||!1===E.closeOnDateSelect&&!E.timepicker)&&!E.inline&&I.trigger("close.xdsoft"),setTimeout(function(){s=0},200)}),B.on("touchstart","div",function(e){this.touchMoved=!1}).on("touchmove","div",U).on("touchend click.xdsoft","div",function(t){if(!this.touchMoved){t.stopPropagation();var i=e(this),r=$.currentTime;if(void 0!==r&&null!==r||($.currentTime=$.now(),r=$.currentTime),i.hasClass("xdsoft_disabled"))return!1;r.setHours(i.data("hour")),r.setMinutes(i.data("minute")),I.trigger("select.xdsoft",[r]),I.data("input").val($.str()),E.onSelectTime&&e.isFunction(E.onSelectTime)&&E.onSelectTime.call(I,$.currentTime,I.data("input"),t),I.data("changed",!0),I.trigger("xchange.xdsoft"),I.trigger("changedatetime.xdsoft"),!0!==E.inline&&!0===E.closeOnTimeSelect&&I.trigger("close.xdsoft")}}),F.on("mousewheel.xdsoft",function(e){return!E.scrollMonth||(e.deltaY<0?$.nextMonth():$.prevMonth(),!1)}),t.on("mousewheel.xdsoft",function(e){return!E.scrollInput||(!E.datepicker&&E.timepicker?((a=B.find(".xdsoft_current").length?B.find(".xdsoft_current").eq(0).index():0)+e.deltaY>=0&&a+e.deltaY<B.children().length&&(a+=e.deltaY),B.children().eq(a).length&&B.children().eq(a).trigger("mousedown"),!1):E.datepicker&&!E.timepicker?(F.trigger(e,[e.deltaY,e.deltaX,e.deltaY]),t.val&&t.val($.str()),I.trigger("changedatetime.xdsoft"),!1):void 0)}),I.on("changedatetime.xdsoft",function(t){if(E.onChangeDateTime&&e.isFunction(E.onChangeDateTime)){var i=I.data("input");E.onChangeDateTime.call(I,$.currentTime,i,t),delete E.value,i.trigger("change")}}).on("generate.xdsoft",function(){E.onGenerate&&e.isFunction(E.onGenerate)&&E.onGenerate.call(I,$.currentTime,I.data("input")),G&&(I.trigger("afterOpen.xdsoft"),G=!1)}).on("click.xdsoft",function(e){e.stopPropagation()}),a=0,O=function(e,t){do{if(!(e=e.parentNode)||!1===t(e))break}while("HTML"!==e.nodeName)},l=function(){var t,i,r,n,o,s,a,l,d,c,h,u,f;if(t=(l=I.data("input")).offset(),i=l[0],c="top",r=t.top+i.offsetHeight-1,n=t.left,o="absolute",d=e(E.contentWindow).width(),u=e(E.contentWindow).height(),f=e(E.contentWindow).scrollTop(),E.ownerDocument.documentElement.clientWidth-t.left<F.parent().outerWidth(!0)){var p=F.parent().outerWidth(!0)-i.offsetWidth;n-=p}"rtl"===l.parent().css("direction")&&(n-=I.outerWidth()-l.outerWidth()),E.fixed?(r-=f,n-=e(E.contentWindow).scrollLeft(),o="fixed"):(a=!1,O(i,function(e){return null!==e&&("fixed"===E.contentWindow.getComputedStyle(e).getPropertyValue("position")?(a=!0,!1):void 0)}),a?(o="fixed",r+I.outerHeight()>u+f?(c="bottom",r=u+f-t.top):r-=f):r+I[0].offsetHeight>u+f&&(r=t.top-I[0].offsetHeight+1),r<0&&(r=0),n+i.offsetWidth>d&&(n=d-i.offsetWidth)),s=I[0],O(s,function(e){if("relative"===E.contentWindow.getComputedStyle(e).getPropertyValue("position")&&d>=e.offsetWidth)return n-=(d-e.offsetWidth)/2,!1}),(h={position:o,left:n,top:"",bottom:""})[c]=r,I.css(h)},I.on("open.xdsoft",function(t){var i=!0;E.onShow&&e.isFunction(E.onShow)&&(i=E.onShow.call(I,$.currentTime,I.data("input"),t)),!1!==i&&(I.show(),l(),e(E.contentWindow).off("resize.xdsoft",l).on("resize.xdsoft",l),E.closeOnWithoutClick&&e([E.ownerDocument.body,E.contentWindow]).on("touchstart mousedown.xdsoft",function t(){I.trigger("close.xdsoft"),e([E.ownerDocument.body,E.contentWindow]).off("touchstart mousedown.xdsoft",t)}))}).on("close.xdsoft",function(t){var i=!0;L.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),E.onClose&&e.isFunction(E.onClose)&&(i=E.onClose.call(I,$.currentTime,I.data("input"),t)),!1===i||E.opened||E.inline||I.hide(),t.stopPropagation()}).on("toggle.xdsoft",function(){I.is(":visible")?I.trigger("close.xdsoft"):I.trigger("open.xdsoft")}).data("input",t),V=0,I.data("xdsoft_datetime",$),I.setOptions(E),$.setCurrentTime(Y()),t.data("xdsoft_datetimepicker",I).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function(){t.is(":disabled")||t.data("xdsoft_datetimepicker").is(":visible")&&E.closeOnInputClick||E.openOnFocus&&(clearTimeout(V),V=setTimeout(function(){t.is(":disabled")||(G=!0,$.setCurrentTime(Y(),!0),E.mask&&X(E),I.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(t){var i,r=t.which;return-1!==[m].indexOf(r)&&E.enterLikeTab?(i=e("input:visible,textarea:visible,button:visible,a:visible"),I.trigger("close.xdsoft"),i.eq(i.index(this)+1).focus(),!1):-1!==[S].indexOf(r)?(I.trigger("close.xdsoft"),!0):void 0}).on("blur.xdsoft",function(){I.trigger("close.xdsoft")})},a=function(t){var i=t.data("xdsoft_datetimepicker");i&&(i.data("xdsoft_datetime",null),i.remove(),t.data("xdsoft_datetimepicker",null).off(".xdsoft"),e(E.contentWindow).off("resize.xdsoft"),e([E.contentWindow,E.ownerDocument.body]).off("mousedown.xdsoft touchstart"),t.unmousewheel&&t.unmousewheel())},e(E.ownerDocument).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){e.keyCode===p&&(M=!0)}).on("keyup.xdsoftctrl",function(e){e.keyCode===p&&(M=!1)}),this.each(function(){var t,n=e(this).data("xdsoft_datetimepicker");if(n){if("string"===e.type(r))switch(r){case"show":e(this).select().focus(),n.trigger("open.xdsoft");break;case"hide":n.trigger("close.xdsoft");break;case"toggle":n.trigger("toggle.xdsoft");break;case"destroy":a(e(this));break;case"reset":this.value=this.defaultValue,this.value&&n.data("xdsoft_datetime").isValidDate(i.parseDate(this.value,E.format))||n.data("changed",!1),n.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":n.data("input").trigger("blur.xdsoft");break;default:n[r]&&e.isFunction(n[r])&&(l=n[r](o))}else n.setOptions(r);return 0}"string"!==e.type(r)&&(!E.lazyInit||E.open||E.inline?s(e(this)):(t=e(this)).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function e(){t.is(":disabled")||t.data("xdsoft_datetimepicker")||(clearTimeout($),$=setTimeout(function(){t.data("xdsoft_datetimepicker")||s(t),t.off("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",e).trigger("open.xdsoft")},100))}))}),l},e.fn.datetimepicker.defaults=t},n=[i("7t+N"),i("5xbe")],void 0===(o="function"==typeof(r=a)?r.apply(t,n):r)||(e.exports=o),function(s){n=[i("7t+N")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)}(function(e){var t,i,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],n="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice;if(e.event.fixHooks)for(var s=r.length;s;)e.event.fixHooks[r[--s]]=e.event.mouseHooks;var a=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=n.length;t;)this.addEventListener(n[--t],l,!1);else this.onmousewheel=l;e.data(this,"mousewheel-line-height",a.getLineHeight(this)),e.data(this,"mousewheel-page-height",a.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=n.length;t;)this.removeEventListener(n[--t],l,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),r=i["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(r){var n,s=r||window.event,l=o.call(arguments,1),h=0,u=0,f=0,p=0,g=0;if((r=e.event.fix(s)).type="mousewheel","detail"in s&&(f=-1*s.detail),"wheelDelta"in s&&(f=s.wheelDelta),"wheelDeltaY"in s&&(f=s.wheelDeltaY),"wheelDeltaX"in s&&(u=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(u=-1*f,f=0),h=0===f?u:f,"deltaY"in s&&(h=f=-1*s.deltaY),"deltaX"in s&&(u=s.deltaX,0===f&&(h=-1*u)),0!==f||0!==u){if(1===s.deltaMode){var m=e.data(this,"mousewheel-line-height");h*=m,f*=m,u*=m}else if(2===s.deltaMode){var v=e.data(this,"mousewheel-page-height");h*=v,f*=v,u*=v}if(n=Math.max(Math.abs(f),Math.abs(u)),(!i||n<i)&&(i=n,c(s,n)&&(i/=40)),c(s,n)&&(h/=40,u/=40,f/=40),h=Math[h>=1?"floor":"ceil"](h/i),u=Math[u>=1?"floor":"ceil"](u/i),f=Math[f>=1?"floor":"ceil"](f/i),a.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();p=r.clientX-b.left,g=r.clientY-b.top}return r.deltaX=u,r.deltaY=f,r.deltaFactor=i,r.offsetX=p,r.offsetY=g,r.deltaMode=0,l.unshift(r,h,u,f),t&&clearTimeout(t),t=setTimeout(d,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function d(){i=null}function c(e,t){return a.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})},yWuW:function(e,t,i){var r,n,o,s;s=function(e){return e.widget("ui.checkboxradio",[e.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,i,r=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=e(i[i.length-1]),this.label.length||e.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){r.originalLabel+=3===this.nodeType?e(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(n.disabled=t),n},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||e.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,i="input[name='"+e.ui.escapeSelector(t)+"']";return t?(this.form.length?e(this.form[0].elements).filter(i):e(i).filter(function(){return 0===e(this).form().length})).not(this.element):e([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=e(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if("label"!==e||t){if(this._super(e,t),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(t){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=e("<span>"),this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]),e.ui.checkboxradio},n=[i("7t+N"),i("WesT"),i("6b8n"),i("HPGu"),i("z1kw")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},z1kw:function(e,t,i){var r,n,o,s;s=function(e){var t,i=0,r=Array.prototype.slice;return e.cleanData=(t=e.cleanData,function(i){var r,n,o;for(o=0;null!=(n=i[o]);o++)try{(r=e._data(n,"events"))&&r.remove&&e(n).triggerHandler("remove")}catch(e){}t(i)}),e.widget=function(t,i,r){var n,o,s,a={},l=t.split(".")[0],d=l+"-"+(t=t.split(".")[1]);return r||(r=i,i=e.Widget),e.isArray(r)&&(r=e.extend.apply(null,[{}].concat(r))),e.expr[":"][d.toLowerCase()]=function(t){return!!e.data(t,d)},e[l]=e[l]||{},n=e[l][t],o=e[l][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,n,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),(s=new i).options=e.widget.extend({},s.options),e.each(r,function(t,r){e.isFunction(r)?a[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function n(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=n,t=r.apply(this,arguments),this._super=i,this._superApply=o,t}}():a[t]=r}),o.prototype=e.widget.extend(s,{widgetEventPrefix:n&&s.widgetEventPrefix||t},a,{constructor:o,namespace:l,widgetName:t,widgetFullName:d}),n?(e.each(n._childConstructors,function(t,i){var r=i.prototype;e.widget(r.namespace+"."+r.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,n,o=r.call(arguments,1),s=0,a=o.length;s<a;s++)for(i in o[s])n=o[s][i],o[s].hasOwnProperty(i)&&void 0!==n&&(e.isPlainObject(n)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],n):e.widget.extend({},n):t[i]=n);return t},e.widget.bridge=function(t,i){var n=i.prototype.widgetFullName||t;e.fn[t]=function(o){var s="string"==typeof o,a=r.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each(function(){var i,r=e.data(this,n);return"instance"===o?(l=r,!1):r?e.isFunction(r[o])&&"_"!==o.charAt(0)?(i=r[o].apply(r,a))!==r&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(a.length&&(o=e.widget.extend.apply(null,[o].concat(a))),this.each(function(){var t=e.data(this,n);t?(t.option(o||{}),t._init&&t._init()):e.data(this,n,new i(o,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,i){t._removeClass(i,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var r,n,o,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},t=(r=t.split(".")).shift(),r.length){for(n=s[t]=e.widget.extend({},this.options[t]),o=0;o<r.length-1;o++)n[r[o]]=n[r[o]]||{},n=n[r[o]];if(t=r.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,r,n;for(i in t)n=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&n&&n.length&&(r=e(n.get()),this._removeClass(n,i),r.addClass(this._classes({element:r,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var i=[],r=this;function n(n,o){var s,a;for(a=0;a<n.length;a++)s=r.classesElementLookup[n[a]]||e(),s=t.add?e(e.unique(s.get().concat(t.element.get()))):e(s.not(t.element).get()),r.classesElementLookup[n[a]]=s,i.push(n[a]),o&&t.classes[n[a]]&&i.push(t.classes[n[a]])}return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&n(t.keys.match(/\S+/g)||[],!0),t.extra&&n(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,function(r,n){-1!==e.inArray(t.target,n)&&(i.classesElementLookup[r]=e(n.not(t.target).get()))})},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,r){r="boolean"==typeof r?r:i;var n="string"==typeof e||null===e,o={extra:n?t:i,keys:n?e:t,element:n?this.element:e,add:r};return o.element.toggleClass(this._classes(o),r),this},_on:function(t,i,r){var n,o=this;"boolean"!=typeof t&&(r=i,i=t,t=!1),r?(i=n=e(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,n=this.widget()),e.each(r,function(r,s){function a(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=r.match(/^([\w:-]*)\s*(.*)$/),d=l[1]+o.eventNamespace,c=l[2];c?n.on(d,c,a):i.on(d,a)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,r){var n,o,s=this.options[t];if(r=r||{},(i=e.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,r),!(e.isFunction(s)&&!1===s.apply(this.element[0],[i].concat(r))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(r,n,o){var s;"string"==typeof n&&(n={effect:n});var a=n?!0===n||"number"==typeof n?i:n.effect||i:t;"number"==typeof(n=n||{})&&(n={duration:n}),s=!e.isEmptyObject(n),n.complete=o,n.delay&&r.delay(n.delay),s&&e.effects&&e.effects.effect[a]?r[t](n):a!==t&&r[a]?r[a](n.duration,n.easing,o):r.queue(function(i){e(this)[t](),o&&o.call(r[0]),i()})}}),e.widget},n=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},zUl4:function(e,t,i){var r,n,o,s;s=function(e){return e.ui.plugin={add:function(t,i,r){var n,o=e.ui[t].prototype;for(n in r)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,r[n]])},call:function(e,t,i,r){var n,o=e.plugins[t];if(o&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;n<o.length;n++)e.options[o[n][0]]&&o[n][1].apply(e.element,i)}}},n=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)},zkIY:function(e,t,i){var r,n,o,s;s=function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())},n=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(r=s)?r.apply(t,n):r)||(e.exports=o)}},[2]);