webpackJsonp([1],{"0MVf":function(e,t,i){(function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t=function(){function t(e,t,i,n){this.markup=e,this.children=t,this.options=i,this.callback=n}return t.prototype.render=function(t){var i=e(this.markup);if(this.options&&this.options.contents&&i.html(this.options.contents),this.options&&this.options.className&&i.addClass(this.options.className),this.options&&this.options.data&&e.each(this.options.data,function(e,t){i.attr("data-"+e,t)}),this.options&&this.options.click&&i.on("click",this.options.click),this.children){var n=i.find(".note-children-container");this.children.forEach(function(e){e.render(n.length?n:i)})}return this.callback&&this.callback(i,this.options),this.options&&this.options.callback&&this.options.callback(i),t&&t.append(i),i},t}(),n=function(i,n){return function(){var r="object"==typeof arguments[1]?arguments[1]:arguments[0],o=e.isArray(arguments[0])?arguments[0]:[];return r&&r.children&&(o=r.children),new t(i,o,r,n)}},r=n('<div class="note-editor note-frame panel panel-default"/>'),o=n('<div class="note-toolbar panel-heading" role="toolbar"></div></div>'),s=n('<div class="note-editing-area"/>'),a=n('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),l=n('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),c=n(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),d=n('<div class="note-editor"/>'),u=n(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" aria-live="polite"/>'].join("")),h=n('<div class="note-btn-group btn-group">'),p=n('<ul class="dropdown-menu" role="list">',function(t,i){var n=e.isArray(i.items)?i.items.map(function(e){var t="string"==typeof e?e:e.value||"",n=i.template?i.template(e):e,r="object"==typeof e?e.option:void 0;return'<li role="listitem" aria-label="'+e+'"><a href="#" '+('data-value="'+t+'"'+(void 0!==r?' data-option="'+r+'"':""))+">"+n+"</a></li>"}).join(""):i.items;t.html(n).attr({"aria-label":i.title})}),f=n('<ul class="dropdown-menu note-check" role="list">',function(t,i){var n=e.isArray(i.items)?i.items.map(function(e){var t="string"==typeof e?e:e.value||"",n=i.template?i.template(e):e;return'<li role="listitem" aria-label="'+e+'"><a href="#" data-value="'+t+'">'+g(i.checkClassName)+" "+n+"</a></li>"}).join(""):i.items;t.html(n).attr({"aria-label":i.title})}),g=function(e,t){return"<"+(t=t||"i")+' class="'+e+'"/>'},m={editor:r,toolbar:o,editingArea:s,codable:a,editable:l,statusbar:c,airEditor:d,airEditable:u,buttonGroup:h,dropdown:p,dropdownButtonContents:function(e,t){return e+" "+g(t.icons.caret,"span")},dropdownCheck:f,palette:n('<div class="note-color-palette"/>',function(e,t){for(var i=[],n=0,r=t.colors.length;n<r;n++){for(var o=t.eventName,s=t.colors[n],a=t.colorsName[n],l=[],c=0,d=s.length;c<d;c++){var u=s[c],h=a[c];l.push(['<button type="button" class="note-color-btn"','style="background-color:',u,'" ','data-event="',o,'" ','data-value="',u,'" ','title="',h,'" ','aria-label="',h,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}i.push('<div class="note-color-row">'+l.join("")+"</div>")}e.html(i.join("")),t.tooltip&&e.find(".note-color-btn").tooltip({container:t.container,trigger:"hover",placement:"bottom"})}),dialog:n('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(e,t){t.fade&&e.addClass("fade"),e.attr({"aria-label":t.title}),e.html(['<div class="modal-dialog">','  <div class="modal-content">',t.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>      <h4 class="modal-title">'+t.title+"</h4>    </div>":"",'    <div class="modal-body">'+t.body+"</div>",t.footer?'    <div class="modal-footer">'+t.footer+"</div>":"","  </div>","</div>"].join(""))}),popover:n(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(e,t){var i=void 0!==t.direction?t.direction:"bottom";e.addClass(i),t.hideArrow&&e.find(".arrow").hide()}),checkbox:n('<div class="checkbox"></div>',function(e,t){e.html(["<label"+(t.id?' for="'+t.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(t.id?' id="'+t.id+'"':""),t.checked?" checked":"",' aria-checked="'+(t.checked?"true":"false")+'"/>',t.text?t.text:"","</label>"].join(""))}),icon:g,options:{},button:function(e,t){return n('<button type="button" class="note-btn btn btn-default btn-sm" role="button" tabindex="-1">',function(e,t){t&&t.tooltip&&e.attr({title:t.tooltip,"aria-label":t.tooltip}).tooltip({container:void 0!==t.container?t.container:"body",trigger:"hover",placement:"bottom"})})(e,t)},toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},onDialogShown:function(e,t){e.one("shown.bs.modal",t)},onDialogHidden:function(e,t){e.one("hidden.bs.modal",t)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(e,t){var i=(t.airMode?m.airEditor([m.editingArea([m.airEditable()])]):m.editor([m.toolbar(),m.editingArea([m.codable(),m.editable()]),m.statusbar()])).render();return i.insertAfter(e),{note:e,editor:i,toolbar:i.find(".note-toolbar"),editingArea:i.find(".note-editing-area"),editable:i.find(".note-editable"),codable:i.find(".note-codable"),statusbar:i.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.show()}};var v=0;var b={eq:function(e){return function(t){return e===t}},eq2:function(e,t){return e===t},peq2:function(e){return function(t,i){return t[e]===i[e]}},ok:function(){return!0},fail:function(){return!1},self:function(e){return e},not:function(e){return function(){return!e.apply(e,arguments)}},and:function(e,t){return function(i){return e(i)&&t(i)}},invoke:function(e,t){return function(){return e[t].apply(e,arguments)}},uniqueId:function(e){var t=++v+"";return e?e+t:t},rect2bnd:function(e){var t=$(document);return{top:e.top+t.scrollTop(),left:e.left+t.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},invertObject:function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[e[i]]=i);return t},namespaceToCamel:function(e,t){return(t=t||"")+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")},debounce:function(e,t,i){var n;return function(){var r=this,o=arguments,s=i&&!n;clearTimeout(n),n=setTimeout(function(){n=null,i||e.apply(r,o)},t),s&&e.apply(r,o)}}};function y(e){return e[0]}function w(e){return e[e.length-1]}function x(e){return e.slice(1)}function C(t,i){return e.inArray(i,t)}function k(e,t){return-1!==C(e,t)}var S={head:y,last:w,initial:function(e){return e.slice(0,e.length-1)},tail:x,prev:function(e,t){var i=C(e,t);return-1===i?null:e[i-1]},next:function(e,t){var i=C(e,t);return-1===i?null:e[i+1]},find:function(e,t){for(var i=0,n=e.length;i<n;i++){var r=e[i];if(t(r))return r}},contains:k,all:function(e,t){for(var i=0,n=e.length;i<n;i++)if(!t(e[i]))return!1;return!0},sum:function(e,t){return t=t||b.self,e.reduce(function(e,i){return e+t(i)},0)},from:function(e){for(var t=[],i=e.length,n=-1;++n<i;)t[n]=e[n];return t},isEmpty:function(e){return!e||!e.length},clusterBy:function(e,t){return e.length?x(e).reduce(function(e,i){var n=w(e);return t(w(n),i)?n[n.length]=i:e[e.length]=[i],e},[[y(e)]]):[]},compact:function(e){for(var t=[],i=0,n=e.length;i<n;i++)e[i]&&t.push(e[i]);return t},unique:function(e){for(var t=[],i=0,n=e.length;i<n;i++)k(t,e[i])||t.push(e[i]);return t}},D=i("nErl");var T,_=navigator.userAgent,j=/MSIE|Trident/i.test(_);if(j){var A=/MSIE (\d+[.]\d+)/.exec(_);A&&(T=parseFloat(A[1])),(A=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(_))&&(T=parseFloat(A[1]))}var F=/Edge\/\d+/.test(_),N=!!window.CodeMirror;if(!N&&D)try{N=!0}catch(e){}var I="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,O=j||F?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",R={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:j,isEdge:F,isFF:!F&&/firefox/i.test(_),isPhantom:/PhantomJS/i.test(_),isWebkit:!F&&/webkit/i.test(_),isChrome:!F&&/chrome/i.test(_),isSafari:!F&&/safari/i.test(_),browserVersion:T,jqueryVersion:parseFloat(e.fn.jquery),isSupportAmd:D,isSupportTouch:I,hasCodeMirror:N,isFontInstalled:function(t){var i="Comic Sans MS"===t?"Courier New":"Comic Sans MS",n=e("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),r=n.css("fontFamily",i).width(),o=n.css("fontFamily",t+","+i).width();return n.remove(),r!==o},isW3CRangeSupport:!!document.createRange,inputEventName:O},E=String.fromCharCode(160);function M(t){return t&&e(t).hasClass("note-editable")}function P(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}}function L(e){return e&&3===e.nodeType}function q(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^VIDEO|^EMBED/.test(e.nodeName.toUpperCase())}function z(e){return!M(e)&&(e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase()))}var H=P("PRE"),B=P("LI");var G=P("TABLE"),W=P("DATA");function V(e){return!(Z(e)||U(e)||Y(e)||z(e)||G(e)||K(e)||W(e))}function U(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())}var Y=P("HR");function X(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())}var K=P("BLOCKQUOTE");function Z(e){return X(e)||K(e)||M(e)}var J=P("A");var Q=P("BODY");var ee=R.isMSIE&&R.browserVersion<11?"&nbsp;":"<br>";function te(e){return L(e)?e.nodeValue.length:e?e.childNodes.length:0}function ie(e){var t=te(e);return 0===t||(!L(e)&&1===t&&e.innerHTML===ee||!(!S.all(e.childNodes,L)||""!==e.innerHTML))}function ne(e){q(e)||te(e)||(e.innerHTML=ee)}function re(e,t){for(;e;){if(t(e))return e;if(M(e))break;e=e.parentNode}return null}function oe(e,t){t=t||b.fail;var i=[];return re(e,function(e){return M(e)||i.push(e),t(e)}),i}function se(e,t){t=t||b.fail;for(var i=[];e&&!t(e);)i.push(e),e=e.nextSibling;return i}function ae(e,t){var i=t.nextSibling,n=t.parentNode;return i?n.insertBefore(e,i):n.appendChild(e),e}function le(t,i){return e.each(i,function(e,i){t.appendChild(i)}),t}function ce(e){return 0===e.offset}function de(e){return e.offset===te(e.node)}function ue(e){return ce(e)||de(e)}function he(e,t){for(;e&&e!==t;){if(0!==fe(e))return!1;e=e.parentNode}return!0}function pe(e,t){if(!t)return!1;for(;e&&e!==t;){if(fe(e)!==te(e.parentNode)-1)return!1;e=e.parentNode}return!0}function fe(e){for(var t=0;e=e.previousSibling;)t+=1;return t}function ge(e){return!!(e&&e.childNodes&&e.childNodes.length)}function me(e,t){var i,n;if(0===e.offset){if(M(e.node))return null;i=e.node.parentNode,n=fe(e.node)}else ge(e.node)?n=te(i=e.node.childNodes[e.offset-1]):(i=e.node,n=t?0:e.offset-1);return{node:i,offset:n}}function ve(e,t){var i,n;if(te(e.node)===e.offset){if(M(e.node))return null;i=e.node.parentNode,n=fe(e.node)+1}else ge(e.node)?(i=e.node.childNodes[e.offset],n=0):(i=e.node,n=t?te(e.node):e.offset+1);return{node:i,offset:n}}function be(e,t){return e.node===t.node&&e.offset===t.offset}function ye(e,t){var i=t&&t.isSkipPaddingBlankHTML,n=t&&t.isNotSplitEdgePoint,r=t&&t.isDiscardEmptySplits;if(r&&(i=!0),ue(e)&&(L(e.node)||n)){if(ce(e))return e.node;if(de(e))return e.node.nextSibling}if(L(e.node))return e.node.splitText(e.offset);var o=e.node.childNodes[e.offset],s=ae(e.node.cloneNode(!1),e.node);return le(s,se(o)),i||(ne(e.node),ne(s)),r&&(ie(e.node)&&Ce(e.node),ie(s))?(Ce(s),e.node.nextSibling):s}function we(e,t,i){var n=oe(t.node,b.eq(e));return n.length?1===n.length?ye(t,i):n.reduce(function(e,n){return e===t.node&&(e=ye(t,i)),ye({node:n,offset:e?fe(e):te(n)},i)}):null}function xe(e){return document.createElement(e)}function Ce(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var i=e.parentNode;if(!t){for(var n=[],r=0,o=e.childNodes.length;r<o;r++)n.push(e.childNodes[r]);for(r=0,o=n.length;r<o;r++)i.insertBefore(n[r],e)}i.removeChild(e)}}var ke=P("TEXTAREA");function Se(e,t){var i=ke(e[0])?e.val():e.html();return t?i.replace(/[\n\r]/g,""):i}var $e={NBSP_CHAR:E,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:ee,emptyPara:"<p>"+ee+"</p>",makePredByNodeName:P,isEditable:M,isControlSizing:function(t){return t&&e(t).hasClass("note-control-sizing")},isText:L,isElement:function(e){return e&&1===e.nodeType},isVoid:q,isPara:z,isPurePara:function(e){return z(e)&&!B(e)},isHeading:function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},isInline:V,isBlock:b.not(V),isBodyInline:function(e){return V(e)&&!re(e,z)},isBody:Q,isParaInline:function(e){return V(e)&&!!re(e,z)},isPre:H,isList:U,isTable:G,isData:W,isCell:X,isBlockquote:K,isBodyContainer:Z,isAnchor:J,isDiv:P("DIV"),isLi:B,isBR:P("BR"),isSpan:P("SPAN"),isB:P("B"),isU:P("U"),isS:P("S"),isI:P("I"),isImg:P("IMG"),isTextarea:ke,isEmpty:ie,isEmptyAnchor:b.and(J,ie),isClosestSibling:function(e,t){return e.nextSibling===t||e.previousSibling===t},withClosestSiblings:function(e,t){t=t||b.ok;var i=[];return e.previousSibling&&t(e.previousSibling)&&i.push(e.previousSibling),i.push(e),e.nextSibling&&t(e.nextSibling)&&i.push(e.nextSibling),i},nodeLength:te,isLeftEdgePoint:ce,isRightEdgePoint:de,isEdgePoint:ue,isLeftEdgeOf:he,isRightEdgeOf:pe,isLeftEdgePointOf:function(e,t){return ce(e)&&he(e.node,t)},isRightEdgePointOf:function(e,t){return de(e)&&pe(e.node,t)},prevPoint:me,nextPoint:ve,isSamePoint:be,isVisiblePoint:function(e){if(L(e.node)||!ge(e.node)||ie(e.node))return!0;var t=e.node.childNodes[e.offset-1],i=e.node.childNodes[e.offset];return!(t&&!q(t)||i&&!q(i))},prevPointUntil:function(e,t){for(;e;){if(t(e))return e;e=me(e)}return null},nextPointUntil:function(e,t){for(;e;){if(t(e))return e;e=ve(e)}return null},isCharPoint:function(e){if(!L(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return t&&" "!==t&&t!==E},walkPoint:function(e,t,i,n){for(var r=e;r&&(i(r),!be(r,t));)r=ve(r,n&&e.node!==r.node&&t.node!==r.node)},ancestor:re,singleChildAncestor:function(e,t){for(e=e.parentNode;e&&1===te(e);){if(t(e))return e;if(M(e))break;e=e.parentNode}return null},listAncestor:oe,lastAncestor:function(e,t){var i=oe(e);return S.last(i.filter(t))},listNext:se,listPrev:function(e,t){t=t||b.fail;for(var i=[];e&&!t(e);)i.push(e),e=e.previousSibling;return i},listDescendant:function(e,t){var i=[];return t=t||b.ok,function n(r){e!==r&&t(r)&&i.push(r);for(var o=0,s=r.childNodes.length;o<s;o++)n(r.childNodes[o])}(e),i},commonAncestor:function(t,i){for(var n=oe(t),r=i;r;r=r.parentNode)if(e.inArray(r,n)>-1)return r;return null},wrap:function(t,i){var n=t.parentNode,r=e("<"+i+">")[0];return n.insertBefore(r,t),r.appendChild(t),r},insertAfter:ae,appendChildNodes:le,position:fe,hasChildren:ge,makeOffsetPath:function(e,t){return oe(t,b.eq(e)).map(fe).reverse()},fromOffsetPath:function(e,t){for(var i=e,n=0,r=t.length;n<r;n++)i=i.childNodes.length<=t[n]?i.childNodes[i.childNodes.length-1]:i.childNodes[t[n]];return i},splitTree:we,splitPoint:function(e,t){var i,n,r=t?z:Z,o=oe(e.node,r),s=S.last(o)||e.node;r(s)?(i=o[o.length-2],n=s):n=(i=s).parentNode;var a=i&&we(i,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return a||n!==e.node||(a=e.node.childNodes[e.offset]),{rightNode:a,container:n}},create:xe,createText:function(e){return document.createTextNode(e)},remove:Ce,removeWhile:function(e,t){for(;e&&!M(e)&&t(e);){var i=e.parentNode;Ce(e),e=i}},replace:function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var i=xe(t);return e.style.cssText&&(i.style.cssText=e.style.cssText),le(i,S.from(e.childNodes)),ae(i,e),Ce(e),i},html:function(t,i){var n=Se(t);i&&(n=n.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(e,t,i){i=i.toUpperCase();var n=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(i)&&!!t,r=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(i);return e+(n||r?"\n":"")}),n=e.trim(n));return n},value:Se,posFromPlaceholder:function(t){var i=e(t),n=i.offset(),r=i.outerHeight(!0);return{left:n.left,top:n.top+r}},attachEvents:function(e,t){Object.keys(t).forEach(function(i){e.on(i,t[i])})},detachEvents:function(e,t){Object.keys(t).forEach(function(i){e.off(i,t[i])})},isCustomStyleTag:function(e){return e&&!L(e)&&S.contains(e.classList,"note-styletag")}};function De(e,t){var i,n,r=e.parentElement(),o=document.body.createTextRange(),s=S.from(r.childNodes);for(i=0;i<s.length;i++)if(!$e.isText(s[i])){if(o.moveToElementText(s[i]),o.compareEndPoints("StartToStart",e)>=0)break;n=s[i]}if(0!==i&&$e.isText(s[i-1])){var a=document.body.createTextRange(),l=null;a.moveToElementText(n||r),a.collapse(!n),l=n?n.nextSibling:r.firstChild;var c=e.duplicate();c.setEndPoint("StartToStart",a);for(var d=c.text.replace(/[\r\n]/g,"").length;d>l.nodeValue.length&&l.nextSibling;)d-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;t&&l.nextSibling&&$e.isText(l.nextSibling)&&d===l.nodeValue.length&&(d-=l.nodeValue.length,l=l.nextSibling),r=l,i=d}return{cont:r,offset:i}}function Te(e){var t=function(e,i){var n,r;if($e.isText(e)){var o=$e.listPrev(e,b.not($e.isText)),s=S.last(o).previousSibling;n=s||e.parentNode,i+=S.sum(S.tail(o),$e.nodeLength),r=!s}else{if(n=e.childNodes[i]||e,$e.isText(n))return t(n,0);i=0,r=!1}return{node:n,collapseToStart:r,offset:i}},i=document.body.createTextRange(),n=t(e.node,e.offset);return i.moveToElementText(n.node),i.collapse(n.collapseToStart),i.moveStart("character",n.offset),i}var _e=function(){function t(e,t,i,n){this.sc=e,this.so=t,this.ec=i,this.eo=n,this.isOnEditable=this.makeIsOn($e.isEditable),this.isOnList=this.makeIsOn($e.isList),this.isOnAnchor=this.makeIsOn($e.isAnchor),this.isOnCell=this.makeIsOn($e.isCell),this.isOnData=this.makeIsOn($e.isData)}return t.prototype.nativeRange=function(){if(R.isW3CRangeSupport){var e=document.createRange();return e.setStart(this.sc,this.so),e.setEnd(this.ec,this.eo),e}var t=Te({node:this.sc,offset:this.so});return t.setEndPoint("EndToEnd",Te({node:this.ec,offset:this.eo})),t},t.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},t.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},t.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},t.prototype.select=function(){var e=this.nativeRange();if(R.isW3CRangeSupport){var t=document.getSelection();t.rangeCount>0&&t.removeAllRanges(),t.addRange(e)}else e.select();return this},t.prototype.scrollIntoView=function(t){var i=e(t).height();return t.scrollTop+i<this.sc.offsetTop&&(t.scrollTop+=Math.abs(t.scrollTop+i-this.sc.offsetTop)),this},t.prototype.normalize=function(){var e=function(e,t){if($e.isVisiblePoint(e)&&!$e.isEdgePoint(e)||$e.isVisiblePoint(e)&&$e.isRightEdgePoint(e)&&!t||$e.isVisiblePoint(e)&&$e.isLeftEdgePoint(e)&&t||$e.isVisiblePoint(e)&&$e.isBlock(e.node)&&$e.isEmpty(e.node))return e;var i=$e.ancestor(e.node,$e.isBlock);if(($e.isLeftEdgePointOf(e,i)||$e.isVoid($e.prevPoint(e).node))&&!t||($e.isRightEdgePointOf(e,i)||$e.isVoid($e.nextPoint(e).node))&&t){if($e.isVisiblePoint(e))return e;t=!t}return(t?$e.nextPointUntil($e.nextPoint(e),$e.isVisiblePoint):$e.prevPointUntil($e.prevPoint(e),$e.isVisiblePoint))||e},i=e(this.getEndPoint(),!1),n=this.isCollapsed()?i:e(this.getStartPoint(),!0);return new t(n.node,n.offset,i.node,i.offset)},t.prototype.nodes=function(e,t){e=e||b.ok;var i=t&&t.includeAncestor,n=t&&t.fullyContains,r=this.getStartPoint(),o=this.getEndPoint(),s=[],a=[];return $e.walkPoint(r,o,function(t){var r;$e.isEditable(t.node)||(n?($e.isLeftEdgePoint(t)&&a.push(t.node),$e.isRightEdgePoint(t)&&S.contains(a,t.node)&&(r=t.node)):r=i?$e.ancestor(t.node,e):t.node,r&&e(r)&&s.push(r))},!0),S.unique(s)},t.prototype.commonAncestor=function(){return $e.commonAncestor(this.sc,this.ec)},t.prototype.expand=function(e){var i=$e.ancestor(this.sc,e),n=$e.ancestor(this.ec,e);if(!i&&!n)return new t(this.sc,this.so,this.ec,this.eo);var r=this.getPoints();return i&&(r.sc=i,r.so=0),n&&(r.ec=n,r.eo=$e.nodeLength(n)),new t(r.sc,r.so,r.ec,r.eo)},t.prototype.collapse=function(e){return e?new t(this.sc,this.so,this.sc,this.so):new t(this.ec,this.eo,this.ec,this.eo)},t.prototype.splitText=function(){var e=this.sc===this.ec,i=this.getPoints();return $e.isText(this.ec)&&!$e.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),$e.isText(this.sc)&&!$e.isEdgePoint(this.getStartPoint())&&(i.sc=this.sc.splitText(this.so),i.so=0,e&&(i.ec=i.sc,i.eo=this.eo-this.so)),new t(i.sc,i.so,i.ec,i.eo)},t.prototype.deleteContents=function(){if(this.isCollapsed())return this;var i=this.splitText(),n=i.nodes(null,{fullyContains:!0}),r=$e.prevPointUntil(i.getStartPoint(),function(e){return!S.contains(n,e.node)}),o=[];return e.each(n,function(e,t){var i=t.parentNode;r.node!==i&&1===$e.nodeLength(i)&&o.push(i),$e.remove(t,!1)}),e.each(o,function(e,t){$e.remove(t,!1)}),new t(r.node,r.offset,r.node,r.offset).normalize()},t.prototype.makeIsOn=function(e){return function(){var t=$e.ancestor(this.sc,e);return!!t&&t===$e.ancestor(this.ec,e)}},t.prototype.isLeftEdgeOf=function(e){if(!$e.isLeftEdgePoint(this.getStartPoint()))return!1;var t=$e.ancestor(this.sc,e);return t&&$e.isLeftEdgeOf(this.sc,t)},t.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},t.prototype.wrapBodyInlineWithPara=function(){if($e.isBodyContainer(this.sc)&&$e.isEmpty(this.sc))return this.sc.innerHTML=$e.emptyPara,new t(this.sc.firstChild,0,this.sc.firstChild,0);var e,i=this.normalize();if($e.isParaInline(this.sc)||$e.isPara(this.sc))return i;if($e.isInline(i.sc)){var n=$e.listAncestor(i.sc,b.not($e.isInline));e=S.last(n),$e.isInline(e)||(e=n[n.length-2]||i.sc.childNodes[i.so])}else e=i.sc.childNodes[i.so>0?i.so-1:0];var r=$e.listPrev(e,$e.isParaInline).reverse();if((r=r.concat($e.listNext(e.nextSibling,$e.isParaInline))).length){var o=$e.wrap(S.head(r),"p");$e.appendChildNodes(o,S.tail(r))}return this.normalize()},t.prototype.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),i=$e.splitPoint(t.getStartPoint(),$e.isInline(e));return i.rightNode?i.rightNode.parentNode.insertBefore(e,i.rightNode):i.container.appendChild(e),e},t.prototype.pasteHTML=function(t){var i=e("<div></div>").html(t)[0],n=S.from(i.childNodes),r=this.wrapBodyInlineWithPara().deleteContents();return r.so>0&&(n=n.reverse()),n=n.map(function(e){return r.insertNode(e)}),r.so>0&&(n=n.reverse()),n},t.prototype.toString=function(){var e=this.nativeRange();return R.isW3CRangeSupport?e.toString():e.text},t.prototype.getWordRange=function(e){var i=this.getEndPoint();if(!$e.isCharPoint(i))return this;var n=$e.prevPointUntil(i,function(e){return!$e.isCharPoint(e)});return e&&(i=$e.nextPointUntil(i,function(e){return!$e.isCharPoint(e)})),new t(n.node,n.offset,i.node,i.offset)},t.prototype.bookmark=function(e){return{s:{path:$e.makeOffsetPath(e,this.sc),offset:this.so},e:{path:$e.makeOffsetPath(e,this.ec),offset:this.eo}}},t.prototype.paraBookmark=function(e){return{s:{path:S.tail($e.makeOffsetPath(S.head(e),this.sc)),offset:this.so},e:{path:S.tail($e.makeOffsetPath(S.last(e),this.ec)),offset:this.eo}}},t.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},t}(),je={create:function(e,t,i,n){if(4===arguments.length)return new _e(e,t,i,n);if(2===arguments.length)return new _e(e,t,i=e,n=t);var r=this.createFromSelection();return r||1!==arguments.length?r:(r=this.createFromNode(arguments[0])).collapse($e.emptyPara===arguments[0].innerHTML)},createFromSelection:function(){var e,t,i,n;if(R.isW3CRangeSupport){var r=document.getSelection();if(!r||0===r.rangeCount)return null;if($e.isBody(r.anchorNode))return null;var o=r.getRangeAt(0);e=o.startContainer,t=o.startOffset,i=o.endContainer,n=o.endOffset}else{var s=document.selection.createRange(),a=s.duplicate();a.collapse(!1);var l=s;l.collapse(!0);var c=De(l,!0),d=De(a,!1);$e.isText(c.node)&&$e.isLeftEdgePoint(c)&&$e.isTextNode(d.node)&&$e.isRightEdgePoint(d)&&d.node.nextSibling===c.node&&(c=d),e=c.cont,t=c.offset,i=d.cont,n=d.offset}return new _e(e,t,i,n)},createFromNode:function(e){var t=e,i=0,n=e,r=$e.nodeLength(n);return $e.isVoid(t)&&(i=$e.listPrev(t).length-1,t=t.parentNode),$e.isBR(n)?(r=$e.listPrev(n).length-1,n=n.parentNode):$e.isVoid(n)&&(r=$e.listPrev(n).length,n=n.parentNode),this.create(t,i,n,r)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var i=$e.fromOffsetPath(e,t.s.path),n=t.s.offset,r=$e.fromOffsetPath(e,t.e.path),o=t.e.offset;return new _e(i,n,r,o)},createFromParaBookmark:function(e,t){var i=e.s.offset,n=e.e.offset,r=$e.fromOffsetPath(S.head(t),e.s.path),o=$e.fromOffsetPath(S.last(t),e.e.path);return new _e(r,i,o,n)}};e.summernote=e.summernote||{lang:{}},e.extend(e.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var Ae={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Fe={isEdit:function(e){return S.contains([Ae.BACKSPACE,Ae.TAB,Ae.ENTER,Ae.SPACE,Ae.DELETE],e)},isMove:function(e){return S.contains([Ae.LEFT,Ae.UP,Ae.RIGHT,Ae.DOWN],e)},nameFromCode:b.invertObject(Ae),code:Ae};var Ne=function(){function e(e){this.stack=[],this.stackOffset=-1,this.$editable=e,this.editable=e[0]}return e.prototype.makeSnapshot=function(){var e=je.create(this.editable);return{contents:this.$editable.html(),bookmark:e?e.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},e.prototype.applySnapshot=function(e){null!==e.contents&&this.$editable.html(e.contents),null!==e.bookmark&&je.createFromBookmark(this.editable,e.bookmark).select()},e.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},e.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},e.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},e.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},e.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},e.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},e}(),Ie=function(){function t(){}return t.prototype.jQueryCSS=function(t,i){if(R.jqueryVersion<1.9){var n={};return e.each(i,function(e,i){n[i]=t.css(i)}),n}return t.css(i)},t.prototype.fromNode=function(e){var t=this.jQueryCSS(e,["font-family","font-size","text-align","list-style-type","line-height"])||{};return t["font-size"]=parseInt(t["font-size"],10),t},t.prototype.stylePara=function(t,i){e.each(t.nodes($e.isPara,{includeAncestor:!0}),function(t,n){e(n).css(i)})},t.prototype.styleNodes=function(t,i){t=t.splitText();var n=i&&i.nodeName||"SPAN",r=!(!i||!i.expandClosestSibling),o=!(!i||!i.onlyPartialContains);if(t.isCollapsed())return[t.insertNode($e.create(n))];var s=$e.makePredByNodeName(n),a=t.nodes($e.isText,{fullyContains:!0}).map(function(e){return $e.singleChildAncestor(e,s)||$e.wrap(e,n)});if(r){if(o){var l=t.nodes();s=b.and(s,function(e){return S.contains(l,e)})}return a.map(function(t){var i=$e.withClosestSiblings(t,s),n=S.head(i),r=S.tail(i);return e.each(r,function(e,t){$e.appendChildNodes(n,t.childNodes),$e.remove(t)}),S.head(i)})}return a},t.prototype.current=function(t){var i=e($e.isElement(t.sc)?t.sc:t.sc.parentNode),n=this.fromNode(i);try{n=e.extend(n,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||n["font-family"]})}catch(e){}if(t.isOnList()){var r=e.inArray(n["list-style-type"],["circle","disc","disc-leading-zero","square"])>-1;n["list-style"]=r?"unordered":"ordered"}else n["list-style"]="none";var o=$e.ancestor(t.sc,$e.isPara);if(o&&o.style["line-height"])n["line-height"]=o.style.lineHeight;else{var s=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=s.toFixed(1)}return n.anchor=t.isOnAnchor()&&$e.ancestor(t.sc,$e.isAnchor),n.ancestors=$e.listAncestor(t.sc,$e.isEditable),n.range=t,n},t}(),Oe=function(){function t(){}return t.prototype.insertOrderedList=function(e){this.toggleList("OL",e)},t.prototype.insertUnorderedList=function(e){this.toggleList("UL",e)},t.prototype.indent=function(t){var i=this,n=je.create(t).wrapBodyInlineWithPara(),r=n.nodes($e.isPara,{includeAncestor:!0}),o=S.clusterBy(r,b.peq2("parentNode"));e.each(o,function(t,n){var r=S.head(n);if($e.isLi(r)){var o=i.findList(r.previousSibling);o?n.map(function(e){return o.appendChild(e)}):(i.wrapList(n,r.parentNode.nodeName),n.map(function(e){return e.parentNode}).map(function(e){return i.appendToPrevious(e)}))}else e.each(n,function(t,i){e(i).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),n.select()},t.prototype.outdent=function(t){var i=this,n=je.create(t).wrapBodyInlineWithPara(),r=n.nodes($e.isPara,{includeAncestor:!0}),o=S.clusterBy(r,b.peq2("parentNode"));e.each(o,function(t,n){var r=S.head(n);$e.isLi(r)?i.releaseList([n]):e.each(n,function(t,i){e(i).css("marginLeft",function(e,t){return(t=parseInt(t,10)||0)>25?t-25:""})})}),n.select()},t.prototype.toggleList=function(t,i){var n=this,r=je.create(i).wrapBodyInlineWithPara(),o=r.nodes($e.isPara,{includeAncestor:!0}),s=r.paraBookmark(o),a=S.clusterBy(o,b.peq2("parentNode"));if(S.find(o,$e.isPurePara)){var l=[];e.each(a,function(e,i){l=l.concat(n.wrapList(i,t))}),o=l}else{var c=r.nodes($e.isList,{includeAncestor:!0}).filter(function(i){return!e.nodeName(i,t)});c.length?e.each(c,function(e,i){$e.replace(i,t)}):o=this.releaseList(a,!0)}je.createFromParaBookmark(s,o).select()},t.prototype.wrapList=function(e,t){var i=S.head(e),n=S.last(e),r=$e.isList(i.previousSibling)&&i.previousSibling,o=$e.isList(n.nextSibling)&&n.nextSibling,s=r||$e.insertAfter($e.create(t||"UL"),n);return e=e.map(function(e){return $e.isPurePara(e)?$e.replace(e,"LI"):e}),$e.appendChildNodes(s,e),o&&($e.appendChildNodes(s,S.from(o.childNodes)),$e.remove(o)),e},t.prototype.releaseList=function(t,i){var n=this,r=[];return e.each(t,function(t,o){var s=S.head(o),a=S.last(o),l=i?$e.lastAncestor(s,$e.isList):s.parentNode,c=l.parentNode;if("LI"===l.parentNode.nodeName)o.map(function(e){var t=n.findNextSiblings(e);c.nextSibling?c.parentNode.insertBefore(e,c.nextSibling):c.parentNode.appendChild(e),t.length&&(n.wrapList(t,l.nodeName),e.appendChild(t[0].parentNode))}),0===l.children.length&&c.removeChild(l),0===c.childNodes.length&&c.parentNode.removeChild(c);else{var d=l.childNodes.length>1?$e.splitTree(l,{node:a.parentNode,offset:$e.position(a)+1},{isSkipPaddingBlankHTML:!0}):null,u=$e.splitTree(l,{node:s.parentNode,offset:$e.position(s)},{isSkipPaddingBlankHTML:!0});o=i?$e.listDescendant(u,$e.isLi):S.from(u.childNodes).filter($e.isLi),!i&&$e.isList(l.parentNode)||(o=o.map(function(e){return $e.replace(e,"P")})),e.each(S.from(o).reverse(),function(e,t){$e.insertAfter(t,l)});var h=S.compact([l,u,d]);e.each(h,function(t,i){var n=[i].concat($e.listDescendant(i,$e.isList));e.each(n.reverse(),function(e,t){$e.nodeLength(t)||$e.remove(t,!0)})})}r=r.concat(o)}),r},t.prototype.appendToPrevious=function(e){return e.previousSibling?$e.appendChildNodes(e.previousSibling,[e]):this.wrapList([e],"LI")},t.prototype.findList=function(e){return e?S.find(e.children,function(e){return["OL","UL"].indexOf(e.nodeName)>-1}):null},t.prototype.findNextSiblings=function(e){for(var t=[];e.nextSibling;)t.push(e.nextSibling),e=e.nextSibling;return t},t}(),Re=function(){function t(e){this.bullet=new Oe,this.options=e.options}return t.prototype.insertTab=function(e,t){var i=$e.createText(new Array(t+1).join($e.NBSP_CHAR));(e=e.deleteContents()).insertNode(i,!0),(e=je.create(i,t)).select()},t.prototype.insertParagraph=function(t,i){i=(i=(i=i||je.create(t)).deleteContents()).wrapBodyInlineWithPara();var n,r=$e.ancestor(i.sc,$e.isPara);if(r){if($e.isEmpty(r)&&$e.isLi(r))return void this.bullet.toggleList(r.parentNode.nodeName);var o=null;if(1===this.options.blockquoteBreakingLevel?o=$e.ancestor(r,$e.isBlockquote):2===this.options.blockquoteBreakingLevel&&(o=$e.lastAncestor(r,$e.isBlockquote)),o){n=e($e.emptyPara)[0],$e.isRightEdgePoint(i.getStartPoint())&&$e.isBR(i.sc.nextSibling)&&e(i.sc.nextSibling).remove();var s=$e.splitTree(o,i.getStartPoint(),{isDiscardEmptySplits:!0});s?s.parentNode.insertBefore(n,s):$e.insertAfter(n,o)}else{n=$e.splitTree(r,i.getStartPoint());var a=$e.listDescendant(r,$e.isEmptyAnchor);a=a.concat($e.listDescendant(n,$e.isEmptyAnchor)),e.each(a,function(e,t){$e.remove(t)}),($e.isHeading(n)||$e.isPre(n)||$e.isCustomStyleTag(n))&&$e.isEmpty(n)&&(n=$e.replace(n,"p"))}}else{var l=i.sc.childNodes[i.so];n=e($e.emptyPara)[0],l?i.sc.insertBefore(n,l):i.sc.appendChild(n)}je.create(n,0).normalize().select().scrollIntoView(t)},t}(),Ee=function(e,t,i,n){var r={colPos:0,rowPos:0},o=[],s=[];function a(e,t,i,n,r,s,a){var l={baseRow:i,baseCell:n,isRowSpan:r,isColSpan:s,isVirtual:a};o[e]||(o[e]=[]),o[e][t]=l}function l(e,t,i,n){return{baseCell:e.baseCell,action:t,virtualTable:{rowIndex:i,cellIndex:n}}}function c(e,t){if(!o[e])return t;if(!o[e][t])return t;for(var i=t;o[e][i];)if(i++,!o[e][i])return i}function d(e,t){var i=c(e.rowIndex,t.cellIndex),n=t.colSpan>1,o=t.rowSpan>1,s=e.rowIndex===r.rowPos&&t.cellIndex===r.colPos;a(e.rowIndex,i,e,t,o,n,!1);var l=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0;if(l>1)for(var d=1;d<l;d++){var h=e.rowIndex+d;u(h,i,t,s),a(h,i,e,t,!0,n,!0)}var p=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0;if(p>1)for(var f=1;f<p;f++){var g=c(e.rowIndex,i+f);u(e.rowIndex,g,t,s),a(e.rowIndex,g,e,t,o,!0,!0)}}function u(e,t,i,n){e===r.rowPos&&r.colPos>=i.cellIndex&&i.cellIndex<=t&&!n&&r.colPos++}function h(e){switch(t){case Ee.where.Column:if(e.isColSpan)return Ee.resultAction.SubtractSpanCount;break;case Ee.where.Row:if(!e.isVirtual&&e.isRowSpan)return Ee.resultAction.AddCell;if(e.isRowSpan)return Ee.resultAction.SubtractSpanCount}return Ee.resultAction.RemoveCell}function p(e){switch(t){case Ee.where.Column:if(e.isColSpan)return Ee.resultAction.SumSpanCount;if(e.isRowSpan&&e.isVirtual)return Ee.resultAction.Ignore;break;case Ee.where.Row:if(e.isRowSpan)return Ee.resultAction.SumSpanCount;if(e.isColSpan&&e.isVirtual)return Ee.resultAction.Ignore}return Ee.resultAction.AddCell}this.getActionList=function(){for(var e=t===Ee.where.Row?r.rowPos:-1,n=t===Ee.where.Column?r.colPos:-1,a=0,c=!0;c;){var d=e>=0?e:a,u=n>=0?n:a,f=o[d];if(!f)return c=!1,s;var g=f[u];if(!g)return c=!1,s;var m=Ee.resultAction.Ignore;switch(i){case Ee.requestAction.Add:m=p(g);break;case Ee.requestAction.Delete:m=h(g)}s.push(l(g,m,d,u)),a++}return s},e&&e.tagName&&("td"===e.tagName.toLowerCase()||"th"===e.tagName.toLowerCase())?(r.colPos=e.cellIndex,e.parentElement&&e.parentElement.tagName&&"tr"===e.parentElement.tagName.toLowerCase()?r.rowPos=e.parentElement.rowIndex:console.error("Impossible to identify start Row point.",e)):console.error("Impossible to identify start Cell point.",e),function(){for(var e=n.rows,t=0;t<e.length;t++)for(var i=e[t].cells,r=0;r<i.length;r++)d(e[t],i[r])}()};Ee.where={Row:0,Column:1},Ee.requestAction={Add:0,Delete:1},Ee.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Me,Pe=function(){function t(){}return t.prototype.tab=function(e,t){var i=$e.ancestor(e.commonAncestor(),$e.isCell),n=$e.ancestor(i,$e.isTable),r=$e.listDescendant(n,$e.isCell),o=S[t?"prev":"next"](r,i);o&&je.create(o,0).select()},t.prototype.addRow=function(t,i){for(var n=$e.ancestor(t.commonAncestor(),$e.isCell),r=e(n).closest("tr"),o=this.recoverAttributes(r),s=e("<tr"+o+"></tr>"),a=new Ee(n,Ee.where.Row,Ee.requestAction.Add,e(r).closest("table")[0]).getActionList(),l=0;l<a.length;l++){var c=a[l],d=this.recoverAttributes(c.baseCell);switch(c.action){case Ee.resultAction.AddCell:s.append("<td"+d+">"+$e.blank+"</td>");break;case Ee.resultAction.SumSpanCount:if("top"===i)if((c.baseCell.parent?c.baseCell.closest("tr").rowIndex:0)<=r[0].rowIndex){var u=e("<div></div>").append(e("<td"+d+">"+$e.blank+"</td>").removeAttr("rowspan")).html();s.append(u);break}var h=parseInt(c.baseCell.rowSpan,10);h++,c.baseCell.setAttribute("rowSpan",h)}}if("top"===i)r.before(s);else{if(n.rowSpan>1){var p=r[0].rowIndex+(n.rowSpan-2);return void e(e(r).parent().find("tr")[p]).after(e(s))}r.after(s)}},t.prototype.addCol=function(t,i){var n=$e.ancestor(t.commonAncestor(),$e.isCell),r=e(n).closest("tr");e(r).siblings().push(r);for(var o=new Ee(n,Ee.where.Column,Ee.requestAction.Add,e(r).closest("table")[0]).getActionList(),s=0;s<o.length;s++){var a=o[s],l=this.recoverAttributes(a.baseCell);switch(a.action){case Ee.resultAction.AddCell:"right"===i?e(a.baseCell).after("<td"+l+">"+$e.blank+"</td>"):e(a.baseCell).before("<td"+l+">"+$e.blank+"</td>");break;case Ee.resultAction.SumSpanCount:if("right"===i){var c=parseInt(a.baseCell.colSpan,10);c++,a.baseCell.setAttribute("colSpan",c)}else e(a.baseCell).before("<td"+l+">"+$e.blank+"</td>")}}},t.prototype.recoverAttributes=function(e){var t="";if(!e)return t;for(var i=e.attributes||[],n=0;n<i.length;n++)"id"!==i[n].name.toLowerCase()&&i[n].specified&&(t+=" "+i[n].name+"='"+i[n].value+"'");return t},t.prototype.deleteRow=function(t){for(var i=$e.ancestor(t.commonAncestor(),$e.isCell),n=e(i).closest("tr"),r=n.children("td, th").index(e(i)),o=n[0].rowIndex,s=new Ee(i,Ee.where.Row,Ee.requestAction.Delete,e(n).closest("table")[0]).getActionList(),a=0;a<s.length;a++)if(s[a]){var l=s[a].baseCell,c=s[a].virtualTable,d=l.rowSpan&&l.rowSpan>1,u=d?parseInt(l.rowSpan,10):0;switch(s[a].action){case Ee.resultAction.Ignore:continue;case Ee.resultAction.AddCell:var h=n.next("tr")[0];if(!h)continue;var p=n[0].cells[r];d&&(u>2?(u--,h.insertBefore(p,h.cells[r]),h.cells[r].setAttribute("rowSpan",u),h.cells[r].innerHTML=""):2===u&&(h.insertBefore(p,h.cells[r]),h.cells[r].removeAttribute("rowSpan"),h.cells[r].innerHTML=""));continue;case Ee.resultAction.SubtractSpanCount:d&&(u>2?(u--,l.setAttribute("rowSpan",u),c.rowIndex!==o&&l.cellIndex===r&&(l.innerHTML="")):2===u&&(l.removeAttribute("rowSpan"),c.rowIndex!==o&&l.cellIndex===r&&(l.innerHTML="")));continue;case Ee.resultAction.RemoveCell:continue}}n.remove()},t.prototype.deleteCol=function(t){for(var i=$e.ancestor(t.commonAncestor(),$e.isCell),n=e(i).closest("tr"),r=n.children("td, th").index(e(i)),o=new Ee(i,Ee.where.Column,Ee.requestAction.Delete,e(n).closest("table")[0]).getActionList(),s=0;s<o.length;s++)if(o[s])switch(o[s].action){case Ee.resultAction.Ignore:continue;case Ee.resultAction.SubtractSpanCount:var a=o[s].baseCell;if(a.colSpan&&a.colSpan>1){var l=a.colSpan?parseInt(a.colSpan,10):0;l>2?(l--,a.setAttribute("colSpan",l),a.cellIndex===r&&(a.innerHTML="")):2===l&&(a.removeAttribute("colSpan"),a.cellIndex===r&&(a.innerHTML=""))}continue;case Ee.resultAction.RemoveCell:$e.remove(o[s].baseCell,!0);continue}},t.prototype.createTable=function(t,i,n){for(var r,o=[],s=0;s<t;s++)o.push("<td>"+$e.blank+"</td>");r=o.join("");for(var a,l=[],c=0;c<i;c++)l.push("<tr>"+r+"</tr>");a=l.join("");var d=e("<table>"+a+"</table>");return n&&n.tableClassName&&d.addClass(n.tableClassName),d[0]},t.prototype.deleteTable=function(t){var i=$e.ancestor(t.commonAncestor(),$e.isCell);e(i).closest("table").remove()},t}(),Le=function(){function t(t){var i=this;this.context=t,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Ie,this.table=new Pe,this.typing=new Re(t),this.bullet=new Oe,this.history=new Ne(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var n=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],r=0,o=n.length;r<o;r++)this[n[r]]=function(e){return function(t){i.beforeCommand(),document.execCommand(e,!1,t),i.afterCommand(!0)}}(n[r]),this.context.memo("help."+n[r],this.lang.help[n[r]]);this.fontName=this.wrapCommand(function(e){return i.fontStyling("font-family","'"+e+"'")}),this.fontSize=this.wrapCommand(function(e){return i.fontStyling("font-size",e+"px")});for(r=1;r<=6;r++)this["formatH"+r]=function(e){return function(){i.formatBlock("H"+e)}}(r),this.context.memo("help.formatH"+r,this.lang.help["formatH"+r]);this.insertParagraph=this.wrapCommand(function(){i.typing.insertParagraph(i.editable)}),this.insertOrderedList=this.wrapCommand(function(){i.bullet.insertOrderedList(i.editable)}),this.insertUnorderedList=this.wrapCommand(function(){i.bullet.insertUnorderedList(i.editable)}),this.indent=this.wrapCommand(function(){i.bullet.indent(i.editable)}),this.outdent=this.wrapCommand(function(){i.bullet.outdent(i.editable)}),this.insertNode=this.wrapCommand(function(t){i.isLimited(e(t).text().length)||(i.createRange().insertNode(t),je.createFromNodeAfter(t).select())}),this.insertText=this.wrapCommand(function(e){if(!i.isLimited(e.length)){var t=i.createRange().insertNode($e.createText(e));je.create(t,$e.nodeLength(t)).select()}}),this.pasteHTML=this.wrapCommand(function(e){if(!i.isLimited(e.length)){var t=i.createRange().pasteHTML(e);je.createFromNodeAfter(S.last(t)).select()}}),this.formatBlock=this.wrapCommand(function(e,t){var n=i.options.callbacks.onApplyCustomStyle;n?n.call(i,t,i.context,i.onFormatBlock):i.onFormatBlock(e,t)}),this.insertHorizontalRule=this.wrapCommand(function(){var e=i.createRange().insertNode($e.create("HR"));e.nextSibling&&je.create(e.nextSibling,0).normalize().select()}),this.lineHeight=this.wrapCommand(function(e){i.style.stylePara(i.createRange(),{lineHeight:e})}),this.createLink=this.wrapCommand(function(t){var n=t.url,r=t.text,o=t.isNewWindow,s=t.range||i.createRange(),a=r.length-s.toString().length;if(!(a>0&&i.isLimited(a))){var l=s.toString()!==r;"string"==typeof n&&(n=n.trim()),i.options.onCreateLink?n=i.options.onCreateLink(n):/^\.?\/(.*)/.test(n)||(n=/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(n)?n:"http://"+n);var c=[];if(l){var d=(s=s.deleteContents()).insertNode(e("<A>"+r+"</A>")[0]);c.push(d)}else c=i.style.styleNodes(s,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});e.each(c,function(t,i){e(i).attr("href",n),o?e(i).attr("target","_blank"):e(i).removeAttr("target")});var u=je.createFromNodeBefore(S.head(c)).getStartPoint(),h=je.createFromNodeAfter(S.last(c)).getEndPoint();je.create(u.node,u.offset,h.node,h.offset).select()}}),this.color=this.wrapCommand(function(e){var t=e.foreColor,i=e.backColor;t&&document.execCommand("foreColor",!1,t),i&&document.execCommand("backColor",!1,i)}),this.foreColor=this.wrapCommand(function(e){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,e)}),this.insertTable=this.wrapCommand(function(e){var t=e.split("x");i.createRange().deleteContents().insertNode(i.table.createTable(t[0],t[1],i.options))}),this.removeMedia=this.wrapCommand(function(){var t=e(i.restoreTarget()).parent();t.parent("figure").length?t.parent("figure").remove():t=e(i.restoreTarget()).detach(),i.context.triggerEvent("media.delete",t,i.$editable)}),this.floatMe=this.wrapCommand(function(t){var n=e(i.restoreTarget());n.toggleClass("note-float-left","left"===t),n.toggleClass("note-float-right","right"===t),n.css("float",t)}),this.resize=this.wrapCommand(function(t){e(i.restoreTarget()).css({width:100*t+"%",height:""})})}return t.prototype.initialize=function(){var e=this;this.$editable.on("keydown",function(t){if(t.keyCode===Fe.code.ENTER&&e.context.triggerEvent("enter",t),e.context.triggerEvent("keydown",t),t.isDefaultPrevented()||(e.options.shortcuts?e.handleKeyMap(t):e.preventDefaultEditableShortCuts(t)),e.isLimited(1,t))return!1}).on("keyup",function(t){e.context.triggerEvent("keyup",t)}).on("focus",function(t){e.context.triggerEvent("focus",t)}).on("blur",function(t){e.context.triggerEvent("blur",t)}).on("mousedown",function(t){e.context.triggerEvent("mousedown",t)}).on("mouseup",function(t){e.context.triggerEvent("mouseup",t)}).on("scroll",function(t){e.context.triggerEvent("scroll",t)}).on("paste",function(t){e.context.triggerEvent("paste",t)}),this.$editable.html($e.html(this.$note)||$e.emptyPara),this.$editable.on(R.inputEventName,b.debounce(function(){e.context.triggerEvent("change",e.$editable.html())},10)),this.$editor.on("focusin",function(t){e.context.triggerEvent("focusin",t)}).on("focusout",function(t){e.context.triggerEvent("focusout",t)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo()},t.prototype.destroy=function(){this.$editable.off()},t.prototype.handleKeyMap=function(e){var t=this.options.keyMap[R.isMac?"mac":"pc"],i=[];e.metaKey&&i.push("CMD"),e.ctrlKey&&!e.altKey&&i.push("CTRL"),e.shiftKey&&i.push("SHIFT");var n=Fe.nameFromCode[e.keyCode];n&&i.push(n);var r=t[i.join("+")];r?!1!==this.context.invoke(r)&&e.preventDefault():Fe.isEdit(e.keyCode)&&this.afterCommand()},t.prototype.preventDefaultEditableShortCuts=function(e){(e.ctrlKey||e.metaKey)&&S.contains([66,73,85],e.keyCode)&&e.preventDefault()},t.prototype.isLimited=function(e,t){return e=e||0,(void 0===t||!(Fe.isMove(t.keyCode)||t.ctrlKey||t.metaKey||S.contains([Fe.code.BACKSPACE,Fe.code.DELETE],t.keyCode)))&&(this.options.maxTextLength>0&&this.$editable.text().length+e>=this.options.maxTextLength)},t.prototype.createRange=function(){return this.focus(),je.create(this.editable)},t.prototype.saveRange=function(e){this.lastRange=this.createRange(),e&&this.lastRange.collapse().select()},t.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},t.prototype.saveTarget=function(e){this.$editable.data("target",e)},t.prototype.clearTarget=function(){this.$editable.removeData("target")},t.prototype.restoreTarget=function(){return this.$editable.data("target")},t.prototype.currentStyle=function(){var e=je.create();return e&&(e=e.normalize()),e?this.style.current(e):this.style.fromNode(this.$editable)},t.prototype.styleFromNode=function(e){return this.style.fromNode(e)},t.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html())},t.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html())},t.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html())},t.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},t.prototype.afterCommand=function(e){this.normalizeContent(),this.history.recordUndo(),e||this.context.triggerEvent("change",this.$editable.html())},t.prototype.tab=function(){var e=this.createRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(e,this.options.tabSize),this.afterCommand())}},t.prototype.untab=function(){var e=this.createRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e,!0);else if(0===this.options.tabSize)return!1},t.prototype.wrapCommand=function(e){return function(){this.beforeCommand(),e.apply(this,arguments),this.afterCommand()}},t.prototype.insertImage=function(t,i){var n,r=this;return(n=t,e.Deferred(function(t){var i=e("<img>");i.one("load",function(){i.off("error abort"),t.resolve(i)}).one("error abort",function(){i.off("load").detach(),t.reject(i)}).css({display:"none"}).appendTo(document.body).attr("src",n)}).promise()).then(function(e){r.beforeCommand(),"function"==typeof i?i(e):("string"==typeof i&&e.attr("data-filename",i),e.css("width",Math.min(r.$editable.width(),e.width()))),e.show(),je.create(r.editable).insertNode(e[0]),je.createFromNodeAfter(e[0]).select(),r.afterCommand()}).fail(function(e){r.context.triggerEvent("image.upload.error",e)})},t.prototype.insertImagesAsDataURL=function(t){var i=this;e.each(t,function(t,n){var r=n.name;i.options.maximumImageFileSize&&i.options.maximumImageFileSize<n.size?i.context.triggerEvent("image.upload.error",i.lang.image.maximumFileSizeError):function(t){return e.Deferred(function(i){e.extend(new FileReader,{onload:function(e){var t=e.target.result;i.resolve(t)},onerror:function(e){i.reject(e)}}).readAsDataURL(t)}).promise()}(n).then(function(e){return i.insertImage(e,r)}).fail(function(){i.context.triggerEvent("image.upload.error")})})},t.prototype.getSelectedText=function(){var e=this.createRange();return e.isOnAnchor()&&(e=je.createFromNode($e.ancestor(e.sc,$e.isAnchor))),e.toString()},t.prototype.onFormatBlock=function(t,i){if(t=R.isMSIE?"<"+t+">":t,document.execCommand("FormatBlock",!1,t),i&&i.length){var n=i[0].className||"";if(n){var r=this.createRange();e([r.sc,r.ec]).closest(t).addClass(n)}}},t.prototype.formatPara=function(){this.formatBlock("P")},t.prototype.fontStyling=function(t,i){var n=this.createRange();if(n){var r=this.style.styleNodes(n);if(e(r).css(t,i),n.isCollapsed()){var o=S.head(r);o&&!$e.nodeLength(o)&&(o.innerHTML=$e.ZERO_WIDTH_NBSP_CHAR,je.createFromNodeAfter(o.firstChild).select(),this.$editable.data("bogus",o))}}},t.prototype.unlink=function(){var e=this.createRange();if(e.isOnAnchor()){var t=$e.ancestor(e.sc,$e.isAnchor);(e=je.createFromNode(t)).select(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},t.prototype.getLinkInfo=function(){var t=this.createRange().expand($e.isAnchor),i=e(S.head(t.nodes($e.isAnchor))),n={range:t,text:t.toString(),url:i.length?i.attr("href"):""};return i.length&&(n.isNewWindow="_blank"===i.attr("target")),n},t.prototype.addRow=function(e){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addRow(t,e),this.afterCommand())},t.prototype.addCol=function(e){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addCol(t,e),this.afterCommand())},t.prototype.deleteRow=function(){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(e),this.afterCommand())},t.prototype.deleteCol=function(){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(e),this.afterCommand())},t.prototype.deleteTable=function(){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(e),this.afterCommand())},t.prototype.resizeTo=function(e,t,i){var n;if(i){var r=e.y/e.x,o=t.data("ratio");n={width:o>r?e.x:e.y/o,height:o>r?e.x*o:e.y}}else n={width:e.x,height:e.y};t.css(n)},t.prototype.hasFocus=function(){return this.$editable.is(":focus")},t.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},t.prototype.isEmpty=function(){return $e.isEmpty(this.$editable[0])||$e.emptyPara===this.$editable.html()},t.prototype.empty=function(){this.context.invoke("code",$e.emptyPara)},t.prototype.normalizeContent=function(){this.$editable[0].normalize()},t}(),qe=function(){function e(e){this.context=e,this.$editable=e.layoutInfo.editable}return e.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},e.prototype.pasteByEvent=function(e){var t=e.originalEvent.clipboardData;if(t&&t.items&&t.items.length){var i=t.items.length>1?t.items[1]:S.head(t.items);"file"===i.kind&&-1!==i.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[i.getAsFile()]),this.context.invoke("editor.afterCommand")}},e}(),ze=function(){function t(t){this.context=t,this.$eventListener=e(document),this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=e(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}return t.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(e){e.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},t.prototype.attachDragAndDropEvent=function(){var t=this,i=e(),n=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(e){var r=t.context.invoke("codeview.isActivated"),o=t.$editor.width()>0&&t.$editor.height()>0;r||i.length||!o||(t.$editor.addClass("dragover"),t.$dropzone.width(t.$editor.width()),t.$dropzone.height(t.$editor.height()),n.text(t.lang.image.dragImageHere)),i=i.add(e.target)},this.documentEventHandlers.onDragleave=function(e){(i=i.not(e.target)).length||t.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){i=e(),t.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){t.$dropzone.addClass("hover"),n.text(t.lang.image.dropImage)}).on("dragleave",function(){t.$dropzone.removeClass("hover"),n.text(t.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(i){var n=i.originalEvent.dataTransfer;i.preventDefault(),n&&n.files&&n.files.length?(t.$editable.focus(),t.context.invoke("editor.insertImagesOrCallback",n.files)):e.each(n.types,function(i,r){var o=n.getData(r);r.toLowerCase().indexOf("text")>-1?t.context.invoke("editor.pasteHTML",o):e(o).each(function(e,i){t.context.invoke("editor.insertNode",i)})})}).on("dragover",!1)},t.prototype.destroy=function(){var e=this;Object.keys(this.documentEventHandlers).forEach(function(t){e.$eventListener.off(t.substr(2).toLowerCase(),e.documentEventHandlers[t])}),this.documentEventHandlers={}},t}();R.hasCodeMirror&&(R.isSupportAmd?new Promise(function(e){e()}).then(function(){var e=[i("8U58")];(function(e){Me=e}).apply(null,e)}).catch(i.oe):Me=window.CodeMirror);var He=function(){function e(e){this.context=e,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.options=e.options}return e.prototype.sync=function(){this.isActivated()&&R.hasCodeMirror&&this.$codable.data("cmEditor").save()},e.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},e.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},e.prototype.activate=function(){var e=this;if(this.$codable.val($e.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),R.hasCodeMirror){var t=Me.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var i=new Me.TernServer(this.options.codemirror.tern);t.ternServer=i,t.on("cursorActivity",function(e){i.updateArgHints(e)})}t.on("blur",function(i){e.context.triggerEvent("blur.codeview",t.getValue(),i)}),t.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",t)}else this.$codable.on("blur",function(t){e.context.triggerEvent("blur.codeview",e.$codable.val(),t)})},e.prototype.deactivate=function(){if(R.hasCodeMirror){var e=this.$codable.data("cmEditor");this.$codable.val(e.getValue()),e.toTextArea()}var t=$e.value(this.$codable,this.options.prettifyHtml)||$e.emptyPara,i=this.$editable.html()!==t;this.$editable.html(t),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),i&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},e.prototype.destroy=function(){this.isActivated()&&this.deactivate()},e}(),Be=function(){function t(t){this.$document=e(document),this.$statusbar=t.layoutInfo.statusbar,this.$editable=t.layoutInfo.editable,this.options=t.options}return t.prototype.initialize=function(){var e=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(t){t.preventDefault(),t.stopPropagation();var i=e.$editable.offset().top-e.$document.scrollTop(),n=function(t){var n=t.clientY-(i+24);n=e.options.minheight>0?Math.max(n,e.options.minheight):n,n=e.options.maxHeight>0?Math.min(n,e.options.maxHeight):n,e.$editable.height(n)};e.$document.on("mousemove",n).one("mouseup",function(){e.$document.off("mousemove",n)})})},t.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},t}(),Ge=function(){function t(t){var i=this;this.context=t,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.$window=e(window),this.$scrollbar=e("html, body"),this.onResize=function(){i.resizeTo({h:i.$window.height()-i.$toolbar.outerHeight()})}}return t.prototype.resizeTo=function(e){this.$editable.css("height",e.h),this.$codable.css("height",e.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,e.h)},t.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},t.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},t}(),We=function(){function t(t){var i=this;this.context=t,this.$document=e(document),this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(e,t){i.update(t.target)&&t.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){i.update()},"summernote.disable":function(){i.hide()},"summernote.codeview.toggled":function(){i.update()}}}return t.prototype.initialize=function(){var t=this;this.$handle=e(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(e){if($e.isControlSizing(e.target)){e.preventDefault(),e.stopPropagation();var i=t.$handle.find(".note-control-selection").data("target"),n=i.offset(),r=t.$document.scrollTop(),o=function(e){t.context.invoke("editor.resizeTo",{x:e.clientX-n.left,y:e.clientY-(n.top-r)},i,!e.shiftKey),t.update(i[0])};t.$document.on("mousemove",o).one("mouseup",function(e){e.preventDefault(),t.$document.off("mousemove",o),t.context.invoke("editor.afterCommand")}),i.data("ratio")||i.data("ratio",i.height()/i.width())}}),this.$handle.on("wheel",function(e){e.preventDefault(),t.update()})},t.prototype.destroy=function(){this.$handle.remove()},t.prototype.update=function(t){if(this.context.isDisabled())return!1;var i=$e.isImg(t),n=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",t),i){var r=e(t),o=r.position(),s={left:o.left+parseInt(r.css("marginLeft"),10),top:o.top+parseInt(r.css("marginTop"),10)},a={w:r.outerWidth(!1),h:r.outerHeight(!1)};n.css({display:"block",left:s.left,top:s.top,width:a.w,height:a.h}).data("target",r);var l=new Image;l.src=r.attr("src");var c=a.w+"x"+a.h+" ("+this.lang.image.original+": "+l.width+"x"+l.height+")";n.find(".note-control-selection-info").text(c),this.context.invoke("editor.saveTarget",t)}else this.hide();return i},t.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},t}(),Ve=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,Ue=function(){function t(e){var t=this;this.context=e,this.events={"summernote.keyup":function(e,i){i.isDefaultPrevented()||t.handleKeyup(i)},"summernote.keydown":function(e,i){t.handleKeydown(i)}}}return t.prototype.initialize=function(){this.lastWordRange=null},t.prototype.destroy=function(){this.lastWordRange=null},t.prototype.replace=function(){if(this.lastWordRange){var t=this.lastWordRange.toString(),i=t.match(Ve);if(i&&(i[1]||i[2])){var n=i[1]?t:"http://"+t,r=e("<a />").html(t).attr("href",n)[0];this.context.options.linkTargetBlank&&e(r).attr("target","_blank"),this.lastWordRange.insertNode(r),this.lastWordRange=null,this.context.invoke("editor.focus")}}},t.prototype.handleKeydown=function(e){if(S.contains([Fe.code.ENTER,Fe.code.SPACE],e.keyCode)){var t=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=t}},t.prototype.handleKeyup=function(e){S.contains([Fe.code.ENTER,Fe.code.SPACE],e.keyCode)&&this.replace()},t}(),Ye=function(){function e(e){var t=this;this.$note=e.layoutInfo.note,this.events={"summernote.change":function(){t.$note.val(e.invoke("code"))}}}return e.prototype.shouldInitialize=function(){return $e.isTextarea(this.$note[0])},e}(),Xe=function(){function t(e){var t=this;this.context=e,this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.events={"summernote.init summernote.change":function(){t.update()},"summernote.codeview.toggled":function(){t.update()}}}return t.prototype.shouldInitialize=function(){return!!this.options.placeholder},t.prototype.initialize=function(){var t=this;this.$placeholder=e('<div class="note-placeholder">'),this.$placeholder.on("click",function(){t.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},t.prototype.destroy=function(){this.$placeholder.remove()},t.prototype.update=function(){var e=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(e)},t}(),Ke=function(){function t(t){this.ui=e.summernote.ui,this.context=t,this.$toolbar=t.layoutInfo.toolbar,this.options=t.options,this.lang=this.options.langInfo,this.invertedKeyMap=b.invertObject(this.options.keyMap[R.isMac?"mac":"pc"])}return t.prototype.representShortcut=function(e){var t=this.invertedKeyMap[e];return this.options.shortcuts&&t?(R.isMac&&(t=t.replace("CMD","⌘").replace("SHIFT","⇧"))," ("+(t=t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""},t.prototype.button=function(e){return!this.options.tooltip&&e.tooltip&&delete e.tooltip,e.container=this.options.container,this.ui.button(e)},t.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},t.prototype.destroy=function(){delete this.fontInstalledMap},t.prototype.isFontInstalled=function(e){return this.fontInstalledMap.hasOwnProperty(e)||(this.fontInstalledMap[e]=R.isFontInstalled(e)||S.contains(this.options.fontNamesIgnoreCheck,e)),this.fontInstalledMap[e]},t.prototype.isFontDeservedToAdd=function(t){return""!==(t=t.toLowerCase())&&this.isFontInstalled(t)&&-1===e.inArray(t,["sans-serif","serif","monospace","cursive","fantasy"])},t.prototype.colorPalette=function(t,i,n,r){var o=this;return this.ui.buttonGroup({className:"note-color "+t,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:i,click:function(t){var i=e(t.currentTarget);n&&r?o.context.invoke("editor.color",{backColor:i.attr("data-backColor"),foreColor:i.attr("data-foreColor")}):n?o.context.invoke("editor.color",{backColor:i.attr("data-backColor")}):r&&o.context.invoke("editor.color",{foreColor:i.attr("data-foreColor")})},callback:function(e){var t=e.find(".note-recent-color");n&&(t.css("background-color","#FFFF00"),e.attr("data-backColor","#FFFF00")),r||t.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(n?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="#FFFF00" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(r?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="#000000" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(t){t.find(".note-holder").each(function(t,i){var n=e(i);n.append(o.ui.palette({colors:o.options.colors,colorsName:o.options.colorsName,eventName:n.data("event"),container:o.options.container,tooltip:o.options.tooltip}).render())});var i=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];t.find(".note-holder-custom").each(function(t,n){var r=e(n);r.append(o.ui.palette({colors:i,colorsName:i,eventName:r.data("event"),container:o.options.container,tooltip:o.options.tooltip}).render())}),t.find("input[type=color]").each(function(i,n){e(n).change(function(){var i=t.find("#"+e(this).data("event")).find(".note-color-btn").first(),n=this.value.toUpperCase();i.css("background-color",n).attr("aria-label",n).attr("data-value",n).attr("data-original-title",n),i.click()})})},click:function(i){i.stopPropagation();var n=e("."+t),r=e(i.target),s=r.data("event"),a=r.attr("data-value");if("openPalette"===s){var l=n.find("#"+a),c=e(n.find("#"+l.data("event")).find(".note-color-row")[0]),d=c.find(".note-color-btn").last().detach(),u=l.val();d.css("background-color",u).attr("aria-label",u).attr("data-value",u).attr("data-original-title",u),c.prepend(d),l.click()}else if(S.contains(["backColor","foreColor"],s)){var h="backColor"===s?"background-color":"color",p=r.closest(".note-color").find(".note-recent-color"),f=r.closest(".note-color").find(".note-current-color-button");p.css(h,a),f.attr("data-"+s,a),o.context.invoke("editor."+s,a)}}})]}).render()},t.prototype.addToolbarButtons=function(){var t=this;this.context.memo("button.style",function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.magic),t.options),tooltip:t.lang.style.style,data:{toggle:"dropdown"}}),t.ui.dropdown({className:"dropdown-style",items:t.options.styleTags,title:t.lang.style.style,template:function(e){"string"==typeof e&&(e={tag:e,title:t.lang.style.hasOwnProperty(e)?t.lang.style[e]:e});var i=e.tag,n=e.title;return"<"+i+(e.style?' style="'+e.style+'" ':"")+(e.className?' class="'+e.className+'"':"")+">"+n+"</"+i+">"},click:t.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var i=function(e,i){var r=n.options.styleTags[e];n.context.memo("button.style."+r,function(){return t.button({className:"note-btn-style-"+r,contents:'<div data-value="'+r+'">'+r.toUpperCase()+"</div>",tooltip:t.lang.style[r],click:t.context.createInvokeHandler("editor.formatBlock")}).render()})},n=this,r=0,o=this.options.styleTags.length;r<o;r++)i(r);this.context.memo("button.bold",function(){return t.button({className:"note-btn-bold",contents:t.ui.icon(t.options.icons.bold),tooltip:t.lang.font.bold+t.representShortcut("bold"),click:t.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return t.button({className:"note-btn-italic",contents:t.ui.icon(t.options.icons.italic),tooltip:t.lang.font.italic+t.representShortcut("italic"),click:t.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return t.button({className:"note-btn-underline",contents:t.ui.icon(t.options.icons.underline),tooltip:t.lang.font.underline+t.representShortcut("underline"),click:t.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return t.button({contents:t.ui.icon(t.options.icons.eraser),tooltip:t.lang.font.clear+t.representShortcut("removeFormat"),click:t.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return t.button({className:"note-btn-strikethrough",contents:t.ui.icon(t.options.icons.strikethrough),tooltip:t.lang.font.strikethrough+t.representShortcut("strikethrough"),click:t.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return t.button({className:"note-btn-superscript",contents:t.ui.icon(t.options.icons.superscript),tooltip:t.lang.font.superscript,click:t.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return t.button({className:"note-btn-subscript",contents:t.ui.icon(t.options.icons.subscript),tooltip:t.lang.font.subscript,click:t.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var i=t.context.invoke("editor.currentStyle");return e.each(i["font-family"].split(","),function(i,n){n=n.trim().replace(/['"]+/g,""),t.isFontDeservedToAdd(n)&&-1===e.inArray(n,t.options.fontNames)&&t.options.fontNames.push(n)}),t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents('<span class="note-current-fontname"/>',t.options),tooltip:t.lang.font.name,data:{toggle:"dropdown"}}),t.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:t.options.icons.menuCheck,items:t.options.fontNames.filter(t.isFontInstalled.bind(t)),title:t.lang.font.name,template:function(e){return"<span style=\"font-family: '"+e+"'\">"+e+"</span>"},click:t.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',t.options),tooltip:t.lang.font.size,data:{toggle:"dropdown"}}),t.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:t.options.icons.menuCheck,items:t.options.fontSizes,title:t.lang.font.size,click:t.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return t.colorPalette("note-color-all",t.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return t.colorPalette("note-color-fore",t.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return t.colorPalette("note-color-back",t.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return t.button({contents:t.ui.icon(t.options.icons.unorderedlist),tooltip:t.lang.lists.unordered+t.representShortcut("insertUnorderedList"),click:t.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return t.button({contents:t.ui.icon(t.options.icons.orderedlist),tooltip:t.lang.lists.ordered+t.representShortcut("insertOrderedList"),click:t.context.createInvokeHandler("editor.insertOrderedList")}).render()});var s=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),a=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),l=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),c=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),d=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),u=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",b.invoke(s,"render")),this.context.memo("button.justifyCenter",b.invoke(a,"render")),this.context.memo("button.justifyRight",b.invoke(l,"render")),this.context.memo("button.justifyFull",b.invoke(c,"render")),this.context.memo("button.outdent",b.invoke(d,"render")),this.context.memo("button.indent",b.invoke(u,"render")),this.context.memo("button.paragraph",function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.alignLeft),t.options),tooltip:t.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),t.ui.dropdown([t.ui.buttonGroup({className:"note-align",children:[s,a,l,c]}),t.ui.buttonGroup({className:"note-list",children:[d,u]})])]).render()}),this.context.memo("button.height",function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.textHeight),t.options),tooltip:t.lang.font.height,data:{toggle:"dropdown"}}),t.ui.dropdownCheck({items:t.options.lineHeights,checkClassName:t.options.icons.menuCheck,className:"dropdown-line-height",title:t.lang.font.height,click:t.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.table),t.options),tooltip:t.lang.table.table,data:{toggle:"dropdown"}}),t.ui.dropdown({title:t.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){e.find(".note-dimension-picker-mousecatcher").css({width:t.options.insertTableMaxSize.col+"em",height:t.options.insertTableMaxSize.row+"em"}).mousedown(t.context.createInvokeHandler("editor.insertTable")).on("mousemove",t.tableMoveHandler.bind(t))}}).render()}),this.context.memo("button.link",function(){return t.button({contents:t.ui.icon(t.options.icons.link),tooltip:t.lang.link.link+t.representShortcut("linkDialog.show"),click:t.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return t.button({contents:t.ui.icon(t.options.icons.picture),tooltip:t.lang.image.image,click:t.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return t.button({contents:t.ui.icon(t.options.icons.video),tooltip:t.lang.video.video,click:t.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return t.button({contents:t.ui.icon(t.options.icons.minus),tooltip:t.lang.hr.insert+t.representShortcut("insertHorizontalRule"),click:t.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return t.button({className:"btn-fullscreen",contents:t.ui.icon(t.options.icons.arrowsAlt),tooltip:t.lang.options.fullscreen,click:t.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return t.button({className:"btn-codeview",contents:t.ui.icon(t.options.icons.code),tooltip:t.lang.options.codeview,click:t.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return t.button({contents:t.ui.icon(t.options.icons.redo),tooltip:t.lang.history.redo+t.representShortcut("redo"),click:t.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return t.button({contents:t.ui.icon(t.options.icons.undo),tooltip:t.lang.history.undo+t.representShortcut("undo"),click:t.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return t.button({contents:t.ui.icon(t.options.icons.question),tooltip:t.lang.options.help,click:t.context.createInvokeHandler("helpDialog.show")}).render()})},t.prototype.addImagePopoverButtons=function(){var e=this;this.context.memo("button.imageSize100",function(){return e.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:e.lang.image.resizeFull,click:e.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.imageSize50",function(){return e.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:e.lang.image.resizeHalf,click:e.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.imageSize25",function(){return e.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:e.lang.image.resizeQuarter,click:e.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.floatLeft",function(){return e.button({contents:e.ui.icon(e.options.icons.alignLeft),tooltip:e.lang.image.floatLeft,click:e.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return e.button({contents:e.ui.icon(e.options.icons.alignRight),tooltip:e.lang.image.floatRight,click:e.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return e.button({contents:e.ui.icon(e.options.icons.alignJustify),tooltip:e.lang.image.floatNone,click:e.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return e.button({contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.image.remove,click:e.context.createInvokeHandler("editor.removeMedia")}).render()})},t.prototype.addLinkPopoverButtons=function(){var e=this;this.context.memo("button.linkDialogShow",function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.edit,click:e.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return e.button({contents:e.ui.icon(e.options.icons.unlink),tooltip:e.lang.link.unlink,click:e.context.createInvokeHandler("editor.unlink")}).render()})},t.prototype.addTablePopoverButtons=function(){var e=this;this.context.memo("button.addRowUp",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowAbove),tooltip:e.lang.table.addRowAbove,click:e.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowBelow),tooltip:e.lang.table.addRowBelow,click:e.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colBefore),tooltip:e.lang.table.addColLeft,click:e.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colAfter),tooltip:e.lang.table.addColRight,click:e.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowRemove),tooltip:e.lang.table.delRow,click:e.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colRemove),tooltip:e.lang.table.delCol,click:e.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.table.delTable,click:e.context.createInvokeHandler("editor.deleteTable")}).render()})},t.prototype.build=function(t,i){for(var n=0,r=i.length;n<r;n++){for(var o=i[n],s=e.isArray(o)?o[0]:o,a=e.isArray(o)?1===o.length?[o[0]]:o[1]:[o],l=this.ui.buttonGroup({className:"note-"+s}).render(),c=0,d=a.length;c<d;c++){var u=this.context.memo("button."+a[c]);u&&l.append("function"==typeof u?u(this.context):u)}l.appendTo(t)}},t.prototype.updateCurrentStyle=function(t){var i=this,n=t||this.$toolbar,r=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(n,{".note-btn-bold":function(){return"bold"===r["font-bold"]},".note-btn-italic":function(){return"italic"===r["font-italic"]},".note-btn-underline":function(){return"underline"===r["font-underline"]},".note-btn-subscript":function(){return"subscript"===r["font-subscript"]},".note-btn-superscript":function(){return"superscript"===r["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===r["font-strikethrough"]}}),r["font-family"]){var o=r["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),s=S.find(o,this.isFontInstalled.bind(this));n.find(".dropdown-fontname a").each(function(t,i){var n=e(i),r=n.data("value")+""==s+"";n.toggleClass("checked",r)}),n.find(".note-current-fontname").text(s).css("font-family",s)}if(r["font-size"]){var a=r["font-size"];n.find(".dropdown-fontsize a").each(function(t,i){var n=e(i),r=n.data("value")+""==a+"";n.toggleClass("checked",r)}),n.find(".note-current-fontsize").text(a)}if(r["line-height"]){var l=r["line-height"];n.find(".dropdown-line-height li a").each(function(t,n){var r=e(n).data("value")+""==l+"";i.className=r?"checked":""})}},t.prototype.updateBtnStates=function(t,i){var n=this;e.each(i,function(e,i){n.ui.toggleBtnActive(t.find(e),i())})},t.prototype.tableMoveHandler=function(t){var i,n=e(t.target.parentNode),r=n.next(),o=n.find(".note-dimension-picker-mousecatcher"),s=n.find(".note-dimension-picker-highlighted"),a=n.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var l=e(t.target).offset();i={x:t.pageX-l.left,y:t.pageY-l.top}}else i={x:t.offsetX,y:t.offsetY};var c=Math.ceil(i.x/18)||1,d=Math.ceil(i.y/18)||1;s.css({width:c+"em",height:d+"em"}),o.data("value",c+"x"+d),c>3&&c<this.options.insertTableMaxSize.col&&a.css({width:c+1+"em"}),d>3&&d<this.options.insertTableMaxSize.row&&a.css({height:d+1+"em"}),r.html(c+" x "+d)},t}(),Ze=function(){function t(t){this.context=t,this.$window=e(window),this.$document=e(document),this.ui=e.summernote.ui,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.options=t.options,this.followScroll=this.followScroll.bind(this)}return t.prototype.shouldInitialize=function(){return!this.options.airMode},t.prototype.initialize=function(){var e=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){e.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},t.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},t.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var t=this.$toolbar.parent(".note-toolbar-wrapper"),i=this.$editor.outerHeight(),n=this.$editor.width(),r=this.$toolbar.height();t.css({height:r});var o=0;this.options.otherStaticBar&&(o=e(this.options.otherStaticBar).outerHeight());var s=this.$document.scrollTop(),a=this.$editor.offset().top;s>a-o&&s<a+i-o-r?this.$toolbar.css({position:"fixed",top:o,width:n}):this.$toolbar.css({position:"relative",top:0,width:"100%"})},t.prototype.changeContainer=function(e){e?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer)},t.prototype.updateFullscreen=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),e),this.changeContainer(e)},t.prototype.updateCodeview=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),e),e?this.deactivate():this.activate()},t.prototype.activate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!0)},t.prototype.deactivate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!1)},t}(),Je=function(){function t(t){this.context=t,this.ui=e.summernote.ui,this.$body=e(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo,t.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return t.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,i=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":e("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),n='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:i,footer:n}).render().appendTo(t)},t.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},t.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===Fe.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},t.prototype.toggleLinkBtn=function(e,t,i){this.ui.toggleBtn(e,t.val()&&i.val())},t.prototype.showLinkDialog=function(t){var i=this;return e.Deferred(function(e){var n=i.$dialog.find(".note-link-text"),r=i.$dialog.find(".note-link-url"),o=i.$dialog.find(".note-link-btn"),s=i.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");i.ui.onDialogShown(i.$dialog,function(){i.context.triggerEvent("dialog.shown"),t.url||(t.url=t.text),n.val(t.text);var a=function(){i.toggleLinkBtn(o,n,r),t.text=n.val()};n.on("input",a).on("paste",function(){setTimeout(a,0)});var l=function(){i.toggleLinkBtn(o,n,r),t.text||n.val(r.val())};r.on("input",l).on("paste",function(){setTimeout(l,0)}).val(t.url),R.isSupportTouch||r.trigger("focus"),i.toggleLinkBtn(o,n,r),i.bindEnterKey(r,o),i.bindEnterKey(n,o);var c=void 0!==t.isNewWindow?t.isNewWindow:i.context.options.linkTargetBlank;s.prop("checked",c),o.one("click",function(o){o.preventDefault(),e.resolve({range:t.range,url:r.val(),text:n.val(),isNewWindow:s.is(":checked")}),i.ui.hideDialog(i.$dialog)})}),i.ui.onDialogHidden(i.$dialog,function(){n.off("input paste keypress"),r.off("input paste keypress"),o.off("click"),"pending"===e.state()&&e.reject()}),i.ui.showDialog(i.$dialog)}).promise()},t.prototype.show=function(){var e=this,t=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(t).then(function(t){e.context.invoke("editor.restoreRange"),e.context.invoke("editor.createLink",t)}).fail(function(){e.context.invoke("editor.restoreRange")})},t}(),Qe=function(){function t(t){var i=this;this.context=t,this.ui=e.summernote.ui,this.options=t.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){i.update()},"summernote.disable summernote.dialog.shown":function(){i.hide()}}}return t.prototype.shouldInitialize=function(){return!S.isEmpty(this.options.popover.link)},t.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(e){e.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.link)},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.update=function(){if(this.context.invoke("editor.hasFocus")){var t=this.context.invoke("editor.createRange");if(t.isCollapsed()&&t.isOnAnchor()){var i=$e.ancestor(t.sc,$e.isAnchor),n=e(i).attr("href");this.$popover.find("a").attr("href",n).html(n);var r=$e.posFromPlaceholder(i);this.$popover.css({display:"block",left:r.left,top:r.top})}else this.hide()}else this.hide()},t.prototype.hide=function(){this.$popover.hide()},t}(),et=function(){function t(t){this.context=t,this.ui=e.summernote.ui,this.$body=e(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}return t.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t="";if(this.options.maximumImageFileSize){var i=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),n=1*(this.options.maximumImageFileSize/Math.pow(1024,i)).toFixed(2)+" "+" KMGTP"[i]+"B";t="<small>"+this.lang.image.maximumFileSize+" : "+n+"</small>"}var r=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',t,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),o='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:r,footer:o}).render().appendTo(e)},t.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},t.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===Fe.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},t.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange"),"string"==typeof t?e.options.callbacks.onImageLinkInsert?e.context.triggerEvent("image.link.insert",t):e.context.invoke("editor.insertImage",t):e.options.callbacks.onImageUpload?e.context.triggerEvent("image.upload",t):e.context.invoke("editor.insertImagesAsDataURL",t)}).fail(function(){e.context.invoke("editor.restoreRange")})},t.prototype.showImageDialog=function(){var t=this;return e.Deferred(function(e){var i=t.$dialog.find(".note-image-input"),n=t.$dialog.find(".note-image-url"),r=t.$dialog.find(".note-image-btn");t.ui.onDialogShown(t.$dialog,function(){t.context.triggerEvent("dialog.shown"),i.replaceWith(i.clone().on("change",function(t){e.resolve(t.target.files||t.target.value)}).val("")),r.click(function(t){t.preventDefault(),e.resolve(n.val())}),n.on("keyup paste",function(){var e=n.val();t.ui.toggleBtn(r,e)}).val(""),R.isSupportTouch||n.trigger("focus"),t.bindEnterKey(n,r)}),t.ui.onDialogHidden(t.$dialog,function(){i.off("change"),n.off("keyup paste keypress"),r.off("click"),"pending"===e.state()&&e.reject()}),t.ui.showDialog(t.$dialog)})},t}(),tt=function(){function t(t){var i=this;this.context=t,this.ui=e.summernote.ui,this.editable=t.layoutInfo.editable[0],this.options=t.options,this.events={"summernote.disable":function(){i.hide()}}}return t.prototype.shouldInitialize=function(){return!S.isEmpty(this.options.popover.image)},t.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.image)},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.update=function(e){if($e.isImg(e)){var t=$e.posFromPlaceholder(e),i=$e.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?event.pageX-20:t.left,top:this.options.popatmouse?event.pageY:Math.min(t.top,i.top)})}else this.hide()},t.prototype.hide=function(){this.$popover.hide()},t}(),it=function(){function t(t){var i=this;this.context=t,this.ui=e.summernote.ui,this.options=t.options,this.events={"summernote.mousedown":function(e,t){i.update(t.target)},"summernote.keyup summernote.scroll summernote.change":function(){i.update()},"summernote.disable":function(){i.hide()}}}return t.prototype.shouldInitialize=function(){return!S.isEmpty(this.options.popover.table)},t.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.table),R.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.update=function(e){if(this.context.isDisabled())return!1;var t=$e.isCell(e);if(t){var i=$e.posFromPlaceholder(e);this.$popover.css({display:"block",left:i.left,top:i.top})}else this.hide();return t},t.prototype.hide=function(){this.$popover.hide()},t}(),nt=function(){function t(t){this.context=t,this.ui=e.summernote.ui,this.$body=e(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}return t.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),i='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:t,footer:i}).render().appendTo(e)},t.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},t.prototype.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===Fe.code.ENTER&&(e.preventDefault(),t.trigger("click"))})},t.prototype.createVideoNode=function(t){var i,n=t.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),r=t.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),o=t.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),s=t.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),a=t.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),l=t.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),c=t.match(/\/\/v\.qq\.com.*?vid=(.+)/),d=t.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),u=t.match(/^.+.(mp4|m4v)$/),h=t.match(/^.+.(ogg|ogv)$/),p=t.match(/^.+.(webm)$/);if(n&&11===n[1].length){var f=n[1],g=0;if(void 0!==n[2]){var m=n[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(m)for(var v=[3600,60,1],b=0,y=v.length;b<y;b++)g+=void 0!==m[b+1]?v[b]*parseInt(m[b+1],10):0}i=e("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+f+(g>0?"?start="+g:"")).attr("width","640").attr("height","360")}else if(r&&r[0].length)i=e("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+r[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(o&&o[0].length)i=e("<iframe>").attr("frameborder",0).attr("src",o[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(s&&s[3].length)i=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+s[3]).attr("width","640").attr("height","360");else if(a&&a[2].length)i=e("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+a[2]).attr("width","640").attr("height","360");else if(l&&l[1].length)i=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+l[1]);else if(c&&c[1].length||d&&d[2].length){var w=c&&c[1].length?c[1]:d[2];i=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+w+"&amp;auto=0")}else{if(!(u||h||p))return!1;i=e("<video controls>").attr("src",t).attr("width","640").attr("height","360")}return i.addClass("note-video-clip"),i[0]},t.prototype.show=function(){var e=this,t=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(t).then(function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange");var i=e.createVideoNode(t);i&&e.context.invoke("editor.insertNode",i)}).fail(function(){e.context.invoke("editor.restoreRange")})},t.prototype.showVideoDialog=function(t){var i=this;return e.Deferred(function(e){var n=i.$dialog.find(".note-video-url"),r=i.$dialog.find(".note-video-btn");i.ui.onDialogShown(i.$dialog,function(){i.context.triggerEvent("dialog.shown"),n.val(t).on("input",function(){i.ui.toggleBtn(r,n.val())}),R.isSupportTouch||n.trigger("focus"),r.click(function(t){t.preventDefault(),e.resolve(n.val())}),i.bindEnterKey(n,r)}),i.ui.onDialogHidden(i.$dialog,function(){n.off("input"),r.off("click"),"pending"===e.state()&&e.reject()}),i.ui.showDialog(i.$dialog)})},t}(),rt=function(){function t(t){this.context=t,this.ui=e.summernote.ui,this.$body=e(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}return t.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.11</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:t,callback:function(e){e.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)},t.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},t.prototype.createShortcutList=function(){var t=this,i=this.options.keyMap[R.isMac?"mac":"pc"];return Object.keys(i).map(function(n){var r=i[n],o=e('<div><div class="help-list-item"/></div>');return o.append(e("<label><kbd>"+n+"</kdb></label>").css({width:180,"margin-right":10})).append(e("<span/>").html(t.context.memo("help."+r)||r)),o.html()}).join("")},t.prototype.showHelpDialog=function(){var t=this;return e.Deferred(function(e){t.ui.onDialogShown(t.$dialog,function(){t.context.triggerEvent("dialog.shown"),e.resolve()}),t.ui.showDialog(t.$dialog)}).promise()},t.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.context.invoke("editor.restoreRange")})},t}(),ot=function(){function t(t){var i=this;this.context=t,this.ui=e.summernote.ui,this.options=t.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){i.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){i.hide()},"summernote.focusout":function(e,t){R.isFF||t.relatedTarget&&$e.ancestor(t.relatedTarget,b.eq(i.$popover[0]))||i.hide()}}}return t.prototype.shouldInitialize=function(){return this.options.airMode&&!S.isEmpty(this.options.popover.air)},t.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content");this.context.invoke("buttons.build",e,this.options.popover.air)},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.update=function(){var e=this.context.invoke("editor.currentStyle");if(e.range&&!e.range.isCollapsed()){var t=S.last(e.range.getClientRects());if(t){var i=b.rect2bnd(t);this.$popover.css({display:"block",left:Math.max(i.left+i.width/2,0)-20,top:i.top+i.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},t.prototype.hide=function(){this.$popover.hide()},t}(),st=function(){function t(t){var i=this;this.context=t,this.ui=e.summernote.ui,this.$editable=t.layoutInfo.editable,this.options=t.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=e.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||i.handleKeyup(t)},"summernote.keydown":function(e,t){i.handleKeydown(t)},"summernote.disable summernote.dialog.shown":function(){i.hide()}}}return t.prototype.shouldInitialize=function(){return this.hints.length>0},t.prototype.initialize=function(){var t=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(i){t.$content.find(".active").removeClass("active"),e(i.currentTarget).addClass("active"),t.replace()})},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.selectItem=function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2},t.prototype.moveDown=function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();if(t.length)this.selectItem(t);else{var i=e.parent().next();i.length||(i=this.$content.find(".note-hint-group").first()),this.selectItem(i.find(".note-hint-item").first())}},t.prototype.moveUp=function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();if(t.length)this.selectItem(t);else{var i=e.parent().prev();i.length||(i=this.$content.find(".note-hint-group").last()),this.selectItem(i.find(".note-hint-item").last())}},t.prototype.replace=function(){var e=this.$content.find(".note-hint-item.active");if(e.length){var t=this.nodeFromItem(e);this.lastWordRange.insertNode(t),je.createFromNode(t).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},t.prototype.nodeFromItem=function(e){var t=this.hints[e.data("index")],i=e.data("item"),n=t.content?t.content(i):i;return"string"==typeof n&&(n=$e.createText(n)),n},t.prototype.createItemTemplates=function(t,i){var n=this.hints[t];return i.map(function(i,r){var o=e('<div class="note-hint-item"/>');return o.append(n.template?n.template(i):i+""),o.data({index:t,item:i}),o})},t.prototype.handleKeydown=function(e){this.$popover.is(":visible")&&(e.keyCode===Fe.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===Fe.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===Fe.code.DOWN&&(e.preventDefault(),this.moveDown()))},t.prototype.searchKeyword=function(e,t,i){var n=this.hints[e];if(n&&n.match.test(t)&&n.search){var r=n.match.exec(t);n.search(r[1],i)}else i()},t.prototype.createGroup=function(t,i){var n=this,r=e('<div class="note-hint-group note-hint-group-'+t+'"/>');return this.searchKeyword(t,i,function(e){(e=e||[]).length&&(r.html(n.createItemTemplates(t,e)),n.show())}),r},t.prototype.handleKeyup=function(e){var t=this;if(!S.contains([Fe.code.ENTER,Fe.code.UP,Fe.code.DOWN],e.keyCode)){var i=this.context.invoke("editor.createRange").getWordRange(),n=i.toString();if(this.hints.length&&n){this.$content.empty();var r=b.rect2bnd(S.last(i.getClientRects()));r&&(this.$popover.hide(),this.lastWordRange=i,this.hints.forEach(function(e,i){e.match.test(n)&&t.createGroup(i,n).appendTo(t.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:r.left,top:r.top-this.$popover.outerHeight()-5}):this.$popover.css({left:r.left,top:r.top+r.height+5}))}else this.hide()}},t.prototype.show=function(){this.$popover.show()},t.prototype.hide=function(){this.$popover.hide()},t}(),at=function(){function t(t,i){this.ui=e.summernote.ui,this.$note=t,this.memos={},this.modules={},this.layoutInfo={},this.options=i,this.initialize()}return t.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},t.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},t.prototype.reset=function(){var e=this.isDisabled();this.code($e.emptyPara),this._destroy(),this._initialize(),e&&this.disable()},t.prototype._initialize=function(){var t=this,i=e.extend({},this.options.buttons);Object.keys(i).forEach(function(e){t.memo("button."+e,i[e])});var n=e.extend({},this.options.modules,e.summernote.plugins||{});Object.keys(n).forEach(function(e){t.module(e,n[e],!0)}),Object.keys(this.modules).forEach(function(e){t.initializeModule(e)})},t.prototype._destroy=function(){var e=this;Object.keys(this.modules).reverse().forEach(function(t){e.removeModule(t)}),Object.keys(this.memos).forEach(function(t){e.removeMemo(t)}),this.triggerEvent("destroy",this)},t.prototype.code=function(e){var t=this.invoke("codeview.isActivated");if(void 0===e)return this.invoke("codeview.sync"),t?this.layoutInfo.codable.val():this.layoutInfo.editable.html();t?this.layoutInfo.codable.val(e):this.layoutInfo.editable.html(e),this.$note.val(e),this.triggerEvent("change",e)},t.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},t.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},t.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},t.prototype.triggerEvent=function(){var e=S.head(arguments),t=S.tail(S.from(arguments)),i=this.options.callbacks[b.namespaceToCamel(e,"on")];i&&i.apply(this.$note[0],t),this.$note.trigger("summernote."+e,t)},t.prototype.initializeModule=function(e){var t=this.modules[e];t.shouldInitialize=t.shouldInitialize||b.ok,t.shouldInitialize()&&(t.initialize&&t.initialize(),t.events&&$e.attachEvents(this.$note,t.events))},t.prototype.module=function(e,t,i){if(1===arguments.length)return this.modules[e];this.modules[e]=new t(this),i||this.initializeModule(e)},t.prototype.removeModule=function(e){var t=this.modules[e];t.shouldInitialize()&&(t.events&&$e.detachEvents(this.$note,t.events),t.destroy&&t.destroy()),delete this.modules[e]},t.prototype.memo=function(e,t){if(1===arguments.length)return this.memos[e];this.memos[e]=t},t.prototype.removeMemo=function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]},t.prototype.createInvokeHandlerAndUpdateState=function(e,t){var i=this;return function(n){i.createInvokeHandler(e,t)(n),i.invoke("buttons.updateCurrentStyle")}},t.prototype.createInvokeHandler=function(t,i){var n=this;return function(r){r.preventDefault();var o=e(r.target);n.invoke(t,i||o.closest("[data-value]").data("value"),o)}},t.prototype.invoke=function(){var e=S.head(arguments),t=S.tail(S.from(arguments)),i=e.split("."),n=i.length>1,r=n&&S.head(i),o=n?S.last(i):S.head(i),s=this.modules[r||"editor"];return!r&&this[o]?this[o].apply(this,t):s&&s[o]&&s.shouldInitialize()?s[o].apply(s,t):void 0},t}();e.fn.extend({summernote:function(){var t=e.type(S.head(arguments)),i="string"===t,n="object"===t,r=e.extend({},e.summernote.options,n?S.head(arguments):{});r.langInfo=e.extend(!0,{},e.summernote.lang["en-US"],e.summernote.lang[r.lang]),r.icons=e.extend(!0,{},e.summernote.options.icons,r.icons),r.tooltip="auto"===r.tooltip?!R.isSupportTouch:r.tooltip,this.each(function(t,i){var n=e(i);if(!n.data("summernote")){var o=new at(n,r);n.data("summernote",o),n.data("summernote").triggerEvent("init",o.layoutInfo)}});var o=this.first();if(o.length){var s=o.data("summernote");if(i)return s.invoke.apply(s,S.from(arguments));r.focus&&s.invoke("editor.focus")}return this}}),e.summernote=e.extend(e.summernote,{version:"0.8.11",ui:m,dom:$e,range:je,plugins:{},options:{modules:{editor:Le,clipboard:qe,dropzone:ze,codeview:He,statusbar:Be,fullscreen:Ge,handle:We,hintPopover:st,autoLink:Ue,autoSync:Ye,placeholder:Xe,buttons:Ke,toolbar:Ze,linkDialog:Je,linkPopover:Qe,imageDialog:et,imagePopover:tt,tablePopover:it,videoDialog:nt,helpDialog:rt,airPopover:ot},buttons:{},lang:"en-US",followingToolbar:!0,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onBlurCodeview:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null,onImageLinkInsert:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})})(i("7t+N"))},2:function(e,t,i){i("7t+N"),i("J5qV"),i("F8S1"),i("r8HW"),i("mKWO"),i("f9KE"),i("b4+h"),i("xgXc"),i("aYbc"),i("L382"),i("XZtq"),i("8U58"),i("0MVf"),e.exports=i("oKXF")},"3eNs":function(e,t,i){var n,r,o,s;s=function(e){return e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])}})},r=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},"5xbe":function(e,t,i){var n,r,o,s;s=function(e){var t,i,n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice;if(e.event.fixHooks)for(var s=n.length;s;)e.event.fixHooks[n[--s]]=e.event.mouseHooks;var a=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],l,!1);else this.onmousewheel=l;e.data(this,"mousewheel-line-height",a.getLineHeight(this)),e.data(this,"mousewheel-page-height",a.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],l,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(n){var r,s=n||window.event,l=o.call(arguments,1),u=0,h=0,p=0,f=0,g=0;if((n=e.event.fix(s)).type="mousewheel","detail"in s&&(p=-1*s.detail),"wheelDelta"in s&&(p=s.wheelDelta),"wheelDeltaY"in s&&(p=s.wheelDeltaY),"wheelDeltaX"in s&&(h=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(h=-1*p,p=0),u=0===p?h:p,"deltaY"in s&&(u=p=-1*s.deltaY),"deltaX"in s&&(h=s.deltaX,0===p&&(u=-1*h)),0!==p||0!==h){if(1===s.deltaMode){var m=e.data(this,"mousewheel-line-height");u*=m,p*=m,h*=m}else if(2===s.deltaMode){var v=e.data(this,"mousewheel-page-height");u*=v,p*=v,h*=v}if(r=Math.max(Math.abs(p),Math.abs(h)),(!i||r<i)&&(i=r,d(s,r)&&(i/=40)),d(s,r)&&(u/=40,h/=40,p/=40),u=Math[u>=1?"floor":"ceil"](u/i),h=Math[h>=1?"floor":"ceil"](h/i),p=Math[p>=1?"floor":"ceil"](p/i),a.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();f=n.clientX-b.left,g=n.clientY-b.top}return n.deltaX=h,n.deltaY=p,n.deltaFactor=i,n.offsetX=f,n.offsetY=g,n.deltaMode=0,l.unshift(n,u,h,p),t&&clearTimeout(t),t=setTimeout(c,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function c(){i=null}function d(e,t){return a.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})},r=[i("7t+N")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},"6b8n":function(e,t,i){var n,r,o,s;s=function(e){return e.ui.formResetMixin={_formResetHandler:function(){var t=e(this);setTimeout(function(){var i=t.data("ui-form-reset-instances");e.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(e.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}}},r=[i("7t+N"),i("vfPe"),i("UZ9c")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},"7t+N":function(e,t,i){var n;!function(t,i){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(t)}("undefined"!=typeof window?window:this,function(i,r){"use strict";var o=[],s=i.document,a=Object.getPrototypeOf,l=o.slice,c=o.concat,d=o.push,u=o.indexOf,h={},p=h.toString,f=h.hasOwnProperty,g=f.toString,m=g.call(Object),v={},b=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},y=function(e){return null!=e&&e===e.window},w={type:!0,src:!0,noModule:!0};function x(e,t,i){var n,r=(t=t||s).createElement("script");if(r.text=e,i)for(n in w)i[n]&&(r[n]=i[n]);t.head.appendChild(r).parentNode.removeChild(r)}function C(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[p.call(e)]||"object":typeof e}var k=function(e,t){return new k.fn.init(e,t)},S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function $(e){var t=!!e&&"length"in e&&e.length,i=C(e);return!b(e)&&!y(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}k.fn=k.prototype={jquery:"3.3.1",constructor:k,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:d,sort:o.sort,splice:o.splice},k.extend=k.fn.extend=function(){var e,t,i,n,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||b(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=s[t],s!==(n=e[t])&&(c&&n&&(k.isPlainObject(n)||(r=Array.isArray(n)))?(r?(r=!1,o=i&&Array.isArray(i)?i:[]):o=i&&k.isPlainObject(i)?i:{},s[t]=k.extend(c,o,n)):void 0!==n&&(s[t]=n));return s},k.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==p.call(e))&&(!(t=a(e))||"function"==typeof(i=f.call(t,"constructor")&&t.constructor)&&g.call(i)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){x(e)},each:function(e,t){var i,n=0;if($(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(S,"")},makeArray:function(e,t){var i=t||[];return null!=e&&($(Object(e))?k.merge(i,"string"==typeof e?[e]:e):d.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:u.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,o=e.length,s=!i;r<o;r++)!t(e[r],r)!==s&&n.push(e[r]);return n},map:function(e,t,i){var n,r,o=0,s=[];if($(e))for(n=e.length;o<n;o++)null!=(r=t(e[o],o,i))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,i))&&s.push(r);return c.apply([],s)},guid:1,support:v}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=o[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){h["[object "+t+"]"]=t.toLowerCase()});var D=function(e){var t,i,n,r,o,s,a,l,c,d,u,h,p,f,g,m,v,b,y,w="sizzle"+1*new Date,x=e.document,C=0,k=0,S=se(),$=se(),D=se(),T=function(e,t){return e===t&&(u=!0),0},_={}.hasOwnProperty,j=[],A=j.pop,F=j.push,N=j.push,I=j.slice,O=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",E="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",P="\\["+E+"*("+M+")(?:"+E+"*([*^$|!~]?=)"+E+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+E+"*\\]",L=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",q=new RegExp(E+"+","g"),z=new RegExp("^"+E+"+|((?:^|[^\\\\])(?:\\\\.)*)"+E+"+$","g"),H=new RegExp("^"+E+"*,"+E+"*"),B=new RegExp("^"+E+"*([>+~]|"+E+")"+E+"*"),G=new RegExp("="+E+"*([^\\]'\"]*?)"+E+"*\\]","g"),W=new RegExp(L),V=new RegExp("^"+M+"$"),U={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+L),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+E+"*(even|odd|(([+-]|)(\\d*)n|)"+E+"*(?:([+-]|)"+E+"*(\\d+)|))"+E+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+E+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+E+"*((?:-\\d)?\\d*)"+E+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Q=new RegExp("\\\\([\\da-f]{1,6}"+E+"?|("+E+")|.)","ig"),ee=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ne=function(){h()},re=be(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{N.apply(j=I.call(x.childNodes),x.childNodes),j[x.childNodes.length].nodeType}catch(e){N={apply:j.length?function(e,t){F.apply(e,I.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function oe(e,t,n,r){var o,a,c,d,u,f,v,b=t&&t.ownerDocument,C=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return n;if(!r&&((t?t.ownerDocument||t:x)!==p&&h(t),t=t||p,g)){if(11!==C&&(u=Z.exec(e)))if(o=u[1]){if(9===C){if(!(c=t.getElementById(o)))return n;if(c.id===o)return n.push(c),n}else if(b&&(c=b.getElementById(o))&&y(t,c)&&c.id===o)return n.push(c),n}else{if(u[2])return N.apply(n,t.getElementsByTagName(e)),n;if((o=u[3])&&i.getElementsByClassName&&t.getElementsByClassName)return N.apply(n,t.getElementsByClassName(o)),n}if(i.qsa&&!D[e+" "]&&(!m||!m.test(e))){if(1!==C)b=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((d=t.getAttribute("id"))?d=d.replace(te,ie):t.setAttribute("id",d=w),a=(f=s(e)).length;a--;)f[a]="#"+d+" "+ve(f[a]);v=f.join(","),b=J.test(e)&&ge(t.parentNode)||t}if(v)try{return N.apply(n,b.querySelectorAll(v)),n}catch(e){}finally{d===w&&t.removeAttribute("id")}}}return l(e.replace(z,"$1"),t,n,r)}function se(){var e=[];return function t(i,r){return e.push(i+" ")>n.cacheLength&&delete t[e.shift()],t[i+" "]=r}}function ae(e){return e[w]=!0,e}function le(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var i=e.split("|"),r=i.length;r--;)n.attrHandle[i[r]]=t}function de(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function ue(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function pe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function fe(e){return ae(function(t){return t=+t,ae(function(i,n){for(var r,o=e([],i.length,t),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in i=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=oe.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:x;return s!==p&&9===s.nodeType&&s.documentElement?(f=(p=s).documentElement,g=!o(p),x!==p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ne,!1):r.attachEvent&&r.attachEvent("onunload",ne)),i.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),i.getElementsByTagName=le(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),i.getElementsByClassName=K.test(p.getElementsByClassName),i.getById=le(function(e){return f.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length}),i.getById?(n.filter.ID=function(e){var t=e.replace(Q,ee);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var i=t.getElementById(e);return i?[i]:[]}}):(n.filter.ID=function(e){var t=e.replace(Q,ee);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var i,n,r,o=t.getElementById(e);if(o){if((i=o.getAttributeNode("id"))&&i.value===e)return[o];for(r=t.getElementsByName(e),n=0;o=r[n++];)if((i=o.getAttributeNode("id"))&&i.value===e)return[o]}return[]}}),n.find.TAG=i.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):i.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},n.find.CLASS=i.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(i.qsa=K.test(p.querySelectorAll))&&(le(function(e){f.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+E+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+E+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+E+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(i.matchesSelector=K.test(b=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le(function(e){i.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),v.push("!=",L)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=K.test(f.compareDocumentPosition),y=t||K.test(f.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return u=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===n?e===p||e.ownerDocument===x&&y(x,e)?-1:t===p||t.ownerDocument===x&&y(x,t)?1:d?O(d,e)-O(d,t):0:4&n?-1:1)}:function(e,t){if(e===t)return u=!0,0;var i,n=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e===p?-1:t===p?1:r?-1:o?1:d?O(d,e)-O(d,t):0;if(r===o)return de(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)a.unshift(i);for(;s[n]===a[n];)n++;return n?de(s[n],a[n]):s[n]===x?-1:a[n]===x?1:0},p):p},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(G,"='$1']"),i.matchesSelector&&g&&!D[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var n=b.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return oe(t,p,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),y(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var r=n.attrHandle[t.toLowerCase()],o=r&&_.call(n.attrHandle,t.toLowerCase())?r(e,t,!g):void 0;return void 0!==o?o:i.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ie)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,n=[],r=0,o=0;if(u=!i.detectDuplicates,d=!i.sortStable&&e.slice(0),e.sort(T),u){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return d=null,e},r=oe.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)i+=r(t);return i},(n=oe.selectors={cacheLength:50,createPseudo:ae,match:U,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Q,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Q,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return U.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&W.test(i)&&(t=s(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Q,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+E+")"+e+"("+E+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n){var r=oe.attr(n,e);return null==r?"!="===t:!t||(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r.replace(q," ")+" ").indexOf(i)>-1:"|="===t&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var c,d,u,h,p,f,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a,y=!1;if(m){if(o){for(;g;){for(h=t;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&b){for(y=(p=(c=(d=(u=(h=m)[w]||(h[w]={}))[h.uniqueID]||(u[h.uniqueID]={}))[e]||[])[0]===C&&c[1])&&c[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(y=p=0)||f.pop();)if(1===h.nodeType&&++y&&h===t){d[e]=[C,p,y];break}}else if(b&&(y=p=(c=(d=(u=(h=t)[w]||(h[w]={}))[h.uniqueID]||(u[h.uniqueID]={}))[e]||[])[0]===C&&c[1]),!1===y)for(;(h=++p&&h&&h[g]||(y=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++y||(b&&((d=(u=h[w]||(h[w]={}))[h.uniqueID]||(u[h.uniqueID]={}))[e]=[C,y]),h!==t)););return(y-=r)===n||y%n==0&&y/n>=0}}},PSEUDO:function(e,t){var i,r=n.pseudos[e]||n.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return r[w]?r(t):r.length>1?(i=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,i){for(var n,o=r(e,t),s=o.length;s--;)e[n=O(e,o[s])]=!(i[n]=o[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:ae(function(e){var t=[],i=[],n=a(e.replace(z,"$1"));return n[w]?ae(function(e,t,i,r){for(var o,s=n(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,n(t,null,o,i),t[0]=null,!i.pop()}}),has:ae(function(e){return function(t){return oe(e,t).length>0}}),contains:ae(function(e){return e=e.replace(Q,ee),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:ae(function(e){return V.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(Q,ee).toLowerCase(),function(t){var i;do{if(i=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,i){return[i<0?i+t:i]}),even:fe(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:fe(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:fe(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:fe(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=ue(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=he(t);function me(){}function ve(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function be(e,t,i){var n=t.dir,r=t.next,o=r||n,s=i&&"parentNode"===o,a=k++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,r);return!1}:function(t,i,l){var c,d,u,h=[C,a];if(l){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||s)if(d=(u=t[w]||(t[w]={}))[t.uniqueID]||(u[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[n]||t;else{if((c=d[o])&&c[0]===C&&c[1]===a)return h[2]=c[2];if(d[o]=h,h[2]=e(t,i,l))return!0}return!1}}function ye(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function we(e,t,i,n,r){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(i&&!i(o,n,r)||(s.push(o),c&&t.push(a)));return s}function xe(e,t,i,n,r,o){return n&&!n[w]&&(n=xe(n)),r&&!r[w]&&(r=xe(r,o)),ae(function(o,s,a,l){var c,d,u,h=[],p=[],f=s.length,g=o||function(e,t,i){for(var n=0,r=t.length;n<r;n++)oe(e,t[n],i);return i}(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?g:we(g,h,e,a,l),v=i?r||(o?e:f||n)?[]:s:m;if(i&&i(m,v,a,l),n)for(c=we(v,p),n(c,[],a,l),d=c.length;d--;)(u=c[d])&&(v[p[d]]=!(m[p[d]]=u));if(o){if(r||e){if(r){for(c=[],d=v.length;d--;)(u=v[d])&&c.push(m[d]=u);r(null,v=[],c,l)}for(d=v.length;d--;)(u=v[d])&&(c=r?O(o,u):h[d])>-1&&(o[c]=!(s[c]=u))}}else v=we(v===s?v.splice(f,v.length):v),r?r(null,s,v,l):N.apply(s,v)})}function Ce(e){for(var t,i,r,o=e.length,s=n.relative[e[0].type],a=s||n.relative[" "],l=s?1:0,d=be(function(e){return e===t},a,!0),u=be(function(e){return O(t,e)>-1},a,!0),h=[function(e,i,n){var r=!s&&(n||i!==c)||((t=i).nodeType?d(e,i,n):u(e,i,n));return t=null,r}];l<o;l++)if(i=n.relative[e[l].type])h=[be(ye(h),i)];else{if((i=n.filter[e[l].type].apply(null,e[l].matches))[w]){for(r=++l;r<o&&!n.relative[e[r].type];r++);return xe(l>1&&ye(h),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),i,l<r&&Ce(e.slice(l,r)),r<o&&Ce(e=e.slice(r)),r<o&&ve(e))}h.push(i)}return ye(h)}return me.prototype=n.filters=n.pseudos,n.setFilters=new me,s=oe.tokenize=function(e,t){var i,r,o,s,a,l,c,d=$[e+" "];if(d)return t?0:d.slice(0);for(a=e,l=[],c=n.preFilter;a;){for(s in i&&!(r=H.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=B.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(z," ")}),a=a.slice(i.length)),n.filter)!(r=U[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return t?a.length:a?oe.error(e):$(e,l).slice(0)},a=oe.compile=function(e,t){var i,r=[],o=[],a=D[e+" "];if(!a){for(t||(t=s(e)),i=t.length;i--;)(a=Ce(t[i]))[w]?r.push(a):o.push(a);(a=D(e,function(e,t){var i=t.length>0,r=e.length>0,o=function(o,s,a,l,d){var u,f,m,v=0,b="0",y=o&&[],w=[],x=c,k=o||r&&n.find.TAG("*",d),S=C+=null==x?1:Math.random()||.1,$=k.length;for(d&&(c=s===p||s||d);b!==$&&null!=(u=k[b]);b++){if(r&&u){for(f=0,s||u.ownerDocument===p||(h(u),a=!g);m=e[f++];)if(m(u,s||p,a)){l.push(u);break}d&&(C=S)}i&&((u=!m&&u)&&v--,o&&y.push(u))}if(v+=b,i&&b!==v){for(f=0;m=t[f++];)m(y,w,s,a);if(o){if(v>0)for(;b--;)y[b]||w[b]||(w[b]=A.call(l));w=we(w)}N.apply(l,w),d&&!o&&w.length>0&&v+t.length>1&&oe.uniqueSort(l)}return d&&(C=S,c=x),y};return i?ae(o):o}(o,r))).selector=e}return a},l=oe.select=function(e,t,i,r){var o,l,c,d,u,h="function"==typeof e&&e,p=!r&&s(e=h.selector||e);if(i=i||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&g&&n.relative[l[1].type]){if(!(t=(n.find.ID(c.matches[0].replace(Q,ee),t)||[])[0]))return i;h&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=U.needsContext.test(e)?0:l.length;o--&&(c=l[o],!n.relative[d=c.type]);)if((u=n.find[d])&&(r=u(c.matches[0].replace(Q,ee),J.test(l[0].type)&&ge(t.parentNode)||t))){if(l.splice(o,1),!(e=r.length&&ve(l)))return N.apply(i,r),i;break}}return(h||a(e,p))(r,t,!g,i,!t||J.test(e)&&ge(t.parentNode)||t),i},i.sortStable=w.split("").sort(T).join("")===w,i.detectDuplicates=!!u,h(),i.sortDetached=le(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),i.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ce(R,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),oe}(i);k.find=D,k.expr=D.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=D.uniqueSort,k.text=D.getText,k.isXMLDoc=D.isXML,k.contains=D.contains,k.escapeSelector=D.escape;var T=function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&k(e).is(i))break;n.push(e)}return n},_=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},j=k.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var F=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function N(e,t,i){return b(t)?k.grep(e,function(e,n){return!!t.call(e,n,e)!==i}):t.nodeType?k.grep(e,function(e){return e===t!==i}):"string"!=typeof t?k.grep(e,function(e){return u.call(t,e)>-1!==i}):k.filter(t,e,i)}k.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?k.find.matchesSelector(n,e)?[n]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,i,n=this.length,r=this;if("string"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;t<n;t++)if(k.contains(r[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)k.find(e,r[t],i);return n>1?k.uniqueSort(i):i},filter:function(e){return this.pushStack(N(this,e||[],!1))},not:function(e){return this.pushStack(N(this,e||[],!0))},is:function(e){return!!N(this,"string"==typeof e&&j.test(e)?k(e):e||[],!1).length}});var I,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,i){var n,r;if(!e)return this;if(i=i||I,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:O.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:s,!0)),F.test(n[1])&&k.isPlainObject(t))for(n in t)b(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=s.getElementById(n[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):b(e)?void 0!==i.ready?i.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,I=k(s);var R=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};function M(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,r=this.length,o=[],s="string"!=typeof e&&k(e);if(!j.test(e))for(;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&k.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?k.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(k(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,i){return T(e,"parentNode",i)},next:function(e){return M(e,"nextSibling")},prev:function(e){return M(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,i){return T(e,"nextSibling",i)},prevUntil:function(e,t,i){return T(e,"previousSibling",i)},siblings:function(e){return _((e.parentNode||{}).firstChild,e)},children:function(e){return _(e.firstChild)},contents:function(e){return A(e,"iframe")?e.contentDocument:(A(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},function(e,t){k.fn[e]=function(i,n){var r=k.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=k.filter(n,r)),this.length>1&&(E[e]||k.uniqueSort(r),R.test(e)&&r.reverse()),this.pushStack(r)}});var P=/[^\x20\t\r\n\f]+/g;function L(e){return e}function q(e){throw e}function z(e,t,i,n){var r;try{e&&b(r=e.promise)?r.call(e).done(t).fail(i):e&&b(r=e.then)?r.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}k.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return k.each(e.match(P)||[],function(e,i){t[i]=!0}),t}(e):k.extend({},e);var t,i,n,r,o=[],s=[],a=-1,l=function(){for(r=r||e.once,n=t=!0;s.length;a=-1)for(i=s.shift();++a<o.length;)!1===o[a].apply(i[0],i[1])&&e.stopOnFalse&&(a=o.length,i=!1);e.memory||(i=!1),t=!1,r&&(o=i?[]:"")},c={add:function(){return o&&(i&&!t&&(a=o.length-1,s.push(i)),function t(i){k.each(i,function(i,n){b(n)?e.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==C(n)&&t(n)})}(arguments),i&&!t&&l()),this},remove:function(){return k.each(arguments,function(e,t){for(var i;(i=k.inArray(t,o,i))>-1;)o.splice(i,1),i<=a&&a--}),this},has:function(e){return e?k.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=s=[],i||t||(o=i=""),this},locked:function(){return!!r},fireWith:function(e,i){return r||(i=[e,(i=i||[]).slice?i.slice():i],s.push(i),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},k.extend({Deferred:function(e){var t=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return k.Deferred(function(i){k.each(t,function(t,n){var r=b(e[n[4]])&&e[n[4]];o[n[1]](function(){var e=r&&r.apply(this,arguments);e&&b(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(e,n,r){var o=0;function s(e,t,n,r){return function(){var a=this,l=arguments,c=function(){var i,c;if(!(e<o)){if((i=n.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"==typeof i||"function"==typeof i)&&i.then,b(c)?r?c.call(i,s(o,t,L,r),s(o,t,q,r)):(o++,c.call(i,s(o,t,L,r),s(o,t,q,r),s(o,t,L,t.notifyWith))):(n!==L&&(a=void 0,l=[i]),(r||t.resolveWith)(a,l))}},d=r?c:function(){try{c()}catch(i){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(i,d.stackTrace),e+1>=o&&(n!==q&&(a=void 0,l=[i]),t.rejectWith(a,l))}};e?d():(k.Deferred.getStackHook&&(d.stackTrace=k.Deferred.getStackHook()),i.setTimeout(d))}}return k.Deferred(function(i){t[0][3].add(s(0,i,b(r)?r:L,i.notifyWith)),t[1][3].add(s(0,i,b(e)?e:L)),t[2][3].add(s(0,i,b(n)?n:q))}).promise()},promise:function(e){return null!=e?k.extend(e,r):r}},o={};return k.each(t,function(e,i){var s=i[2],a=i[5];r[i[1]]=s.add,a&&s.add(function(){n=a},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,i=t,n=Array(i),r=l.call(arguments),o=k.Deferred(),s=function(e){return function(i){n[e]=this,r[e]=arguments.length>1?l.call(arguments):i,--t||o.resolveWith(n,r)}};if(t<=1&&(z(e,o.done(s(i)).resolve,o.reject,!t),"pending"===o.state()||b(r[i]&&r[i].then)))return o.then();for(;i--;)z(r[i],s(i),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&H.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){i.setTimeout(function(){throw e})};var B=k.Deferred();function G(){s.removeEventListener("DOMContentLoaded",G),i.removeEventListener("load",G),k.ready()}k.fn.ready=function(e){return B.then(e).catch(function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==e&&--k.readyWait>0||B.resolveWith(s,[k]))}}),k.ready.then=B.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?i.setTimeout(k.ready):(s.addEventListener("DOMContentLoaded",G),i.addEventListener("load",G));var W=function(e,t,i,n,r,o,s){var a=0,l=e.length,c=null==i;if("object"===C(i))for(a in r=!0,i)W(e,t,a,i[a],!0,o,s);else if(void 0!==n&&(r=!0,b(n)||(s=!0),c&&(s?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(k(e),i)})),t))for(;a<l;a++)t(e[a],i,s?n:n.call(e[a],a,t(e[a],i)));return r?e:c?t.call(e):l?t(e[0],i):o},V=/^-ms-/,U=/-([a-z])/g;function Y(e,t){return t.toUpperCase()}function X(e){return e.replace(V,"ms-").replace(U,Y)}var K=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Z(){this.expando=k.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(e){var t=e[this.expando];return t||(t={},K(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,r=this.cache(e);if("string"==typeof t)r[X(t)]=i;else for(n in t)r[X(n)]=t[n];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(X):(t=X(t))in n?[t]:t.match(P)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||k.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var J=new Z,Q=new Z,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ie(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(i)}catch(e){}Q.set(e,t,i)}else i=void 0;return i}k.extend({hasData:function(e){return Q.hasData(e)||J.hasData(e)},data:function(e,t,i){return Q.access(e,t,i)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,i){return J.access(e,t,i)},_removeData:function(e,t){J.remove(e,t)}}),k.fn.extend({data:function(e,t){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=Q.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&0===(n=s[i].name).indexOf("data-")&&(n=X(n.slice(5)),ie(o,n,r[n]));J.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Q.set(this,e)}):W(this,function(t){var i;if(o&&void 0===t)return void 0!==(i=Q.get(o,e))?i:void 0!==(i=ie(o,e))?i:void 0;this.each(function(){Q.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),k.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=J.get(e,t),i&&(!n||Array.isArray(i)?n=J.access(e,t,k.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=k.queue(e,t),n=i.length,r=i.shift(),o=k._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete o.stop,r.call(e,function(){k.dequeue(e,t)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return J.get(e,i)||J.access(e,i,{empty:k.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",i])})})}}),k.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?k.queue(this[0],e):void 0===t?this:this.each(function(){var i=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&k.dequeue(this,e)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=k.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=J.get(o[s],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(t)}});var ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+ne+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&k.contains(e.ownerDocument,e)&&"none"===k.css(e,"display")},ae=function(e,t,i,n){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in r=i.apply(e,n||[]),t)e.style[o]=s[o];return r};function le(e,t,i,n){var r,o,s=20,a=n?function(){return n.cur()}:function(){return k.css(e,t,"")},l=a(),c=i&&i[3]||(k.cssNumber[t]?"":"px"),d=(k.cssNumber[t]||"px"!==c&&+l)&&re.exec(k.css(e,t));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;s--;)k.style(e,t,d+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),d/=o;d*=2,k.style(e,t,d+c),i=i||[]}return i&&(d=+d||+l||0,r=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=d,n.end=r)),r}var ce={};function de(e){var t,i=e.ownerDocument,n=e.nodeName,r=ce[n];return r||(t=i.body.appendChild(i.createElement(n)),r=k.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ce[n]=r,r)}function ue(e,t){for(var i,n,r=[],o=0,s=e.length;o<s;o++)(n=e[o]).style&&(i=n.style.display,t?("none"===i&&(r[o]=J.get(n,"display")||null,r[o]||(n.style.display="")),""===n.style.display&&se(n)&&(r[o]=de(n))):"none"!==i&&(r[o]="none",J.set(n,"display",i)));for(o=0;o<s;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}k.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?k(this).show():k(this).hide()})}});var he=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,fe=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?k.merge([e],i):i}function ve(e,t){for(var i=0,n=e.length;i<n;i++)J.set(e[i],"globalEval",!t||J.get(t[i],"globalEval"))}ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;var be,ye,we=/<|&#?\w+;/;function xe(e,t,i,n,r){for(var o,s,a,l,c,d,u=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((o=e[p])||0===o)if("object"===C(o))k.merge(h,o.nodeType?[o]:o);else if(we.test(o)){for(s=s||u.appendChild(t.createElement("div")),a=(pe.exec(o)||["",""])[1].toLowerCase(),l=ge[a]||ge._default,s.innerHTML=l[1]+k.htmlPrefilter(o)+l[2],d=l[0];d--;)s=s.lastChild;k.merge(h,s.childNodes),(s=u.firstChild).textContent=""}else h.push(t.createTextNode(o));for(u.textContent="",p=0;o=h[p++];)if(n&&k.inArray(o,n)>-1)r&&r.push(o);else if(c=k.contains(o.ownerDocument,o),s=me(u.appendChild(o),"script"),c&&ve(s),i)for(d=0;o=s[d++];)fe.test(o.type||"")&&i.push(o);return u}be=s.createDocumentFragment().appendChild(s.createElement("div")),(ye=s.createElement("input")).setAttribute("type","radio"),ye.setAttribute("checked","checked"),ye.setAttribute("name","t"),be.appendChild(ye),v.checkClone=be.cloneNode(!0).cloneNode(!0).lastChild.checked,be.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!be.cloneNode(!0).lastChild.defaultValue;var Ce=s.documentElement,ke=/^key/,Se=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,$e=/^([^.]*)(?:\.(.+)|)/;function De(){return!0}function Te(){return!1}function _e(){try{return s.activeElement}catch(e){}}function je(e,t,i,n,r,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof i&&(n=n||i,i=void 0),t)je(e,a,i,n,t[a],o);return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=Te;else if(!r)return e;return 1===o&&(s=r,(r=function(e){return k().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=k.guid++)),e.each(function(){k.event.add(this,t,r,n,i)})}k.event={global:{},add:function(e,t,i,n,r){var o,s,a,l,c,d,u,h,p,f,g,m=J.get(e);if(m)for(i.handler&&(i=(o=i).handler,r=o.selector),r&&k.find.matchesSelector(Ce,r),i.guid||(i.guid=k.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(P)||[""]).length;c--;)p=g=(a=$e.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(u=k.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,u=k.event.special[p]||{},d=k.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&k.expr.match.needsContext.test(r),namespace:f.join(".")},o),(h=l[p])||((h=l[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,n,f,s)||e.addEventListener&&e.addEventListener(p,s)),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),k.event.global[p]=!0)},remove:function(e,t,i,n,r){var o,s,a,l,c,d,u,h,p,f,g,m=J.hasData(e)&&J.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(P)||[""]).length;c--;)if(p=g=(a=$e.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(u=k.event.special[p]||{},h=l[p=(n?u.delegateType:u.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)d=h[o],!r&&g!==d.origType||i&&i.guid!==d.guid||a&&!a.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(h.splice(o,1),d.selector&&h.delegateCount--,u.remove&&u.remove.call(e,d));s&&!h.length&&(u.teardown&&!1!==u.teardown.call(e,f,m.handle)||k.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)k.event.remove(e,p+t[c],i,n,!0);k.isEmptyObject(l)&&J.remove(e,"handle events")}},dispatch:function(e){var t,i,n,r,o,s,a=k.event.fix(e),l=new Array(arguments.length),c=(J.get(this,"events")||{})[a.type]||[],d=k.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,a)){for(s=k.event.handlers.call(this,a,c),t=0;(r=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(n=((k.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,a),a.result}},handlers:function(e,t){var i,n,r,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},i=0;i<l;i++)void 0===s[r=(n=t[i]).selector+" "]&&(s[r]=n.needsContext?k(r,this).index(c)>-1:k.find(r,this,null,[c]).length),s[r]&&o.push(n);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:b(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==_e()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===_e()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&A(this,"input"))return this.click(),!1},_default:function(e){return A(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?De:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=De,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=De,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=De,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ke.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Se.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},k.event.addProp),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||k.contains(this,n))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),k.fn.extend({on:function(e,t,i,n){return je(this,e,t,i,n)},one:function(e,t,i,n){return je(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,k(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=Te),this.each(function(){k.event.remove(this,e,i,t)})}});var Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Fe=/<script|<style|<link/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Oe(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Re(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ee(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Me(e,t){var i,n,r,o,s,a,l,c;if(1===t.nodeType){if(J.hasData(e)&&(o=J.access(e),s=J.set(t,o),c=o.events))for(r in delete s.handle,s.events={},c)for(i=0,n=c[r].length;i<n;i++)k.event.add(t,r,c[r][i]);Q.hasData(e)&&(a=Q.access(e),l=k.extend({},a),Q.set(t,l))}}function Pe(e,t,i,n){t=c.apply([],t);var r,o,s,a,l,d,u=0,h=e.length,p=h-1,f=t[0],g=b(f);if(g||h>1&&"string"==typeof f&&!v.checkClone&&Ne.test(f))return e.each(function(r){var o=e.eq(r);g&&(t[0]=f.call(this,r,o.html())),Pe(o,t,i,n)});if(h&&(o=(r=xe(t,e[0].ownerDocument,!1,e,n)).firstChild,1===r.childNodes.length&&(r=o),o||n)){for(a=(s=k.map(me(r,"script"),Re)).length;u<h;u++)l=r,u!==p&&(l=k.clone(l,!0,!0),a&&k.merge(s,me(l,"script"))),i.call(e[u],l,u);if(a)for(d=s[s.length-1].ownerDocument,k.map(s,Ee),u=0;u<a;u++)l=s[u],fe.test(l.type||"")&&!J.access(l,"globalEval")&&k.contains(d,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?k._evalUrl&&k._evalUrl(l.src):x(l.textContent.replace(Ie,""),d,l))}return e}function Le(e,t,i){for(var n,r=t?k.filter(t,e):e,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||k.cleanData(me(n)),n.parentNode&&(i&&k.contains(n.ownerDocument,n)&&ve(me(n,"script")),n.parentNode.removeChild(n));return e}k.extend({htmlPrefilter:function(e){return e.replace(Ae,"<$1></$2>")},clone:function(e,t,i){var n,r,o,s,a,l,c,d=e.cloneNode(!0),u=k.contains(e.ownerDocument,e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(s=me(d),n=0,r=(o=me(e)).length;n<r;n++)a=o[n],l=s[n],void 0,"input"===(c=l.nodeName.toLowerCase())&&he.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(i)for(o=o||me(e),s=s||me(d),n=0,r=o.length;n<r;n++)Me(o[n],s[n]);else Me(e,d);return(s=me(d,"script")).length>0&&ve(s,!u&&me(e,"script")),d},cleanData:function(e){for(var t,i,n,r=k.event.special,o=0;void 0!==(i=e[o]);o++)if(K(i)){if(t=i[J.expando]){if(t.events)for(n in t.events)r[n]?k.event.remove(i,n):k.removeEvent(i,n,t.handle);i[J.expando]=void 0}i[Q.expando]&&(i[Q.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Le(this,e,!0)},remove:function(e){return Le(this,e)},text:function(e){return W(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Pe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)})},prepend:function(){return Pe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Oe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return W(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Fe.test(e)&&!ge[(pe.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(k.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Pe(this,arguments,function(t){var i=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(me(this)),i&&i.replaceChild(t,this))},e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){k.fn[e]=function(e){for(var i,n=[],r=k(e),o=r.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),k(r[s])[t](i),d.apply(n,i.get());return this.pushStack(n)}});var qe=new RegExp("^("+ne+")(?!px)[a-z%]+$","i"),ze=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},He=new RegExp(oe.join("|"),"i");function Be(e,t,i){var n,r,o,s,a=e.style;return(i=i||ze(e))&&(""!==(s=i.getPropertyValue(t)||i[t])||k.contains(e.ownerDocument,e)||(s=k.style(e,t)),!v.pixelBoxStyles()&&qe.test(s)&&He.test(t)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Ge(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ce.appendChild(c).appendChild(d);var e=i.getComputedStyle(d);n="1%"!==e.top,l=12===t(e.marginLeft),d.style.right="60%",a=36===t(e.right),r=36===t(e.width),d.style.position="absolute",o=36===d.offsetWidth||"absolute",Ce.removeChild(c),d=null}}function t(e){return Math.round(parseFloat(e))}var n,r,o,a,l,c=s.createElement("div"),d=s.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===d.style.backgroundClip,k.extend(v,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o}}))}();var We=/^(none|table(?!-c[ea]).+)/,Ve=/^--/,Ue={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Xe=["Webkit","Moz","ms"],Ke=s.createElement("div").style;function Ze(e){var t=k.cssProps[e];return t||(t=k.cssProps[e]=function(e){if(e in Ke)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=Xe.length;i--;)if((e=Xe[i]+t)in Ke)return e}(e)||e),t}function Je(e,t,i){var n=re.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function Qe(e,t,i,n,r,o){var s="width"===t?1:0,a=0,l=0;if(i===(n?"border":"content"))return 0;for(;s<4;s+=2)"margin"===i&&(l+=k.css(e,i+oe[s],!0,r)),n?("content"===i&&(l-=k.css(e,"padding"+oe[s],!0,r)),"margin"!==i&&(l-=k.css(e,"border"+oe[s]+"Width",!0,r))):(l+=k.css(e,"padding"+oe[s],!0,r),"padding"!==i?l+=k.css(e,"border"+oe[s]+"Width",!0,r):a+=k.css(e,"border"+oe[s]+"Width",!0,r));return!n&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))),l}function et(e,t,i){var n=ze(e),r=Be(e,t,n),o="border-box"===k.css(e,"boxSizing",!1,n),s=o;if(qe.test(r)){if(!i)return r;r="auto"}return s=s&&(v.boxSizingReliable()||r===e.style[t]),("auto"===r||!parseFloat(r)&&"inline"===k.css(e,"display",!1,n))&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)],s=!0),(r=parseFloat(r)||0)+Qe(e,t,i||(o?"border":"content"),s,n,r)+"px"}function tt(e,t,i,n,r){return new tt.prototype.init(e,t,i,n,r)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Be(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=X(t),l=Ve.test(t),c=e.style;if(l||(t=Ze(a)),s=k.cssHooks[t]||k.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(r=s.get(e,!1,n))?r:c[t];"string"===(o=typeof i)&&(r=re.exec(i))&&r[1]&&(i=le(e,t,r),o="number"),null!=i&&i==i&&("number"===o&&(i+=r&&r[3]||(k.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==i||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(i=s.set(e,i,n))||(l?c.setProperty(t,i):c[t]=i))}},css:function(e,t,i,n){var r,o,s,a=X(t);return Ve.test(t)||(t=Ze(a)),(s=k.cssHooks[t]||k.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,i)),void 0===r&&(r=Be(e,t,n)),"normal"===r&&t in Ye&&(r=Ye[t]),""===i||i?(o=parseFloat(r),!0===i||isFinite(o)?o||0:r):r}}),k.each(["height","width"],function(e,t){k.cssHooks[t]={get:function(e,i,n){if(i)return!We.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,n):ae(e,Ue,function(){return et(e,t,n)})},set:function(e,i,n){var r,o=ze(e),s="border-box"===k.css(e,"boxSizing",!1,o),a=n&&Qe(e,t,n,s,o);return s&&v.scrollboxSize()===o.position&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Qe(e,t,"border",!1,o)-.5)),a&&(r=re.exec(i))&&"px"!==(r[3]||"px")&&(e.style[t]=i,i=k.css(e,t)),Je(0,i,a)}}}),k.cssHooks.marginLeft=Ge(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-ae(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(e,t){k.cssHooks[e+t]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+oe[n]+t]=o[n]||o[n-2]||o[0];return r}},"margin"!==e&&(k.cssHooks[e+t].set=Je)}),k.fn.extend({css:function(e,t){return W(this,function(e,t,i){var n,r,o={},s=0;if(Array.isArray(t)){for(n=ze(e),r=t.length;s<r;s++)o[t[s]]=k.css(e,t[s],!1,n);return o}return void 0!==i?k.style(e,t,i):k.css(e,t)},e,t,arguments.length>1)}}),k.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,i,n,r,o){this.elem=e,this.prop=i,this.easing=r||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(k.cssNumber[i]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,i=tt.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[k.cssProps[e.prop]]&&!k.cssHooks[e.prop]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=tt.prototype.init,k.fx.step={};var it,nt,rt=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function st(){nt&&(!1===s.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(st):i.setTimeout(st,k.fx.interval),k.fx.tick())}function at(){return i.setTimeout(function(){it=void 0}),it=Date.now()}function lt(e,t){var i,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)r["margin"+(i=oe[n])]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function ct(e,t,i){for(var n,r=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),o=0,s=r.length;o<s;o++)if(n=r[o].call(i,t,e))return n}function dt(e,t,i){var n,r,o=0,s=dt.prefilters.length,a=k.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=it||at(),i=Math.max(0,c.startTime+c.duration-t),n=1-(i/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(n);return a.notifyWith(e,[c,n,i]),n<1&&s?i:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},i),originalProperties:t,originalOptions:i,startTime:it||at(),duration:i.duration,tweens:[],createTween:function(t,i){var n=k.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),d=c.props;for(!function(e,t){var i,n,r,o,s;for(i in e)if(r=t[n=X(i)],o=e[i],Array.isArray(o)&&(r=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),(s=k.cssHooks[n])&&"expand"in s)for(i in o=s.expand(o),delete e[n],o)i in e||(e[i]=o[i],t[i]=r);else t[n]=r}(d,c.opts.specialEasing);o<s;o++)if(n=dt.prefilters[o].call(c,e,d,c.opts))return b(n.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return k.map(d,ct,c),b(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(dt,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return le(i.elem,e,re.exec(t),i),i}]},tweener:function(e,t){b(e)?(t=e,e=["*"]):e=e.match(P);for(var i,n=0,r=e.length;n<r;n++)i=e[n],dt.tweeners[i]=dt.tweeners[i]||[],dt.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,r,o,s,a,l,c,d,u="width"in t||"height"in t,h=this,p={},f=e.style,g=e.nodeType&&se(e),m=J.get(e,"fxshow");for(n in i.queue||(null==(s=k._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,k.queue(e,"fx").length||s.empty.fire()})})),t)if(r=t[n],rt.test(r)){if(delete t[n],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;g=!0}p[n]=m&&m[n]||k.style(e,n)}if((l=!k.isEmptyObject(t))||!k.isEmptyObject(p))for(n in u&&1===e.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=m&&m.display)&&(c=J.get(e,"display")),"none"===(d=k.css(e,"display"))&&(c?d=c:(ue([e],!0),c=e.style.display||c,d=k.css(e,"display"),ue([e]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===k.css(e,"float")&&(l||(h.done(function(){f.display=c}),null==c&&(d=f.display,c="none"===d?"":d)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1,p)l||(m?"hidden"in m&&(g=m.hidden):m=J.access(e,"fxshow",{display:c}),o&&(m.hidden=!g),g&&ue([e],!0),h.done(function(){for(n in g||ue([e]),J.remove(e,"fxshow"),p)k.style(e,n,p[n])})),l=ct(g?m[n]:0,n,h),n in m||(m[n]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),k.speed=function(e,t,i){var n=e&&"object"==typeof e?k.extend({},e):{complete:i||!i&&t||b(e)&&e,duration:e,easing:i&&t||t&&!b(t)&&t};return k.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in k.fx.speeds?n.duration=k.fx.speeds[n.duration]:n.duration=k.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){b(n.old)&&n.old.call(this),n.queue&&k.dequeue(this,n.queue)},n},k.fn.extend({fadeTo:function(e,t,i,n){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=k.isEmptyObject(e),o=k.speed(t,i,n),s=function(){var t=dt(this,k.extend({},e),o);(r||J.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=k.timers,s=J.get(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&ot.test(r)&&n(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(i),t=!1,o.splice(r,1));!t&&i||k.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=J.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],o=k.timers,s=n?n.length:0;for(i.finish=!0,k.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),k.each(["toggle","show","hide"],function(e,t){var i=k.fn[t];k.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(lt(t,!0),e,n,r)}}),k.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){k.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),k.timers=[],k.fx.tick=function(){var e,t=0,i=k.timers;for(it=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||k.fx.stop(),it=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){nt||(nt=!0,st())},k.fx.stop=function(){nt=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,t){return e=k.fx&&k.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(r)}})},function(){var e=s.createElement("input"),t=s.createElement("select").appendChild(s.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=s.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var ut,ht=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return W(this,k.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,i){var n,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?k.prop(e,t,i):(1===o&&k.isXMLDoc(e)||(r=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?ut:void 0)),void 0!==i?null===i?void k.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:null==(n=k.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&A(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match(P);if(r&&1===e.nodeType)for(;i=r[n++];)e.removeAttribute(i)}}),ut={set:function(e,t,i){return!1===t?k.removeAttr(e,i):e.setAttribute(i,i),i}},k.each(k.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ht[t]||k.find.attr;ht[t]=function(e,t,n){var r,o,s=t.toLowerCase();return n||(o=ht[s],ht[s]=r,r=null!=i(e,t,n)?s:null,ht[s]=o),r}});var pt=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;function gt(e){return(e.match(P)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}k.fn.extend({prop:function(e,t){return W(this,k.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({prop:function(e,t,i){var n,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(e)||(t=k.propFix[t]||t,r=k.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(e){var t,i,n,r,o,s,a,l=0;if(b(e))return this.each(function(t){k(this).addClass(e.call(this,t,mt(this)))});if((t=vt(e)).length)for(;i=this[l++];)if(r=mt(i),n=1===i.nodeType&&" "+gt(r)+" "){for(s=0;o=t[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r!==(a=gt(n))&&i.setAttribute("class",a)}return this},removeClass:function(e){var t,i,n,r,o,s,a,l=0;if(b(e))return this.each(function(t){k(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=vt(e)).length)for(;i=this[l++];)if(r=mt(i),n=1===i.nodeType&&" "+gt(r)+" "){for(s=0;o=t[s++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");r!==(a=gt(n))&&i.setAttribute("class",a)}return this},toggleClass:function(e,t){var i=typeof e,n="string"===i||Array.isArray(e);return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):b(e)?this.each(function(i){k(this).toggleClass(e.call(this,i,mt(this),t),t)}):this.each(function(){var t,r,o,s;if(n)for(r=0,o=k(this),s=vt(e);t=s[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==i||((t=mt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+gt(mt(i))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;k.fn.extend({val:function(e){var t,i,n,r=this[0];return arguments.length?(n=b(e),this.each(function(i){var r;1===this.nodeType&&(null==(r=n?e.call(this,i,k(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=k.map(r,function(e){return null==e?"":e+""})),(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=k.valHooks[r.type]||k.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(bt,""):null==i?"":i:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:gt(k.text(e))}},select:{get:function(e){var t,i,n,r=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:r.length;for(n=o<0?l:s?o:0;n<l;n++)if(((i=r[n]).selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!A(i.parentNode,"optgroup"))){if(t=k(i).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var i,n,r=e.options,o=k.makeArray(t),s=r.length;s--;)((n=r[s]).selected=k.inArray(k.valHooks.option.get(n),o)>-1)&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=k.inArray(k(e).val(),t)>-1}},v.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in i;var yt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,r){var o,a,l,c,d,u,h,p,g=[n||s],m=f.call(e,"type")?e.type:e,v=f.call(e,"namespace")?e.namespace.split("."):[];if(a=p=l=n=n||s,3!==n.nodeType&&8!==n.nodeType&&!yt.test(m+k.event.triggered)&&(m.indexOf(".")>-1&&(m=(v=m.split(".")).shift(),v.sort()),d=m.indexOf(":")<0&&"on"+m,(e=e[k.expando]?e:new k.Event(m,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),h=k.event.special[m]||{},r||!h.trigger||!1!==h.trigger.apply(n,t))){if(!r&&!h.noBubble&&!y(n)){for(c=h.delegateType||m,yt.test(c+m)||(a=a.parentNode);a;a=a.parentNode)g.push(a),l=a;l===(n.ownerDocument||s)&&g.push(l.defaultView||l.parentWindow||i)}for(o=0;(a=g[o++])&&!e.isPropagationStopped();)p=a,e.type=o>1?c:h.bindType||m,(u=(J.get(a,"events")||{})[e.type]&&J.get(a,"handle"))&&u.apply(a,t),(u=d&&a[d])&&u.apply&&K(a)&&(e.result=u.apply(a,t),!1===e.result&&e.preventDefault());return e.type=m,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(g.pop(),t)||!K(n)||d&&b(n[m])&&!y(n)&&((l=n[d])&&(n[d]=null),k.event.triggered=m,e.isPropagationStopped()&&p.addEventListener(m,wt),n[m](),e.isPropagationStopped()&&p.removeEventListener(m,wt),k.event.triggered=void 0,l&&(n[d]=l)),e.result}},simulate:function(e,t,i){var n=k.extend(new k.Event,i,{type:e,isSimulated:!0});k.event.trigger(n,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return k.event.trigger(e,t,i,!0)}}),v.focusin||k.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){k.event.simulate(t,e.target,k.event.fix(e))};k.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=J.access(n,t);r||n.addEventListener(e,i,!0),J.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=J.access(n,t)-1;r?J.access(n,t,r):(n.removeEventListener(e,i,!0),J.remove(n,t))}}});var xt=i.location,Ct=Date.now(),kt=/\?/;k.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+e),t};var St=/\[\]$/,$t=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;function _t(e,t,i,n){var r;if(Array.isArray(t))k.each(t,function(t,r){i||St.test(e)?n(e,r):_t(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,i,n)});else if(i||"object"!==C(t))n(e,t);else for(r in t)_t(e+"["+r+"]",t[r],i,n)}k.param=function(e,t){var i,n=[],r=function(e,t){var i=b(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){r(this.name,this.value)});else for(i in e)_t(i,e[i],t,r);return n.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Tt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!he.test(e))}).map(function(e,t){var i=k(this).val();return null==i?null:Array.isArray(i)?k.map(i,function(e){return{name:t.name,value:e.replace($t,"\r\n")}}):{name:t.name,value:i.replace($t,"\r\n")}}).get()}});var jt=/%20/g,At=/#.*$/,Ft=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,It=/^(?:GET|HEAD)$/,Ot=/^\/\//,Rt={},Et={},Mt="*/".concat("*"),Pt=s.createElement("a");function Lt(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,o=t.toLowerCase().match(P)||[];if(b(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function qt(e,t,i,n){var r={},o=e===Et;function s(a){var l;return r[a]=!0,k.each(e[a]||[],function(e,a){var c=a(t,i,n);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function zt(e,t){var i,n,r=k.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&k.extend(!0,e,n),e}Pt.href=xt.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Mt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,k.ajaxSettings),t):zt(k.ajaxSettings,e)},ajaxPrefilter:Lt(Rt),ajaxTransport:Lt(Et),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,o,a,l,c,d,u,h,p,f=k.ajaxSetup({},t),g=f.context||f,m=f.context&&(g.nodeType||g.jquery)?k(g):k.event,v=k.Deferred(),b=k.Callbacks("once memory"),y=f.statusCode||{},w={},x={},C="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(d){if(!a)for(a={};t=Nt.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return d?o:null},setRequestHeader:function(e,t){return null==d&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==d&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(d)S.always(e[S.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||C;return n&&n.abort(t),$(0,t),this}};if(v.promise(S),f.url=((e||f.url||xt.href)+"").replace(Ot,xt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(P)||[""],null==f.crossDomain){c=s.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Pt.protocol+"//"+Pt.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=k.param(f.data,f.traditional)),qt(Rt,f,t,S),d)return S;for(h in(u=k.event&&f.global)&&0==k.active++&&k.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!It.test(f.type),r=f.url.replace(At,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(jt,"+")):(p=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(kt.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Ft,"$1"),p=(kt.test(r)?"&":"?")+"_="+Ct+++p),f.url=r+p),f.ifModified&&(k.lastModified[r]&&S.setRequestHeader("If-Modified-Since",k.lastModified[r]),k.etag[r]&&S.setRequestHeader("If-None-Match",k.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Mt+"; q=0.01":""):f.accepts["*"]),f.headers)S.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(g,S,f)||d))return S.abort();if(C="abort",b.add(f.complete),S.done(f.success),S.fail(f.error),n=qt(Et,f,t,S)){if(S.readyState=1,u&&m.trigger("ajaxSend",[S,f]),d)return S;f.async&&f.timeout>0&&(l=i.setTimeout(function(){S.abort("timeout")},f.timeout));try{d=!1,n.send(w,$)}catch(e){if(d)throw e;$(-1,e)}}else $(-1,"No Transport");function $(e,t,s,a){var c,h,p,w,x,C=t;d||(d=!0,l&&i.clearTimeout(l),n=void 0,o=a||"",S.readyState=e>0?4:0,c=e>=200&&e<300||304===e,s&&(w=function(e,t,i){for(var n,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),i[o]}(f,S,s)),w=function(e,t,i,n){var r,o,s,a,l,c={},d=e.dataTypes.slice();if(d[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=d.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],d.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(f,w,S,c),c?(f.ifModified&&((x=S.getResponseHeader("Last-Modified"))&&(k.lastModified[r]=x),(x=S.getResponseHeader("etag"))&&(k.etag[r]=x)),204===e||"HEAD"===f.type?C="nocontent":304===e?C="notmodified":(C=w.state,h=w.data,c=!(p=w.error))):(p=C,!e&&C||(C="error",e<0&&(e=0))),S.status=e,S.statusText=(t||C)+"",c?v.resolveWith(g,[h,C,S]):v.rejectWith(g,[S,C,p]),S.statusCode(y),y=void 0,u&&m.trigger(c?"ajaxSuccess":"ajaxError",[S,f,c?h:p]),b.fireWith(g,[S,C]),u&&(m.trigger("ajaxComplete",[S,f]),--k.active||k.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,i){return k.get(e,t,i,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],function(e,t){k[t]=function(e,i,n,r){return b(i)&&(r=r||n,n=i,i=void 0),k.ajax(k.extend({url:e,type:t,dataType:r,data:i,success:n},k.isPlainObject(e)&&e))}}),k._evalUrl=function(e){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(b(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return b(e)?this.each(function(t){k(this).wrapInner(e.call(this,t))}):this.each(function(){var t=k(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=b(e);return this.each(function(i){k(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Ht={0:200,1223:204},Bt=k.ajaxSettings.xhr();v.cors=!!Bt&&"withCredentials"in Bt,v.ajax=Bt=!!Bt,k.ajaxTransport(function(e){var t,n;if(v.cors||Bt&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ht[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&i.setTimeout(function(){t&&n()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),k.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),k.ajaxTransport("script",function(e){var t,i;if(e.crossDomain)return{send:function(n,r){t=k("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),s.head.appendChild(t[0])},abort:function(){i&&i()}}});var Gt,Wt=[],Vt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||k.expando+"_"+Ct++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",function(e,t,n){var r,o,s,a=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=b(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Vt,"$1"+r):!1!==e.jsonp&&(e.url+=(kt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||k.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=i[r],i[r]=function(){s=arguments},n.always(function(){void 0===o?k(i).removeProp(r):i[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,Wt.push(r)),s&&b(o)&&o(s[0]),s=o=void 0}),"script"}),v.createHTMLDocument=((Gt=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Gt.childNodes.length),k.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(v.createHTMLDocument?((n=(t=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,t.head.appendChild(n)):t=s),r=F.exec(e),o=!i&&[],r?[t.createElement(r[1])]:(r=xe([e],t,o),o&&o.length&&k(o).remove(),k.merge([],r.childNodes)));var n,r,o},k.fn.load=function(e,t,i){var n,r,o,s=this,a=e.indexOf(" ");return a>-1&&(n=gt(e.slice(a)),e=e.slice(0,a)),b(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&k.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(n?k("<div>").append(k.parseHTML(e)).find(n):e)}).always(i&&function(e,t){s.each(function(){i.apply(this,o||[e.responseText,t,e])})}),this},k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k.expr.pseudos.animated=function(e){return k.grep(k.timers,function(t){return e===t.elem}).length},k.offset={setOffset:function(e,t,i){var n,r,o,s,a,l,c=k.css(e,"position"),d=k(e),u={};"static"===c&&(e.style.position="relative"),a=d.offset(),o=k.css(e,"top"),l=k.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(n=d.position()).top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),b(t)&&(t=t.call(e,i,k.extend({},a))),null!=t.top&&(u.top=t.top-a.top+s),null!=t.left&&(u.left=t.left-a.left+r),"using"in t?t.using.call(e,u):d.css(u)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){k.offset.setOffset(this,e,t)});var t,i,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,n=this[0],r={top:0,left:0};if("fixed"===k.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((r=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),r.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-k.css(n,"marginTop",!0),left:t.left-r.left-k.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||Ce})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;k.fn[e]=function(n){return W(this,function(e,n,r){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[n];o?o.scrollTo(i?o.pageXOffset:r,i?r:o.pageYOffset):e[n]=r},e,n,arguments.length)}}),k.each(["top","left"],function(e,t){k.cssHooks[t]=Ge(v.pixelPosition,function(e,i){if(i)return i=Be(e,t),qe.test(i)?k(e).position()[t]+"px":i})}),k.each({Height:"height",Width:"width"},function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){k.fn[n]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(!0===r||!0===o?"margin":"border");return W(this,function(t,i,r){var o;return y(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?k.css(t,i,a):k.style(t,i,r,a)},t,s?r:void 0,s)}})}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){k.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),k.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),k.proxy=function(e,t){var i,n,r;if("string"==typeof t&&(i=e[t],t=e,e=i),b(e))return n=l.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(l.call(arguments)))}).guid=e.guid=e.guid||k.guid++,r},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=A,k.isFunction=b,k.isWindow=y,k.camelCase=X,k.type=C,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(n=function(){return k}.apply(t,[]))||(e.exports=n);var Ut=i.jQuery,Yt=i.$;return k.noConflict=function(e){return i.$===k&&(i.$=Yt),e&&i.jQuery===k&&(i.jQuery=Ut),k},r||(i.jQuery=i.$=k),k})},"8U58":function(e,t,i){var n;n=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,i=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),s=n||r||o,a=s&&(n?document.documentMode||6:+(o||r)[1]),l=!o&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),d=!o&&/Chrome\//.test(e),u=/Opera\//.test(e),h=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),f=/PhantomJS/.test(e),g=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),m=/Android/.test(e),v=g||m||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),b=g||/Mac/.test(t),y=/\bCrOS\b/.test(e),w=/win/i.test(t),x=u&&e.match(/Version\/(\d*\.\d*)/);x&&(x=Number(x[1])),x&&x>=15&&(u=!1,l=!0);var C=b&&(c||u&&(null==x||x<12.11)),k=i||s&&a>=9;function S(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var $,D=function(e,t){var i=e.className,n=S(t).exec(i);if(n){var r=i.slice(n.index+n[0].length);e.className=i.slice(0,n.index)+(r?n[1]+r:"")}};function T(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function _(e,t){return T(e).appendChild(t)}function j(e,t,i,n){var r=document.createElement(e);if(i&&(r.className=i),n&&(r.style.cssText=n),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function A(e,t,i,n){var r=j(e,t,i,n);return r.setAttribute("role","presentation"),r}function F(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function N(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function I(e,t){var i=e.className;S(t).test(i)||(e.className+=(i?" ":"")+t)}function O(e,t){for(var i=e.split(" "),n=0;n<i.length;n++)i[n]&&!S(i[n]).test(t)&&(t+=" "+i[n]);return t}$=document.createRange?function(e,t,i,n){var r=document.createRange();return r.setEnd(n||e,i),r.setStart(e,t),r}:function(e,t,i){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n};var R=function(e){e.select()};function E(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function M(e,t,i){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===i&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function P(e,t,i,n,r){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,s=r||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t)return s+(t-o);s+=a-o,s+=i-s%i,o=a+1}}g?R=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:s&&(R=function(e){try{e.select()}catch(e){}});var L=function(){this.id=null};function q(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}L.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var z=30,H={toString:function(){return"CodeMirror.Pass"}},B={scroll:!1},G={origin:"*mouse"},W={origin:"+move"};function V(e,t,i){for(var n=0,r=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var s=o-n;if(o==e.length||r+s>=t)return n+Math.min(s,t-r);if(r+=o-n,n=o+1,(r+=i-r%i)>=t)return n}}var U=[""];function Y(e){for(;U.length<=e;)U.push(X(U)+" ");return U[e]}function X(e){return e[e.length-1]}function K(e,t){for(var i=[],n=0;n<e.length;n++)i[n]=t(e[n],n);return i}function Z(){}function J(e,t){var i;return Object.create?i=Object.create(e):(Z.prototype=e,i=new Z),t&&M(t,i),i}var Q=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ee(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Q.test(e))}function te(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ee(e))||t.test(e):ee(e)}function ie(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ne=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function re(e){return e.charCodeAt(0)>=768&&ne.test(e)}function oe(e,t,i){for(;(i<0?t>0:t<e.length)&&re(e.charAt(t));)t+=i;return t}function se(e,t,i){for(var n=t>i?-1:1;;){if(t==i)return t;var r=(t+i)/2,o=n<0?Math.ceil(r):Math.floor(r);if(o==t)return e(o)?t:i;e(o)?i=o:t=o+n}}function ae(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var i=e;!i.lines;)for(var n=0;;++n){var r=i.children[n],o=r.chunkSize();if(t<o){i=r;break}t-=o}return i.lines[t]}function le(e,t,i){var n=[],r=t.line;return e.iter(t.line,i.line+1,function(e){var o=e.text;r==i.line&&(o=o.slice(0,i.ch)),r==t.line&&(o=o.slice(t.ch)),n.push(o),++r}),n}function ce(e,t,i){var n=[];return e.iter(t,i,function(e){n.push(e.text)}),n}function de(e,t){var i=t-e.height;if(i)for(var n=e;n;n=n.parent)n.height+=i}function ue(e){if(null==e.parent)return null;for(var t=e.parent,i=q(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var r=0;n.children[r]!=t;++r)i+=n.children[r].chunkSize();return i+t.first}function he(e,t){var i=e.first;e:do{for(var n=0;n<e.children.length;++n){var r=e.children[n],o=r.height;if(t<o){e=r;continue e}t-=o,i+=r.chunkSize()}return i}while(!e.lines);for(var s=0;s<e.lines.length;++s){var a=e.lines[s].height;if(t<a)break;t-=a}return i+s}function pe(e,t){return t>=e.first&&t<e.first+e.size}function fe(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ge(e,t,i){if(void 0===i&&(i=null),!(this instanceof ge))return new ge(e,t,i);this.line=e,this.ch=t,this.sticky=i}function me(e,t){return e.line-t.line||e.ch-t.ch}function ve(e,t){return e.sticky==t.sticky&&0==me(e,t)}function be(e){return ge(e.line,e.ch)}function ye(e,t){return me(e,t)<0?t:e}function we(e,t){return me(e,t)<0?e:t}function xe(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Ce(e,t){if(t.line<e.first)return ge(e.first,0);var i=e.first+e.size-1;return t.line>i?ge(i,ae(e,i).text.length):function(e,t){var i=e.ch;return null==i||i>t?ge(e.line,t):i<0?ge(e.line,0):e}(t,ae(e,t.line).text.length)}function ke(e,t){for(var i=[],n=0;n<t.length;n++)i[n]=Ce(e,t[n]);return i}var Se=!1,$e=!1;function De(e,t,i){this.marker=e,this.from=t,this.to=i}function Te(e,t){if(e)for(var i=0;i<e.length;++i){var n=e[i];if(n.marker==t)return n}}function _e(e,t){for(var i,n=0;n<e.length;++n)e[n]!=t&&(i||(i=[])).push(e[n]);return i}function je(e,t){if(t.full)return null;var i=pe(e,t.from.line)&&ae(e,t.from.line).markedSpans,n=pe(e,t.to.line)&&ae(e,t.to.line).markedSpans;if(!i&&!n)return null;var r=t.from.ch,o=t.to.ch,s=0==me(t.from,t.to),a=function(e,t,i){var n;if(e)for(var r=0;r<e.length;++r){var o=e[r],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==s.type&&(!i||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new De(s,o.from,a?null:o.to))}}return n}(i,r,s),l=function(e,t,i){var n;if(e)for(var r=0;r<e.length;++r){var o=e[r],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==s.type&&(!i||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new De(s,a?null:o.from-t,null==o.to?null:o.to-t))}}return n}(n,o,s),c=1==t.text.length,d=X(t.text).length+(c?r:0);if(a)for(var u=0;u<a.length;++u){var h=a[u];if(null==h.to){var p=Te(l,h.marker);p?c&&(h.to=null==p.to?null:p.to+d):h.to=r}}if(l)for(var f=0;f<l.length;++f){var g=l[f];if(null!=g.to&&(g.to+=d),null==g.from)Te(a,g.marker)||(g.from=d,c&&(a||(a=[])).push(g));else g.from+=d,c&&(a||(a=[])).push(g)}a&&(a=Ae(a)),l&&l!=a&&(l=Ae(l));var m=[a];if(!c){var v,b=t.text.length-2;if(b>0&&a)for(var y=0;y<a.length;++y)null==a[y].to&&(v||(v=[])).push(new De(a[y].marker,null,null));for(var w=0;w<b;++w)m.push(v);m.push(l)}return m}function Ae(e){for(var t=0;t<e.length;++t){var i=e[t];null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Fe(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function Ne(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function Ie(e){return e.inclusiveLeft?-1:0}function Oe(e){return e.inclusiveRight?1:0}function Re(e,t){var i=e.lines.length-t.lines.length;if(0!=i)return i;var n=e.find(),r=t.find(),o=me(n.from,r.from)||Ie(e)-Ie(t);if(o)return-o;var s=me(n.to,r.to)||Oe(e)-Oe(t);return s||t.id-e.id}function Ee(e,t){var i,n=$e&&e.markedSpans;if(n)for(var r=void 0,o=0;o<n.length;++o)(r=n[o]).marker.collapsed&&null==(t?r.from:r.to)&&(!i||Re(i,r.marker)<0)&&(i=r.marker);return i}function Me(e){return Ee(e,!0)}function Pe(e){return Ee(e,!1)}function Le(e,t){var i,n=$e&&e.markedSpans;if(n)for(var r=0;r<n.length;++r){var o=n[r];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!i||Re(i,o.marker)<0)&&(i=o.marker)}return i}function qe(e,t,i,n,r){var o=ae(e,t),s=$e&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),d=me(c.from,i)||Ie(l.marker)-Ie(r),u=me(c.to,n)||Oe(l.marker)-Oe(r);if(!(d>=0&&u<=0||d<=0&&u>=0)&&(d<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?me(c.to,i)>=0:me(c.to,i)>0)||d>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?me(c.from,n)<=0:me(c.from,n)<0)))return!0}}}function ze(e){for(var t;t=Me(e);)e=t.find(-1,!0).line;return e}function He(e,t){var i=ae(e,t),n=ze(i);return i==n?t:ue(n)}function Be(e,t){if(t>e.lastLine())return t;var i,n=ae(e,t);if(!Ge(e,n))return t;for(;i=Pe(n);)n=i.find(1,!0).line;return ue(n)+1}function Ge(e,t){var i=$e&&t.markedSpans;if(i)for(var n=void 0,r=0;r<i.length;++r)if((n=i[r]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&We(e,t,n))return!0}}function We(e,t,i){if(null==i.to){var n=i.marker.find(1,!0);return We(e,n.line,Te(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(var r=void 0,o=0;o<t.markedSpans.length;++o)if((r=t.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(null==r.to||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&We(e,t,r))return!0}function Ve(e){for(var t=0,i=(e=ze(e)).parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==e)break;t+=r.height}for(var o=i.parent;o;o=(i=o).parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==i)break;t+=a.height}return t}function Ue(e){if(0==e.height)return 0;for(var t,i=e.text.length,n=e;t=Me(n);){var r=t.find(0,!0);n=r.from.line,i+=r.from.ch-r.to.ch}for(n=e;t=Pe(n);){var o=t.find(0,!0);i-=n.text.length-o.from.ch,i+=(n=o.to.line).text.length-o.to.ch}return i}function Ye(e){var t=e.display,i=e.doc;t.maxLine=ae(i,i.first),t.maxLineLength=Ue(t.maxLine),t.maxLineChanged=!0,i.iter(function(e){var i=Ue(e);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=e)})}var Xe=null;function Ke(e,t,i){var n;Xe=null;for(var r=0;r<e.length;++r){var o=e[r];if(o.from<t&&o.to>t)return r;o.to==t&&(o.from!=o.to&&"before"==i?n=r:Xe=r),o.from==t&&(o.from!=o.to&&"before"!=i?n=r:Xe=r)}return null!=n?n:Xe}var Ze=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";var i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,n=/[stwN]/,r=/[LRr]/,o=/[Lb1n]/,s=/[1n]/;function a(e,t,i){this.level=e,this.from=t,this.to=i}return function(l,c){var d="ltr"==c?"L":"R";if(0==l.length||"ltr"==c&&!i.test(l))return!1;for(var u,h=l.length,p=[],f=0;f<h;++f)p.push((u=l.charCodeAt(f))<=247?e.charAt(u):1424<=u&&u<=1524?"R":1536<=u&&u<=1785?t.charAt(u-1536):1774<=u&&u<=2220?"r":8192<=u&&u<=8203?"w":8204==u?"b":"L");for(var g=0,m=d;g<h;++g){var v=p[g];"m"==v?p[g]=m:m=v}for(var b=0,y=d;b<h;++b){var w=p[b];"1"==w&&"r"==y?p[b]="n":r.test(w)&&(y=w,"r"==w&&(p[b]="R"))}for(var x=1,C=p[0];x<h-1;++x){var k=p[x];"+"==k&&"1"==C&&"1"==p[x+1]?p[x]="1":","!=k||C!=p[x+1]||"1"!=C&&"n"!=C||(p[x]=C),C=k}for(var S=0;S<h;++S){var $=p[S];if(","==$)p[S]="N";else if("%"==$){var D=void 0;for(D=S+1;D<h&&"%"==p[D];++D);for(var T=S&&"!"==p[S-1]||D<h&&"1"==p[D]?"1":"N",_=S;_<D;++_)p[_]=T;S=D-1}}for(var j=0,A=d;j<h;++j){var F=p[j];"L"==A&&"1"==F?p[j]="L":r.test(F)&&(A=F)}for(var N=0;N<h;++N)if(n.test(p[N])){var I=void 0;for(I=N+1;I<h&&n.test(p[I]);++I);for(var O="L"==(N?p[N-1]:d),R=O==("L"==(I<h?p[I]:d))?O?"L":"R":d,E=N;E<I;++E)p[E]=R;N=I-1}for(var M,P=[],L=0;L<h;)if(o.test(p[L])){var q=L;for(++L;L<h&&o.test(p[L]);++L);P.push(new a(0,q,L))}else{var z=L,H=P.length;for(++L;L<h&&"L"!=p[L];++L);for(var B=z;B<L;)if(s.test(p[B])){z<B&&P.splice(H,0,new a(1,z,B));var G=B;for(++B;B<L&&s.test(p[B]);++B);P.splice(H,0,new a(2,G,B)),z=B}else++B;z<L&&P.splice(H,0,new a(1,z,L))}return"ltr"==c&&(1==P[0].level&&(M=l.match(/^\s+/))&&(P[0].from=M[0].length,P.unshift(new a(0,0,M[0].length))),1==X(P).level&&(M=l.match(/\s+$/))&&(X(P).to-=M[0].length,P.push(new a(0,h-M[0].length,h)))),"rtl"==c?P.reverse():P}}();function Je(e,t){var i=e.order;return null==i&&(i=e.order=Ze(e.text,t)),i}var Qe=[],et=function(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||Qe).concat(i)}};function tt(e,t){return e._handlers&&e._handlers[t]||Qe}function it(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else{var n=e._handlers,r=n&&n[t];if(r){var o=q(r,i);o>-1&&(n[t]=r.slice(0,o).concat(r.slice(o+1)))}}}function nt(e,t){var i=tt(e,t);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)}function rt(e,t,i){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),nt(e,i||t.type,e,t),dt(t)||t.codemirrorIgnore}function ot(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var i=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==q(i,t[n])&&i.push(t[n])}function st(e,t){return tt(e,t).length>0}function at(e){e.prototype.on=function(e,t){et(this,e,t)},e.prototype.off=function(e,t){it(this,e,t)}}function lt(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function ct(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function dt(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ut(e){lt(e),ct(e)}function ht(e){return e.target||e.srcElement}function pt(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),b&&e.ctrlKey&&1==t&&(t=3),t}var ft,gt,mt=function(){if(s&&a<9)return!1;var e=j("div");return"draggable"in e||"dragDrop"in e}();function vt(e){if(null==ft){var t=j("span","​");_(e,j("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(ft=t.offsetWidth<=1&&t.offsetHeight>2&&!(s&&a<8))}var i=ft?j("span","​"):j("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function bt(e){if(null!=gt)return gt;var t=_(e,document.createTextNode("AخA")),i=$(t,0,1).getBoundingClientRect(),n=$(t,1,2).getBoundingClientRect();return T(e),!(!i||i.left==i.right)&&(gt=n.right-i.right<3)}var yt,wt=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,i=[],n=e.length;t<=n;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(i.push(o.slice(0,s)),t+=s+1):(i.push(o),t=r+1)}return i}:function(e){return e.split(/\r\n?|\n/)},xt=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ct="oncopy"in(yt=j("div"))||(yt.setAttribute("oncopy","return;"),"function"==typeof yt.oncopy),kt=null;var St={},$t={};function Dt(e){if("string"==typeof e&&$t.hasOwnProperty(e))e=$t[e];else if(e&&"string"==typeof e.name&&$t.hasOwnProperty(e.name)){var t=$t[e.name];"string"==typeof t&&(t={name:t}),(e=J(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Dt("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Dt("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Tt(e,t){t=Dt(t);var i=St[t.name];if(!i)return Tt(e,"text/plain");var n=i(e,t);if(_t.hasOwnProperty(t.name)){var r=_t[t.name];for(var o in r)r.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=r[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)n[s]=t.modeProps[s];return n}var _t={};function jt(e,t){M(t,_t.hasOwnProperty(e)?_t[e]:_t[e]={})}function At(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var i={};for(var n in t){var r=t[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i}function Ft(e,t){for(var i;e.innerMode&&(i=e.innerMode(t))&&i.mode!=e;)t=i.state,e=i.mode;return i||{mode:e,state:t}}function Nt(e,t,i){return!e.startState||e.startState(t,i)}var It=function(e,t,i){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};It.prototype.eol=function(){return this.pos>=this.string.length},It.prototype.sol=function(){return this.pos==this.lineStart},It.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},It.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},It.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},It.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},It.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},It.prototype.skipToEnd=function(){this.pos=this.string.length},It.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},It.prototype.backUp=function(e){this.pos-=e},It.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=P(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?P(this.string,this.lineStart,this.tabSize):0)},It.prototype.indentation=function(){return P(this.string,null,this.tabSize)-(this.lineStart?P(this.string,this.lineStart,this.tabSize):0)},It.prototype.match=function(e,t,i){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var r=function(e){return i?e.toLowerCase():e};if(r(this.string.substr(this.pos,e.length))==r(e))return!1!==t&&(this.pos+=e.length),!0},It.prototype.current=function(){return this.string.slice(this.start,this.pos)},It.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},It.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},It.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var Ot=function(e,t){this.state=e,this.lookAhead=t},Rt=function(e,t,i,n){this.state=t,this.doc=e,this.line=i,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function Et(e,t,i,n){var r=[e.state.modeGen],o={};Wt(e,t.text,e.doc.mode,i,function(e,t){return r.push(e,t)},o,n);for(var s=i.state,a=function(n){i.baseTokens=r;var a=e.state.overlays[n],l=1,c=0;i.state=!0,Wt(e,t.text,a.mode,i,function(e,t){for(var i=l;c<e;){var n=r[l];n>e&&r.splice(l,1,e,r[l+1],n),l+=2,c=Math.min(e,n)}if(t)if(a.opaque)r.splice(i,l-i,e,"overlay "+t),l=i+2;else for(;i<l;i+=2){var o=r[i+1];r[i+1]=(o?o+" ":"")+"overlay "+t}},o),i.state=s,i.baseTokens=null,i.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)a(l);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function Mt(e,t,i){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Pt(e,ue(t)),r=t.text.length>e.options.maxHighlightLength&&At(e.doc.mode,n.state),o=Et(e,t,n);r&&(n.state=r),t.stateAfter=n.save(!r),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),i===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Pt(e,t,i){var n=e.doc,r=e.display;if(!n.mode.startState)return new Rt(n,!0,t);var o=function(e,t,i){for(var n,r,o=e.doc,s=i?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=ae(o,a-1),c=l.stateAfter;if(c&&(!i||a+(c instanceof Ot?c.lookAhead:0)<=o.modeFrontier))return a;var d=P(l.text,null,e.options.tabSize);(null==r||n>d)&&(r=a-1,n=d)}return r}(e,t,i),s=o>n.first&&ae(n,o-1).stateAfter,a=s?Rt.fromSaved(n,s,o):new Rt(n,Nt(n.mode),o);return n.iter(o,t,function(i){Lt(e,i.text,a);var n=a.line;i.stateAfter=n==t-1||n%5==0||n>=r.viewFrom&&n<r.viewTo?a.save():null,a.nextLine()}),i&&(n.modeFrontier=a.line),a}function Lt(e,t,i,n){var r=e.doc.mode,o=new It(t,e.options.tabSize,i);for(o.start=o.pos=n||0,""==t&&qt(r,i.state);!o.eol();)zt(r,o,i.state),o.start=o.pos}function qt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var i=Ft(e,t);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function zt(e,t,i,n){for(var r=0;r<10;r++){n&&(n[0]=Ft(e,i).mode);var o=e.token(t,i);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}Rt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Rt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Rt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Rt.fromSaved=function(e,t,i){return t instanceof Ot?new Rt(e,At(e.mode,t.state),i,t.lookAhead):new Rt(e,At(e.mode,t),i)},Rt.prototype.save=function(e){var t=!1!==e?At(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ot(t,this.maxLookAhead):t};var Ht=function(e,t,i){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=i};function Bt(e,t,i,n){var r,o,s=e.doc,a=s.mode,l=ae(s,(t=Ce(s,t)).line),c=Pt(e,t.line,i),d=new It(l.text,e.options.tabSize,c);for(n&&(o=[]);(n||d.pos<t.ch)&&!d.eol();)d.start=d.pos,r=zt(a,d,c.state),n&&o.push(new Ht(d,r,At(s.mode,c.state)));return n?o:new Ht(d,r,c.state)}function Gt(e,t){if(e)for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==t[n]?t[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+i[2])}return e}function Wt(e,t,i,n,r,o,s){var a=i.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,d=null,u=new It(t,e.options.tabSize,n),h=e.options.addModeClass&&[null];for(""==t&&Gt(qt(i,n.state),o);!u.eol();){if(u.pos>e.options.maxHighlightLength?(a=!1,s&&Lt(e,t,n,u.pos),u.pos=t.length,l=null):l=Gt(zt(i,u,n.state,h),o),h){var p=h[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!a||d!=l){for(;c<u.start;)r(c=Math.min(u.start,c+5e3),d);d=l}u.start=u.pos}for(;c<u.pos;){var f=Math.min(u.pos,c+5e3);r(f,d),c=f}}var Vt=function(e,t,i){this.text=e,Ne(this,t),this.height=i?i(this):1};function Ut(e){e.parent=null,Fe(e)}Vt.prototype.lineNo=function(){return ue(this)},at(Vt);var Yt={},Xt={};function Kt(e,t){if(!e||/^\s*$/.test(e))return null;var i=t.addModeClass?Xt:Yt;return i[e]||(i[e]=e.replace(/\S+/g,"cm-$&"))}function Zt(e,t){var i=A("span",null,null,l?"padding-right: .1px":null),n={pre:A("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o=r?t.rest[r-1]:t.line,s=void 0;n.pos=0,n.addToken=Qt,bt(e.display.measure)&&(s=Je(o,e.doc.direction))&&(n.addToken=ei(n.addToken,s)),n.map=[],ii(o,n,Mt(e,o,t!=e.display.externalMeasured&&ue(o))),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=O(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=O(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(vt(e.display.measure))),0==r?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var a=n.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return nt(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=O(n.pre.className,n.textClass||"")),n}function Jt(e){var t=j("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Qt(e,t,i,n,r,o,l){if(t){var c,d=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var i=t,n="",r=0;r<e.length;r++){var o=e.charAt(r);" "!=o||!i||r!=e.length-1&&32!=e.charCodeAt(r+1)||(o=" "),n+=o,i=" "==o}return n}(t,e.trailingSpace):t,u=e.cm.state.specialChars,h=!1;if(u.test(t)){c=document.createDocumentFragment();for(var p=0;;){u.lastIndex=p;var f=u.exec(t),g=f?f.index-p:t.length-p;if(g){var m=document.createTextNode(d.slice(p,p+g));s&&a<9?c.appendChild(j("span",[m])):c.appendChild(m),e.map.push(e.pos,e.pos+g,m),e.col+=g,e.pos+=g}if(!f)break;p+=g+1;var v=void 0;if("\t"==f[0]){var b=e.cm.options.tabSize,y=b-e.col%b;(v=c.appendChild(j("span",Y(y),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=y}else"\r"==f[0]||"\n"==f[0]?((v=c.appendChild(j("span","\r"==f[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",f[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(f[0])).setAttribute("cm-text",f[0]),s&&a<9?c.appendChild(j("span",[v])):c.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,c=document.createTextNode(d),e.map.push(e.pos,e.pos+t.length,c),s&&a<9&&(h=!0),e.pos+=t.length;if(e.trailingSpace=32==d.charCodeAt(t.length-1),i||n||r||h||o){var w=i||"";n&&(w+=n),r&&(w+=r);var x=j("span",[c],w,o);if(l)for(var C in l)l.hasOwnProperty(C)&&"style"!=C&&"class"!=C&&x.setAttribute(C,l[C]);return e.content.appendChild(x)}e.content.appendChild(c)}}function ei(e,t){return function(i,n,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=i.pos,d=c+n.length;;){for(var u=void 0,h=0;h<t.length&&!((u=t[h]).to>c&&u.from<=c);h++);if(u.to>=d)return e(i,n,r,o,s,a,l);e(i,n.slice(0,u.to-c),r,o,null,a,l),o=null,n=n.slice(u.to-c),c=u.to}}}function ti(e,t,i,n){var r=!n&&i.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!n&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",i.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function ii(e,t,i){var n=e.markedSpans,r=e.text,o=0;if(n)for(var s,a,l,c,d,u,h,p=r.length,f=0,g=1,m="",v=0;;){if(v==f){l=c=d=a="",h=null,u=null,v=1/0;for(var b=[],y=void 0,w=0;w<n.length;++w){var x=n[w],C=x.marker;if("bookmark"==C.type&&x.from==f&&C.widgetNode)b.push(C);else if(x.from<=f&&(null==x.to||x.to>f||C.collapsed&&x.to==f&&x.from==f)){if(null!=x.to&&x.to!=f&&v>x.to&&(v=x.to,c=""),C.className&&(l+=" "+C.className),C.css&&(a=(a?a+";":"")+C.css),C.startStyle&&x.from==f&&(d+=" "+C.startStyle),C.endStyle&&x.to==v&&(y||(y=[])).push(C.endStyle,x.to),C.title&&((h||(h={})).title=C.title),C.attributes)for(var k in C.attributes)(h||(h={}))[k]=C.attributes[k];C.collapsed&&(!u||Re(u.marker,C)<0)&&(u=x)}else x.from>f&&v>x.from&&(v=x.from)}if(y)for(var S=0;S<y.length;S+=2)y[S+1]==v&&(c+=" "+y[S]);if(!u||u.from==f)for(var $=0;$<b.length;++$)ti(t,0,b[$]);if(u&&(u.from||0)==f){if(ti(t,(null==u.to?p+1:u.to)-f,u.marker,null==u.from),null==u.to)return;u.to==f&&(u=!1)}}if(f>=p)break;for(var D=Math.min(p,v);;){if(m){var T=f+m.length;if(!u){var _=T>D?m.slice(0,D-f):m;t.addToken(t,_,s?s+l:l,d,f+_.length==v?c:"",a,h)}if(T>=D){m=m.slice(D-f),f=D;break}f=T,d=""}m=r.slice(o,o=i[g++]),s=Kt(i[g++],t.cm.options)}}else for(var j=1;j<i.length;j+=2)t.addToken(t,r.slice(o,o=i[j]),Kt(i[j+1],t.cm.options))}function ni(e,t,i){this.line=t,this.rest=function(e){for(var t,i;t=Pe(e);)e=t.find(1,!0).line,(i||(i=[])).push(e);return i}(t),this.size=this.rest?ue(X(this.rest))-i+1:1,this.node=this.text=null,this.hidden=Ge(e,t)}function ri(e,t,i){for(var n,r=[],o=t;o<i;o=n){var s=new ni(e.doc,ae(e.doc,o),o);n=o+s.size,r.push(s)}return r}var oi=null;var si=null;function ai(e,t){var i=tt(e,t);if(i.length){var n,r=Array.prototype.slice.call(arguments,2);oi?n=oi.delayedCallbacks:si?n=si:(n=si=[],setTimeout(li,0));for(var o=function(e){n.push(function(){return i[e].apply(null,r)})},s=0;s<i.length;++s)o(s)}}function li(){var e=si;si=null;for(var t=0;t<e.length;++t)e[t]()}function ci(e,t,i,n){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?hi(e,t):"gutter"==o?fi(e,t,i,n):"class"==o?pi(e,t):"widget"==o&&gi(e,t,n)}t.changes=null}function di(e){return e.node==e.text&&(e.node=j("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),s&&a<8&&(e.node.style.zIndex=2)),e.node}function ui(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):Zt(e,t)}function hi(e,t){var i=t.text.className,n=ui(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,pi(e,t)):i&&(t.text.className=i)}function pi(e,t){!function(e,t){var i=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),t.background)i?t.background.className=i:(t.background.parentNode.removeChild(t.background),t.background=null);else if(i){var n=di(t);t.background=n.insertBefore(j("div",null,i),n.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?di(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var i=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=i||""}function fi(e,t,i,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=di(t);t.gutterBackground=j("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),r.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var s=di(t),a=t.gutter=j("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(j("div",fe(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.options.gutters.length;++l){var c=e.options.gutters[l],d=o.hasOwnProperty(c)&&o[c];d&&a.appendChild(j("div",[d],"CodeMirror-gutter-elt","left: "+n.gutterLeft[c]+"px; width: "+n.gutterWidth[c]+"px"))}}}function gi(e,t,i){t.alignable&&(t.alignable=null);for(var n=t.node.firstChild,r=void 0;n;n=r)r=n.nextSibling,"CodeMirror-linewidget"==n.className&&t.node.removeChild(n);vi(e,t,i)}function mi(e,t,i,n){var r=ui(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),pi(e,t),fi(e,t,i,n),vi(e,t,n),t.node}function vi(e,t,i){if(bi(e,t.line,t,i,!0),t.rest)for(var n=0;n<t.rest.length;n++)bi(e,t.rest[n],t,i,!1)}function bi(e,t,i,n,r){if(t.widgets)for(var o=di(i),s=0,a=t.widgets;s<a.length;++s){var l=a[s],c=j("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),yi(l,c,i,n),e.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,i.gutter||i.text):o.appendChild(c),ai(l,"redraw")}}function yi(e,t,i,n){if(e.noHScroll){(i.alignable||(i.alignable=[])).push(t);var r=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(r-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function wi(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!F(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),_(t.display.measure,j("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function xi(e,t){for(var i=ht(t);i!=e.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==e.sizer&&i!=e.mover)return!0}function Ci(e){return e.lineSpace.offsetTop}function ki(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Si(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=_(e.measure,j("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function $i(e){return z-e.display.nativeBarWidth}function Di(e){return e.display.scroller.clientWidth-$i(e)-e.display.barWidth}function Ti(e){return e.display.scroller.clientHeight-$i(e)-e.display.barHeight}function _i(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var r=0;r<e.rest.length;r++)if(ue(e.rest[r])>i)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function ji(e,t,i,n){return Ni(e,Fi(e,t),i,n)}function Ai(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[ln(e,t)];var i=e.display.externalMeasured;return i&&t>=i.lineN&&t<i.lineN+i.size?i:void 0}function Fi(e,t){var i=ue(t),n=Ai(e,i);n&&!n.text?n=null:n&&n.changes&&(ci(e,n,i,nn(e)),e.curOp.forceUpdate=!0),n||(n=function(e,t){var i=ue(t=ze(t)),n=e.display.externalMeasured=new ni(e.doc,t,i);n.lineN=i;var r=n.built=Zt(e,n);return n.text=r.pre,_(e.display.lineMeasure,r.pre),n}(e,t));var r=_i(n,t,i);return{line:t,view:n,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Ni(e,t,i,n,r){t.before&&(i=-1);var o,l=i+(n||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(!function(e,t,i){var n=e.options.lineWrapping,r=n&&Di(e);if(!t.measure.heights||n&&t.measure.width!=r){var o=t.measure.heights=[];if(n){t.measure.width=r;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-i.top)}}o.push(i.bottom-i.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,i,n){var r,o=Ri(t.map,i,n),l=o.node,c=o.start,d=o.end,u=o.collapse;if(3==l.nodeType){for(var h=0;h<4;h++){for(;c&&re(t.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+d<o.coverEnd&&re(t.line.text.charAt(o.coverStart+d));)++d;if((r=s&&a<9&&0==c&&d==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Ei($(l,c,d).getClientRects(),n)).left||r.right||0==c)break;d=c,c-=1,u="right"}s&&a<11&&(r=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=kt)return kt;var t=_(e,j("span","x")),i=t.getBoundingClientRect(),n=$(t,0,1).getBoundingClientRect();return kt=Math.abs(i.left-n.left)>1}(e))return t;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*i,right:t.right*i,top:t.top*n,bottom:t.bottom*n}}(e.display.measure,r))}else{var p;c>0&&(u=n="right"),r=e.options.lineWrapping&&(p=l.getClientRects()).length>1?p["right"==n?p.length-1:0]:l.getBoundingClientRect()}if(s&&a<9&&!c&&(!r||!r.left&&!r.right)){var f=l.parentNode.getClientRects()[0];r=f?{left:f.left,right:f.left+tn(e.display),top:f.top,bottom:f.bottom}:Oi}for(var g=r.top-t.rect.top,m=r.bottom-t.rect.top,v=(g+m)/2,b=t.view.measure.heights,y=0;y<b.length-1&&!(v<b[y]);y++);var w=y?b[y-1]:0,x=b[y],C={left:("right"==u?r.right:r.left)-t.rect.left,right:("left"==u?r.left:r.right)-t.rect.left,top:w,bottom:x};r.left||r.right||(C.bogus=!0);e.options.singleCursorHeightPerLine||(C.rtop=g,C.rbottom=m);return C}(e,t,i,n)).bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var Ii,Oi={left:0,right:0,top:0,bottom:0};function Ri(e,t,i){for(var n,r,o,s,a,l,c=0;c<e.length;c+=3)if(a=e[c],l=e[c+1],t<a?(r=0,o=1,s="left"):t<l?o=(r=t-a)+1:(c==e.length-3||t==l&&e[c+3]>t)&&(r=(o=l-a)-1,t>=l&&(s="right")),null!=r){if(n=e[c+2],a==l&&i==(n.insertLeft?"left":"right")&&(s=i),"left"==i&&0==r)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)n=e[2+(c-=3)],s="left";if("right"==i&&r==l-a)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)n=e[(c+=3)+2],s="right";break}return{node:n,start:r,end:o,collapse:s,coverStart:a,coverEnd:l}}function Ei(e,t){var i=Oi;if("left"==t)for(var n=0;n<e.length&&(i=e[n]).left==i.right;n++);else for(var r=e.length-1;r>=0&&(i=e[r]).left==i.right;r--);return i}function Mi(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Pi(e){e.display.externalMeasure=null,T(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Mi(e.display.view[t])}function Li(e){Pi(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function qi(){return d&&m?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function zi(){return d&&m?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Hi(e){var t=0;if(e.widgets)for(var i=0;i<e.widgets.length;++i)e.widgets[i].above&&(t+=wi(e.widgets[i]));return t}function Bi(e,t,i,n,r){if(!r){var o=Hi(t);i.top+=o,i.bottom+=o}if("line"==n)return i;n||(n="local");var s=Ve(t);if("local"==n?s+=Ci(e.display):s-=e.display.viewOffset,"page"==n||"window"==n){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==n?0:zi());var l=a.left+("window"==n?0:qi());i.left+=l,i.right+=l}return i.top+=s,i.bottom+=s,i}function Gi(e,t,i){if("div"==i)return t;var n=t.left,r=t.top;if("page"==i)n-=qi(),r-=zi();else if("local"==i||!i){var o=e.display.sizer.getBoundingClientRect();n+=o.left,r+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:n-s.left,top:r-s.top}}function Wi(e,t,i,n,r){return n||(n=ae(e.doc,t.line)),Bi(e,n,ji(e,n,t.ch,r),i)}function Vi(e,t,i,n,r,o){function s(t,s){var a=Ni(e,r,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,Bi(e,n,a,i)}n=n||ae(e.doc,t.line),r||(r=Fi(e,n));var a=Je(n,e.doc.direction),l=t.ch,c=t.sticky;if(l>=n.text.length?(l=n.text.length,c="before"):l<=0&&(l=0,c="after"),!a)return s("before"==c?l-1:l,"before"==c);function d(e,t,i){var n=1==a[t].level;return s(i?e-1:e,n!=i)}var u=Ke(a,l,c),h=Xe,p=d(l,u,"before"==c);return null!=h&&(p.other=d(l,h,"before"!=c)),p}function Ui(e,t){var i=0;t=Ce(e.doc,t),e.options.lineWrapping||(i=tn(e.display)*t.ch);var n=ae(e.doc,t.line),r=Ve(n)+Ci(e.display);return{left:i,right:i,top:r,bottom:r+n.height}}function Yi(e,t,i,n,r){var o=ge(e,t,i);return o.xRel=r,n&&(o.outside=!0),o}function Xi(e,t,i){var n=e.doc;if((i+=e.display.viewOffset)<0)return Yi(n.first,0,null,!0,-1);var r=he(n,i),o=n.first+n.size-1;if(r>o)return Yi(n.first+n.size-1,ae(n,o).text.length,null,!0,1);t<0&&(t=0);for(var s=ae(n,r);;){var a=Qi(e,s,r,t,i),l=Le(s,a.ch+(a.xRel>0?1:0));if(!l)return a;var c=l.find(1);if(c.line==r)return c;s=ae(n,r=c.line)}}function Ki(e,t,i,n){n-=Hi(t);var r=t.text.length,o=se(function(t){return Ni(e,i,t-1).bottom<=n},r,0);return{begin:o,end:r=se(function(t){return Ni(e,i,t).top>n},o,r)}}function Zi(e,t,i,n){return i||(i=Fi(e,t)),Ki(e,t,i,Bi(e,t,Ni(e,i,n),"line").top)}function Ji(e,t,i,n){return!(e.bottom<=i)&&(e.top>i||(n?e.left:e.right)>t)}function Qi(e,t,i,n,r){r-=Ve(t);var o=Fi(e,t),s=Hi(t),a=0,l=t.text.length,c=!0,d=Je(t,e.doc.direction);if(d){var u=(e.options.lineWrapping?function(e,t,i,n,r,o,s){var a=Ki(e,t,n,s),l=a.begin,c=a.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var d=null,u=null,h=0;h<r.length;h++){var p=r[h];if(!(p.from>=c||p.to<=l)){var f=1!=p.level,g=Ni(e,n,f?Math.min(c,p.to)-1:Math.max(l,p.from)).right,m=g<o?o-g+1e9:g-o;(!d||u>m)&&(d=p,u=m)}}d||(d=r[r.length-1]);d.from<l&&(d={from:l,to:d.to,level:d.level});d.to>c&&(d={from:d.from,to:c,level:d.level});return d}:function(e,t,i,n,r,o,s){var a=se(function(a){var l=r[a],c=1!=l.level;return Ji(Vi(e,ge(i,c?l.to:l.from,c?"before":"after"),"line",t,n),o,s,!0)},0,r.length-1),l=r[a];if(a>0){var c=1!=l.level,d=Vi(e,ge(i,c?l.from:l.to,c?"after":"before"),"line",t,n);Ji(d,o,s,!0)&&d.top>s&&(l=r[a-1])}return l})(e,t,i,o,d,n,r);a=(c=1!=u.level)?u.from:u.to-1,l=c?u.to:u.from-1}var h,p,f=null,g=null,m=se(function(t){var i=Ni(e,o,t);return i.top+=s,i.bottom+=s,!!Ji(i,n,r,!1)&&(i.top<=r&&i.left<=n&&(f=t,g=i),!0)},a,l),v=!1;if(g){var b=n-g.left<g.right-n,y=b==c;m=f+(y?0:1),p=y?"after":"before",h=b?g.left:g.right}else{c||m!=l&&m!=a||m++,p=0==m?"after":m==t.text.length?"before":Ni(e,o,m-(c?1:0)).bottom+s<=r==c?"after":"before";var w=Vi(e,ge(i,m,p),"line",t,o);h=w.left,v=r<w.top||r>=w.bottom}return Yi(i,m=oe(t.text,m,1),p,v,n-h)}function en(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ii){Ii=j("pre");for(var t=0;t<49;++t)Ii.appendChild(document.createTextNode("x")),Ii.appendChild(j("br"));Ii.appendChild(document.createTextNode("x"))}_(e.measure,Ii);var i=Ii.offsetHeight/50;return i>3&&(e.cachedTextHeight=i),T(e.measure),i||1}function tn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=j("span","xxxxxxxxxx"),i=j("pre",[t]);_(e.measure,i);var n=t.getBoundingClientRect(),r=(n.right-n.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function nn(e){for(var t=e.display,i={},n={},r=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s)i[e.options.gutters[s]]=o.offsetLeft+o.clientLeft+r,n[e.options.gutters[s]]=o.clientWidth;return{fixedPos:rn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function rn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function on(e){var t=en(e.display),i=e.options.lineWrapping,n=i&&Math.max(5,e.display.scroller.clientWidth/tn(e.display)-3);return function(r){if(Ge(e.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return i?o+(Math.ceil(r.text.length/n)||1)*t:o+t}}function sn(e){var t=e.doc,i=on(e);t.iter(function(e){var t=i(e);t!=e.height&&de(e,t)})}function an(e,t,i,n){var r=e.display;if(!i&&"true"==ht(t).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(t){return null}var l,c=Xi(e,o,s);if(n&&1==c.xRel&&(l=ae(e.doc,c.line).text).length==c.ch){var d=P(l,l.length,e.options.tabSize)-l.length;c=ge(c.line,Math.max(0,Math.round((o-Si(e.display).left)/tn(e.display))-d))}return c}function ln(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var i=e.display.view,n=0;n<i.length;n++)if((t-=i[n].size)<0)return n}function cn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function dn(e,t){void 0===t&&(t=!0);for(var i=e.doc,n={},r=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),s=0;s<i.sel.ranges.length;s++)if(t||s!=i.sel.primIndex){var a=i.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&un(e,a.head,r),l||pn(e,a,o)}}return n}function un(e,t,i){var n=Vi(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=i.appendChild(j("div"," ","CodeMirror-cursor"));if(r.style.left=n.left+"px",r.style.top=n.top+"px",r.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var o=i.appendChild(j("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function hn(e,t){return e.top-t.top||e.left-t.left}function pn(e,t,i){var n=e.display,r=e.doc,o=document.createDocumentFragment(),s=Si(e.display),a=s.left,l=Math.max(n.sizerWidth,Di(e)-n.sizer.offsetLeft)-s.right,c="ltr"==r.direction;function d(e,t,i,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),o.appendChild(j("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==i?l-e:i)+"px;\n                             height: "+(n-t)+"px"))}function u(t,i,n){var o,s,u=ae(r,t),h=u.text.length;function p(i,n){return Wi(e,ge(t,i),"div",u,n)}function f(t,i,n){var r=Zi(e,u,null,t),o="ltr"==i==("after"==n)?"left":"right";return p("after"==n?r.begin:r.end-(/\s/.test(u.text.charAt(r.end-1))?2:1),o)[o]}var g=Je(u,r.direction);return function(e,t,i,n){if(!e)return n(t,i,"ltr",0);for(var r=!1,o=0;o<e.length;++o){var s=e[o];(s.from<i&&s.to>t||t==i&&s.to==t)&&(n(Math.max(s.from,t),Math.min(s.to,i),1==s.level?"rtl":"ltr",o),r=!0)}r||n(t,i,"ltr")}(g,i||0,null==n?h:n,function(e,t,r,u){var m="ltr"==r,v=p(e,m?"left":"right"),b=p(t-1,m?"right":"left"),y=null==i&&0==e,w=null==n&&t==h,x=0==u,C=!g||u==g.length-1;if(b.top-v.top<=3){var k=(c?w:y)&&C,S=(c?y:w)&&x?a:(m?v:b).left,$=k?l:(m?b:v).right;d(S,v.top,$-S,v.bottom)}else{var D,T,_,j;m?(D=c&&y&&x?a:v.left,T=c?l:f(e,r,"before"),_=c?a:f(t,r,"after"),j=c&&w&&C?l:b.right):(D=c?f(e,r,"before"):a,T=!c&&y&&x?l:v.right,_=!c&&w&&C?a:b.left,j=c?f(t,r,"after"):l),d(D,v.top,T-D,v.bottom),v.bottom<b.top&&d(a,v.bottom,null,b.top),d(_,b.top,j-_,b.bottom)}(!o||hn(v,o)<0)&&(o=v),hn(b,o)<0&&(o=b),(!s||hn(v,s)<0)&&(s=v),hn(b,s)<0&&(s=b)}),{start:o,end:s}}var h=t.from(),p=t.to();if(h.line==p.line)u(h.line,h.ch,p.ch);else{var f=ae(r,h.line),g=ae(r,p.line),m=ze(f)==ze(g),v=u(h.line,h.ch,m?f.text.length+1:null).end,b=u(p.line,m?0:null,p.ch).start;m&&(v.top<b.top-2?(d(v.right,v.top,null,v.bottom),d(a,b.top,b.left,b.bottom)):d(v.right,v.top,b.left-v.right,v.bottom)),v.bottom<b.top&&d(a,v.bottom,null,b.top)}i.appendChild(o)}function fn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function gn(e){e.state.focused||(e.display.input.focus(),vn(e))}function mn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,bn(e))},100)}function vn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(nt(e,"focus",e,t),e.state.focused=!0,I(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),fn(e))}function bn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(nt(e,"blur",e,t),e.state.focused=!1,D(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function yn(e){for(var t=e.display,i=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var r=t.view[n],o=e.options.lineWrapping,l=void 0,c=0;if(!r.hidden){if(s&&a<8){var d=r.node.offsetTop+r.node.offsetHeight;l=d-i,i=d}else{var u=r.node.getBoundingClientRect();l=u.bottom-u.top,!o&&r.text.firstChild&&(c=r.text.firstChild.getBoundingClientRect().right-u.left-1)}var h=r.line.height-l;if(l<2&&(l=en(t)),(h>.005||h<-.005)&&(de(r.line,l),wn(r.line),r.rest))for(var p=0;p<r.rest.length;p++)wn(r.rest[p]);if(c>e.display.sizerWidth){var f=Math.ceil(c/tn(e.display));f>e.display.maxLineLength&&(e.display.maxLineLength=f,e.display.maxLine=r.line,e.display.maxLineChanged=!0)}}}}function wn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var i=e.widgets[t],n=i.node.parentNode;n&&(i.height=n.offsetHeight)}}function xn(e,t,i){var n=i&&null!=i.top?Math.max(0,i.top):e.scroller.scrollTop;n=Math.floor(n-Ci(e));var r=i&&null!=i.bottom?i.bottom:n+e.wrapper.clientHeight,o=he(t,n),s=he(t,r);if(i&&i.ensure){var a=i.ensure.from.line,l=i.ensure.to.line;a<o?(o=a,s=he(t,Ve(ae(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(o=he(t,Ve(ae(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function Cn(e){var t=e.display,i=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=rn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=n+"px",s=0;s<i.length;s++)if(!i[s].hidden){e.options.fixedGutter&&(i[s].gutter&&(i[s].gutter.style.left=o),i[s].gutterBackground&&(i[s].gutterBackground.style.left=o));var a=i[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+r+"px")}}function kn(e){if(!e.options.lineNumbers)return!1;var t=e.doc,i=fe(e.options,t.first+t.size-1),n=e.display;if(i.length!=n.lineNumChars){var r=n.measure.appendChild(j("div",[j("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-s)+1,n.lineNumWidth=n.lineNumInnerWidth+s,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",lr(e),!0}return!1}function Sn(e,t){var i=e.display,n=en(e.display);t.top<0&&(t.top=0);var r=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:i.scroller.scrollTop,o=Ti(e),s={};t.bottom-t.top>o&&(t.bottom=t.top+o);var a=e.doc.height+ki(i),l=t.top<n,c=t.bottom>a-n;if(t.top<r)s.scrollTop=l?0:t.top;else if(t.bottom>r+o){var d=Math.min(t.top,(c?a:t.bottom)-o);d!=r&&(s.scrollTop=d)}var u=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:i.scroller.scrollLeft,h=Di(e)-(e.options.fixedGutter?i.gutters.offsetWidth:0),p=t.right-t.left>h;return p&&(t.right=t.left+h),t.left<10?s.scrollLeft=0:t.left<u?s.scrollLeft=Math.max(0,t.left-(p?0:10)):t.right>h+u-3&&(s.scrollLeft=t.right+(p?0:10)-h),s}function $n(e,t){null!=t&&(_n(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Dn(e){_n(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Tn(e,t,i){null==t&&null==i||_n(e),null!=t&&(e.curOp.scrollLeft=t),null!=i&&(e.curOp.scrollTop=i)}function _n(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,jn(e,Ui(e,t.from),Ui(e,t.to),t.margin))}function jn(e,t,i,n){var r=Sn(e,{left:Math.min(t.left,i.left),top:Math.min(t.top,i.top)-n,right:Math.max(t.right,i.right),bottom:Math.max(t.bottom,i.bottom)+n});Tn(e,r.scrollLeft,r.scrollTop)}function An(e,t){Math.abs(e.doc.scrollTop-t)<2||(i||ar(e,{top:t}),Fn(e,t,!0),i&&ar(e),ir(e,100))}function Fn(e,t,i){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||i)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Nn(e,t,i,n){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,Cn(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function In(e){var t=e.display,i=t.gutters.offsetWidth,n=Math.round(e.doc.height+ki(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+$i(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}var On=function(e,t,i){this.cm=i;var n=this.vert=j("div",[j("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=j("div",[j("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=r.tabIndex=-1,e(n),e(r),et(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),et(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};On.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var r=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:t?n:0}},On.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},On.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},On.prototype.zeroWidthHack=function(){var e=b&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new L,this.disableVert=new L},On.prototype.enableZeroWidthBar=function(e,t,i){e.style.pointerEvents="auto",t.set(1e3,function n(){var r=e.getBoundingClientRect();("vert"==i?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)})},On.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Rn=function(){};function En(e,t){t||(t=In(e));var i=e.display.barWidth,n=e.display.barHeight;Mn(e,t);for(var r=0;r<4&&i!=e.display.barWidth||n!=e.display.barHeight;r++)i!=e.display.barWidth&&e.options.lineWrapping&&yn(e),Mn(e,In(e)),i=e.display.barWidth,n=e.display.barHeight}function Mn(e,t){var i=e.display,n=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}Rn.prototype.update=function(){return{bottom:0,right:0}},Rn.prototype.setScrollLeft=function(){},Rn.prototype.setScrollTop=function(){},Rn.prototype.clear=function(){};var Pn={native:On,null:Rn};function Ln(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&D(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Pn[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),et(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,i){"horizontal"==i?Nn(e,t):An(e,t)},e),e.display.scrollbars.addClass&&I(e.display.wrapper,e.display.scrollbars.addClass)}var qn=0;function zn(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++qn},t=e.curOp,oi?oi.ops.push(t):t.ownsGroup=oi={ops:[t],delayedCallbacks:[]}}function Hn(e){var t=e.curOp;t&&function(e,t){var i=e.ownsGroup;if(i)try{!function(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i].call(null);for(var n=0;n<e.ops.length;n++){var r=e.ops[n];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<t.length)}(i)}finally{oi=null,t(i)}}(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,i=0;i<t.length;i++)Bn(t[i]);for(var n=0;n<t.length;n++)(r=t[n]).updatedDisplay=r.mustUpdate&&or(r.cm,r.update);var r;for(var o=0;o<t.length;o++)Gn(t[o]);for(var s=0;s<t.length;s++)Wn(t[s]);for(var a=0;a<t.length;a++)Vn(t[a])}(e)})}function Bn(e){var t=e.cm,i=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=$i(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=$i(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&Ye(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new rr(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Gn(e){var t=e.cm,i=t.display;e.updatedDisplay&&yn(t),e.barMeasure=In(t),i.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=ji(t,i.maxLine,i.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+e.adjustWidthTo+$i(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+e.adjustWidthTo-Di(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=i.input.prepareSelection())}function Wn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Nn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var i=e.focus&&e.focus==N();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,i),(e.updatedDisplay||e.startHeight!=t.doc.height)&&En(t,e.barMeasure),e.updatedDisplay&&cr(t,e.barMeasure),e.selectionChanged&&fn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),i&&gn(e.cm)}function Vn(e){var t=e.cm,i=t.display,n=t.doc;(e.updatedDisplay&&sr(t,e.update),null==i.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null!=e.scrollTop&&Fn(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Nn(t,e.scrollLeft,!0,!0),e.scrollToPos)&&function(e,t){if(!rt(e,"scrollCursorIntoView")){var i=e.display,n=i.sizer.getBoundingClientRect(),r=null;if(t.top+n.top<0?r=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!f){var o=j("div","​",null,"position: absolute;\n                         top: "+(t.top-i.viewOffset-Ci(e.display))+"px;\n                         height: "+(t.bottom-t.top+$i(e)+i.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(r),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,i,n){var r;null==n&&(n=0),e.options.lineWrapping||t!=i||(i="before"==(t=t.ch?ge(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?ge(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var s=!1,a=Vi(e,t),l=i&&i!=t?Vi(e,i):a,c=Sn(e,r={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-n,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+n}),d=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=c.scrollTop&&(An(e,c.scrollTop),Math.abs(e.doc.scrollTop-d)>1&&(s=!0)),null!=c.scrollLeft&&(Nn(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(s=!0)),!s)break}return r}(t,Ce(n,e.scrollToPos.from),Ce(n,e.scrollToPos.to),e.scrollToPos.margin));var r=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(r)for(var s=0;s<r.length;++s)r[s].lines.length||nt(r[s],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&nt(o[a],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&nt(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Un(e,t){if(e.curOp)return t();zn(e);try{return t()}finally{Hn(e)}}function Yn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);zn(e);try{return t.apply(e,arguments)}finally{Hn(e)}}}function Xn(e){return function(){if(this.curOp)return e.apply(this,arguments);zn(this);try{return e.apply(this,arguments)}finally{Hn(this)}}}function Kn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);zn(t);try{return e.apply(this,arguments)}finally{Hn(t)}}}function Zn(e,t,i,n){null==t&&(t=e.doc.first),null==i&&(i=e.doc.first+e.doc.size),n||(n=0);var r=e.display;if(n&&i<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)$e&&He(e.doc,t)<r.viewTo&&Qn(e);else if(i<=r.viewFrom)$e&&Be(e.doc,i+n)>r.viewFrom?Qn(e):(r.viewFrom+=n,r.viewTo+=n);else if(t<=r.viewFrom&&i>=r.viewTo)Qn(e);else if(t<=r.viewFrom){var o=er(e,i,i+n,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=n):Qn(e)}else if(i>=r.viewTo){var s=er(e,t,t,-1);s?(r.view=r.view.slice(0,s.index),r.viewTo=s.lineN):Qn(e)}else{var a=er(e,t,t,-1),l=er(e,i,i+n,1);a&&l?(r.view=r.view.slice(0,a.index).concat(ri(e,a.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=n):Qn(e)}var c=r.externalMeasured;c&&(i<c.lineN?c.lineN+=n:t<c.lineN+c.size&&(r.externalMeasured=null))}function Jn(e,t,i){e.curOp.viewChanged=!0;var n=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[ln(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==q(s,i)&&s.push(i)}}}function Qn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function er(e,t,i,n){var r,o=ln(e,t),s=e.display.view;if(!$e||i==e.doc.first+e.doc.size)return{index:o,lineN:i};for(var a=e.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=t){if(n>0){if(o==s.length-1)return null;r=a+s[o].size-t,o++}else r=a-t;t+=r,i+=r}for(;He(e.doc,i)!=i;){if(o==(n<0?0:s.length-1))return null;i+=n*s[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:i}}function tr(e){for(var t=e.display.view,i=0,n=0;n<t.length;n++){var r=t[n];r.hidden||r.node&&!r.changes||++i}return i}function ir(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,E(nr,e))}function nr(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var i=+new Date+e.options.workTime,n=Pt(e,t.highlightFrontier),r=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(n.line>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength?At(t.mode,n.state):null,l=Et(e,o,n,!0);a&&(n.state=a),o.styles=l.styles;var c=o.styleClasses,d=l.classes;d?o.styleClasses=d:c&&(o.styleClasses=null);for(var u=!s||s.length!=o.styles.length||c!=d&&(!c||!d||c.bgClass!=d.bgClass||c.textClass!=d.textClass),h=0;!u&&h<s.length;++h)u=s[h]!=o.styles[h];u&&r.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Lt(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>i)return ir(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),r.length&&Un(e,function(){for(var t=0;t<r.length;t++)Jn(e,r[t],"text")})}}var rr=function(e,t,i){var n=e.display;this.viewport=t,this.visible=xn(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Di(e),this.force=i,this.dims=nn(e),this.events=[]};function or(e,t){var i=e.display,n=e.doc;if(t.editorIsHidden)return Qn(e),!1;if(!t.force&&t.visible.from>=i.viewFrom&&t.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==tr(e))return!1;kn(e)&&(Qn(e),t.dims=nn(e));var r=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),s=Math.min(r,t.visible.to+e.options.viewportMargin);i.viewFrom<o&&o-i.viewFrom<20&&(o=Math.max(n.first,i.viewFrom)),i.viewTo>s&&i.viewTo-s<20&&(s=Math.min(r,i.viewTo)),$e&&(o=He(e.doc,o),s=Be(e.doc,s));var a=o!=i.viewFrom||s!=i.viewTo||i.lastWrapHeight!=t.wrapperHeight||i.lastWrapWidth!=t.wrapperWidth;!function(e,t,i){var n=e.display;0==n.view.length||t>=n.viewTo||i<=n.viewFrom?(n.view=ri(e,t,i),n.viewFrom=t):(n.viewFrom>t?n.view=ri(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(ln(e,t))),n.viewFrom=t,n.viewTo<i?n.view=n.view.concat(ri(e,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,ln(e,i)))),n.viewTo=i}(e,o,s),i.viewOffset=Ve(ae(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var c=tr(e);if(!a&&0==c&&!t.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var d=function(e){if(e.hasFocus())return null;var t=N();if(!t||!F(e.display.lineDiv,t))return null;var i={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&F(e.display.lineDiv,n.anchorNode)&&(i.anchorNode=n.anchorNode,i.anchorOffset=n.anchorOffset,i.focusNode=n.focusNode,i.focusOffset=n.focusOffset)}return i}(e);return c>4&&(i.lineDiv.style.display="none"),function(e,t,i){var n=e.display,r=e.options.lineNumbers,o=n.lineDiv,s=o.firstChild;function a(t){var i=t.nextSibling;return l&&b&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),i}for(var c=n.view,d=n.viewFrom,u=0;u<c.length;u++){var h=c[u];if(h.hidden);else if(h.node&&h.node.parentNode==o){for(;s!=h.node;)s=a(s);var p=r&&null!=t&&t<=d&&h.lineNumber;h.changes&&(q(h.changes,"gutter")>-1&&(p=!1),ci(e,h,d,i)),p&&(T(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(fe(e.options,d)))),s=h.node.nextSibling}else{var f=mi(e,h,d,i);o.insertBefore(f,s)}d+=h.size}for(;s;)s=a(s)}(e,i.updateLineNumbers,t.dims),c>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,function(e){if(e&&e.activeElt&&e.activeElt!=N()&&(e.activeElt.focus(),e.anchorNode&&F(document.body,e.anchorNode)&&F(document.body,e.focusNode))){var t=window.getSelection(),i=document.createRange();i.setEnd(e.anchorNode,e.anchorOffset),i.collapse(!1),t.removeAllRanges(),t.addRange(i),t.extend(e.focusNode,e.focusOffset)}}(d),T(i.cursorDiv),T(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,a&&(i.lastWrapHeight=t.wrapperHeight,i.lastWrapWidth=t.wrapperWidth,ir(e,400)),i.updateLineNumbers=null,!0}function sr(e,t){for(var i=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Di(e)||(i&&null!=i.top&&(i={top:Math.min(e.doc.height+ki(e.display)-Ti(e),i.top)}),t.visible=xn(e.display,e.doc,i),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&or(e,t);n=!1){yn(e);var r=In(e);cn(e),En(e,r),cr(e,r),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function ar(e,t){var i=new rr(e,t);if(or(e,i)){yn(e),sr(e,i);var n=In(e);cn(e),En(e,n),cr(e,n),i.finish()}}function lr(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function cr(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+$i(e)+"px"}function dr(e){var t=e.display.gutters,i=e.options.gutters;T(t);for(var n=0;n<i.length;++n){var r=i[n],o=t.appendChild(j("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",lr(e)}function ur(e){var t=q(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}rr.prototype.signal=function(e,t){st(e,t)&&this.events.push(arguments)},rr.prototype.finish=function(){for(var e=0;e<this.events.length;e++)nt.apply(null,this.events[e])};var hr=0,pr=null;function fr(e){var t=e.wheelDeltaX,i=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta),{x:t,y:i}}function gr(e){var t=fr(e);return t.x*=pr,t.y*=pr,t}function mr(e,t){var n=fr(t),r=n.x,o=n.y,s=e.display,a=s.scroller,c=a.scrollWidth>a.clientWidth,d=a.scrollHeight>a.clientHeight;if(r&&c||o&&d){if(o&&b&&l)e:for(var h=t.target,p=s.view;h!=a;h=h.parentNode)for(var f=0;f<p.length;f++)if(p[f].node==h){e.display.currentWheelTarget=h;break e}if(r&&!i&&!u&&null!=pr)return o&&d&&An(e,Math.max(0,a.scrollTop+o*pr)),Nn(e,Math.max(0,a.scrollLeft+r*pr)),(!o||o&&d)&&lt(t),void(s.wheelStartX=null);if(o&&null!=pr){var g=o*pr,m=e.doc.scrollTop,v=m+s.wrapper.clientHeight;g<0?m=Math.max(0,m+g-50):v=Math.min(e.doc.height,v+g+50),ar(e,{top:m,bottom:v})}hr<20&&(null==s.wheelStartX?(s.wheelStartX=a.scrollLeft,s.wheelStartY=a.scrollTop,s.wheelDX=r,s.wheelDY=o,setTimeout(function(){if(null!=s.wheelStartX){var e=a.scrollLeft-s.wheelStartX,t=a.scrollTop-s.wheelStartY,i=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,i&&(pr=(pr*hr+i)/(hr+1),++hr)}},200)):(s.wheelDX+=r,s.wheelDY+=o))}}s?pr=-.53:i?pr=15:d?pr=-.7:h&&(pr=-1/3);var vr=function(e,t){this.ranges=e,this.primIndex=t};vr.prototype.primary=function(){return this.ranges[this.primIndex]},vr.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var i=this.ranges[t],n=e.ranges[t];if(!ve(i.anchor,n.anchor)||!ve(i.head,n.head))return!1}return!0},vr.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new br(be(this.ranges[t].anchor),be(this.ranges[t].head));return new vr(e,this.primIndex)},vr.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},vr.prototype.contains=function(e,t){t||(t=e);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(me(t,n.from())>=0&&me(e,n.to())<=0)return i}return-1};var br=function(e,t){this.anchor=e,this.head=t};function yr(e,t,i){var n=e&&e.options.selectionsMayTouch,r=t[i];t.sort(function(e,t){return me(e.from(),t.from())}),i=q(t,r);for(var o=1;o<t.length;o++){var s=t[o],a=t[o-1],l=me(a.to(),s.from());if(n&&!s.empty()?l>0:l>=0){var c=we(a.from(),s.from()),d=ye(a.to(),s.to()),u=a.empty()?s.from()==s.head:a.from()==a.head;o<=i&&--i,t.splice(--o,2,new br(u?d:c,u?c:d))}}return new vr(t,i)}function wr(e,t){return new vr([new br(e,t||e)],0)}function xr(e){return e.text?ge(e.from.line+e.text.length-1,X(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Cr(e,t){if(me(e,t.from)<0)return e;if(me(e,t.to)<=0)return xr(t);var i=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=xr(t).ch-t.to.ch),ge(i,n)}function kr(e,t){for(var i=[],n=0;n<e.sel.ranges.length;n++){var r=e.sel.ranges[n];i.push(new br(Cr(r.anchor,t),Cr(r.head,t)))}return yr(e.cm,i,e.sel.primIndex)}function Sr(e,t,i){return e.line==t.line?ge(i.line,e.ch-t.ch+i.ch):ge(i.line+(e.line-t.line),e.ch)}function $r(e){e.doc.mode=Tt(e.options,e.doc.modeOption),Dr(e)}function Dr(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ir(e,100),e.state.modeGen++,e.curOp&&Zn(e)}function Tr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==X(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function _r(e,t,i,n){function r(e){return i?i[e]:null}function o(e,i,r){!function(e,t,i,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Fe(e),Ne(e,i);var r=n?n(e):1;r!=e.height&&de(e,r)}(e,i,r,n),ai(e,"change",e,t)}function s(e,t){for(var i=[],o=e;o<t;++o)i.push(new Vt(c[o],r(o),n));return i}var a=t.from,l=t.to,c=t.text,d=ae(e,a.line),u=ae(e,l.line),h=X(c),p=r(c.length-1),f=l.line-a.line;if(t.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if(Tr(e,t)){var g=s(0,c.length-1);o(u,u.text,p),f&&e.remove(a.line,f),g.length&&e.insert(a.line,g)}else if(d==u)if(1==c.length)o(d,d.text.slice(0,a.ch)+h+d.text.slice(l.ch),p);else{var m=s(1,c.length-1);m.push(new Vt(h+d.text.slice(l.ch),p,n)),o(d,d.text.slice(0,a.ch)+c[0],r(0)),e.insert(a.line+1,m)}else if(1==c.length)o(d,d.text.slice(0,a.ch)+c[0]+u.text.slice(l.ch),r(0)),e.remove(a.line+1,f);else{o(d,d.text.slice(0,a.ch)+c[0],r(0)),o(u,h+u.text.slice(l.ch),p);var v=s(1,c.length-1);f>1&&e.remove(a.line+1,f-1),e.insert(a.line+1,v)}ai(e,"change",e,t)}function jr(e,t,i){!function e(n,r,o){if(n.linked)for(var s=0;s<n.linked.length;++s){var a=n.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;i&&!l||(t(a.doc,l),e(a.doc,n,l))}}}(e,null,!0)}function Ar(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,sn(e),$r(e),Fr(e),e.options.lineWrapping||Ye(e),e.options.mode=t.modeOption,Zn(e)}function Fr(e){("rtl"==e.doc.direction?I:D)(e.display.lineDiv,"CodeMirror-rtl")}function Nr(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Ir(e,t){var i={from:be(t.from),to:xr(t),text:le(e,t.from,t.to)};return Pr(e,i,t.from.line,t.to.line+1),jr(e,function(e){return Pr(e,i,t.from.line,t.to.line+1)},!0),i}function Or(e){for(;e.length;){if(!X(e).ranges)break;e.pop()}}function Rr(e,t,i,n){var r=e.history;r.undone.length=0;var o,s,a=+new Date;if((r.lastOp==n||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&r.lastModTime>a-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(Or(e.done),X(e.done)):e.done.length&&!X(e.done).ranges?X(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),X(e.done)):void 0}(r,r.lastOp==n)))s=X(o.changes),0==me(t.from,t.to)&&0==me(t.from,s.to)?s.to=xr(t):o.changes.push(Ir(e,t));else{var l=X(r.done);for(l&&l.ranges||Mr(e.sel,r.done),o={changes:[Ir(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=t.origin,s||nt(e,"historyAdded")}function Er(e,t,i,n){var r=e.history,o=n&&n.origin;i==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||function(e,t,i,n){var r=t.charAt(0);return"*"==r||"+"==r&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,X(r.done),t))?r.done[r.done.length-1]=t:Mr(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=i,n&&!1!==n.clearRedo&&Or(r.undone)}function Mr(e,t){var i=X(t);i&&i.ranges&&i.equals(e)||t.push(e)}function Pr(e,t,i,n){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,i),Math.min(e.first+e.size,n),function(i){i.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=i.markedSpans),++o})}function Lr(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function qr(e,t){var i=function(e,t){var i=t["spans_"+e.id];if(!i)return null;for(var n=[],r=0;r<t.text.length;++r)n.push(Lr(i[r]));return n}(e,t),n=je(e,t);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var o=i[r],s=n[r];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else s&&(i[r]=s)}return i}function zr(e,t,i){for(var n=[],r=0;r<e.length;++r){var o=e[r];if(o.ranges)n.push(i?vr.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];n.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],d=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var u in c)(d=u.match(/^spans_(\d+)$/))&&q(t,Number(d[1]))>-1&&(X(a)[u]=c[u],delete c[u])}}}return n}function Hr(e,t,i,n){if(n){var r=e.anchor;if(i){var o=me(t,r)<0;o!=me(i,r)<0?(r=t,t=i):o!=me(t,i)<0&&(t=i)}return new br(r,t)}return new br(i||t,t)}function Br(e,t,i,n,r){null==r&&(r=e.cm&&(e.cm.display.shift||e.extend)),Yr(e,new vr([Hr(e.sel.primary(),t,i,r)],0),n)}function Gr(e,t,i){for(var n=[],r=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=Hr(e.sel.ranges[o],t[o],null,r);Yr(e,yr(e.cm,n,e.sel.primIndex),i)}function Wr(e,t,i,n){var r=e.sel.ranges.slice(0);r[t]=i,Yr(e,yr(e.cm,r,e.sel.primIndex),n)}function Vr(e,t,i,n){Yr(e,wr(t,i),n)}function Ur(e,t,i){var n=e.history.done,r=X(n);r&&r.ranges?(n[n.length-1]=t,Xr(e,t,i)):Yr(e,t,i)}function Yr(e,t,i){Xr(e,t,i),Er(e,e.sel,e.cm?e.cm.curOp.id:NaN,i)}function Xr(e,t,i){(st(e,"beforeSelectionChange")||e.cm&&st(e.cm,"beforeSelectionChange"))&&(t=function(e,t,i){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var i=0;i<t.length;i++)this.ranges[i]=new br(Ce(e,t[i].anchor),Ce(e,t[i].head))},origin:i&&i.origin};return nt(e,"beforeSelectionChange",e,n),e.cm&&nt(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?yr(e.cm,n.ranges,n.ranges.length-1):t}(e,t,i)),Kr(e,Jr(e,t,i&&i.bias||(me(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),i&&!1===i.scroll||!e.cm||Dn(e.cm)}function Kr(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ot(e.cm)),ai(e,"cursorActivity",e))}function Zr(e){Kr(e,Jr(e,e.sel,null,!1))}function Jr(e,t,i,n){for(var r,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=eo(e,s.anchor,a&&a.anchor,i,n),c=eo(e,s.head,a&&a.head,i,n);(r||l!=s.anchor||c!=s.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new br(l,c))}return r?yr(e.cm,r,t.primIndex):t}function Qr(e,t,i,n,r){var o=ae(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(r&&(nt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(i){var c=l.find(n<0?1:-1),d=void 0;if((n<0?l.inclusiveRight:l.inclusiveLeft)&&(c=to(e,c,-n,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(d=me(c,i))&&(n<0?d<0:d>0))return Qr(e,c,t,n,r)}var u=l.find(n<0?-1:1);return(n<0?l.inclusiveLeft:l.inclusiveRight)&&(u=to(e,u,n,u.line==t.line?o:null)),u?Qr(e,u,t,n,r):null}}return t}function eo(e,t,i,n,r){var o=n||1,s=Qr(e,t,i,o,r)||!r&&Qr(e,t,i,o,!0)||Qr(e,t,i,-o,r)||!r&&Qr(e,t,i,-o,!0);return s||(e.cantEdit=!0,ge(e.first,0))}function to(e,t,i,n){return i<0&&0==t.ch?t.line>e.first?Ce(e,ge(t.line-1)):null:i>0&&t.ch==(n||ae(e,t.line)).text.length?t.line<e.first+e.size-1?ge(t.line+1,0):null:new ge(t.line,t.ch+i)}function io(e){e.setSelection(ge(e.firstLine(),0),ge(e.lastLine()),B)}function no(e,t,i){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(t,i,r,o){t&&(n.from=Ce(e,t)),i&&(n.to=Ce(e,i)),r&&(n.text=r),void 0!==o&&(n.origin=o)}),nt(e,"beforeChange",e,n),e.cm&&nt(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function ro(e,t,i){if(e.cm){if(!e.cm.curOp)return Yn(e.cm,ro)(e,t,i);if(e.cm.state.suppressEdits)return}if(!(st(e,"beforeChange")||e.cm&&st(e.cm,"beforeChange"))||(t=no(e,t,!0))){var n=Se&&!i&&function(e,t,i){var n=null;if(e.iter(t.line,i.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||n&&-1!=q(n,i)||(n||(n=[])).push(i)}}),!n)return null;for(var r=[{from:t,to:i}],o=0;o<n.length;++o)for(var s=n[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(me(c.to,a.from)<0||me(c.from,a.to)>0)){var d=[l,1],u=me(c.from,a.from),h=me(c.to,a.to);(u<0||!s.inclusiveLeft&&!u)&&d.push({from:c.from,to:a.from}),(h>0||!s.inclusiveRight&&!h)&&d.push({from:a.to,to:c.to}),r.splice.apply(r,d),l+=d.length-3}}return r}(e,t.from,t.to);if(n)for(var r=n.length-1;r>=0;--r)oo(e,{from:n[r].from,to:n[r].to,text:r?[""]:t.text,origin:t.origin});else oo(e,t)}}function oo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=me(t.from,t.to)){var i=kr(e,t);Rr(e,t,i,e.cm?e.cm.curOp.id:NaN),lo(e,t,i,je(e,t));var n=[];jr(e,function(e,i){i||-1!=q(n,e.history)||(po(e.history,t),n.push(e.history)),lo(e,t,null,je(e,t))})}}function so(e,t,i){var n=e.cm&&e.cm.state.suppressEdits;if(!n||i){for(var r,o=e.history,s=e.sel,a="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,c=0;c<a.length&&(r=a[c],i?!r.ranges||r.equals(e.sel):r.ranges);c++);if(c!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(r=a.pop()).ranges){if(n)return void a.push(r);break}if(Mr(r,l),i&&!r.equals(e.sel))return void Yr(e,r,{clearRedo:!1});s=r}var d=[];Mr(s,l),l.push({changes:d,generation:o.generation}),o.generation=r.generation||++o.maxGeneration;for(var u=st(e,"beforeChange")||e.cm&&st(e.cm,"beforeChange"),h=function(i){var n=r.changes[i];if(n.origin=t,u&&!no(e,n,!1))return a.length=0,{};d.push(Ir(e,n));var o=i?kr(e,n):X(a);lo(e,n,o,qr(e,n)),!i&&e.cm&&e.cm.scrollIntoView({from:n.from,to:xr(n)});var s=[];jr(e,function(e,t){t||-1!=q(s,e.history)||(po(e.history,n),s.push(e.history)),lo(e,n,null,qr(e,n))})},p=r.changes.length-1;p>=0;--p){var f=h(p);if(f)return f.v}}}}function ao(e,t){if(0!=t&&(e.first+=t,e.sel=new vr(K(e.sel.ranges,function(e){return new br(ge(e.anchor.line+t,e.anchor.ch),ge(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Zn(e.cm,e.first,e.first-t,t);for(var i=e.cm.display,n=i.viewFrom;n<i.viewTo;n++)Jn(e.cm,n,"gutter")}}function lo(e,t,i,n){if(e.cm&&!e.cm.curOp)return Yn(e.cm,lo)(e,t,i,n);if(t.to.line<e.first)ao(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);ao(e,r),t={from:ge(e.first,0),to:ge(t.to.line+r,t.to.ch),text:[X(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ge(o,ae(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=le(e,t.from,t.to),i||(i=kr(e,t)),e.cm?function(e,t,i){var n=e.doc,r=e.display,o=t.from,s=t.to,a=!1,l=o.line;e.options.lineWrapping||(l=ue(ze(ae(n,o.line))),n.iter(l,s.line+1,function(e){if(e==r.maxLine)return a=!0,!0}));n.sel.contains(t.from,t.to)>-1&&ot(e);_r(n,t,i,on(e)),e.options.lineWrapping||(n.iter(l,o.line+t.text.length,function(e){var t=Ue(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0));(function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var i=e.first,n=t-1;n>i;n--){var r=ae(e,n).stateAfter;if(r&&(!(r instanceof Ot)||n+r.lookAhead<t)){i=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,i)}})(n,o.line),ir(e,400);var c=t.text.length-(s.line-o.line)-1;t.full?Zn(e):o.line!=s.line||1!=t.text.length||Tr(e.doc,t)?Zn(e,o.line,s.line+1,c):Jn(e,o.line,"text");var d=st(e,"changes"),u=st(e,"change");if(u||d){var h={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};u&&ai(e,"change",e,h),d&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}(e.cm,t,n):_r(e,t,n),Xr(e,i,B)}}function co(e,t,i,n,r){var o;n||(n=i),me(n,i)<0&&(i=(o=[n,i])[0],n=o[1]),"string"==typeof t&&(t=e.splitLines(t)),ro(e,{from:i,to:n,text:t,origin:r})}function uo(e,t,i,n){i<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function ho(e,t,i,n){for(var r=0;r<e.length;++r){var o=e[r],s=!0;if(o.ranges){o.copied||((o=e[r]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)uo(o.ranges[a].anchor,t,i,n),uo(o.ranges[a].head,t,i,n)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(i<c.from.line)c.from=ge(c.from.line+n,c.from.ch),c.to=ge(c.to.line+n,c.to.ch);else if(t<=c.to.line){s=!1;break}}s||(e.splice(0,r+1),r=0)}}}function po(e,t){var i=t.from.line,n=t.to.line,r=t.text.length-(n-i)-1;ho(e.done,i,n,r),ho(e.undone,i,n,r)}function fo(e,t,i,n){var r=t,o=t;return"number"==typeof t?o=ae(e,xe(e,t)):r=ue(t),null==r?null:(n(o,r)&&e.cm&&Jn(e.cm,r,i),o)}function go(e){this.lines=e,this.parent=null;for(var t=0,i=0;i<e.length;++i)e[i].parent=this,t+=e[i].height;this.height=t}function mo(e){this.children=e;for(var t=0,i=0,n=0;n<e.length;++n){var r=e[n];t+=r.chunkSize(),i+=r.height,r.parent=this}this.size=t,this.height=i,this.parent=null}br.prototype.from=function(){return we(this.anchor,this.head)},br.prototype.to=function(){return ye(this.anchor,this.head)},br.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},go.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=e,n=e+t;i<n;++i){var r=this.lines[i];this.height-=r.height,Ut(r),ai(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,i){for(var n=e+t;e<n;++e)if(i(this.lines[e]))return!0}},mo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i=0;i<this.children.length;++i){var n=this.children[i],r=n.chunkSize();if(e<r){var o=Math.min(t,r-e),s=n.height;if(n.removeInner(e,o),this.height-=s-n.height,r==o&&(this.children.splice(i--,1),n.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof go))){var a=[];this.collapse(a),this.children=[new go(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,i){this.size+=t.length,this.height+=i;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<=o){if(r.insertInner(e,t,i),r.lines&&r.lines.length>50){for(var s=r.lines.length%25+25,a=s;a<r.lines.length;){var l=new go(r.lines.slice(a,a+=25));r.height-=l.height,this.children.splice(++n,0,l),l.parent=this}r.lines=r.lines.slice(0,s),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new mo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var i=q(e.parent.children,e);e.parent.children.splice(i+1,0,t)}else{var n=new mo(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<o){var s=Math.min(t,o-e);if(r.iterN(e,s,i))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var vo=function(e,t,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=e,this.node=t};function bo(e,t,i){Ve(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&$n(e,i)}vo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,i=this.line,n=ue(i);if(null!=n&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(i.widgets=null);var o=wi(this);de(i,Math.max(0,i.height-o)),e&&(Un(e,function(){bo(e,i,-o),Jn(e,n,"widget")}),ai(e,"lineWidgetCleared",e,this,n))}},vo.prototype.changed=function(){var e=this,t=this.height,i=this.doc.cm,n=this.line;this.height=null;var r=wi(this)-t;r&&(Ge(this.doc,n)||de(n,n.height+r),i&&Un(i,function(){i.curOp.forceUpdate=!0,bo(i,n,r),ai(i,"lineWidgetChanged",i,e,ue(n))}))},at(vo);var yo=0,wo=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++yo};function xo(e,t,i,n,r){if(n&&n.shared)return function(e,t,i,n,r){(n=M(n)).shared=!1;var o=[xo(e,t,i,n,r)],s=o[0],a=n.widgetNode;return jr(e,function(e){a&&(n.widgetNode=a.cloneNode(!0)),o.push(xo(e,Ce(e,t),Ce(e,i),n,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=X(o)}),new Co(o,s)}(e,t,i,n,r);if(e.cm&&!e.cm.curOp)return Yn(e.cm,xo)(e,t,i,n,r);var o=new wo(e,r),s=me(t,i);if(n&&M(n,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=A("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(qe(e,t.line,t,i,o)||t.line!=i.line&&qe(e,i.line,t,i,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");$e=!0}o.addToHistory&&Rr(e,{from:t,to:i,origin:"markText"},e.sel,NaN);var a,l=t.line,c=e.cm;if(e.iter(l,i.line+1,function(e){c&&o.collapsed&&!c.options.lineWrapping&&ze(e)==c.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&de(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new De(o,l==t.line?t.ch:null,l==i.line?i.ch:null)),++l}),o.collapsed&&e.iter(t.line,i.line+1,function(t){Ge(e,t)&&de(t,0)}),o.clearOnEnter&&et(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(Se=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++yo,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)Zn(c,t.line,i.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var d=t.line;d<=i.line;d++)Jn(c,d,"text");o.atomic&&Zr(c.doc),ai(c,"markerAdded",c,o)}return o}wo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&zn(e),st(this,"clear")){var i=this.find();i&&ai(this,"clear",i.from,i.to)}for(var n=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Te(s.markedSpans,this);e&&!this.collapsed?Jn(e,ue(s),"text"):e&&(null!=a.to&&(r=ue(s)),null!=a.from&&(n=ue(s))),s.markedSpans=_e(s.markedSpans,a),null==a.from&&this.collapsed&&!Ge(this.doc,s)&&e&&de(s,en(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=ze(this.lines[l]),d=Ue(c);d>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=d,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Zn(e,n,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Zr(e.doc)),e&&ai(e,"markerCleared",e,this,n,r),t&&Hn(e),this.parent&&this.parent.clear()}},wo.prototype.find=function(e,t){var i,n;null==e&&"bookmark"==this.type&&(e=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],s=Te(o.markedSpans,this);if(null!=s.from&&(i=ge(t?o:ue(o),s.from),-1==e))return i;if(null!=s.to&&(n=ge(t?o:ue(o),s.to),1==e))return n}return i&&{from:i,to:n}},wo.prototype.changed=function(){var e=this,t=this.find(-1,!0),i=this,n=this.doc.cm;t&&n&&Un(n,function(){var r=t.line,o=ue(t.line),s=Ai(n,o);if(s&&(Mi(s),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Ge(i.doc,r)&&null!=i.height){var a=i.height;i.height=null;var l=wi(i)-a;l&&de(r,r.height+l)}ai(n,"markerChanged",n,e)})},wo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=q(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},wo.prototype.detachLine=function(e){if(this.lines.splice(q(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},at(wo);var Co=function(e,t){this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=this};function ko(e){return e.findMarks(ge(e.first,0),e.clipPos(ge(e.lastLine())),function(e){return e.parent})}function So(e){for(var t=function(t){var i=e[t],n=[i.primary.doc];jr(i.primary.doc,function(e){return n.push(e)});for(var r=0;r<i.markers.length;r++){var o=i.markers[r];-1==q(n,o.doc)&&(o.parent=null,i.markers.splice(r--,1))}},i=0;i<e.length;i++)t(i)}Co.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ai(this,"clear")}},Co.prototype.find=function(e,t){return this.primary.find(e,t)},at(Co);var $o=0,Do=function(e,t,i,n,r){if(!(this instanceof Do))return new Do(e,t,i,n,r);null==i&&(i=0),mo.call(this,[new go([new Vt("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var o=ge(i,0);this.sel=wr(o),this.history=new Nr(null),this.id=++$o,this.modeOption=t,this.lineSep=n,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),_r(this,{from:o,to:o,text:e}),Yr(this,wr(o),B)};Do.prototype=J(mo.prototype,{constructor:Do,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,n=0;n<t.length;++n)i+=t[n].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=ce(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Kn(function(e){var t=ge(this.first,0),i=this.first+this.size-1;ro(this,{from:t,to:ge(i,ae(this,i).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Tn(this.cm,0,0),Yr(this,wr(t),B)}),replaceRange:function(e,t,i,n){co(this,e,t=Ce(this,t),i=i?Ce(this,i):t,n)},getRange:function(e,t,i){var n=le(this,Ce(this,e),Ce(this,t));return!1===i?n:n.join(i||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(pe(this,e))return ae(this,e)},getLineNumber:function(e){return ue(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=ae(this,e)),ze(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Ce(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Kn(function(e,t,i){Vr(this,Ce(this,"number"==typeof e?ge(e,t||0):e),null,i)}),setSelection:Kn(function(e,t,i){Vr(this,Ce(this,e),Ce(this,t||e),i)}),extendSelection:Kn(function(e,t,i){Br(this,Ce(this,e),t&&Ce(this,t),i)}),extendSelections:Kn(function(e,t){Gr(this,ke(this,e),t)}),extendSelectionsBy:Kn(function(e,t){Gr(this,ke(this,K(this.sel.ranges,e)),t)}),setSelections:Kn(function(e,t,i){if(e.length){for(var n=[],r=0;r<e.length;r++)n[r]=new br(Ce(this,e[r].anchor),Ce(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Yr(this,yr(this.cm,n,t),i)}}),addSelection:Kn(function(e,t,i){var n=this.sel.ranges.slice(0);n.push(new br(Ce(this,e),Ce(this,t||e))),Yr(this,yr(this.cm,n,n.length-1),i)}),getSelection:function(e){for(var t,i=this.sel.ranges,n=0;n<i.length;n++){var r=le(this,i[n].from(),i[n].to());t=t?t.concat(r):r}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],i=this.sel.ranges,n=0;n<i.length;n++){var r=le(this,i[n].from(),i[n].to());!1!==e&&(r=r.join(e||this.lineSeparator())),t[n]=r}return t},replaceSelection:function(e,t,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=e;this.replaceSelections(n,t,i||"+input")},replaceSelections:Kn(function(e,t,i){for(var n=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];n[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:i}}for(var a=t&&"end"!=t&&function(e,t,i){for(var n=[],r=ge(e.first,0),o=r,s=0;s<t.length;s++){var a=t[s],l=Sr(a.from,r,o),c=Sr(xr(a),r,o);if(r=a.to,o=c,"around"==i){var d=e.sel.ranges[s],u=me(d.head,d.anchor)<0;n[s]=new br(u?c:l,u?l:c)}else n[s]=new br(l,l)}return new vr(n,e.sel.primIndex)}(this,n,t),l=n.length-1;l>=0;l--)ro(this,n[l]);a?Ur(this,a):this.cm&&Dn(this.cm)}),undo:Kn(function(){so(this,"undo")}),redo:Kn(function(){so(this,"redo")}),undoSelection:Kn(function(){so(this,"undo",!0)}),redoSelection:Kn(function(){so(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,i=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){this.history=new Nr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:zr(this.history.done),undone:zr(this.history.undone)}},setHistory:function(e){var t=this.history=new Nr(this.history.maxGeneration);t.done=zr(e.done.slice(0),null,!0),t.undone=zr(e.undone.slice(0),null,!0)},setGutterMarker:Kn(function(e,t,i){return fo(this,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=i,!i&&ie(n)&&(e.gutterMarkers=null),!0})}),clearGutter:Kn(function(e){var t=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[e]&&fo(t,i,"gutter",function(){return i.gutterMarkers[e]=null,ie(i.gutterMarkers)&&(i.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!pe(this,e))return null;if(t=e,!(e=ae(this,e)))return null}else if(null==(t=ue(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Kn(function(e,t,i){return fo(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(S(i).test(e[n]))return!1;e[n]+=" "+i}else e[n]=i;return!0})}),removeLineClass:Kn(function(e,t,i){return fo(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[n];if(!r)return!1;if(null==i)e[n]=null;else{var o=r.match(S(i));if(!o)return!1;var s=o.index+o[0].length;e[n]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0})}),addLineWidget:Kn(function(e,t,i){return function(e,t,i,n){var r=new vo(e,i,n),o=e.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),fo(e,t,"widget",function(t){var i=t.widgets||(t.widgets=[]);if(null==r.insertAt?i.push(r):i.splice(Math.min(i.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!Ge(e,t)){var n=Ve(t)<e.scrollTop;de(t,t.height+wi(r)),n&&$n(o,r.height),o.curOp.forceUpdate=!0}return!0}),o&&ai(o,"lineWidgetAdded",o,r,"number"==typeof t?t:ue(t)),r}(this,e,t,i)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,i){return xo(this,Ce(this,e),Ce(this,t),i,i&&i.type||"range")},setBookmark:function(e,t){var i={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return xo(this,e=Ce(this,e),e,i,"bookmark")},findMarksAt:function(e){var t=[],i=ae(this,(e=Ce(this,e)).line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,i){e=Ce(this,e),t=Ce(this,t);var n=[],r=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||i&&!i(l.marker)||n.push(l.marker.parent||l.marker)}++r}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var i=t.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&e.push(i[n].marker)}),e},posFromIndex:function(e){var t,i=this.first,n=this.lineSeparator().length;return this.iter(function(r){var o=r.text.length+n;if(o>e)return t=e,!0;e-=o,++i}),Ce(this,ge(i,t))},indexFromPos:function(e){var t=(e=Ce(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+i}),t},copy:function(e){var t=new Do(ce(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,i=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<i&&(i=e.to);var n=new Do(ce(this,t,i),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var i=0;i<t.length;i++){var n=t[i],r=n.find(),o=e.clipPos(r.from),s=e.clipPos(r.to);if(me(o,s)){var a=xo(e,o,s,n.primary,n.primary.type);n.markers.push(a),a.parent=n}}}(n,ko(this)),n},unlinkDoc:function(e){if(e instanceof ks&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),So(ko(this));break}}if(e.history==this.history){var i=[e.id];jr(e,function(e){return i.push(e.id)},!0),e.history=new Nr(null),e.history.done=zr(this.history.done,i),e.history.undone=zr(this.history.undone,i)}},iterLinkedDocs:function(e){jr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):wt(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Kn(function(e){var t;("rtl"!=e&&(e="ltr"),e!=this.direction)&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Un(t=this.cm,function(){Fr(t),Zn(t)}))})}),Do.prototype.eachLine=Do.prototype.iter;var To=0;function _o(e){var t=this;if(jo(t),!rt(t,e)&&!xi(t.display,e)){lt(e),s&&(To=+new Date);var i=an(t,e,!0),n=e.dataTransfer.files;if(i&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,o=Array(r),a=0,l=function(e,n){if(!t.options.allowDropFileTypes||-1!=q(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=Yn(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[n]=e,++a==r){var l={from:i=Ce(t.doc,i),to:i,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};ro(t.doc,l),Ur(t.doc,wr(i,xr(l)))}}),s.readAsText(e)}},c=0;c<r;++c)l(n[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(i)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var d=e.dataTransfer.getData("Text");if(d){var u;if(t.state.draggingText&&!t.state.draggingText.copy&&(u=t.listSelections()),Xr(t.doc,wr(i,i)),u)for(var h=0;h<u.length;++h)co(t.doc,"",u[h].anchor,u[h].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch(e){}}}}function jo(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ao(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),i=[],n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&i.push(r)}i.length&&i[0].operation(function(){for(var t=0;t<i.length;t++)e(i[t])})}}var Fo=!1;function No(){var e;Fo||(et(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Ao(Io)},100))}),et(window,"blur",function(){return Ao(bn)}),Fo=!0)}function Io(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Oo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ro=0;Ro<10;Ro++)Oo[Ro+48]=Oo[Ro+96]=String(Ro);for(var Eo=65;Eo<=90;Eo++)Oo[Eo]=String.fromCharCode(Eo);for(var Mo=1;Mo<=12;Mo++)Oo[Mo+111]=Oo[Mo+63235]="F"+Mo;var Po={};function Lo(e){var t,i,n,r,o=e.split(/-(?!$)/);e=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);n=!0}}return t&&(e="Alt-"+e),i&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function qo(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete e[i];continue}for(var r=K(i.split(" "),Lo),o=0;o<r.length;o++){var s=void 0,a=void 0;o==r.length-1?(a=r.join(" "),s=n):(a=r.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[i]}for(var c in t)e[c]=t[c];return e}function zo(e,t,i,n){var r=(t=Wo(t)).call?t.call(e,n):t[e];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&i(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return zo(e,t.fallthrough,i,n);for(var o=0;o<t.fallthrough.length;o++){var s=zo(e,t.fallthrough[o],i,n);if(s)return s}}}function Ho(e){var t="string"==typeof e?e:Oo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Bo(e,t,i){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(C?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(C?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(e="Cmd-"+e),!i&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function Go(e,t){if(u&&34==e.keyCode&&e.char)return!1;var i=Oo[e.keyCode];return null!=i&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(i=e.code),Bo(i,e,t))}function Wo(e){return"string"==typeof e?Po[e]:e}function Vo(e,t){for(var i=e.doc.sel.ranges,n=[],r=0;r<i.length;r++){for(var o=t(i[r]);n.length&&me(o.from,X(n).to)<=0;){var s=n.pop();if(me(s.from,o.from)<0){o.from=s.from;break}}n.push(o)}Un(e,function(){for(var t=n.length-1;t>=0;t--)co(e.doc,"",n[t].from,n[t].to,"+delete");Dn(e)})}function Uo(e,t,i){var n=oe(e.text,t+i,i);return n<0||n>e.text.length?null:n}function Yo(e,t,i){var n=Uo(e,t.ch,i);return null==n?null:new ge(t.line,n,i<0?"after":"before")}function Xo(e,t,i,n,r){if(e){var o=Je(i,t.doc.direction);if(o){var s,a=r<0?X(o):o[0],l=r<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==t.doc.direction){var c=Fi(t,i);s=r<0?i.text.length-1:0;var d=Ni(t,c,s).top;s=se(function(e){return Ni(t,c,e).top==d},r<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=Uo(i,s,1))}else s=r<0?a.to:a.from;return new ge(n,s,l)}}return new ge(n,r<0?i.text.length:0,r<0?"before":"after")}Po.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Po.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Po.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Po.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Po.default=b?Po.macDefault:Po.pcDefault;var Ko={selectAll:io,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),B)},killLine:function(e){return Vo(e,function(t){if(t.empty()){var i=ae(e.doc,t.head.line).text.length;return t.head.ch==i&&t.head.line<e.lastLine()?{from:t.head,to:ge(t.head.line+1,0)}:{from:t.head,to:ge(t.head.line,i)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Vo(e,function(t){return{from:ge(t.from().line,0),to:Ce(e.doc,ge(t.to().line+1,0))}})},delLineLeft:function(e){return Vo(e,function(e){return{from:ge(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return Vo(e,function(t){var i=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:i},"div"),to:t.from()}})},delWrappedLineRight:function(e){return Vo(e,function(t){var i=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ge(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ge(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Zo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Jo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return function(e,t){var i=ae(e.doc,t),n=function(e){for(var t;t=Pe(e);)e=t.find(1,!0).line;return e}(i);n!=i&&(t=ue(n));return Xo(!0,e,i,t,-1)}(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div")},W)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:i},"div")},W)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:i},"div");return n.ch<e.getLine(n.line).search(/\S/)?Jo(e,t.head):n},W)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],i=e.listSelections(),n=e.options.tabSize,r=0;r<i.length;r++){var o=i[r].from(),s=P(e.getLine(o.line),o.ch,n);t.push(Y(n-s%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Un(e,function(){for(var t=e.listSelections(),i=[],n=0;n<t.length;n++)if(t[n].empty()){var r=t[n].head,o=ae(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new ge(r.line,r.ch-1)),r.ch>0)r=new ge(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),ge(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var s=ae(e.doc,r.line-1).text;s&&(r=new ge(r.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),ge(r.line-1,s.length-1),r,"+transpose"))}i.push(new br(r,r))}e.setSelections(i)})},newlineAndIndent:function(e){return Un(e,function(){for(var t=e.listSelections(),i=t.length-1;i>=0;i--)e.replaceRange(e.doc.lineSeparator(),t[i].anchor,t[i].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Dn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Zo(e,t){var i=ae(e.doc,t),n=ze(i);return n!=i&&(t=ue(n)),Xo(!0,e,n,t,1)}function Jo(e,t){var i=Zo(e,t.line),n=ae(e.doc,i.line),r=Je(n,e.doc.direction);if(!r||0==r[0].level){var o=Math.max(0,n.text.search(/\S/)),s=t.line==i.line&&t.ch<=o&&t.ch;return ge(i.line,s?0:o,i.sticky)}return i}function Qo(e,t,i){if("string"==typeof t&&!(t=Ko[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),r=t(e)!=H}finally{e.display.shift=n,e.state.suppressEdits=!1}return r}var es=new L;function ts(e,t,i,n){var r=e.state.keySeq;if(r){if(Ho(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:es.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),is(e,r+" "+t,i,n))return!0}return is(e,t,i,n)}function is(e,t,i,n){var r=function(e,t,i){for(var n=0;n<e.state.keyMaps.length;n++){var r=zo(t,e.state.keyMaps[n],i,e);if(r)return r}return e.options.extraKeys&&zo(t,e.options.extraKeys,i,e)||zo(t,e.options.keyMap,i,e)}(e,t,n);return"multi"==r&&(e.state.keySeq=t),"handled"==r&&ai(e,"keyHandled",e,t,i),"handled"!=r&&"multi"!=r||(lt(i),fn(e)),!!r}function ns(e,t){var i=Go(t,!0);return!!i&&(t.shiftKey&&!e.state.keySeq?ts(e,"Shift-"+i,t,function(t){return Qo(e,t,!0)})||ts(e,i,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return Qo(e,t)}):ts(e,i,t,function(t){return Qo(e,t)}))}var rs=null;function os(e){var t=this;if(t.curOp.focus=N(),!rt(t,e)){s&&a<11&&27==e.keyCode&&(e.returnValue=!1);var i=e.keyCode;t.display.shift=16==i||e.shiftKey;var n=ns(t,e);u&&(rs=n?i:null,!n&&88==i&&!Ct&&(b?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function i(e){18!=e.keyCode&&e.altKey||(D(t,"CodeMirror-crosshair"),it(document,"keyup",i),it(document,"mouseover",i))}I(t,"CodeMirror-crosshair"),et(document,"keyup",i),et(document,"mouseover",i)}(t)}}function ss(e){16==e.keyCode&&(this.doc.sel.shift=!1),rt(this,e)}function as(e){var t=this;if(!(xi(t.display,e)||rt(t,e)||e.ctrlKey&&!e.altKey||b&&e.metaKey)){var i=e.keyCode,n=e.charCode;if(u&&i==rs)return rs=null,void lt(e);if(!u||e.which&&!(e.which<10)||!ns(t,e)){var r=String.fromCharCode(null==n?i:n);"\b"!=r&&(function(e,t,i){return ts(e,"'"+i+"'",t,function(t){return Qo(e,t,!0)})}(t,e,r)||t.display.input.onKeyPress(e))}}}var ls,cs,ds=function(e,t,i){this.time=e,this.pos=t,this.button=i};function us(e){var t=this,i=t.display;if(!(rt(t,e)||i.activeTouch&&i.input.supportsTouch()))if(i.input.ensurePolled(),i.shift=e.shiftKey,xi(i,e))l||(i.scroller.draggable=!1,setTimeout(function(){return i.scroller.draggable=!0},100));else if(!fs(t,e)){var n=an(t,e),r=pt(e),o=n?function(e,t){var i=+new Date;return cs&&cs.compare(i,e,t)?(ls=cs=null,"triple"):ls&&ls.compare(i,e,t)?(cs=new ds(i,e,t),ls=null,"double"):(ls=new ds(i,e,t),cs=null,"single")}(n,r):"single";window.focus(),1==r&&t.state.selectingText&&t.state.selectingText(e),n&&function(e,t,i,n,r){var o="Click";"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o);return ts(e,Bo(o=(1==t?"Left":2==t?"Middle":"Right")+o,r),r,function(t){if("string"==typeof t&&(t=Ko[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,i)!=H}finally{e.state.suppressEdits=!1}return n})}(t,r,n,o,e)||(1==r?n?function(e,t,i,n){s?setTimeout(E(gn,e),0):e.curOp.focus=N();var r,o=function(e,t,i){var n=e.getOption("configureMouse"),r=n?n(e,t,i):{};if(null==r.unit){var o=y?i.shiftKey&&i.metaKey:i.altKey;r.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}(null==r.extend||e.doc.extend)&&(r.extend=e.doc.extend||i.shiftKey);null==r.addNew&&(r.addNew=b?i.metaKey:i.ctrlKey);null==r.moveOnDrag&&(r.moveOnDrag=!(b?i.altKey:i.ctrlKey));return r}(e,i,n),c=e.doc.sel;e.options.dragDrop&&mt&&!e.isReadOnly()&&"single"==i&&(r=c.contains(t))>-1&&(me((r=c.ranges[r]).from(),t)<0||t.xRel>0)&&(me(r.to(),t)>0||t.xRel<0)?function(e,t,i,n){var r=e.display,o=!1,c=Yn(e,function(t){l&&(r.scroller.draggable=!1),e.state.draggingText=!1,it(r.wrapper.ownerDocument,"mouseup",c),it(r.wrapper.ownerDocument,"mousemove",d),it(r.scroller,"dragstart",u),it(r.scroller,"drop",c),o||(lt(t),n.addNew||Br(e.doc,i,null,null,n.extend),l||s&&9==a?setTimeout(function(){r.wrapper.ownerDocument.body.focus(),r.input.focus()},20):r.input.focus())}),d=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},u=function(){return o=!0};l&&(r.scroller.draggable=!0);e.state.draggingText=c,c.copy=!n.moveOnDrag,r.scroller.dragDrop&&r.scroller.dragDrop();et(r.wrapper.ownerDocument,"mouseup",c),et(r.wrapper.ownerDocument,"mousemove",d),et(r.scroller,"dragstart",u),et(r.scroller,"drop",c),mn(e),setTimeout(function(){return r.input.focus()},20)}(e,n,t,o):function(e,t,i,n){var r=e.display,o=e.doc;lt(t);var s,a,l=o.sel,c=l.ranges;n.addNew&&!n.extend?(a=o.sel.contains(i),s=a>-1?c[a]:new br(i,i)):(s=o.sel.primary(),a=o.sel.primIndex);if("rectangle"==n.unit)n.addNew||(s=new br(i,i)),i=an(e,t,!0,!0),a=-1;else{var d=hs(e,i,n.unit);s=n.extend?Hr(s,d.anchor,d.head,n.extend):d}n.addNew?-1==a?(a=c.length,Yr(o,yr(e,c.concat([s]),a),{scroll:!1,origin:"*mouse"})):c.length>1&&c[a].empty()&&"char"==n.unit&&!n.extend?(Yr(o,yr(e,c.slice(0,a).concat(c.slice(a+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Wr(o,a,s,G):(a=0,Yr(o,new vr([s],0),G),l=o.sel);var u=i;function h(t){if(0!=me(u,t))if(u=t,"rectangle"==n.unit){for(var r=[],c=e.options.tabSize,d=P(ae(o,i.line).text,i.ch,c),h=P(ae(o,t.line).text,t.ch,c),p=Math.min(d,h),f=Math.max(d,h),g=Math.min(i.line,t.line),m=Math.min(e.lastLine(),Math.max(i.line,t.line));g<=m;g++){var v=ae(o,g).text,b=V(v,p,c);p==f?r.push(new br(ge(g,b),ge(g,b))):v.length>b&&r.push(new br(ge(g,b),ge(g,V(v,f,c))))}r.length||r.push(new br(i,i)),Yr(o,yr(e,l.ranges.slice(0,a).concat(r),a),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y,w=s,x=hs(e,t,n.unit),C=w.anchor;me(x.anchor,C)>0?(y=x.head,C=we(w.from(),x.anchor)):(y=x.anchor,C=ye(w.to(),x.head));var k=l.ranges.slice(0);k[a]=function(e,t){var i=t.anchor,n=t.head,r=ae(e.doc,i.line);if(0==me(i,n)&&i.sticky==n.sticky)return t;var o=Je(r);if(!o)return t;var s=Ke(o,i.ch,i.sticky),a=o[s];if(a.from!=i.ch&&a.to!=i.ch)return t;var l,c=s+(a.from==i.ch==(1!=a.level)?0:1);if(0==c||c==o.length)return t;if(n.line!=i.line)l=(n.line-i.line)*("ltr"==e.doc.direction?1:-1)>0;else{var d=Ke(o,n.ch,n.sticky),u=d-s||(n.ch-i.ch)*(1==a.level?-1:1);l=d==c-1||d==c?u<0:u>0}var h=o[c+(l?-1:0)],p=l==(1==h.level),f=p?h.from:h.to,g=p?"after":"before";return i.ch==f&&i.sticky==g?t:new br(new ge(i.line,f,g),n)}(e,new br(Ce(o,C),y)),Yr(o,yr(e,k,a),G)}}var p=r.wrapper.getBoundingClientRect(),f=0;function g(t){e.state.selectingText=!1,f=1/0,lt(t),r.input.focus(),it(r.wrapper.ownerDocument,"mousemove",m),it(r.wrapper.ownerDocument,"mouseup",v),o.history.lastSelOrigin=null}var m=Yn(e,function(t){0!==t.buttons&&pt(t)?function t(i){var s=++f;var a=an(e,i,!0,"rectangle"==n.unit);if(!a)return;if(0!=me(a,u)){e.curOp.focus=N(),h(a);var l=xn(r,o);(a.line>=l.to||a.line<l.from)&&setTimeout(Yn(e,function(){f==s&&t(i)}),150)}else{var c=i.clientY<p.top?-20:i.clientY>p.bottom?20:0;c&&setTimeout(Yn(e,function(){f==s&&(r.scroller.scrollTop+=c,t(i))}),50)}}(t):g(t)}),v=Yn(e,g);e.state.selectingText=v,et(r.wrapper.ownerDocument,"mousemove",m),et(r.wrapper.ownerDocument,"mouseup",v)}(e,n,t,o)}(t,n,o,e):ht(e)==i.scroller&&lt(e):2==r?(n&&Br(t.doc,n),setTimeout(function(){return i.input.focus()},20)):3==r&&(k?t.display.input.onContextMenu(e):mn(t)))}}function hs(e,t,i){if("char"==i)return new br(t,t);if("word"==i)return e.findWordAt(t);if("line"==i)return new br(ge(t.line,0),Ce(e.doc,ge(t.line+1,0)));var n=i(e,t);return new br(n.from,n.to)}function ps(e,t,i,n){var r,o;if(t.touches)r=t.touches[0].clientX,o=t.touches[0].clientY;else try{r=t.clientX,o=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&lt(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!st(e,i))return dt(t);o-=a.top-s.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r)return nt(e,i,e,he(e.doc,o),e.options.gutters[l],t),dt(t)}}function fs(e,t){return ps(e,t,"gutterClick",!0)}function gs(e,t){xi(e.display,t)||function(e,t){if(!st(e,"gutterContextMenu"))return!1;return ps(e,t,"gutterContextMenu",!1)}(e,t)||rt(e,t,"contextmenu")||k||e.display.input.onContextMenu(t)}function ms(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Li(e)}ds.prototype.compare=function(e,t,i){return this.time+400>e&&0==me(t,this.pos)&&i==this.button};var vs={toString:function(){return"CodeMirror.Init"}},bs={},ys={};function ws(e){dr(e),Zn(e),Cn(e)}function xs(e,t,i){if(!t!=!(i&&i!=vs)){var n=e.display.dragFunctions,r=t?et:it;r(e.display.scroller,"dragstart",n.start),r(e.display.scroller,"dragenter",n.enter),r(e.display.scroller,"dragover",n.over),r(e.display.scroller,"dragleave",n.leave),r(e.display.scroller,"drop",n.drop)}}function Cs(e){e.options.lineWrapping?(I(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(D(e.display.wrapper,"CodeMirror-wrap"),Ye(e)),sn(e),Zn(e),Li(e),setTimeout(function(){return En(e)},100)}function ks(e,t){var n=this;if(!(this instanceof ks))return new ks(e,t);this.options=t=t?M(t):{},M(bs,t,!1),ur(t);var r=t.value;"string"==typeof r?r=new Do(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var o=new ks.inputStyles[t.inputStyle](this),c=this.display=new function(e,t,n){var r=this;this.input=n,r.scrollbarFiller=j("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=j("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=A("div",null,"CodeMirror-code"),r.selectionDiv=j("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=j("div",null,"CodeMirror-cursors"),r.measure=j("div",null,"CodeMirror-measure"),r.lineMeasure=j("div",null,"CodeMirror-measure"),r.lineSpace=A("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var o=A("div",[r.lineSpace],"CodeMirror-lines");r.mover=j("div",[o],null,"position: relative"),r.sizer=j("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=j("div",null,null,"position: absolute; height: "+z+"px; width: 1px;"),r.gutters=j("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=j("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=j("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),s&&a<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),l||i&&v||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,n.init(r)}(e,r,o);for(var d in c.wrapper.CodeMirror=this,dr(this),ms(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Ln(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new L,keySeq:null,specialChars:null},t.autofocus&&!v&&c.input.focus(),s&&a<11&&setTimeout(function(){return n.display.input.reset(!0)},20),function(e){var t=e.display;et(t.scroller,"mousedown",Yn(e,us)),et(t.scroller,"dblclick",s&&a<11?Yn(e,function(t){if(!rt(e,t)){var i=an(e,t);if(i&&!fs(e,t)&&!xi(e.display,t)){lt(t);var n=e.findWordAt(i);Br(e.doc,n.anchor,n.head)}}}):function(t){return rt(e,t)||lt(t)});et(t.scroller,"contextmenu",function(t){return gs(e,t)});var i,n={end:0};function r(){t.activeTouch&&(i=setTimeout(function(){return t.activeTouch=null},1e3),(n=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var i=t.left-e.left,n=t.top-e.top;return i*i+n*n>400}et(t.scroller,"touchstart",function(r){if(!rt(e,r)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(r)&&!fs(e,r)){t.input.ensurePolled(),clearTimeout(i);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-n.end<=300?n:null},1==r.touches.length&&(t.activeTouch.left=r.touches[0].pageX,t.activeTouch.top=r.touches[0].pageY)}}),et(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),et(t.scroller,"touchend",function(i){var n=t.activeTouch;if(n&&!xi(t,i)&&null!=n.left&&!n.moved&&new Date-n.start<300){var s,a=e.coordsChar(t.activeTouch,"page");s=!n.prev||o(n,n.prev)?new br(a,a):!n.prev.prev||o(n,n.prev.prev)?e.findWordAt(a):new br(ge(a.line,0),Ce(e.doc,ge(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),lt(i)}r()}),et(t.scroller,"touchcancel",r),et(t.scroller,"scroll",function(){t.scroller.clientHeight&&(An(e,t.scroller.scrollTop),Nn(e,t.scroller.scrollLeft,!0),nt(e,"scroll",e))}),et(t.scroller,"mousewheel",function(t){return mr(e,t)}),et(t.scroller,"DOMMouseScroll",function(t){return mr(e,t)}),et(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){rt(e,t)||ut(t)},over:function(t){rt(e,t)||(!function(e,t){var i=an(e,t);if(i){var n=document.createDocumentFragment();un(e,i,n),e.display.dragCursor||(e.display.dragCursor=j("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),_(e.display.dragCursor,n)}}(e,t),ut(t))},start:function(t){return function(e,t){if(s&&(!e.state.draggingText||+new Date-To<100))ut(t);else if(!rt(e,t)&&!xi(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!h)){var i=j("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",u&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),t.dataTransfer.setDragImage(i,0,0),u&&i.parentNode.removeChild(i)}}(e,t)},drop:Yn(e,_o),leave:function(t){rt(e,t)||jo(e)}};var l=t.input.getField();et(l,"keyup",function(t){return ss.call(e,t)}),et(l,"keydown",Yn(e,os)),et(l,"keypress",Yn(e,as)),et(l,"focus",function(t){return vn(e,t)}),et(l,"blur",function(t){return bn(e,t)})}(this),No(),zn(this),this.curOp.forceUpdate=!0,Ar(this,r),t.autofocus&&!v||this.hasFocus()?setTimeout(E(vn,this),20):bn(this),ys)ys.hasOwnProperty(d)&&ys[d](n,t[d],vs);kn(this),t.finishInit&&t.finishInit(this);for(var p=0;p<Ss.length;++p)Ss[p](n);Hn(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(c.lineDiv).textRendering&&(c.lineDiv.style.textRendering="auto")}ks.defaults=bs,ks.optionHandlers=ys;var Ss=[];function $s(e,t,i,n){var r,o=e.doc;null==i&&(i="add"),"smart"==i&&(o.mode.indent?r=Pt(e,t).state:i="prev");var s=e.options.tabSize,a=ae(o,t),l=P(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,d=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==i&&((c=o.mode.indent(r,a.text.slice(d.length),a.text))==H||c>150)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=t>o.first?P(ae(o,t-1).text,null,s):0:"add"==i?c=l+e.options.indentUnit:"subtract"==i?c=l-e.options.indentUnit:"number"==typeof i&&(c=l+i),c=Math.max(0,c);var u="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(c/s);p;--p)h+=s,u+="\t";if(h<c&&(u+=Y(c-h)),u!=d)return co(o,u,ge(t,0),ge(t,d.length),"+input"),a.stateAfter=null,!0;for(var f=0;f<o.sel.ranges.length;f++){var g=o.sel.ranges[f];if(g.head.line==t&&g.head.ch<d.length){var m=ge(t,d.length);Wr(o,f,new br(m,m));break}}}ks.defineInitHook=function(e){return Ss.push(e)};var Ds=null;function Ts(e){Ds=e}function _s(e,t,i,n,r){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var s=e.state.pasteIncoming||"paste"==r,a=wt(t),l=null;if(s&&n.ranges.length>1)if(Ds&&Ds.text.join("\n")==t){if(n.ranges.length%Ds.text.length==0){l=[];for(var c=0;c<Ds.text.length;c++)l.push(o.splitLines(Ds.text[c]))}}else a.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(l=K(a,function(e){return[e]}));for(var d=e.curOp.updateInput,u=n.ranges.length-1;u>=0;u--){var h=n.ranges[u],p=h.from(),f=h.to();h.empty()&&(i&&i>0?p=ge(p.line,p.ch-i):e.state.overwrite&&!s?f=ge(f.line,Math.min(ae(o,f.line).text.length,f.ch+X(a).length)):s&&Ds&&Ds.lineWise&&Ds.text.join("\n")==t&&(p=f=ge(p.line,0)));var g={from:p,to:f,text:l?l[u%l.length]:a,origin:r||(s?"paste":e.state.cutIncoming?"cut":"+input")};ro(e.doc,g),ai(e,"inputRead",e,g)}t&&!s&&As(e,t),Dn(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function js(e,t){var i=e.clipboardData&&e.clipboardData.getData("Text");if(i)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Un(t,function(){return _s(t,i,0,null,"paste")}),!0}function As(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var i=e.doc.sel,n=i.ranges.length-1;n>=0;n--){var r=i.ranges[n];if(!(r.head.ch>100||n&&i.ranges[n-1].head.line==r.head.line)){var o=e.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=$s(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(ae(e.doc,r.head.line).text.slice(0,r.head.ch))&&(s=$s(e,r.head.line,"smart"));s&&ai(e,"electricInput",e,r.head.line)}}}function Fs(e){for(var t=[],i=[],n=0;n<e.doc.sel.ranges.length;n++){var r=e.doc.sel.ranges[n].head.line,o={anchor:ge(r,0),head:ge(r+1,0)};i.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:i}}function Ns(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function Is(){var e=j("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=j("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),g&&(e.style.border="1px solid black"),Ns(e),t}function Os(e,t,i,n,r){var o=t,s=i,a=ae(e,t.line);function l(n){var o,s;if(null==(o=r?function(e,t,i,n){var r=Je(t,e.doc.direction);if(!r)return Yo(t,i,n);i.ch>=t.text.length?(i.ch=t.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var o=Ke(r,i.ch,i.sticky),s=r[o];if("ltr"==e.doc.direction&&s.level%2==0&&(n>0?s.to>i.ch:s.from<i.ch))return Yo(t,i,n);var a,l=function(e,i){return Uo(t,e instanceof ge?e.ch:e,i)},c=function(i){return e.options.lineWrapping?(a=a||Fi(e,t),Zi(e,t,a,i)):{begin:0,end:t.text.length}},d=c("before"==i.sticky?l(i,-1):i.ch);if("rtl"==e.doc.direction||1==s.level){var u=1==s.level==n<0,h=l(i,u?1:-1);if(null!=h&&(u?h<=s.to&&h<=d.end:h>=s.from&&h>=d.begin)){var p=u?"before":"after";return new ge(i.line,h,p)}}var f=function(e,t,n){for(var o=function(e,t){return t?new ge(i.line,l(e,1),"before"):new ge(i.line,e,"after")};e>=0&&e<r.length;e+=t){var s=r[e],a=t>0==(1!=s.level),c=a?n.begin:l(n.end,-1);if(s.from<=c&&c<s.to)return o(c,a);if(c=a?s.from:l(s.to,-1),n.begin<=c&&c<n.end)return o(c,a)}},g=f(o+n,n,d);if(g)return g;var m=n>0?d.end:l(d.begin,-1);return null==m||n>0&&m==t.text.length||!(g=f(n>0?0:r.length-1,n,c(m)))?null:g}(e.cm,a,t,i):Yo(a,t,i))){if(n||(s=t.line+i)<e.first||s>=e.first+e.size||(t=new ge(s,t.ch,t.sticky),!(a=ae(e,s))))return!1;t=Xo(r,e.cm,a,t.line,i)}else t=o;return!0}if("char"==n)l();else if("column"==n)l(!0);else if("word"==n||"group"==n)for(var c=null,d="group"==n,u=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(i<0)||l(!h);h=!1){var p=a.text.charAt(t.ch)||"\n",f=te(p,u)?"w":d&&"\n"==p?"n":!d||/\s/.test(p)?null:"p";if(!d||h||f||(f="s"),c&&c!=f){i<0&&(i=1,l(),t.sticky="after");break}if(f&&(c=f),i>0&&!l(!h))break}var g=eo(e,t,o,s,!0);return ve(o,g)&&(g.hitSide=!0),g}function Rs(e,t,i,n){var r,o,s=e.doc,a=t.left;if("page"==n){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*en(e.display),3);r=(i>0?t.bottom:t.top)+i*c}else"line"==n&&(r=i>0?t.bottom+3:t.top-3);for(;(o=Xi(e,a,r)).outside;){if(i<0?r<=0:r>=s.height){o.hitSide=!0;break}r+=5*i}return o}var Es=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new L,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ms(e,t){var i=Ai(e,t.line);if(!i||i.hidden)return null;var n=ae(e.doc,t.line),r=_i(i,n,t.line),o=Je(n,e.doc.direction),s="left";o&&(s=Ke(o,t.ch)%2?"right":"left");var a=Ri(r.map,t.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function Ps(e,t){return t&&(e.bad=!0),e}function Ls(e,t,i){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[i]))return Ps(e.clipPos(ge(e.display.viewTo-1)),!0);t=null,i=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==n)return qs(o,t,i)}}function qs(e,t,i){var n=e.text.firstChild,r=!1;if(!t||!F(n,t))return Ps(ge(ue(e.line),0),!0);if(t==n&&(r=!0,t=n.childNodes[i],i=0,!t)){var o=e.rest?X(e.rest):e.line;return Ps(ge(ue(o),o.text.length),r)}var s=3==t.nodeType?t:null,a=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,i&&(i=s.nodeValue.length));a.parentNode!=n;)a=a.parentNode;var l=e.measure,c=l.maps;function d(t,i,n){for(var r=-1;r<(c?c.length:0);r++)for(var o=r<0?l.map:c[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==i){var d=ue(r<0?e.line:e.rest[r]),u=o[s]+n;return(n<0||a!=t)&&(u=o[s+(n?1:0)]),ge(d,u)}}}var u=d(s,a,i);if(u)return Ps(u,r);for(var h=a.nextSibling,p=s?s.nodeValue.length-i:0;h;h=h.nextSibling){if(u=d(h,h.firstChild,0))return Ps(ge(u.line,u.ch-p),r);p+=h.textContent.length}for(var f=a.previousSibling,g=i;f;f=f.previousSibling){if(u=d(f,f.firstChild,-1))return Ps(ge(u.line,u.ch+g),r);g+=f.textContent.length}}Es.prototype.init=function(e){var t=this,i=this,n=i.cm,r=i.div=e.lineDiv;function o(e){if(!rt(n,e)){if(n.somethingSelected())Ts({lineWise:!1,text:n.getSelections()}),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=Fs(n);Ts({lineWise:!0,text:t.text}),"cut"==e.type&&n.operation(function(){n.setSelections(t.ranges,0,B),n.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var o=Ds.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var s=Is(),a=s.firstChild;n.display.lineSpace.insertBefore(s,n.display.lineSpace.firstChild),a.value=Ds.text.join("\n");var l=document.activeElement;R(a),setTimeout(function(){n.display.lineSpace.removeChild(s),l.focus(),l==r&&i.showPrimarySelection()},50)}}Ns(r,n.options.spellcheck),et(r,"paste",function(e){rt(n,e)||js(e,n)||a<=11&&setTimeout(Yn(n,function(){return t.updateFromDOM()}),20)}),et(r,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),et(r,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),et(r,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),et(r,"touchstart",function(){return i.forceCompositionEnd()}),et(r,"input",function(){t.composing||t.readFromDOMSoon()}),et(r,"copy",o),et(r,"cut",o)},Es.prototype.prepareSelection=function(){var e=dn(this.cm,!1);return e.focus=this.cm.state.focused,e},Es.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Es.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Es.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),o=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var s=Ls(t,e.anchorNode,e.anchorOffset),a=Ls(t,e.focusNode,e.focusOffset);if(!s||s.bad||!a||a.bad||0!=me(we(s,a),r)||0!=me(ye(s,a),o)){var l=t.display.view,c=r.line>=t.display.viewFrom&&Ms(t,r)||{node:l[0].measure.map[2],offset:0},d=o.line<t.display.viewTo&&Ms(t,o);if(!d){var u=l[l.length-1].measure,h=u.maps?u.maps[u.maps.length-1]:u.map;d={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(c&&d){var p,f=e.rangeCount&&e.getRangeAt(0);try{p=$(c.node,c.offset,d.offset,d.node)}catch(e){}p&&(!i&&t.state.focused?(e.collapse(c.node,c.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),f&&null==e.anchorNode?e.addRange(f):i&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Es.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Es.prototype.showMultipleSelections=function(e){_(this.cm.display.cursorDiv,e.cursors),_(this.cm.display.selectionDiv,e.selection)},Es.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Es.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return F(this.div,t)},Es.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Es.prototype.blur=function(){this.div.blur()},Es.prototype.getField=function(){return this.div},Es.prototype.supportsTouch=function(){return!0},Es.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Un(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))})},Es.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Es.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(m&&d&&this.cm.options.gutters.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var i=Ls(t,e.anchorNode,e.anchorOffset),n=Ls(t,e.focusNode,e.focusOffset);i&&n&&Un(t,function(){Yr(t.doc,wr(i,n),B),(i.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},Es.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,i,n=this.cm,r=n.display,o=n.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>n.firstLine()&&(s=ge(s.line-1,ae(n.doc,s.line-1).length)),a.ch==ae(n.doc,a.line).text.length&&a.line<n.lastLine()&&(a=ge(a.line+1,0)),s.line<r.viewFrom||a.line>r.viewTo-1)return!1;s.line==r.viewFrom||0==(e=ln(n,s.line))?(t=ue(r.view[0].line),i=r.view[0].node):(t=ue(r.view[e].line),i=r.view[e-1].node.nextSibling);var l,c,d=ln(n,a.line);if(d==r.view.length-1?(l=r.viewTo-1,c=r.lineDiv.lastChild):(l=ue(r.view[d+1].line)-1,c=r.view[d+1].node.previousSibling),!i)return!1;for(var u=n.doc.splitLines(function(e,t,i,n,r){var o="",s=!1,a=e.doc.lineSeparator(),l=!1;function c(){s&&(o+=a,l&&(o+=a),s=l=!1)}function d(e){e&&(c(),o+=e)}function u(t){if(1==t.nodeType){var i=t.getAttribute("cm-text");if(i)return void d(i);var o,h=t.getAttribute("cm-marker");if(h){var p=e.findMarks(ge(n,0),ge(r+1,0),(m=+h,function(e){return e.id==m}));return void(p.length&&(o=p[0].find(0))&&d(le(e.doc,o.from,o.to).join(a)))}if("false"==t.getAttribute("contenteditable"))return;var f=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;f&&c();for(var g=0;g<t.childNodes.length;g++)u(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),f&&(s=!0)}else 3==t.nodeType&&d(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var m}for(;u(t),t!=i;)t=t.nextSibling,l=!1;return o}(n,i,c,t,l)),h=le(n.doc,ge(t,0),ge(l,ae(n.doc,l).text.length));u.length>1&&h.length>1;)if(X(u)==X(h))u.pop(),h.pop(),l--;else{if(u[0]!=h[0])break;u.shift(),h.shift(),t++}for(var p=0,f=0,g=u[0],m=h[0],v=Math.min(g.length,m.length);p<v&&g.charCodeAt(p)==m.charCodeAt(p);)++p;for(var b=X(u),y=X(h),w=Math.min(b.length-(1==u.length?p:0),y.length-(1==h.length?p:0));f<w&&b.charCodeAt(b.length-f-1)==y.charCodeAt(y.length-f-1);)++f;if(1==u.length&&1==h.length&&t==s.line)for(;p&&p>s.ch&&b.charCodeAt(b.length-f-1)==y.charCodeAt(y.length-f-1);)p--,f++;u[u.length-1]=b.slice(0,b.length-f).replace(/^\u200b+/,""),u[0]=u[0].slice(p).replace(/\u200b+$/,"");var x=ge(t,p),C=ge(l,h.length?X(h).length-f:0);return u.length>1||u[0]||me(x,C)?(co(n.doc,u,x,C,"+input"),!0):void 0},Es.prototype.ensurePolled=function(){this.forceCompositionEnd()},Es.prototype.reset=function(){this.forceCompositionEnd()},Es.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Es.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Es.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Un(this.cm,function(){return Zn(e.cm)})},Es.prototype.setUneditable=function(e){e.contentEditable="false"},Es.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Yn(this.cm,_s)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Es.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Es.prototype.onContextMenu=function(){},Es.prototype.resetPosition=function(){},Es.prototype.needsContentAttribute=!0;var zs=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new L,this.hasSelection=!1,this.composing=null};zs.prototype.init=function(e){var t=this,i=this,n=this.cm;this.createField(e);var r=this.textarea;function o(e){if(!rt(n,e)){if(n.somethingSelected())Ts({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=Fs(n);Ts({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,B):(i.prevInput="",r.value=t.text.join("\n"),R(r))}"cut"==e.type&&(n.state.cutIncoming=!0)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),g&&(r.style.width="0px"),et(r,"input",function(){s&&a>=9&&t.hasSelection&&(t.hasSelection=null),i.poll()}),et(r,"paste",function(e){rt(n,e)||js(e,n)||(n.state.pasteIncoming=!0,i.fastPoll())}),et(r,"cut",o),et(r,"copy",o),et(e.scroller,"paste",function(t){xi(e,t)||rt(n,t)||(n.state.pasteIncoming=!0,i.focus())}),et(e.lineSpace,"selectstart",function(t){xi(e,t)||lt(t)}),et(r,"compositionstart",function(){var e=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),et(r,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},zs.prototype.createField=function(e){this.wrapper=Is(),this.textarea=this.wrapper.firstChild},zs.prototype.prepareSelection=function(){var e=this.cm,t=e.display,i=e.doc,n=dn(e);if(e.options.moveInputWithCursor){var r=Vi(e,i.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+s.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+s.left-o.left))}return n},zs.prototype.showSelection=function(e){var t=this.cm.display;_(t.cursorDiv,e.cursors),_(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},zs.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var i=t.getSelection();this.textarea.value=i,t.state.focused&&R(this.textarea),s&&a>=9&&(this.hasSelection=i)}else e||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null))}},zs.prototype.getField=function(){return this.textarea},zs.prototype.supportsTouch=function(){return!1},zs.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||N()!=this.textarea))try{this.textarea.focus()}catch(e){}},zs.prototype.blur=function(){this.textarea.blur()},zs.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},zs.prototype.receivedFocus=function(){this.slowPoll()},zs.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},zs.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function i(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,i))})},zs.prototype.poll=function(){var e=this,t=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||xt(i)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var r=i.value;if(r==n&&!t.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===r||b&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||n||(n="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(n.length,r.length);l<c&&n.charCodeAt(l)==r.charCodeAt(l);)++l;return Un(t,function(){_s(t,r.slice(l),n.length-l,null,e.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?i.value=e.prevInput="":e.prevInput=r,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},zs.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},zs.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},zs.prototype.onContextMenu=function(e){var t=this,i=t.cm,n=i.display,r=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=an(i,e),c=n.scroller.scrollTop;if(o&&!u){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(o)&&Yn(i,Yr)(i.doc,wr(o),B);var d,h=r.style.cssText,p=t.wrapper.style.cssText,f=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(d=window.scrollY),n.input.focus(),l&&window.scrollTo(null,d),n.input.reset(),i.somethingSelected()||(r.value=t.prevInput=" "),t.contextMenuPending=v,n.selForContextMenu=i.doc.sel,clearTimeout(n.detectingSelectAll),s&&a>=9&&m(),k){ut(e);var g=function(){it(window,"mouseup",g),setTimeout(v,20)};et(window,"mouseup",g)}else setTimeout(v,50)}function m(){if(null!=r.selectionStart){var e=i.somethingSelected(),o="​"+(e?r.value:"");r.value="⇚",r.value=o,t.prevInput=e?"":"​",r.selectionStart=1,r.selectionEnd=o.length,n.selForContextMenu=i.doc.sel}}function v(){if(t.contextMenuPending==v&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,r.style.cssText=h,s&&a<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=c),null!=r.selectionStart)){(!s||s&&a<9)&&m();var e=0,o=function(){n.selForContextMenu==i.doc.sel&&0==r.selectionStart&&r.selectionEnd>0&&"​"==t.prevInput?Yn(i,io)(i):e++<10?n.detectingSelectAll=setTimeout(o,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(o,200)}}},zs.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},zs.prototype.setUneditable=function(){},zs.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function i(i,n,r,o){e.defaults[i]=n,r&&(t[i]=o?function(e,t,i){i!=vs&&r(e,t,i)}:r)}e.defineOption=i,e.Init=vs,i("value","",function(e,t){return e.setValue(t)},!0),i("mode",null,function(e,t){e.doc.modeOption=t,$r(e)},!0),i("indentUnit",2,$r,!0),i("indentWithTabs",!1),i("smartIndent",!0),i("tabSize",4,function(e){Dr(e),Li(e),Zn(e)},!0),i("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var i=[],n=e.doc.first;e.doc.iter(function(e){for(var r=0;;){var o=e.text.indexOf(t,r);if(-1==o)break;r=o+t.length,i.push(ge(n,o))}n++});for(var r=i.length-1;r>=0;r--)co(e.doc,t,i[r],ge(i[r].line,i[r].ch+t.length))}}),i("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,i){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),i!=vs&&e.refresh()}),i("specialCharPlaceholder",Jt,function(e){return e.refresh()},!0),i("electricChars",!0),i("inputStyle",v?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),i("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),i("rtlMoveVisually",!w),i("wholeLineUpdateBefore",!0),i("theme","default",function(e){ms(e),ws(e)},!0),i("keyMap","default",function(e,t,i){var n=Wo(t),r=i!=vs&&Wo(i);r&&r.detach&&r.detach(e,n),n.attach&&n.attach(e,r||null)}),i("extraKeys",null),i("configureMouse",null),i("lineWrapping",!1,Cs,!0),i("gutters",[],function(e){ur(e.options),ws(e)},!0),i("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?rn(e.display)+"px":"0",e.refresh()},!0),i("coverGutterNextToScrollbar",!1,function(e){return En(e)},!0),i("scrollbarStyle","native",function(e){Ln(e),En(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),i("lineNumbers",!1,function(e){ur(e.options),ws(e)},!0),i("firstLineNumber",1,ws,!0),i("lineNumberFormatter",function(e){return e},ws,!0),i("showCursorWhenSelecting",!1,cn,!0),i("resetSelectionOnContextMenu",!0),i("lineWiseCopyCut",!0),i("pasteLinesPerSelection",!0),i("selectionsMayTouch",!1),i("readOnly",!1,function(e,t){"nocursor"==t&&(bn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),i("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),i("dragDrop",!0,xs),i("allowDropFileTypes",null),i("cursorBlinkRate",530),i("cursorScrollMargin",0),i("cursorHeight",1,cn,!0),i("singleCursorHeightPerLine",!0,cn,!0),i("workTime",100),i("workDelay",100),i("flattenSpans",!0,Dr,!0),i("addModeClass",!1,Dr,!0),i("pollInterval",100),i("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),i("historyEventDelay",1250),i("viewportMargin",10,function(e){return e.refresh()},!0),i("maxHighlightLength",1e4,Dr,!0),i("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),i("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),i("autofocus",null),i("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),i("phrases",null)}(ks),function(e){var t=e.optionHandlers,i=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,i){var n=this.options,r=n[e];n[e]==i&&"mode"!=e||(n[e]=i,t.hasOwnProperty(e)&&Yn(this,t[e])(this,i,r),nt(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Wo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,i=0;i<t.length;++i)if(t[i]==e||t[i].name==e)return t.splice(i,1),!0},addOverlay:Xn(function(t,i){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");!function(e,t,i){for(var n=0,r=i(t);n<e.length&&i(e[n])<=r;)n++;e.splice(n,0,t)}(this.state.overlays,{mode:n,modeSpec:t,opaque:i&&i.opaque,priority:i&&i.priority||0},function(e){return e.priority}),this.state.modeGen++,Zn(this)}),removeOverlay:Xn(function(e){for(var t=this.state.overlays,i=0;i<t.length;++i){var n=t[i].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(i,1),this.state.modeGen++,void Zn(this)}}),indentLine:Xn(function(e,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),pe(this.doc,e)&&$s(this,e,t,i)}),indentSelection:Xn(function(e){for(var t=this.doc.sel.ranges,i=-1,n=0;n<t.length;n++){var r=t[n];if(r.empty())r.head.line>i&&($s(this,r.head.line,e,!0),i=r.head.line,n==this.doc.sel.primIndex&&Dn(this));else{var o=r.from(),s=r.to(),a=Math.max(i,o.line);i=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<i;++l)$s(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[n].from().ch>0&&Wr(this.doc,n,new br(o,c[n].to()),B)}}}),getTokenAt:function(e,t){return Bt(this,e,t)},getLineTokens:function(e,t){return Bt(this,ge(e),t,!0)},getTokenTypeAt:function(e){e=Ce(this.doc,e);var t,i=Mt(this,ae(this.doc,e.line)),n=0,r=(i.length-1)/2,o=e.ch;if(0==o)t=i[2];else for(;;){var s=n+r>>1;if((s?i[2*s-1]:0)>=o)r=s;else{if(!(i[2*s+1]<o)){t=i[2*s+2];break}n=s+1}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(t).state).mode:i},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!i.hasOwnProperty(t))return n;var r=i[t],o=this.getModeAt(e);if("string"==typeof o[t])r[o[t]]&&n.push(r[o[t]]);else if(o[t])for(var s=0;s<o[t].length;s++){var a=r[o[t][s]];a&&n.push(a)}else o.helperType&&r[o.helperType]?n.push(r[o.helperType]):r[o.name]&&n.push(r[o.name]);for(var l=0;l<r._global.length;l++){var c=r._global[l];c.pred(o,this)&&-1==q(n,c.val)&&n.push(c.val)}return n},getStateAfter:function(e,t){var i=this.doc;return Pt(this,(e=xe(i,null==e?i.first+i.size-1:e))+1,t).state},cursorCoords:function(e,t){var i=this.doc.sel.primary();return Vi(this,null==e?i.head:"object"==typeof e?Ce(this.doc,e):e?i.from():i.to(),t||"page")},charCoords:function(e,t){return Wi(this,Ce(this.doc,e),t||"page")},coordsChar:function(e,t){return Xi(this,(e=Gi(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Gi(this,{top:e,left:0},t||"page").top,he(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,i){var n,r=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,r=!0),n=ae(this.doc,e)}else n=e;return Bi(this,n,{top:0,left:0},t||"page",i||r).top+(r?this.doc.height-Ve(n):0)},defaultTextHeight:function(){return en(this.display)},defaultCharWidth:function(){return tn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,i,n,r){var o,s,a,l=this.display,c=(e=Vi(this,Ce(this.doc,e))).bottom,d=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),l.sizer.appendChild(t),"over"==n)c=e.top;else if("above"==n||"near"==n){var u=Math.max(l.wrapper.clientHeight,this.doc.height),h=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>u)&&e.top>t.offsetHeight?c=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=u&&(c=e.bottom),d+t.offsetWidth>h&&(d=h-t.offsetWidth)}t.style.top=c+"px",t.style.left=t.style.right="","right"==r?(d=l.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?d=0:"middle"==r&&(d=(l.sizer.clientWidth-t.offsetWidth)/2),t.style.left=d+"px"),i&&(o=this,s={left:d,top:c,right:d+t.offsetWidth,bottom:c+t.offsetHeight},null!=(a=Sn(o,s)).scrollTop&&An(o,a.scrollTop),null!=a.scrollLeft&&Nn(o,a.scrollLeft))},triggerOnKeyDown:Xn(os),triggerOnKeyPress:Xn(as),triggerOnKeyUp:ss,triggerOnMouseDown:Xn(us),execCommand:function(e){if(Ko.hasOwnProperty(e))return Ko[e].call(null,this)},triggerElectric:Xn(function(e){As(this,e)}),findPosH:function(e,t,i,n){var r=1;t<0&&(r=-1,t=-t);for(var o=Ce(this.doc,e),s=0;s<t&&!(o=Os(this.doc,o,r,i,n)).hitSide;++s);return o},moveH:Xn(function(e,t){var i=this;this.extendSelectionsBy(function(n){return i.display.shift||i.doc.extend||n.empty()?Os(i.doc,n.head,e,t,i.options.rtlMoveVisually):e<0?n.from():n.to()},W)}),deleteH:Xn(function(e,t){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):Vo(this,function(i){var r=Os(n,i.head,e,t,!1);return e<0?{from:r,to:i.head}:{from:i.head,to:r}})}),findPosV:function(e,t,i,n){var r=1,o=n;t<0&&(r=-1,t=-t);for(var s=Ce(this.doc,e),a=0;a<t;++a){var l=Vi(this,s,"div");if(null==o?o=l.left:l.left=o,(s=Rs(this,l,r,i)).hitSide)break}return s},moveV:Xn(function(e,t){var i=this,n=this.doc,r=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(s){if(o)return e<0?s.from():s.to();var a=Vi(i,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=Rs(i,a,e,t);return"page"==t&&s==n.sel.primary()&&$n(i,Wi(i,l,"div").top-a.top),l},W),r.length)for(var s=0;s<n.sel.ranges.length;s++)n.sel.ranges[s].goalColumn=r[s]}),findWordAt:function(e){var t=ae(this.doc,e.line).text,i=e.ch,n=e.ch;if(t){var r=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!i?++n:--i;for(var o=t.charAt(i),s=te(o,r)?function(e){return te(e,r)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!te(e)};i>0&&s(t.charAt(i-1));)--i;for(;n<t.length&&s(t.charAt(n));)++n}return new br(ge(e.line,i),ge(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?I(this.display.cursorDiv,"CodeMirror-overwrite"):D(this.display.cursorDiv,"CodeMirror-overwrite"),nt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==N()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Xn(function(e,t){Tn(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-$i(this)-this.display.barHeight,width:e.scrollWidth-$i(this)-this.display.barWidth,clientHeight:Ti(this),clientWidth:Di(this)}},scrollIntoView:Xn(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ge(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){_n(e),e.curOp.scrollToPos=t}(this,e):jn(this,e.from,e.to,e.margin)}),setSize:Xn(function(e,t){var i=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&Pi(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Jn(i,r,"widget");break}++r}),this.curOp.forceUpdate=!0,nt(this,"refresh",this)}),operation:function(e){return Un(this,e)},startOperation:function(){return zn(this)},endOperation:function(){return Hn(this)},refresh:Xn(function(){var e=this.display.cachedTextHeight;Zn(this),this.curOp.forceUpdate=!0,Li(this),Tn(this,this.doc.scrollLeft,this.doc.scrollTop),lr(this),(null==e||Math.abs(e-en(this.display))>.5)&&sn(this),nt(this,"refresh",this)}),swapDoc:Xn(function(e){var t=this.doc;return t.cm=null,Ar(this,e),Li(this),this.display.input.reset(),Tn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,ai(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},at(e),e.registerHelper=function(t,n,r){i.hasOwnProperty(t)||(i[t]=e[t]={_global:[]}),i[t][n]=r},e.registerGlobalHelper=function(t,n,r,o){e.registerHelper(t,n,o),i[t]._global.push({pred:r,val:o})}}(ks);var Hs="iter insert remove copy getEditor constructor".split(" ");for(var Bs in Do.prototype)Do.prototype.hasOwnProperty(Bs)&&q(Hs,Bs)<0&&(ks.prototype[Bs]=function(e){return function(){return e.apply(this.doc,arguments)}}(Do.prototype[Bs]));return at(Do),ks.inputStyles={textarea:zs,contenteditable:Es},ks.defineMode=function(e){ks.defaults.mode||"null"==e||(ks.defaults.mode=e),function(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),St[e]=t}.apply(this,arguments)},ks.defineMIME=function(e,t){$t[e]=t},ks.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),ks.defineMIME("text/plain","null"),ks.defineExtension=function(e,t){ks.prototype[e]=t},ks.defineDocExtension=function(e,t){Do.prototype[e]=t},ks.fromTextArea=function(e,t){if((t=t?M(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var i=N();t.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}function n(){e.value=a.getValue()}var r;if(e.form&&(et(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;r=o.submit;try{var s=o.submit=function(){n(),o.submit=r,o.submit(),o.submit=s}}catch(e){}}t.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(it(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=r))}},e.style.display="none";var a=ks(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return a},function(e){e.off=it,e.on=et,e.wheelEventPixels=gr,e.Doc=Do,e.splitLines=wt,e.countColumn=P,e.findColumn=V,e.isWordChar=ee,e.Pass=H,e.signal=nt,e.Line=Vt,e.changeEnd=xr,e.scrollbarModel=Pn,e.Pos=ge,e.cmpPos=me,e.modes=St,e.mimeModes=$t,e.resolveMode=Dt,e.getMode=Tt,e.modeExtensions=_t,e.extendMode=jt,e.copyState=At,e.startState=Nt,e.innerMode=Ft,e.commands=Ko,e.keyMap=Po,e.keyName=Go,e.isModifierKey=Ho,e.lookupKey=zo,e.normalizeKeyMap=qo,e.StringStream=It,e.SharedTextMarker=Co,e.TextMarker=wo,e.LineWidget=vo,e.e_preventDefault=lt,e.e_stopPropagation=ct,e.e_stop=ut,e.addClass=I,e.contains=F,e.rmClass=D,e.keyNames=Oo}(ks),ks.version="5.42.2",ks},e.exports=n()},"9V2q":function(e,t,i){var n,r,o,s;s=function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,r=1===i.which,o=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})},r=[i("7t+N"),i("zkIY"),i("UZ9c"),i("z1kw")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},DYUE:function(e,t,i){var n,r,o,s;s=function(e){return e.fn.extend({uniqueId:(t=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}});var t},r=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},F8S1:function(e,t,i){var n,r,o,s;s=function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=e.ui.safeActiveElement(this.document[0]);e(t.target).closest(i).length||e.ui.safeBlur(i)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",t)&&i._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper),r=n?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options,o=this.document[0];this.relativeContainer=null,r.containment?"window"!==r.containment?"document"!==r.containment?r.containment.constructor!==Array?("parent"===r.containment&&(r.containment=this.helper[0].parentNode),(n=(i=e(r.containment))[0])&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)):this.containment=r.containment:this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,n){var r=e.extend({},i,{item:n.element});n.sortables=[],e(n.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,r))})},stop:function(t,i,n){var r=e.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,e.each(n.sortables,function(){this.isOver?(this.isOver=0,n.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(t),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",t,r))})},drag:function(t,i,n){e.each(n.sortables,function(){var r=!1,o=this;o.positionAbs=n.positionAbs,o.helperProportions=n.helperProportions,o.offset.click=n.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,e.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,n._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=n.offset.click.top,o.offset.click.left=n.offset.click.left,o.offset.parent.left-=n.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=n.offset.parent.top-o.offset.parent.top,n._trigger("toSortable",t),n.dropped=o.element,e.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,o.fromOutside=n),o.currentItem&&(o._mouseDrag(t),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(t),i.position=n._generatePosition(t,!0),n._trigger("fromSortable",t),n.dropped=!1,e.each(n.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,n){var r=e("body"),o=n.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(t,i,n){var r=n.options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,n){var r=e(i.helper),o=n.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(t,i,n){var r=n.options;r._opacity&&e(i.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,n){var r=n.options,o=!1,s=n.scrollParentNotHidden[0],a=n.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+s.offsetHeight-t.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:t.pageY-n.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+s.offsetWidth-t.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:t.pageX-n.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(a).scrollTop()<r.scrollSensitivity?o=e(a).scrollTop(e(a).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<r.scrollSensitivity&&(o=e(a).scrollTop(e(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(a).scrollLeft()<r.scrollSensitivity?o=e(a).scrollLeft(e(a).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<r.scrollSensitivity&&(o=e(a).scrollLeft(e(a).scrollLeft()+r.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,n){var r=n.options;n.snapElements=[],e(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var t=e(this),i=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,n){var r,o,s,a,l,c,d,u,h,p,f=n.options,g=f.snapTolerance,m=i.offset.left,v=m+n.helperProportions.width,b=i.offset.top,y=b+n.helperProportions.height;for(h=n.snapElements.length-1;h>=0;h--)c=(l=n.snapElements[h].left-n.margins.left)+n.snapElements[h].width,u=(d=n.snapElements[h].top-n.margins.top)+n.snapElements[h].height,v<l-g||m>c+g||y<d-g||b>u+g||!e.contains(n.snapElements[h].item.ownerDocument,n.snapElements[h].item)?(n.snapElements[h].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(d-y)<=g,o=Math.abs(u-b)<=g,s=Math.abs(l-v)<=g,a=Math.abs(c-m)<=g,r&&(i.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),p=r||o||s||a,"outer"!==f.snapMode&&(r=Math.abs(d-b)<=g,o=Math.abs(u-y)<=g,s=Math.abs(l-m)<=g,a=Math.abs(c-v)<=g,r&&(i.position.top=n._convertPositionTo("relative",{top:d,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[h].snapping&&(r||o||s||a||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=r||o||s||a||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,n){var r,o=n.options,s=e.makeArray(e(o.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});s.length&&(r=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(t){e(this).css("zIndex",r+t)}),this.css("zIndex",r+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,n){var r=e(i.helper),o=n.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(t,i,n){var r=n.options;r._zIndex&&e(i.helper).css("zIndex",r._zIndex)}}),e.ui.draggable},r=[i("7t+N"),i("9V2q"),i("3eNs"),i("zUl4"),i("Nnp9"),i("ne1m"),i("Rl6D"),i("UZ9c"),i("z1kw")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},HPGu:function(e,t,i){var n,r,o,s;s=function(e){return e.fn.labels=function(){var t,i,n,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),(n=this.attr("id"))&&(o=(t=this.eq(0).parents().last()).add(t.length?t.siblings():this.siblings()),i="label[for='"+e.ui.escapeSelector(n)+"']",r=r.add(o.find(i).addBack(i))),this.pushStack(r))}},r=[i("7t+N"),i("UZ9c"),i("WesT")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},J5qV:function(e,t,i){var n,r,o,s;s=function(e){return e.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;i<0&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||e.ui.safeBlur(e.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var n=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),n=!0),n&&!i&&this._trigger("focus",t),n},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=e(e.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_keepFocus:function(t){function i(){var t=e.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),r=i.filter(":last");t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){r.trigger("focus")}),t.preventDefault()):(this._delay(function(){n.trigger("focus")}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:e("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(e.each(i,function(i,n){var r,o;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:"button"},n),r=n.click,o={icon:n.icon,iconPosition:n.iconPosition,showLabel:n.showLabel,icons:n.icons,text:n.text},delete n.click,delete n.icon,delete n.iconPosition,delete n.showLabel,delete n.icons,"boolean"==typeof n.text&&delete n.text,e("<button></button>",n).button(o).appendTo(t.uiButtonSet).on("click",function(){r.apply(t.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var t=this,i=this.options;function n(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){t._addClass(e(this),"ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",i,n(r))},drag:function(e,i){t._trigger("drag",e,n(i))},stop:function(r,o){var s=o.offset.left-t.document.scrollLeft(),a=o.offset.top-t.document.scrollTop();i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:t.window},t._removeClass(e(this),"ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",r,n(o))}})},_makeResizable:function(){var t=this,i=this.options,n=i.resizable,r=this.uiDialog.css("position"),o="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";function s(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:o,start:function(i,n){t._addClass(e(this),"ui-dialog-resizing"),t._blockFrames(),t._trigger("resizeStart",i,s(n))},resize:function(e,i){t._trigger("resize",e,s(i))},stop:function(n,r){var o=t.uiDialog.offset(),a=o.left-t.document.scrollLeft(),l=o.top-t.document.scrollTop();i.height=t.uiDialog.height(),i.width=t.uiDialog.width(),i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:t.window},t._removeClass(e(this),"ui-dialog-resizing"),t._unblockFrames(),t._trigger("resizeStop",n,s(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,n=!1,r={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(n=!0),e in i.resizableRelatedOptions&&(r[e]=t)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,i){var n,r,o=this.uiDialog;"disabled"!==t&&(this._super(t,i),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:e("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((n=o.is(":data(ui-draggable)"))&&!i&&o.draggable("destroy"),!n&&i&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((r=o.is(":data(ui-resizable)"))&&!i&&o.resizable("destroy"),r&&"string"==typeof i&&o.resizable("option","handles",i),r||!1===i||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==e.uiBackCompat&&e.widget("ui.dialog",e.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}}),e.ui.dialog},r=[i("7t+N"),i("o1P/"),i("F8S1"),i("9V2q"),i("mKWO"),i("taAx"),i("WLoA"),i("Up1f"),i("Nnp9"),i("ne1m"),i("mB2l"),i("DYUE"),i("UZ9c"),i("z1kw")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},JJ2Q:function(e,t,i){var n,r,o,s;s=function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var n=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,o.widgetName+"-item")===o)return n=e(this),!1}),e.data(t.target,o.widgetName+"-item")===o&&(n=e(t.target)),!!n&&(!(this.options.handle&&!i&&(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(r=!0)}),!r))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,i,n){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),t.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),!1!==a&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(r=(n=this.items[i]).item[0],(o=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||e.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,d=this.offset.click.left,u="x"===this.options.axis||n+c>a&&n+c<l,h="y"===this.options.axis||t+d>o&&t+d<s,p=u&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:o<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&a<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!n||!r)&&(t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,n,r,o,s=[],a=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(n=(r=e(l[i],this.document[0])).length-1;n>=0;n--)(o=e.data(r[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function c(){s.push(this)}for(a.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(c);return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,r,o,s,a,l,c,d=this.items,u=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(n=(r=e(h[i],this.document[0])).length-1;n>=0;n--)(o=e.data(r[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&(u.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(s=u[i][1],n=0,c=(a=u[i][0]).length;n<c;n++)(l=e(a[n])).data(this.widgetName+"-item",s),d.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var i,n,r,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=r.outerWidth(),n.height=r.outerHeight()),o=r.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i,n=(t=t||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+n+">",t.document[0]);return t._addClass(r,"ui-sortable-placeholder",i||t.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===n?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(r)):"tr"===n?t._createTrPlaceholder(t.currentItem,r):"img"===n&&r.attr("src",t.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(e,r){i&&!n.forcePlaceholderSize||(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var n=this;t.children().each(function(){e("<td>&#160;</td>",n.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,n,r,o,s,a,l,c,d,u,h=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(h&&e.contains(this.containers[i].element[0],h.element[0]))continue;h=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,o=null,s=(d=h.floating||this._isFloating(this.currentItem))?"left":"top",a=d?"width":"height",u=d?"pageX":"pageY",n=this.items.length-1;n>=0;n--)e.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[s],c=!1,t[u]-l>this.items[n][a]/2&&(c=!0),Math.abs(t[u]-l)<r&&(r=Math.abs(t[u]-l),o=this.items[n],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],i=e(r.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*n}},_generatePosition:function(t){var i,n,r=this.options,o=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function r(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||n.push(r("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(r("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})},r=[i("7t+N"),i("9V2q"),i("3eNs"),i("zkIY"),i("Rl6D"),i("UZ9c"),i("z1kw")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},L382:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t){"use strict";__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("7t+N")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(i){return t(i,e.document)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}("undefined"!=typeof window?window:this,function($,document){"use strict";var englishLanguageDefaults={name:"English (United States)",nameEnglish:"English (United States)",isRTL:!1,defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",pgtext:"Page {0} of {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",savetext:"Saving..."},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],addGroupTitle:"Add subgroup",deleteGroupTitle:"Delete group",addRuleTitle:"Add rule",deleteRuleTitle:"Delete rule",operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(e){return e<11||13<e?["st","nd","rd","th"][Math.min((e-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",masks:{ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",YearMonth:"F, Y"}}}};$.jgrid=$.jgrid||{};var jgrid=$.jgrid;jgrid.locales=jgrid.locales||{};var locales=jgrid.locales,COMPONENT_NAMES={GRID_BOX_DIV:0,GRID_OVERLAY_DIV:1,LOADING_DIV:2,DIALOG_ALERT_DIV:3,DIALOG_SEARCH_DIV:4,DIALOG_VIEW_DIV:5,DIALOG_EDIT_DIV:6,DIALOG_DELETE_DIV:7,GRID_VIEW_DIV:8,TITLE_BAR_DIV:9,UPPER_TOOLBAR_DIV:10,TOP_PAGER_DIV:11,HEADER_DIV:12,HEADER_BOX_DIV:13,HEADER_TABLE:14,HEADER_COLS_ROW:15,HEADER_COLS:16,HEADER_ROWS:47,HEADER_TH:48,HEADER_SORTABLE_DIV:49,HEADER_RESIZABLE_SPAN:50,HEADER_SELECT_ALL_ROWS_CHECKBOX:45,SEARCH_TOOLBAR:17,BODY_DIV:18,BODY_SCROLL_FULL_DIV:19,BODY_SCROLL_TOP_DIV:20,BODY_TABLE:21,GRID:21,BODY_COLS_ROW:22,BODY_COLS:23,BODY_DATA_ROWS:24,FOOTER_DIV:25,FOOTER_BOX_DIV:26,FOOTER_TABLE:27,FOOTER_DATA_ROWS:28,BOTTOM_TOOLBAR_DIV:29,FROZEN_HEADER_DIV:30,FROZEN_HEADER_TABLE:31,FROZEN_HEADER_COLS_ROW:32,FROZEN_HEADER_COLS:33,FROZEN_SEARCH_TOOLBAR:34,FROZEN_FOOTER_DIV:35,FROZEN_FOOTER_TABLE:36,FROZEN_FOOTER_DATA_ROWS:37,FROZEN_BODY_DIV:38,FROZEN_BODY_TABLE:39,FROZEN_BODY_COLS_ROW:40,FROZEN_BODY_COLS:41,FROZEN_BODY_DATA_ROWS:42,COLUMN_RESIZER_DIV:43,BOTTOM_PAGER_DIV:44,SEARCH_OPERATION_MENU_UL:46};(null==jgrid.defaults||$.isEmptyObject(locales)||void 0===locales["en-US"])&&(void 0===locales["en-US"]&&$.extend(!0,jgrid,{locales:{"en-US":englishLanguageDefaults}}),jgrid.defaults=jgrid.defaults||{},void 0===jgrid.defaults.locale&&(jgrid.defaults.locale="en-US")),jgrid.defaults=jgrid.defaults||{};var defaults=jgrid.defaults;$.extend(!0,jgrid,{version:"4.15.5-pre",productName:"free jqGrid",defaults:{},search:{},edit:{},view:{},del:{},nav:{},col:{},errors:{},formatter:{unused:""},icons:{jQueryUI:{common:"ui-icon",pager:{first:"ui-icon-seek-first",prev:"ui-icon-seek-prev",next:"ui-icon-seek-next",last:"ui-icon-seek-end"},sort:{asc:"ui-icon-triangle-1-n",desc:"ui-icon-triangle-1-s"},gridMinimize:{visible:"ui-icon-circle-triangle-n",hidden:"ui-icon-circle-triangle-s"},nav:{edit:"ui-icon-pencil",add:"ui-icon-plus",del:"ui-icon-trash",search:"ui-icon-search",refresh:"ui-icon-refresh",view:"ui-icon-document",save:"ui-icon-disk",cancel:"ui-icon-cancel",newbutton:"ui-icon-newwin"},actions:{edit:"ui-icon-pencil",del:"ui-icon-trash",save:"ui-icon-disk",cancel:"ui-icon-cancel"},form:{close:"ui-icon-closethick",prev:"ui-icon-triangle-1-w",next:"ui-icon-triangle-1-e",save:"ui-icon-disk",undo:"ui-icon-close",del:"ui-icon-scissors",cancel:"ui-icon-cancel",resizableLtr:"ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se"},search:{search:"ui-icon-search",reset:"ui-icon-arrowreturnthick-1-w",query:"ui-icon-comment"},subgrid:{plus:"ui-icon-plus",minus:"ui-icon-minus",openLtr:"ui-icon-caret-1-sw",openRtl:"ui-icon-caret-1-se"},grouping:{plus:"ui-icon-circlesmall-plus",minus:"ui-icon-circlesmall-minus"},treeGrid:{minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off",plusLtr:"ui-icon-triangle-1-e",plusRtl:"ui-icon-triangle-1-w"}},fontAwesome:{common:"fa",pager:{common:"fa-fw",first:"fa-step-backward",prev:"fa-backward",next:"fa-forward",last:"fa-step-forward"},sort:{common:"fa-lg",asc:"fa-sort-asc",desc:"fa-sort-desc"},gridMinimize:{visible:"fa-chevron-circle-up",hidden:"fa-chevron-circle-down"},nav:{common:"fa-lg fa-fw",edit:"fa-pencil",add:"fa-plus",del:"fa-trash-o",search:"fa-search",refresh:"fa-refresh",view:"fa-file-o",save:"fa-floppy-o",cancel:"fa-ban",newbutton:"fa-external-link"},actions:{common:"fa-fw",edit:"fa-pencil",del:"fa-trash-o",save:"fa-floppy-o",cancel:"fa-ban"},form:{close:"fa-times",prev:"fa-caret-left",next:"fa-caret-right",save:"fa-floppy-o",undo:"fa-undo",del:"fa-trash-o",cancel:"fa-ban",resizableLtr:"fa-rss fa-rotate-270"},search:{search:"fa-search",reset:"fa-undo",query:"fa-comments-o"},subgrid:{common:"fa-fw",plus:"fa-plus",minus:"fa-minus",openLtr:"fa-reply fa-rotate-180",openRtl:"fa-share fa-rotate-180"},grouping:{common:"fa-fw",plus:"fa-plus-square-o",minus:"fa-minus-square-o"},treeGrid:{common:"fa-fw",minus:"fa-lg fa-sort-desc",leaf:"fa-dot-circle-o",plusLtr:"fa-lg fa-caret-right",plusRtl:"fa-lg fa-caret-left"},checkbox:{checkedClasses:"fa-check-square-o",checked:"fa-check-square-o fa-lg",unchecked:"fa-square-o fa-lg"}},fontAwesome5:{pager:{common:"fa-fw",first:"fa-step-backward",prev:"fa-backward",next:"fa-forward",last:"fa-step-forward"},sort:{common:"fa-lg",asc:"fa-sort-up",desc:"fa-sort-down"},gridMinimize:{visible:"fa-chevron-circle-up",hidden:"fa-chevron-circle-down"},nav:{common:"fa-lg fa-fw",edit:"fa-pencil-alt",add:"fa-plus",del:"fa-trash-alt",search:"fa-search",refresh:"fa-sync",view:"fa-file",save:"fa-save",cancel:"fa-ban",newbutton:"fa-external-link-alt"},actions:{common:"fa-fw",edit:"fa-pencil-alt",del:"fa-trash-alt",save:"fa-save",cancel:"fa-ban"},form:{close:"fa-times",prev:"fa-caret-left",next:"fa-caret-right",save:"fa-save",undo:"fa-undo",del:"fa-trash-alt",cancel:"fa-ban",resizableLtr:"fa-rss fa-lg fa-rotate-270"},search:{search:"fa-search",reset:"fa-undo",query:"fa-comments"},subgrid:{common:"fa-fw",plus:"fa-plus",minus:"fa-minus",openLtr:"fa-reply fa-rotate-180",openRtl:"fa-share fa-rotate-180"},grouping:{common:"fa-fw",plus:"fa-plus-square",minus:"fa-minus-square"},treeGrid:{common:"fa-fw",minus:"fa-lg fa-sort-down",leaf:"fa-dot-circle",plusLtr:"fa-lg fa-caret-right",plusRtl:"fa-lg fa-caret-left"},checkbox:{ignoreParents:!0,checkedClasses:"fa-check-square",checked:"far fa-check-square fa-lg",unchecked:"far fa-square fa-lg"}},fontAwesomeBrands:{baseIconSet:"fontAwesome5",common:"fab"},fontAwesomeLight:{baseIconSet:"fontAwesome5",common:"fal"},fontAwesomeRegular:{baseIconSet:"fontAwesome5",common:"far"},fontAwesomeSolid:{baseIconSet:"fontAwesome5",common:"fas"},fontAwesomeSVG:{baseIconSet:"fontAwesome5",common:"fas"},glyph:{common:"glyphicon",pager:{common:"",first:"glyphicon-step-backward",prev:"glyphicon-backward",next:"glyphicon-forward",last:"glyphicon-step-forward"},sort:{common:"",asc:"glyphicon-triangle-top",desc:"glyphicon-triangle-bottom"},gridMinimize:{visible:"glyphicon-circle-arrow-up",hidden:"glyphicon-circle-arrow-down"},nav:{common:"",edit:"glyphicon-edit",add:"glyphicon-plus",del:"glyphicon-trash",search:"glyphicon-search",refresh:"glyphicon-refresh",view:"glyphicon-file",save:"glyphicon-save",cancel:"glyphicon-ban-circle",newbutton:"glyphicon-new-window"},actions:{common:"",edit:"glyphicon-edit",del:"glyphicon-trash",save:"glyphicon-save",cancel:"glyphicon-ban-circle"},form:{close:"glyphicon-remove-circle",prev:"glyphicon-step-backward",next:"glyphicon-step-forward",save:"glyphicon-save",undo:"glyphicon-repeat",del:"glyphicon-trash",cancel:"glyphicon-ban-circle",resizableLtr:"glyphicon-import"},search:{search:"glyphicon-search",reset:"glyphicon-repeat",query:"glyphicon-cog"},subgrid:{common:"",plus:"glyphicon-zoom-in",minus:"glyphicon-zoom-out",openLtr:"glyphicon-indent-left",openRtl:"glyphicon-indent-left"},grouping:{common:"",plus:"glyphicon-expand",minus:"glyphicon-collapse-down"},treeGrid:{common:"",minus:"glyphicon-triangle-bottom",leaf:"glyphicon-record",plusLtr:"glyphicon-triangle-right",plusRtl:"glyphicon-triangle-left"},checkbox:{checkedClasses:"glyphicon-check",checked:"glyphicon-check",unchecked:"glyphicon-unchecked"}}},guiStyles:{jQueryUI:{gBox:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all",gView:"",overlay:"ui-widget-overlay",loading:"ui-state-default ui-state-active",hDiv:"ui-state-default ui-corner-top",hTable:"",colHeaders:"ui-state-default",states:{select:"ui-state-highlight",disabled:"ui-state-disabled ui-jqgrid-disablePointerEvents",hover:"ui-state-hover",error:"ui-state-error",active:"ui-state-active",textOfClickable:"ui-state-default"},dialog:{header:"ui-widget-header ui-dialog-titlebar ui-corner-all ui-helper-clearfix",window:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all ui-front",document:"",subdocument:"",body:"",footer:"",content:"ui-widget-content",hr:"ui-widget-content",closeButton:"ui-corner-all",fmButton:"ui-state-default",dataField:"ui-widget-content ui-corner-all",viewCellLabel:"ui-widget-content",viewLabel:"",viewCellData:"ui-widget-content",viewData:"",leftCorner:"ui-corner-left",rightCorner:"ui-corner-right",defaultCorner:"ui-corner-all"},filterToolbar:{dataField:"ui-widget-content"},subgrid:{thSubgrid:"ui-state-default",rowSubTable:"ui-widget-content",row:"ui-widget-content",tdStart:"",tdWithIcon:"ui-widget-content",buttonDiv:"",button:"",tdData:"ui-widget-content",legacyTable:""},grid:"",gridRow:"ui-widget-content",rowNum:"ui-state-default",gridFooter:"",rowFooter:"ui-widget-content",gridTitle:"ui-widget-header ui-corner-top",gridError:"ui-state-error",gridErrorText:"",titleButton:"ui-corner-all",toolbarUpper:"ui-state-default",toolbarBottom:"ui-state-default",actionsDiv:"ui-widget-content",actionsButton:"ui-corner-all",pager:{pager:"ui-state-default",pagerButton:"ui-corner-all",pagerInput:"ui-widget-content",pagerSelect:"ui-widget-content"},navButton:"ui-corner-all",searchDialog:{operator:"ui-corner-all",label:"ui-corner-all",elem:"ui-corner-all",operationGroup:"",addRuleButton:"ui-corner-all",deleteRuleButton:"ui-corner-all",operationSelect:"ui-corner-all",addGroupButton:"ui-corner-all",deleteGroupButton:"ui-corner-all"},searchToolbar:{menu:"ui-menu-jqueryui ui-menu ui-widget ui-widget-content ui-corner-all",menuItem:"ui-menu-item",menuItemButton:"ui-corner-all",operButton:"ui-corner-all",clearButton:"ui-corner-all"},top:"ui-corner-top",bottom:"ui-corner-bottom",resizer:"ui-widget-header"},bootstrap:{gBox:"ui-jqgrid-bootstrap",gView:"panel-info",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-condensed table-bordered",colHeaders:"",states:{select:"success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"hidden",closeButton:"btn btn-xs btn-default",fmButton:"btn btn-default",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-default",actionsDiv:"",actionsButton:"btn btn-xs btn-default",toolbarUpper:"",toolbarBottom:"",pager:{pager:"panel-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-default",deleteRuleButton:"btn btn-xs btn-default",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-default",deleteGroupButton:"btn btn-xs btn-default"},searchToolbar:{menu:"dropdown-menu",menuItem:"",menuItemButton:"ui-corner-all",operButton:"btn btn-xs btn-default",clearButton:"btn btn-xs btn-default"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"},bootstrapPrimary:{baseGuiStyle:"bootstrap",dialog:{closeButton:"btn btn-xs close",fmButton:"btn btn-primary"},searchDialog:{addRuleButton:"btn btn-xs btn-primary",deleteRuleButton:"btn btn-xs btn-primary",addGroupButton:"btn btn-xs btn-primary",deleteGroupButton:"btn btn-xs btn-primary"}},bootstrap4:{gBox:"ui-jqgrid-bootstrap",gView:"card",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-sm table-bordered",colHeaders:"",states:{select:"table-success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",hoverTh:"table-active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"d-none",closeButton:"btn btn-xs btn-outline-primary",fmButton:"btn btn-outline-secondary",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-outline-primary",actionsDiv:"",actionsButton:"btn btn-xs btn-outline-secondary",toolbarUpper:"",toolbarBottom:"",pager:{pager:"card-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-default",deleteRuleButton:"btn btn-xs btn-default",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-default",deleteGroupButton:"btn btn-xs btn-default"},searchToolbar:{menu:"dropdown-menu",menuItem:"",menuItemButton:"dropdown-item",operButton:"btn btn-xs btn-outline-secondary",clearButton:"btn btn-xs btn-outline-secondary"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"}},htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/").replace(/&#39;/g,"'").replace(/&#47;/g,"/").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#47;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldEncodePostedData:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldDecodePostedData:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},clearArray:function(e){for(;0<e.length;)e.pop()},format:function(e){var t=$.makeArray(arguments).slice(1);return null==e&&(e=""),e.replace(/\{(\d+)\}/g,function(e,i){return t[i]})},template:function(e){var t,i=$.makeArray(arguments).slice(1),n=i.length;return null==e&&(e=""),e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((\.*?)?\))?)?\}/g,function(e,r){var o,s;if(!isNaN(parseInt(r,10)))return i[parseInt(r,10)];for(t=0;t<n;t++)if($.isArray(i[t]))for(s=(o=i[t]).length;s--;)if(r===o[s].nm)return o[s].v})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var e,t=-1;return"Microsoft Internet Explorer"===navigator.appName?null!=(e=/(MSIE) ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent))&&3===e.length&&(t=parseFloat(e[2]||-1)):"Netscape"===navigator.appName&&null!=(e=/rv:([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent))&&2===e.length&&(t=parseFloat(e[1]||-1)),t},fixMaxHeightOfDiv:function(e){return"Microsoft Internet Explorer"===navigator.appName?Math.min(e,1533917):null!=/(Firefox)/.exec(navigator.userAgent)?Math.min(e,17895696):e},getRelativeRect:function(e){var t,i,n=e instanceof $&&0<e.length?e[0]:e,r=$(n).outerHeight(),o=$(this).closest(".ui-jqgrid")[0];return o?(t=null!=n.getBoundingClientRect?n.getBoundingClientRect():$(n).offset(),i=null!=o.getBoundingClientRect?o.getBoundingClientRect():$(o).offset(),{top:t.top+r-i.top,left:t.left-i.left}):{top:0,left:0}},getCellIndex:function(e){var t=$(e);return t.is("tr")?-1:null==(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0])?-1:jgrid.msie?$.inArray(t,t.parentNode.cells):t.cellIndex},stripHtml:function(e){return(e=String(e))?(e=e.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,""))&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/"/g,"'"):"":e},stripPref:function(e,t){var i=$.type(e);return"string"!==i&&"number"!==i||(t=""!==(e=String(e))?String(t).replace(String(e),""):t),t},getRes:function(e,t){var i,n=t.split("."),r=n.length;if(null!=e){for(i=0;i<r;i++){if(!n[i])return null;if(void 0===(e=e[n[i]]))break;if("string"==typeof e)return e}return e}},parseDate:function(e,t,i,n){var r,o,s,a=0,l=0,c="string"==typeof t?t.match(/^\/Date\((([\-+])?[0-9]+)(([\-+])([0-9]{2})([0-9]{2}))?\)\/$/):null,d=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},u={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},h=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t};if(void 0===(n=function(e,t){var i,n,r=["AmPm","dayNames","masks","monthNames","userLocalTime","parseRe","S","srcformat"],o=t||{},s=(jgrid.formatter||{}).date||{},a=((locales[(e||$.jgrid.defaults).locale]||{}).formatter||{}).date,l=r.length,c={};for(i=0;i<l;i++)void 0!==o[n=r[i]]?c[n]=o[n]:void 0!==s[n]?c[n]=s[n]:void 0!==a[n]&&(c[n]=a[n]);return c}(this.p,n)).parseRe&&(n.parseRe=/[#%\\\/:_;.,\t\s\-]/),n.masks.hasOwnProperty(e)&&(e=n.masks[e]),t&&null!=t)if(isNaN(t)||"u"!==String(e).toLowerCase())if(isNaN(t)||"u1000"!==String(e).toLowerCase())if(t.constructor===Date)a=t;else if(null!==c)a=new Date(parseInt(c[1],10)),c[3]&&(l=60*Number(c[5])+Number(c[6]),l*="-"===c[4]?1:-1,l-=a.getTimezoneOffset(),a.setTime(Number(Number(a)+60*l*1e3)));else{for("ISO8601Long"===n.srcformat&&"Z"===t.charAt(t.length-1)&&(l-=(new Date).getTimezoneOffset()),t=String(t).replace(/\T/g,"#").replace(/\t/,"%").split(n.parseRe),e=e.replace(/\T/g,"#").replace(/\t/,"%").split(n.parseRe),o=0,s=Math.min(e.length,t.length);o<s;o++){switch(e[o]){case"M":-1!==(r=$.inArray(t[o],n.monthNames))&&r<12&&(t[o]=r+1,u.m=t[o]);break;case"F":-1!==(r=$.inArray(t[o],n.monthNames,12))&&11<r&&(t[o]=r+1-12,u.m=t[o]);break;case"n":u.m=parseInt(t[o],10);break;case"j":u.d=parseInt(t[o],10);break;case"g":u.h=parseInt(t[o],10);break;case"a":-1!==(r=$.inArray(t[o],n.AmPm))&&r<2&&t[o]===n.AmPm[r]&&(t[o]=r,u.h=h(t[o],u.h));break;case"A":-1!==(r=$.inArray(t[o],n.AmPm))&&1<r&&t[o]===n.AmPm[r]&&(t[o]=r-2,u.h=h(t[o],u.h))}void 0===t[o]||""===t[o]||isNaN(t[o])||(u[e[o].toLowerCase()]=parseInt(t[o],10))}if(u.f&&(u.m=u.f),0===u.m&&0===u.y&&0===u.d)return"&#160;";u.m=parseInt(u.m,10)-1;var p=u.y;70<=p&&p<=99?u.y=1900+u.y:0<=p&&p<=69&&(u.y=2e3+u.y),a=new Date(u.y,u.m,u.d,u.h,u.i,u.s,u.u),0!==l&&a.setTime(Number(Number(a)+60*l*1e3))}else a=new Date(parseFloat(t));else a=new Date(1e3*parseFloat(t));else a=new Date(u.y,u.m,u.d,u.h,u.i,u.s,u.u);if(n.userLocalTime&&0===l&&0!=(l-=(new Date).getTimezoneOffset())&&a.setTime(Number(Number(a)+60*l*1e3)),void 0===i)return a;if(n.masks.hasOwnProperty(i)?i=n.masks[i]:i||(i="Y-m-d"),"u1000"===i.toLowerCase())return a.getTime();var f=a.getHours(),g=a.getMinutes(),m=a.getDate(),v=a.getMonth()+1,b=a.getTimezoneOffset(),y=a.getSeconds(),w=a.getMilliseconds(),x=a.getDay(),C=a.getFullYear(),k=(x+6)%7+1,S=(new Date(C,v-1,m)-new Date(C,0,1))/864e5,D=k<5?Math.floor((S+k-1)/7)+1:Math.floor((S+k-1)/7)||((new Date(C-1,0,1).getDay()+6)%7<4?53:52),T={d:d(m),D:n.dayNames[x],j:m,l:n.dayNames[x+7],N:k,S:n.S(m),w:x,z:S,W:D,F:n.monthNames[v-1+12],m:d(v),M:n.monthNames[v-1],n:v,t:"?",L:"?",o:"?",Y:C,y:String(C).substring(2),a:f<12?n.AmPm[0]:n.AmPm[1],A:f<12?n.AmPm[2]:n.AmPm[3],B:"?",g:f%12||12,G:f,h:d(f%12||12),H:d(f),i:d(g),s:d(y),u:w,e:"?",I:"?",O:(0<b?"-":"+")+d(100*Math.floor(Math.abs(b)/60)+Math.abs(b)%60,4),P:"?",T:(String(a).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[\-+]\d{4})?)\b/g)||[""]).pop().replace(/[^\-+\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(a/1e3)};return i.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,function(e){return T.hasOwnProperty(e)?T[e]:e.substring(1)})},parseDateToNumber:function(e,t){var i=jgrid.parseDate.call(this,e,t);return i instanceof Date?i.getTime():0},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},getGridComponentId:function(e){if(null==this.p||!this.p.id)return"";var t=this.p.id;switch(e){case COMPONENT_NAMES.GRID:return t;case COMPONENT_NAMES.GRID_BOX_DIV:return"gbox_"+t;case COMPONENT_NAMES.GRID_VIEW_DIV:return"gview_"+t;case COMPONENT_NAMES.DIALOG_ALERT_DIV:return"alertmod_"+t;case COMPONENT_NAMES.COLUMN_RESIZER_DIV:return"rs_m"+t;case COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX:return"cb_"+t;case COMPONENT_NAMES.SEARCH_OPERATION_MENU_UL:return"sopt_menu";default:return""}},getGridComponentIdSelector:function(e){var t=jgrid.getGridComponentId.call(this,e);return t?"#"+jgrid.jqID(t):""},isHTMLElement:function(e){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?e instanceof HTMLElement:null!=e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},getGridComponent:function(e,t){var i;if(t instanceof $||0<t.length)i=t[0];else{if(!jgrid.isHTMLElement(t))return $();t=$(i=t)}switch(e){case COMPONENT_NAMES.BODY_TABLE:return t.hasClass("ui-jqgrid-bdiv")?t.children("div").children(".ui-jqgrid-btable"):$();case COMPONENT_NAMES.HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.children("div").children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.children("div").children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.FROZEN_HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FROZEN_FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.BODY_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=i.grid?$(i.grid.bDiv):$();case COMPONENT_NAMES.HEADER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=i.grid?$(i.grid.hDiv):$();case COMPONENT_NAMES.FOOTER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=i.grid?$(i.grid.sDiv):$();default:return $()}},fixScrollOffsetAndhBoxPadding:function(){var e=this.grid;if(e){var t=this.p,i=e.bDiv,n=function(e){var n=$(e).children("div").first();n.css(n.hasClass("ui-jqgrid-hbox-rtl")?"padding-left":"padding-right",t.scrollOffset),e.scrollLeft=i.scrollLeft};0<$(i).width()&&(t.scrollOffset=i.offsetWidth-i.clientWidth,n(e.hDiv),e.sDiv&&n(e.sDiv))}},mergeCssClasses:function(){var e,t,i,n,r=$.makeArray(arguments),o={},s=[];for(e=0;e<r.length;e++)for(i=String(r[e]).replace(/[\t\r\n\f]/g," ").split(" "),t=0;t<i.length;t++)""===(n=i[t])||o.hasOwnProperty(n)||(o[n]=!0,s.push(n));return s.join(" ")},hasOneFromClasses:function(e,t){var i,n=$(e),r=String(t).replace(/[\t\r\n\f]/g," ").split(" "),o=r.length;for(i=0;i<o;i++)if(n.hasClass(r[i]))return!0;return!1},hasAllClasses:function(e,t){var i,n=$(e),r=String(t).replace(/[\t\r\n\f]/g," ").split(" "),o=r.length;for(i=0;i<o;i++)if(!n.hasClass(r[i]))return!1;return!0},detectRowEditing:function(e){return this.grid&&null!=this.p&&null!=this.p.editingInfo&&null!=this.p.editingInfo[e]?this.p.editingInfo[e]:null},getCell:function(e,t){var i,n,r=this.grid,o=this.p;return r&&o?((e instanceof $||0<e.length)&&(e=e[0]),("object"==typeof HTMLTableRowElement||"function"==typeof HTMLTableRowElement)&&e instanceof HTMLTableRowElement&&null!=e.cells?(n=$(e.cells[t]),null!=(i=r.fbRows)&&t<i[0].cells.length?n.add(i[e.rowIndex].cells[t]):n):$()):$()},getDataFieldOfCell:function(e,t){var i,n=this.p,r=jgrid.getCell.call(this,e,t);return n.treeGrid&&0<r.children("div.tree-wrap").length&&(r=r.children("span.cell-wrapperleaf,span.cell-wrapper")),n.colModel[t].autoResizable?0===(i=r.children("span."+n.autoResizing.wrapperClassName)).length&&(i=r):i=r,i},enumEditableCells:function(e,t,i){var n=this,r=n.grid,o=n.rows,s=n.p;if(null==r||null==o||null==s||null==e||null==e.rowIndex||!e.id||!$.isFunction(i))return null;var a,l,c,d,u,h,p,f,g,m,v,b=s.colModel,y=b.length,w=e.rowIndex,x=r.fbRows,C=null!=x,k=C?x[w]:null;for(C&&(e=n.rows[w]),a=0;a<y&&("cb"===(c=(l=b[a]).name)||"subgrid"===c||"rn"===c||(C&&!l.frozen&&(C=!1),g=(C?k:e).cells[a],(m=$(g)).hasClass("not-editable-cell")||(v=m.width(),!0===s.treeGrid&&c===s.ExpandColumn?(v-=m.children("div.tree-wrap").outerWidth(),m=m.children("span.cell-wrapperleaf,span.cell-wrapper").first()):v=0,u=stripPref(s.idPrefix,e.id),d={rowid:e.id,id:u,iCol:a,iRow:w,cmName:c,cm:l,mode:t,td:g,tr:e,trFrozen:k,dataElement:m[0],dataWidth:v},"local"===s.datatype&&(p=null!=(h=s._index[u])?s.data[h]:void 0)&&(d.item=p),l.edittype||(l.edittype="text"),((s.editingInfo[e.id]||{}).editable||{}).hasOwnProperty(c)?f=s.editingInfo[e.id].editable[c]:(f=l.editable,f=$.isFunction(f)?f.call(n,d):f),!0!==f&&"hidden"!==f||(d.editable=f,!1!==i.call(n,d)))));a++);},getEditedValue:function(e,t,i,n){var r,o,s,a,l,c,d=t.formatoptions||{},u=t.editoptions||{},h=u.custom_value,p="[name="+jgrid.jqID(t.name)+"]",f=this,g=$(f);if("hidden"===n||"readonly"===n)return $(f).jqGrid("getCell",e.closest("tr.jqgrow").attr("id"),t.name);switch(t.edittype){case"checkbox":o=["Yes","No"],"string"==typeof u.value&&(o=u.value.split(":")),r=e.find("input[type=checkbox]").is(":checked")?o[0]:o[1];break;case"text":case"password":case"textarea":case"button":r=(a=e.find("input"+p+",textarea"+p)).val(),"date"===a.prop("type")&&3===String(r).split("-").length&&(s=d.newformat||g.jqGrid("getGridRes","formatter.date.newformat"),r=jgrid.parseDate.call(f,"Y-m-d",r,s));break;case"select":a=e.find("select option:selected"),u.multiple?(l=[],c=[],a.each(function(){l.push($(this).val()),c.push($(this).text())}),r=l.join(","),i.text=c.join(",")):(r=a.val(),i.text=a.text()),i.value=r;break;case"custom":try{if(!$.isFunction(h))throw"e1";if(void 0===(r=h.call(f,e.find(".customelement"),"get")))throw"e2"}catch(e){var m,v=jgrid.info_dialog,b=function(e){g.jqGrid("getGridRes",e)};switch(String(e)){case"e1":m="function 'custom_value' "+b("edit.msg.nodefined");break;case"e2":break;default:m=e.message}v&&$.isFunction(v)?v.call(f,b("errors.errcap"),m,b("edit.bClose")):($.isFunction(defaults.fatalError)?defaults.fatalError:alert)(m)}break;default:r=e.find("*"+p).text()}return r},guid:1,uidPref:"jqg",randId:function(e){return(e||jgrid.uidPref)+jgrid.guid++},getAccessor:function(e,t){var i,n,r,o=[];if($.isFunction(t))return t(e);if(null!=e&&e.hasOwnProperty(t))return e[t];try{if("string"==typeof t&&(o=t.split(".")),r=o.length)for(i=e;null!=i&&r--;)n=o.shift(),i=i.hasOwnProperty(n)?i[n]:void 0}catch(e){}return i},getXmlData:function(e,t,i){var n="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;if($.isFunction(t))return t(e);if(n&&n[2])return n[1]?$(n[1],e).attr(n[2]):$(e).attr(n[2]);if(void 0!==e){var r=$(e).find(t);return i?r:0<r.length?$(r).text():void 0}},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div></div></div>"),t=e.appendTo("body").find("td").width();return e.remove(),.1<Math.abs(t-5)},isCellClassHidden:function(e){if(null==e||""===e)return!1;var t=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;' class='"+(e||"")+"'></td></tr></table></div></div></div>"),i=t.appendTo("body").find("td").is(":hidden");return t.remove(),i},cell_width:!0,ajaxOptions:{},from:function(source){var context=this,QueryObject=function(d,q){var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],toString=Object.prototype.toString;if("object"!=typeof d||!d.push)throw"data provides is not an array";if(0<d.length&&"object"!=typeof d[0])throw"data items are not objects";return this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+" || '')"),_trim&&t.push(")"),_usecase||t.push(".toUpperCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/"/g,'\\"'),_usecase?e:e.toUpperCase()},this._funcLoop=function(e){var t=[];return $.each(_data,function(i,n){t.push(e(n))}),t},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;t<_orDepth;t++)_query+="(";_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null===_lastField?_lastCommand(e):_lastCommand(_lastField,e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,i){return void 0===i&&(i=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:("[object Date]"===toString.call(e)&&"[object Date]"===toString.call(t)||_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),e<t?-i:t<e?i:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var i=_sorting[t].by,n=_sorting[t].dir,r=_sorting[t].type,o=_sorting[t].datefmt,s=_sorting[t].sfunc;if(t===_sorting.length-1)return self._getOrder(e,i,n,r,o,s);t++;var a,l,c,d=self._getGroup(e,i,n,r,o),u=[];for(a=0;a<d.length;a++)for(c=self._doSort(d[a].items,t),l=0;l<c.length;l++)u.push(c[l]);return u},this._getOrder=function(e,t,i,n,r,o){var s,a,l,c=[],d=[],u="a"===i?1:-1;void 0===n&&(n="text"),l="float"===n||"number"===n||"currency"===n||"numeric"===n?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?Number.NEGATIVE_INFINITY:t}:"int"===n||"integer"===n?function(e){return null!=e?parseFloat(String(e).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===n||"datetime"===n?function(e){return jgrid.parseDateToNumber.call(context,r,e)}:$.isFunction(n)?n:function(e){return e=null!=e?$.trim(String(e)):"",_usecase?e:e.toUpperCase()},$.each(e,function(e,i){void 0===(a=""!==t?jgrid.getAccessor(i,t):i)&&(a=""),a=l.call(context,a,i),d.push({vSort:a,data:i,index:e})}),$.isFunction(o)?d.sort(function(e,t){return o.call(context,e.vSort,t.vSort,u,e.data,t.data)}):d.sort(function(e,t){return self._compare(e.vSort,t.vSort,u)});for(var h=0,p=e.length;h<p;)s=d[h].index,c.push(e[s]),h++;return c},this._getGroup=function(e,t,i,n,r){var o=[],s=null,a=null;return $.each(self._getOrder(e,t,i,n,r),function(e,i){var n=jgrid.getAccessor(i,t);null==n&&(n=""),self._equals(a,n)||(a=n,null!==s&&o.push(s),s=self._group(t,n)),s.items.push(i)}),null!==s&&o.push(s),o},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match||($.each(_data,function(){(function(){var localMath='(function (context) {\nvar yesObject = { 1: 1, x: 1, "true": 1, yes: 1, y: 1, on: 1 },noObject = { 0: 1, "false": 1, no: 1, n: 1, off: 1 },normilizeBoolean = function (v) {\nif (typeof v === "string") {\nif (noObject[v.toLowerCase()]) { return false; } else if (yesObject[v.toLowerCase()]) { return true; } }\nreturn !!v;\n},intFunc = function (jQuery, self) { return '+match+"; }; return intFunc.call(context.item, context.jQuery, context.context); }(this))";eval(localMath)&&results.push(this.item)}).call({item:this,jQuery:$,context:context})}),_data=results),self},this.data=function(){return _data},this.select=function(e){if(self.execute(),$.isFunction(e)){var t=[];return $.each(_data,function(i,n){t.push(e(n))}),t}return self._hasData()?(self._performSort(),_data):[]},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),0<_data.length)},this.andNot=function(e,t,i){return _negate=!_negate,self.and(e,t,i)},this.orNot=function(e,t,i){return _negate=!_negate,self.or(e,t,i)},this.not=function(e,t,i){return self.andNot(e,t,i)},this.and=function(e,t,i){return _queuedOperator=" && ",void 0===e?self:self._repeatCommand(e,t,i)},this.or=function(e,t,i){return _queuedOperator=" || ",void 0===e?self:self._repeatCommand(e,t,i)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,i,n,r){var o=t;void 0===i&&(i=null);var s=i,a=void 0===r.stype?"text":r.stype;if(null!==i)switch(a){case"int":case"integer":s=String(s).replace(_stripNum,""),s=isNaN(Number(s))||""===s?"0":Number(s),o="parseInt("+o+"||0,10)",s=String(parseInt(s,10));break;case"boolean":o="normilizeBoolean("+o+")",s="normilizeBoolean("+String(s)+")";break;case"float":case"number":case"currency":case"numeric":s=String(s).replace(_stripNum,""),s=isNaN(Number(s))||""===s?"0":Number(s),o="parseFloat("+o+"||0)",s=String(s);break;case"date":case"datetime":s=String(jgrid.parseDateToNumber.call(context,r.newfmt||"Y-m-d",s)),o='jQuery.jgrid.parseDateToNumber.call(self,"'+r.srcfmt+'",'+o+")";break;default:o=self._getStr(o),s=self._getStr('"'+self._toStr(s)+'"')}return self._append(o+" "+n+" "+s),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,i){return self._compareValues(self.equals,e,t,"==",i)},this.notEquals=function(e,t,i){return self._compareValues(self.equals,e,t,"!==",i)},this.isNull=function(e,t,i){return self._compareValues(self.equals,e,null,"===",i)},this.greater=function(e,t,i){return self._compareValues(self.greater,e,t,">",i)},this.less=function(e,t,i){return self._compareValues(self.less,e,t,"<",i)},this.greaterOrEquals=function(e,t,i){return self._compareValues(self.greaterOrEquals,e,t,">=",i)},this.lessOrEquals=function(e,t,i){return self._compareValues(self.lessOrEquals,e,t,"<=",i)},this.startsWith=function(e,t){var i=null==t?e:t,n=_trim?$.trim(i.toString()).length:i.toString().length;return self._append(self._getStr(e)+".substr(0,"+n+") == "+self._getStr('"'+self._toStr(t)+'"')),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var i=null==t?e:t,n=_trim?$.trim(i.toString()).length:i.toString().length;return self._append(self._getStr(e)+".substr("+self._getStr(e)+".length-"+n+","+n+') == "'+self._toStr(t)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return self._append(self._getStr(e)+'.indexOf("'+self._toStr(t)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,i,n){return self._hasData()?self._getGroup(_data,e,t,i,n):null},this.orderBy=function(e,t,i,n,r){return null==i&&(i="text"),null==n&&(n="Y-m-d"),null==r&&(r=!1),"desc"!==(t=null==t?"a":$.trim(t.toString().toLowerCase()))&&"descending"!==t||(t="d"),"asc"!==t&&"ascending"!==t||(t="a"),_sorting.push({by:e,dir:t,type:i,datefmt:n,sfunc:r}),self},this.inSet=function(e,t,i){var n=void 0===t?null:t,r=void 0===i.stype?"text":i.stype;return n=self._getStr('"'+self._toStr(n)+'"'),"text"!==r?self._compareValues(self.equals,e,t,"==",i):(self._append("jQuery.inArray("+self._getStr(e)+","+n+".split('"+(context.p.inFilterSeparator||",")+"')) >= 0"),self._setCommand(self.inSet,e),self._resetNegate(),self)},this.custom=function(e,t,i){return self._append("self.p.customSortOperations."+e+'.filter.call(self,{item:this,cmName:"'+t+'",iCol:self.p.iColByName["'+t+'"]>=0 ? self.p.iColByName["'+t+'"] : self.p.iPropByName["'+t+'"],isAddProp:self.p.iColByName["'+t+'"]<0,searchValue:"'+i+'"})'),self._setCommand(self.custom,t),self._resetNegate(),self},self};return new QueryObject(source,null)},serializeFeedback:function(e,t,i){var n,r=this;return r instanceof $&&0<r.length&&(r=r[0]),"string"==typeof i?i:"string"==typeof(n=$(r).triggerHandler(t,i))?n:(null!=n&&"object"==typeof n||(n=i),$.isFunction(e)?e.call(r,n):n)},fullBoolFeedback:function(e,t){var i=$.makeArray(arguments).slice(2),n=$(this).triggerHandler(t,i);if(n=!1!==n&&"stop"!==n,$.isFunction(e)){var r=e.apply(this,i);!1!==r&&"stop"!==r||(n=!1)}return n},feedback:function(e,t,i,n){var r=this;if(r instanceof $&&0<r.length&&(r=r[0]),null==e||"string"!=typeof n||n.length<2)return null;var o="on"===n.substring(0,2)?"jqGrid"+t+n.charAt(2).toUpperCase()+n.substring(3):"jqGrid"+t+n.charAt(0).toUpperCase()+n.substring(1),s=$.makeArray(arguments).slice(4),a=e[n+i];return s.unshift(o),s.unshift(a),jgrid.fullBoolFeedback.apply(r,s)},builderSortIcons:function(e){var t=this,i=t.p,n=$(t),r=n.jqGrid("getGuiStyles","states.disabled"),o=function(o){var s=i.colModel[e],a=null!=s&&$.isFunction(s.sortIconName)?s.sortIconName:i.sortIconName,l=$.isFunction(a)?a.call(t,{order:o,iCol:e,cm:s}):n.jqGrid("getIconRes","sort."+o);return jgrid.mergeCssClasses("ui-grid-ico-sort","ui-icon-"+o,"horizontal"===i.viewsortcols[1]?"ui-i-"+o:"",r,l,"ui-sort-"+i.direction)};return"<span class='s-ico"+(i.sortIconsBeforeText?" jqgrid-icons-first":"")+"' style='display:none'><span class='"+o("asc")+"'></span><span class='"+o("desc")+"'></span></span>"},builderFmButon:function(e,t,i,n,r){var o=this.p,s=$(this),a=function(e){return s.jqGrid("getGuiStyles","dialog."+e)};return null==o?"":"<a id='"+e+"' class='"+jgrid.mergeCssClasses("fm-button",a("fmButton"),a("right"===r?"rightCorner":"left"===r?"leftCorner":"defaultCorner"),"right"===n?"fm-button-icon-right":"left"===n?"fm-button-icon-left":"")+"' role='button' tabindex='0'>"+(i?"<span class='fm-button-icon "+(s.jqGrid("getIconRes",i)||i)+"'></span>":"")+(t?"<span class='fm-button-text'>"+t+"</span>":"")+"</a>"},convertOnSaveLocally:function(e,t,i,n,r,o){if(null==this.p)return e;if($.isFunction(t.convertOnSave))return t.convertOnSave.call(this,{newValue:e,cm:t,oldValue:i,id:n,item:r,iCol:o});if("boolean"!=typeof i&&"number"!=typeof i)return e;if("boolean"!=typeof i||"checkbox"!==t.edittype&&"checkbox"!==t.formatter)"number"!=typeof i||isNaN(e)||("number"===t.formatter||"currency"===t.formatter?e=parseFloat(e):"integer"===t.formatter&&(e=parseInt(e,10)));else{var s=String(e).toLowerCase(),a=null!=t.editoptions&&"string"==typeof t.editoptions.value?t.editoptions.value.split(":"):["yes","no"];0<=$.inArray(s,["1","true",a[0].toLowerCase()])?e=!0:0<=$.inArray(s,["0","false",a[1].toLowerCase()])&&(e=!1)}return e},parseDataToHtml:function(e,t,i,n,r,o,s){var a,l,c,d,u,h,p,f,g,m,v,b,y,w,x,C,k,S,D,T,_,j,A,F,N,I,O,R=this,E=R.p,M=$(R),P=!1,L=[],q=[],z=!0!==E.altRows||M.jqGrid("isBootstrapGuiStyle")?"":E.altclass,H=E.groupingView,B=!1,G=parseInt(E.rowNum,10),W=$.fn.jqGrid,V=!0===E.treeGrid&&-1<E.treeANode?R.rows[E.treeANode].rowIndex+1:R.rows.length,U=R.formatCol;for(V<=1&&(E.rowIndexes={}),("local"===E.datatype&&!E.deselectAfterSort||E.multiPageSelection)&&(P=!0),o&&(G*=o+1),a=0;a<Math.min(e,G);a++){for(u=t[a],h=i[a],p=null!=n?n[a]:h,c=((1===r?0:r)+a)%2==1?z:"",P?E.multiselect?(d=-1!==$.inArray(u,E.selarrrow))&&null===E.selrow&&(E.selrow=u):d=u===E.selrow:d=!1,f=L.length,L.push(""),l=0;l<E.colModel.length;l++)switch(g=E.colModel[l].name){case"rn":L.push((A=l,F=a,N=E.page,I=E.rowNum,O=(parseInt(N,10)-1)*parseInt(I,10)+1+F,"<td role='gridcell' class='"+W.getGuiStyles.call(M,"rowNum","jqgrid-rownum")+"' "+U(A,F,O,null,F,!0)+">"+O+"</td>"));break;case"cb":L.push((T=void 0,T="&nbsp;",_=!(_=void 0),j={rowid:C=u,iRow:S=a,iCol:k=l,data:h,checked:D=d},$.isFunction(E.hasMultiselectCheckBox)&&(_=E.hasMultiselectCheckBox.call(R,j)),_&&(T=$.isFunction(E.checkboxHtml)?E.checkboxHtml.call(R,j):"<input type='checkbox' id='jqg_"+E.id+"_"+C+"' class='cbox' name='jqg_"+E.id+"_"+C+"'"+(D?" checked='checked' aria-checked='true'":" aria-checked='false'")+"/>"),"<td role='gridcell' "+U(k,S,"",null,C,!0)+">"+T+"</td>"));break;case"subgrid":L.push(W.addSubGridCell.call(M,l,a+r,u,h));break;default:L.push((m=u,v=h[g],y=p,w=h,"<td role='gridcell' "+U(b=l,a+r,x=R.formatter(m,v,b,y,"add",w),y,m,w)+">"+x+"</td>"))}E.grouping&&(W.groupingPrepare&&!H._locgr&&W.groupingPrepare.call(M,h,a),B=$.isFunction(H.groupCollapse)?H.groupCollapse.call(R,{group:H.groups[H.groups.length-1],rowid:u,data:h}):H.groupCollapse),L[f]=R.constructTr(u,B,c,h,p,d),L.push("</tr>"),E.rowIndexes[u]=V,V++,E.grouping&&(q.push(L),L=[]),L.length>E.maxItemsToJoin&&(L=[L.join("")])}return E.grouping&&W.groupingRender&&(s&&(H._locgr=!0),L=[W.groupingRender.call(M,q,G)],jgrid.clearArray(q)),L},fillSelectOptions:function(e,t,i,n,r,o){var s,a,l,c,d,u,h,p,f=[],g=!1,m=function(e,t){if(0<t)return e};if(t){if("function"==typeof t&&(t=t()),"string"==typeof t)for(a=t.split(n),s=0;s<a.length;s++)2<(l=a[s].split(i)).length&&(l[1]=$.map(l,m).join(i)),f.push({value:l[0],innerHtml:l[1],selectValue:$.trim(l[0]),selectText:$.trim(l[1]),selected:!1}),""===l[0]&&(g=!0);else if("object"==typeof t)for(h in t)t.hasOwnProperty(h)&&f.push({value:h,innerHtml:t[h],selectValue:$.trim(h),selectText:$.trim(t[h]),selected:!1}),""===h&&(g=!0);if("string"==typeof o){for(p=r?$.map(o.split(","),function(e){return $.trim(e)}):[$.trim(o)],o=$.trim(o),s=0;s<f.length;s++)d=f[s],r||d.selectValue!==o||(u=d.selected=!0),r&&-1<$.inArray(d.selectValue,p)&&(u=d.selected=!0);if(!u)for(s=0;s<f.length;s++)d=f[s],r||d.selectText!==o||(d.selected=!0),r&&-1<$.inArray(d.selectText,p)&&(d.selected=!0)}for(s=0;s<f.length;s++)d=f[s],(c=document.createElement("option")).value=d.value,c.innerHTML=d.innerHtml,d.selected&&(c.selected=!0),e.appendChild(c);return g}},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)}});var clearArray=jgrid.clearArray,jqID=jgrid.jqID,getGridComponentIdSelector=jgrid.getGridComponentIdSelector,getGridComponentId=jgrid.getGridComponentId,getGridComponent=jgrid.getGridComponent,stripPref=jgrid.stripPref,randId=jgrid.randId,getAccessor=jgrid.getAccessor,convertOnSaveLocally=jgrid.convertOnSaveLocally,stripHtml=jgrid.stripHtml,htmlEncode=jgrid.htmlEncode,htmlDecode=jgrid.htmlDecode,mergeCssClasses=jgrid.mergeCssClasses,hasOneFromClasses=jgrid.hasOneFromClasses,feedback=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)};$.fn.jqGrid=function(e){var t,i=$.fn.jqGrid;if("string"==typeof e){if(!(t=i[e]))throw"jqGrid - No such method: "+e;return t.apply(this,$.makeArray(arguments).slice(1))}return this.each(function(){if(!this.grid){var t,n,r=this,o=$(r),s=$.isFunction,a=$.isArray,l=$.extend,c=$.inArray,d=$.trim,u=$.each,h=i.setSelection,p=i.getGridRes,f=s(defaults.fatalError)?defaults.fatalError:alert,g=e.locale||defaults.locale||"en-US",m=null!=locales[g]&&"boolean"==typeof locales[g].isRTL&&locales[g].isRTL?"rtl":"ltr",v=e.iconSet||defaults.iconSet||("bootstrap"===(e.guiStyle||defaults.guiStyle)||"bootstrapPrimary"===(e.guiStyle||defaults.guiStyle)?"glyph":"jQueryUI"),b=e.guiStyle||defaults.guiStyle||"jQueryUI",y=function(e){return i.getIconRes.call(r,e)},w=function(e,t){return o.jqGrid("getGuiStyles",e,t)};null==e&&(e={datatype:"local"}),void 0!==e.datastr&&a(e.datastr)&&(n=e.datastr,e.datastr=[]),void 0!==e.data&&(t=e.data,e.data=[]),null!=jgrid.formatter&&null!=jgrid.formatter.unused||f("CRITICAL ERROR!!!\n\n\nOne uses probably\n\n\t$.extend($.jgrid.defaults, {...});\n\nto set default settings of jqGrid instead of the usage the DEEP version of jQuery.extend (with true as the first parameter):\n\n\t$.extend(true, $.jgrid.defaults, {...});\n\nOne other possible reason:\n\nyou included some OLD version of language file (grid.locale-en.js for example) AFTER jquery.jqGrid.min.js. For example all language files of jqGrid 4.7.0 uses non-deep call of jQuery.extend.\n\n\nSome options of jqGrid could still work, but another one will be broken."),void 0===e.datatype&&void 0!==e.dataType&&(e.datatype=e.dataType,delete e.dataType),void 0===e.mtype&&void 0!==e.type&&(e.mtype=e.type,delete e.type),r.p={iconSet:v};var x=l(!0,{height:"auto",page:1,rowNum:20,maxRowNum:1e4,pagingDuringEditing:"prevent",sortingDuringEditing:"prevent",reloadingDuringEditing:"prevent",autoresizeOnLoad:!1,columnsToReResizing:[],autoResizing:{wrapperClassName:"ui-jqgrid-cell-wrapper",minColWidth:33,maxColWidth:300,adjustGridWidth:!0,compact:!1,fixWidthOnShrink:!1},doubleClickSensitivity:250,minResizingWidth:10,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],additionalProperties:[],arrayReader:[],rowList:[],colNames:[],sortorder:"asc",threeStateSort:!1,sortname:"",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],editingInfo:{},shrinkToFit:!0,xmlReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,singleSelectClickMode:"toggle",selectOnContextMenu:!0,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:function(e,t,i){if("abort"!==t&&"abort"!==i){var n=e.getResponseHeader("Content-Type"),r=e.responseText||"",s=function(e){try{var t,i=$.parseJSON(e),n=[];for(t in i)i.hasOwnProperty(t)&&"StackTrace"!==t&&n.push(t+": "+i[t]);e=n.join("<br />")}catch(e){}return e};"text/html"===n?r=function(e){var t,i,n,r=document.createElement("div");for(n=/<body[^>]*>([\s\S]*)<\/body\s*>/gim.exec(e),r.innerHTML=null!=n&&2===n.length?n[1]:e,i=(t=r.getElementsByTagName("script")).length;i--;)t[i].parentNode.removeChild(t[i]);e=r.innerHTML;try{""===$.trim($(e).text())&&(e="")}catch(e){}return e}(r):"application/json"===n?r=s(r):"text/plain"===n&&(r=s(r)),500!==e.status&&0!==e.status&&(r=(t||i)+(i&&i!==t?": "+i:"")+" "+e.status+" "+e.statusText+(""!==r?"<hr />":"")+r),o.jqGrid("displayErrorMessage",r||t||i)}},loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,forceClientSorting:!1,multiselect:!1,multikey:!1,editurl:"clientArray",search:!1,caption:"",hidegrid:!0,hiddengrid:!1,useUnformattedDataForCellAttr:!0,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",filters:"filters",nd:"nd",id:"id",idold:"idOld",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,iCol:-1,iRow:-1,nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,resetPageAfterSort:!0,multiPageSelection:!1,selectAllMode:"filtered",scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:16,multiselectWidth:16,multiselectPosition:"left",gridview:!0,rownumWidth:25,rownumbers:!1,pagerpos:"center",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!0,autoEncodeOnEdit:!1,remapColumns:[],cmNamesInputOrder:[],ajaxGridOptions:{},direction:m,toppager:!1,headertitles:!1,scrollTimeout:40,maxItemsToJoin:32768,data:[],lastSelectedData:[],quickEmpty:"quickest",_index:{},indexByColumnData:{},dataIndexById:{},iColByName:{},iPropByName:{},reservedColumnNames:["rn","cb","subgrid"],grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,useDefaultValuesOnGrouping:!0,summary:[],displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1,commonIconClass:y("grouping.common"),plusicon:y("grouping.plus"),minusicon:y("grouping.minus")},ignoreCase:!0,cmTemplate:{},idPrefix:"",iconSet:v,guiStyle:b,locale:g,multiSort:!1,showSortOrder:!0,sortOrderPosition:"afterSortIcons",multiSortOrder:"lastClickedFirstSorted",maxSortColumns:3,treeIcons:{commonIconClass:y("treeGrid.common"),plusLtr:y("treeGrid.plusLtr"),plusRtl:y("treeGrid.plusRtl"),minus:y("treeGrid.minus"),leaf:y("treeGrid.leaf")}},defaults,{navOptions:l(!0,{commonIconClass:y("nav.common"),editicon:y("nav.edit"),addicon:y("nav.add"),delicon:y("nav.del"),searchicon:y("nav.search"),refreshicon:y("nav.refresh"),viewicon:y("nav.view"),saveicon:y("nav.save"),cancelicon:y("nav.cancel"),buttonicon:y("nav.newbutton")},jgrid.nav||{}),actionsNavOptions:l(!0,{commonIconClass:y("actions.common"),editicon:y("actions.edit"),delicon:y("actions.del"),saveicon:y("actions.save"),cancelicon:y("actions.cancel")},jgrid.actionsNav||{}),formEditing:l(!0,{commonIconClass:y("form.common"),prevIcon:y("form.prev"),nextIcon:y("form.next"),saveicon:[!0,"left",y("form.save")],closeicon:[!0,"left",y("form.undo")]},jgrid.edit||{}),searching:l(!0,{commonIconClass:y("search.common"),findDialogIcon:y("search.search"),resetDialogIcon:y("search.reset"),queryDialogIcon:y("search.query")},jgrid.search||{}),formViewing:l(!0,{commonIconClass:y("form.common"),prevIcon:y("form.prev"),nextIcon:y("form.next"),closeicon:[!0,"left",y("form.cancel")]},jgrid.view||{}),formDeleting:l(!0,{commonIconClass:y("form.common"),delicon:[!0,"left",y("form.del")],cancelicon:[!0,"left",y("form.cancel")]},jgrid.del||{})},e||{}),C=function(e){return p.call(o,e)},k=function(e){var t=jgrid.getRes(x,e);return void 0!==t?t:p.call(o,"defaults."+e)};if(x.recordpos=x.recordpos||("rtl"===x.direction?"left":"right"),x.autoResizing.widthOfVisiblePartOfSortIcon=void 0!==x.autoResizing.widthOfVisiblePartOfSortIcon?x.autoResizing.widthOfVisiblePartOfSortIcon:"fontAwesome"===x.iconSet?13:12,x.datatype=void 0!==x.datatype?x.datatype:void 0!==t||null==x.url?"local":null!=x.jsonReader&&"object"==typeof x.jsonReader?"json":"xml",x.jsonReader=x.jsonReader||{},x.url=x.url||"",x.cellsubmit=void 0!==x.cellsubmit?x.cellsubmit:void 0===x.cellurl?"clientArray":"remote",x.gridview=void 0!==x.gridview?x.gridview:null==x.afterInsertRow,void 0!==t&&(x.data=t,e.data=t),void 0!==n&&(x.datastr=n,e.datastr=n),"TABLE"===r.tagName.toUpperCase())if(""===r.id&&o.attr("id",randId()),void 0!==document.documentMode&&document.documentMode<=5)f("Grid can not be used in this ('quirks') mode!");else{o.empty().attr("tabindex","0"),(r.p=x).id=r.id,x.idSel="#"+jqID(r.id),x.gBoxId=getGridComponentId.call(r,COMPONENT_NAMES.GRID_BOX_DIV),x.gBox=getGridComponentIdSelector.call(r,COMPONENT_NAMES.GRID_BOX_DIV),x.gViewId=getGridComponentId.call(r,COMPONENT_NAMES.GRID_VIEW_DIV),x.gView=getGridComponentIdSelector.call(r,COMPONENT_NAMES.GRID_VIEW_DIV),x.rsId=getGridComponentId.call(r,COMPONENT_NAMES.COLUMN_RESIZER_DIV),x.rs=getGridComponentIdSelector.call(r,COMPONENT_NAMES.COLUMN_RESIZER_DIV),x.cbId=getGridComponentId.call(r,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX),x.cb=getGridComponentIdSelector.call(r,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX);var S=jgrid.fixScrollOffsetAndhBoxPadding,D=function(e){var t,i={},n=e.length;for(t=0;t<n;t++)i[e[t].name]=t;return i},T=function(){var e,t,i={},n=x.colModel,r=n.length;for(e=0;e<r;e++)((t=n[e]).createColumnIndex||x.createColumnIndex&&!1!==t.createColumnIndex||"select"===t.stype&&(t.searchoptions||{}).generateValue||"select"===t.edittype&&(t.editoptions||{}).generateValue)&&(i[n[e].name]={});return i},_=function(e){var t,i,n={},r=e.length;for(t=0;t<r;t++)n["string"==typeof(i=e[t])?i:i.name]=t;return n},j=function(){var e,t,i={};for(this.p.rowIndexes=i,t=0;t<this.rows.length;t++)e=this.rows[t],$(e).hasClass("jqgrow")&&(i[e.id]=e.rowIndex)},A=function(e){var t=$(this).data("pageX");t?(t=(t=String(t).split(";"))[t.length-1],$(this).data("pageX",t+";"+e.pageX)):$(this).data("pageX",e.pageX)},F=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},N={headers:[],cols:[],footers:[],dragStart:function(e,t,i,n){var r=this,o=$(r.bDiv),s=o.closest(x.gBox).offset(),a=n.offset().left+("rtl"===x.direction?0:r.headers[e].width+(jgrid.cell_width?0:F(x.cellLayout,0))-2);r.resizing={idx:e,startX:a,sOL:a,moved:!1,delta:a-t.pageX},r.curGbox=$(x.rs),r.curGbox.prependTo("body"),r.curGbox.css({display:"block",left:a,top:i[1]+s.top+1,height:i[2]}),r.curGbox.css("height",i[2]-(r.curGbox.outerHeight()-r.curGbox.height())+"px"),r.curGbox.data("idx",e),r.curGbox.data("delta",a-t.pageX),A.call(this.curGbox,t),feedback.call(getGridComponent(COMPONENT_NAMES.BODY_TABLE,o)[0],"resizeStart",t,e),document.onselectstart=function(){return!1},$(document).on("mousemove.jqGrid",function(e){if(N.resizing)return N.dragMove(e),!1}).on("mouseup.jqGrid"+x.id,function(){if(N.resizing)return N.dragEnd(),!1})},dragMove:function(e){var t=this,i=t.resizing;if(i){var n,r,o=e.pageX+i.delta-i.startX,s=t.headers,a=s[i.idx],l="ltr"===x.direction?a.width+o:a.width-o,c=((x.colModel[i.idx]||{}).autoResizing||{}).minColWidth||x.minResizingWidth;i.moved=!0,c<l&&(null==t.curGbox&&(t.curGbox=$(x.rs)),t.curGbox.css({left:i.sOL+o}),!0===x.forceFit?(n=s[i.idx+x.nv],(r="ltr"===x.direction?n.width-o:n.width+o)>x.autoResizing.minColWidth&&(a.newWidth=l,n.newWidth=r)):(t.newWidth="ltr"===x.direction?x.tblwidth+o:x.tblwidth-o,a.newWidth=l))}},resizeColumn:function(e,t,n){var r,o=this,s=o.headers,a=o.footers,l=s[e],c=l.newWidth||l.width,d=getGridComponent(COMPONENT_NAMES.BODY_TABLE,o.bDiv),u=getGridComponent(COMPONENT_NAMES.HEADER_TABLE,o.hDiv).children("thead").children("tr").first()[0].cells;c=parseInt(c,10),x.colModel[e].width=c,l.width=c,u[e].style.width=c+"px",o.cols[e].style.width=c+"px",o.fbRows&&($(o.fbRows[0].cells[e]).css("width",c),$(getGridComponent(COMPONENT_NAMES.FROZEN_HEADER_TABLE,o.fhDiv)[0].rows[0].cells[e]).css("width",c),x.footerrow&&$(getGridComponent(COMPONENT_NAMES.FROZEN_FOOTER_TABLE,o.fsDiv)[0].rows[0].cells[e]).css("width",c)),0<a.length&&(a[e].style.width=c+"px"),!0!==n&&S.call(d[0]),!0===x.forceFit?(c=(r=s[e+x.nv]).newWidth||r.width,r.width=c,u[e+x.nv].style.width=c+"px",o.cols[e+x.nv].style.width=c+"px",0<a.length&&(a[e+x.nv].style.width=c+"px"),x.colModel[e+x.nv].width=c):(x.tblwidth=o.newWidth||x.tblwidth,!0!==n&&(o.hDiv.scrollLeft=o.bDiv.scrollLeft,x.footerrow&&(o.sDiv.scrollLeft=o.bDiv.scrollLeft))),x.autowidth||void 0!==x.widthOrg&&"auto"!==x.widthOrg&&"100%"!==x.widthOrg||!0===n||i.setGridWidth.call(d,o.newWidth+x.scrollOffset,!1),t||feedback.call(d[0],"resizeStop",c,e)},dragEnd:function(){var e=this;e.hDiv.style.cursor="default",e.resizing&&(null!==e.resizing&&!0===e.resizing.moved&&($(e.headers[e.resizing.idx].el).removeData("autoResized"),e.resizeColumn(e.resizing.idx,!1)),$(x.rs).removeData("pageX"),e.resizing=!1,setTimeout(function(){$(x.rs).css("display","none").prependTo(x.gBox)},x.doubleClickSensitivity)),e.curGbox=null,document.onselectstart=function(){return!0},$(document).off("mousemove.jqGrid mouseup.jqGrid"+x.id)},populateVisible:function(){var e=this,t=$(e),i=e.grid,n=i.bDiv,r=$(n);i.timer&&clearTimeout(i.timer),i.timer=null;var o=r.height();if(o){var s,a;if(e.rows.length)try{a=(s=e.rows[1])&&$(s).outerHeight()||i.prevRowHeight}catch(e){a=i.prevRowHeight}if(a){i.prevRowHeight=a;var l=x.rowNum;i.scrollTop=n.scrollTop;var c,d,u,h=i.scrollTop,p=Math.round(t.position().top)-h,f=p+t.height(),g=a*l;if(f<o&&p<=0&&(void 0===x.lastpage||(parseInt((f+h+g-1)/g,10)||0)<=x.lastpage)&&(d=parseInt((o-f+g-1)/g,10)||1,0<=f||d<2||!0===x.scroll?(c=(Math.round((f+h)/g)||0)+1,p=-1):p=1),0<p&&(c=(parseInt(h/g,10)||0)+1,d=(parseInt((h+o)/g,10)||0)+2-c,u=!0),d){if(x.lastpage&&(c>x.lastpage||1===x.lastpage||c===x.page&&c===x.lastpage))return;i.hDiv.loading?i.timer=setTimeout(function(){i.populateVisible.call(e)},x.scrollTimeout):(x.page=c,u&&(i.selectionPreserver.call(e),i.emptyRows.call(e,!1,!1)),i.populate.call(e,d))}}}},scrollGrid:function(){if(x.scroll){var e=this.scrollTop;void 0===N.scrollTop&&(N.scrollTop=0),e!==N.scrollTop&&(N.scrollTop=e,N.timer&&clearTimeout(N.timer),N.timer=setTimeout(function(){N.populateVisible.call(r)},x.scrollTimeout))}return N.hDiv.scrollLeft=this.scrollLeft,x.footerrow&&(N.sDiv.scrollLeft=this.scrollLeft),!1},selectionPreserver:function(){var e=$(this),t=x.selrow,i=x.selarrrow?$.makeArray(x.selarrrow):null,n=this.grid.bDiv,r=n.scrollLeft,o=function(){var s;if(x.selrow=null,!x.multiPageSelection){if(clearArray(x.selarrrow),x.multiselect&&i&&0<i.length)for(s=0;s<i.length;s++)i[s]!==t&&h.call(e,i[s],!1,null);t&&h.call(e,t,!1,null)}n.scrollLeft=r,e.off(".selectionPreserver",o)};e.on("jqGridGridComplete.selectionPreserver",o)}};r.grid=N,feedback.call(r,"beforeInitGrid"),x.iColByName=D(x.colModel),x.iPropByName=_(x.additionalProperties),jgrid.msie=0<jgrid.msiever();var I,O=$("<div class='"+w("gView","ui-jqgrid-view")+"' role='grid' aria-multiselectable='"+!!x.multiselect+"'></div>"),R=jgrid.msie;x.direction=d(x.direction.toLowerCase()),-1===c(x.direction,["ltr","rtl"])&&(x.direction="ltr"),I=x.direction,$(O).insertBefore(r),o.removeClass("scroll").appendTo(O);var E=$("<div class='"+w("gBox","ui-jqgrid")+"'></div>");$(E).attr({id:x.gBoxId,dir:I}).insertBefore(O),$(O).attr("id",x.gViewId).appendTo(E),$("<div class='"+w("overlay","jqgrid-overlay")+"' id='lui_"+x.id+"'></div>").insertBefore(O),$("<div class='"+w("loading","loading")+"' id='load_"+x.id+"'>"+k("loadtext")+"</div>").insertBefore(O),o.attr({role:"presentation","aria-labelledby":"gbox_"+r.id});var M,P=function(e,t,i,n,o,a){var l,c,d,u,h,p=x.colModel[e],f=p.autoResizable?"<span class='"+x.autoResizing.wrapperClassName+"'>":"",g=p.autoResizable?i.substring(f.length,i.length-"</span>".length):i,m=x.useUnformattedDataForCellAttr&&null!=a?a[p.name]:p.autoResizable?g:i,v=p.classes,b=p.align?"text-align:"+p.align+";":"",y=function(e){return"string"==typeof e?e.replace(/'/g,"&#39;"):e},w=" aria-describedby='"+x.id+"_"+p.name+"'";if(!0===p.hidden&&(b+="display:none;"),0===t)b+="width: "+N.headers[e].width+"px;";else if((s(p.cellattr)||"string"==typeof p.cellattr&&null!=jgrid.cellattr&&s(jgrid.cellattr[p.cellattr]))&&"string"==typeof(c=(s(p.cellattr)?p.cellattr:jgrid.cellattr[p.cellattr]).call(r,o,m,n,p,a,g)))for(c=c.replace(/\n/g,"&#xA;");;){if(null===(d=/^\s*(\w+[\w|\-]*)\s*=\s*([\"|\'])(.*?)\2(.*)/.exec(c))||d.length<5)return!h&&p.title&&(h=m),w+" style='"+y(b)+"'"+(v?" class='"+y(v)+"'":"")+(h?" title='"+y(h)+"'":"");switch(u=d[3],c=d[4],d[1].toLowerCase()){case"class":v?v+=" "+u:v=u;break;case"title":h=u;break;case"style":b+=u;break;default:w+=" "+d[1]+"="+d[2]+u+d[2]}}return l=""!==b?"style='"+b+"'":"",(l+=(void 0!==v?" class='"+v+"'":"")+(p.title&&m?" title='"+stripHtml(i).replace(/'/g,"&apos;")+"'":""))+w},L=function(e){return null==e||""===e?"&#160;":x.autoencode?htmlEncode(e):String(e)},q=function(e){var t=x.treeReader,i=t.loaded,n=t.leaf_field,r=t.expanded_field,o=function(e){return!0===e||"true"===e||"1"===e};if("nested"===x.treeGridModel&&!e[n]){var s=parseInt(e[t.left_field],10),a=parseInt(e[t.right_field],10);e[n]=a===s+1}void 0!==e[i]&&(e[i]=o(e[i])),e[n]=o(e[n]),e[r]=o(e[r])},z=function(e,t){var i,n;for(i in x.indexByColumnData)x.indexByColumnData.hasOwnProperty(i)&&(n=e[i],e.hasOwnProperty(i)&&void 0!==n&&""!==n&&(x.ignoreCase&&(n=String(n).toLowerCase()),void 0===x.indexByColumnData[i][n]&&(x.indexByColumnData[i][n]={}),x.indexByColumnData[i][n][t]=e[i],void 0===x.dataIndexById[t]&&(x.dataIndexById[t]={}),void 0===x.dataIndexById[t][i]&&(x.dataIndexById[t][i]={}),x.dataIndexById[t][i][n]=x.indexByColumnData[i][n]))},H=function(){var e,t,i,n,o,c,d,u,h,p,f,g,m=x.data,v=m.length,b=x.localReader,y=x.additionalProperties,w=b.cell,C=x.arrayReaderInfos;if("local"===x.datatype&&!0===b.repeatitems)for(n=!1===x.keyName?s(b.id)?b.id.call(r,m):b.id:x.keyName,isNaN(n)?s(n)||null!=x.arrayReaderInfos[n]&&(o=x.arrayReaderInfos[n].order):o=Number(n),e=0;e<v;e++){for(h in t=m[e],i=w&&getAccessor(t,w)||t,p=a(i),d={},C)C.hasOwnProperty(h)&&(g=C[h],c=getAccessor(i,p?g.order:g.name),1===g.type&&null!=(f=y[g.index])&&s(f.convert)&&(c=f.convert(c,i)),void 0!==c&&(d[h]=c));void 0!==d[n]?u=void 0!==d[n]?d[n]:randId():(void 0===(u=getAccessor(t,a(t)?o:n))&&(u=getAccessor(i,a(i)?o:n)),void 0===u&&(u=randId())),u=String(u),d[b.id]=u,x.treeGrid&&q(d),l(m[e],d)}else if(x.treeGrid)for(e=0;e<v;e++)q(m[e])},B=function(){var e,t,i,n,r=x.data.length;for(e=!1===x.keyName||x.loadonce&&x.dataTypeOrg?x.localReader.id:x.keyName,x._index={},x.dataIndexById={},x.indexByColumnData=T(),t=0;t<r;t++)n=x.data[t],void 0===(i=getAccessor(n,e))&&(i=String(randId()),void 0===n[e]&&(n[e]=i)),x._index[i]=t,z.call(this,n,i)},G=function(e,t){var i,n,o,a=x.colModel,l=a.length,c=function(e){return null==e||""===e?"&#160;":htmlEncode(e)},d=function(e){return null==e||""===e?"&#160;":String(e)};for(i=0;i<l;i++)(n=a[i]).cellBuilder=null,e||(o={colModel:n,gid:x.id,pos:i},void 0===n.formatter?n.cellBuilder=x.autoencode?c:d:"string"==typeof n.formatter&&null!=$.fn.fmatter&&s($.fn.fmatter.getCellBuilder)?n.cellBuilder=$.fn.fmatter.getCellBuilder.call(r,n.formatter,o,t||"add"):s(n.getCellBuilder)&&(n.cellBuilder=n.getCellBuilder.call(r,o,t||"add")))},W=function(e,t,n,r){var o=this,l=$(o),c=new Date,d=x.datatype,u="local"!==d&&x.loadonce||"xmlstring"===d||"jsonstring"===d,h=("xmlstring"===d||"xml"===d)&&$.isXMLDoc(e),p="_id_",f=x.localReader,g=getAccessor;if(e&&("xml"!==d||h)){switch(-1!==x.treeANode||x.scroll?t=1<t?t:1:(N.emptyRows.call(o,!1,!0),t=1),u&&(clearArray(x.data),clearArray(x.lastSelectedData),x._index={},x.grouping&&null!=x.groupingView&&(x.groupingView.groups=[],x.groupingView._locgr=!1),x.localReader.id=p),x.reccount=0,d){case"xml":case"xmlstring":f=x.xmlReader,g=jgrid.getXmlData;break;case"json":case"jsonp":case"jsonstring":f=x.jsonReader}var m,v,b,y,w,C,k,S,D,T,_,A,I,O={},R=x.colModel,E=R.length,M=x.arrayReaderInfos,P={},L=function(e){return function(t){var i=null!=t&&s(t.getAttribute)?t.getAttribute(e):null;return null!==i?i:void 0}},H=function(e){return function(){var t,i=P[e];if(null!=i)return 0<(t=i.childNodes).length?t[0].nodeValue:void 0}};x.page=F(g(e,f.page),x.page),x.lastpage=F(g(e,f.total),1),x.records=F(g(e,f.records)),s(f.userdata)?x.userData=f.userdata.call(o,e)||{}:h?g(e,f.userdata,!0).each(function(){x.userData[this.getAttribute("name")]=$(this).text()}):x.userData=g(e,f.userdata)||{},G();var B,W,V,U,Y={},X=x.additionalProperties,K=function(e,t){h&&"string"==typeof t&&(/^\w+$/.test(t)?Y[e]=H(t):/^\[\w+\]$/.test(t)&&(Y[e]=L(t.substring(1,t.length-1))))},Z=function(e){var t=e.name,i=h?e.xmlmap||t:("local"===d&&!x.dataTypeOrg||"jsonstring"===d||"json"===d||"jsonp"===d)&&e.jsonmap||t;!1!==x.keyName&&!0===e.key&&(x.keyName=t),("string"==typeof i||s(i))&&(Y[t]=i),s(i)||K(t,i)};for(m=0;m<E;m++)Z(R[m]);for(E=X.length,m=0;m<E;m++)"object"==typeof(V=X[m])&&null!=V?Z(V):K(V,V);if(w=!1===x.keyName?s(f.id)?f.id.call(o,e):f.id:x.keyName,isNaN(w)?s(w)||(M[w]&&(C=M[w].order),h&&!1===x.keyName&&("string"==typeof w&&/^\[\w+\]$/.test(w)?w=L(w.substring(1,w.length-1)):"string"==typeof w&&/^\w+$/.test(w)&&(w=H(w)))):C=Number(w),y=g(e,f.root,!0),f.row)if(1===y.length&&"string"==typeof f.row&&/^\w+$/.test(f.row)){for(U=[],_=(T=y[0].childNodes).length,D=0;D<_;D++)1===(A=T[D]).nodeType&&A.nodeName===f.row&&U.push(A);y=U}else y=g(y,f.row,!0);null==y&&a(e)&&(y=e),y||(y=[]),0<(b=y.length)&&x.page<=0&&(x.page=1);var J=parseInt(x.rowNum,10);r&&(J*=r+1);var Q,ee,te=[],ie=[];for(U=[],m=0;m<b;m++){if(ee=y[m],v=f.repeatitems&&f.cell&&g(ee,f.cell,!0)||ee,B=f.repeatitems&&(h||a(v)),O={},P={},h&&!B&&null!=v)for(_=(T=v.childNodes).length,D=0;D<_;D++)1===(A=T[D]).nodeType&&(P[A.nodeName]=A);for(S in M)M.hasOwnProperty(S)&&(I=M[S],B?(W=v[I.order],h&&null!=W&&(W=W.textContent||W.text)):W=null!=Y[S]&&"string"!=typeof Y[S]?Y[S].call(o,v,{cmName:S,iItem:m}):g(v,"string"==typeof Y[S]?Y[S]:I.name),1===I.type&&null!=(V=X[I.index])&&s(V.convert)&&(W=V.convert(W,v)),void 0!==W&&(O[S]=W));if(void 0!==O[w]?Q=void 0!==O[w]?O[w]:randId():(void 0===(Q=g(ee,a(ee)?C:w))&&(Q=g(v,a(v)?C:w)),void 0===Q&&(Q=randId())),void 0===O[w]&&(O[w]=Q),Q=String(Q),k=x.idPrefix+Q,x.treeGrid&&q(O),m<J)ie.push(k),te.push(v),U.push(O);else if(!u)break;(u||!0===x.treeGrid)&&(O[p]=Q,x.data.push(O),z(O,Q),x._index[O[p]]=x.data.length-1)}if(u&&!0!==x.treeGrid){if(x.forceClientSorting)return;x.lastSelectedData=x.data.slice()}var ne=jgrid.parseDataToHtml.call(o,b,ie,U,te,t,r,u);G(!0);var re=-1<x.treeANode?x.treeANode:0,oe=$(o.tBodies[0]);if(!0===x.treeGrid&&0<re?$(o.rows[re]).after(ne.join("")):x.scroll?oe.append(ne.join("")):(null==o.firstElementChild||void 0!==document.documentMode&&document.documentMode<=9?oe.html(oe.html()+ne.join("")):o.firstElementChild.innerHTML+=ne.join(""),o.grid.cols=o.rows[0].cells),x.grouping){j.call(o);var se,ae=function(e){var t=$(this).closest("tr.jqgroup").attr("id");return l.jqGrid("groupingToggle",t,this,e),!1};for(m=0;m<o.rows.length;m++)(se=$(o.rows[m])).hasClass("jqgroup")&&se.children("td").children("span.tree-wrap").click(ae)}if(!0===x.subGrid)try{i.addSubGrid.call(l,x.iColByName.subgrid)}catch(e){}if(!1===x.gridview||s(x.afterInsertRow))for(m=0;m<Math.min(b,J);m++)feedback.call(o,"afterInsertRow",ie[m],U[m],te[m]);if(x.totaltime=new Date-c,0<m&&0===x.records&&(x.records=b),clearArray(ne),!0===x.treeGrid)try{i.setTreeNode.call(l,re+1,m+re+1)}catch(e){}x.reccount=Math.min(b,J),x.treeANode=-1,x.userDataOnFooter&&i.footerData.call(l,"set",x.userData,!0),u&&(x.records=b,x.lastpage=Math.ceil(b/J)),n||o.updatepager(!1,!0),function(){var e,t,i=$.fn.fmatter;for(e=0;e<x.colModel.length;e++)"string"==typeof(t=x.colModel[e].formatter)&&null!=i&&s(i[t])&&s(i[t].pageFinalization)&&i[t].pageFinalization.call(this,e)}.call(o)}},V=function(e){var t,i=e.outerWidth();return i<=0&&(t=$(this).closest(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",$(document.body).append("<div id='testpg' class='"+w("gBox","ui-jqgrid")+"' style='font-size:"+t+";visibility:hidden;margin:0;padding:0;' ></div>"),$(e).clone().appendTo("#testpg"),i=$("#testpg>.ui-pg-table").width(),$("#testpg").remove()),0<i&&e.parent().width(i),i},U=function(){this.grid.hDiv.loading=!0,x.hiddengrid||i.progressBar.call($(this),{method:"show",loadtype:x.loadui,htmlcontent:k("loadtext")})},Y=function(){this.grid.hDiv.loading=!1,i.progressBar.call($(this),{method:"hide",loadtype:x.loadui})},X=function(e){var t=this,n=$(t),o=t.grid;if(!o.hDiv.loading){var c,d,h=x.scroll&&!1===e,p={},g=x.prmNames;x.page<=0&&(x.page=Math.min(1,x.lastpage)),null!==g.search&&(p[g.search]=x.search),null!==g.nd&&(p[g.nd]=(new Date).getTime()),(isNaN(parseInt(x.rowNum,10))||parseInt(x.rowNum,10)<=0)&&(x.rowNum=x.maxRowNum),null!==g.rows&&(p[g.rows]=x.rowNum),null!==g.page&&(p[g.page]=x.page),null!==g.sort&&(p[g.sort]=x.sortname),null!==g.order&&(p[g.order]=x.sortorder),null!==x.rowTotal&&null!==g.totalrows&&(p[g.totalrows]=x.rowTotal);var m=s(x.loadComplete),v=m?x.loadComplete:null,b=0;if(1<(e=e||1)?null!==g.npage?(p[g.npage]=e,b=e-1,e=1):v=function(i){x.page++,o.hDiv.loading=!1,m&&x.loadComplete.call(t,i),X.call(t,e-1)}:null!==g.npage&&delete x.postData[g.npage],x.grouping&&i.groupingSetup){i.groupingSetup.call(n);var y,w,k,D,T=x.groupingView,_="";for(y=0;y<T.groupField.length;y++){for(w=T.groupField[y],k=0;k<x.colModel.length;k++)(D=x.colModel[k]).name===w&&D.index&&(w=D.index);_+=w+" "+T.groupOrder[y]+", "}p[g.sort]=_+p[g.sort]}l(x.postData,p);var j=x.scroll?t.rows.length-1:1,A=function(){S.call(t),x.autowidth||void 0!==x.widthOrg&&"auto"!==x.widthOrg&&"100%"!==x.widthOrg||i.setGridWidth.call(n,x.tblwidth+x.scrollOffset,!1)},F=function(){var e;if(x.autoresizeOnLoad)i.autoResizeAllColumns.call(n),clearArray(x.columnsToReResizing),x.autowidth&&i.setGridWidth.call(n,n.closest(".ui-jqgrid").parent().width(),!0);else{for(e=0;e<x.columnsToReResizing.length;e++)i.autoResizeColumn.call(n,x.columnsToReResizing[e]);clearArray(x.columnsToReResizing)}},I=function(){feedback.call(t,"loadComplete",d),F(),n.triggerHandler("jqGridAfterLoadComplete",[d]),Y.call(t),x.datatype="local",x.datastr=null,A()},O=function(i){n.triggerHandler("jqGridLoadComplete",[i]),v&&v.call(t,i),F(),n.triggerHandler("jqGridAfterLoadComplete",[i]),h&&o.populateVisible.call(t),1===e&&Y.call(t),A()},R=function(){var n=function(){var e=$(this),t=x.multiSort?[]:"",n={},r=!1,o={},l=[],c=[],d=C("formatter.date.srcformat"),h=C("formatter.date.newformat");if(!a(x.data))return{};x.multiSort&&Q(t,n);var p,g,m=!!x.grouping&&x.groupingView,v=function(e,i,n){var s,a,u=e.index||e.name,f=e.sorttype||"text";if(o[e.name]={reader:x.dataTypeOrg?e.name:e.jsonmap||e.name,iCol:i,stype:f,srcfmt:"",newfmt:"",sfunc:e.sortfunc||null,isAddProp:!0===n},"date"!==f&&"datetime"!==f||(e.formatter&&"string"==typeof e.formatter&&"date"===e.formatter?(s=e.formatoptions&&e.formatoptions.srcformat?e.formatoptions.srcformat:d,a=e.formatoptions&&e.formatoptions.newformat?e.formatoptions.newformat:h):s=a=e.datefmt||"Y-m-d",o[e.name].srcfmt=s,o[e.name].newfmt=a),x.grouping)for(g=0,p=m.groupField.length;g<p;g++)e.name===m.groupField[g]&&(l[g]=o[u],c[g]=u);x.multiSort||r||e.index!==x.sortname&&e.name!==x.sortname||(t=e.name,r=!0)};if(u(x.colModel,function(e){v(this,e)}),u(x.additionalProperties,function(e){v("string"==typeof this?{name:this}:this,e,!0)}),x.treeGrid)return i.SortTree.call(e,t,x.sortorder,null!=o[t]&&o[t].stype?o[t].stype:"text",null!=o[t]&&o[t].srcfmt?o[t].srcfmt:""),!1;var b={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().inSet:e.andNot().inSet},in:function(e){return e.inSet},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},y=jgrid.from.call(this,x.data);if(x.ignoreCase&&(y=y.ignoreCase()),!0===x.search){var w=x.postData[(x.searching||{}).sFilter||x.prmNames.filters];if(w)"string"==typeof w&&(w=$.parseJSON(w)),function e(t){var i,n,r,a,l,c,d,u=0;if(null!=t.groups){for((n=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase())&&y.orBegin(),i=0;i<t.groups.length;i++){0<u&&n&&y.or();try{e(t.groups[i])}catch(e){f(e)}u++}n&&y.orEnd()}if(null!=t.rules)try{for((r=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase())&&y.orBegin(),i=0;i<t.rules.length;i++)l=t.rules[i],a=t.groupOp.toString().toUpperCase(),b[l.op]&&l.field?(0<u&&a&&"OR"===a&&(y=y.or()),null!=(d=o[l.field])&&(c=d.reader,y=b[l.op](y,a)(s(c)?'jQuery.jgrid.getAccessor(this,jQuery("'+x.idSel+'")[0].p.colModel['+d.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+c+"')",l.data,o[l.field]))):null!=x.customSortOperations&&null!=x.customSortOperations[l.op]&&s(x.customSortOperations[l.op].filter)&&(y=y.custom(l.op,l.field,l.data)),u++;r&&y.orEnd()}catch(e){f(e)}}(w);else try{var k=o[x.postData.searchField];y=b[x.postData.searchOper](y)(s(k.reader)?'jQuery.jgrid.getAccessor(this,jQuery("'+x.idSel+'")[0].p.colModel['+k.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+k.reader+"')",x.postData.searchString,o[x.postData.searchField])}catch(e){}}if(x.grouping)for(g=0;g<p&&g<c.length&&g<l.length;g++)y.orderBy(c[g],m.groupOrder[g],l[g].stype,l[g].srcfmt);x.multiSort?u(t,function(){y.orderBy(this,n[this],o[this].stype,o[this].srcfmt,o[this].sfunc)}):t&&x.sortorder&&r&&y.orderBy(x.sortname,"DESC"===x.sortorder.toUpperCase()?"d":"a",o[t].stype,o[t].srcfmt,o[t].sfunc),x.lastSelectedData=y.select();var S=parseInt(x.rowNum,10),D=x.lastSelectedData.length,T=parseInt(x.page,10),_=Math.ceil(D/S),j={};if(x.grouping&&x.groupingView._locgr){var A,F,N;if(x.groupingView.groups=[],x.footerrow&&x.userDataOnFooter){for(F in x.userData)x.userData.hasOwnProperty(F)&&(x.userData[F]=0);N=!0}for(A=0;A<D;A++){if(N)for(F in x.userData)x.userData.hasOwnProperty(F)&&(x.userData[F]+=parseFloat(x.lastSelectedData[A][F]||0));i.groupingPrepare.call(e,x.lastSelectedData[A],A,S)}}o=y=null;var I=x.localReader;return j[I.total]=_,j[I.page]=T,j[I.records]=D,j[I.root]=x.lastSelectedData.slice((T-1)*S,T*S),j[I.userdata]=x.userData,j}.call(t);W.call(t,n,j,1<e,b),O(n)};if(!feedback.call(t,"beforeRequest"))return;if(s(x.datatype))return void x.datatype.call(t,x.postData,"load_"+x.id,j,e,b);switch(c=x.datatype.toLowerCase(),$(N.eDiv).hide(),c){case"json":case"jsonp":case"xml":case"script":$.ajax(l({url:x.url,type:x.mtype,dataType:c,data:jgrid.serializeFeedback.call(r,x.serializeGridData,"jqGridSerializeGridData",x.postData),success:function(i,n,r){x.jqXhr=null,$(N.eDiv).hide(),s(x.beforeProcessing)&&!1===x.beforeProcessing.call(t,i,n,r)?Y.call(t):(W.call(t,i,j,1<e,b),O(i),(x.loadonce||x.treeGrid)&&(x.dataTypeOrg=x.datatype,x.datatype="local",x.forceClientSorting&&R()))},error:function(i,n,r){x.jqXhr=null,s(x.loadError)&&x.loadError.call(t,i,n,r),1===e&&Y.call(t)},beforeSend:function(e,i){var n=!0;if(s(x.loadBeforeSend)&&(n=x.loadBeforeSend.call(t,e,i)),void 0===n&&(n=!0),!1===n)return!1;x.jqXhr=e,U.call(t)}},jgrid.ajaxOptions,x.ajaxGridOptions));break;case"xmlstring":U.call(t),d="string"==typeof x.datastr?$.parseXML(x.datastr):x.datastr,W.call(t,d),I(),x.forceClientSorting&&R();break;case"jsonstring":U.call(t),d=x.datastr&&"string"==typeof x.datastr?$.parseJSON(x.datastr):x.datastr,W.call(t,d),I(),x.forceClientSorting&&R();break;case"local":case"clientside":U.call(t),x.datatype="local",R()}}},K=function(e){var t=this.grid;$(x.cb,t.hDiv).prop("checked",e),x.frozenColumns&&$(x.cb,t.fhDiv).prop("checked",e)},Z=function(e){var t,i;for(t=0;t<x.savedRow.length;t++)i=x.savedRow[t],"save"===e?i.hasOwnProperty("ic")?o.jqGrid("saveCell",i.id,i.ic):o.jqGrid("saveRow",i.id):i.hasOwnProperty("ic")?o.jqGrid("restoreCell",i.id,i.ic):o.jqGrid("restoreRow",i.id)},J=function(e,t){var i,n,o,s,a,l,c,d,u,h=w("states.hover"),p=w("states.disabled"),f="<td class='ui-pg-button "+p+"'><span class='ui-separator'></span></td>",g="",m="<table style='table-layout:auto;white-space: pre;"+("left"===x.pagerpos?"margin-right:auto;":"right"===x.pagerpos?"margin-left:auto;":"margin-left:auto;margin-right:auto;")+"' class='ui-pg-table'><tbody><tr>",v="",b=function(e,t,i){return!(0<x.savedRow.length&&"prevent"===x.pagingDuringEditing||!feedback.call(r,"onPaging",e,{newPage:t,currentPage:F(x.page,1),lastPage:F(x.lastpage,1),currentRowNum:F(x.rowNum,10),newRowNum:i})||(x.selrow=null,x.multiselect&&(x.multiPageSelection||clearArray(x.selarrrow),K.call(r,!1)),Z(x.pagingDuringEditing),0))};if(t+="_"+e,i="pg_"+e,n=e+"_left",o=e+"_center",s=e+"_right",$("#"+jqID(e)).append("<div id='"+i+"' class='ui-pager-control' role='group'><table class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;'><tbody><tr><td id='"+n+"' class='ui-jqgrid-pg-left'"+(void 0!==x.pagerLeftWidth?" style='width:"+x.pagerLeftWidth+"px;'":"")+"></td><td id='"+o+"' class='ui-jqgrid-pg-center'"+(void 0!==x.pagerCenterWidth?" style='width:"+x.pagerCenterWidth+"px;'":"")+"></td><td id='"+s+"' class='ui-jqgrid-pg-right'"+(void 0!==x.pagerRightWidth?" style='width:"+x.pagerRightWidth+"px;'":"")+"></td></tr></tbody></table></div>").attr("dir","ltr"),i="#"+jqID(i),0<x.rowList.length){v="<td dir='"+I+"'>";var C,S=k("pgrecs");for(v+="<select class='"+w("pager.pagerSelect","ui-pg-selbox")+"' "+(S?"title='"+S+"'":"")+">",l=0;l<x.rowList.length;l++)1===(C=x.rowList[l].toString().split(":")).length&&(C[1]=C[0]),v+="<option value='"+C[0]+"'"+(F(x.rowNum,0)===F(C[0],0)?" selected='selected'":"")+">"+C[1]+"</option>";v+="</select></td>"}if("rtl"===I&&(m+=v),!0===x.pginput&&(g="<td dir='"+I+"'>"+jgrid.format(k("pgtext")||"","<input aria-label='Page No.' class='"+w("pager.pagerInput","ui-pg-input")+"' type='text' size='2' maxlength='7' value='0'/>","<span id='sp_1_"+e+"'>0</span>")+"</td>"),e="#"+jqID(e),!0===x.pgbuttons){var D=["first","prev","next","last"],T=D.slice(),_=w("pager.pagerButton","ui-pg-button");for("rtl"===I&&D.reverse(),l=0;l<D.length;l++)m+=(c=D[l],d=T[l],u=k("pg"+c),"<td role='button' tabindex='0' id='"+c+t+"' class='"+_+"' "+(u?"title='"+u+"'":"")+"><span class='"+y("pager."+d)+"'></span></td>"),1===l&&(m+=""!==g?f+g+f:"")}else""!==g&&(m+=g);"ltr"===I&&(m+=v),m+="</tr></tbody></table>",!0===x.viewrecords&&$("td"+e+"_"+x.recordpos,i).append("<span dir='"+I+"' style='text-align:"+x.recordpos+"' class='ui-paging-info'></span>");var j=$("td"+e+"_"+x.pagerpos,i);j.append(m),a=V.call(this,j.children(".ui-pg-table")),x._nvtd=[],x._nvtd[0]=a?Math.floor((x.width-a)/2):Math.floor(x.width/3),x._nvtd[1]=0,m=null,$(".ui-pg-selbox",i).on("change",function(){var e=F(this.value,10),t=Math.round(x.rowNum*(x.page-1)/e-.5)+1;return b("records",t,e)&&(x.page=t,x.rowNum=e,x.pager&&$(".ui-pg-selbox",x.pager).val(e),x.toppager&&$(".ui-pg-selbox",x.toppager).val(e),X.call(r)),!1}),!0===x.pgbuttons&&($(".ui-pg-button",i).hover(function(){hasOneFromClasses(this,p)?this.style.cursor="default":($(this).addClass(h),this.style.cursor="pointer")},function(){hasOneFromClasses(this,p)||($(this).removeClass(h),this.style.cursor="default")}),$("#first"+jqID(t)+", #prev"+jqID(t)+", #next"+jqID(t)+", #last"+jqID(t)).click(function(){if(hasOneFromClasses(this,p))return!1;var e=F(x.page,1),i=e,n=this.id,o=F(x.lastpage,1),s=!1,a=!0,l=!0,c=!0,d=!0;return 0===o||1===o?(e<=1&&(l=a=!1),d=c=!1):1<o&&1<=e?1===e?l=a=!1:e===o&&(d=c=!1):1<o&&0===e&&(d=c=!1,e=o-1),this.id==="first"+t&&a&&(n="first",i=1,s=!0),this.id==="prev"+t&&l&&(n="prev",i=e-1,s=!0),this.id==="next"+t&&c&&(n="next",i=e+1,s=!0),this.id==="last"+t&&d&&(n="last",i=o,s=!0),b(n,i,F(x.rowNum,10))&&(x.page=i,s&&X.call(r)),!1})),!0===x.pginput&&$("input.ui-pg-input",i).on("keypress.jqGrid",function(e){var t=e.charCode||e.keyCode||0,i=F($(this).val(),1);return 13===t?(b("user",i,F(x.rowNum,10))&&($(this).val(i),x.page=0<$(this).val()?$(this).val():x.page,X.call(r)),!1):this}),j.children(".ui-pg-table").on("keydown.jqGrid",function(e){var t;13===e.which&&0<(t=j.find(":focus")).length&&t.trigger("click")})},Q=function(e,t,i){if(u((x.sortname+" "+x.sortorder).split(","),function(){var t=$.trim(this).split(" ");2===t.length&&e.push(t[0])}),null!=i){var n=$.inArray(i.index||i.name,e);""!==i.lso&&n<0?e.push(i.index||i.name):""===i.lso&&0<=n&&e.splice(n,1)}u(x.colModel,function(){var i,n=this.index||this.name;this.lso&&(i=this.lso.split("-"),$.inArray(n,e)<0&&e.push(n),t[n]=i[i.length-1])})},ee=function(e,t,n,o,a,l){var d=this,h=d.grid,p=x.colModel[t],f=w("states.disabled");if(null!=p&&p.sortable&&!(0<x.savedRow.length&&"prevent"===x.sortingDuringEditing)){if(x.lastsort===t&&""!==x.sortname?"asc"===x.sortorder?x.sortorder="desc":"desc"===x.sortorder?x.sortorder="asc":x.sortorder=p.firstsortorder||"asc":x.sortorder=p.firstsortorder||"asc",p.lso?"asc"===p.lso?p.lso+="-desc":"desc"===p.lso?p.lso+="-asc":"asc-desc"!==p.lso&&"desc-asc"!==p.lso||!x.threeStateSort&&!x.multiSort||(p.lso=""):p.lso=p.firstsortorder||"asc",!n&&x.resetPageAfterSort&&(x.page=1),x.multiSort)!function(e,t){var i,n="",o=x.colModel[e],a=w("states.disabled"),l=x.frozenColumns?$(r.grid.headers[e].el).add($(t)):$(r.grid.headers[e].el),d=l.find("span.s-ico"),h=d.children("span.ui-icon-asc"),p=d.children("span.ui-icon-desc"),f=h,g=p,m=[],v={};if(l.find("span.ui-grid-ico-sort").addClass(a),l.attr("aria-selected","false"),o.lso?(d.show(),"desc"===(i=(i=o.lso.split("-"))[i.length-1])&&(f=p,g=h),f.removeClass(a).css("display",""),x.showOneSortIcon&&g.hide(),l.attr("aria-selected","true")):x.viewsortcols[0]||d.hide(),Q(m,v,o),"string"==typeof x.sortname&&""!==x.sortname&&x.sortname.split(",").length<m.length){var b=function(e){u(x.colModel,function(){var t,i="#jqgh_"+jgrid.jqID(x.id+"_"+this.name),n=$(i);if(this.lso&&(this.index||this.name)===e){if("function"==typeof m.indexOf)t=m.indexOf(e);else{for(t=0;t<m.length&&m[t]!==e;t++);t===m.length&&(t=-1)}0<=t&&(m.splice(t,1),this.lso="")}x.frozenColumns&&(n=n.add($(N.fhDiv).find(i))),n.children(".s-ico")[this.lso?"show":"hide"]()})};if("lastClickedFirstSorted"===x.multiSortOrder&&1<m.length)for(m.unshift(m[m.length-1]),m.pop();m.length>x.maxSortColumns;)b(m[m.length-1]);else s(x.multiSortOrder)&&(m=x.multiSortOrder.call(r,{sortNames:m,cm:o,sortDirs:v,removeSorting:b})||m)}u(m,function(){0<n.length&&(n+=", "),n+=this+" "+v[this],x.sortorder=v[this]}),x.sortname=n.substring(0,n.length-x.sortorder.length-1),x.showSortOrder&&u(x.colModel,function(){if(this.sortable){var e=c(this.name,m),t="#jqgh_"+jgrid.jqID(x.id+"_"+this.name),i=$(t);x.frozenColumns&&(i=i.add($(N.fhDiv).find(t))),i.children(".ui-jqgrid-sort-order").html(e<0?"&nbsp;":s(x.formatSortOrder)?x.formatSortOrder.call(r,{cm:this,sortIndex:e}):e+1)}})}(t,a);else{if(o){if(x.lastsort===t&&x.sortorder===o&&!n)return;x.sortorder=o}var g=h.headers,m=h.fhDiv,v=g[x.lastsort]?$(g[x.lastsort].el):$(),b=x.frozenColumns?$(a):$(g[t].el),y=b.find("span.s-ico"),C=y.children(".ui-icon-"+x.sortorder),k=y.children(".ui-icon-"+("asc"===x.sortorder?"desc":"asc"));p=x.colModel[x.lastsort],v.find(".ui-grid-ico-sort").addClass(f),v.attr("aria-selected","false"),x.frozenColumns&&(m.find(".ui-grid-ico-sort").addClass(f),m.find("th").attr("aria-selected","false")),x.viewsortcols[0]||(x.lastsort!==t?(x.frozenColumns&&m.find("span.s-ico").hide(),v.find("span.s-ico").hide(),y.show()):""===x.sortname&&y.show()),x.lastsort!==t&&"true"===v.data("autoResized")&&(null!=p&&null!=p.autoResizing&&p.autoResizing.compact||x.autoResizing.compact)&&x.columnsToReResizing.push(x.lastsort),p=x.colModel[t],y.css("display",""),""!==p.lso?(C.removeClass(f).css("display",""),x.showOneSortIcon&&k.removeClass(f).hide(),b.attr("aria-selected","true")):(b.attr("aria-selected","false"),x.threeStateSort&&(x.sortorder="",x.viewsortcols[0]||y.hide())),x.lastsort!==t&&"true"===b.data("autoResized")&&(null!=p&&null!=p.autoResizing&&p.autoResizing.compact||x.autoResizing.compact)&&x.columnsToReResizing.push(t),x.sortname=p.index||e}if(feedback.call(d,"onSortCol",x.sortname,t,x.sortorder,l||{})){if("local"===x.datatype?x.deselectAfterSort&&!x.multiPageSelection&&i.resetSelection.call($(d)):x.multiPageSelection||(x.selrow=null,x.multiselect&&(K.call(d,!1),clearArray(x.selarrrow))),Z(x.sortingDuringEditing),x.scroll){var S=h.bDiv.scrollLeft;N.emptyRows.call(d,!0,!1),h.hDiv.scrollLeft=S}x.subGrid&&"local"===x.datatype&&$("td.sgexpanded","#"+jqID(x.id)).each(function(){$(this).trigger("click")}),X.call(d),x.lastsort=t,x.sortname!==e&&t&&(x.lastsort=t)}else x.lastsort=t}},te=function(e){return x.iColByName[(e.id||"").substring(x.id.length+1)]};-1===c(x.multikey,["shiftKey","altKey","ctrlKey"])&&(x.multikey=!1),x.keyName=!1,x.sortorder=x.sortorder.toLowerCase(),jgrid.cell_width=jgrid.cellWidth();var ie,ne,re=jgrid.cmTemplate;for(ie=0;ie<x.colModel.length;ie++)M="string"==typeof(ne=x.colModel[ie]).template?null==re||"object"!=typeof re[ne.template]&&!s(re[ne.template])?{}:re[ne.template]:ne.template,s(M)&&(M=M.call(r,{cm:ne,iCol:ie})),ne=l(!0,{},x.cmTemplate,M||{},ne),!1===x.keyName&&!0===ne.key&&(x.keyName=ne.name),x.colModel[ie]=ne;for(x.indexByColumnData=T(),ie=0;ie<x.additionalProperties.length;ie++)ne=x.additionalProperties[ie],!1===x.keyName&&!0===ne.key&&(x.keyName=ne.name);if(0===x.colNames.length)for(ie=0;ie<x.colModel.length;ie++)x.colNames[ie]=void 0!==x.colModel[ie].label?x.colModel[ie].label:x.colModel[ie].name;if(x.colNames.length===x.colModel.length){if(!0===x.grouping&&(x.scroll=!1,x.rownumbers=!1,x.treeGrid=!1,x.gridview=!0),x.subGrid&&s(i.setSubGrid))try{i.setSubGrid.call(o)}catch(t){}if(x.multiselect&&("left"===x.multiselectPosition||"right"===x.multiselectPosition)){var oe="left"===x.multiselectPosition?"unshift":"push";x.colNames[oe]("<input id='"+x.cbId+"' class='cbox' type='checkbox' aria-checked='false'/>"),x.colModel[oe]({name:"cb",width:jgrid.cell_width?x.multiselectWidth+x.cellLayout:x.multiselectWidth,labelClasses:"jqgh_cbox",classes:"td_cbox",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})}if(x.rownumbers&&(x.colNames.unshift(""),x.colModel.unshift({name:"rn",width:jgrid.cell_width?x.rownumWidth+x.cellLayout:x.rownumWidth,labelClasses:"jqgh_rn",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),x.iColByName=D(x.colModel),x.xmlReader=l(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},x.xmlReader),x.jsonReader=l(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},x.jsonReader),x.localReader=l(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},x.localReader),x.scroll&&(x.pgbuttons=!1,x.pginput=!1,x.rowList=[]),!0===x.treeGrid){try{i.setTreeGrid.call(o)}catch(t){}"local"!==x.datatype&&(x.localReader={id:"_id_"}),x.iPropByName=_(x.additionalProperties)}if(function(){var e,t,i,n=x.remapColumns,r=x.colModel,o=r.length,s=[];for(e=0;e<o;e++)i=r[e].name,c(i,x.reservedColumnNames)<0&&s.push(i);if(null!=n)for(t=s.slice(),e=0;e<n.length;e++)s[e]=t[n[e]];x.cmNamesInputOrder=s}(),function(){var e,t,i,n,r,o=x.colModel,s=x.cmNamesInputOrder,a=x.additionalProperties,l=s.length;for(x.arrayReaderInfos={},t=x.arrayReaderInfos,r=0;r<l;r++)i=s[r],c(i,x.reservedColumnNames)<0&&!t.hasOwnProperty(i)&&(void 0!==(n=x.iColByName[i])?t[i]={name:i,index:n,order:r,type:0}:void 0!==(n=x.iPropByName[i])?t[i]={name:i,index:n,order:r,type:1}:i===(x.prmNames.rowidName||"rowid")&&(t[i]={index:n,type:2}));for(l=o.length,e=0;e<l;e++)i=o[e].name,c(i,x.reservedColumnNames)<0&&!t.hasOwnProperty(i)&&(t[i]={name:i,index:e,order:r,type:0},r++);for(l=a.length,e=0;e<l;e++)null==(i=a[e])||t.hasOwnProperty(i)||("object"==typeof i&&"string"===$.type(i.name)&&(i=i.name),t[i]={name:i,index:e,order:r,type:1},r++)}(),x.data.length&&(H.call(r),B.call(r)),!0===x.shrinkToFit&&!0===x.forceFit)for(ie=x.colModel.length-1;0<=ie;ie--)if(!0!==x.colModel[ie].hidden){x.colModel[ie].resizable=!1;break}var se,ae,le,ce,de,ue,he,pe,fe,ge=[],me=[],ve=[],be="<thead><tr class='ui-jqgrid-labels' role='row'>",ye="<tbody><tr style='display:none;'>",we=w("states.hover"),xe=w("states.hoverTh")||we,Ce=w("states.disabled");if(x.multiSort)for(ge=x.sortname.split(","),fe=0;fe<ge.length;fe++)ve=d(ge[fe]).split(" "),ge[fe]=d(ve[0]),me[fe]=ve[1]?d(ve[1]):x.sortorder||"asc";for(ie=0;ie<x.colNames.length;ie++){switch(ne=x.colModel[ie],de=x.headertitles||ne.headerTitle?" title='"+stripHtml("string"==typeof ne.headerTitle?ne.headerTitle:x.colNames[ie])+"'":"",be+="<th id='"+x.id+"_"+ne.name+"' class='"+w("colHeaders","ui-th-column ui-th-"+I+" "+(ne.labelClasses||""))+"'"+de+">",se=ne.index||ne.name,ne.labelAlign){case"left":ue="text-align:left;";break;case"right":ue="text-align:right;";break;case"likeData":ue=void 0===ne.align||"left"===ne.align?"text-align:left;":"right"===ne.align?"text-align:right;":"";break;default:ue=""}be+="<div id='jqgh_"+x.id+"_"+ne.name+"'"+(R?" class='ui-th-div-ie'":"")+(""===ue?"":" style='"+ue+"'")+" role='columnheader'>",pe=ne.autoResizable&&"actions"!==ne.formatter||ne.rotated?"<span class='"+x.autoResizing.wrapperClassName+"'>"+x.colNames[ie]+"</span>":x.colNames[ie],x.sortIconsBeforeText?(be+=(x.builderSortIcons||jgrid.builderSortIcons).call(r,ie),be+=pe):(be+=pe,be+=(x.builderSortIcons||jgrid.builderSortIcons).call(r,ie)),be+="</div></th>",ye+="<td></td>",ne.width=ne.width?parseInt(ne.width,10):150,"boolean"!=typeof ne.title&&(ne.title=!0),ne.lso="",se===x.sortname&&(x.lastsort=ie,ne.lso=x.sortorder||ne.firstsortorder||"asc"),x.multiSort&&-1!==(ve=c(se,ge))&&(ne.lso=me[ve])}be+="</tr></thead>",ye+="</tr></tbody>";var ke,Se,$e,De,Te,_e,je,Ae,Fe,Ne,Ie,Oe=$("<table class='"+w("hTable","ui-jqgrid-htable")+"' style='width:1px' role='presentation' aria-labelledby='gbox_"+x.id+"'>"+be+ye+"</table>");if($(Oe[0].tHead).children("tr").children("th").hover(function(){$(this).addClass(xe)},function(){$(this).removeClass(xe)}),x.multiselect&&$(x.cb,Oe).on("click",function(){var e,t,i,n=w("states.select"),o=[],s=x.iColByName.cb,a=function(e,t){$(e)[t?"addClass":"removeClass"](n).attr(t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"}),void 0!==s&&$(e.cells[s]).children("input.cbox").prop("checked",t)},l=N.fbRows,c=Ce+" ui-subgrid jqgroup jqfoot jqgfirstrow jqgskipselect",d=x._index;if(clearArray(x.selarrrow),this.checked){if(e=!0,x.selrow=1<r.rows.length?r.rows[r.rows.length-1].id:null,x.multiPageSelection&&("local"===x.datatype||x.treeGrid))if("filtered"===x.selectAllMode&&null!=x.lastSelectedData&&0<x.lastSelectedData.length)for(x.selarrrow=[],i=0;i<x.lastSelectedData.length;i++)x.lastSelectedData[i].hasOwnProperty(x.localReader.id)&&x.selarrrow.push(x.idPrefix+x.lastSelectedData[i][x.localReader.id]);else if(null!=x.data&&0<x.data.length&&null!=d)for(t in d)d.hasOwnProperty(t)&&x.selarrrow.push(x.idPrefix+t)}else e=!1,x.selrow=null;var u=e?x.selarrrow:o;$(r.rows).each(function(t){hasOneFromClasses(this,c)||(a(this,e),$.inArray(this.id,u)<0&&u.push(this.id),l&&a(l[t],e))}),feedback.call(r,"onSelectAll",e?x.selarrrow:o,e)}),!0===x.autowidth){var Re=Math.floor($(E).innerWidth());x.width=0<Re?Re:"nw"}isNaN(x.width)?isNaN(parseFloat(x.width))||(x.width=parseFloat(x.width)):x.width=Number(x.width),x.widthOrg=x.width,Te=0,_e=jgrid.cell_width?0:F(x.cellLayout,0),je=0,Ae=F(x.scrollOffset,0),Fe=!1,Ne=0,Ie=jgrid.isCellClassHidden,u(x.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),x.grouping&&x.autowidth){var e=c(this.name,x.groupingView.groupField);0<=e&&x.groupingView.groupColumnShow.length>e&&(this.hidden=!x.groupingView.groupColumnShow[e])}this.widthOrg=Se=F(this.width,0),!1!==this.hidden||Ie(this.classes)||(Te+=Se+_e,this.fixed?Ne+=Se+_e:je++)}),isNaN(x.width)&&(x.width=Te+(!1!==x.shrinkToFit||isNaN(x.height)?0:Ae)),N.width=x.width,x.tblwidth=Te,!1===x.shrinkToFit&&!0===x.forceFit&&(x.forceFit=!1),!0===x.shrinkToFit&&0<je&&($e=N.width-_e*je-Ne,isNaN(x.height)||($e-=Ae,Fe=!0),Te=0,u(x.colModel,function(e){!1!==this.hidden||Ie(this.classes)||this.fixed||(Se=Math.round($e*this.width/(x.tblwidth-_e*je-Ne)),this.width=Se,Te+=Se,ke=e)}),De=0,Fe?N.width-Ne-(Te+_e*je)!==Ae&&(De=N.width-Ne-(Te+_e*je)-Ae):Fe||1===Math.abs(N.width-Ne-(Te+_e*je))||(De=N.width-Ne-(Te+_e*je)),x.colModel[ke].width+=De,x.tblwidth=Te+De+_e*je+Ne,x.tblwidth>x.width&&(x.colModel[ke].width-=x.tblwidth-parseInt(x.width,10),x.tblwidth=x.width)),$(E).css("width",N.width+"px").append("<div class='"+w("resizer","ui-jqgrid-resize-mark")+"' id='"+x.rsId+"'>&#160;</div>"),$(x.rs).on("selectstart",function(){return!1}).click(A).dblclick(function(e){var t=$(this).data("idx"),n=$(this).data("pageX"),s=x.colModel[t];if(null==n||null==s)return!1;var a=String(n).split(";"),l=parseFloat(a[0]),c=parseFloat(a[1]);return 2===a.length&&(5<Math.abs(l-c)||5<Math.abs(e.pageX-l)||5<Math.abs(e.pageX-c))||(feedback.call(r,"resizeDblClick",t,s,e)&&s.autoResizable&&i.autoResizeColumn.call(o,t),feedback.call(r,"afterResizeDblClick",{iCol:t,cm:s,cmName:s.name})),!1}),$(O).css("width",N.width+"px");var Ee="";x.footerrow&&(Ee+="<table role='presentation' style='width:1px' class='"+w("gridFooter","ui-jqgrid-ftable")+"'><tbody><tr role='row' class='"+w("rowFooter","footrow footrow-"+I)+"'>");var Me="<tr class='"+w("gridRow","jqgfirstrow ui-row-"+x.direction)+"' role='row' style='height:auto'>";if(x.disableClick=!1,$("th",Oe[0].tHead.rows[0]).each(function(e){var t=x.colModel[e],i=t.name,n=$(this),o=n.children("div"),a=o.children("span.s-ico"),l=x.showOneSortIcon;ae=t.width,void 0===t.resizable&&(t.resizable=!0),t.resizable?(le=document.createElement("span"),$(le).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+I).on("selectstart",function(){return!1}),n.addClass(x.resizeclass)):le="",n.css("width",ae+"px").prepend(le);var d="";if(!(le=null)===t.hidden&&(n.css("display","none"),d="display:none;"),Me+="<td role='gridcell' "+(t.classes?"class='"+t.classes+"' ":"")+"style='height:0;width:"+ae+"px;"+d+"'></td>",N.headers[e]={width:ae,el:this},"boolean"!=typeof(ce=t.sortable)&&(t.sortable=!0,ce=!0),"cb"!==i&&"subgrid"!==i&&"rn"!==i&&ce&&x.viewsortcols[2]&&o.addClass("ui-jqgrid-sortable"),ce)if(x.multiSort){var u="desc"===t.lso?"asc":"desc";x.viewsortcols[0]?(a.css("display",""),t.lso&&(a.children("span.ui-icon-"+t.lso).removeClass(Ce),l&&a.children("span.ui-icon-"+u).hide())):t.lso&&(a.css("display",""),a.children("span.ui-icon-"+t.lso).removeClass(Ce),l&&a.children("span.ui-icon-"+u).hide()),x.showSortOrder&&(ve=c(i,ge),a["beforeSortIcons"===x.sortOrderPosition?"before":"after"]("<span class='ui-jqgrid-sort-order'>"+(ve<0?"&nbsp;":s(x.formatSortOrder)?x.formatSortOrder.call(r,{cm:this,sortIndex:ve}):ve+1)+"</span>"))}else{var h="desc"===x.sortorder?"asc":"desc";x.viewsortcols[0]?(a.css("display",""),e===x.lastsort&&(a.children("span.ui-icon-"+x.sortorder).removeClass(Ce),l&&a.children("span.ui-icon-"+h).hide())):e===x.lastsort&&""!==t.lso&&(a.css("display",""),a.children("span.ui-icon-"+x.sortorder).removeClass(Ce),l&&a.children("span.ui-icon-"+h).hide())}x.footerrow&&(Ee+="<td role='gridcell' "+P(e,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(e){var t,i,n=$(this),r=n.closest(".ui-jqgrid-hdiv").hasClass("frozen-div");if(1===$(e.target).closest("th>span.ui-jqgrid-resize").length)return null!=(t=te(this))&&(!0===x.forceFit&&(x.nv=function(e){var t,i=e,n=e;for(t=e+1;t<x.colModel.length;t++)if(!0!==x.colModel[t].hidden){n=t;break}return n-i}(t)),N.dragStart(t,e,(i=[n.position().left+n.outerWidth()],"rtl"===x.direction&&(i[0]=x.width-i[0]),i[0]-=r?0:N.bDiv.scrollLeft,i.push($(N.hDiv).position().top),i.push($(N.bDiv).offset().top-$(N.hDiv).offset().top+$(N.bDiv).height()+(N.sDiv?$(N.sDiv).height():0)),i),n)),!1}).click(function(e){if(x.disableClick)return x.disableClick=!1;var t,i,n="th.ui-th-column>div";x.viewsortcols[2]?n+=".ui-jqgrid-sortable":n+=">span.s-ico>span.ui-grid-ico-sort";var o=$(e.target).closest(n);if(1===o.length){x.viewsortcols[2]||(t=!0,i=o.hasClass("ui-icon-desc")?"asc":"desc");var s=te(this);return null!=s&&ee.call(r,$("div",this)[0].id.substring(5+x.id.length+1),s,t,i,this,e),!1}}),x.sortable&&s(i.sortableColumns))try{i.sortableColumns.call(o,$(Oe[0].tHead.rows[0]))}catch(t){}x.footerrow&&(Ee+="</tr></tbody></table>"),Me+="</tr>",o.html("<tbody>"+Me+"</tbody>"),o.addClass(w("grid","ui-jqgrid-btable"+(!0===x.altRows&&o.jqGrid("isBootstrapGuiStyle")?" table-striped":"")));var Pe,Le,qe=!(!x.caption||!0!==x.hiddengrid),ze=$("<div class='ui-jqgrid-hbox"+("rtl"===I?"-rtl":"")+"'></div>"),He=w("top"),Be=w("bottom");N.hDiv=document.createElement("div"),$(N.hDiv).css({width:N.width+"px"}).addClass(w("hDiv","ui-jqgrid-hdiv")).append(ze).scroll(function(){var e=$(this).next(".ui-jqgrid-bdiv")[0];return e&&(e.scrollLeft=this.scrollLeft),!1}),$(ze).append(Oe),Oe=null,qe&&$(N.hDiv).hide(),x.rowNum=parseInt(x.rowNum,10),(isNaN(x.rowNum)||x.rowNum<=0)&&(x.rowNum=x.maxRowNum),x.pager&&("string"==typeof x.pager&&"#"!==x.pager.substr(0,1)?(Le=x.pager,Pe=$("#"+jqID(x.pager))):!0===x.pager?(Le=randId(),(Pe=$("<div id='"+Le+"'></div>")).appendTo("body"),x.pager="#"+jqID(Le)):Le=(Pe=$(x.pager)).attr("id"),0<Pe.length?(Pe.css({width:N.width+"px"}).addClass(w("pager.pager","ui-jqgrid-pager "+Be)).appendTo(E),qe&&Pe.hide(),J.call(r,Le,""),x.pager="#"+jqID(Le)):x.pager=""),!1===x.cellEdit&&!0===x.hoverrows&&o.on("mouseover.jqGrid",function(e){he=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(he).attr("class")&&$(he).addClass(we)}).on("mouseout.jqGrid",function(e){he=$(e.target).closest("tr.jqgrow"),$(he).removeClass(we)});var Ge=function(e){var t,i,n;do{if(0<(t=$(e).closest("td")).length){if(n=(i=t.parent()).parent().parent(),i.is(".jqgrow")&&(n[0]===this||n.is("table.ui-jqgrid-btable")&&(n[0].id||"").replace("_frozen","")===this.id))break;e=t.parent()}}while(0<t.length);return t};o.before(N.hDiv).click(function(e){var t=w("states.select"),n=e.target,s=Ge.call(r,n),a=s.parent();if(0!==a.length&&!hasOneFromClasses(a,Ce)){var l=a[0].id,c=s[0].cellIndex,d=$(n).hasClass("cbox")&&$(n).is(":enabled")&&!hasOneFromClasses(n,Ce),u=feedback.call(r,"beforeSelectRow",l,e),p=!1,f=jgrid.detectRowEditing.call(r,l),g=null!=f&&"cellEditing"!==f.mode;if("A"!==n.tagName&&(!g||d)){if(feedback.call(r,"onCellSelect",l,c,s.html(),e),!0===x.cellEdit){if(u&&x.multiselect&&d){if(h.call(o,l,!0,e),d&&!x.noCellSelection)return;p=!0}try{i.editCell.call(o,a[0].rowIndex,c,!0)}catch(e){}if(!x.multiselect||!x.noCellSelection||x.multiboxonly&&p)return}if(u)if(x.multikey)e[x.multikey]&&!p?h.call(o,l,!0,e):x.multiselect&&d&&(d=$("#jqg_"+jqID(x.id)+"_"+l).is(":checked"),$("#jqg_"+jqID(x.id)+"_"+l).prop("checked",!d));else if(x.multiselect&&x.multiboxonly)if(d&&!p)h.call(o,l,!0,e);else{var m=x.frozenColumns?x.id+"_frozen":"";$(x.selarrrow).each(function(e,n){var r=i.getGridRowById.call(o,n);r&&$(r).removeClass(t),$("#jqg_"+jqID(x.id)+"_"+jqID(n)).prop("checked",!1),m&&($("#"+jqID(n),"#"+jqID(m)).removeClass(t),$("#jqg_"+jqID(x.id)+"_"+jqID(n),"#"+jqID(m)).prop("checked",!1))}),clearArray(x.selarrrow),p||h.call(o,l,!0,e)}else{var v=x.selrow;p||h.call(o,l,!0,e),"toggle"!==x.singleSelectClickMode||x.multiselect||v!==l||(r.grid.fbRows&&(a=a.add(r.grid.fbRows[a[0].rowIndex]===a[0]?r.rows[a[0].rowIndex]:r.grid.fbRows[a[0].rowIndex])),a.removeClass(t).attr({"aria-selected":"false",tabindex:"-1"}),x.selrow=null)}else d&&$(n).prop("checked",!1)}}}).on("reloadGrid",function(e,t){var n=this,r=n.grid,o=$(this),s=n.p;if(0<s.savedRow.length&&"prevent"===s.reloadingDuringEditing)return!1;if(!0===s.treeGrid&&(s.datatype=s.treedatatype),t=l({},defaults.reloadGridOptions||{},s.reloadGridOptions||{},t||{}),"local"===s.datatype&&s.dataTypeOrg&&s.loadonce&&t.fromServer&&(s.datatype=s.dataTypeOrg,delete s.dataTypeOrg),t.current&&r.selectionPreserver.call(n),"local"===s.datatype?(s.multiPageSelection||i.resetSelection.call(o),s.data.length&&(H.call(n),B.call(n))):s.treeGrid||s.multiPageSelection||(s.selrow=null,s.multiselect&&(clearArray(s.selarrrow),K.call(n,!1)),clearArray(s.savedRow),s.editingInfo={}),Z(s.reloadingDuringEditing),s.iRow=-1,s.iCol=-1,s.scroll&&N.emptyRows.call(n,!0,!1),t.page){var a=parseInt(t.page,10);a>s.lastpage&&(a=s.lastpage),a<1&&(a=1),s.page=a,r.prevRowHeight?r.bDiv.scrollTop=(a-1)*r.prevRowHeight*s.rowNum:r.bDiv.scrollTop=0}return r.prevRowHeight&&s.scroll&&void 0===t.page?(delete s.lastpage,r.populateVisible.call(n)):r.populate.call(n),!0===s._inlinenav&&o.jqGrid("showAddEditButtons",!1),!1}).dblclick(function(e){var t=Ge.call(r,e.target),i=t.parent();if(0<t.length&&!feedback.call(r,"ondblClickRow",i.attr("id"),i[0].rowIndex,t[0].cellIndex,e))return!1}).on("contextmenu",function(e){var t=Ge.call(r,e.target),i=t.parent(),n=i.attr("id");if(0!==t.length)return x.multiselect||x.selrow===n||!0!==x.selectOnContextMenu||h.call(o,n,!0,e),!!feedback.call(r,"onRightClickRow",n,i[0].rowIndex,t[0].cellIndex,e)&&void 0}),N.bDiv=document.createElement("div"),R&&"auto"===String(x.height).toLowerCase()&&(x.height="100%"),$(N.bDiv).append($("<div style='position:relative;'></div>").append("<div></div>").append(r)).addClass("ui-jqgrid-bdiv").css({height:x.height+(isNaN(x.height)?"":"px"),width:N.width+"px"}).scroll(N.scrollGrid),x.maxHeight&&$(N.bDiv).css("max-height",x.maxHeight+(isNaN(x.maxHeight)?"":"px")),o.css({width:"1px"}),$.support.tbody||2===$(">tbody",r).length&&$(">tbody:gt(0)",r).remove(),x.multikey&&$(N.bDiv).on(jgrid.msie?"selectstart":"mousedown",function(){return!1}),qe&&$(N.bDiv).hide(),N.cDiv=document.createElement("div");var We=y("gridMinimize.visible"),Ve=y("gridMinimize.hidden"),Ue=k("showhide"),Ye=!0===x.hidegrid?$("<a role='link' class='"+w("titleButton","ui-jqgrid-titlebar-close")+"'"+(Ue?" title='"+Ue+"'":"")+"/>").hover(function(){Ye.addClass(we)},function(){Ye.removeClass(we)}).append("<span class='"+We+"'></span>"):"";if($(N.cDiv).append("<span class='ui-jqgrid-title'>"+x.caption+"</span>").append(Ye).addClass(w("gridTitle","ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===I?"-rtl ":" ")+He)),$(N.cDiv).insertBefore(N.hDiv),x.toolbar[0]){N.uDiv=document.createElement("div"),"top"===x.toolbar[1]?$(N.uDiv).insertBefore(N.hDiv):"bottom"===x.toolbar[1]&&$(N.uDiv).insertAfter(N.hDiv);var Xe=w("toolbarUpper","ui-userdata");"both"===x.toolbar[1]?(N.ubDiv=document.createElement("div"),$(N.uDiv).addClass(Xe).attr("id","t_"+x.id).insertBefore(N.hDiv),$(N.ubDiv).addClass(w("toolbarBottom","ui-userdata")).attr("id","tb_"+x.id).insertAfter(N.hDiv),qe&&$(N.ubDiv).hide()):$(N.uDiv).width(N.width).addClass(Xe).attr("id","t_"+x.id),qe&&$(N.uDiv).hide()}if("string"==typeof x.datatype&&(x.datatype=x.datatype.toLowerCase()),x.toppager?(x.toppager=x.id+"_toppager",N.topDiv=$("<div id='"+x.toppager+"'></div>")[0],$(N.topDiv).addClass(w("pager.pager","ui-jqgrid-toppager"+(x.caption?"":" "+He))).css({width:N.width+"px"}).insertBefore(N.hDiv),J.call(r,x.toppager,"_t"),x.toppager="#"+jqID(x.toppager)):""!==x.pager||x.scroll||(x.rowNum=x.maxRowNum),x.footerrow&&(N.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],ze=$("<div class='ui-jqgrid-hbox"+("rtl"===I?"-rtl":"")+"'></div>"),$(N.sDiv).append(ze).width(N.width).insertAfter(N.hDiv),$(ze).append(Ee),N.footers=$(".ui-jqgrid-ftable",N.sDiv)[0].rows[0].cells,x.rownumbers&&(N.footers[0].className=w("rowNum","jqgrid-rownum")),qe&&$(N.sDiv).hide()),ze=null,x.caption){var Ke=x.datatype;!0===x.hidegrid&&($(".ui-jqgrid-titlebar-close",N.cDiv).click(function(e){var t=".ui-jqgrid-bdiv,.ui-jqgrid-hdiv,.ui-jqgrid-pager,.ui-jqgrid-sdiv",i=this;!0===x.toolbar[0]&&("both"===x.toolbar[1]&&(t+=",#"+jqID($(N.ubDiv).attr("id"))),t+=",#"+jqID($(N.uDiv).attr("id")));var n=$(t,x.gView).length;return x.toppager&&(t+=","+x.toppager),"visible"===x.gridstate?$(t,x.gBox).slideUp("fast",function(){0==--n&&($("span",i).removeClass(We).addClass(Ve),x.gridstate="hidden",$(x.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",x.gBox).hide(),$(N.cDiv).addClass(Be),qe||feedback.call(r,"onHeaderClick",x.gridstate,e))}):"hidden"===x.gridstate&&($(N.cDiv).removeClass(Be),$(t,x.gBox).slideDown("fast",function(){0==--n&&($("span",i).removeClass(Ve).addClass(We),qe&&(x.datatype=Ke,X.call(r),qe=!1),x.gridstate="visible",$(x.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",x.gBox).show(),qe||feedback.call(r,"onHeaderClick",x.gridstate,e))})),!1}),qe&&(x.datatype="local",$(".ui-jqgrid-titlebar-close",N.cDiv).trigger("click")))}else $(N.cDiv).hide(),$(N.cDiv).nextAll("div:visible").first().addClass("ui-corner-top");$(N.hDiv).after(N.bDiv),N.eDiv=$("<div class='"+w("gridError","ui-jqgrid-errorbar ui-jqgrid-errorbar-"+I)+"' style='display:none;'><span class='"+w("gridErrorText","ui-jqgrid-error")+"'></span></div>")[0],$(N.hDiv).after(N.eDiv),$(E).click(A).dblclick(function(e){var t=$(x.rs),n=t.offset(),s=t.data("idx"),a=t.data("delta"),l=x.colModel[s],c=$(this).data("pageX")||t.data("pageX");if(null==c||null==l)return!1;var d=String(c).split(";"),u=parseFloat(d[0]),h=parseFloat(d[1]);return 2===d.length&&(5<Math.abs(u-h)||5<Math.abs(e.pageX-u)||5<Math.abs(e.pageX-h))||(feedback.call(r,"resizeDblClick",s,l)&&n.left-1<=e.pageX+a&&e.pageX+a<=n.left+t.outerWidth()+1&&l.autoResizable&&i.autoResizeColumn.call(o,s),feedback.call(r,"afterResizeDblClick",{iCol:s,cm:l,cmName:l.name})),!1}),x.pager||$(N.cDiv).nextAll("div:visible").filter(":last").addClass(Be),$(".ui-jqgrid-labels",N.hDiv).on("selectstart",function(){return!1}),r.formatCol=P,r.sortData=ee,r.updatepager=function(e,t){var i,n,r,o,s,a,l,c,d=this,u=$(d),h=d.grid,p=x.pager||"",f=x.pager?"_"+x.pager.substr(1):"",g=h.bDiv,m=$.fmatter?$.fmatter.NumberFormat:null,v=x.toppager?"_"+x.toppager.substr(1):"",b=w("states.hover"),y=w("states.disabled");if((r=parseInt(x.page,10)-1)<0&&(r=0),s=(r*=parseInt(x.rowNum,10))+x.reccount,x.scroll){var S=$(getGridComponent(COMPONENT_NAMES.BODY_TABLE,g)[0].rows).slice(1);r=s-S.length,x.reccount=S.length;var D=S.outerHeight()||h.prevRowHeight;if(D){var T=r*D,_=jgrid.fixMaxHeightOfDiv.call(d,parseInt(x.records,10)*D);$(g).children("div").first().css({height:_+"px"}).children("div").first().css({height:T+"px",display:""}),0===g.scrollTop&&1<x.page&&(g.scrollTop=x.rowNum*(x.page-1)*D)}g.scrollLeft=h.hDiv.scrollLeft}if(p+=x.toppager?(p?",":"")+x.toppager:""){if(l=C("formatter.integer")||{},i=F(x.page),n=F(x.lastpage),$(".selbox",p).prop("disabled",!1),!0===x.pginput){var j=$(".ui-pg-input",p),A=String(x.page).length;j.val(x.page),j.each(function(){var e=parseInt($(this).attr("size"),10);0<e&&e<A&&$(this).attr("size",A)}),c=x.toppager?"#sp_1"+f+",#sp_1"+v:"#sp_1"+f,$(c).html($.fmatter?m(x.lastpage,l):x.lastpage).closest(".ui-pg-table").each(function(){V.call(d,$(this))})}x.viewrecords&&(0===x.reccount?$(".ui-paging-info",p).html(k("emptyrecords")):(o=r+1,a=x.records,$.fmatter&&(o=m(o,l),s=m(s,l),a=m(a,l)),$(".ui-paging-info",p).html(jgrid.format(k("recordtext"),o,s,a)))),!0===x.pgbuttons&&(n<=0&&(i=0),i<=0&&(i=n=0),1===i||0===i?($("#first"+f+", #prev"+f).addClass(y).removeClass(b),x.toppager&&$("#first_t"+v+", #prev_t"+v).addClass(y).removeClass(b)):($("#first"+f+", #prev"+f).removeClass(y),x.toppager&&$("#first_t"+v+", #prev_t"+v).removeClass(y)),i===n||0===i?($("#next"+f+", #last"+f).addClass(y).removeClass(b),x.toppager&&$("#next_t"+v+", #last_t"+v).addClass(y).removeClass(b)):($("#next"+f+", #last"+f).removeClass(y),x.toppager&&$("#next_t"+v+", #last_t"+v).removeClass(y)))}!0===e&&!0===x.rownumbers&&$(">td.jqgrid-rownum",d.rows).each(function(e){$(this).html(r+1+e)}),t&&x.jqgdnd&&u.jqGrid("gridDnD","updateDnD"),feedback.call(d,"gridComplete"),u.triggerHandler("jqGridAfterGridComplete")},r.refreshIndex=B,r.addItemDataToColumnIndex=z,r.removeItemDataFromColumnIndex=function(e){var t,i,n,r=x.dataIndexById[e];if(null!=r){for(t in r)if(r.hasOwnProperty(t))for(n in i=r[t])i.hasOwnProperty(n)&&(delete x.indexByColumnData[t][n][e],$.isEmptyObject(x.indexByColumnData[t][n])&&delete x.indexByColumnData[t][n]);delete x.dataIndexById[e]}},r.generateValueFromColumnIndex=function(e,t,i){var n,r,o=$(this).jqGrid("getUniqueValueFromColumnIndex",e),s="";if(null!=o)for(i=i||";",t=t||":",n=0,r=o.length;n<r;n++)""!==s&&(s+=i||";"),s+=o[n]+(t||":")+o[n];return s},r.setHeadCheckBox=K,r.fixScrollOffsetAndhBoxPadding=S,r.constructTr=function(e,t,n,r,o,a){var l,c="-1",d="",u=t?"display:none;":"",h=w("gridRow","jqgrow ui-row-"+x.direction)+(n?" "+n:"")+(a?" "+w("states.select"):""),p=$(this).triggerHandler("jqGridRowAttr",[r,o,e]);if("object"!=typeof p&&(p=s(x.rowattr)?x.rowattr.call(this,r,o,e):"string"==typeof x.rowattr&&null!=jgrid.rowattr&&s(jgrid.rowattr[x.rowattr])?jgrid.rowattr[x.rowattr].call(this,r,o,e):{}),null!=p&&!$.isEmptyObject(p)){p.hasOwnProperty("id")&&(e=p.id,delete p.id),p.hasOwnProperty("tabindex")&&(c=p.tabindex,delete p.tabindex),p.hasOwnProperty("style")&&(u+=p.style,delete p.style),p.hasOwnProperty("class")&&(h+=" "+p.class,delete p.class);try{delete p.role}catch(e){}for(l in p)p.hasOwnProperty(l)&&(d+=" "+l+"="+p[l])}if(x.treeGrid&&parseInt(r[x.treeReader.level_field],10)!==parseInt(x.tree_root_level,10)){var f=i.getNodeParent.call($(this),r);!f||!f.hasOwnProperty(x.treeReader.expanded_field)||f[x.treeReader.expanded_field]||t||(u+="display:none;")}return"<tr role='row' id='"+e+"' tabindex='"+c+"' class='"+h+"'"+(""===u?"":" style='"+u+"'")+d+">"},r.formatter=function(e,t,i,n,o,a){var l,c,d=x.colModel[i];if(void 0!==d.formatter){var u={rowId:e=""!==String(x.idPrefix)?(c=e,stripPref(x.idPrefix,c)):e,colModel:d,gid:x.id,pos:i,rowData:a||n};l=s(d.cellBuilder)?d.cellBuilder.call(r,t,u,n,o):s(d.formatter)?d.formatter.call(r,t,u,n,o):$.fmatter?$.fn.fmatter.call(r,d.formatter,t,u,n,o):L(t)}else l=L(t);if(l=d.autoResizable&&"actions"!==d.formatter?"<span class='"+x.autoResizing.wrapperClassName+"'>"+l+"</span>":l,x.treeGrid&&"edit"!==o&&(null==x.ExpandColumn&&0===i||x.ExpandColumn===d.name)){null==a&&(a=x.data[x._index[e]]);var h=parseInt(a[x.treeReader.level_field]||0,10),p=0===parseInt(x.tree_root_level,10)?h:h-1,f=a[x.treeReader.leaf_field],g=a[x.treeReader.expanded_field],m=a[x.treeReader.icon_field],v=f?(null!=m&&""!==m?m:x.treeIcons.leaf)+" tree-leaf":g?x.treeIcons.minus+" tree-minus":x.treeIcons.plus+" tree-plus";if(!f&&m&&"string"==typeof m){var b=m.split(",");2===b.length&&(v=g?b[0]:b[1])}l="<div class='tree-wrap' style='width:"+18*(p+1)+"px;'><div class='"+mergeCssClasses(x.treeIcons.commonIconClass,v,"treeclick")+"' style='"+(!0===x.ExpandColClick?"cursor:pointer;":"")+("rtl"===x.direction?"margin-right:":"margin-left:")+18*p+"px;'></div></div><span class='cell-wrapper"+(f?"leaf":"")+"'"+(x.ExpandColClick?" style='cursor:pointer;'":"")+">"+l+"</span>"}return l},l(N,{populate:X,emptyRows:function(e,t){var i=N.bDiv,n=null!=N.fbDiv?N.fbDiv.children(".ui-jqgrid-btable")[0]:null,r=function(e){if(e){var t=e.rows,i=t[0];if(x.deepempty)t&&$(t).slice(1).remove();else if(x.quickEmpty)if("quickest"===x.quickEmpty)e.replaceChild(document.createElement("tbody"),e.tBodies[0]),e.firstChild.appendChild(i);else for(;1<t.length;)e.deleteRow(t.length-1);else $(e.firstChild).empty().append(i)}};$(this).off(".jqGridFormatter"),r(this),r(n),e&&x.scroll&&($(i.firstChild).css({height:"auto"}),$(i.firstChild.firstChild).css({height:0,display:"none"}),0!==i.scrollTop&&(i.scrollTop=0)),!0===t&&x.treeGrid&&(clearArray(x.data),clearArray(x.lastSelectedData),x._index={},x.dataIndexById={},x.indexByColumnData={}),x.rowIndexes={},x.iRow=-1,x.iCol=-1},beginReq:U,endReq:Y}),r.addXmlData=W,r.addJSONData=W,r.rebuildRowIndexes=j,r.grid.cols=r.rows[0].cells,feedback.call(r,"onInitGrid"),x.treeGrid&&"local"===x.datatype&&null!=x.data&&0<x.data.length&&(x.datatype="jsonstring",x.datastr=x.data,x.data=[]),X.call(r),x.hiddengrid=!1}else f(C("errors.model"))}else f("Element is not a table!")}})};var base=$.fn.jqGrid;jgrid.extend({getGridRes:function(e){var t=this[0];if(!t||!t.grid||!t.p)return null;var i=jgrid.getRes(locales[t.p.locale],e)||jgrid.getRes(locales["en-US"],e),n=jgrid.getRes(jgrid,e);return"object"!=typeof i||null===i||$.isArray(i)?void 0!==n?n:i:$.extend(!0,{},i,n||{})},getGuiStyles:function(e,t){var i=this instanceof $&&0<this.length?this[0]:this;if(!i||!i.grid||!i.p)return"";var n,r=i.p.guiStyle||jgrid.defaults.guiStyle||"jQueryUI",o=jgrid.getRes(jgrid.guiStyles[r],e);return void 0===o&&"string"==typeof(n=jgrid.getRes(jgrid.guiStyles[r],"baseGuiStyle"))&&(o=jgrid.getRes(jgrid.guiStyles[n],e)),jgrid.mergeCssClasses(o||"",t||"")},isBootstrapGuiStyle:function(){return 0<=$.inArray("ui-jqgrid-bootstrap",$(this).jqGrid("getGuiStyles","gBox").split(" "))},displayErrorMessage:function(e){var t=this instanceof $&&0<this.length?this[0]:this;if(t&&t.grid&&t.p&&e){var i=$(t.grid.eDiv),n=i.children(".ui-jqgrid-error");n.html(e),i.show(),t.p.errorDisplayTimeout&&setTimeout(function(){n.empty(),i.hide()},t.p.errorDisplayTimeout)}},getIconRes:function(e){var t=this instanceof $&&0<this.length?this[0]:this;if(!t||!t.p)return"";var i=t.p,n=jgrid.icons[i.iconSet],r=function(e,t,i){var n,r,o,s=t.split("."),a=s.length,l=[];if(null==(e="string"==typeof e?jgrid.icons[e]:e))return"";for((n=e).common?l.push(n.common):i&&i.common&&l.push(i.common),o=0;o<a&&(r=s[o]);o++){if(o+1===a&&n.ignoreParents&&(l=[]),void 0===(n=n[r])){if("common"===r)break;return""}if("string"==typeof n){l.push(n);break}null!=n&&n.common&&l.push(n.common)}return jgrid.mergeCssClasses.apply(this,l)};if(null==n)return"";var o=r(i.iconSet,e);return""===o&&null!=n.baseIconSet&&(o=r(n.baseIconSet,e,jgrid.icons[i.iconSet])),o||""},isInCommonIconClass:function(e){var t=this instanceof $&&0<this.length?this[0]:this;if(!t||!t.p)return"";var i=t.p,n=jgrid.icons[i.iconSet];if(null==n)return!1;var r=n.common;if(void 0===r){if(null==n.baseIconSet)return!1;if(null==(n=jgrid.icons[n.baseIconSet]))return!1;r=n.common}return"string"==typeof r&&0<=$.inArray(e,r.split(" "))},getUniqueValueFromColumnIndex:function(e){var t=this[0];if(!t||!t.grid)return null;var i,n=[],r="",o=t.p.indexByColumnData[e];if(null!=o){for(r in o)if(o.hasOwnProperty(r)){for(i in o[r])if(o[r].hasOwnProperty(i)){r=String(o[r][i]);break}n.push(r)}t.p.ignoreCase?void 0===String.prototype.localeCompare?n.sort(function(e,t){var i=e.toLowerCase(),n=t.toLowerCase();return i===n?0:n<i?1:-1}):n.sort(function(e,t){return String(e).toLowerCase().localeCompare(String(t).toLowerCase())}):n.sort()}return n},generateDatalistFromColumnIndex:function(e){if(!this[0]||!this[0].grid)return null;var t,i,n=this.jqGrid("getUniqueValueFromColumnIndex",e),r=$("<datalist></datalist>");if(!(null!=n&&0<n.length))return $();for(t=0,i=n.length;t<i;t++)r.append($("<option></option>").attr("value",n[t]));return r},getGridParam:function(e){var t=this[0];return t&&t.grid?e?void 0!==t.p[e]?t.p[e]:null:t.p:null},setGridParam:function(e,t){return this.each(function(){null==t&&(t=!1),this.grid&&"object"==typeof e&&(!0===t?$.extend(this.p,e):$.extend(!0,this.p,e))})},abortAjaxRequest:function(){return this.each(function(){null!=this.p.jqXhr&&this.p.jqXhr.abort(),this.grid.endReq.call(this)})},getGridRowById:function(e){if(null==e)return null;var t,i=e.toString();return this.each(function(){var n,r,o=this.rows;if(null!=this.p.rowIndexes&&(r=o[this.p.rowIndexes[i]])&&r.id===i&&(t=r),!t)try{for(n=o.length;n--;)if(r=o[n],i===r.id){t=r;break}}catch(n){t=0<(t=$(this.grid.bDiv).find("#"+jqID(e))).length?t[0]:null}}),t},getDataIDs:function(){var e=[];return this.each(function(){var t,i,n=this.rows,r=n.length;if(r&&0<r)for(t=0;t<r;t++)i=n[t],$(i).hasClass("jqgrow")&&e.push(i.id)}),e},setSelection:function(e,t,i){return this.each(function(){var n,r,o,s,a,l,c,d,u,h,p,f,g,m,v=this,b=$(v),y=v.p,w=base.getGuiStyles,x=base.getGridRowById,C=w.call(b,"states.select"),k=w.call(b,"states.disabled"),S=v.grid.fbRows,D=function(e,t){var i=t?"addClass":"removeClass",n=y.iColByName.cb,r=t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"},o=function(e){$(e)[i](C).attr(r),void 0!==n&&$(e.cells[n]).children("input.cbox").prop("checked",t)};o(e),S&&o(S[e.rowIndex])};void 0!==e&&(t=!1!==t,null!=i&&0<(c=$(i.target).closest("tr.jqgrow")).length&&(r=c[0],S&&(r=v.rows[r.rowIndex])),null==r&&(r=x.call(b,e)),!r||!r.className||-1<r.className.indexOf(k)||(!0===y.scrollrows&&null!=(o=x.call(b,e))&&0<=(o=o.rowIndex)&&(u=v.rows[o],(p=(h=v.grid.bDiv).clientHeight)+(f=h.scrollTop)<=(g=$(u).position().top)+(m=u.clientHeight)?h.scrollTop=g-(p+f)+m+f:g<p+f&&g<f&&(h.scrollTop=g)),y.multiselect?(v.setHeadCheckBox(!1),y.selrow=r.id,d=jgrid.detectRowEditing.call(v,r.id),-1===(s=$.inArray(y.selrow,y.selarrrow))?(n=!0,y.selarrrow.push(y.selrow)):null===d||"inlineEditing"!==d.mode&&$(i.target).hasClass("cbox")?(n=!1,y.selarrrow.splice(s,1),a=y.selarrrow[0],y.selrow=void 0===a?null:a):n=!0,"ui-subgrid"!==r.className&&D(r,n),t&&feedback.call(v,"onSelectRow",r.id,n,i||{})):"ui-subgrid"!==r.className&&(y.selrow!==r.id?(null!==y.selrow&&(l=x.call(b,y.selrow))&&D(l,!1),D(r,!0),n=!0):n=!1,y.selrow=r.id,t&&feedback.call(v,"onSelectRow",r.id,n,i||{}))))})},resetSelection:function(e){return this.each(function(){var t,i=this,n=$(this),r=i.p,o=base.getGuiStyles,s=base.getGridRowById,a=o.call(n,"states.select"),l="edit-cell "+a,c="selected-row "+o.call(n,"states.hover"),d=r.iColByName.cb,u=void 0!==d,h=i.grid.fbRows,p=function(e){var t,i="removeClass",n={"aria-selected":"false",tabindex:"-1"};$(e)[i](a).attr(n),u&&$(e.cells[d]).children("input.cbox").prop("checked",!1),h&&(t=h[e.rowIndex],$(t)[i](a).attr(n),u&&$(t.cells[d]).children("input.cbox").prop("checked",!1))};if(void 0!==e){if(t=s.call(n,e),p(t),u){i.setHeadCheckBox(!1);var f=$.inArray(e,r.selarrrow);-1!==f&&r.selarrrow.splice(f,1)}}else r.multiselect?($(i.rows).each(function(){var e=$.inArray(this.id,r.selarrrow);-1!==e&&(p(this),r.selarrrow.splice(e,1))}),i.setHeadCheckBox(!1),r.multiPageSelection||clearArray(r.selarrrow),r.selrow=null):r.selrow&&(t=s.call(n,r.selrow),p(t),r.selrow=null);!0===r.cellEdit&&0<=parseInt(r.iCol,10)&&0<=parseInt(r.iRow,10)&&(null!=(t=i.rows[r.iRow])&&($(t.cells[r.iCol]).removeClass(l),$(t).removeClass(c)),h&&null!=(t=h[r.iRow])&&($(t.cells[r.iCol]).removeClass(l),$(t).removeClass(c)))})},isCellEditing:function(e,t,i){var n=this[0],r=jgrid.detectRowEditing.call(n,e);if(null!=r&&("inlineEditing"===r.mode||"cellEditing"===r.mode&&r.savedRow.ic===t)){t=isNaN(t)?n.p.iColByName[t]:parseInt(t,10);var o=null!=i&&i.id===e?i:base.getGridRowById.call($(n),e),s=n.p.colModel[t],a=s.editable;if($.isFunction(a)&&(a=a.call(n,{rowid:e,id:stripPref(n.p.idPrefix,e),iCol:t,iRow:o.rowIndex,cmName:s.name,cm:s,mode:r.mode,td:o.cells[t],tr:o,dataElement:jgrid.getDataFieldOfCell.call(n,o,t)[0]})),!0===a)return!0}return!1},getRowData:function(e,t){var i,n={};return"object"==typeof e&&(t=e,e=void 0),t=t||{},this.each(function(){var r,o,s,a,l,c,d,u=this,h=u.p,p=!1,f=1,g=u.rows;if(void 0===e)p=!0,i=[],f=g.length;else if(!(r=base.getGridRowById.call($(u),e)))return n;for(o=0;o<f;o++)if(p&&(r=g[o]),$(r).hasClass("jqgrow")){for(jgrid.detectRowEditing.call(u,e),a=$(r).find("td[role=gridcell]"),s=0;s<a.length;s++)if(c=(l=h.colModel[s]).name,$.inArray(c,h.reservedColumnNames)<0&&"actions"!==l.formatter&&(!t.skipHidden||!l.hidden))if(d=a[s],base.isCellEditing.call($(u),e,s,r))n[c]=jgrid.getEditedValue.call(u,jgrid.getDataFieldOfCell.call(u,r,s),l,{},l.editable);else if(!0===h.treeGrid&&c===h.ExpandColumn)n[c]=htmlDecode($("span",d).first().html());else try{n[c]=$.unformat.call(u,d,{rowId:e,colModel:l},s)}catch(r){n[c]=htmlDecode($(d).html())}!t.includeId||!1!==h.keyName&&null!=n[h.keyName]||(n[h.prmNames.id]=stripPref(h.idPrefix,r.id)),p&&(i.push(n),n={})}}),i||n},delRowData:function(e){var t=!1;return this.each(function(){var i,n,r,o=this,s=o.p,a=$.jgrid.detectRowEditing.call(o,e);if(!(i=base.getGridRowById.call($(o),e)))return!1;if(s.subGrid&&(r=$(i).next()).hasClass("ui-subgrid")&&r.remove(),null!=a)try{"inlineEditing"===a.mode&&null!=base.restoreRow?base.restoreRow.call($(o),e):"cellEditing"===a.mode&&null!=base.restoreCell&&base.restoreCell.call($(o),a.savedRow.id,a.savedRow.ic)}catch(i){}if(i.rowIndex===s.iRow&&(s.iRow=-1,s.iCol=-1),$(i).remove(),s.records--,s.reccount--,o.updatepager(!0,!1),t=!0,s.multiselect&&-1!==(n=$.inArray(e,s.selarrrow))&&s.selarrrow.splice(n,1),s.multiselect&&0<s.selarrrow.length?s.selrow=s.selarrrow[s.selarrrow.length-1]:s.selrow===e&&(s.selrow=null),"local"===s.datatype){var l=stripPref(s.idPrefix,e),c=s._index[l];void 0!==c&&(o.removeItemDataFromColumnIndex(l),s.data.splice(c,1),o.refreshIndex())}if(o.rebuildRowIndexes(),!0===s.altRows&&t&&!$(o).jqGrid("isBootstrapGuiStyle")){var d=s.altclass,u=o.grid.fbRows;$(o.rows).each(function(e){var t=$(this);u&&(t=t.add(u[this.rowIndex])),t[e%2==0?"addClass":"removeClass"](d)})}feedback.call(o,"afterDelRow",e)}),t},setRowData:function(e,t,i){var n=!0;return this.each(function(){var r,o=this,s=o.p,a=typeof i,l={};if(!o.grid)return!1;if(!(r=base.getGridRowById.call($(o),e)))return!1;if(t)try{var c,d=stripPref(s.idPrefix,e),u=s._index[d],h={},p=null!=u?s.data[u]:void 0;if($(s.colModel).each(function(e){var i=this,n=i.name,r=getAccessor(t,n);void 0!==r&&("local"===s.datatype&&null!=p&&(r=convertOnSaveLocally.call(o,r,i,p[n],d,p,e),$.isFunction(i.saveLocally)?i.saveLocally.call(o,{newValue:r,newItem:l,oldItem:p,id:d,cm:i,cmName:n,iCol:e}):l[n]=r),h[n]=r)}),$(s.colModel).each(function(i){var n,a=this.name,c=getAccessor(t,a),d=$(r.cells[i]);if(void 0!==c){"local"===s.datatype&&null!=p&&(c=l[a]),n=this.title?{title:c}:{},c=o.formatter(e,c,i,t,"edit",h),"select"===this.formatter&&(n=this.title?{title:stripHtml(c)}:{});var u=d;!0===s.treeGrid&&a===s.ExpandColumn&&(u=u.children("span.cell-wrapperleaf,span.cell-wrapper").first()),u.html(c),d.attr(n),s.frozenColumns&&(u=$(o.grid.fbRows[r.rowIndex].cells[i]),!0===s.treeGrid&&a===s.ExpandColumn&&(u=u.children("span.cell-wrapperleaf,span.cell-wrapper").first()),u.html(c).attr(n))}}),"local"===s.datatype){if(s.treeGrid)for(c in s.treeReader)s.treeReader.hasOwnProperty(c)&&delete l[s.treeReader[c]];void 0!==p&&(s.data[u]=$.extend(!0,p,l),o.removeItemDataFromColumnIndex(d),o.addItemDataToColumnIndex(s.data[u],d))}feedback.call(o,"afterSetRow",{rowid:e,inputData:t,iData:u,iRow:r.rowIndex,tr:r,localData:l,cssProp:i})}catch(a){n=!1}n&&("string"===a?$(r).addClass(i):null!==i&&"object"===a&&$(r).css(i))}),n},changeRowid:function(e,t){return this.each(function(){var i,n,r,o,s,a,l,c=this,d=$(c),u=c.p;if(c.grid&&u&&e!==t&&(o=d.jqGrid("getGridRowById",e))&&null==d.jqGrid("getGridRowById",t)){var h=jgrid.stripPref(u.idPrefix,e),p=jgrid.stripPref(u.idPrefix,t),f=!1===u.keyName?u.prmNames.id:u.keyName,g=function(){var e=this.id,t=e.length-h.length;0<t&&e.substr(t)===h&&$(this).attr("id",e.substr(0,t)+p)};for(0<=u.iColByName[f]&&d.jqGrid("setCell",e,f,p),"local"===u.datatype&&void 0!==u._index[h]&&(u._index[p]=u._index[h],i=u.data[u._index[h]],delete u._index[h],i.hasOwnProperty(f)&&(i[f]=p)),u.rowIndexes[t]=o.rowIndex,delete u.rowIndexes[e],(s=null==c.grid.fbRows?$(o):$(o).add(c.grid.fbRows[o.rowIndex])).attr("id",t),u.selrow===e&&(u.selrow=t),$.isArray(u.selarrrow)&&0<=(n=$.inArray(e,u.selarrrow))&&(u.selarrrow[n]=t),u.multiselect&&(r="jqg_"+u.id+"_"+t,s.find("input.cbox").attr("id",r).attr("name",r)),n=0;n<u.colModel.length;n++)"actions"===(a=u.colModel[n]).formatter?s.find(".ui-jqgrid-actions .ui-pg-div").each(g):("showlink"===a.formatter||null!=a.unformat&&null!=a.formatter)&&(l=d.jqGrid("getCell",t,n),d.jqGrid("setCell",t,n,l,!1,!1,!0));feedback.call(c,"afterChangeRowid",{rowid:t,oldRowid:e,iRow:o.rowIndex,tr:o})}})},addRowData:function(e,t,i,n){$.inArray(i,["first","last","before","after","afterSelected","beforeSelected"])<0&&(i="last");var r,o,s,a,l,c,d,u,h,p,f,g=!1;return t&&($.isArray(t)?(c=!0,d=e):c=!(t=[t]),this.each(function(){var m,v,b=this,y=b.p,w=t.length,x=$(b),C=b.rows,k=0,S=base.getGridRowById,D=y.colModel,T=y.additionalProperties;for(c||(void 0!==e?e=String(e):(e=randId(),!1!==y.keyName&&(d=y.keyName,void 0!==t[0][d]&&(e=t[0][d])))),u=y.altclass;k<w;){if(h=t[k],o=[],c)try{void 0===(e=h[d])&&(e=randId())}catch(m){e=randId()}for(f=jgrid.stripPref(y.idPrefix,e),m={},a=0;a<D.length;a++)p=D[a],"rn"!==(r=p.name)&&"cb"!==r&&"subgrid"!==r&&(l=convertOnSaveLocally.call(b,h[r],p,void 0,f,{},a),$.isFunction(p.saveLocally)?p.saveLocally.call(b,{newValue:l,newItem:m,oldItem:{},id:f,rowid:e,cm:p,cmName:r,iCol:a}):void 0!==l&&(m[r]=l));for(a=0;a<T.length;a++)"object"==typeof(r=T[a])&&r.hasOwnProperty("name")&&(r=r.name),void 0!==(l=getAccessor(h,r))&&(m[r]=l);if("local"===y.datatype&&(m[y.localReader.id]=f,y._index[f]=y.data.length,y.data.push(m),b.addItemDataToColumnIndex(m,f)),v=y.grouping,y.grouping=!1,o=jgrid.parseDataToHtml.call(b,1,[e],[h]),y.grouping=v,o=o.join(""),0===C.length)$(b.tBodies[0]).append(o);else switch("afterSelected"!==i&&"beforeSelected"!==i||(void 0===n&&null!==y.selrow?(n=y.selrow,i="afterSelected"===i?"after":"before"):i="afterSelected"===i?"last":"first"),i){case"last":$(C[C.length-1]).after(o),s=C.length-1;break;case"first":$(C[0]).after(o),s=1;break;case"after":(s=S.call(x,n))&&($(C[s.rowIndex+1]).hasClass("ui-subgrid")?($(C[s.rowIndex+1]).after(o),s=s.rowIndex+2):($(s).after(o),s=s.rowIndex+1));break;case"before":(s=S.call(x,n))&&($(s).before(o),s=s.rowIndex-1)}!0===y.subGrid&&base.addSubGrid.call(x,y.iColByName.subgrid,s),y.records++,y.reccount++,0===y.lastpage&&(y.lastpage=1),feedback.call(b,"afterAddRow",{rowid:e,inputData:t,position:i,srcRowid:n,iRow:s,tr:C[s],localData:m,iData:y.data.length-1}),k++}!0!==y.altRows||c||x.jqGrid("isBootstrapGuiStyle")||("last"===i?(C.length-1)%2==0&&$(C[C.length-1]).addClass(u):$(C).each(function(e){e%2==1?$(this).addClass(u):$(this).removeClass(u)})),b.rebuildRowIndexes(),b.updatepager(!0,!0),g=!0})),g},footerData:function(e,t,i){var n=!1,r={};return null==e&&(e="get"),"boolean"!=typeof i&&(i=!0),e=e.toLowerCase(),this.each(function(){var o,s,a,l,c=this,d=c.p;if(!c.grid||!d.footerrow)return!1;if("set"===e&&function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(t))return!1;n=!0;var u=$(c.grid.sDiv).children(".ui-jqgrid-hbox"+("rtl"===d.direction?"-rtl":"")).children(".ui-jqgrid-ftable")[0];if(null==u||null==u.rows)return!1;var h=u.rows[0].cells,p=d.colModel,f=null==c.grid.fsDiv?{}:c.grid.fsDiv.children(".ui-jqgrid-ftable")[0].rows[0].cells;if("get"===e)for(l=0;l<p.length;l++)a=p[l].name,$.inArray(a,d.reservedColumnNames)<0&&(!1!==t?(o=$(h[l]).text(),$.trim(o)&&(r[a]=o)):r[a]=$(h[l]).html());else if("set"===e)for(a in t)l=d.iColByName[a],t.hasOwnProperty(a)&&void 0!==l&&(o=i?c.formatter("",t[a],l,t,"edit"):t[a],(s=$(h[l]).add(f[l])).html(o),p[l].title&&s.attr({title:stripHtml(o)}))}),"get"===e?r:n},resetColumnResizerHeight:function(){return this.each(function(){if($.jgrid.msie){var e,t,i,n,r=this.grid.headers;for(i=0;i<r.length;i++)(n=(e=$(r[i].el)).height())&&0<(t=e.children(".ui-jqgrid-resize")).length&&.5<Math.abs(n-t.height())&&e.children(".ui-jqgrid-resize").height(n)}})},rotateColumnHeaders:function(e,t){return this.each(function(){var i,n,r,o,s,a,l,c,d,u,h,p,f,g,m,v,b=$(this),y=this.p,w=y.frozenColumns&&$.isFunction(base.getNumberOfFrozenColumns)?b.jqGrid("getNumberOfFrozenColumns"):0;for($.isArray(e)||(e=[e]),i=0;i<e.length;i++)a=e[i],0<=(n=isNaN(a)?y.iColByName[a]:parseInt(a,10))&&(r=this.grid.headers[n].el,l=(o=n<w?$(r).add($(this.grid.fhDiv.find("#"+jqID(r.id)))):$(r)).children("div"),c=l.children("span.s-ico"),u=l.children("span.ui-jqgrid-sort-order"),(d=l.children("span."+y.autoResizing.wrapperClassName)).length<1&&(c.detach(),u.detach(),l.wrapInner("<span class='"+y.autoResizing.wrapperClassName+"'></span>"),d=l.children("span."+y.autoResizing.wrapperClassName),l.each(function(e){e<c.length&&$(this).append(c[e]),e<u.length&&$(this).append(u[e])})),h=c.outerWidth(!0),p=d.outerWidth(),m=parseFloat(o.css("padding-top")||0),v=parseFloat(o.css("padding-bottom")||0),f=parseFloat(o.css("padding-left")||0),g=parseFloat(o.css("padding-right")||0),y.showSortOrder&&(h+=.5*h),s=void 0===t||0===t?p+h+f+g:t,o.height(s),o.css({paddingTop:g+"px",paddingBottom:f+"px",paddingLeft:m+"px",paddingRight:v+"px"}),l.css("min-width",s-f-g+"px").addClass("ui-jqgrid-rotate").css({bottom:0}),y.colModel[n].rotated=!0);b.jqGrid("resetColumnResizerHeight"),y.frozenColumns&&setTimeout(function(){b.triggerHandler("jqGridResetFrozenHeights",{header:{resizeDiv:!0,resizedRows:{iRowStart:0,iRowEnd:-1}},resizeFooter:!0,body:{resizeDiv:!0,resizedRows:{iRowStart:-1,iRowEnd:-1}}})},0)})},showHideCol:function(e,t,i){return this.each(function(){var n,r=this,o=$(r),s=r.grid,a=!1,l=r.p,c=jgrid.cell_width?0:l.cellLayout;if(s){"string"==typeof e&&(e=[e]),i=i||{};var d=""==(t="none"!==t&&!1!==t?"":"none"),u=l.groupHeader,h=u&&("object"==typeof u||$.isFunction(u));if(h&&!i.skipSetGroupHeaders&&base.destroyGroupHeader.call(o,!1),$(l.colModel).each(function(o){var u=function(e){var i,n,r,s,a,c,u,h,p,f,g,m,v,b,y;for(i=0,n=e.length;i<n;i++)s=(r=e[i]).cells[o],(!$(r).hasClass("jqgroup")||null!=s&&1===s.colSpan)&&(a=$(s),0===i&&$(r).hasClass("jqgfirstrow")?(a.css("height","1px"),a.css("display",t),a.css("height","0")):a.css("display",t),d&&null!=s&&"TH"===s.tagName.toUpperCase()&&a.hasClass("ui-th-column")&&(c=a.children("div")).hasClass("ui-jqgrid-rotate")&&(u=c.children("span.s-ico"),(h=c.children("span."+l.autoResizing.wrapperClassName)).outerHeight(),p=h.outerWidth(),u.outerHeight(),f=u.outerWidth(!0),0<h.length&&(m=parseFloat(a.css("padding-top")||0),v=parseFloat(a.css("padding-bottom")||0),b=parseFloat(a.css("padding-left")||0),y=parseFloat(a.css("padding-right")||0),l.showSortOrder&&(f+=.5*f),g=p+f+b+y,a.height(g),a.css({paddingTop:y+"px",paddingBottom:b+"px",paddingLeft:m+"px",paddingRight:v+"px"}),c.css("min-width",g-b-y+"px").css({bottom:0}))))};if(-1!==$.inArray(this.name,e)&&this.hidden===d){if(!0===l.frozenColumns&&!0===this.frozen&&!i.notSkipFrozen)return!0;u($(s.hDiv).find(".ui-jqgrid-htable>thead>tr")),!0===l.frozenColumns&&null!=s.fhDiv&&u($(s.fhDiv).find(".ui-jqgrid-htable>thead>tr")),u(r.rows),!0===l.frozenColumns&&null!=s.fbRows&&u(r.rows),l.footerrow&&(u($(s.sDiv).find("tr.footrow")),!0===l.frozenColumns&&null!=s.fsDiv&&u($(s.fsDiv).find("tr.footrow"))),n=parseInt(this.width,10),"none"===t?l.tblwidth-=n+c:l.tblwidth+=n+c,this.hidden=!d,a=!0,i.skipFeedback?(i.toReport=i.toReport||{},i.toReport[this.name]=d):feedback.call(r,"onShowHideCol",d,this.name,o,i)}}),!0===a){var p=l.autowidth||void 0!==l.widthOrg&&"auto"!==l.widthOrg&&"100%"!==l.widthOrg?l.width:l.tblwidth+parseInt(l.scrollOffset,10);i.skipSetGridWidth?i.newGridWidth=p:base.setGridWidth.call(o,p)}if(h&&!i.skipSetGroupHeaders)if(null!=l.pivotOptions&&null!=l.pivotOptions.colHeaders&&1<l.pivotOptions.colHeaders.length){var f,g=l.pivotOptions.colHeaders;for(f=0;f<g.length;f++)g[f]&&g[f].groupHeaders.length&&base.setGroupHeaders.call(o,g[f])}else base.setGroupHeaders.call(o,l.groupHeader)}})},hideCol:function(e,t){return this.each(function(){base.showHideCol.call($(this),e,"none",t)})},showCol:function(e,t){return this.each(function(){base.showHideCol.call($(this),e,"",t)})},remapColumns:function(e,t,i){var n,r,o,s,a=this[0],l=a.p,c=a.grid,d=$.makeArray,u=!0===l.frozenColumns,h=this.jqGrid("getNumberOfFrozenColumns");function p(e){var t=e.length?d(e):$.extend({},e);$.each(s,function(i){e[i]=t[this]})}function f(e,t){(t?e.children(t):e.children()).each(function(){var e=this,t=d(e.cells);$.each(s,function(i){var n=t[this],r=e.cells[i];null!=n&&null!=r&&n.cellIndex!==i&&n.parentNode.insertBefore(n,r)})})}if(null!=c&&null!=l){for(s=function(){var t,i=[],n=[],r=e.length;for(t=0;t<r;t++)u&&e[t]<h?i.push(e[t]):n.push(e[t]);return i.concat(n)}(),p(l.colModel),p(l.colNames),p(c.headers),o=$(c.hDiv).children("div").children("table.ui-jqgrid-htable").children("thead"),u&&null!=c.fhDiv&&(o=o.add(c.fhDiv.children("table.ui-jqgrid-htable").children("thead"))),f(o,i&&":not(.ui-jqgrid-labels)"),t&&(o=$(a.tBodies[0]),u&&null!=c.fbDiv&&(o=o.add(c.fbDiv.children("table.ui-jqgrid-btable").children("tbody").first())),f(o,"tr.jqgfirstrow,tr.jqgrow,tr.jqfoot")),l.footerrow&&(o=$(c.sDiv).children("div").children("table.ui-jqgrid-ftable").children("tbody").first(),u&&null!=c.fsDiv&&(o=o.add(c.fsDiv.children("table.ui-jqgrid-ftable").children("tbody").first())),f(o)),l.remapColumns&&(l.remapColumns.length?p(l.remapColumns):l.remapColumns=d(s)),l.lastsort=$.inArray(l.lastsort,s),l.iColByName={},n=0,r=l.colModel.length;n<r;n++)l.iColByName[l.colModel[n].name]=n;feedback.call(a,"onRemapColumns",s,t,i)}},remapColumnsByName:function(e,t,i){var n,r,o=this[0].p,s=[],a=e.slice(),l=$.inArray;for(o.subGrid&&l("subgrid",a)<0&&a.unshift("subgrid"),o.multiselect&&l("cb",a)<0&&a.unshift("cb"),o.rownumbers&&l("rn",a)<0&&a.unshift("rn"),n=0,r=a.length;n<r;n++)s.push(o.iColByName[a[n]]);return base.remapColumns.call(this,s,t,i),this},setGridWidth:function(e,t){return this.each(function(){var i,n,r,o,s=this,a=s.p,l=s.grid,c=0,d=0,u=!1,h=0,p=jgrid.isCellClassHidden,f=e;if(l&&null!=a){s.fixScrollOffsetAndhBoxPadding();var g,m,v,b,y=a.colModel,w=a.scrollOffset,x=jgrid.cell_width?0:a.cellLayout,C=l.headers,k=l.footers,S=l.bDiv,D=l.hDiv,T=l.sDiv,_=l.cols,j=$(D).find(">div>.ui-jqgrid-htable>thead>tr").first()[0].cells,A=function(e){l.width=a.width=e,$(a.gBox).css("width",e+"px"),$(a.gView).css("width",e+"px"),$(S).css("width",e+"px"),$(D).css("width",e+"px"),a.pager&&$(a.pager).css("width",e+"px"),a.toppager&&$(a.toppager).css("width",e+"px"),!0===a.toolbar[0]&&($(l.uDiv).css("width",e+"px"),"both"===a.toolbar[1]&&$(l.ubDiv).css("width",e+"px")),a.footerrow&&$(T).css("width",e+"px")};if("boolean"!=typeof t&&(t=a.shrinkToFit),!isNaN(f)){if(A(f=parseInt(f,10)),!1===t&&!0===a.forceFit&&(a.forceFit=!1),!0===t){if($.each(y,function(){!1!==this.hidden||p(this.classes)||(i=this.widthOrg,c+=i+x,this.fixed?h+=this.width+x:d++)}),0===d)return;if(a.tblwidth=parseInt(c,10),r=f-x*d-h,isNaN(a.height)||(S.clientHeight<S.scrollHeight||1===s.rows.length)&&(u=!0,r-=w),(b=r/(a.tblwidth-x*d-h))<0)return;if(v=(c=0)<_.length,$.each(y,function(e){!1!==this.hidden||p(this.classes)||this.fixed||(i=Math.round(this.widthOrg*b),this.width=i,c+=i,C[e].width=i,j[e].style.width=i+"px",a.footerrow&&(k[e].style.width=i+"px"),v&&(_[e].style.width=i+"px"),n=e)}),!n)return;o=0,u?f-h-(c+x*d)!==w&&(o=f-h-(c+x*d)-w):1!==Math.abs(f-h-(c+x*d))&&(o=f-h-(c+x*d)),(g=y[n]).width+=o,a.tblwidth=parseInt(c+o+x*d+h,10),a.tblwidth>f&&(m=a.tblwidth-parseInt(f,10),a.tblwidth=f,g.width=g.width-m),i=g.width,C[n].width=i,j[n].style.width=i+"px",v&&(_[n].style.width=i+"px"),a.footerrow&&(k[n].style.width=i+"px"),a.tblwidth+(u?w:0)<a.width&&A(a.tblwidth+(u?w:0)),S.offsetWidth>S.clientWidth&&(a.autowidth||void 0!==a.widthOrg&&"auto"!==a.widthOrg&&"100%"!==a.widthOrg||A(S.offsetWidth))}a.tblwidth&&(a.tblwidth=parseInt(a.tblwidth,10),f=a.tblwidth,D.scrollLeft=S.scrollLeft,m=Math.abs(f-a.width),a.shrinkToFit&&!t&&m<3&&0<m&&(f<a.width&&A(f),S.offsetWidth>S.clientWidth&&(a.autowidth||void 0!==a.widthOrg&&"auto"!==a.widthOrg&&"100%"!==a.widthOrg||A(S.offsetWidth)))),s.fixScrollOffsetAndhBoxPadding();var F={resizeDiv:!0,resizedRows:{iRowStart:t?0:-1,iRowEnd:-1}};$(s).triggerHandler("jqGridResetFrozenHeights",[{header:F,resizeFooter:!0,body:F}])}}})},setGridHeight:function(e){return this.each(function(){var t=this,i=t.grid,n=t.p;if(i){var r=$(i.bDiv);r.css({height:e+(isNaN(e)?"":"px")}),!0===n.frozenColumns&&$(n.idSel+"_frozen").parent().height(r.height()-16),n.height=e,n.scroll&&i.populateVisible.call(t),t.fixScrollOffsetAndhBoxPadding(),$(t).triggerHandler("jqGridResetFrozenHeights")}})},setCaption:function(e){return this.each(function(){var t=this.grid.cDiv;this.p.caption=e,$("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",t).html(e),$(t).show(),$(t).nextAll("div").removeClass(base.getGuiStyles.call(this,"top")),$(this).triggerHandler("jqGridResetFrozenHeights")})},setLabel:function(e,t,i,n){return this.each(function(){var r,o,s=this.p;if(this.grid){if(isNaN(e)){if(void 0===(r=s.iColByName[e]))return}else r=parseInt(e,10);0<=r&&(o=$(this.grid.headers[r].el),s.frozenColumns&&(o=o.add(this.grid.fhDiv.find("#"+jqID(o)))),t&&(o.each(function(){var e=$("[id^=jqgh_]",this),i=e.children("span.ui-jqgrid-cell-wrapper");if(0<i.length)i.html(t);else{var n=$(".s-ico",this);e.empty().html(t)[s.sortIconsBeforeText?"prepend":"append"](n)}}),s.colNames[r]=t),i&&("string"==typeof i?o.addClass(i):o.css(i)),"object"==typeof n&&o.attr(n))}})},setCell:function(e,t,i,n,r,o){return this.each(function(){var s,a,l,c,d,u,h,p,f,g,m,v=this,b=v.p,y=b.colModel,w={};if(v.grid&&0<=(s=isNaN(t)?b.iColByName[t]:parseInt(t,10))&&(u=base.getGridRowById.call($(v),e))){if(h=jgrid.getCell.call(v,u,s),""!==i||!0===o){if(c=y[s],"local"===b.datatype&&(g=stripPref(b.idPrefix,e),void 0!==(m=b._index[g])&&(d=b.data[m])),null==d){for(l=0;l<u.cells.length;l++)if(l!==s&&0<(p=jgrid.getDataFieldOfCell.call(v,u,l)).length){try{f=$.unformat.call(v,p,{rowId:e,colModel:y[l]},l)}catch(s){f=htmlDecode(p[0].innerHTML)}w[y[l].name]=f}}else w=d;w[c.name]=i,a=v.formatter(e,i,s,w,"edit");var x=h;!0===b.treeGrid&&c.name===b.ExpandColumn&&(x=x.children("span.cell-wrapperleaf,span.cell-wrapper").first()),x.html(a),c.title&&h.attr({title:i}),null!=d&&(a=convertOnSaveLocally.call(v,i,c,d[c.name],g,d,s),$.isFunction(c.saveLocally)?c.saveLocally.call(v,{newValue:a,newItem:d,oldItem:d,id:g,cm:c,cmName:c.name,iCol:s}):d[c.name]=a)}(n||r)&&(h=jgrid.getCell.call(v,u,s),n&&h["string"==typeof n?"addClass":"css"](n),"object"==typeof r&&h.attr(r))}})},getCell:function(e,t){var i=!1;return this.each(function(){var n,r,o,s,a=this,l=a.p;if(a.grid&&0<=(n=isNaN(t)?l.iColByName[t]:parseInt(t,10))&&(r=base.getGridRowById.call($(a),e))){o=jgrid.getDataFieldOfCell.call(a,r,n).first(),s=l.colModel[n];try{i=base.isCellEditing.call($(a),e,n,r)?jgrid.getEditedValue.call(a,o,s,{},s.editable):$.unformat.call(a,o,{rowId:r.id,colModel:s},n)}catch(n){i=htmlDecode(o.html())}}}),i},getCol:function(e,t,i){var n,r,o,s,a=[],l=0;return t="boolean"==typeof t&&t,void 0===i&&(i=!1),this.each(function(){var c,d,u=this,h=u.p;if(u.grid&&0<=(c=isNaN(e)?h.iColByName[e]:parseInt(e,10))){var p,f,g=u.rows,m=g.length,v=0,b=0,y=h.colModel[c];if(m&&0<m){for(;v<m;){if(p=g[v],$(p).hasClass("jqgrow")){d=jgrid.getDataFieldOfCell.call(u,p,c).first(),f=p.id;try{n=base.isCellEditing.call($(u),f,c,p)?jgrid.getEditedValue.call(u,d,y,{},y.editable):$.unformat.call(u,d,{rowId:f,colModel:y},c)}catch(c){n=htmlDecode(d.html())}i?(s=parseFloat(n),isNaN(s)||(l+=s,void 0===o&&(o=r=s),r=Math.min(r,s),o=Math.max(o,s),b++)):t?a.push({id:f,value:n}):a.push(n)}v++}if(i)switch(i.toLowerCase()){case"sum":a=l;break;case"avg":a=l/b;break;case"count":a=m-1;break;case"min":a=r;break;case"max":a=o}}}}),a},clearGridData:function(e){return this.each(function(){var t=this,i=t.p,n=t.rows,r=t.grid;r&&i&&n&&("boolean"!=typeof e&&(e=!1),$(t).off(".jqGridFormatter"),r.emptyRows.call(t,!1,!0),i.footerrow&&e&&$(".ui-jqgrid-ftable td",r.sDiv).html("&#160;"),i.selrow=null,clearArray(i.selarrrow),clearArray(i.savedRow),i.editingInfo={},clearArray(i.data),clearArray(i.lastSelectedData),i._index={},i.rowIndexes={},i.dataIndexById={},i.indexByColumnData={},i.records=0,i.page=1,i.lastpage=0,i.reccount=0,t.updatepager(!0,!1))})},getInd:function(e,t){var i=base.getGridRowById.call($(this),e);return!!i&&(!0===t?i:i.rowIndex)},bindKeys:function(e){var t=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each(function(){var e=this,i=e.p,n=$(e);i.scrollrows=t.scrollingRows,n.on("keydown.jqGrid",function(r){var o=$(this).find("tr[tabindex=0]")[0],s=jgrid.detectRowEditing.call(e,$(r.target).closest("tr.jqgrow").attr("id")),a=function(e){do{if(null===(o=o[e]))return}while($(o).is(":hidden")||!$(o).hasClass("jqgrow"));base.setSelection.call(n,o.id,!0),r.preventDefault()},l=function(r,o){var s=t["on"+r+(o||"")];n.triggerHandler("jqGridKey"+r,[i.selrow]),$.isFunction(s)&&s.call(e,i.selrow)},c=function(e){if(i.treeGrid){var t=i.data[i._index[stripPref(i.idPrefix,o.id)]][i.treeReader.expanded_field];"Right"===e&&(t=!t),t&&$(o).find("div.treeclick").trigger("click")}l(e,"Key")};if(o&&null===s)switch(r.keyCode){case 38:a("previousSibling");break;case 40:a("nextSibling");break;case 37:c("Left");break;case 39:c("Right");break;case 13:l("Enter");break;case 32:l("Space")}})})},unbindKeys:function(){return this.each(function(){$(this).off("keydown.jqGrid")})},getLocalRow:function(e){var t,i=!1;return this.each(function(){var n=this.p;void 0!==e&&null!=n&&null!=n._index&&null!=n.data&&0<=(t=n._index[stripPref(n.idPrefix,e)])&&(i=n.data[t])}),i},progressBar:function(e){return e=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},e||{}),this.each(function(){var t="show"===e.method,i=jqID(this.p.id),n=$("#load_"+i);switch(""!==e.htmlcontent&&n.html(e.htmlcontent),e.loadtype){case"disable":break;case"enable":n.toggle(t);break;case"block":$("#lui_"+i).toggle(t),n.toggle(t)}})},setColWidth:function(e,t,i,n){return this.each(function(){var r,o=$(this),s=this.grid,a=this.p;if("string"==typeof e){if(void 0===(e=a.iColByName[e]))return}else if("number"!=typeof e)return;null!=(r=s.headers[e])&&(r.newWidth=t,s.newWidth=a.tblwidth+t-r.width,s.resizeColumn(e,!a.frozenColumns,n),!1===i||n||(this.fixScrollOffsetAndhBoxPadding(),base.setGridWidth.call(o,s.newWidth+a.scrollOffset,!1)))})},getAutoResizableWidth:function(e){var t=this;if(0===t.length)return-1;var i,n,r,o,s,a=(t=t[0]).rows,l=t.p,c=l.colModel[e],d=$(t.grid.headers[e].el),u=d.children("div"),h=parseFloat(d.css(c.rotated?"padding-top":"padding-left")||0),p=parseFloat(d.css(c.rotated?"padding-bottom":"padding-right")||0),f=u.children("span.s-ico"),g=u.children(".ui-jqgrid-sort-order"),m=u.children("."+l.autoResizing.wrapperClassName),v=c.rotated?m.outerHeight():m.outerWidth(),b=parseFloat(m.css(c.rotated?"height":"width")||0),y=0,w=0,x=null!=c.autoResizing&&void 0!==c.autoResizable.compact?c.autoResizable.compact:l.autoResizing.compact,C=l.autoResizing.wrapperClassName;if(null==c||!c.autoResizable||0===m.length||c.hidden||jgrid.isCellClassHidden(c.classes)||c.fixed)return-1;for(x&&!f.is(":visible")&&"none"===f.css("display")||(w=c.rotated?f.outerHeight(!0):f.outerWidth(!0)+(0<g.length?g.outerWidth(!0):0),l.sortIconsBeforeText||(w-="rtl"===l.direction?parseFloat(f.css("padding-left")||0)+parseFloat(f.css("margin-left")||0):parseFloat(f.css("padding-right")||0)+parseFloat(f.css("margin-right")||0))),c.rotated?w=Math.max(w,v+h+p):w+=v+h+(b===v?h+p:0)+parseFloat(u.css("margin-left")||0)+parseFloat(u.css("margin-right")||0),r=0,a=t.rows;r<a.length;r++)n=(i=a[r]).cells[e],o=$(i.cells[e]),null!=n&&($(i).hasClass("jqgrow")&&"none"!==i.style.display&&"none"!==n.style.display||$(i).hasClass("jqgroup")&&1===n.colSpan)?(s=$(n.firstChild)).hasClass(C)?w=Math.max(w,s.outerWidth()+y):l.treeGrid&&l.ExpandColumn===c.name&&(s=o.children(".cell-wrapper,.cell-wrapperleaf"),w=Math.max(w,s.outerWidth()+y+o.children(".tree-wrap").outerWidth())):$(i).hasClass("jqgfirstrow")&&(y=(jgrid.cell_width?parseFloat(o.css("padding-left")||0)+parseFloat(o.css("padding-right")||0):0)+parseFloat(o.css("border-right")||0)+parseFloat(o.css("border-left")||0));return w=Math.max(w,null!=c.autoResizing&&void 0!==c.autoResizing.minColWidth?c.autoResizing.minColWidth:l.autoResizing.minColWidth),Math.min(w,null!=c.autoResizing&&void 0!==c.autoResizing.maxColWidth?c.autoResizing.maxColWidth:l.autoResizing.maxColWidth)},autoResizeColumn:function(e,t){return this.each(function(){var i,n=$(this),r=this.p,o=r.colModel[e],s=$(this.grid.headers[e].el),a=base.getAutoResizableWidth.call(n,e),l=(o.autoResizing||{}).resetWidthOrg;null==o||a<0||a===o.width||(base.setColWidth.call(n,e,a,r.autoResizing.adjustGridWidth&&!r.autoResizing.fixWidthOnShrink&&!t,t),r.autoResizing.fixWidthOnShrink&&r.shrinkToFit&&!t&&(o.fixed=!0,i=o.widthOrg,o.widthOrg=o.width,base.setGridWidth.call(n,r.width,!0),o.widthOrg=i,o.fixed=!1),(l||void 0===l&&r.autoResizing.resetWidthOrg)&&(o.widthOrg=o.width),s.data("autoResized","true"))})},autoResizeAllColumns:function(){return this.each(function(){var e,t,i=$(this),n=this.p,r=n.colModel,o=r.length,s=n.shrinkToFit,a=n.autoResizing.adjustGridWidth,l=n.autoResizing.fixWidthOnShrink,c=parseInt(n.widthOrg,10),d=this.grid,u=base.autoResizeColumn;for(n.shrinkToFit=!1,n.autoResizing.adjustGridWidth=!0,n.autoResizing.fixWidthOnShrink=!1,e=0;e<o;e++)(t=r[e]).autoResizable&&"actions"!==t.formatter&&u.call(i,e,!0);d.hDiv.scrollLeft=d.bDiv.scrollLeft,n.footerrow&&(d.sDiv.scrollLeft=d.bDiv.scrollLeft),this.fixScrollOffsetAndhBoxPadding(),isNaN(c)?a&&base.setGridWidth.call(i,d.newWidth+n.scrollOffset,!1):base.setGridWidth.call(i,c,!1),n.autoResizing.fixWidthOnShrink=l,n.autoResizing.adjustGridWidth=a,n.shrinkToFit=s})}});var getTdByColumnIndex=function(e,t){var i=this.grid.fbRows;return null!=(e=null!=i&&i[0].cells.length>t?i[e.rowIndex]:e)&&null!=e.cells?$(e.cells[t]):$()},safeHeightSet=function(e,t){var i=e.height();1<=Math.abs(i-t)&&0<t&&(e.height(t),i=e.height(),1<=Math.abs(t-i)&&e.height(t+Math.round(t-i)))};jgrid.extend({editCell:function(e,t,i){return this.each(function(){var n,r,o,s,a=this,l=$(a),c=a.p,d=a.rows;if(a.grid&&!0===c.cellEdit&&null!=d&&null!=d[e]&&(e=parseInt(e,10),t=parseInt(t,10),!isNaN(e)&&!isNaN(t))){var u,h=d[e],p=null!=h?h.id:null,f=$(h),g=parseInt(c.iCol,10),m=parseInt(c.iRow,10),v=$(d[m]),b=c.savedRow;if(null!=p){if(c.selrow=p,c.knv||l.jqGrid("GridNav"),0<b.length&&0<v.length){if(!0===i&&e===m&&t===g)return;l.jqGrid("saveCell",b[0].id,b[0].ic)}else setTimeout(function(){$("#"+jgrid.jqID(c.knv)).attr("tabindex","-1").focus()},1);if("subgrid"!==(n=(s=c.colModel[t]).name)&&"cb"!==n&&"rn"!==n){o=getTdByColumnIndex.call(a,h,t);var y=s.editable;$.isFunction(y)&&(y=y.call(a,{rowid:p,iCol:t,iRow:e,cmName:n,cm:s,mode:"cell"}));var w=l.jqGrid("getGuiStyles","states.select","edit-cell"),x=l.jqGrid("getGuiStyles","states.hover","selected-row");if(!0!==y||!0!==i||o.hasClass("not-editable-cell"))c.noCellSelection||(0<=g&&0<=m&&(getTdByColumnIndex.call(a,v[0],g).removeClass(w),v.removeClass(x)),o.addClass(w),f.addClass(x)),r=o.html().replace(/&#160;/gi,""),feedback.call(a,"onSelectCell",p,n,r,e,t);else{c.noCellSelection||(0<=g&&0<=m&&(getTdByColumnIndex.call(a,v[0],g).removeClass(w),v.removeClass(x)),o.addClass(w),f.addClass(x)),s.edittype||(s.edittype="text"),u=s.edittype;try{r=$.unformat.call(a,o,{rowId:p,colModel:s},t)}catch(n){r="textarea"===u?o.text():o.html()}if(c.autoEncodeOnEdit&&(r=jgrid.oldDecodePostedData(r)),("&nbsp;"===r||"&#160;"===r||1===r.length&&160===r.charCodeAt(0))&&(r=""),$.isFunction(c.formatCell)){var C=c.formatCell.call(a,p,n,r,e,t);void 0!==C&&(r=C)}feedback.call(a,"beforeEditCell",p,n,r,e,t),b.push({id:e,ic:t,name:n,v:r}),c.editingInfo[p]={mode:"cellEditing",savedRow:b[b.length-1],editable:{}},c.editingInfo[p].editable[n]=y;var k=$.extend({},s.editoptions||{},{id:e+"_"+n,name:n,rowId:p,mode:"cell",cm:s,iCol:t}),S=jgrid.createEl.call(a,u,k,r,!0,$.extend({},jgrid.ajaxOptions,c.ajaxSelectOptions||{})),D=o,T=!0===c.treeGrid&&n===c.ExpandColumn;T&&(D=o.children("span.cell-wrapperleaf,span.cell-wrapper")),D.html("").append(S).attr("tabindex","0"),T&&$(S).width(o.width()-o.children("div.tree-wrap").outerWidth()),jgrid.bindEv.call(a,S,k),c.frozenColumns&&t<l.jqGrid("getNumberOfFrozenColumns")&&safeHeightSet($(a.rows[h.rowIndex].cells[t]),o.height()),setTimeout(function(){$(S).focus()},0),$("input, select, textarea",o).on("keydown",function(i){if(27===i.keyCode&&(0<$("input.hasDatepicker",o).length?$(".ui-datepicker").is(":hidden")?l.jqGrid("restoreCell",e,t):$("input.hasDatepicker",o).datepicker("hide"):l.jqGrid("restoreCell",e,t)),13===i.keyCode&&!i.shiftKey)return l.jqGrid("saveCell",e,t),!1;if(9===i.keyCode){if(a.grid.hDiv.loading)return!1;i.shiftKey?l.jqGrid("prevCell",e,t):l.jqGrid("nextCell",e,t)}i.stopPropagation()}),feedback.call(a,"afterEditCell",p,n,r,e,t)}c.iCol=t,c.iRow=e}}}})},saveCell:function(e,t){return this.each(function(){var i=this,n=$(i),r=i.p,o=i.grid,s=jgrid.info_dialog,a=jgrid.jqID;if(o&&!0===r.cellEdit){var l=n.jqGrid("getGridRes","errors"),c=l.errcap,d=n.jqGrid("getGridRes","edit").bClose,u=r.savedRow,h=1<=u.length?0:null;if(null!==h){var p,f=i.rows[e],g=null!=f?f.id:null,m=null!=f?$(f):$(),v=r.colModel[t],b=v.name,y=getTdByColumnIndex.call(i,f,t),w={},x=jgrid.getEditedValue.call(i,y,v,w);if(x!==u[h].v){void 0!==(p=n.triggerHandler("jqGridBeforeSaveCell",[g,b,x,e,t]))&&(x=p),$.isFunction(r.beforeSaveCell)&&void 0!==(p=r.beforeSaveCell.call(i,g,b,x,e,t))&&(x=p);var C=jgrid.checkValues.call(i,x,t,void 0,void 0,{oldValue:u[h].v,newValue:x,cmName:b,rowid:g,iCol:t,iRow:e,cm:v,tr:f,td:y,mode:"cell"}),k=v.formatoptions||{};if(null==C||!0===C||!0===C[0]){var S=n.triggerHandler("jqGridBeforeSubmitCell",[g,b,x,e,t])||{};if($.isFunction(r.beforeSubmitCell)&&((S=r.beforeSubmitCell.call(i,g,b,x,e,t))||(S={})),0<$("input.hasDatepicker",y).length&&$("input.hasDatepicker",y).datepicker("hide"),"date"===v.formatter&&!0!==k.sendFormatted&&(x=$.unformat.date.call(i,x,v)),"remote"===r.cellsubmit)if(r.cellurl){var D={};D[b]=x;var T=r.prmNames,_=T.id,j=T.oper;D[_]=jgrid.stripPref(r.idPrefix,g),D[j]=T.editoper,D=$.extend(S,D),r.autoEncodeOnEdit&&$.each(D,function(e,t){$.isFunction(t)||(D[e]=jgrid.oldEncodePostedData(t))}),n.jqGrid("progressBar",{method:"show",loadtype:r.loadui,htmlcontent:n.jqGrid("getGridRes","defaults.savetext")||"Saving..."}),o.hDiv.loading=!0,$.ajax($.extend({url:$.isFunction(r.cellurl)?r.cellurl.call(i,r.cellurl,e,t,g,x,b):r.cellurl,data:jgrid.serializeFeedback.call(i,r.serializeCellData,"jqGridSerializeCellData",D),type:"POST",complete:function(a){if(o.endReq.call(i),(a.status<300||304===a.status)&&(0!==a.status||4!==a.readyState)){var l=n.triggerHandler("jqGridAfterSubmitCell",[i,a,D.id,b,x,e,t])||[!0,""];(!0===l||!0===l[0]&&$.isFunction(r.afterSubmitCell))&&(l=r.afterSubmitCell.call(i,a,D.id,b,x,e,t)),null==l||!0===l||!0===l[0]?(n.jqGrid("setCell",g,t,x,!1,!1,!0),y.addClass("dirty-cell"),m.addClass("edited"),feedback.call(i,"afterSaveCell",g,b,x,e,t),u.splice(0,1),delete r.editingInfo[g]):(s.call(i,c,l[1],d),n.jqGrid("restoreCell",e,t))}},error:function(o,a,l){n.triggerHandler("jqGridErrorCell",[o,a,l]),$.isFunction(r.errorCell)?r.errorCell.call(i,o,a,l):s.call(i,c,o.status+" : "+o.statusText+"<br/>"+a,d),n.jqGrid("restoreCell",e,t)}},jgrid.ajaxOptions,r.ajaxCellOptions||{}))}else try{s.call(i,c,l.nourl,d),n.jqGrid("restoreCell",e,t)}catch(a){}if("clientArray"===r.cellsubmit){if(n.jqGrid("setCell",g,t,"select"===v.edittype&&"select"!==v.formatter?w.text:x,!1,!1,!0),y.addClass("dirty-cell"),m.addClass("edited"),feedback.call(i,"afterSaveCell",g,b,x,e,t),r.frozenColumns&&t<n.jqGrid("getNumberOfFrozenColumns"))try{i.rows[f.rowIndex].cells[t].style.height=""}catch(a){}u.splice(0,1),delete r.editingInfo[g]}}else try{setTimeout(function(){var e=jgrid.getRelativeRect.call(i,y);s.call(i,c,x+" "+C[1],d,{top:e.top,left:e.left+$(i).closest(".ui-jqgrid").offset().left})},50),n.jqGrid("restoreCell",e,t)}catch(a){}}else n.jqGrid("restoreCell",e,t)}setTimeout(function(){$("#"+a(r.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(e,t){return this.each(function(){var i,n,r,o=this,s=o.p,a=o.rows[e],l=a.id;if(o.grid&&!0===s.cellEdit){var c=s.savedRow,d=getTdByColumnIndex.call(o,a,t);if(1<=c.length){if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker",d).datepicker("hide")}catch(i){}if(n=s.colModel[t],!0===s.treeGrid&&null!=n&&n.name===s.ExpandColumn?d.children("span.cell-wrapperleaf,span.cell-wrapper").empty():d.empty(),d.attr("tabindex","-1"),i=c[0].v,null!=n&&(r=n.formatoptions||{},"date"===n.formatter&&!0!==r.sendFormatted&&(i=$.unformat.date.call(o,i,n)),$(o).jqGrid("setCell",l,t,i,!1,!1,!0),s.frozenColumns&&t<$(o).jqGrid("getNumberOfFrozenColumns")))try{o.rows[a.rowIndex].cells[t].style.height=""}catch(i){}feedback.call(o,"afterRestoreCell",l,i,e,t),c.splice(0,1),delete s.editingInfo[l]}setTimeout(function(){$("#"+s.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(e,t){return this.each(function(){var i,n,r,o=this,s=$(o),a=o.p,l=!1,c=o.rows;if(o.grid&&!0===a.cellEdit&&null!=c&&null!=c[e]){for(i=t+1;i<a.colModel.length;i++)if(n=(r=a.colModel[i]).editable,$.isFunction(n)&&(n=n.call(o,{rowid:c[e].id,iCol:i,iRow:e,cmName:r.name,cm:r,mode:"cell"})),!0===n){l=i;break}!1!==l?s.jqGrid("editCell",e,l,!0):0<a.savedRow.length&&s.jqGrid("saveCell",e,t)}})},prevCell:function(e,t){return this.each(function(){var i,n,r,o=this,s=$(o),a=o.p,l=!1,c=o.rows;if(o.grid&&!0===a.cellEdit&&null!=c&&null!=c[e]){for(i=t-1;0<=i;i--)if(n=(r=a.colModel[i]).editable,$.isFunction(n)&&(n=n.call(o,{rowid:c[e].id,iCol:i,iRow:e,cmName:r.name,cm:r,mode:"cell"})),!0===n){l=i;break}!1!==l?s.jqGrid("editCell",e,l,!0):0<a.savedRow.length&&s.jqGrid("saveCell",e,t)}})},GridNav:function(){return this.each(function(){var e,t,i=this,n=$(i),r=i.p,o=i.grid;if(o&&!0===r.cellEdit){var s=o.bDiv;r.knv=r.id+"_kn";var a=$("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+r.knv+"'></div></div>");$(a).insertBefore(o.cDiv),$("#"+r.knv).focus().keydown(function(o){var s=parseInt(r.iRow,10),a=parseInt(r.iCol,10);switch(t=o.keyCode,"rtl"===r.direction&&(37===t?t=39:39===t&&(t=37)),t){case 38:0<s-1&&(l(s-1,a,"vu"),n.jqGrid("editCell",s-1,a,!1));break;case 40:s+1<=i.rows.length-1&&(l(s+1,a,"vd"),n.jqGrid("editCell",s+1,a,!1));break;case 37:0<=a-1&&(l(s,e=c(a-1,"lft"),"h"),n.jqGrid("editCell",s,e,!1));break;case 39:a+1<=r.colModel.length-1&&(l(s,e=c(a+1,"rgt"),"h"),n.jqGrid("editCell",s,e,!1));break;case 13:0<=a&&0<=s&&n.jqGrid("editCell",s,a,!0);break;default:return!0}return!1})}function l(e,t,n){var r=i.rows[e];if("v"===n.substr(0,1)){var o=s.clientHeight,a=s.scrollTop,l=r.offsetTop+r.clientHeight,c=r.offsetTop;"vd"===n&&a+o<=l&&(s.scrollTop=s.scrollTop+r.clientHeight),"vu"===n&&c<a&&(s.scrollTop=s.scrollTop-r.clientHeight)}if("h"===n){var d=s.clientWidth,u=s.scrollLeft,h=r.cells[t],p=h.offsetLeft+h.clientWidth,f=h.offsetLeft;p>=d+parseInt(u,10)?s.scrollLeft=s.scrollLeft+h.clientWidth:f<u&&(s.scrollLeft=s.scrollLeft-h.clientWidth)}}function c(e,t){var i,n=0,o=r.colModel;if("lft"===t)for(n=e+1,i=e;0<=i;i--)if(!0!==o[i].hidden){n=i;break}if("rgt"===t)for(n=e-1,i=e;i<o.length;i++)if(!0!==o[i].hidden){n=i;break}return n}})},getChangedCells:function(e){var t=[];return e||(e="all"),this.each(function(){var i=this,n=i.p,r=jgrid.htmlDecode,o=i.rows;i.grid&&!0===n.cellEdit&&$(o).each(function(s){var a={};if($(this).hasClass("edited")){var l=this;$(this.cells).each(function(t){var c=n.colModel[t],d=c.name,u=getTdByColumnIndex.call(i,l,t);if("cb"!==d&&"subgrid"!==d&&"rn"!==d&&("dirty"!==e||u.hasClass("dirty-cell")))try{a[d]=$.unformat.call(i,u[0],{rowId:o[s].id,colModel:c},t)}catch(t){a[d]=r(u.html())}}),a.id=this.id,t.push(a)}})}),t}});var getGuiStyles=base.getGuiStyles,getGridRes=base.getGridRes;jgrid.jqModal=jgrid.jqModal||{},$.extend(!0,jgrid.jqModal,{toTop:!0}),$.extend(jgrid,{showModal:function(e){e.w.show()},closeModal:function(e){e.w.hide().attr("aria-hidden","true"),e.o&&e.o.remove()},hideModal:function(e,t){var i=!(!(t=$.extend({jqm:!0,gb:"",removemodal:!1},t||{})).gb||"string"!=typeof t.gb||"#gbox_"!==t.gb.substr(0,6))&&$("#"+t.gb.substr(6))[0],n=$(e);if(t.onClose){var r=i?t.onClose.call(i,e):t.onClose(e);if("boolean"==typeof r&&!r)return}if($.fn.jqm&&!0===t.jqm)n.attr("aria-hidden","true").jqmHide();else{if(""!==t.gb)try{$(">.jqgrid-overlay",t.gb).first().hide()}catch(e){}n.hide().attr("aria-hidden","true")}t.removemodal&&n.remove()},createModal:function(e,t,i,n,r,o,s){var a=jgrid.jqID,l=this.p;i=$.extend(!0,{resizingRightBottomIcon:base.getIconRes.call(this,"form.resizableLtr")},jgrid.jqModal||{},null!=l&&l.jqModal||{},i);var c=document.createElement("div"),d="#"+a(e.themodal),u="rtl"===$(i.gbox).attr("dir"),h=!!e.resizeAlso&&"#"+a(e.resizeAlso);s=$.extend({},s||{}),c.className=getGuiStyles.call(this,"dialog.window","ui-jqdialog"),c.id=e.themodal,c.dir=u?"rtl":"ltr";var p=document.createElement("div");p.className=getGuiStyles.call(this,"dialog.document"),$(p).attr("role","document");var f=document.createElement("div");f.className=getGuiStyles.call(this,"dialog.subdocument"),p.appendChild(f),c.appendChild(p);var g=document.createElement("div");g.className=getGuiStyles.call(this,"dialog.header","ui-jqdialog-titlebar "+(u?"ui-jqdialog-titlebar-rtl":"ui-jqdialog-titlebar-ltr")),g.id=e.modalhead,$(g).append("<span class='ui-jqdialog-title'>"+i.caption+"</span>");var m=getGuiStyles.call(this,"states.hover"),v=$("<a aria-label='Close' class='"+getGuiStyles.call(this,"dialog.closeButton","ui-jqdialog-titlebar-close")+"'></a>").hover(function(){v.addClass(m)},function(){v.removeClass(m)}).append("<span class='"+base.getIconRes.call(this,"form.close")+"'></span>");$(g).append(v);var b=document.createElement("div");$(b).addClass(getGuiStyles.call(this,"dialog.content","ui-jqdialog-content")).attr("id",e.modalcontent),$(b).append(t),f.appendChild(b),$(f).prepend(g),!0===o?$("body").append(c):"string"==typeof o?$(o).append(c):$(c).insertBefore(n),$(c).css(s),void 0===i.jqModal&&(i.jqModal=!0);var y={};if($.fn.jqm&&!0===i.jqModal?(0===i.left&&0===i.top&&i.overlay&&((i=$(r).offset()).left+=4,i.top+=4),y.top=i.top+"px",y.left=i.left):0===i.left&&0===i.top||(y.left=i.left,y.top=i.top+"px"),$("a.ui-jqdialog-titlebar-close",g).click(function(){var e=$(d).data("onClose")||i.onClose,t=$(d).data("gbox")||i.gbox;return jgrid.hideModal(d,{gb:t,jqm:i.jqModal,onClose:e,removemodal:i.removemodal||!1}),!1}),0!==i.width&&i.width||(i.width=300),0!==i.height&&i.height||(i.height=200),!i.zIndex){var w=$(n).parents("*[role=dialog]").first().css("z-index");w?(i.zIndex=parseInt(w,10)+2,i.toTop=!0):i.zIndex=950}if(y.left&&(y.left+="px"),$(c).css($.extend({width:isNaN(i.width)?"auto":i.width+"px",height:isNaN(i.height)?"auto":i.height+"px",zIndex:i.zIndex},y)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":e.modalhead,"aria-hidden":"true"}),void 0===i.drag&&(i.drag=!0),void 0===i.resize&&(i.resize=!0),i.drag)if($.fn.jqDrag)$(g).css("cursor","move"),$(c).jqDrag(g);else try{$(c).draggable({handle:$("#"+a(g.id))})}catch(e){}if(i.resize)if($.fn.jqResize)$(b).append("<div class='jqResize ui-resizable-handle ui-resizable-se "+i.resizingRightBottomIcon+"'></div>"),$(d).jqResize(".jqResize",h);else try{$(c).resizable({handles:"se, sw",alsoResize:h})}catch(e){}!0===i.closeOnEscape&&$(c).keydown(function(e){if(27===e.which){var t=$(d).data("onClose")||i.onClose;jgrid.hideModal(d,{gb:i.gbox,jqm:i.jqModal,onClose:t,removemodal:i.removemodal||!1,formprop:!i.recreateForm||!1,form:i.form||""})}})},viewModal:function(e,t){if(t=$.extend(!0,{overlay:30,modal:!1,overlayClass:getGuiStyles.call(this,"overlay"),onShow:jgrid.showModal,onHide:jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},jgrid.jqModal||{},t||{}),$.fn.jqm&&!0===t.jqm)t.jqM?$(e).attr("aria-hidden","false").jqm(t).jqmShow():$(e).attr("aria-hidden","false").jqmShow();else{""!==t.gbox&&($(">.jqgrid-overlay",t.gbox).first().show(),$(e).data("gbox",t.gbox)),$(e).show().attr("aria-hidden","false");try{$(":input:visible",e)[0].focus()}catch(e){}}},info_dialog:function(e,t,i,n){var r=this,o=r.p,s=$.extend(!0,{width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]},jgrid.jqModal||{},null!=o&&o.jqModal||{},{caption:"<b>"+e+"</b>"},n||{}),a=s.jqModal;$.fn.jqm&&!a&&(a=!1);var l,c="",d=getGuiStyles.call(r,"states.hover");if(0<s.buttons.length)for(l=0;l<s.buttons.length;l++)void 0===s.buttons[l].id&&(s.buttons[l].id="info_button_"+l),c+=jgrid.builderFmButon.call(r,s.buttons[l].id,s.buttons[l].text);var u=isNaN(s.dataheight)?s.dataheight:s.dataheight+"px",h="text-align:"+s.align+";",p=$("#info_dialog"),f="<div id='info_id'>";f+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+u+";"+h+"'>"+t+"</div>",(i||""!==c)&&(f+="<hr class='"+getGuiStyles.call(r,"dialog.hr")+"' style='margin:1px'/><div style='text-align:"+s.buttonalign+";padding:.8em 0 .5em 0;background-image:none;border-width: 1px 0 0 0;'>"+(i?jgrid.builderFmButon.call(r,"closedialog",i):"")+c+"</div>"),f+="</div>";try{"false"===p.attr("aria-hidden")&&jgrid.hideModal("#info_dialog",{jqm:a}),p.remove()}catch(e){}jgrid.createModal.call(r,{themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",resizeAlso:"infocnt"},f,s,"","",!0),p=$("#info_dialog"),c&&$.each(s.buttons,function(){$("#"+jgrid.jqID(this.id),"#info_id").on("click",{click:this.onClick},function(e){return $.isFunction(e.data.click)&&e.data.click.call(r,e,p),!1})}),$("#closedialog","#info_id").click(function(){return jgrid.hideModal("#info_dialog",{jqm:a,onClose:p.data("onClose")||s.onClose,gb:p.data("gbox")||s.gbox}),!1}),$(".fm-button","#info_dialog").hover(function(){$(this).addClass(d)},function(){$(this).removeClass(d)}),$.isFunction(s.beforeOpen)&&s.beforeOpen(),jgrid.viewModal.call(r,"#info_dialog",{onHide:function(e){e.w.hide().remove(),e.o&&e.o.remove()},modal:s.modal,jqm:a}),$.isFunction(s.afterOpen)&&s.afterOpen();try{p.focus()}catch(e){}},bindEv:function(e,t){$.isFunction(t.dataInit)&&t.dataInit.call(this,e,t),t.dataEvents&&$.each(t.dataEvents,function(){void 0!==this.data?$(e).on(this.type,"object"==typeof this.data&&null!==this.data?$.extend(!0,{},t,this.data):this.data,this.fn):$(e).on(this.type,t,this.fn)})},createEl:function(e,t,i,n,r){var o="",s=this,a=s.p,l=jgrid.info_dialog,c=function(e){return getGridRes.call($(s),e)},d=c("errors.errcap"),u=c("edit"),h=u.msg,p=u.bClose;function f(e,t,i){var n=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value","generateValue","postData","selectFilled","rowId","column","mode","cm","iCol"];void 0!==i&&$.isArray(i)&&$.merge(n,i),$.each(t,function(t,i){-1===$.inArray(t,n)&&$(e).attr(t,i)}),t.hasOwnProperty("id")||$(e).attr("id",jgrid.randId())}if(null==t)return"";switch(e){case"textarea":o=document.createElement("textarea"),n?t.cols||$(o).css({width:"100%","box-sizing":"border-box"}):t.cols||(t.cols=19),t.rows||(t.rows=2),("&nbsp;"===i||"&#160;"===i||1===i.length&&160===i.charCodeAt(0))&&(i=""),o.value=i,f(o,t),$(o).attr({role:"textbox"});break;case"checkbox":if((o=document.createElement("input")).type="checkbox",""!==i&&null!=i||(i=t.hasOwnProperty("defaultValue")?$.isFunction(t.defaultValue)?t.defaultValue.call(s,{cellValue:i,options:t}):t.defaultValue:"false"),t.value){var g=t.value.split(":");i===g[0]&&(o.checked=!0,o.defaultChecked=!0),o.value=i,$(o).data("offval",g[1])}else{var m=String(i).toLowerCase();m.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==m?(o.checked=!0,o.defaultChecked=!0,o.value=i):o.value="on",$(o).data("offval","off")}f(o,t,["value"]),$(o).attr({role:"checkbox","aria-checked":o.checked?"true":"false"});break;case"select":o=document.createElement("select");var v,b=[],y=null;!0===t.multiple||"multiple"===t.multiple?(v=!0,o.multiple="multiple",$(o).attr("aria-multiselectable","true"),b=i.split(","),b=$.map(b,function(e){return $.trim(e)})):(v=!1,b[0]=$.trim(i)),void 0===t.size&&(t.size=v?3:1);try{y=t.rowId}catch(e){}if(a&&a.idPrefix&&(y=jgrid.stripPref(a.idPrefix,y)),void 0===t.dataUrl&&t.generateValue&&null!=a.indexByColumnData[t.cm.name]&&(t.value=s.generateValueFromColumnIndex(t.cm.name,t.separator,t.delimiter)),void 0!==t.dataUrl){var w=t.postData||r.postData,x={elem:o,options:t,cm:t.cm,mode:t.mode,rowid:y,iCol:t.iCol,ovm:b};f(o,t,w?["postData"]:void 0),$.ajax($.extend({url:$.isFunction(t.dataUrl)?t.dataUrl.call(s,y,i,String(t.name),x):t.dataUrl,type:"GET",dataType:"html",data:$.isFunction(w)?w.call(s,y,i,String(t.name)):w,context:x,success:function(e,t,i){var n=this.ovm,r=this.elem,o=this.cm,a=this.iCol,l=$.extend({},this.options),c=this.rowid,d=this.mode,u=$.isFunction(l.buildSelect)?l.buildSelect.call(s,e,i,o,a):e;"string"==typeof u&&(u=$($.trim(u)).html()),u&&($(r).append(u),setTimeout(function(){var e;$("option",r).each(function(t){0===t&&r.multiple&&(this.selected=!1),-1<$.inArray($.trim($(this).val()),n)&&(this.selected=!0,e=!0)}),e||$("option",r).each(function(){-1<$.inArray($.trim($(this).text()),n)&&(this.selected=!0)}),jgrid.fullBoolFeedback.call(s,l.selectFilled,"jqGridSelectFilled",{elem:r,options:l,cm:o,rowid:c,mode:d,cmName:null!=o?o.name:l.name,iCol:a})},0))}},r||{}))}else t.value&&(jgrid.fillSelectOptions(o,t.value,void 0===t.separator?":":t.separator,void 0===t.delimiter?";":t.delimiter,v,i),f(o,t,["value"]),jgrid.fullBoolFeedback.call(s,t.selectFilled,"jqGridSelectFilled",{elem:o,options:t,cm:t.cm,rowid:y,mode:t.mode,cmName:null!=t.cm?t.cm.name:t.name,iCol:t.iCol}));break;case"text":case"password":case"button":var C;C="button"===e?"button":"textbox",(o=document.createElement("input")).type=e,f(o,t),o.value=i,"button"!==e&&(n?t.size||$(o).css({width:"100%","box-sizing":"border-box"}):t.size||(t.size=20)),$(o).attr("role",C);break;case"image":case"file":(o=document.createElement("input")).type=e,f(o,t);break;case"custom":o=document.createElement("span");try{if(!$.isFunction(t.custom_element))throw"editoptions.custom_element is not a function";var k=t.custom_element.call(s,i,t);if(!(k instanceof jQuery||jgrid.isHTMLElement(k)||"string"==typeof k))throw"editoptions.custom_element returns value of a wrong type";k=$(k).addClass("customelement").attr({id:t.id,name:t.name}),$(o).empty().append(k)}catch(e){"e1"===e&&l.call(s,d,"function 'custom_element' "+h.nodefined,p),"e2"===e?l.call(s,d,"function 'custom_element' "+h.novalue,p):l.call(s,d,"string"==typeof e?e:e.message,p)}}return o},checkDate:function(e,t){var i,n={};if(i=-1!==(e=e.toLowerCase()).indexOf("/")?"/":-1!==e.indexOf("-")?"-":-1!==e.indexOf(".")?".":"/",e=e.split(i),3!==(t=t.split(i)).length)return!1;var r,o,s,a,l,c=-1,d=-1,u=-1;for(o=0;o<e.length;o++)s=isNaN(t[o])?0:parseInt(t[o],10),n[e[o]]=s,-1!==(r=e[o]).indexOf("y")&&(c=o),-1!==r.indexOf("m")&&(u=o),-1!==r.indexOf("d")&&(d=o);return r="y"===e[c]||"yyyy"===e[c]?4:"yy"===e[c]?2:-1,-1!==c&&(a=n[e[c]].toString(),2===r&&1===a.length&&(r=1),!(a.length!==r||0===n[e[c]]&&"00"!==t[c]||-1===u||(a=n[e[u]].toString()).length<1||n[e[u]]<1||12<n[e[u]]||-1===d||(a=n[e[d]].toString()).length<1||n[e[d]]<1||31<n[e[d]]||2===n[e[u]]&&n[e[d]]>((l=n[e[c]])%4!=0||l%100==0&&l%400!=0?28:29)||n[e[d]]>[0,31,29,31,30,31,30,31,31,30,31,30,31][n[e[u]]]))},isEmpty:function(e){return!(!e.match(/^\s+$/)&&""!==e)},checkTime:function(e){var t;if(!jgrid.isEmpty(e)){if(!(t=e.match(/^(\d{1,2}):(\d{2})([apAP][Mm])?$/)))return!1;if(t[3]){if(t[1]<1||12<t[1])return!1}else if(23<t[1])return!1;if(59<t[2])return!1}return!0},checkValues:function(e,t,i,n,r){var o,s,a,l,c,d=this,u=d.p,h=u.colModel,p=jgrid.isEmpty,f=getGridRes.call($(d),"edit.msg"),g=function(e){var t=o[e];return $.isFunction(t)?t.call(d,r):t},m=getGridRes.call($(d),"formatter.date.masks");if(void 0===i){if("string"==typeof t&&(t=u.iColByName[t]),void 0===t||t<0)return[!0,"",""];l=h[t],o=l.editrules,null!=l.formoptions&&(s=l.formoptions.label)}else o=i,s=void 0===n?"_":n,l=h[t];if(o){if(s||(s=null!=u.colNames?u.colNames[t]:l.label),!0===g("required")&&p(e))return[!1,s+": "+f.required,""];var v=!1!==g("required");if(!0===g("number")&&(!1!==v||!p(e))&&isNaN(e))return[!1,s+": "+f.number,""];if(void 0!==o.minValue&&!isNaN(o.minValue)&&parseFloat(e)<parseFloat(o.minValue))return[!1,s+": "+f.minValue+" "+o.minValue,""];if(void 0!==o.maxValue&&!isNaN(o.maxValue)&&parseFloat(e)>parseFloat(o.maxValue))return[!1,s+": "+f.maxValue+" "+o.maxValue,""];if(!0===g("email")&&!(!1===v&&p(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)))return[!1,s+": "+f.email,""];if(!0===g("integer")&&(!1!==v||!p(e))){if(isNaN(e))return[!1,s+": "+f.integer,""];if(e%1!=0||-1!==e.indexOf("."))return[!1,s+": "+f.integer,""]}if(!0===g("date")&&!(!1===v&&p(e)||(l.formatoptions&&l.formatoptions.newformat?(a=l.formatoptions.newformat,m.hasOwnProperty(a)&&(a=m[a])):a=h[t].datefmt||"Y-m-d",jgrid.checkDate(a,e))))return[!1,s+": "+f.date+" - "+a,""];if(!0===g("time")&&!(!1===v&&p(e)||jgrid.checkTime(e)))return[!1,s+": "+f.date+" - hh:mm (am/pm)",""];if(!0===g("url")&&!(!1===v&&p(e)||/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i.test(e)))return[!1,s+": "+f.url,""];if(!0===o.custom){if(!1!==v||!p(e))return $.isFunction(o.custom_func)?(c=o.custom_func.call(d,e,s,t),$.isArray(c)?c:[!1,f.customarray,""]):[!1,f.customfcheck,""]}else if($.isFunction(o.custom)&&(!1!==v||!p(e)))return c=o.custom.call(d,r),$.isArray(c)?c:[!1,f.customarray,""]}return[!0,"",""]}}),jgrid.extend({getColProp:function(e){var t,i=this[0];return null!=i&&i.grid&&void 0!==(t=i.p.iColByName[e])?i.p.colModel[t]:{}},setColProp:function(e,t){return this.each(function(){var i,n=this.p;this.grid&&null!=n&&t&&void 0!==(i=n.iColByName[e])&&$.extend(!0,n.colModel[i],t)})},sortGrid:function(e,t,i){return this.each(function(){var n,r,o,s=this.grid,a=this.p,l=a.colModel,c=l.length,d=!1;if(s)for(e||(e=a.sortname),"boolean"!=typeof t&&(t=!1),r=0;r<c;r++)if((n=l[r]).index===e||n.name===e){!0===a.frozenColumns&&!0===n.frozen&&(d=s.fhDiv.find("#"+jqID(a.id+"_"+e))),d&&0!==d.length||(d=s.headers[r].el),("boolean"!=typeof(o=n.sortable)||o)&&this.sortData(n.index||n.name,r,t,i,d);break}})},clearBeforeUnload:function(){return this.each(function(){var e,t=this,i=t.p,n=t.grid,r=jgrid.clearArray,o=Object.prototype.hasOwnProperty;$.isFunction(n.emptyRows)&&n.emptyRows.call(t,!0,!0),$(document).off("mousemove.jqGrid mouseup.jqGrid"+i.id),$(t).off();var s,a=n.headers.length;for(s=0;s<a;s++)n.headers[s].el=null;for(e in n)n.hasOwnProperty(e)&&(n.propOrMethod=null);var l=["formatCol","sortData","updatepager","refreshIndex","setHeadCheckBox","constructTr","clearToolbar","fixScrollOffsetAndhBoxPadding","rebuildRowIndexes","modalAlert","toggleToolbar","triggerToolbar","formatter","addXmlData","addJSONData","ftoolbar","_inlinenav","nav","grid","p"];for(a=l.length,s=0;s<a;s++)o.call(t,l[s])&&(t[l[s]]=null);t._index={},r(i.data),r(i.lastSelectedData),r(i.selarrrow),r(i.savedRow),i.editingInfo={}})},GridDestroy:function(){return this.each(function(){var e=this.p;if(this.grid&&null!=e){e.pager&&$(e.pager).remove();try{$("#alertmod_"+jqID(e.id)).remove(),$(this).jqGrid("clearBeforeUnload"),$(e.gBox).remove()}catch(e){}}})},GridUnload:function(){return this.each(function(){var e=$(this),t=this.p,i=$.fn.jqGrid;this.grid&&(e.removeClass(i.getGuiStyles.call(e,"grid","ui-jqgrid-btable")),t.pager&&(t.pager.substr(1,$.jgrid.uidPref.length)===$.jgrid.uidPref?$(t.pager).remove():$(t.pager).empty().removeClass(i.getGuiStyles.call(e,"pager.pager","ui-jqgrid-pager "+i.getGuiStyles.call(e,"bottom"))).removeAttr("style").removeAttr("dir")),e.jqGrid("clearBeforeUnload"),e.removeAttr("style").removeAttr("tabindex").removeAttr("role").removeAttr("aria-labelledby").removeAttr("style"),e.empty(),e.insertBefore(t.gBox).show(),$(t.pager).insertBefore(t.gBox).show(),$(t.gBox).remove())})},setGridState:function(e){return this.each(function(){var t=this,i=t.p,n=t.grid,r=n.cDiv,o=$(n.uDiv),s=$(n.ubDiv);if(n&&null!=i){var a=function(e){return base.getIconRes.call(t,"gridMinimize."+e)},l=a("visible"),c=a("hidden");"hidden"===e?($(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv",i.gView).slideUp("fast"),i.pager&&$(i.pager).slideUp("fast"),i.toppager&&$(i.toppager).slideUp("fast"),!0===i.toolbar[0]&&("both"===i.toolbar[1]&&s.slideUp("fast"),o.slideUp("fast")),i.footerrow&&$(".ui-jqgrid-sdiv",i.gBox).slideUp("fast"),$(".ui-jqgrid-titlebar-close span",r).removeClass(l).addClass(c),i.gridstate="hidden"):"visible"===e&&($(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv",i.gView).slideDown("fast"),i.pager&&$(i.pager).slideDown("fast"),i.toppager&&$(i.toppager).slideDown("fast"),!0===i.toolbar[0]&&("both"===i.toolbar[1]&&s.slideDown("fast"),o.slideDown("fast")),i.footerrow&&$(".ui-jqgrid-sdiv",i.gBox).slideDown("fast"),$(".ui-jqgrid-titlebar-close span",r).removeClass(c).addClass(l),i.gridstate="visible")}})},filterToolbar:function(e){return this.each(function(){var t=this,i=t.grid,n=$(t),r=t.p,o=jgrid.info_dialog,s=jgrid.htmlEncode;if(!this.ftoolbar){var a,l=$.extend(!0,{autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:r.prmNames.filters,stringResult:!1,groupOp:"AND",defaultSearch:"bw",idMode:"new",searchOperators:!1,resetIcon:"&times;",applyLabelClasses:!0,loadFilterDefaults:!0,operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^",in:"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},jgrid.search,r.searching||{},e||{}),c=r.colModel,d=function(e){return getGridRes.call(n,e)},u=d("errors.errcap"),h=d("edit.bClose"),p=d("edit.msg"),f=getGuiStyles.call(t,"states.hover"),g=getGuiStyles.call(t,"states.select"),m=getGuiStyles.call(t,"filterToolbar.dataField"),v={},b=function(e){var t="gs_";switch(l.idMode){case"compatibility":t+=r.idPrefix;break;case"new":t+=r.id+"_"}return t+e},y=function(e){return"#"+jqID(b(e))},w=function(e){var t=(e.value||"").split(":");return{on:t[0]||"on",off:t[1]||"off"}},x=function(e){var t,i,n,o,s,a,d=r.postData[l.sFilter],u={},h=r.iColByName;if(e)for(i=0;i<c.length;i++)!1!==(s=c[i]).search&&(a=s.searchoptions||{},u[s.name]={op:a.sopt?a.sopt[0]:"select"===s.stype||"checkbox"===s.stype?"eq":l.defaultSearch,data:void 0!==a.defaultValue?a.defaultValue:""});if(!d||!r.search)return u;if("string"==typeof d)try{d=$.parseJSON(d)}catch(e){d={}}else d=d||{};if(n=d.rules||{},null==d||null!=d.groupOp&&null!=l.groupOp&&d.groupOp.toUpperCase()!==l.groupOp.toUpperCase()||null==n||0===n.length||null!=d.groups&&0<d.groups.length)return u;for(i=0;i<n.length;i++)for(o=n[i],s=c[h[o.field]],t=0;t<c.length;t++)if(((s=c[t]).index||s.name)===o.field&&!1!==s.search){if((a=s.searchoptions||{}).sopt){if($.inArray(o.op,a.sopt)<0)continue}else if("select"===s.stype||"checkbox"===s.stype){if("eq"!==o.op)continue}else if(o.op!==l.defaultSearch)continue;u[s.name]={op:o.op,data:o.data}}return u},C=function(e,t){switch(t){case 1:e.data("state",1).prop({checked:!0,indeterminate:!1});break;case 0:e.data("state",0).prop({checked:!1,indeterminate:!1});break;default:e.data("state",-1).prop({checked:!1,indeterminate:!0})}},k=function(){var e={},o=0,s={};$.each(c,function(){var n,a,c=this,u=c.index||c.name,h=c.searchoptions||{},p=$(y(c.name),!0===c.frozen&&!0===r.frozenColumns?i.fhDiv:i.hDiv),f=function(e,t){var i=c.formatoptions||{};return void 0!==i[e]?i[e]:d("formatter."+(t||c.formatter)+"."+e)},g=function(e){var t=f("thousandsSeparator").replace(/([\.\*\_\'\(\)\{\}\+\?\\])/g,"\\$1");return e.replace(new RegExp(t,"g"),"")};if(a=l.searchOperators?p.parent().prev().children("a").data("soper")||l.defaultSearch:h.sopt?h.sopt[0]:"select"===c.stype||"checkbox"===c.stype?"eq":l.defaultSearch,"custom"===c.stype&&$.isFunction(h.custom_value)&&0<p.length&&"SPAN"===p[0].nodeName.toUpperCase())n=h.custom_value.call(t,p.children(".customelement").first(),"get");else if("select"===c.stype)n=p.prop("multiple")?null==(n=p.val())||0===n.length?"":n.join(r.inFilterSeparator||","):p.val();else if("checkbox"===c.stype){var m=w(h);switch(p.data("state")){case-1:n="";break;case 0:n=m.off;break;default:n=m.on}}else switch(n=$.trim(p.val()),c.formatter){case"integer":""!==(n=g(n).replace(f("decimalSeparator","number"),"."))&&(n=String(parseInt(n,10)));break;case"number":""!==(n=g(n).replace(f("decimalSeparator"),"."))&&"0"===String(n).charAt(0)&&(n=String(parseFloat(n)));break;case"currency":var v=f("prefix"),b=f("suffix");v&&v.length&&n.substr(0,v.length)===v&&(n=n.substr(v.length)),b&&b.length&&n.length>b.length&&n.substr(n.length-b.length,b.length)===b&&(n=n.substr(0,n.length-b.length)),""!==(n=g(n).replace(f("decimalSeparator"),"."))&&(n=String(parseFloat(n)))}if(n||"nu"===a||"nn"===a||0<=$.inArray(a,r.customUnaryOperations))e[u]=n,s[u]=a,o++;else if(e.hasOwnProperty(u)&&delete e[u],!l.stringResult&&!l.searchOperators&&"local"!==r.datatype)try{null!=r.postData&&r.postData.hasOwnProperty(u)&&delete r.postData[u]}catch(n){}});var a,u=0<o;if(l.stringResult||l.searchOperators||"local"===r.datatype){var h='{"groupOp":"'+l.groupOp+'","rules":[',p=0;$.each(e,function(e,t){0<p&&(h+=","),h+='{"field":"'+e+'",',h+='"op":"'+s[e]+'",',h+='"data":"'+(t+="").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',p++}),h+="]}",r.postData[l.sFilter]=h,$.each([l.sField,l.sValue,l.sOper],function(e,t){r.postData.hasOwnProperty(t)&&delete r.postData[t]})}else $.extend(r.postData,e);r.searchurl&&(a=r.url,n.jqGrid("setGridParam",{url:r.searchurl}));var f="stop"===n.triggerHandler("jqGridToolbarBeforeSearch");!f&&$.isFunction(l.beforeSearch)&&(f=l.beforeSearch.call(t)),f||n.jqGrid("setGridParam",{search:u}).trigger("reloadGrid",[$.extend({page:1},l.reloadGridSearchOptions||{})]),a&&n.jqGrid("setGridParam",{url:a}),n.triggerHandler("jqGridToolbarAfterSearch"),$.isFunction(l.afterSearch)&&l.afterSearch.call(t)},S=d("search.odata")||[],D=r.customSortOperations,T=[],_=$("<tr></tr>",{class:"ui-search-toolbar",role:"row form"});l.loadFilterDefaults&&(v=x()||{}),$.each(c,function(e){var i,s,c,g,y,w,x,j=this,A="filter",F=j.searchoptions||{},N=j.editoptions||{},I=$("<th></th>",{class:getGuiStyles.call(t,"colHeaders","ui-th-column ui-th-"+r.direction+" "+(l.applyLabelClasses&&j.labelClasses||"")),role:"gridcell","aria-describedby":r.id+"_"+j.name}),O=$("<div></div>"),R=$("<table class='ui-search-table'><tbody><tr><td class='ui-search-oper'></td><td class='ui-search-input'></td><td class='ui-search-clear' style='width:1px'></td></tr></tbody></table>"),E=R.children("tbody").children("tr").children("td"),M=E.eq(0),P=E.eq(1),L=E.eq(2);if(!0===this.hidden&&I.css("display","none"),this.search=!1!==this.search,void 0===this.stype&&(this.stype="text"),i=$.extend({mode:A,name:j.name,cm:j,iCol:e,id:b(j.name)},F),this.search){if(l.searchOperators){for(g=r.search&&null!=v[this.name]?v[this.name].op:i.sopt?i.sopt[0]:"select"===j.stype||"checkbox"===j.stype?"eq":l.defaultSearch,y=0;y<S.length;y++)if(S[y].oper===g){c=l.operands[g]||"";break}var q;if(void 0===c&&null!=D)for(q in D)if(D.hasOwnProperty(q)&&q===g){c=D[q].operand;break}void 0===c&&(c="="),M.append("<a title='"+(null!=i.searchtitle?i.searchtitle:d("search.operandTitle"))+"' data-soper='"+g+"' class='"+getGuiStyles.call(t,"searchToolbar.operButton","soptclass")+"' data-colname='"+this.name+"'>"+c+"</a>")}if(M.data("colindex",e),null!=i.sopt&&1!==i.sopt.length||M.hide(),r.search&&null!=v[this.name]&&(i.defaultValue=v[this.name].data),void 0===i.clearSearch&&(i.clearSearch="text"===this.stype),i.clearSearch){var z=$.isFunction(l.resetTitle)?l.resetTitle.call(t,{options:l,cm:j,cmName:j.name,iCol:e}):(d("search.resetTitle")||"Clear Search Value")+" "+jgrid.stripHtml(r.colNames[e]);L.append("<a title='"+z+"' aria-label='"+z+"' class='"+getGuiStyles.call(t,"searchToolbar.clearButton","clearsearchclass")+"'><span>"+l.resetIcon+"</span></a>")}else L.hide();switch(O.append(R),this.stype){case"checkbox":var H=void 0!==i.defaultValue?i.defaultValue:"-1";x=$("<input role='search' type='checkbox' class='"+m+"' name='"+(j.index||j.name)+"' id='"+b(j.name)+"' aria-labelledby='jqgh_"+r.id+"_"+j.name+"' data-state='"+H+"'/>"),"-1"===H?x.prop("indeterminate",!0):"1"===H&&x.prop("checked",!0),x.click(function(){var e=$(this);switch(e.data("state")){case-1:C(e,1);break;case 0:C(e,-1);break;default:C(e,0)}!0===l.autosearch&&k()}),P.append(x),i.attr&&x.attr(i.attr),T.push({elem:x[0],options:i});break;case"select":var B,G,W;if(s=this.surl||i.dataUrl)$.ajax($.extend({url:s,context:{$tdInput:P,options:i,cm:j,iCol:e},dataType:"html",success:function(e,n,r){var o,s,a,c=this.cm,d=this.iCol,u=this.options,h=this.$tdInput;void 0!==u.buildSelect?(o=u.buildSelect.call(t,e,r,c,d))&&h.append(o):h.append(e),(a=h.children("select")).attr({name:c.index||c.name,id:b(c.name)}),u.attr&&a.attr(u.attr),a.addClass(m),a.css({width:"100%"}),0===a.find("option[value='']").length&&"string"==typeof i.noFilterText&&((s=document.createElement("option")).value="",s.innerHTML=i.noFilterText,a.prepend(s),null!=$(a[0].options[a[0].selectedIndex]).attr("selected")||a[0].multiple||(a[0].selectedIndex=0)),a[0].multiple&&0===a.find("option[selected]").length&&-1!==a[0].selectedIndex&&(a[0].options[a[0].selectedIndex].selected=!1),void 0!==u.defaultValue&&a.val(u.defaultValue),jgrid.bindEv.call(t,a[0],u),jgrid.fullBoolFeedback.call(t,u.selectFilled,"jqGridSelectFilled",{elem:a[0],options:u,cm:c,cmName:c.name,iCol:d,mode:A}),!0===l.autosearch&&a.change(function(){return k(),!1})}},jgrid.ajaxOptions,r.ajaxSelectOptions||{}));else if(j.searchoptions?(B=void 0===F.value?N.value||"":F.value,G=void 0===F.separator?N.separator||":":F.separator,W=void 0===F.delimiter?N.delimiter||";":F.delimiter):j.editoptions&&(B=void 0===N.value?"":N.value,G=void 0===N.separator?":":N.separator,W=void 0===N.delimiter?";":N.delimiter),F.generateValue&&null!=r.indexByColumnData[j.name]&&(B=t.generateValueFromColumnIndex(j.name,G,W)),B){if((w=document.createElement("select")).style.width="100%",x=$(w).attr({name:j.index||j.name,role:"search",id:b(j.name),"aria-describedby":r.id+"_"+j.name}),i.attr&&x.attr(i.attr),!jgrid.fillSelectOptions(w,B,G,W,null!=i.attr&&i.attr.multiple)&&"string"==typeof i.noFilterText){var V=document.createElement("option");V.value="",V.innerHTML=i.noFilterText,V.selected=!0,x.prepend(V)}void 0!==i.defaultValue&&x.val(i.defaultValue),x.addClass(m),T.push({elem:w,options:i}),P.append(w),jgrid.fullBoolFeedback.call(t,i.selectFilled,"jqGridSelectFilled",{elem:w,options:j.searchoptions||N,cm:j,cmName:j.name,iCol:e,mode:A}),!0===l.autosearch&&x.change(function(){return k(),!1})}break;case"text":if(x=$("<input role='search' type='text' class='"+m+"' name='"+(j.index||j.name)+"' id='"+b(j.name)+"' aria-labelledby='jqgh_"+r.id+"_"+j.name+"' value='"+(void 0!==i.defaultValue?i.defaultValue:"")+"'/>"),P.append(x),j.createColumnIndex&&i.generateDatalist){var U="dl_"+b(j.name),Y=n.jqGrid("generateDatalistFromColumnIndex",j.name);null!=Y&&0<Y.length&&(x.attr("list",U),P.append(Y.attr("id",U)))}i.attr&&x.attr(i.attr),T.push({elem:x[0],options:i}),!0===l.autosearch&&(l.searchOnEnter?x.keypress(function(e){return 13===(e.charCode||e.keyCode||0)?(k(),!1):this}):x.keydown(function(e){switch(e.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:a&&clearTimeout(a),a=setTimeout(function(){k()},l.autosearchDelay)}}));break;case"custom":P.append("<span style='width:100%;padding:0;box-sizing:border-box;' name='"+(j.index||j.name)+"' id='"+b(j.name)+"'/>");try{if(!$.isFunction(i.custom_element))throw"e1";var X=i.custom_element.call(t,void 0!==i.defaultValue?i.defaultValue:"",i);if(!X)throw"e2";X=$(X).addClass("customelement"),O.find("span[name='"+(j.index||j.name)+"']").append(X)}catch(e){"e1"===e&&o.call(t,u,"function 'custom_element' "+p.nodefined,h),"e2"===e?o.call(t,u,"function 'custom_element' "+p.novalue,h):o.call(t,u,"string"==typeof e?e:e.message,h)}}}I.append(O),I.find(".ui-search-oper .soptclass,.ui-search-clear .clearsearchclass").hover(function(){$(this).addClass(f)},function(){$(this).removeClass(f)}),_.append(I),l.searchOperators||M.hide()}),$(i.hDiv).find(">div>.ui-jqgrid-htable>thead").append(_),$.each(T,function(){jgrid.bindEv.call(t,this.elem,this.options)}),l.searchOperators&&($(".soptclass",_).click(function(e){var i=$(this).offset();!function(e,i,o){$("#sopt_menu").remove(),i=parseInt(i,10),o=parseInt(o,10)+18;var a,d,u=0,h=[],p=$(e).data("soper"),m=$(e).data("colname"),v=$(".ui-jqgrid-view").css("font-size")||"11px",b="<ul id='sopt_menu' class='"+getGuiStyles.call(t,"searchToolbar.menu","ui-search-menu")+"' role='menu' tabindex='0' style='z-index:9999;display:block;font-size:"+v+";left:"+i+"px;top:"+o+"px;'>";if(void 0!==(u=r.iColByName[m])){var y,w,x,C,T,_=c[u],j=$.extend({},_.searchoptions);for(j.sopt||(j.sopt=[],j.sopt[0]="select"===_.stype||"checkbox"===_.stype?"eq":l.defaultSearch),$.each(S,function(){h.push(this.oper)}),null!=D&&$.each(D,function(e){h.push(e)}),u=0;u<j.sopt.length;u++)x=j.sopt[u],-1!==(d=$.inArray(x,h))&&(void 0!==(y=S[d])?(C=l.operands[x],T=y.text):null!=D&&(C=(w=D[x]).operand,T=w.text),a=p===x?g:"",b+='<li class="'+getGuiStyles.call(t,"searchToolbar.menuItem","ui-jqgrid-menu-item "+a)+'" role="presentation"><a class="'+getGuiStyles.call(t,"searchToolbar.menuItemButton","g-menu-item")+'" tabindex="0" role="menuitem" value="'+s(x)+'" data-oper="'+s(C)+'"><table><tr><td style="width:25px">'+s(C)+"</td><td>"+s(T)+"</td></tr></table></a></li>");b+="</ul>",$("body").append(b),$("#sopt_menu > li > a").hover(function(){$(this).addClass(f)},function(){$(this).removeClass(f)}).click(function(){var t=$(this).attr("value"),i=$(this).data("oper");if(n.triggerHandler("jqGridToolbarSelectOper",[t,i,e]),$("#sopt_menu").hide(),$(e).data("soper",t).text(i),!0===l.autosearch){var o=$(e).parent().next().children()[0];($(o).val()||"nu"===t||"nn"===t||0<=$.inArray(t,r.customUnaryOperations))&&k()}})}}(this,i.left,i.top),e.stopPropagation()}),$("body").on("click",function(e){"soptclass"!==e.target.className&&$("#sopt_menu").hide()})),$(".clearsearchclass",_).click(function(){var e,t,i=$(this).closest(".ui-search-clear"),n=i.siblings(".ui-search-oper"),o=n.children("a"),s=o.data("soper"),a=parseInt(n.data("colindex"),10),d=i.siblings(".ui-search-input"),u=c[a],h=$.extend({},u.searchoptions||{}),p=h.defaultValue||"";switch(u.stype){case"select":p?d.find("select").val(p):d.find("select")[0].selectedIndex=0;break;case"checkbox":C(d.find("input[type=checkbox]"),-1);break;default:d.find("input").val(p)}("nu"===s||"nn"===s||0<=$.inArray(s,r.customUnaryOperations))&&(e=h.sopt?h.sopt[0]:"select"===u.stype||"checkbox"===u.stype?"eq":l.defaultSearch,t=null!=D&&null!=D[e]?D[e].operand:l.operands[e]||"",o.data("soper",e).text(t)),!0===l.autosearch&&k()}),t.ftoolbar=!0,t.triggerToolbar=k,t.clearToolbar=function(e){var o,s={},a=0;e="boolean"!=typeof e||e,$.each(c,function(){var e,n,l=this,c=$(y(l.name),!0===l.frozen&&!0===r.frozenColumns?i.fhDiv:i.hDiv),d=l.searchoptions||{};switch(void 0!==d.defaultValue&&(e=d.defaultValue),o=l.index||l.name,l.stype){case"checkbox":C(c,-1);break;case"select":if(n=!(0<c.length&&c[0].multiple),c.find("option").each(function(t){if(this.selected=0===t&&n,$(this).val()===e)return!(this.selected=!0)}),void 0!==e)s[o]=e,a++;else try{delete r.postData[o]}catch(l){}break;case"text":if(c.val(e||""),void 0!==e)s[o]=e,a++;else try{delete r.postData[o]}catch(l){}break;case"custom":$.isFunction(d.custom_value)&&0<c.length&&"SPAN"===c[0].nodeName.toUpperCase()&&(void 0===e&&(e=""),d.custom_value.call(t,c.children(".customelement").first(),"set",e))}});var d,u=0<a;if(r.resetsearch=!0,l.stringResult||l.searchOperators||"local"===r.datatype){var h='{"groupOp":"'+l.groupOp+'","rules":[',p=0;$.each(s,function(e,t){0<p&&(h+=","),h+='{"field":"'+e+'",',h+='"op":"eq",',h+='"data":"'+(t+="").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',p++}),h+="]}",r.postData[l.sFilter]=h,$.each([l.sField,l.sValue,l.sOper],function(e,t){r.postData.hasOwnProperty(t)&&delete r.postData[t]})}else $.extend(r.postData,s);r.searchurl&&(d=r.url,n.jqGrid("setGridParam",{url:r.searchurl}));var f="stop"===n.triggerHandler("jqGridToolbarBeforeClear");!f&&$.isFunction(l.beforeClear)&&(f=l.beforeClear.call(t)),f||e&&n.jqGrid("setGridParam",{search:u}).trigger("reloadGrid",[$.extend({page:1},l.reloadGridResetOptions||{})]),d&&n.jqGrid("setGridParam",{url:d}),n.triggerHandler("jqGridToolbarAfterClear"),$.isFunction(l.afterClear)&&l.afterClear.call(t)},t.toggleToolbar=function(){var e=$("tr.ui-search-toolbar",i.hDiv),t=!0===r.frozenColumns&&$("tr.ui-search-toolbar",i.fhDiv);"none"===e.css("display")?(e.show(),t&&t.show()):(e.hide(),t&&t.hide()),!0===r.frozenColumns&&(n.jqGrid("destroyFrozenColumns"),n.jqGrid("setFrozenColumns"))},!0===r.frozenColumns&&(n.jqGrid("destroyFrozenColumns"),n.jqGrid("setFrozenColumns")),n.on("jqGridRefreshFilterValues.filterToolbar"+(l.loadFilterDefaults?" jqGridAfterLoadComplete.filterToolbar":""),function(){var e,i,n,o,s,a,c,d=x(!0)||{};if(l.stringResult||l.searchOperators||"local"===r.datatype||!r.search){for(e in d)if(d.hasOwnProperty(e)&&(i=d[e],a=(n=$(y(e))).closest("th.ui-th-column"),0<n.length&&0<a.length)){if(c=(r.colModel[a[0].cellIndex]||{}).searchoptions||{},"SELECT"===n[0].tagName.toUpperCase()&&n[0].multiple)n.val(i.data.split(r.inFilterSeparator||","));else if(n.is("input[type=checkbox]")){var u=w(c);C(n,i.data===u.on?1:i.data===u.off?0:-1)}else if(0<n.find(".customelement").length&&$.isFunction(c.custom_value)){var h=c.custom_value.call(t,n.find(".customelement").first(),"get");""===i.data&&void 0!==c.defaultValue&&(i.data=c.defaultValue),void 0===h&&(h=""),i.data!==h&&String(i.data)!==String(h)&&c.custom_value.call(t,n.find(".customelement").first(),"set",i.data)}else""===i.data&&void 0!==c.defaultValue&&(i.data=c.defaultValue),$.trim(n.val())!==String(i.data)&&n.val(i.data);(o=n.closest(".ui-search-input").siblings(".ui-search-oper").children(".soptclass")).data("soper",i.op),o.text(l.operands[i.op]||(r.customSortOperations[i.op]||{}).operand)}for(s=0;s<r.colModel.length;s++)e=r.colModel[s].name,d.hasOwnProperty(e)||$(y(e)).val("")}})}})},destroyFilterToolbar:function(){return this.each(function(){var e=this;e.ftoolbar&&(e.triggerToolbar=null,e.clearToolbar=null,e.toggleToolbar=null,e.ftoolbar=!1,$(e.grid.hDiv).find("table thead tr.ui-search-toolbar").remove(),!0===e.p.frozenColumns&&$(e).jqGrid("destroyFrozenColumns").jqGrid("setFrozenColumns"))})},destroyGroupHeader:function(e){return void 0===e&&(e=!0),this.each(function(){var t,i,n,r,o,s=this.grid,a=this.p.colModel,l=$("table.ui-jqgrid-htable thead",s.hDiv);if(s){$(this).off(".setGroupHeaders");var c=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),d=s.headers;for(t=0,i=d.length;t<i;t++){o=a[t].hidden?"none":"",n=$(d[t].el).width(d[t].width).css("display",o);try{n.removeAttr("rowSpan")}catch(t){n.attr("rowSpan",1)}c.append(n),0<(r=n.children("span.ui-jqgrid-resize")).length&&(r[0].style.height=""),n.children("div")[0].style.top=""}$(l).children("tr.ui-jqgrid-labels").remove(),$(l).prepend(c),!0===e&&$(this).jqGrid("setGridParam",{groupHeader:null})}})},setGroupHeaders:function(e){return e=$.extend({useColSpanStyle:!1,applyLabelClasses:!0,groupHeaders:[]},e||{}),this.each(function(){this.p.groupHeader=e;var t,i,n,r,o,s,a,l,c,d,u,h,p,f,g=this,m=0,v=g.p,b=v.colModel,y=b.length,w=g.grid.headers,x=$("table.ui-jqgrid-htable",g.grid.hDiv),C=jgrid.isCellClassHidden,k=x.children("thead").children("tr.ui-jqgrid-labels"),S=k.last().addClass("jqg-second-row-header"),D=x.children("thead"),T=x.find(".jqg-first-row-header");void 0===T[0]?T=$("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):T.empty();var _=function(e,t){var i;for(i=0;i<t.length;i++)if(t[i].startColumnName===e)return t[i];return 0};for($(g).prepend(D),n=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header"),t=0;t<y;t++)if(o=w[t].el,s=$(o),i=b[t],a={height:"0",width:w[t].width+"px",display:i.hidden?"none":""},$("<th>",{role:"gridcell"}).css(a).addClass("ui-first-th-"+v.direction+(e.applyLabelClasses?" "+(i.labelClasses||""):"")).appendTo(T),o.style.width="",f=getGuiStyles.call(g,"colHeaders","ui-th-column-header ui-th-"+v.direction+" "+(e.applyLabelClasses&&i.labelClasses||"")),c=_(i.name,e.groupHeaders)){for(d=c.numberOfColumns,u=c.titleText,l=h=0;l<d&&t+l<y;l++)b[t+l].hidden||C(b[t+l].classes)||h++;r=$("<th>").addClass(f).html(u||"&nbsp;"),0<h&&r.attr("colspan",String(h)),v.headertitles&&r.attr("title",r.text()),0===h&&r.hide(),s.before(r),n.append(o),m=d-1}else 0===m?e.useColSpanStyle?s.attr("rowspan",k.length+1):($("<th>").addClass(f).css({display:i.hidden?"none":"","border-top":"0 none"}).insertBefore(s),n.append(o)):(n.append(o),m--);(p=$(g).children("thead")).prepend(T),n.insertAfter(S),x.prepend(p),$(g).triggerHandler("jqGridAfterSetGroupHeaders")})},getNumberOfFrozenColumns:function(){var e=this;if(0===e.length)return 0;var t,i=(e=e[0]).p.colModel,n=i.length,r=-1;for(t=0;t<n&&!0===i[t].frozen;t++)r=t;return r+1},setFrozenColumns:function(e){return e=e||{},this.each(function(){var t=this,i=$(t),n=t.p,r=t.grid;if(r&&null!=n&&!0!==n.frozenColumns){var o,s,a=n.colModel,l=a.length,c=-1,d=!1,u=[],h=jqID(n.id),p=getGuiStyles.call(t,"states.hover");if(!0!==n.subGrid&&!0!==n.treeGrid&&!n.scroll){for(o=0;o<l&&!0===a[o].frozen;o++)d=!0,c=o,u.push("#jqgh_"+h+"_"+jqID(a[o].name));if(n.sortable){s=$(r.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels");try{s.sortable("destroy")}catch(s){}i.jqGrid("setGridParam",{sortable:{options:{items:0<u.length?">th:not(:has("+u.join(",")+"),:hidden)":">th:not(:hidden)"}}}),i.jqGrid("sortableColumns",s)}if(0<=c&&d){var f=n.caption?$(r.cDiv).outerHeight():0,g=$(".ui-jqgrid-htable",n.gView).height();n.toppager&&(f+=$(r.topDiv).outerHeight()),!0===n.toolbar[0]&&"bottom"!==n.toolbar[1]&&(f+=$(r.uDiv).outerHeight()),r.fhDiv=$("<div style='position:absolute;overflow:hidden;"+("rtl"===n.direction?"right:0;border-top-left-radius:0;":"left:0;border-top-right-radius:0;")+"top:"+f+"px;height:"+g+"px;' class='"+getGuiStyles.call(t,"hDiv","frozen-div ui-jqgrid-hdiv")+"'></div>"),r.fbDiv=$("<div style='position:absolute;overflow:hidden;"+("rtl"===n.direction?"right:0;":"left:0;")+"top:"+(parseInt(f,10)+parseInt(g,10)+1)+"px;overflow:hidden;' class='frozen-bdiv ui-jqgrid-bdiv'></div>"),$(n.gView).append(r.fhDiv);var m=$(".ui-jqgrid-htable",n.gView).clone(!0),v=m[0].tHead.rows;if(n.groupHeader){$(v[0].cells).filter(":gt("+c+")").remove(),$(v).filter(".jqg-third-row-header").each(function(){$(this).children("th[id]").each(function(){var e,i=$(this).attr("id");i&&i.substr(0,t.id.length+1)===t.id+"_"&&(e=i.substr(t.id.length+1),n.iColByName[e]>c&&$(this).remove())})});var b,y=-1,w=-1;$(v).filter(".jqg-second-row-header").children("th").each(function(){if(b=parseInt($(this).attr("colspan")||1,10),1<parseInt($(this).attr("rowspan")||1,10)?(y++,w++):b&&(y+=b,w++),y===c)return!1}),y!==c&&(w=c),$(v).filter(".jqg-second-row-header,.ui-search-toolbar").each(function(){$(this).children(":gt("+w+")").remove()})}else $(v).each(function(){$(this).children(":gt("+c+")").remove()});if($(m).width(1),$(r.fhDiv).append(m).scroll(function(){this.scrollLeft=0}),n.footerrow){var x=$(".ui-jqgrid-bdiv",n.gView).height();r.fsDiv=$("<div style='position:absolute;"+("rtl"===n.direction?"right:0;":"left:0;")+"top:"+(parseInt(f,10)+parseInt(g,10)+parseInt(x,10)+1)+"px;' class='frozen-sdiv ui-jqgrid-sdiv'></div>"),$(n.gView).append(r.fsDiv);var C=$(".ui-jqgrid-ftable",n.gView).clone(!0);$("tr",C).each(function(){$("td:gt("+c+")",this).remove()}),$(C).width(1),$(r.fsDiv).append(C)}$(n.gView).append(r.fbDiv),$(r.bDiv).scroll(function(){$(r.fbDiv).scrollTop($(this).scrollTop())}),$(r.fbDiv).on("mousewheel.setFrozenColumns DOMMouseScroll.setFrozenColumns",function(i){r.bDiv.scrollTop+=$.isFunction(e.mouseWheel)?e.mouseWheel.call(t,i):"mousewheel"===i.type?-i.originalEvent.wheelDelta/10:6*i.originalEvent.detail}),!0===n.hoverrows&&$(n.idSel).off("mouseover.jqGrid mouseout.jqGrid");var k=function(e,t){var i=e.height();1<=Math.abs(i-t)&&0<t&&(e.height(t),i=e.height(),1<=Math.abs(t-i)&&e.height(t+Math.round(t-i)))},S=function(e,t){var i=e.width();1<=Math.abs(i-t)&&(e.width(t),i=e.width(),1<=Math.abs(t-i)&&e.width(t+Math.round(t-i)))},D=function(e,t,i,r){var s,a,l,c,d,u,h,p,f,g,m,v,b=$(t).position().top;if(null!=e&&0<e.length){if(e[0].scrollTop=t.scrollTop,e.css("rtl"===n.direction?{top:b,right:0}:{top:b,left:0}),l=e.children("table").children("thead").children("tr"),0===(c=$(t).children("div").children("table").children("thead").children("tr")).length&&0<e.children("table").length&&(l=$(e.children("table")[0].rows),c=$($(t).children("div").children("table")[0].rows)),g=0<(a=Math.min(l.length,c.length))?$(l[0]).position().top:0,m=0<a?$(c[0]).position().top:0,0<=i)for(0<=r&&(a=Math.min(r+1,a)),s=i;s<a;s++)if("none"!==(d=$(c[s])).css("display")&&d.is(":visible")){if(b=d.position().top,h=(u=$(l[s])).position().top,p=d.height(),null!=n.groupHeader&&n.groupHeader.useColSpanStyle)for(v=d[0].cells,o=0;o<v.length;o++)null!=(f=v[o])&&"TH"===f.nodeName.toUpperCase()&&(p=Math.max(p,$(f).height()));k(u,p+(b-m)+(g-h))}k(e,t.clientHeight)}},T={resizeDiv:!0,resizedRows:{iRowStart:0,iRowEnd:-1}},_={header:T,resizeFooter:!0,body:T};i.on("jqGridAfterGridComplete.setFrozenColumns",function(){$(n.idSel+"_frozen").remove(),$(r.fbDiv).height(r.hDiv.clientHeight);var e=$(this).clone(!0),t=e[0].rows,o=i[0].rows;if($(t).filter("tr[role=row]").each(function(){$(this.cells).filter("td[role=gridcell]:gt("+c+")").remove()}),r.fbRows=t,e.width(1).attr("id",n.id+"_frozen"),e.appendTo(r.fbDiv),!0===n.hoverrows){var s=function(e,t,i){$(e)[t](p),$(i[e.rowIndex])[t](p)};$(t).filter(".jqgrow").hover(function(){s(this,"addClass",o)},function(){s(this,"removeClass",o)}),$(o).filter(".jqgrow").hover(function(){s(this,"addClass",t)},function(){s(this,"removeClass",t)})}D(r.fhDiv,r.hDiv,0,-1),D(r.fbDiv,r.bDiv,0,-1),r.sDiv&&D(r.fsDiv,r.sDiv,0,-1)});var j=function(e){$(r.fbDiv).scrollTop($(r.bDiv).scrollTop()),e.header.resizeDiv&&D(r.fhDiv,r.hDiv,e.header.resizedRows.iRowStart,e.header.resizedRows.iRowEnd),e.body.resizeDiv&&D(r.fbDiv,r.bDiv,e.body.resizedRows.iRowStart,e.body.resizedRows.iRowEnd),e.resizeFooter&&r.sDiv&&e.resizeFooter&&D(r.fsDiv,r.sDiv,0,-1);var t=r.fhDiv[0].clientWidth;e.header.resizeDiv&&null!=r.fhDiv&&1<=r.fhDiv.length&&k($(r.fhDiv),r.hDiv.clientHeight),e.body.resizeDiv&&null!=r.fbDiv&&0<r.fbDiv.length&&S($(r.fbDiv),t),e.resizeFooter&&null!=r.fsDiv&&0<=r.fsDiv.length&&S($(r.fsDiv),t)};$(n.gBox).on("resizestop.setFrozenColumns",function(){setTimeout(function(){j(_)},50)}),i.on("jqGridInlineEditRow.setFrozenColumns jqGridInlineAfterRestoreRow.setFrozenColumns jqGridInlineAfterSaveRow.setFrozenColumns jqGridAfterEditCell.setFrozenColumns jqGridAfterRestoreCell.setFrozenColumns jqGridAfterSaveCell.setFrozenColumns jqGridResizeStop.setFrozenColumns",function(e,t){var n=i.jqGrid("getInd",t);j({header:{resizeDiv:!1,resizedRows:{iRowStart:-1,iRowEnd:-1}},resizeFooter:!0,body:{resizeDiv:!0,resizedRows:{iRowStart:n,iRowEnd:n}}})}),i.on("jqGridResizeStop.setFrozenColumns",function(){j(_)}),i.on("jqGridResetFrozenHeights.setFrozenColumns",function(e,t){j(t||_)}),r.hDiv.loading||setTimeout(function(){i.triggerHandler("jqGridAfterGridComplete")},0),n.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){var e=$(this),t=this.grid,i=this.p,n=jqID(i.id);if(t&&!0===i.frozenColumns){if($(t.fhDiv).remove(),$(t.fbDiv).off(".setFrozenColumns"),$(t.fbDiv).remove(),t.fhDiv=null,t.fbDiv=null,t.fbRows=null,i.footerrow&&($(t.fsDiv).remove(),t.fsDiv=null),e.off(".setFrozenColumns"),!0===i.hoverrows){var r,o=getGuiStyles.call(this,"states.hover");e.on("mouseover.jqGrid",function(e){r=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(r).attr("class")&&$(r).addClass(o)}).on("mouseout.jqGrid",function(e){r=$(e.target).closest("tr.jqgrow"),$(r).removeClass(o)})}if(i.frozenColumns=!1,i.sortable){var s=$(t.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels");s.sortable("destroy"),e.jqGrid("setGridParam",{sortable:{options:{items:">th:not(:has(#jqgh_"+n+"_cb,#jqgh_"+n+"_rn,#jqgh_"+n+"_subgrid),:hidden)"}}}),e.jqGrid("sortableColumns",s)}}})}}),$.fn.jqFilter=function(e){if("string"==typeof e){var t=$.fn.jqFilter[e];if(!t)throw"jqFilter - No such method: "+e;var i=$.makeArray(arguments).slice(1);return t.apply(this,i)}var n=$.extend(!0,{filter:null,columns:[],onChange:null,afterRedraw:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[],operands:null,numopts:["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],stropts:["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},jgrid.filter,e||{});return this.each(function(){if(!this.filter){null!==(this.p=n).filter&&void 0!==n.filter||(n.filter={groupOp:n.groupOps[0].op,rules:[],groups:[]});var e,t,i=n.columns.length,r=/msie/i.test(navigator.userAgent)&&!window.opera,o=$.isFunction,s=null!=jgrid.defaults&&o(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert,a=function(){return $("#"+jgrid.jqID(n.id))[0]||null},l=function(e,t){return $(a()).jqGrid("getGuiStyles",e,t||"")},c=function(e){return $(a()).jqGrid("getGridRes","search."+e)},d=function(e){var t=a(),i=t.p.iColByName[e];return void 0!==i?{cm:t.p.colModel[i],iCol:i}:void 0!==(i=t.p.iPropByName[e])?{cm:t.p.additionalProperties[i],iCol:i,isAddProp:!0}:{cm:null,iCol:-1}},u=l("states.error"),h=l("dialog.content");if(n.initFilter=$.extend(!0,{},n.filter),i){for(e=0;e<i;e++)(t=n.columns[e]).stype?t.inputtype=t.stype:t.inputtype||(t.inputtype="text"),t.sorttype?t.searchtype=t.sorttype:t.searchtype||(t.searchtype="string"),void 0===t.hidden&&(t.hidden=!1),t.label||(t.label=t.name),t.cmName=t.name,t.index&&(t.name=t.index),t.hasOwnProperty("searchoptions")||(t.searchoptions={}),t.hasOwnProperty("searchrules")||(t.searchrules={});n.showQuery&&$(this).append("<table class='queryresult "+h+"' style='display:block;max-width:440px;border:0px none;' dir='"+n.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var p=function(e,t){var i=[!0,""],r=a();if(o(t.searchrules))i=t.searchrules.call(r,e,t);else if(jgrid&&jgrid.checkValues)try{i=jgrid.checkValues.call(r,e,-1,t.searchrules,t.label)}catch(e){}i&&i.length&&!1===i[0]&&(n.error=!i[0],n.errmsg=i[1])};this.onchange=function(){return n.error=!1,n.errmsg="",!!o(n.onChange)&&n.onChange.call(a(),n,this)},this.reDraw=function(){$("table.group:first",this).remove();var e=this.createTableForGroup(n.filter,null);$(this).append(e),o(n.afterRedraw)&&n.afterRedraw.call(a(),n,this)},this.createTableForGroup=function(e,t){var i,r=this,o=$("<table class='"+l("searchDialog.operationGroup","group")+"' style='border:0px none;'><tbody></tbody></table>"),s="left";"rtl"===n.direction&&(s="right",o.attr("dir","rtl")),null===t&&o.append("<tr class='error' style='display:none;'><th colspan='5' class='"+u+"' align='"+s+"'></th></tr>");var a=$("<tr></tr>");o.append(a);var d=$("<th colspan='5' align='"+s+"'></th>");if(a.append(d),!0===n.ruleButtons){var h=$("<select class='"+l("searchDialog.operationSelect","opsel")+"'></select>");d.append(h);var p,f="";for(i=0;i<n.groupOps.length;i++)p=e.groupOp===r.p.groupOps[i].op?" selected='selected'":"",f+="<option value='"+r.p.groupOps[i].op+"'"+p+">"+r.p.groupOps[i].text+"</option>";h.append(f).on("change",function(){e.groupOp=$(h).val(),r.onchange()})}var g,m,v,b="<span></span>";if(n.groupButton&&(b=$("<input type='button' value='+ {}' title='"+c("addGroupTitle")+"' class='"+l("searchDialog.addGroupButton","add-group")+"'/>")).on("click",function(){return void 0===e.groups&&(e.groups=[]),e.groups.push({groupOp:n.groupOps[0].op,rules:[],groups:[]}),r.reDraw(),r.onchange(),!1}),d.append(b),!0===n.ruleButtons){var y,w=$("<input type='button' value='+' title='"+c("addRuleTitle")+"' class='"+l("searchDialog.addRuleButton","add-rule ui-add")+"'/>");w.on("click",function(){var t,n,o;for(void 0===e.rules&&(e.rules=[]),i=0;i<r.p.columns.length;i++)if(t=void 0===r.p.columns[i].search||r.p.columns[i].search,n=!0===r.p.columns[i].hidden,!0===r.p.columns[i].searchoptions.searchhidden&&t||t&&!n){y=r.p.columns[i];break}return o=y.searchoptions.sopt?y.searchoptions.sopt:r.p.sopt?r.p.sopt:-1!==$.inArray(y.searchtype,r.p.strarr)?r.p.stropts:r.p.numopts,e.rules.push({field:y.name,op:o[0],data:""}),r.reDraw(),!1}),d.append(w)}if(null!==t){var x=$("<input type='button' value='-' title='"+c("deleteGroupTitle")+"' class='"+l("searchDialog.deleteGroupButton","delete-group")+"'/>");d.append(x),x.on("click",function(){for(i=0;i<t.groups.length;i++)if(t.groups[i]===e){t.groups.splice(i,1);break}return r.reDraw(),r.onchange(),!1})}if(void 0!==e.groups)for(i=0;i<e.groups.length;i++)g=$("<tr></tr>"),o.append(g),m=$("<td class='first'></td>"),g.append(m),(v=$("<td colspan='4'></td>")).append(this.createTableForGroup(e.groups[i],e)),g.append(v);if(void 0===e.groupOp&&(e.groupOp=r.p.groupOps[0].op),void 0!==e.rules)for(i=0;i<e.rules.length;i++)o.append(this.createTableRowForRule(e.rules[i],e));return o},this.createTableRowForRule=function(e,t){var i,s,u,h,p=this,f=a(),g=$("<tr></tr>"),m="";g.append("<td class='first'></td>");var v=$("<td class='columns'></td>");g.append(v);var b,y=$("<select class='"+l("searchDialog.label","selectLabel")+"'></select>"),w=[];v.append(y),y.on("change",function(){e.field=$(y).val();var t,i,n=$(this).parents("tr:first");for(i=0;i<p.p.columns.length;i++)if(p.p.columns[i].name===e.field){t=p.p.columns[i];break}if(t){var a=$.extend({},t.editoptions||{});delete a.readonly,delete a.disabled;var c=$.extend({},a||{},t.searchoptions||{},d(t.cmName),{id:jgrid.randId(),name:t.name,mode:"search"});c.column=t,r&&"text"===t.inputtype&&(c.size||(c.size=10));var u=jgrid.createEl.call(f,t.inputtype,$.extend({},c,c.attr||{}),"",!0,p.p.ajaxSelectOptions||{},!0);$(u).addClass(l("searchDialog.elem","input-elm")),s=c.sopt?c.sopt:p.p.sopt?p.p.sopt:-1!==$.inArray(t.searchtype,p.p.strarr)?p.p.stropts:p.p.numopts;var h,g,m,v="",x=0;for(w=[],$.each(p.p.ops,function(){w.push(this.oper)}),p.p.cops&&$.each(p.p.cops,function(e){w.push(e)}),i=0;i<s.length;i++)g=s[i],-1!==(b=$.inArray(s[i],w))&&(m=void 0!==(h=p.p.ops[b])?h.text:p.p.cops[g].text,0===x&&(e.op=g),v+="<option value='"+g+"'>"+m+"</option>",x++);if($(".selectopts",n).empty().append(v),$(".selectopts",n)[0].selectedIndex=0,jgrid.msie&&jgrid.msiever()<9){var C=parseInt($("select.selectopts",n)[0].offsetWidth,10)+1;$(".selectopts",n).width(C),$(".selectopts",n).css("width","auto")}if($(".data",n).empty().append(u),t.createColumnIndex&&c.generateDatalist){var k="dl_"+u.id,S=$(f).jqGrid("generateDatalistFromColumnIndex",t.name);null!=S&&0<S.length&&($(u).attr("list",k),$(".data",n).append(S.attr("id",k)))}jgrid.bindEv.call(f,u,c),$(".input-elm",n).on("change",c,function(t){var i=t.target,n=t.data.column;e.data=n&&"custom"===n.inputtype&&o(n.searchoptions.custom_value)?n.searchoptions.custom_value.call(f,$(this).find(".customelement").first(),"get"):i.value,$(i).is("input[type=checkbox]")&&!$(i).is(":checked")&&(e.data=$(i).data("offval")),p.onchange()}),setTimeout(function(){e.data=$(u).val(),p.onchange()},0)}});var x,C,k=0;for(i=0;i<p.p.columns.length;i++)x=void 0===p.p.columns[i].search||p.p.columns[i].search,C=!0===p.p.columns[i].hidden,(!0===p.p.columns[i].searchoptions.searchhidden&&x||x&&!C)&&(h="",e.field===p.p.columns[i].name&&(h=" selected='selected'",k=i),m+="<option value='"+p.p.columns[i].name+"'"+h+">"+p.p.columns[i].label+"</option>");y.append(m);var S=$("<td class='operators'></td>");g.append(S),u=n.columns[k],r&&"text"===u.inputtype&&(u.searchoptions.size||(u.searchoptions.size=10));var D=$.extend({},u.editoptions||{});delete D.readonly,delete D.disabled;var T=$.extend({},D,u.searchoptions||{},d(u.cmName),{id:jgrid.randId(),name:u.name,mode:"search"});T.column=u;var _=jgrid.createEl.call(f,u.inputtype,$.extend({},T,T.attr||{}),e.data,!0,p.p.ajaxSelectOptions||{},!0);("nu"===e.op||"nn"===e.op||0<=$.inArray(e.op,f.p.customUnaryOperations))&&($(_).attr("readonly","true"),$(_).attr("disabled","true"));var j,A,F=$("<select class='"+l("searchDialog.operator","selectopts")+"'></select>");for(S.append(F),F.on("change",function(){e.op=$(F).val();var t=$(this).parents("tr:first"),i=$(".input-elm",t)[0];"nu"===e.op||"nn"===e.op||0<=$.inArray(e.op,f.p.customUnaryOperations)?(e.data="","SELECT"!==i.tagName.toUpperCase()&&(i.value=""),i.setAttribute("readonly","true"),i.setAttribute("disabled","true")):("SELECT"===i.tagName.toUpperCase()&&(e.data=i.value),i.removeAttribute("readonly"),i.removeAttribute("disabled")),p.onchange()}),s=u.searchoptions.sopt?u.searchoptions.sopt:p.p.sopt?p.p.sopt:-1!==$.inArray(u.searchtype,p.p.strarr)?p.p.stropts:p.p.numopts,m="",$.each(p.p.ops,function(){w.push(this.oper)}),p.p.cops&&$.each(p.p.cops,function(e){w.push(e)}),i=0;i<s.length;i++)A=s[i],-1!==(b=$.inArray(s[i],w))&&(j=p.p.ops[b],m+="<option value='"+A+"'"+(h=e.op===A?" selected='selected'":"")+">"+(void 0!==j?j.text:p.p.cops[A].text)+"</option>");F.append(m);var N=$("<td class='data'></td>");if(g.append(N),N.append(_),u.createColumnIndex&&u.searchoptions.generateDatalist){var I="dl_"+_.id,O=$(f).jqGrid("generateDatalistFromColumnIndex",u.name);null!=O&&0<O.length&&($(_).attr("list",I),N.append(O.attr("id",I)))}jgrid.bindEv.call(f,_,u.searchoptions),$(_).addClass(l("searchDialog.elem","input-elm")).on("change",function(){e.data="custom"===u.inputtype?u.searchoptions.custom_value.call(f,$(this).find(".customelement").first(),"get"):$(this).val(),$(this).is("input[type=checkbox]")&&!$(this).is(":checked")&&(e.data=$(this).data("offval")),$.isArray(e.data)&&(e.data=e.data.join(n.inFilterSeparator||",")),p.onchange()});var R=$("<td></td>");if(g.append(R),!0===n.ruleButtons){var E=$("<input type='button' value='-' title='"+c("deleteRuleTitle")+"' class='"+l("searchDialog.deleteRuleButton","delete-rule ui-del")+"'/>");R.append(E),E.on("click",function(){for(i=0;i<t.rules.length;i++)if(t.rules[i]===e){t.rules.splice(i,1);break}return p.reDraw(),p.onchange(),!1})}return g},this.getStringForGroup=function(e){var t,i="(";if(void 0!==e.groups)for(t=0;t<e.groups.length;t++){1<i.length&&(i+=" "+e.groupOp+" ");try{i+=this.getStringForGroup(e.groups[t])}catch(e){s(e)}}if(void 0!==e.rules)try{for(t=0;t<e.rules.length;t++)1<i.length&&(i+=" "+e.groupOp+" "),i+=this.getStringForRule(e.rules[t])}catch(e){s(e)}return"()"==(i+=")")?"":i},this.getStringForRule=function(e){var t,i,r,s="",l="",c=e.data;for(t=0;t<n.ops.length;t++)if(n.ops[t].oper===e.op){s=n.operands.hasOwnProperty(e.op)?n.operands[e.op]:"",l=n.ops[t].oper;break}if(""===l&&null!=n.cops)for(r in n.cops)if(n.cops.hasOwnProperty(r)&&(l=r,s=n.cops[r].operand,o(n.cops[r].buildQueryValue)))return n.cops[r].buildQueryValue.call(n,{cmName:e.field,searchValue:c,operand:s});for(t=0;t<n.columns.length;t++)if(n.columns[t].name===e.field){i=n.columns[t];break}return null==i?"":("bw"!==l&&"bn"!==l||(c+="%"),"ew"!==l&&"en"!==l||(c="%"+c),"cn"!==l&&"nc"!==l||(c="%"+c+"%"),"in"!==l&&"ni"!==l||(c=" ("+c+")"),n.errorcheck&&p(e.data,i),-1!==$.inArray(i.searchtype,["int","integer","float","number","currency"])||"nn"===l||"nu"===l||0<=$.inArray(l,a().p.customUnaryOperations)?e.field+" "+s+" "+c:e.field+" "+s+' "'+c+'"')},this.resetFilter=function(){n.filter=$.extend(!0,{},n.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){$("th."+u,this).html(""),$("tr.error",this).hide()},this.showError=function(){$("th."+u,this).html(n.errmsg),$("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(n.filter)},this.toString=function(){var e=this;function t(t){if(e.p.errorcheck){var i,n;for(i=0;i<e.p.columns.length;i++)if(e.p.columns[i].name===t.field){n=e.p.columns[i];break}n&&p(t.data,n)}return t.op+"(item."+t.field+",'"+t.data+"')"}return function e(i){var n,r="(";if(void 0!==i.groups)for(n=0;n<i.groups.length;n++)1<r.length&&("OR"===i.groupOp?r+=" || ":r+=" && "),r+=e(i.groups[n]);if(void 0!==i.rules)for(n=0;n<i.rules.length;n++)1<r.length&&("OR"===i.groupOp?r+=" || ":r+=" && "),r+=t(i.rules[n]);return"()"==(r+=")")?"":r}(n.filter)},this.reDraw(),n.showQuery&&this.onchange(),this.filter=!0}}})},$.extend($.fn.jqFilter,{toSQLString:function(){var e="";return this.each(function(){e=this.toUserFriendlyString()}),e},filterData:function(){var e;return this.each(function(){e=this.p.filter}),e},getParameter:function(e){return void 0!==e&&this.p.hasOwnProperty(e)?this.p[e]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(e){"string"==typeof e&&(e=$.parseJSON(e)),this.each(function(){this.p.filter=e,this.reDraw(),this.onchange()})}});var xmlJsonClass={xml2json:function(e,t){9===e.nodeType&&(e=e.documentElement);var i=this.removeWhite(e),n=this.toObj(i),r=this.toJson(n,e.nodeName,"\t");return"{\n"+t+(t?r.replace(/\t/g,t):r.replace(/\t|\n/g,""))+"\n}"},json2xml:function(e,t){var i,n=function(e,t,i){var r,o,s,a,l="";if(e instanceof Array)if(0===e.length)l+=i+"<"+t+">__EMPTY_ARRAY_</"+t+">\n";else for(r=0,o=e.length;r<o;r+=1)l+=i+n(e[r],t,i+"\t")+"\n";else if("object"==typeof e){for(a in s=!1,l+=i+"<"+t,e)e.hasOwnProperty(a)&&("@"===a.charAt(0)?l+=" "+a.substr(1)+'="'+e[a].toString()+'"':s=!0);if(l+=s?">":"/>",s){for(a in e)e.hasOwnProperty(a)&&("#text"===a?l+=e[a]:"#cdata"===a?l+="<![CDATA["+e[a]+"]]>":"@"!==a.charAt(0)&&(l+=n(e[a],a,i+"\t")));l+=("\n"===l.charAt(l.length-1)?i:"")+"</"+t+">"}}else"function"==typeof e?l+=i+"<"+t+"><![CDATA["+e+"]]></"+t+">":(void 0===e&&(e=""),'""'===e.toString()||0===e.toString().length?l+=i+"<"+t+">__EMPTY_STRING_</"+t+">":l+=i+"<"+t+">"+e.toString()+"</"+t+">");return l},r="";for(i in e)e.hasOwnProperty(i)&&(r+=n(e[i],i,""));return t?r.replace(/\t/g,t):r.replace(/\t|\n/g,"")},toObj:function(e){var t,i,n={},r=/function/i,o=0,s=0,a=!1;if(1===e.nodeType){if(e.attributes.length)for(t=0;t<e.attributes.length;t+=1)n["@"+e.attributes[t].nodeName]=(e.attributes[t].nodeValue||"").toString();if(e.firstChild){for(i=e.firstChild;i;i=i.nextSibling)1===i.nodeType?a=!0:3===i.nodeType&&i.nodeValue.match(/[^ \f\n\r\t\v]/)?o+=1:4===i.nodeType&&(s+=1);if(a)if(o<2&&s<2)for(this.removeWhite(e),i=e.firstChild;i;i=i.nextSibling)3===i.nodeType?n["#text"]=this.escape(i.nodeValue):4===i.nodeType?r.test(i.nodeValue)?n[i.nodeName]=[n[i.nodeName],i.nodeValue]:n["#cdata"]=this.escape(i.nodeValue):n[i.nodeName]?n[i.nodeName]instanceof Array?n[i.nodeName][n[i.nodeName].length]=this.toObj(i):n[i.nodeName]=[n[i.nodeName],this.toObj(i)]:n[i.nodeName]=this.toObj(i);else e.attributes.length?n["#text"]=this.escape(this.innerXml(e)):n=this.escape(this.innerXml(e));else if(o)e.attributes.length?n["#text"]=this.escape(this.innerXml(e)):"__EMPTY_ARRAY_"===(n=this.escape(this.innerXml(e)))?n="[]":"__EMPTY_STRING_"===n&&(n="");else if(s)if(1<s)n=this.escape(this.innerXml(e));else for(i=e.firstChild;i;i=i.nextSibling){if(r.test(e.firstChild.nodeValue)){n=e.firstChild.nodeValue;break}n["#cdata"]=this.escape(i.nodeValue)}}e.attributes.length||e.firstChild||(n=null)}else 9===e.nodeType?n=this.toObj(e.documentElement):(null!=$.jgrid&&null!=$.jgrid.defaults&&$.isFunction($.jgrid.defaults.fatalError)?$.jgrid.defaults.fatalError:alert)("unhandled node type: "+e.nodeType);return n},toJson:function(e,t,i,n){void 0===n&&(n=!0);var r,o,s,a=t?'"'+t+'"':"",l="\t",c="\n",d=[],u=[];if(n||(c=l=""),"[]"===e)a+=t?":[]":"[]";else if(e instanceof Array){for(o=0,r=e.length;o<r;o+=1)d[o]=this.toJson(e[o],"",i+l,n);a+=(t?":[":"[")+(1<d.length?c+i+l+d.join(","+c+i+l)+c+i:d.join(""))+"]"}else if(null===e)a+=(t&&":")+"null";else if("object"==typeof e){for(s in e)e.hasOwnProperty(s)&&(u[u.length]=this.toJson(e[s],s,i+l,n));a+=(t?":{":"{")+(1<u.length?c+i+l+u.join(","+c+i+l)+c+i:u.join(""))+"}"}else a+="string"==typeof e?(t&&":")+'"'+e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"':(t&&":")+e.toString();return a},innerXml:function(e){var t,i="",n=function(e){var t,i,r="";if(1===e.nodeType){for(r+="<"+e.nodeName,t=0;t<e.attributes.length;t+=1)r+=" "+e.attributes[t].nodeName+'="'+(e.attributes[t].nodeValue||"").toString()+'"';if(e.firstChild){for(r+=">",i=e.firstChild;i;i=i.nextSibling)r+=n(i);r+="</"+e.nodeName+">"}else r+="/>"}else 3===e.nodeType?r+=e.nodeValue:4===e.nodeType&&(r+="<![CDATA["+e.nodeValue+"]]>");return r};if(e.hasOwnProperty("innerHTML"))i=e.innerHTML;else for(t=e.firstChild;t;t=t.nextSibling)i+=n(t);return i},escape:function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();for(var t,i=e.firstChild;i;)3===i.nodeType?i.nodeValue.match(/[^ \f\n\r\t\v]/)?i=i.nextSibling:(t=i.nextSibling,e.removeChild(i),i=t):(1===i.nodeType&&this.removeWhite(i),i=i.nextSibling);return e}};window.xmlJsonClass=xmlJsonClass;var jgridFeedback=jgrid.feedback,fullBoolFeedback=jgrid.fullBoolFeedback,builderFmButon=jgrid.builderFmButon,addFormIcon=function(e,t,i){var n;!0===t[0]&&(n="<span class='"+mergeCssClasses("fm-button-icon",i,t[2])+"'></span>","right"===t[1]?e.addClass("fm-button-icon-right").append(n):e.addClass("fm-button-icon-left").prepend(n))},getGuiStateStyles=function(e){return getGuiStyles.call(this,"states."+e)},hideRowsWithoutVissibleCells=function(e){e.find("tr[data-rowpos]").each(function(){var e=0;$(this).children("td").each(function(){"hidden"!==$(this).css("visibility")&&e++}),e||$(this).hide()})},isEmptyString=function(e){return"&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0)};jgrid.extend({searchGrid:function(e){return this.each(function(){var t=this,i=$(t),n=t.p;if(t.grid&&null!=n){var r=$.extend(!0,{drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:n.prmNames.filters,loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,removemodal:!0,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE",in:"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"IS NOT NULL"}},base.getGridRes.call(i,"search"),jgrid.search||{},n.searching||{},e||{}),o="fbox_"+n.id,s=r.commonIconClass,a={themodal:"searchmod"+o,modalhead:"searchhd"+o,modalcontent:"searchcnt"+o,resizeAlso:o},l="#"+jqID(a.themodal),c=n.gBox,d=n.gView,u=$.each,h=n.postData[r.sFilter],p=function(){var e=$.makeArray(arguments);return e.unshift("Search"),e.unshift("Filter"),e.unshift(r),jgridFeedback.apply(t,e)},f=function(){jgrid.hideModal(l,{gb:c,jqm:r.jqModal,onClose:r.onClose,removemodal:r.removemodal})};if("string"==typeof h&&(h=""!==$.trim(h)?$.parseJSON(h):void 0),$(l).remove(),void 0!==$(l)[0])_($("#fbox_"+jqID(n.id)));else{var g=$("<div><div id='"+o+"' class='"+getGuiStyles.call(t,"dialog.body","searchFilter")+"' style='overflow:auto'></div></div>").insertBefore(d);"rtl"===n.direction&&g.attr("dir","rtl");var m,v,b="",y="",w=!1,x=-1,C=$.extend([],n.colModel),k=builderFmButon.call(t,o+"_search",r.Find,mergeCssClasses(s,r.findDialogIcon),"right"),S=builderFmButon.call(t,o+"_reset",r.Reset,mergeCssClasses(s,r.resetDialogIcon),"left");if(r.showQuery&&(b=builderFmButon.call(t,o+"_query","Query",mergeCssClasses(s,r.queryDialogIcon),"left")+"&#160;"),r.searchForAdditionalProperties&&u(n.additionalProperties,function(){var e="string"==typeof this?{name:this}:this;e.label||(e.label=e.name),e.isAddProp=!0,C.push(e)}),r.columns.length?(C=r.columns,m=C[x=0].index||C[0].name):u(C,function(e,t){if(t.label||(t.label=t.isAddProp?t.name:n.colNames[e]),!w){var i=void 0===t.search||t.search,r=!0===t.hidden;(t.searchoptions&&!0===t.searchoptions.searchhidden&&i||i&&!r)&&(w=!0,m=t.index||t.name,x=e)}}),!h&&m||!1===r.multipleSearch){var D="eq";0<=x&&C[x].searchoptions&&C[x].searchoptions.sopt?D=C[x].searchoptions.sopt[0]:r.sopt&&r.sopt.length&&(D=r.sopt[0]),h={groupOp:"AND",rules:[{field:m,op:D,data:""}]}}w=!1,r.tmplNames&&r.tmplNames.length&&(w=!0,y=r.tmplLabel,y+="<select class='ui-template'>",y+="<option value='default'>Default</option>",u(r.tmplNames,function(e,t){y+="<option value='"+e+"'>"+t+"</option>"}),y+="</select>"),v="<div class='"+getGuiStyles.call(t,"dialog.footer")+"'><table class='EditTable' style='border:0px none;margin-top:5px' id='"+o+"_2'><tbody><tr><td colspan='2'><hr class='"+getGuiStyles.call(t,"dialog.hr")+"' style='margin:1px'/></td></tr><tr><td class='EditButton EditButton-"+n.direction+"'  style='float:"+("rtl"===n.direction?"right":"left")+";'>"+S+y+"</td><td class='EditButton EditButton-"+n.direction+"'>"+b+k+"</td></tr></tbody></table></div>",o=jqID(o),r.gbox=c,r.height="auto",$(o="#"+o).jqFilter({columns:C,filter:r.loadDefaults?h:null,showQuery:r.showQuery,errorcheck:r.errorcheck,sopt:r.sopt,groupButton:r.multipleGroup,ruleButtons:r.multipleSearch,afterRedraw:r.afterRedraw,ops:r.odata,cops:n.customSortOperations,operands:r.operands,ajaxSelectOptions:n.ajaxSelectOptions,groupOps:r.groupOps,onChange:function(e,i){e.showQuery&&$(".query",i).text(i.toUserFriendlyString()),fullBoolFeedback.call(t,r.afterChange,"jqGridFilterAfterChange",$(o),r,e,i)},direction:n.direction,id:n.id}),g.append(v),w&&r.tmplFilters&&r.tmplFilters.length&&$(".ui-template",g).on("change",function(){var e=$(this).val();return"default"===e?$(o).jqFilter("addFilter",h):$(o).jqFilter("addFilter",r.tmplFilters[parseInt(e,10)]),!1}),!0===r.multipleGroup&&(r.multipleSearch=!0),p("onInitialize",$(o)),r.layer?jgrid.createModal.call(t,a,g,r,d,$(c)[0],"#"+jqID(r.layer),{position:"relative"}):jgrid.createModal.call(t,a,g,r,d,$(c)[0]),(r.searchOnEnter||r.closeOnEscape)&&$(l).keydown(function(e){var t=$(e.target);return!r.searchOnEnter||13!==e.which||t.hasClass("add-group")||t.hasClass("add-rule")||t.hasClass("delete-group")||t.hasClass("delete-rule")||t.hasClass("fm-button")&&t.is("[id$=_query]")?r.closeOnEscape&&27===e.which?($("#"+jqID(a.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1):void 0:($(o+"_search").click(),!1)}),b&&$(o+"_query").on("click",function(){return $(".queryresult",g).toggle(),!1}),void 0===r.stringResult&&(r.stringResult=r.multipleSearch),$(o+"_search").on("click",function(){var e,s={},a="",l=$(o),c=l.find(".input-elm");if(c.filter(":focus")&&(c=c.filter(":focus")),c.change(),e=l.jqFilter("filterData"),r.errorcheck&&(l[0].hideError(),r.showQuery||l.jqFilter("toSQLString"),l[0].p.error))return l[0].showError(),!1;if(r.stringResult||"local"===n.datatype){try{a=JSON.stringify(e)}catch(e){}"string"==typeof a&&(s[r.sFilter]=a,u([r.sField,r.sValue,r.sOper],function(){s[this]=""}))}else r.multipleSearch?(s[r.sFilter]=e,u([r.sField,r.sValue,r.sOper],function(){s[this]=""})):(s[r.sField]=e.rules[0].field,s[r.sValue]=e.rules[0].data,s[r.sOper]=e.rules[0].op,s[r.sFilter]="");return $.extend(n.postData,s),fullBoolFeedback.call(t,r.onSearch,"jqGridFilterSearch",n.filters)&&(n.search=!0,i.trigger("reloadGrid",[$.extend({page:1},r.reloadGridSearchOptions||{})])),r.closeAfterSearch&&f(),!1}),$(o+"_reset").on("click",function(){var e={},s=$(o);return n.search=!1,!(n.resetsearch=!0)===r.multipleSearch?e[r.sField]=e[r.sValue]=e[r.sOper]="":e[r.sFilter]="",s[0].resetFilter(),w&&$(".ui-template",g).val("default"),$.extend(n.postData,e),fullBoolFeedback.call(t,r.onReset,"jqGridFilterReset")&&i.trigger("reloadGrid",[$.extend({page:1},r.reloadGridResetOptions||{})]),r.closeAfterReset&&f(),!1}),_($(o));var T=getGuiStateStyles.call(t,"hover");$(".fm-button:not(."+getGuiStateStyles.call(t,"disabled").split(" ").join(".")+")",g).hover(function(){$(this).addClass(T)},function(){$(this).removeClass(T)})}}function _(e){p("beforeShow",e)&&($(l).data("onClose",r.onClose),jgrid.viewModal.call(t,l,{gbox:c,jqm:r.jqModal,overlay:r.overlay,modal:r.modal,overlayClass:r.overlayClass,toTop:r.toTop,onHide:function(e){e.w.remove(),e.o&&e.o.remove()}}),p("afterShow",e))}})},editGridRow:function(e,t){return this.each(function(){var i=this,n=$(i),r=i.p;if(i.grid&&null!=r&&e){var o,s,a=r.id,l=base.getGridRes,c=base.setSelection,d=$.extend(!0,{top:0,left:0,width:300,datawidth:"auto",height:"auto",dataheight:"auto",drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",labelswidth:"",savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:getGuiStyles.call(this,"overlay"),removemodal:!0,skipPostTypes:["image","file"],saveui:"enable",savetext:l.call(n,"defaults.savetext")||"Saving..."},l.call(n,"edit"),jgrid.edit,r.formEditing||{},t||{}),u="FrmGrid_"+a,h=u,p="TblGrid_"+a,f="#"+jqID(p),g=f+"_2",m={themodal:"editmod"+a,modalhead:"edithd"+a,modalcontent:"editcnt"+a,resizeAlso:u},v="#"+jqID(m.themodal),b=r.gBox,y=r.colModel,w=r.iColByName,x=1,C=0,k=d.commonIconClass,S=function(){jgrid.hideModal(v,{gb:b,jqm:d.jqModal,onClose:d.onClose,removemodal:d.removemodal})},D=l.call(n,"errors.errcap"),T=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift("AddEdit"),e.unshift(d),jgridFeedback.apply(i,e)},_=getGuiStateStyles.call(i,"hover"),j=getGuiStateStyles.call(i,"disabled"),A=getGuiStateStyles.call(i,"select"),F=getGuiStateStyles.call(i,"active"),N=getGuiStateStyles.call(i,"error");$(v).remove(),u="#"+jqID(u),"new"===e?(e="_empty",s="add",d.caption=d.addCaption):(d.caption=d.editCaption,s="edit");var I=!0;!d.checkOnUpdate||!0!==d.jqModal&&void 0!==d.jqModal||d.modal||(I=!1);var O=isNaN(d.dataheight)?d.dataheight:d.dataheight+"px",R=isNaN(d.datawidth)?d.datawidth:d.datawidth+"px",E=$("<form name='FormPost' id='"+h+"' class='FormGrid' onSubmit='return false;' style='width:"+R+";overflow:auto;position:relative;height:"+O+";'></form>").data("disabled",!1),M=$("<table id='"+p+"' class='EditTable'><tbody></tbody></table>");$(y).each(function(){var e=this.formoptions;x=Math.max(x,e&&e.colpos||0),C=Math.max(C,e&&e.rowpos||0)}),$(E).append(M);var P=$("<tr id='FormError' style='display:none'><td class='"+N+"' colspan='"+2*x+"'>&#160;</td></tr>");if(P[0].rp=0,$(M).append(P),(P=$("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+2*x+"'>"+(d.topinfo||"&#160;")+"</td></tr>"))[0].rp=0,$(M).append(P),T("beforeInitData",E,s)){!function(){var t=jgrid.detectRowEditing.call(i,e);if(null!=t)if("inlineEditing"===t.mode)base.restoreRow.call(n,e);else{var r=t.savedRow,o=i.rows[r.id];base.restoreCell.call(n,r.id,r.ic),$(o.cells[r.ic]).removeClass("edit-cell "+A),$(o).addClass(A).attr({"aria-selected":"true",tabindex:"0"})}}();var L="rtl"===r.direction,q=L?"nData":"pData",z=L?"pData":"nData";!function(e,t,o){var s,l=0,c=[],h=!1,p=$(t),f=String(d.labelswidth)+(!d.labelswidth||isNaN(d.labelswidth)?"":"px"),g="<td class='CaptionTD"+(f?"' style='width:"+f+";":"")+"'>&#160;</td><td class='DataTD'>&#160;</td>",m="";for(s=1;s<=o;s++)m+=g;if("_empty"!==e&&(h=base.getInd.call(n,e)),$(y).each(function(t){var s,a,f,g,v,b=this,y=b.name,w=b.editable,x=!1,C=!1,k="_empty"===e?"addForm":"editForm";switch($.isFunction(w)&&(w=w.call(i,{rowid:e,iCol:t,iRow:h,cmName:y,cm:b,mode:k})),a=!(b.editrules&&!0===b.editrules.edithidden||!0!==b.hidden&&"hidden"!==w),String(w).toLowerCase()){case"hidden":w=!0;break;case"disabled":x=w=!0;break;case"readonly":C=w=!0}if("cb"!==y&&"subgrid"!==y&&!0===w&&"rn"!==y){if(!1===h)g="";else{s=$(i.rows[h].cells[t]);try{g=$.unformat.call(i,s,{rowId:e,colModel:b},t)}catch(t){g=b.edittype&&"textarea"===b.edittype?s.text():s.html()}isEmptyString(g)&&(g="")}var S=$.extend({},b.editoptions||{},{id:y,name:y,rowId:e,mode:k,cm:b,iCol:t}),D=$.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},b.formoptions||{}),T=parseInt(D.rowpos,10)||l+1,_=parseInt(2*(parseInt(D.colpos,10)||1),10);if("_empty"===e&&S.defaultValue&&(g=$.isFunction(S.defaultValue)?S.defaultValue.call(i):S.defaultValue),b.edittype||(b.edittype="text"),r.autoEncodeOnEdit&&(g=jgrid.oldDecodePostedData(g)),v=jgrid.createEl.call(i,b.edittype,S,g,!1,$.extend({},jgrid.ajaxOptions,r.ajaxSelectOptions||{})),(d.checkOnSubmit||d.checkOnUpdate)&&(d._savedData[y]=g),$(v).addClass("FormElement"),-1<$.inArray(b.edittype,["text","textarea","checkbox","password","select"])&&$(v).addClass(getGuiStyles.call(i,"dialog.dataField")),f=p.find("tr[data-rowpos="+T+"]"),D.rowabove){var A=$("<tr><td class='contentinfo' colspan='"+2*o+"'>"+D.rowcontent+"</td></tr>");p.append(A),A[0].rp=T}0===f.length&&(f=$("<tr data-rowpos='"+T+"'></tr>").addClass("FormData").attr("id","tr_"+y),$(f).append(m),p.append(f),f[0].rp=T);var F=$("td:eq("+(_-2)+")",f[0]),N=$("td:eq("+(_-1)+")",f[0]);F.html(void 0===D.label?r.colNames[t]:D.label||"&#160;");var I=N[isEmptyString(N.html())?"html":"append"](D.elmprefix);if(I.append(v).append(D.elmsuffix),"INPUT"===v.tagName.toUpperCase()&&b.createColumnIndex&&S.generateDatalist){var O=n.jqGrid("generateDatalistFromColumnIndex",b.name);null!=O&&0<O.length&&($(v).attr("list","dl_"+v.id),I.append(O.attr("id","dl_"+v.id)))}x?(F.addClass(j),N.addClass(j),$(v).prop("readonly",!0),$(v).prop("disabled",!0)):C&&$(v).prop("readonly",!0),"custom"===b.edittype&&$.isFunction(S.custom_value)&&S.custom_value.call(i,$("#"+jqID(y),u),"set",g),jgrid.bindEv.call(i,v,S),a&&F.add(N).css("visibility","hidden"),c[l]=t,l++}}),hideRowsWithoutVissibleCells(p),0<l){var v=$("<tr class='FormData' style='display:none'><td class='CaptionTD'>&#160;</td><td colspan='"+(2*o-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+a+"_id' value='"+e+"'/></td></tr>");v[0].rp=l+999,p.append(v),(d.checkOnSubmit||d.checkOnUpdate)&&(d._savedData[a+"_id"]=e)}}(e,M,x);var H=builderFmButon.call(i,q,"",mergeCssClasses(k,d.prevIcon),"","left"),B=builderFmButon.call(i,z,"",mergeCssClasses(k,d.nextIcon),"","right"),G=builderFmButon.call(i,"sData",d.bSubmit),W=builderFmButon.call(i,"cData",d.bCancel),V="<div class='"+getGuiStyles.call(i,"dialog.footer")+"'><table class='EditTable' id='"+p+"_2'><tbody><tr><td colspan='2'><hr class='"+getGuiStyles.call(i,"dialog.hr")+"' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton navButton-"+r.direction+"'>"+(L?B+H:H+B)+"</td><td class='EditButton EditButton-"+r.direction+"'>"+G+"&#160;"+W+"</td></tr>";if(V+="<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+(d.bottominfo||"&#160;")+"</td></tr>",V+="</tbody></table></div>",0<C){var U=[];$.each($(M)[0].rows,function(e,t){U[e]=t}),U.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),$.each(U,function(e,t){$("tbody",M).append(t)})}d.gbox=b;var Y=!1;!0===d.closeOnEscape&&(d.closeOnEscape=!1,Y=!0);var X=$("<div></div>").append($("<div class='"+getGuiStyles.call(i,"dialog.body")+"'></div>").append(E)).append(V);if(jgrid.createModal.call(i,m,X,d,r.gView,$(b)[0]),d.topinfo&&$(".tinfo",f).show(),d.bottominfo&&$(".binfo",g).show(),V=X=null,$(v).keydown(function(e){var t,i,n=(e.target.tagName||"").toUpperCase();if(!0===$(u).data("disabled"))return!1;if(13===e.which&&"TEXTAREA"!==n){if(i=(t=$(g).find(":focus")).attr("id"),0<t.length&&0<=$.inArray(i,["pData","nData","cData"]))return t.trigger("click"),!1;if(!0===d.savekey[0]&&13===d.savekey[1])return $("#sData",g).trigger("click"),!1}if(!0===d.savekey[0]&&e.which===d.savekey[1]&&"TEXTAREA"!==n)return $("#sData",g).trigger("click"),!1;if(27===e.which)return ie()&&Y&&S(),!1;if(!0===d.navkeys[0]){if("_empty"===$("#id_g",f).val())return!0;if(e.which===d.navkeys[1])return $("#pData",g).trigger("click"),!1;if(e.which===d.navkeys[2])return $("#nData",g).trigger("click"),!1}}),d.checkOnUpdate&&($("a.ui-jqdialog-titlebar-close span",v).removeClass("jqmClose"),$("a.ui-jqdialog-titlebar-close",v).off("click").click(function(){return ie()&&S(),!1})),addFormIcon($("#sData",g),d.saveicon,k),addFormIcon($("#cData",g),d.closeicon,k),d.checkOnSubmit||d.checkOnUpdate){G=builderFmButon.call(i,"sNew",d.bYes),B=builderFmButon.call(i,"nNew",d.bNo),W=builderFmButon.call(i,"cNew",d.bExit);var K=d.zIndex||999;K++,$("<div class='"+d.overlayClass+" jqgrid-overlay confirm' style='z-index:"+K+";display:none;'>&#160;</div><div class='"+getGuiStyles.call(i,"dialog.content","confirm ui-jqconfirm")+"' style='z-index:"+(K+1)+"'>"+d.saveData+"<br/><br/>"+G+B+W+"</div>").insertAfter(u),$("#sNew",v).click(function(){return ee(),$(u).data("disabled",!1),$(".confirm",v).hide(),!1}),$("#nNew",v).click(function(){return $(".confirm",v).hide(),$(u).data("disabled",!1),setTimeout(function(){$(u).find("input,textarea,select,button,object,*[tabindex]").filter(":input:visible:not(:disabled)").first().focus()},0),!1}),$("#cNew",v).click(function(){return $(".confirm",v).hide(),$(u).data("disabled",!1),S(),!1})}T("onInitializeForm",$(u),s),"_empty"!==e&&d.viewPagerButtons?$("#pData,#nData",g).show():$("#pData,#nData",g).hide(),T("beforeShowForm",$(u),s),$(v).data("onClose",d.onClose),jgrid.viewModal.call(i,v,{gbox:b,jqm:d.jqModal,overlay:d.overlay,modal:d.modal,overlayClass:d.overlayClass,toTop:d.toTop,onHide:function(e){e.w.remove(),e.o&&e.o.remove()}}),I||$("."+jqID(d.overlayClass)).click(function(){return ie()&&S(),!1}),$(".fm-button",v).hover(function(){$(this).addClass(_)},function(){$(this).removeClass(_)}),$("#sData",g).click(function(){return o={},$("#FormError",f).hide(),J(),"_empty"===o[a+"_id"]?ee():!0===d.checkOnSubmit&&te(o,d._savedData)?($(u).data("disabled",!0),$(".confirm",v).show()):ee(),!1}),$("#cData",g).click(function(){return ie()&&S(),!1}),$("#nData",g).click(function(){if(!ie())return!1;$("#FormError",f).hide();var e=re();if(e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]){if(!T("onclickPgButtons","next",$(u),e[1][e[0]]))return!1;Q(e[1][e[0]+1],u),c.call(n,e[1][e[0]+1]),T("afterclickPgButtons","next",$(u),e[1][e[0]+1]),ne(e[0]+1,e)}return!1}),$("#pData",g).click(function(){if(!ie())return!1;$("#FormError",f).hide();var e=re();if(-1!==e[0]&&e[1][e[0]-1]){if(!T("onclickPgButtons","prev",$(u),e[1][e[0]]))return!1;if(hasOneFromClasses($("#"+jqID(e[1][e[0]-1])),j))return!1;Q(e[1][e[0]-1],u),c.call(n,e[1][e[0]-1]),T("afterclickPgButtons","prev",$(u),e[1][e[0]-1]),ne(e[0]-1,e)}return!1}),T("afterShowForm",$(u),s);var Z=re();ne(Z[0],Z)}}function J(){return $(f+" > tbody > tr > td .FormElement").each(function(){var e,t,r=$(".customelement",this),s=r.length?r.attr("name"):this.name,a=w[s],c=void 0!==a&&y[a]||{},u=c.editoptions||{};if(r.length&&$.isFunction(u.custom_value)){try{if(o[s]=u.custom_value.call(i,$("#"+jqID(s),f),"get"),void 0===o[s])throw"e1"}catch(e){"e1"===e?jgrid.info_dialog.call(i,D,"function 'custom_value' "+d.msg.novalue,d.bClose):jgrid.info_dialog.call(i,D,e.message,d.bClose)}return!0}switch(t=$(this)[0].type){case"checkbox":var h="string"==typeof u.value?u.value.split(":"):["Yes","No"];o[s]=$(this).is(":checked")?h[0]:h[1];break;case"select-one":o[s]=$("option:selected",this).val();break;case"select-multiple":o[s]=$(this).val(),o[s]=o[s]?o[s].join(","):"";var p=[];$("option:selected",this).each(function(e,t){p[e]=$(t).text()});break;case"date":o[s]=$(this).val(),3===String(o[s]).split("-").length&&(e=(c.formatoptions||{}).newformat||l.call(n,"formatter.date.newformat"),o[s]=jgrid.parseDate.call(n[0],"Y-m-d",o[s],e));break;default:void 0!==t&&$.inArray(t,d.skipPostTypes)<0&&(o[s]=$(this).val())}}),!0}function Q(e,t){var o,s,l,c,u,h=0;(d.checkOnSubmit||d.checkOnUpdate)&&(d._savedData={},d._savedData[a+"_id"]=e);var p=r.colModel;if("_empty"===e)return $(p).each(function(){o=this.name,l=$.extend({},this.editoptions||{}),(s=$("#"+jqID(o),t))&&s.length&&null!==s[0]&&(c="","custom"===this.edittype&&$.isFunction(l.custom_value)?l.custom_value.call(i,s,"set",c):l.defaultValue?(c=$.isFunction(l.defaultValue)?l.defaultValue.call(i):l.defaultValue,"checkbox"===s[0].type?(u=c.toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==u?(s[0].checked=!0,s[0].defaultChecked=!0,s[0].value=c):(s[0].checked=!1,s[0].defaultChecked=!1):s.val(c)):"checkbox"===s[0].type?(s[0].checked=!1,s[0].defaultChecked=!1,c=$(s).data("offval")):s[0].type&&"select"===s[0].type.substr(0,6)?s[0].selectedIndex=0:s.val(c),(!0===d.checkOnSubmit||d.checkOnUpdate)&&(d._savedData[o]=c))}),void $("#id_g",t).val(e);var g=base.getInd.call(n,e,!0);g&&($(g.cells).filter("td[role=gridcell]").each(function(n){var s;if("cb"!==(o=p[n].name)&&"subgrid"!==o&&"rn"!==o&&!0===p[n].editable){try{s=$.unformat.call(i,$(this),{rowId:e,colModel:p[n]},n)}catch(e){s="textarea"===p[n].edittype?$(this).text():$(this).html()}switch(r.autoEncodeOnEdit&&(s=jgrid.oldDecodePostedData(s)),(!0===d.checkOnSubmit||d.checkOnUpdate)&&(d._savedData[o]=s),o="#"+jqID(o),p[n].edittype){case"password":case"text":case"button":case"image":case"textarea":isEmptyString(s)&&(s=""),$(o,t).val(s);break;case"select":var a=s.split(",");a=$.map(a,function(e){return $.trim(e)}),$(o+" option",t).each(function(){var e,t=this,i=$(t),r=$.trim(i.val());if(p[n].editoptions.multiple||a[0]!==r?p[n].editoptions.multiple&&-1<(e=$.inArray(r,a))?(a.splice(e,1),t.selected=!0):t.selected=!1:(a.splice(0,1),t.selected=!0),0===a.length)return!1}),0<a.length&&$(o+" option",t).each(function(){var e,t=$(this),i=$.trim(t.text());if(p[n].editoptions.multiple||$.trim(s)!==i&&a[0]!==i?p[n].editoptions.multiple&&-1<(e=$.inArray(i,a))&&(a.splice(e,1),this.selected=!0):(a.splice(0,1),this.selected=!0),0===a.length)return!1});break;case"checkbox":s=String(s),s=p[n].editoptions&&p[n].editoptions.value?p[n].editoptions.value.split(":")[0]===s:(s=s.toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==s,$(o,t).prop({checked:s,defaultChecked:s});break;case"custom":try{if(!p[n].editoptions||!$.isFunction(p[n].editoptions.custom_value))throw"e1";p[n].editoptions.custom_value.call(i,$(o,t),"set",s)}catch(e){"e1"===e?jgrid.info_dialog.call(i,D,"function 'custom_value' "+d.msg.nodefined,d.bClose):jgrid.info_dialog.call(i,D,e.message,d.bClose)}}h++}}),0<h&&$("#id_g",f).val(e))}function ee(){var t,l,h,p,m,v,b,w,x,C=[!0,"",""],k=C,D={},T=r.prmNames,_=base.getInd.call(n,e),j=!1===_?null:i.rows[_],A=n.triggerHandler("jqGridAddEditBeforeCheckValues",[o,$(u),s]);for(h in A&&"object"==typeof A&&(o=A),_=!1===_?-1:_,$.isFunction(d.beforeCheckValues)&&(A=d.beforeCheckValues.call(i,o,$(u),s))&&"object"==typeof A&&(o=A),o)if(o.hasOwnProperty(h)&&(w=r.iColByName[h],null!=(k=jgrid.checkValues.call(i,o[h],h,void 0,void 0,{oldValue:"_empty"===e?null:base.getCell.call(n,e,w),newValue:o[h],cmName:h,rowid:e,cm:y[w],iCol:w,iRow:_,tr:j,td:null==j?null:j.cells[w],mode:"_empty"===e?"addForm":"editForm"}))&&!0!==k||(k=C),!1===k[0]))break;if(x=d.url||r.editurl,$.each(y,function(e,t){var n=t.name;o.hasOwnProperty(n)&&("date"!==t.formatter||null!=t.formatoptions&&!0===t.formatoptions.sendFormatted||(o[n]=$.unformat.date.call(i,o[n],t)),"clientArray"!==x&&t.editoptions&&!0===t.editoptions.NullIfEmpty&&""===o[n]&&(o[n]="null"))}),k[0]&&(void 0===(D=n.triggerHandler("jqGridAddEditClickSubmit",[d,o,s]))&&$.isFunction(d.onclickSubmit)&&(D=d.onclickSubmit.call(i,d,o,s)||{}),null!=(k=n.triggerHandler("jqGridAddEditBeforeSubmit",[o,$(u),s]))&&!0!==k||(k=C),k[0]&&$.isFunction(d.beforeSubmit)&&(null!=(k=d.beforeSubmit.call(i,o,$(u),s))&&!0!==k||(k=C))),k[0]&&!d.processing){if(d.processing=!0,$("#sData",g).addClass(F),v=d.url||r.editurl,l=T.oper,t="clientArray"===v&&!1!==r.keyName?r.keyName:T.id,o[l]="_empty"===$.trim(o[a+"_id"])?T.addoper:T.editoper,o[l]!==T.addoper?o[t]=o[a+"_id"]:void 0===o[t]&&(o[t]=o[a+"_id"]),delete o[a+"_id"],o=$.extend(o,d.editData,D),!0===r.treeGrid){if(o[l]===T.addoper){p=r.selrow;var N="adjacency"===r.treeGridModel?r.treeReader.parent_id_field:"parent_id";o[N]=p}for(m in r.treeReader)if(r.treeReader.hasOwnProperty(m)&&(b=r.treeReader[m],o.hasOwnProperty(b))){if(o[l]===T.addoper&&"parent_id_field"===m)continue;delete o[b]}}o[t]=jgrid.stripPref(r.idPrefix,o[t]),r.autoEncodeOnEdit&&$.each(o,function(e,t){$.isFunction(t)||(o[e]=jgrid.oldEncodePostedData(t))});var I=$.extend({url:$.isFunction(v)?v.call(i,o[t],s,o,d):v,type:$.isFunction(d.mtype)?d.mtype.call(i,s,d,o[t],o):d.mtype,data:jgrid.serializeFeedback.call(i,$.isFunction(d.serializeEditData)?d.serializeEditData:r.serializeEditData,"jqGridAddEditSerializeEditData",o),complete:function(e,h){if(n.jqGrid("progressBar",{method:"hide",loadtype:d.saveui}),$("#sData",g).removeClass(F),o[t]=$("#id_g",f).val(),300<=e.status&&304!==e.status||0===e.status&&4===e.readyState?(k[0]=!1,k[1]=n.triggerHandler("jqGridAddEditErrorTextFormat",[e,s]),$.isFunction(d.errorTextFormat)?k[1]=d.errorTextFormat.call(i,e,s):k[1]=h+" Status: '"+e.statusText+"'. Error code: "+e.status):(null!=(k=n.triggerHandler("jqGridAddEditAfterSubmit",[e,o,s]))&&!0!==k||(k=C),k[0]&&$.isFunction(d.afterSubmit)&&(null!=(k=d.afterSubmit.call(i,e,o,s))&&!0!==k||(k=C))),!1===k[0])$("#FormError>td",f).html(k[1]),$("#FormError",f).show();else{r.autoEncodeOnEdit&&$.each(o,function(e,t){o[e]=jgrid.oldDecodePostedData(t)});var m,v=[$.extend({},d.reloadGridOptions||{})];if(o[l]===T.addoper?(k[2]||(k[2]=jgrid.randId()),null==o[t]||"_empty"===o[t]||o[l]===T.addoper?o[t]=k[2]:k[2]=o[t],d.reloadAfterSubmit?n.trigger("reloadGrid",v):!0===r.treeGrid?base.addChildNode.call(n,k[2],p,o):base.addRowData.call(n,k[2],o,d.addedrow),d.closeAfterAdd?(!0!==r.treeGrid&&c.call(n,k[2]),S()):d.clearAfterAdd&&Q("_empty",u)):(d.reloadAfterSubmit?(n.trigger("reloadGrid",v),d.closeAfterEdit||setTimeout(function(){c.call(n,o[t])},1e3)):!0===r.treeGrid?base.setTreeRow.call(n,o[t],o):base.setRowData.call(n,o[t],o),d.closeAfterEdit&&S()),$.isFunction(d.afterComplete)){var b=e;setTimeout(function(){n.triggerHandler("jqGridAddEditAfterComplete",[b,o,$(u),s]),d.afterComplete.call(i,b,o,$(u),s),b=null},50)}if((d.checkOnSubmit||d.checkOnUpdate)&&($(u).data("disabled",!1),"_empty"!==d._savedData[a+"_id"]))for(m in d._savedData)d._savedData.hasOwnProperty(m)&&o[m]&&(d._savedData[m]=o[m])}d.processing=!1;try{$(u).find("input,textarea,select,button,object,*[tabindex]").filter(":input:visible:not(:disabled)").first().focus()}catch(e){}}},jgrid.ajaxOptions,d.ajaxEditOptions);if(I.url||d.useDataProxy||($.isFunction(r.dataProxy)?d.useDataProxy=!0:(k[0]=!1,k[1]+=" "+jgrid.errors.nourl)),k[0])if(n.jqGrid("progressBar",{method:"show",loadtype:d.saveui,htmlcontent:d.savetext}),d.useDataProxy){var O=r.dataProxy.call(i,I,"set_"+a);void 0===O&&(O=[!0,""]),!1===O[0]?(k[0]=!1,k[1]=O[1]||"Error deleting the selected row!"):(I.data.oper===T.addoper&&d.closeAfterAdd&&S(),I.data.oper===T.editoper&&d.closeAfterEdit&&S())}else"clientArray"===I.url?(d.reloadAfterSubmit=!1,o=I.data,I.complete({status:200,statusText:""},"")):$.ajax(I)}!1===k[0]&&($("#FormError>td",f).html(k[1]),$("#FormError",f).show())}function te(e,t){var i,n=!1;for(i in e)if(e.hasOwnProperty(i)&&String(e[i])!==String(t[i])){n=!0;break}return n}function ie(){var e=!0;return $("#FormError",f).hide(),d.checkOnUpdate&&(o={},J(),te(o,d._savedData)&&($(u).data("disabled",!0),$(".confirm",v).show(),e=!1)),e}function ne(e,t){var i=t[1].length-1;0===e?$("#pData",g).addClass(j):void 0!==t[1][e-1]&&hasOneFromClasses($("#"+jqID(t[1][e-1])),j)?$("#pData",g).addClass(j):$("#pData",g).removeClass(j),e===i?$("#nData",g).addClass(j):void 0!==t[1][e+1]&&hasOneFromClasses($("#"+jqID(t[1][e+1])),j)?$("#nData",g).addClass(j):$("#nData",g).removeClass(j)}function re(){var e=base.getDataIDs.call(n),t=$("#id_g",f).val();return[$.inArray(t,e),e]}})},viewGridRow:function(e,t){return this.each(function(){var i=this,n=$(i),r=i.p;if(i.grid&&null!=r&&e){var o=r.id,s=$.extend(!0,{top:0,left:0,width:0,datawidth:"auto",height:"auto",dataheight:"auto",drag:!0,resize:!0,closeOnEscape:!1,labelswidth:"",navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,removemodal:!0},base.getGridRes.call(n,"view"),jgrid.view||{},r.formViewing||{},t||{}),a="#ViewGrid_"+jqID(o),l="#ViewTbl_"+jqID(o),c=l+"_2",d="ViewGrid_"+o,u="ViewTbl_"+o,h=s.commonIconClass,p={themodal:"viewmod"+o,modalhead:"viewhd"+o,modalcontent:"viewcnt"+o,resizeAlso:d},f="#"+jqID(p.themodal),g=r.gBox,m=r.colModel,v=1,b=0,y=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift("View"),e.unshift(s),jgridFeedback.apply(i,e)},w=function(){jgrid.hideModal(f,{gb:g,jqm:s.jqModal,onClose:s.onClose,removemodal:s.removemodal})},x=getGuiStateStyles.call(i,"hover"),C=getGuiStateStyles.call(i,"disabled"),k=isNaN(s.dataheight)?s.dataheight:s.dataheight+"px",S=isNaN(s.datawidth)?s.datawidth:s.datawidth+"px",D=$("<div class='"+getGuiStyles.call(i,"dialog.body")+"'><form name='FormPost' id='"+d+"' class='FormGrid' style='width:"+S+";overflow:auto;position:relative;height:"+k+";'></form></div>"),T=D.children("form.FormGrid"),_=$("<table id='"+u+"' class='EditTable'><tbody></tbody></table>");if($(f).remove(),$(m).each(function(){var e=this.formoptions;v=Math.max(v,e&&e.colpos||0),b=Math.max(b,e&&e.rowpos||0)}),T.append(_),y("beforeInitData",T)){!function(e,t,o){var a,l,c,d,u,h,p,f,g=0,v=[],b=base.getInd.call(n,e),y=getGuiStyles.call(i,"dialog.viewData"),w=$(t),x=getGuiStyles.call(i,"dialog.viewLabel"),C=String(s.labelswidth)+(!s.labelswidth||isNaN(s.labelswidth)?"":"px"),k="<td class='"+getGuiStyles.call(i,"dialog.viewCellLabel","CaptionTD form-view-label")+(C?"' style='width:"+C+";":"")+"'>&#160;</td><td class='"+getGuiStyles.call(i,"dialog.viewCellData","DataTD form-view-data")+"'>&#160;</td>",S="",D=["integer","number","currency"],T=0,_=0;for(u=0;u<o;u++)S+=k;if($(m).each(function(){var e=this;(l=(!e.editrules||!0!==e.editrules.edithidden)&&!0===e.hidden)||"right"!==e.align||(e.formatter&&-1!==$.inArray(e.formatter,D)?T=Math.max(T,parseInt(e.width,10)):_=Math.max(_,parseInt(e.width,10)))}),h=0!==T?T:0!==_?_:0,$(m).each(function(e){var t=this;if(a=t.name,p=!1,l=(!t.editrules||!0!==t.editrules.edithidden)&&!0===t.hidden,f="boolean"!=typeof t.viewable||t.viewable,"cb"!==a&&"subgrid"!==a&&"rn"!==a&&f){d=!1===b?"":jgrid.getDataFieldOfCell.call(i,i.rows[b],e).html(),p="right"===t.align&&0!==h;var n=$.extend({},{rowabove:!1,rowcontent:""},t.formoptions||{}),s=parseInt(n.rowpos,10)||g+1,u=parseInt(2*(parseInt(n.colpos,10)||1),10);if(n.rowabove){var m=$("<tr><td class='contentinfo' colspan='"+2*o+"'>"+n.rowcontent+"</td></tr>");w.append(m),m[0].rp=s}0===(c=w.find("tr[data-rowpos="+s+"]")).length&&((c=$("<tr data-rowpos='"+s+"'></tr>").addClass("FormData").attr("id","trv_"+a)).append(S),w.append(c),c[0].rp=s);var C=void 0===n.label?r.colNames[e]:n.label,k=$("td:eq("+(u-1)+")",c[0]),D=$("td:eq("+(u-2)+")",c[0]);D.html("<label for='"+a+"'"+(x?" class='"+x+"'>":">")+(C||"&nbsp;")+"</label>"),k[isEmptyString(k.html())?"html":"append"]("<span id='"+a+"'"+(y?" class='"+y+"'>":">")+(d||"&nbsp;")+"</span>").attr("id","v_"+a),p&&$("td:eq("+(u-1)+") span",c[0]).css({"text-align":"right",width:h+"px"}),l&&D.add(k).css("visibility","hidden"),v[g]=e,g++}}),hideRowsWithoutVissibleCells(w),0<g){var j=$("<tr class='FormData' style='display:none'><td class='CaptionTD'>&#160;</td><td colspan='"+(2*o-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+e+"'/></td></tr>");j[0].rp=g+99,w.append(j)}}(e,_,v);var j="rtl"===r.direction,A=j?"nData":"pData",F=j?"pData":"nData",N=builderFmButon.call(i,A,"",mergeCssClasses(h,s.prevIcon),"","left"),I=builderFmButon.call(i,F,"",mergeCssClasses(h,s.nextIcon),"","right"),O=builderFmButon.call(i,"cData",s.bClose);if(0<b){var R=[];$.each($(_)[0].rows,function(e,t){R[e]=t}),R.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),$.each(R,function(e,t){$("tbody",_).append(t)})}s.gbox=g;var E=$("<div></div>").append(D).append("<div class='"+getGuiStyles.call(i,"dialog.footer")+"'><table border='0' class='EditTable' id='"+u+"_2'><tbody><tr id='Act_Buttons'><td class='navButton navButton-"+r.direction+"' width='"+(s.labelswidth||"auto")+"'>"+(j?I+N:N+I)+"</td><td class='EditButton EditButton-"+r.direction+"'>"+O+"</td></tr></tbody></table></div>");jgrid.createModal.call(i,p,E,s,r.gView,$(r.gView)[0]),s.viewPagerButtons||$("#pData, #nData",c).hide(),E=null,$(f).keydown(function(e){var t,i;if(!0===$(a).data("disabled"))return!1;if(13===e.which&&(i=(t=$(c).find(":focus")).attr("id"),0<t.length&&0<=$.inArray(i,["pData","nData","cData"])))return t.trigger("click"),!1;if(27===e.which)return s.closeOnEscape&&w(),!1;if(!0===s.navkeys[0]){if(e.which===s.navkeys[1])return $("#pData",c).trigger("click"),!1;if(e.which===s.navkeys[2])return $("#nData",c).trigger("click"),!1}}),addFormIcon($("#cData",c),s.closeicon,h),y("beforeShowForm",$(a)),jgrid.viewModal.call(i,f,{gbox:g,jqm:s.jqModal,overlay:s.overlay,toTop:s.toTop,modal:s.modal,onHide:function(e){e.w.remove(),e.o&&e.o.remove()}}),$(".fm-button:not(."+C.split(" ").join(".")+")",c).hover(function(){$(this).addClass(x)},function(){$(this).removeClass(x)}),P(),$("#cData",c).click(function(){return w(),!1}),$("#nData",c).click(function(){$("#FormError",l).hide();var e=z();if(e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]){if(!y("onclickPgButtons","next",$(a),e[1][e[0]]))return!1;L(e[1][e[0]+1]),base.setSelection.call(n,e[1][e[0]+1]),y("afterclickPgButtons","next",$(a),e[1][e[0]+1]),q(e[0]+1,e)}return P(),!1}),$("#pData",c).click(function(){$("#FormError",l).hide();var e=z();if(-1!==e[0]&&e[1][e[0]-1]){if(!y("onclickPgButtons","prev",$(a),e[1][e[0]]))return!1;L(e[1][e[0]-1]),base.setSelection.call(n,e[1][e[0]-1]),y("afterclickPgButtons","prev",$(a),e[1][e[0]-1]),q(e[0]-1,e)}return P(),!1});var M=z();q(M[0],M)}}function P(){!0!==s.closeOnEscape&&!0!==s.navkeys[0]||setTimeout(function(){$("#cData").focus()},0)}function L(e){var t,r,o=0,s=base.getInd.call(n,e,!0);s&&($("td",s).each(function(e){r=m[e],"cb"!==(t=r.name)&&"subgrid"!==t&&"rn"!==t&&(t=jqID("v_"+t),$("#"+t+" span",l).html(jgrid.getDataFieldOfCell.call(i,s,e).html()),o++)}),0<o&&$("#id_g",l).val(e))}function q(e,t){var i=t[1].length-1;0===e?$("#pData",c).addClass(C):void 0!==t[1][e-1]&&hasOneFromClasses($("#"+jqID(t[1][e-1])),C)?$("#pData",c).addClass(C):$("#pData",c).removeClass(C),e===i?$("#nData",c).addClass(C):void 0!==t[1][e+1]&&hasOneFromClasses($("#"+jqID(t[1][e+1])),C)?$("#nData",c).addClass(C):$("#nData",c).removeClass(C)}function z(){var e=base.getDataIDs.call(n),t=$("#id_g",l).val();return[$.inArray(t,e),e]}})},delGridRow:function(e,t){return this.each(function(){var i=this,n=i.p,r=$(i);if(i.grid&&null!=n&&e){var o,s,a,l,c=n.id,d=$.extend(!0,{top:0,left:0,width:240,removemodal:!0,height:"auto",dataheight:"auto",datawidth:"auto",drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,closeOnEscape:!1,delData:{},idSeparator:",",onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1,delui:"disable",deltext:base.getGridRes.call(r,"defaults.deltext")||"Deleting..."},base.getGridRes.call(r,"del"),jgrid.del||{},n.formDeleting||{},t||{}),u="DelTbl_"+c,h="#DelTbl_"+jqID(c),p={themodal:"delmod"+c,modalhead:"delhd"+c,modalcontent:"delcnt"+c,resizeAlso:u},f="#"+jqID(p.themodal),g=n.gBox,m=d.commonIconClass,v=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift("Delete"),e.unshift(d),jgridFeedback.apply(i,e)},b=getGuiStateStyles.call(i,"hover"),y=getGuiStateStyles.call(i,"active"),w=getGuiStateStyles.call(i,"error");if($.isArray(e)||(e=[String(e)]),void 0!==$(f)[0]){if(!v("beforeInitData",$(h)))return;$("#DelData>td",h).text(e.join(d.idSeparator)).data("rowids",e),$("#DelError",h).hide(),!0===d.processing&&(d.processing=!1,$("#dData",h).removeClass(y)),v("beforeShowForm",$(h)),jgrid.viewModal.call(i,f,{gbox:g,jqm:d.jqModal,jqM:!1,overlay:d.overlay,toTop:d.toTop,modal:d.modal}),v("afterShowForm",$(h))}else{var x=isNaN(d.dataheight)?d.dataheight:d.dataheight+"px",C=isNaN(d.datawidth)?d.datawidth:d.datawidth+"px",k="<div class='"+getGuiStyles.call(i,"dialog.body")+"'><div id='"+u+"' class='formdata' style='width:"+C+";overflow:auto;position:relative;height:"+x+";'>";k+="<table class='DelTable'><tbody>",k+="<tr id='DelError' style='display:none'><td class='"+w+"'></td></tr>",k+="<tr id='DelData' style='display:none'><td >"+e.join(d.idSeparator)+"</td></tr>",k+="<tr><td class='delmsg'>"+d.msg+"</td></tr>",k+="</tbody></table></div></div>";var S=builderFmButon.call(i,"dData",d.bSubmit),D=builderFmButon.call(i,"eData",d.bCancel);if(k+="<div class='"+getGuiStyles.call(i,"dialog.footer")+"'><table class='EditTable' id='"+u+"_2'><tbody><tr><td><hr class='"+getGuiStyles.call(i,"dialog.hr")+"' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton EditButton-"+n.direction+"'>"+S+"&#160;"+D+"</td></tr></tbody></table></div>",d.gbox=g,jgrid.createModal.call(i,p,k,d,n.gView,$(n.gView)[0]),$("#DelData>td",h).data("rowids",e),!v("beforeInitData",$(k)))return;$(".fm-button",h+"_2").hover(function(){$(this).addClass(b)},function(){$(this).removeClass(b)}),addFormIcon($("#dData",h+"_2"),d.delicon,m),addFormIcon($("#eData",h+"_2"),d.cancelicon,m),$("#dData",h+"_2").click(function(){var e,t=[!0,""],u=$("#DelData>td",h),p=u.text(),m=u.data("rowids"),b={};if($.isFunction(d.onclickSubmit)&&(b=d.onclickSubmit.call(i,d,p,m)||{}),$.isFunction(d.beforeSubmit)&&(t=d.beforeSubmit.call(i,p,m)||t),t[0]&&!d.processing){if(d.processing=!0,a=n.prmNames,o=$.extend({},d.delData,b),l=a.oper,o[l]=a.deloper,s=a.id,!(p=m.slice()).length)return!1;for(e in p)p.hasOwnProperty(e)&&(p[e]=jgrid.stripPref(n.idPrefix,p[e]));o[s]=p.join(d.idSeparator),$(this).addClass(y);var w=d.url||n.editurl,x=$.extend({url:$.isFunction(w)?w.call(i,o[s],o,d,m):w,type:d.mtype,data:$.isFunction(d.serializeDelData)?d.serializeDelData.call(i,o,m):o,complete:function(e,s){var a;if(r.jqGrid("progressBar",{method:"hide",loadtype:d.delui}),$("#dData",h+"_2").removeClass(y),300<=e.status&&304!==e.status||0===e.status&&4===e.readyState?(t[0]=!1,$.isFunction(d.errorTextFormat)?t[1]=d.errorTextFormat.call(i,e):t[1]=s+" Status: '"+e.statusText+"'. Error code: "+e.status):$.isFunction(d.afterSubmit)&&(t=d.afterSubmit.call(i,e,o,m)||[!0]),!1===t[0])$("#DelError>td",h).html(t[1]),$("#DelError",h).show();else{if("local"===n.datatype||!0===n.treeGrid||!d.reloadAfterSubmit)if(!0===n.treeGrid)try{base.delTreeNode.call(r,m[0])}catch(e){}else for(m=m.slice(),a=0;a<m.length;a++)base.delRowData.call(r,m[a]);d.reloadAfterSubmit&&r.trigger("reloadGrid",[$.extend({},d.reloadGridOptions||{})]),setTimeout(function(){v("afterComplete",e,p,$(h),m)},50)}d.processing=!1,t[0]&&jgrid.hideModal(f,{gb:g,jqm:d.jqModal,onClose:d.onClose,removemodal:d.removemodal})}},jgrid.ajaxOptions,d.ajaxDelOptions);if(x.url||d.useDataProxy||($.isFunction(n.dataProxy)?d.useDataProxy=!0:(t[0]=!1,t[1]+=" "+jgrid.errors.nourl)),t[0])if(r.jqGrid("progressBar",{method:"show",loadtype:d.delui,htmlcontent:d.deltext}),d.useDataProxy){var C=n.dataProxy.call(i,x,"del_"+c);void 0===C&&(C=[!0,""]),!1===C[0]?(t[0]=!1,t[1]=C[1]||"Error deleting the selected row!"):jgrid.hideModal(f,{gb:g,jqm:d.jqModal,onClose:d.onClose,removemodal:d.removemodal})}else"clientArray"===x.url?(o=x.data,x.complete({status:200,statusText:""},"")):$.ajax(x)}return!1===t[0]&&($("#DelError>td",h).html(t[1]),$("#DelError",h).show()),!1}),$("#eData",h+"_2").click(function(){return jgrid.hideModal(f,{gb:g,jqm:d.jqModal,onClose:d.onClose,removemodal:d.removemodal}),!1}),v("beforeShowForm",$(h)),jgrid.viewModal.call(i,f,{gbox:g,jqm:d.jqModal,overlay:d.overlay,toTop:d.toTop,modal:d.modal}),v("afterShowForm",$(h))}!0===d.closeOnEscape&&setTimeout(function(){$(".ui-jqdialog-titlebar-close","#"+jqID(p.modalhead)).attr("tabindex","-1").focus()},0)}})},navGrid:function(e,t,i,n,r,o,s){return"object"==typeof e&&(s=o,o=r,r=n,n=i,i=t,t=e,e=void 0),n=n||{},i=i||{},s=s||{},r=r||{},o=o||{},this.each(function(){var a=this,l=a.p,c=$(a);if(a.grid&&null!=l&&!(a.nav&&0<$(e).find(".navtable").length)){var d=l.id,u=$.extend({edit:!0,add:!0,del:!0,search:!0,refresh:!0,refreshstate:"firstpage",view:!1,closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,hideEmptyPagerParts:!0,alertwidth:200,alertheight:"auto",alerttop:null,removemodal:!0,alertleft:null,alertzIndex:null,iconsOverText:!1},base.getGridRes.call(c,"nav"),jgrid.nav||{},l.navOptions||{},t||{});u.position=u.position||("rtl"===l.direction?"right":"left");var h,p,f,g=l.idSel,m=l.gBox,v=u.commonIconClass,b={themodal:"alertmod_"+d,modalhead:"alerthd_"+d,modalcontent:"alertcnt_"+d},y=function(){var e=document.documentElement,t=window,i=1024,n=768,r=c.closest(".ui-jqgrid").offset();void 0===$("#"+jqID(b.themodal))[0]&&(u.alerttop||u.alertleft||(void 0!==t.innerWidth?(i=t.innerWidth,n=t.innerHeight):null!=e&&void 0!==e.clientWidth&&0!==e.clientWidth&&(i=e.clientWidth,n=e.clientHeight),i=i/2-parseInt(u.alertwidth,10)/2-r.left+(void 0!==t.pageXOffset?t.pageXOffset:(e||document.body.parentNode||document.body).scrollLeft),n=n/2-25-r.top+(void 0!==t.pageYOffset?t.pageYOffset:(e||document.body.parentNode||document.body).scrollTop)),jgrid.createModal.call(a,b,"<div class='"+getGuiStyles.call(a,"dialog.body")+"'><div>"+u.alerttext+"</div></div>",{gbox:m,jqModal:u.jqModal,drag:!0,resize:!0,caption:u.alertcap,top:null!=u.alerttop?u.alerttop:n,left:null!=u.alertleft?u.alertleft:i,width:u.alertwidth,height:u.alertheight,closeOnEscape:u.closeOnEscape,zIndex:u.alertzIndex,removemodal:u.removemodal},l.gView,$(m)[0],!1)),jgrid.viewModal.call(a,"#"+jqID(b.themodal),{gbox:m,toTop:u.alertToTop,jqm:u.jqModal});var o=$("#"+jqID(b.modalhead)).find(".ui-jqdialog-titlebar-close");o.attr({tabindex:"0",href:"#",role:"button"}),setTimeout(function(){o.focus()},50)},w=function(e){var t;if(13===e.which&&0<(t=$(this).find(".ui-pg-button").filter(":focus")).length){var i=t[0].id,n=i.substr(0,0<$(this).closest(".ui-jqgrid-toppager").length?i.length-d.length-5:i.length-d.length-1)+"mod"+l.id,r=$(".ui-jqdialog").filter(":visible").map(function(){return this.id});if($.inArray(n,r)<0)return t.trigger("click"),!1}},x=getGuiStateStyles.call(a,"hover"),C=getGuiStateStyles.call(a,"disabled"),k=getGuiStyles.call(a,"navButton","ui-pg-button");if(a.grid){a.modalAlert=y,void 0===e&&(l.pager?(e=l.pager,l.toppager&&(u.cloneToTop=!0)):l.toppager&&(e=l.toppager));var S,D,T,_,j,A,F,N=1,I=["left","center","right"],O="<div class='"+getGuiStyles.call(a,"navButton","ui-pg-button "+getGuiStateStyles.call(a,"disabled"))+"'><span class='ui-separator'></span></div>",R=function(){hasOneFromClasses(this,C)||$(this).addClass(x)},E=function(){$(this).removeClass(x)},M=function(){return hasOneFromClasses(this,C)||($.isFunction(u.addfunc)?u.addfunc.call(a,n):base.editGridRow.call(c,"new",n)),!1},P=function(e,t,i){if(!hasOneFromClasses(this,C)){var n=l.selrow;n?$.isFunction(e)?e.call(a,n,i):base[t].call(c,n,i):y()}return!1},L=function(){return P.call(this,u.editfunc,"editGridRow",i)},q=function(){return P.call(this,u.viewfunc,"viewGridRow",s)},z=function(){var e;return hasOneFromClasses(this,C)||(l.multiselect?0===(e=l.selarrrow).length&&(e=null):e=l.selrow,e?$.isFunction(u.delfunc)?u.delfunc.call(a,e,r):base.delGridRow.call(c,e,r):y()),!1},H=function(){return hasOneFromClasses(this,C)||($.isFunction(u.searchfunc)?u.searchfunc.call(a,o):base.searchGrid.call(c,o)),!1},B=function(){if(!hasOneFromClasses(this,C)){$.isFunction(u.beforeRefresh)&&u.beforeRefresh.call(a),l.search=!1,l.resetsearch=!0;try{if("currentfilter"!==u.refreshstate){l.postData.filters="";try{$("#fbox_"+g).jqFilter("resetFilter")}catch(e){}$.isFunction(a.clearToolbar)&&a.clearToolbar(!1)}}catch(e){}switch(u.refreshstate){case"firstpage":c.trigger("reloadGrid",[$.extend({},u.reloadGridOptions||{},{page:1})]);break;case"current":case"currentfilter":c.trigger("reloadGrid",[$.extend({},u.reloadGridOptions||{},{current:!0})])}$.isFunction(u.afterRefresh)&&u.afterRefresh.call(a)}return!1},G=function(e,t,i){var n=$("<div class='"+k+"' tabindex='0' role='button'></div>"),r=u[e+"icon"],o=$.trim(u[e+"text"]);return n.append("<div class='ui-pg-div'><span class='"+(u.iconsOverText?mergeCssClasses("ui-pg-button-icon-over-text",v,r):mergeCssClasses(v,r))+"'></span>"+(o?"<span class='ui-pg-button-text"+(u.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+o+"</span>":"")+"</div>"),$(f).append(n),n.attr({title:u[e+"title"]||"",id:t||e+"_"+_}).click(i).hover(R,E),n};for(u.cloneToTop&&l.toppager&&(N=2),S=0;S<N;S++){if(f=$("<div class='ui-pg-table navtable' role='toolbar' style='float:"+("rtl"===l.direction?"right":"left")+";table-layout:auto;'></div>"),0===S?(_=d,(T=e)===l.toppager&&(_+="_top",N=1)):(T=l.toppager,_=d+"_top"),u.add&&G("add",n.id,M),u.edit&&G("edit",i.id,L),u.view&&G("view",s.id,q),u.del&&G("del",r.id,z),(u.add||u.edit||u.del||u.view)&&$(f).append(O),u.search&&(D=G("search",o.id,H),o.showOnLoad&&!0===o.showOnLoad&&$(D,f).click()),u.refresh&&G("refresh","",B),p=$(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",$("body").append("<div id='testpg2' class='"+getGuiStyles.call(a,"gBox","ui-jqgrid")+"' style='font-size:"+p+";visibility:hidden;' ></div>"),h=$(f).clone().appendTo("#testpg2").width(),$("#testpg2").remove(),$(T+"_"+u.position,T).append(f),u.hideEmptyPagerParts)for(j=0;j<I.length;j++)I[j]!==u.position&&(0===(F=$(T+"_"+I[j],T)).length||0===F[0].childNodes.length?F.hide():1===F[0].childNodes.length&&(A=F[0].firstChild,!$(A).is("table.ui-pg-table")||0!==A.rows&&0!==A.rows[0].cells.length||F.hide()));l._nvtd&&(h>l._nvtd[0]&&($(T+"_"+u.position,T).width(h),l._nvtd[0]=h),l._nvtd[1]=h),a.nav=!0,f.on("keydown.jqGrid",w)}c.triggerHandler("jqGridResetFrozenHeights")}}})},navButtonAdd:function(e,t){return"object"==typeof e&&(t=e,e=void 0),this.each(function(){var i=this,n=i.p;if(i.grid){var r=$.extend({caption:"newButton",title:"",onClickButton:null,position:"last",iconsOverText:!1},base.getGridRes.call($(i),"nav"),jgrid.nav||{},n.navOptions||{},t||{}),o=r.id,s=getGuiStateStyles.call(i,"hover"),a=getGuiStateStyles.call(i,"disabled"),l=getGuiStyles.call(i,"navButton","ui-pg-button");if(void 0===e)if(n.pager){if(base.navButtonAdd.call($(i),n.pager,r),!n.toppager)return;e=n.toppager,o&&(o+="_top")}else n.toppager&&(e=n.toppager);"string"==typeof e&&0!==e.indexOf("#")&&(e="#"+jqID(e));var c=$(".navtable",e),d=r.commonIconClass;if(0<c.length){if(o&&0<c.find("#"+jqID(o)).length)return;var u=$("<div tabindex='0' role='button'></div>");"NONE"===r.buttonicon.toString().toUpperCase()?$(u).addClass(l).append("<div class='ui-pg-div'>"+(r.caption?"<span class='ui-pg-button-text"+(r.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+r.caption+"</span>":"")+"</div>"):$(u).addClass(l).append("<div class='ui-pg-div'><span class='"+(r.iconsOverText?mergeCssClasses("ui-pg-button-icon-over-text",d,r.buttonicon):mergeCssClasses(d,r.buttonicon))+"'></span>"+(r.caption?"<span class='ui-pg-button-text"+(r.iconsOverText?" ui-pg-button-icon-over-text":"")+"'>"+r.caption+"</span>":"")+"</div>"),o&&$(u).attr("id",o),"first"===r.position&&0<c.children("div.ui-pg-button").length?c.children("div.ui-pg-button").first().before(u):c.append(u),$(u,c).attr("title",r.title||"").click(function(e){return hasOneFromClasses(this,a)||$.isFunction(r.onClickButton)&&r.onClickButton.call(i,r,e),!1}).hover(function(){hasOneFromClasses(this,a)||$(this).addClass(s)},function(){$(this).removeClass(s)}),$(i).triggerHandler("jqGridResetFrozenHeights")}}})},navSeparatorAdd:function(e,t){return t=$.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},t||{}),this.each(function(){if(this.grid){var i=this.p,n=getGuiStyles.call(this,"navButton","ui-pg-button "+getGuiStateStyles.call(this,"disabled"));if(void 0===e)if(i.pager){if(base.navSeparatorAdd.call($(this),i.pager,t),!i.toppager)return;e=i.toppager}else i.toppager&&(e=i.toppager);"string"==typeof e&&0!==e.indexOf("#")&&(e="#"+jqID(e));var r=$(".navtable",e);if(0<r.length){var o="<div class='"+n+"'><span class='"+t.sepclass+"'></span>"+t.sepcontent+"</div>";"first"===t.position?0===r.children("div.ui-pg-button").length?r.append(o):r.children("div.ui-pg-button").first().before(o):r.append(o)}}})},GridToForm:function(e,t){return this.each(function(){var i,n,r,o;if(this.grid){var s=base.getRowData.call($(this),e);if(s)for(i in s)if(s.hasOwnProperty(i))if((n=$("[name="+jqID(i)+"]",t)).is("input:radio")||n.is("input:checkbox"))for(r=0;r<n.length;r++)(o=$(n[r])).prop("checked",o.val()===String(s[i]));else n.val(isEmptyString(s[i])?"":s[i])}})},FormToGrid:function(e,t,i,n){return this.each(function(){if(this.grid){i||(i="set"),n||(n="first");var r=$(t).serializeArray(),o={};$.each(r,function(e,t){o[t.name]=t.value}),"add"===i?base.addRowData.call($(this),e,o,n):"set"===i&&base.setRowData.call($(this),e,o)}})}}),jgrid.extend({groupingSetup:function(){return this.each(function(){var e,t,i,n,r,o=this.p,s=o.colModel,a=o.groupingView,l=function(){return""};if(null===a||"object"!=typeof a&&!$.isFunction(a))o.grouping=!1;else if(a.groupField.length){for(void 0===a.visibiltyOnNextGrouping&&(a.visibiltyOnNextGrouping=[]),a.lastvalues=[],a._locgr||(a.groups=[]),a.counters=[],e=0;e<a.groupField.length;e++)a.groupOrder[e]||(a.groupOrder[e]="asc"),a.groupText[e]||(a.groupText[e]="{0}"),"boolean"!=typeof a.groupColumnShow[e]&&(a.groupColumnShow[e]=!0),"boolean"!=typeof a.groupSummary[e]&&(a.groupSummary[e]=!1),a.groupSummaryPos[e]||(a.groupSummaryPos[e]="footer"),n=s[o.iColByName[a.groupField[e]]],!0===a.groupColumnShow[e]?(a.visibiltyOnNextGrouping[e]=!0,null!=n&&!0===n.hidden&&base.showCol.call($(this),a.groupField[e])):(a.visibiltyOnNextGrouping[e]=$("#"+jgrid.jqID(o.id+"_"+a.groupField[e])).is(":visible"),null!=n&&!0!==n.hidden&&base.hideCol.call($(this),a.groupField[e]));for(a.summary=[],a.hideFirstGroupCol&&(a.formatDisplayField[0]=function(e){return e}),t=0,i=s.length;t<i;t++)n=s[t],a.hideFirstGroupCol&&(n.hidden||a.groupField[0]!==n.name||(n.formatter=l)),n.summaryType&&(r={nm:n.name,st:n.summaryType,v:"",sr:n.summaryRound,srt:n.summaryRoundType||"round"},n.summaryDivider&&(r.sd=n.summaryDivider,r.vd=""),a.summary.push(r))}else o.grouping=!1})},groupingPrepare:function(e,t){return this.each(function(){var i,n,r,o,s,a,l,c,d,u=this,h=u.p,p=h.groupingView,f=p.groups,g=p.counters,m=p.lastvalues,v=p.isInTheSameGroup,b=p.groupField.length,y=!1,w=base.groupingCalculations.handler,x=function(){var t,i,n;for(t=0;t<s.summary.length;t++)i=s.summary[t],n=$.isArray(i.st)?i.st[o.idx]:i.st,$.isFunction(n)?i.v=n.call(u,i.v,i.nm,e,o):(i.v=w.call($(u),n,i.v,i.nm,i.sr,i.srt,e),"avg"===n.toLowerCase()&&i.sd&&(i.vd=w.call($(u),n,i.vd,i.sd,i.sr,i.srt,e)));return s.summary},C=function(e,t){if(null==e&&p.useDefaultValuesOnGrouping){var i,n=void 0!==h.iColByName[t]?h.colModel[h.iColByName[t]]:h.additionalProperties[h.iPropByName[t]];null!=n&&null!=n.formatter&&(null!=n.formatoptions&&void 0!==n.formatoptions.defaultValue?e=n.formatoptions.defaultValue:"string"==typeof n.formatter&&void 0!==(i=$(u).jqGrid("getGridRes","formatter."+n.formatter+".defaultValue"))&&(e=i))}return e};for(i=0;i<b;i++)if(a=p.groupField[i],l=C(e[a],a),null==(d=null==(c=p.displayField[i])?null:C(e[c],c))&&(d=l),void 0!==l){for(r=[],n=0;n<=i;n++)r.push(e[p.groupField[n]]);for(o={idx:i,dataIndex:a,value:l,displayValue:d,startRow:t,cnt:1,keys:r,summary:[]},s={cnt:1,pos:f.length,summary:$.extend(!0,[],p.summary)},0===t?(f.push(o),m[i]=l,g[i]=s):"object"==typeof l||($.isArray(v)&&$.isFunction(v[i])?v[i].call(u,m[i],l,i,p):m[i]===l)?y?(f.push(o),m[i]=l,g[i]=s):((s=g[i]).cnt+=1,f[s.pos].cnt=s.cnt):(f.push(o),m[i]=l,y=!0,g[i]=s),f[s.pos].summary=x(),n=s.pos-1;0<=n;n--)if(f[n].idx<f[s.pos].idx){f[s.pos].parentGroupIndex=n,f[s.pos].parentGroup=f[n];break}}}),this},getGroupHeaderIndex:function(e,t){var i=this[0].p,n=t?$(t).closest("tr.jqgroup"):$("#"+jgrid.jqID(e)),r=parseInt(n.data("jqgrouplevel"),10),o=i.id+"ghead_"+r+"_";return isNaN(r)||!n.hasClass("jqgroup")||e.length<=o.length?-1:parseInt(e.substring(o.length),10)},groupingToggle:function(e,t){return this.each(function(){var i,n,r,o=this,s=o.p,a=s.groupingView,l=a.minusicon,c=a.plusicon,d=t?$(t).closest("tr.jqgroup"):$("#"+jgrid.jqID(e)),u=function(e){return e.find(">td>span.tree-wrap")},h=!0,p=!1,f=[],g=function(e){var t,i=e.length;for(t=0;t<i;t++)f.push(e[t])},m=parseInt(d.data("jqgrouplevel"),10);for(s.frozenColumns&&0<d.length&&(n=d[0].rowIndex,d=(d=$(o.rows[n])).add(o.grid.fbRows[n])),r=u(d),jgrid.hasAllClasses(r,l)?(r.removeClass(l).addClass(c),p=!0):r.removeClass(c).addClass(l),d=d.next();d.length;d=d.next())if(d.hasClass("jqfoot")){if(i=parseInt(d.data("jqfootlevel"),10),p){if(i=parseInt(d.data("jqfootlevel"),10),(!a.showSummaryOnHide&&i===m||m<i)&&g(d),i<m)break}else if((i===m||a.showSummaryOnHide&&i===m+1)&&g(d),i<=m)break}else if(d.hasClass("jqgroup"))if(i=parseInt(d.data("jqgrouplevel"),10),p){if(i<=m)break;g(d)}else{if(i<=m)break;i===m+1&&(u(d).removeClass(l).addClass(c),g(d)),h=!1}else(p||h)&&g(d);$(f).css("display",p?"none":""),s.frozenColumns&&$(o).triggerHandler("jqGridResetFrozenHeights",[{header:{resizeDiv:!1,resizedRows:{iRowStart:-1,iRowEnd:-1}},resizeFooter:!1,body:{resizeDiv:!0,resizedRows:{iRowStart:n,iRowEnd:d.length?d[0].rowIndex-1:-1}}}]),o.fixScrollOffsetAndhBoxPadding(),$(o).triggerHandler("jqGridGroupingClickGroup",[e,p]),$.isFunction(s.onClickGroup)&&s.onClickGroup.call(o,e,p)}),!1},groupingRender:function(e,t){var i="",n=this[0],r=n.p,o=0,s=[],a=r.groupingView,l=$.makeArray(a.groupSummary),c=a.groupField.length,d=a.groups,u=r.colModel,h=u.length,p=r.page,f="jqGridShowHideCol.groupingRender",g=function(e){return base.getGuiStyles.call(n,"gridRow",e)},m=g("jqgroup ui-row-"+r.direction),v=g("jqfoot ui-row-"+r.direction);function b(e,t,i,o,s){var l,c,p,f,g,m,v,b,y,w,x,C,k,S=d[e],D="",T=0,_=!0;if(0!==t&&0!==d[e].idx)for(l=e;0<=l;l--)if(d[l].idx===d[e].idx-t){S=d[l];break}for(c=S.cnt,x=void 0===s?o:0;x<h;x++){for(p="&#160;",w=u[x],b=0;b<S.summary.length;b++)if(y=S.summary[b],C=$.isArray(y.st)?y.st[i.idx]:y.st,k=$.isArray(w.summaryTpl)?w.summaryTpl[i.idx]:w.summaryTpl||"{0}",y.nm===w.name){"string"==typeof C&&"avg"===C.toLowerCase()&&(y.sd&&y.vd?y.v=y.v/y.vd:y.v&&0<c&&(y.v=y.v/c));try{y.groupCount=S.cnt,y.groupIndex=S.dataIndex,y.groupValue=S.value,m=n.formatter("",y.v,x,y)}catch(e){m=y.v}p=jgrid.format(k,m),w.summaryFormat&&(p=w.summaryFormat.call(n,i,p,m,w,y));break}g=f=!1,void 0!==s&&_&&(w.hidden||(p=s,_=!1,1<o&&(f=!0,T=o-1),g=w.align,w.align="rtl"===r.direction?"right":"left",a.iconColumnName=w.name)),v=!1,0<T&&!w.hidden&&"&#160;"===p?(v=!0,g&&(w.align=g),T--):(D+="<td role='gridcell' "+n.formatCol(x,1,"")+(f?"colspan='"+o+"'":"")+">"+p+"</td>",f=!1,g&&(w.align=g),v&&(w.hidden=!1,T--))}return D}return $.each(u,function(e,t){var i;for(i=0;i<c;i++)if(a.groupField[i]===t.name){s[i]=e;break}}),l.reverse(),$.each(d,function(f,g){var y,w,x,C,k,S,D,T,_=r.id+"ghead_"+g.idx,j=_+"_"+f,A=$.isFunction(a.groupCollapse)?a.groupCollapse.call(n,{group:g,rowid:j}):a.groupCollapse,F=1,N=0,I=c-1===g.idx,O=null!=g.parentGroup&&g.parentGroup.collapsed,R="<span style='cursor:pointer;margin-"+("rtl"===r.direction?"right:":"left:")+12*g.idx+"px;' class='"+a.commonIconClass+" "+(A?a.plusicon:a.minusicon)+" tree-wrap'></span>";if(a._locgr&&!(g.startRow+g.cnt>(p-1)*t&&g.startRow<p*t))return!0;O&&(A=!0),void 0!==A&&(g.collapsed=A),o++;try{$.isArray(a.formatDisplayField)&&$.isFunction(a.formatDisplayField[g.idx])?(g.displayValue=a.formatDisplayField[g.idx].call(n,g.displayValue,g.value,u[s[g.idx]],g.idx,g,f),y=g.displayValue):y=n.formatter(j,g.displayValue,s[g.idx],g.value,g)}catch(f){y=g.displayValue}if(i+="<tr id='"+j+"' data-jqgrouplevel='"+g.idx+"' "+(A&&O?"style='display:none;' ":"")+"role='row' class='"+m+" "+_+"'>","string"!=typeof(T=$.isFunction(a.groupText[g.idx])?a.groupText[g.idx].call(n,y,g.cnt,g.summary):jgrid.template(a.groupText[g.idx],y,g.cnt,g.summary))&&"number"!=typeof T&&(T=y),"header"===a.groupSummaryPos[g.idx]?(F=1,"cb"!==u[0].name&&"cb"!==u[1].name||F++,"subgrid"!==u[0].name&&"subgrid"!==u[1].name||F++,i+=b(f,0,g,F,R+"<span class='cell-wrapper'>"+T+"</span>")):i+="<td role='gridcell' style='padding-left:"+12*g.idx+"px;' colspan='"+h+"'>"+R+T+"</td>",i+="</tr>",I){for(S=d[f+1],k=g.startRow,D=void 0!==S?S.startRow:d[f].startRow+d[f].cnt,a._locgr&&(N=(p-1)*t)>g.startRow&&(k=N),x=k;x<D&&e[x-N];x++)i+=e[x-N].join("");if("header"!==a.groupSummaryPos[g.idx]){if(void 0!==S){for(w=0;w<a.groupField.length&&S.dataIndex!==a.groupField[w];w++);o=a.groupField.length-w}for(C=0;C<o;C++)l[C]&&(i+="<tr data-jqfootlevel='"+(g.idx-C)+(A&&(0<g.idx-C||!a.showSummaryOnHide)?"' style='display:none;'":"'")+" role='row' class='"+v+"'>",i+=b(f,C,d[g.idx-C],0),i+="</tr>");o=w}}}),this.off(f).on(f,function(){var e,t,i,o,s=r.iColByName[a.iconColumnName];if(0<=$.inArray("header",a.groupSummaryPos)){for(o=0;o<u.length;o++)if(!u[o].hidden){i=o;break}if(void 0===i||s===i)return;for(e=0;e<n.rows.length;e++)t=n.rows[e],$(t).hasClass("jqgroup")&&($(t.cells[i]).html(t.cells[s].innerHTML),$(t.cells[s]).html("&nbsp;"));a.iconColumnName=u[i].name}}),i},groupingGroupBy:function(e,t){return this.each(function(){var i,n,r=this.p,o=r.groupingView;for("string"==typeof e&&(e=[e]),r.grouping=!0,o._locgr=!1,void 0===o.visibiltyOnNextGrouping&&(o.visibiltyOnNextGrouping=[]),i=0;i<o.groupField.length;i++)n=r.colModel[r.iColByName[o.groupField[i]]],!o.groupColumnShow[i]&&o.visibiltyOnNextGrouping[i]&&null!=n&&!0===n.hidden&&base.showCol.call($(this),o.groupField[i]);for(i=0;i<e.length;i++)o.visibiltyOnNextGrouping[i]=$(r.idSel+"_"+jgrid.jqID(e[i])).is(":visible");r.groupingView=$.extend(r.groupingView,t||{}),o.groupField=e,$(this).trigger("reloadGrid")})},groupingRemove:function(e){return this.each(function(){var t,i=this.p,n=this.tBodies[0],r=i.groupingView;if(void 0===e&&(e=!0),!(i.grouping=!1)===e){for(t=0;t<r.groupField.length;t++)!r.groupColumnShow[t]&&r.visibiltyOnNextGrouping[t]&&base.showCol.call($(this),r.groupField);$("tr.jqgroup, tr.jqfoot",n).remove(),$("tr.jqgrow",n).filter(":hidden").show()}else $(this).trigger("reloadGrid")})},groupingCalculations:{handler:function(e,t,i,n,r,o){var s,a,l={sum:function(){return parseFloat(t||0)+parseFloat(o[i]||0)},min:function(){return""===t?parseFloat(o[i]||0):Math.min(parseFloat(t),parseFloat(o[i]||0))},max:function(){return""===t?parseFloat(o[i]||0):Math.max(parseFloat(t),parseFloat(o[i]||0))},count:function(){return""===t&&(t=0),o.hasOwnProperty(i)?t+1:0},avg:function(){return l.sum()}};if(!l[e])throw"jqGrid Grouping No such method: "+e;return s=l[e](),null!=n&&("fixed"===r?s=s.toFixed(n):(a=Math.pow(10,n),s=Math.round(s*a)/a)),s}}}),$.jgrid.extend({jqGridImport:function(e){return e=$.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},e||{}),this.each(function(){var t,i=this,n=function(e,t){var n,r,o,s,a=$(t.xmlGrid.config,e)[0],l=$(t.xmlGrid.data,e)[0];if(xmlJsonClass.xml2json){for(o in n=xmlJsonClass.xml2json(a," "),n=$.parseJSON(n))n.hasOwnProperty(o)&&(r=n[o]);void 0!==r&&(l?(s=n.grid.datatype,n.grid.datatype="xmlstring",n.grid.datastr=e,$(i).jqGrid(r).jqGrid("setGridParam",{datatype:s})):$(i).jqGrid(r))}else(null!=jgrid.defaults&&$.isFunction(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert)("xml2json or parse are not present")},r=function(e,t){if(e&&"string"==typeof e){var n,r=$.parseJSON(e),o=r[t.jsonGrid.config],s=r[t.jsonGrid.data];s?(n=o.datatype,o.datatype="jsonstring",o.datastr=s,$(i).jqGrid(o).jqGrid("setGridParam",{datatype:n})):$(i).jqGrid(o)}};switch(e.imptype){case"xml":$.ajax($.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"xml",context:e,complete:function(e){!(e.status<300||304===e.status)||0===e.status&&4===e.readyState||(n(e.responseXML,this),$(i).triggerHandler("jqGridImportComplete",[e,this]),$.isFunction(this.importComplete)&&this.importComplete(e))}},e.ajaxOptions));break;case"xmlstring":e.impstring&&"string"==typeof e.impstring&&(t=$.parseXML(e.impstring))&&(n(t,e),$(i).triggerHandler("jqGridImportComplete",[t,e]),$.isFunction(e.importComplete)&&e.importComplete(t),e.impstring=null);break;case"json":$.ajax($.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"json",context:e,complete:function(e){try{!(e.status<300||304===e.status)||0===e.status&&4===e.readyState||(r(e.responseText,this),$(i).triggerHandler("jqGridImportComplete",[e,this]),$.isFunction(this.importComplete)&&this.importComplete(e))}catch(e){}}},e.ajaxOptions));break;case"jsonstring":e.impstring&&"string"==typeof e.impstring&&(r(e.impstring,e),$(i).triggerHandler("jqGridImportComplete",[e.impstring,e]),$.isFunction(e.importComplete)&&e.importComplete(e.impstring),e.impstring=null)}})},jqGridExport:function(e){e=$.extend({exptype:"xmlstring",root:"grid",ident:"\t"},e||{});var t=null;return this.each(function(){if(this.grid){var i,n=$.extend(!0,{},$(this).jqGrid("getGridParam"));if(n.rownumbers&&(n.colNames.splice(0,1),n.colModel.splice(0,1)),n.multiselect&&(n.colNames.splice(0,1),n.colModel.splice(0,1)),n.subGrid&&(n.colNames.splice(0,1),n.colModel.splice(0,1)),n.knv=null,n.treeGrid)for(i in n.treeReader)n.treeReader.hasOwnProperty(i)&&(n.colNames.splice(n.colNames.length-1),n.colModel.splice(n.colModel.length-1));switch(e.exptype){case"xmlstring":t="<"+e.root+">"+xmlJsonClass.json2xml(n,e.ident)+"</"+e.root+">";break;case"jsonstring":t="{"+xmlJsonClass.toJson(n,e.root,e.ident,!1)+"}",void 0!==n.postData.filters&&(t=(t=t.replace(/filters":"/,'filters":')).replace(/\}\]\}"/,"}]}"))}}}),t},excelExport:function(e){return e=$.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},e||{}),this.each(function(){var t;this.grid&&"remote"===e.exptype&&((t=$.extend({},this.p.postData,e.exportOptions))[e.oper]=e.tag,window.location=e.url+(null!=e.url&&0<=e.url.indexOf("?")?"&":"?")+$.param(t))})}});var editFeedback=function(e){var t=$.makeArray(arguments).slice(1);return t.unshift(""),t.unshift("Inline"),t.unshift(e),jgrid.feedback.apply(this,t)};jgrid.inlineEdit=jgrid.inlineEdit||{},jgrid.extend({editRow:function(e,t,i,n,r,o,s,a,l,c){var d={},u=$.makeArray(arguments).slice(1);return"object"===$.type(u[0])?d=u[0]:(void 0!==t&&(d.keys=t),$.isFunction(i)&&(d.oneditfunc=i),$.isFunction(n)&&(d.successfunc=n),void 0!==r&&(d.url=r),null!=o&&(d.extraparam=o),$.isFunction(s)&&(d.aftersavefunc=s),$.isFunction(a)&&(d.errorfunc=a),$.isFunction(l)&&(d.afterrestorefunc=l),$.isFunction(c)&&(d.beforeEditRow=c)),this.each(function(){var t=this,i=$(t),n=t.p,r=0,o=null,s={},a={},l=n.colModel,c=n.prmNames;if(t.grid){var u=$.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,beforeEditRow:null,focusField:!0},jgrid.inlineEdit,n.inlineEditing||{},d),h=i.jqGrid("getInd",e,!0),p=u.focusField,f="object"==typeof p&&null!=p?$(p.target||p).closest("tr.jqgrow>td")[0]:null;if(!1!==h&&(u.extraparam[c.oper]===c.addoper||editFeedback.call(t,u,"beforeEditRow",u,e))&&"0"===($(h).attr("editable")||"0")&&!$(h).hasClass("not-editable-row")){var g=jgrid.detectRowEditing.call(t,e);if(null!=g&&"cellEditing"===g.mode){var m=g.savedRow,v=t.rows[m.id],b=getGuiStateStyles.call(t,"select");i.jqGrid("restoreCell",m.id,m.ic),$(v.cells[m.ic]).removeClass("edit-cell "+b),$(v).addClass(b).attr({"aria-selected":"true",tabindex:"0"})}if(jgrid.enumEditableCells.call(t,h,$(h).hasClass("jqgrid-new-row")?"add":"edit",function(i){var l,c,d,u=i.cm,h=$(i.dataElement),p=i.dataWidth,f=u.name,g=u.edittype,m=i.iCol,v=u.editoptions||{};if(a[f]=i.editable,"hidden"!==i.editable){try{l=$.unformat.call(this,i.td,{rowId:e,colModel:u},m)}catch(i){l="textarea"===g?h.text():h.html()}s[f]=l,h.html(""),c=$.extend({},v,{id:e+"_"+f,name:f,rowId:e,mode:i.mode,cm:u,iCol:m}),("&nbsp;"===l||"&#160;"===l||1===l.length&&160===l.charCodeAt(0))&&(l=""),d=jgrid.createEl.call(t,g,c,l,!0,$.extend({},jgrid.ajaxOptions,n.ajaxSelectOptions||{})),$(d).addClass("editable"),h.append(d),p&&$(d).width(i.dataWidth),jgrid.bindEv.call(t,d,c),"select"===g&&!0===v.multiple&&void 0===v.dataUrl&&jgrid.msie&&$(d).width($(d).width()),null===o&&(o=m),r++}}),0<r){if(s.id=e,n.savedRow.push(s),n.editingInfo[e]={mode:"inlineEditing",savedRow:s,editable:a},$(h).attr("editable","1"),p&&("number"==typeof p&&parseInt(p,10)<=l.length?o=p:"string"==typeof p?o=n.iColByName[p]:null!=f&&(o=f.cellIndex),setTimeout(function(){var e=i.jqGrid("getNumberOfFrozenColumns"),r=function(i){return n.frozenColumns&&0<e&&o<e?t.grid.fbRows[h.rowIndex].cells[i]:h.cells[i]},s=function(e){return $(e).find("input,textarea,select,button,object,*[tabindex]").filter(":input:visible:not(:disabled)")},a=function(){return s(n.frozenColumns&&0<e?t.grid.fbRows[h.rowIndex]:h).first()},l=s(r(o));0<l.length?l.first().focus():"number"==typeof u.defaultFocusField||"string"==typeof u.defaultFocusField?(0===(l=s(r("number"==typeof u.defaultFocusField?u.defaultFocusField:n.iColByName[u.defaultFocusField]))).length&&(l=a()),l.first().focus()):a().focus()},0)),!0===u.keys){var y=$(h);n.frozenColumns&&(y=y.add(t.grid.fbRows[h.rowIndex])),y.on("keydown",function(t){return 27===t.keyCode?(i.jqGrid("restoreRow",e,u.afterrestorefunc),!1):13===t.keyCode?"TEXTAREA"===t.target.tagName||(i.jqGrid("saveRow",e,u),!1):void 0})}fullBoolFeedback.call(t,u.oneditfunc,"jqGridInlineEditRow",e,u)}}}})},saveRow:function(e,t,i,n,r,o,s,a){var l,c=$.makeArray(arguments).slice(1),d={},u=this[0],h=$(u),p=null!=u?u.p:null,f=jgrid.info_dialog,g=$.isFunction,m=null!=jgrid.defaults&&g(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert;if(u.grid&&null!=p){"object"===$.type(c[0])?d=c[0]:(g(t)&&(d.successfunc=t),void 0!==i&&(d.url=i),void 0!==n&&(d.extraparam=n),g(r)&&(d.aftersavefunc=r),g(o)&&(d.errorfunc=o),g(s)&&(d.afterrestorefunc=s),g(a)&&(d.beforeSaveRow=a));var v=function(e){return h.jqGrid("getGridRes",e)};d=$.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,beforeSaveRow:null,ajaxSaveOptions:{},serializeSaveData:null,mtype:"POST",saveui:"enable",savetext:v("defaults.savetext")||"Saving..."},jgrid.inlineEdit,p.inlineEditing||{},d);var b,y,w,x,C,k,S,D,T={},_={},j={},A=h.jqGrid("getInd",e,!0),F=$(A),N=p.prmNames,I=v("errors.errcap"),O=v("edit.bClose"),R=function(e,t){try{var i=jgrid.getRelativeRect.call(u,t);f.call(u,I,e,O,{top:i.top,left:i.left+$(u).closest(".ui-jqgrid").offset().left})}catch(t){m(e)}};if(!1!==A&&(l=d.extraparam[N.oper]===N.addoper?"add":"edit",editFeedback.call(u,d,"beforeSaveRow",d,e,l)&&(b=F.attr("editable"),d.url=d.url||p.editurl,S="clientArray"!==d.url,"1"===b))){if(k=$.jgrid.detectRowEditing.call(u,e),jgrid.enumEditableCells.call(u,A,F.hasClass("jqgrid-new-row")?"add":"edit",function(e){var t=e.cm,i=t.formatter,n=t.editoptions||{},r=t.formatoptions||{},o={},s=jgrid.getEditedValue.call(u,$(e.dataElement),t,o,e.editable);if("select"===t.edittype&&"select"!==t.formatter&&(_[t.name]=o.text),null!=(C=jgrid.checkValues.call(u,s,e.iCol,void 0,void 0,$.extend(e,{oldValue:null!=k?k.savedRow[t.name]:null,newValue:s,oldRowData:null!=k?k.savedRow:null})))&&!1===C[0])return D=!0,R(C[1],e.td),!1;"date"===i&&!0!==r.sendFormatted&&(s=$.unformat.date.call(u,s,t)),S&&!0===n.NullIfEmpty&&""===s&&(s="null"),T[t.name]=s}),D)return;var E;N=p.prmNames,E=!1===p.keyName?N.id:p.keyName,T&&(T[N.oper]=N.editoper,void 0!==T[E]&&""!==T[E]||(T[E]=jgrid.stripPref(p.idPrefix,e)),T=$.extend({},T,p.inlineData||{},d.extraparam));var M={options:d,rowid:e,tr:A,iRow:A.rowIndex,savedRow:k.savedRow,newData:T,mode:l};if(!editFeedback.call(u,d,"saveRowValidation",M))return void(M.errorText&&R(M.errorText,A));if(S)h.jqGrid("progressBar",{method:"show",loadtype:d.saveui,htmlcontent:d.savetext}),(j=$.extend({},T,j))[E]=jgrid.stripPref(p.idPrefix,j[E]),p.autoEncodeOnEdit&&$.each(j,function(e,t){g(t)||(j[e]=jgrid.oldEncodePostedData(t))}),A.id===p.idPrefix+j[E]||null==N.idold||j.hasOwnProperty(N.idold)||(j[N.idold]=jgrid.stripPref(p.idPrefix,A.id)),$.ajax($.extend({url:g(d.url)?d.url.call(u,j[E],l,j,d):d.url,data:jgrid.serializeFeedback.call(u,g(d.serializeSaveData)?d.serializeSaveData:p.serializeRowData,"jqGridInlineSerializeSaveData",j),type:g(d.mtype)?d.mtype.call(u,l,d,j[E],j):d.mtype,complete:function(t,i){var n,r,o;if(h.jqGrid("progressBar",{method:"hide",loadtype:d.saveui}),(t.status<300||304===t.status)&&(0!==t.status||4!==t.readyState))if(null!=(r=h.triggerHandler("jqGridInlineSuccessSaveRow",[t,e,d,l,j]))&&!0!==r||(r=[!0,T]),r[0]&&g(d.successfunc)&&(r=d.successfunc.call(u,t,e,d,l,j)),$.isArray(r)?(n=r[0],T=r[1]||T):n=r,!0===n){for(p.autoEncodeOnEdit&&$.each(T,function(e,t){T[e]=jgrid.oldDecodePostedData(t)}),T=$.extend({},T,_),h.jqGrid("setRowData",e,T),F.attr("editable","0"),o=0;o<p.savedRow.length;o++)if(String(p.savedRow[o].id)===String(e)){w=o;break}0<=w&&(p.savedRow.splice(w,1),delete p.editingInfo[e]),fullBoolFeedback.call(u,d.aftersavefunc,"jqGridInlineAfterSaveRow",e,t,T,d),null!=r[2]?h.jqGrid("changeRowid",e,p.idPrefix+r[2]):A.id!==p.idPrefix+T[E]&&h.jqGrid("changeRowid",A.id,p.idPrefix+T[E]),F.removeClass("jqgrid-new-row").off("keydown")}else fullBoolFeedback.call(u,d.errorfunc,"jqGridInlineErrorSaveRow",e,t,i,null,d),!0===d.restoreAfterError&&h.jqGrid("restoreRow",e,d.afterrestorefunc)},error:function(t,i,n){if(h.triggerHandler("jqGridInlineErrorSaveRow",[e,t,i,n,d]),g(d.errorfunc))d.errorfunc.call(u,e,t,i,n);else{var r=t.responseText||t.statusText;try{f.call(u,I,'<div class="'+getGuiStateStyles.call(u,"error")+'">'+r+"</div>",O,{buttonalign:"right"})}catch(t){m(r)}}!0===d.restoreAfterError&&h.jqGrid("restoreRow",e,d.afterrestorefunc)}},jgrid.ajaxOptions,p.ajaxRowOptions,d.ajaxSaveOptions||{}));else{for(T=$.extend({},T,_),x=h.jqGrid("setRowData",e,T),F.attr("editable","0"),y=0;y<p.savedRow.length;y++)if(String(p.savedRow[y].id)===String(e)){w=y;break}0<=w&&(p.savedRow.splice(w,1),delete p.editingInfo[e]),fullBoolFeedback.call(u,d.aftersavefunc,"jqGridInlineAfterSaveRow",e,x,T,d),F.removeClass("jqgrid-new-row").off("keydown"),A.id!==p.idPrefix+T[E]&&h.jqGrid("changeRowid",A.id,p.idPrefix+T[E])}}}},restoreRow:function(e,t){var i=$.makeArray(arguments).slice(1),n={};return"object"===$.type(i[0])?n=i[0]:$.isFunction(t)&&(n.afterrestorefunc=t),this.each(function(){var t,i=this,r=$(i),o=i.p,s=-1,a={};if(i.grid){var l=$.extend(!0,{},jgrid.inlineEdit,o.inlineEditing||{},n),c=r.jqGrid("getInd",e,!0);if(!1!==c&&editFeedback.call(i,l,"beforeCancelRow",l,e)){for(t=0;t<o.savedRow.length;t++)if(String(o.savedRow[t].id)===String(e)){s=t;break}if(0<=s){if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker","#"+jgrid.jqID(c.id)).datepicker("hide")}catch(t){}$.each(o.colModel,function(){var e=this.name;o.savedRow[s].hasOwnProperty(e)&&(a[e]=o.savedRow[s][e],!this.formatter||"date"!==this.formatter||null!=this.formatoptions&&!0===this.formatoptions.sendFormatted||(a[e]=$.unformat.date.call(i,a[e],this)))}),r.jqGrid("setRowData",e,a),$(c).attr("editable","0").off("keydown"),o.savedRow.splice(s,1),delete o.editingInfo[e],$("#"+jgrid.jqID(e),i).hasClass("jqgrid-new-row")&&setTimeout(function(){r.jqGrid("delRowData",e),r.jqGrid("showAddEditButtons",!1)},0)}fullBoolFeedback.call(i,l.afterrestorefunc,"jqGridInlineAfterRestoreRow",e)}}})},addRow:function(e){return this.each(function(){if(this.grid){var t=this,i=$(t),n=t.p,r=$.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,beforeAddRow:null,addRowParams:{extraparam:{}}},jgrid.inlineEdit,n.inlineEditing||{},e||{});if(editFeedback.call(t,r,"beforeAddRow",r.addRowParams))if(r.rowID=$.isFunction(r.rowID)?r.rowID.call(t,r):null!=r.rowID?r.rowID:jgrid.randId(),!0===r.useDefValues&&$(n.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var e=this.editoptions.defaultValue;r.initdata[this.name]=$.isFunction(e)?e.call(t,r):e}}),r.rowID=n.idPrefix+r.rowID,i.jqGrid("addRowData",r.rowID,r.initdata,r.position),$("#"+jgrid.jqID(r.rowID),t).addClass("jqgrid-new-row"),r.useFormatter)$("#"+jgrid.jqID(r.rowID)+" .ui-inline-edit",t).click();else{var o=n.prmNames,s=o.oper;r.addRowParams.extraparam[s]=o.addoper,i.jqGrid("editRow",r.rowID,r.addRowParams),i.jqGrid("setSelection",r.rowID)}}})},inlineNav:function(e,t){return"object"==typeof e&&(t=e,e=void 0),this.each(function(){var i=this,n=$(i),r=i.p;if(this.grid&&null!=r){var o,s=e===r.toppager?r.idSel+"_top":r.idSel,a=e===r.toppager?r.id+"_top":r.id,l=getGuiStateStyles.call(i,"disabled"),c=$.extend(!0,{edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",save:!0,saveicon:"ui-icon-disk",cancel:!0,cancelicon:"ui-icon-cancel",commonIconClass:"ui-icon",iconsOverText:!1,addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0},n.jqGrid("getGridRes","nav"),jgrid.nav||{},r.navOptions||{},jgrid.inlineNav||{},r.inlineNavOptions||{},t||{}),d=function(){i.modalAlert()};if(void 0===e)if(r.pager){if(n.jqGrid("inlineNav",r.pager,c),!r.toppager)return;e=r.toppager,s=r.idSel+"_top",a=r.id+"_top"}else r.toppager&&(e=r.toppager,s=r.idSel+"_top",a=r.id+"_top");if(void 0!==e&&!((o=$(e)).length<=0)){if(o.find(".navtable").length<=0&&n.jqGrid("navGrid",e,{add:!1,edit:!1,del:!1,search:!1,refresh:!1,view:!1}),(r._inlinenav=!0)===c.addParams.useFormatter){var u,h,p,f=r.colModel;for(u=0;u<f.length;u++)if(f[u].formatter&&"actions"===f[u].formatter){f[u].formatoptions&&(h={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},p=$.extend(h,f[u].formatoptions),c.addParams.addRowParams={keys:p.keys,oneditfunc:p.onEdit,successfunc:p.onSuccess,url:p.url,extraparam:p.extraparam,aftersavefunc:p.afterSave,errorfunc:p.onError,afterrestorefunc:p.afterRestore});break}}c.add&&n.jqGrid("navButtonAdd",e,{caption:c.addtext,title:c.addtitle,commonIconClass:c.commonIconClass,buttonicon:c.addicon,iconsOverText:c.iconsOverText,id:a+"_iladd",onClickButton:function(){hasOneFromClasses(this,l)||n.jqGrid("addRow",c.addParams)}}),c.edit&&n.jqGrid("navButtonAdd",e,{caption:c.edittext,title:c.edittitle,commonIconClass:c.commonIconClass,buttonicon:c.editicon,iconsOverText:c.iconsOverText,id:a+"_iledit",onClickButton:function(){if(!hasOneFromClasses(this,l)){var e=r.selrow;e?n.jqGrid("editRow",e,c.editParams):d()}}}),c.save&&(n.jqGrid("navButtonAdd",e,{caption:c.savetext,title:c.savetitle,commonIconClass:c.commonIconClass,buttonicon:c.saveicon,iconsOverText:c.iconsOverText,id:a+"_ilsave",onClickButton:function(){if(!hasOneFromClasses(this,l)&&0<r.savedRow.length){var e=r.savedRow[0].id;if(e){var t=r.prmNames,o=t.oper,s=c.editParams;$("#"+jgrid.jqID(e),i).hasClass("jqgrid-new-row")?(c.addParams.addRowParams.extraparam[o]=t.addoper,s=c.addParams.addRowParams):(c.editParams.extraparam||(c.editParams.extraparam={}),c.editParams.extraparam[o]=t.editoper),n.jqGrid("saveRow",e,s)}else d()}}}),$(s+"_ilsave").addClass(l)),c.cancel&&(n.jqGrid("navButtonAdd",e,{caption:c.canceltext,title:c.canceltitle,commonIconClass:c.commonIconClass,buttonicon:c.cancelicon,iconsOverText:c.iconsOverText,id:a+"_ilcancel",onClickButton:function(){if(!hasOneFromClasses(this,l)&&0<r.savedRow.length){var e=r.savedRow[0].id,t=c.editParams;e?($("#"+jgrid.jqID(e),i).hasClass("jqgrid-new-row")&&(t=c.addParams.addRowParams),n.jqGrid("restoreRow",e,t)):d()}}}),$(s+"_ilcancel").addClass(l)),!0===c.restoreAfterSelect&&n.on("jqGridSelectRow",function(e,t){if(0<r.savedRow.length&&!0===r._inlinenav){var i=r.savedRow[0].id;t!==i&&"number"!=typeof i&&n.jqGrid("restoreRow",i,c.editParams)}}),n.on("jqGridInlineAfterRestoreRow jqGridInlineAfterSaveRow",function(){n.jqGrid("showAddEditButtons",!1)}),n.on("jqGridInlineEditRow",function(e,t){n.jqGrid("showAddEditButtons",!0,t)})}}})},showAddEditButtons:function(e){return this.each(function(){if(this.grid){var t=this.p,i=t.idSel,n=getGuiStateStyles.call(this,"disabled"),r=i+"_ilsave,"+i+"_ilcancel"+(t.toppager?","+i+"_top_ilsave,"+i+"_top_ilcancel":""),o=i+"_iladd,"+i+"_iledit"+(t.toppager?","+i+"_top_iladd,"+i+"_top_iledit":"");$(e?o:r).addClass(n),$(e?r:o).removeClass(n)}})}});var $UiMultiselect=null!=$.ui?$.ui.multiselect:null,reorderSelectedColumns=function(e){if(null!=this.grid&&null!=this.grid.p){var t,i,n,r,o,s=this,a=this.grid.p,l=this.gh,c=this.selectedList,d=this.inGroup,u=c.find("li"),h=u.length-1,p=function(e,t,i){var n,r,o=c.find("li");for(void 0===t&&(t=i?o.length-1:0),n=t;i?0<=n:n<o.length;i?n--:n++)if((r=$(o[n]).data("optionLink"))&&e.call(o[n],parseInt(r.val(),10),n))return n},f=function(){0<=(i=$.inArray(a.colModel[e].name,s.newColOrder))&&s.newColOrder.splice(i,1),u=c.find("li"),t=0,p(function(i,n){if(i===e){for(h=n;0<=t&&t<a.colModel.length&&t!==e&&(a.colModel[t].hidden||a.colModel[t].hidedlg)&&(null==d||d[t]===d[e]);)t++;return s.newColOrder.splice(t,0,a.colModel[e].name),!0}(t=$.inArray(a.colModel[i].name,s.newColOrder,t))<0&&(t=$.inArray(a.colModel[i].name,s.newColOrder)),t++})},g=function(t){if(d[t]===d[e])return $(this).after(u[h]),f(),!0},m=function(t){if(d[t]===d[e])return $(this).before(u[h]),f(),!0},v=function(t){if(d[t]===d[e]&&void 0!==d[t])return l[d[t]].startColumnName=a.colModel[t].name,!0};if(f(),l&&void 0!==l[d[e]]){for(r=l[d[e]],i=0;i<r.numberOfColumns;i++)if(t=a.iColByName[r.startColumnName]+i,!a.colModel[t].hidden&&!a.colModel[t].hidedlg){p(g,h-1,!0),p(m,h+1),p(v);break}}else if(l){if(u=c.find("li"),(i=p(function(t){if(t===e)return!0}))+1>=u.length||i<0)return;if((o=$(u[i+1]).data("optionLink"))&&void 0!==(n=d[parseInt(o.val(),10)])&&(o=$(u[i-1]).data("optionLink"))&&d[parseInt(o.val(),10)]===n){var b=p(function(e){if(d[e]!==n)return!0},i+1);$(u[void 0===b||b>=u.length?u.length-1:b-1]).after(u[h]),f()}}}};if(jgrid.msie&&8===jgrid.msiever()&&($.expr[":"].hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||"none"===e.style.display}),jgrid._multiselect=!1,$UiMultiselect){if($UiMultiselect.prototype._setSelected){var setSelected=$UiMultiselect.prototype._setSelected;$UiMultiselect.prototype._setSelected=function(e,t){var i=setSelected.call(this,e,t),n=this.element,r=parseInt(e.data("optionLink").val(),10);return t&&this.selectedList&&(reorderSelectedColumns.call(this,r),this.selectedList.find("li").each(function(){$(this).data("optionLink")&&$(this).data("optionLink").remove().appendTo(n)})),i}}$UiMultiselect.prototype.destroy&&($UiMultiselect.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===$.Widget?$.widget.prototype.destroy.apply(this,arguments):$.Widget.prototype.destroy.apply(this,arguments)}),jgrid._multiselect=!0}function Aggregation(e,t,i){if(!(this instanceof Aggregation))return new Aggregation(e);this.aggregator=e,this.finilized=!1,this.context=t,this.pivotOptions=i}function ArrayOfFieldsets(e,t,i,n,r){var o,s,a=n.length,l=this,c=function(e,t){var i=e,n=t;if(null==i&&(i=""),null==n&&(n=""),i=String(i),n=String(n),this.caseSensitive||(i=i.toUpperCase(),n=n.toUpperCase()),i===n){if(e===t)return 0;if(void 0===e)return-1;if(void 0===t)return 1;if(null===e)return-1;if(null===t)return 1}return i<n?-1:1},d=function(e,t){return(e=Number(e))===(t=Number(t))?0:e<t?-1:1},u=function(e,t){return(e=Math.floor(Number(e)))===(t=Math.floor(Number(t)))?0:e<t?-1:1};for(l.items=[],l.indexesOfSourceData=[],l.trimByCollect=e,l.caseSensitive=t,l.skipSort=i,l.fieldLength=a,l.fieldNames=new Array(a),l.fieldSortDirection=new Array(a),l.fieldCompare=new Array(a),o=0;o<a;o++){switch(s=n[o],l.fieldNames[o]=s[r||"dataName"],s.sorttype){case"integer":case"int":l.fieldCompare[o]=u;break;case"number":case"currency":case"float":l.fieldCompare[o]=d;break;default:l.fieldCompare[o]=$.isFunction(s.compare)?s.compare:c}l.fieldSortDirection[o]="desc"===s.sortorder?-1:1}}jgrid.extend({sortableColumns:function(e){return this.each(function(){var t=this,i=t.p,n=jqID(i.id);if(i&&i.sortable&&$.isFunction($.fn.sortable)){var r={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+n+"_cb,#jqgh_"+n+"_rn,#jqgh_"+n+"_subgrid),:hidden)",placeholder:{element:function(e){return $(document.createElement(e[0].nodeName)).addClass(e[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(e,t){t.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),t.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},start:function(){t.grid.hDiv.scrollLeft=t.grid.bDiv.scrollLeft},update:function(e,n){var r=$(">th",$(n.item).parent()),o=i.id+"_",s=[];r.each(function(){var e=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(o,""),t=i.iColByName[e];void 0!==t&&s.push(t)}),$(t).jqGrid("remapColumns",s,!0,!0),$.isFunction(i.sortable.update)&&i.sortable.update(s),setTimeout(function(){i.disableClick=!1},50)}};if(i.sortable.options?$.extend(r,i.sortable.options):$.isFunction(i.sortable)&&(i.sortable={update:i.sortable}),r.start){var o=r.start;r.start=function(e,t){l(),o.call(this,e,t)}}else r.start=l;i.sortable.exclude&&(r.items+=":not("+i.sortable.exclude+")");var s=e.sortable(r),a=s.data("sortable")||s.data("uiSortable")||s.data("ui-sortable");null!=a&&(a.floating=!0)}function l(){i.disableClick=!0}})},columnChooser:function(e){var t,i,n,r,o,s,a,l=this,c=l[0],d=c.p,u=d.colModel,h=u.length,p=d.colNames,f=function(e){return $UiMultiselect&&$UiMultiselect.prototype&&e.data($UiMultiselect.prototype.widgetFullName||$UiMultiselect.prototype.widgetName)||e.data("ui-multiselect")||e.data("multiselect")};if(!$("#colchooser_"+jqID(d.id)).length){if(t=$('<div id="colchooser_'+d.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),i=$("select",t),e=$.extend({width:400,height:240,classname:null,done:function(e){e&&l.jqGrid("remapColumns",e,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470,dialogClass:"ui-jqdialog"},dlog_opts:function(e){var t={};return t[e.bSubmit]=function(){e.apply_perm(),e.cleanup(!1)},t[e.bCancel]=function(){e.cleanup(!0)},$.extend(!0,{buttons:t,close:function(){e.cleanup(!0)},modal:e.modal||!1,resizable:e.resizable||!0,width:e.width+70,resize:function(){var e=f(i),t=e.container.closest(".ui-dialog-content");0<t.length&&"object"==typeof t[0].style?t[0].style.width="":t.css("width",""),e.selectedList.height(Math.max(e.selectedContainer.height()-e.selectedActions.outerHeight()-1,1)),e.availableList.height(Math.max(e.availableContainer.height()-e.availableActions.outerHeight()-1,1))}},e.dialog_opts||{})},apply_perm:function(){var t,n,r=new Array(d.colModel.length),o={notSkipFrozen:void 0!==e.notSkipFrozen&&e.notSkipFrozen,skipSetGridWidth:!0,skipSetGroupHeaders:!0};for(t=0;t<d.colModel.length;t++)r[t]=d.iColByName[s.newColOrder[t]];if($("option",i).each(function(){$(this).is(":selected")?l.jqGrid("showCol",u[this.value].name,o):l.jqGrid("hideCol",u[this.value].name,o)}),e.done&&e.done.call(l,r),d.groupHeader&&("object"==typeof d.groupHeader||$.isFunction(d.groupHeader)))if(l.jqGrid("destroyGroupHeader",!1),d.groupHeader.groupHeaders=s.gh,null!=d.pivotOptions&&null!=d.pivotOptions.colHeaders&&1<d.pivotOptions.colHeaders.length)for(n=d.pivotOptions.colHeaders,t=0;t<n.length;t++)n[t]&&n[t].groupHeaders.length&&l.jqGrid("setGroupHeaders",n[t]);else l.jqGrid("setGroupHeaders",d.groupHeader);var a=d.autowidth||void 0!==d.widthOrg&&"auto"!==d.widthOrg&&"100%"!==d.widthOrg?d.width:d.tblwidth;a!==d.width&&l.jqGrid("setGridWidth",a,d.shrinkToFit)},cleanup:function(n){k(e.dlog,t,"destroy"),k(e.msel,i,"destroy"),t.remove(),n&&e.done&&e.done.call(l)},msel_opts:{}},l.jqGrid("getGridRes","col"),jgrid.col,e||{}),$.ui&&$UiMultiselect&&$UiMultiselect.defaults){if(!jgrid._multiselect)return void(null!=jgrid.defaults&&$.isFunction(jgrid.defaults.fatalError)?jgrid.defaults.fatalError:alert)("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");e.msel_opts=$.extend($UiMultiselect.defaults,e.msel_opts)}e.caption&&t.attr("title",e.caption),e.classname&&(t.addClass(e.classname),i.addClass(e.classname)),e.width&&($(">div",t).css({width:e.width,margin:"0 auto"}),i.css("width",e.width)),e.height&&($(">div",t).css("height",e.height),i.css("height",e.height-10)),i.empty();var g,m,v,b,y=null!=d.groupHeader?d.groupHeader.groupHeaders:0,w={};if(y)for(g=0;g<y.length;g++)for(b=y[g],m=0;m<b.numberOfColumns;m++)v=d.iColByName[b.startColumnName]+m,w[v]=$.isFunction(e.buildItemText)?e.buildItemText.call(l[0],{iCol:v,cm:u[v],cmName:u[v].name,colName:p[v],groupTitleText:b.titleText}):$.jgrid.stripHtml(b.titleText)+": "+$.jgrid.stripHtml(""===p[v]?u[v].name:p[v]);for(v=0;v<h;v++)void 0===w[v]&&(w[v]=$.isFunction(e.buildItemText)?e.buildItemText.call(l[0],{iCol:v,cm:u[v],cmName:u[v].name,colName:p[v],groupTitleText:null}):$.jgrid.stripHtml(p[v]));if($.each(u,function(e){this.hidedlg||i.append("<option value='"+e+"'"+(d.headertitles||this.headerTitle?" title='"+jgrid.stripHtml("string"==typeof this.headerTitle?this.headerTitle:w[e])+"'":"")+(this.hidden?"":" selected='selected'")+">"+w[e]+"</option>")}),n=$.isFunction(e.dlog_opts)?e.dlog_opts.call(l,e):e.dlog_opts,k(e.dlog,t,n),r=$.isFunction(e.msel_opts)?e.msel_opts.call(l,e):e.msel_opts,k(e.msel,i,r),(o=$("#colchooser_"+jqID(d.id))).css({margin:"auto"}),o.find(">div").css({width:"100%",height:"100%",margin:"auto"}),s=f(i)){var x,C;if(s.grid=c,y)for(s.gh=$.extend(!0,[],y),s.inGroup=new Array(d.colModel.length),x=0;x<y.length;x++)for(C=y[x],v=0;v<C.numberOfColumns;v++)s.inGroup[d.iColByName[C.startColumnName]+v]=x;s.newColOrder=$.map(u,function(e){return e.name}),s.container.css({width:"100%",height:"100%",margin:"auto"}),s.selectedContainer.css({width:100*s.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),s.availableContainer.css({width:100-100*s.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),s.selectedList.css("height","auto"),s.availableList.css("height","auto"),a=Math.max(s.selectedList.height(),s.availableList.height()),a=Math.min(a,$(window).height()),s.selectedList.css("height",a),s.availableList.css("height",a),null!=s.options&&s.options.sortable&&s.selectedList.on("sortupdate",function(t,i){reorderSelectedColumns.call(s,parseInt(i.item.data("optionLink").val(),10)),i.item.css({width:"",height:""}),$.isFunction(e.sortUpdate)&&e.sortUpdate.call(c,t,i)}),$.isFunction(e.init)&&e.init.call(c,s)}}function k(e,t){e&&("string"==typeof e?$.fn[e]&&$.fn[e].apply(t,$.makeArray(arguments).slice(2)):$.isFunction(e)&&e.apply(t,$.makeArray(arguments).slice(2)))}},sortableRows:function(e){return this.each(function(){var t=this,i=t.grid,n=t.p;i&&(n.treeGrid||$.fn.sortable&&((e=$.extend({cursor:"move",axis:"y",items:">tbody>.jqgrow"},e||{})).start&&$.isFunction(e.start)?(e._start_=e.start,delete e.start):e._start_=!1,e.update&&$.isFunction(e.update)?(e._update_=e.update,delete e.update):e._update_=!1,e.start=function(r,o){if($(o.item).css("border-width","0"),$("td",o.item).each(function(e){this.style.width=i.cols[e].style.width}),n.subGrid){var s=$(o.item).attr("id");try{$(t).jqGrid("collapseSubGridRow",s)}catch(r){}}e._start_&&e._start_.apply(this,[r,o])},e.update=function(i,r){$(r.item).css("border-width",""),!0===n.rownumbers&&$("td.jqgrid-rownum",t.rows).each(function(e){$(this).html(e+1+(parseInt(n.page,10)-1)*parseInt(n.rowNum,10))}),e._update_&&e._update_.apply(this,[i,r])},$(t).sortable(e)))})},gridDnD:function(e){return this.each(function(){var t,i,n=this;if(n.grid&&!n.p.treeGrid&&$.fn.draggable&&$.fn.droppable)if(void 0===$("#jqgrid_dnd")[0]&&$("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>"),"string"!=typeof e||"updateDnD"!==e||!0!==n.p.jqgdnd){if((e=$.extend({drag:function(e){return $.extend({start:function(t,i){var r,o;if(n.p.subGrid){o=$(i.helper).attr("id");try{$(n).jqGrid("collapseSubGridRow",o)}catch(t){}}for(r=0;r<$.data(n,"dnd").connectWith.length;r++)0===$($.data(n,"dnd").connectWith[r]).jqGrid("getGridParam","reccount")&&$($.data(n,"dnd").connectWith[r]).jqGrid("addRowData","jqg_empty_row",{});i.helper.addClass("ui-state-highlight"),$("td",i.helper).each(function(e){this.style.width=n.grid.headers[e].width+"px"}),e.onstart&&$.isFunction(e.onstart)&&e.onstart.call($(n),t,i)},stop:function(t,i){var r,o;for(i.helper.dropped&&!e.dragcopy&&(void 0===(o=$(i.helper).attr("id"))&&(o=$(this).attr("id")),$(n).jqGrid("delRowData",o)),r=0;r<$.data(n,"dnd").connectWith.length;r++)$($.data(n,"dnd").connectWith[r]).jqGrid("delRowData","jqg_empty_row");e.onstop&&$.isFunction(e.onstop)&&e.onstop.call($(n),t,i)}},e.drag_opts||{})},drop:function(e){return $.extend({accept:function(e){if(!$(e).hasClass("jqgrow"))return e;var t=$(e).closest("table.ui-jqgrid-btable");if(0<t.length&&void 0!==$.data(t[0],"dnd")){var i=$.data(t[0],"dnd").connectWith;return-1!==$.inArray("#"+jqID(this.id),i)}return!1},drop:function(t,i){if($(i.draggable).hasClass("jqgrow")){var r,o=$(i.draggable).attr("id"),s=i.draggable.parent().parent(),a=s.jqGrid("getRowData",o);if(!e.dropbyname){var l,c,d,u,h={},p=s.jqGrid("getGridParam","colModel"),f=$("#"+jqID(this.id)).jqGrid("getGridParam","colModel");try{for(c=l=0;l<p.length&&c<f.length;l++)if("cb"!==(d=p[l].name)&&"rn"!==d&&"subgrid"!==d){for(;c<f.length;c++)if("cb"!==(u=f[c].name)&&"rn"!==u&&"subgrid"!==u){h[u]=a[d];break}c++}a=h}catch(t){}}if(i.helper.dropped=!0,e.beforedrop&&$.isFunction(e.beforedrop)){var g=e.beforedrop.call(this,t,i,a,$("#"+jqID(n.p.id)),$(this));null!=g&&"object"==typeof g&&(a=g)}i.helper.dropped&&(e.autoid&&($.isFunction(e.autoid)?r=e.autoid.call(this,a,{rowid:o,ev:t,ui:i}):(r=Math.ceil(1e3*Math.random()),r=e.autoidprefix+r)),$("#"+jqID(this.id)).jqGrid("addRowData",r,a,e.droppos),a[n.p.localReader.id]=r),e.ondrop&&$.isFunction(e.ondrop)&&e.ondrop.call(this,t,i,a)}}},e.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},e||{})).connectWith)for(e.connectWith=e.connectWith.split(","),e.connectWith=$.map(e.connectWith,function(e){return $.trim(e)}),$.data(n,"dnd",e),0===n.p.reccount||n.p.jqgdnd||r(),n.p.jqgdnd=!0,t=0;t<e.connectWith.length;t++)i=e.connectWith[t],$(i).droppable($.isFunction(e.drop)?e.drop.call($(n),e):e.drop)}else r();function r(){var e=$.data(n,"dnd");$("tr.jqgrow:not(.ui-draggable)",n).draggable($.isFunction(e.drag)?e.drag.call($(n),e):e.drag)}})},gridResize:function(e){return this.each(function(){var t,i=this,n=i.grid,r=i.p,o=r.gView+">.ui-jqgrid-bdiv",s=!1,a=r.height;if(n&&$.fn.resizable){if((e=$.extend({},e||{})).alsoResize?(e._alsoResize_=e.alsoResize,delete e.alsoResize):e._alsoResize_=!1,e.stop&&$.isFunction(e.stop)?(e._stop_=e.stop,delete e.stop):e._stop_=!1,e.stop=function(l,c){$(i).jqGrid("setGridWidth",c.size.width,e.shrinkToFit),$(r.gView+">.ui-jqgrid-titlebar").css("width",""),s?($(t).each(function(){$(this).css("height","")}),"auto"!==a&&"100%"!==a||$(n.bDiv).css("height",a)):$(i).jqGrid("setGridParam",{height:$(o).height()}),i.fixScrollOffsetAndhBoxPadding&&i.fixScrollOffsetAndhBoxPadding(),e._stop_&&e._stop_.call(i,l,c)},t=o,"auto"!==a&&"100%"!==a||void 0!==e.handles||(e.handles="e,w"),e.handles){var l=$.map(String(e.handles).split(","),function(e){return $.trim(e)});2===l.length&&("e"===l[0]&&"w"===l[1]||"e"===l[1]&&"w"===l[1])&&(t=r.gView+">div:not(.frozen-div)",s=!0,r.pager&&(t+=","+r.pager))}e._alsoResize_?e.alsoResize=t+","+e._alsoResize_:e.alsoResize=t,delete e._alsoResize_,$(r.gBox).resizable(e)}})}}),Aggregation.prototype.calc=function(e,t,i,n,r){var o=this;if(void 0!==e)switch(o.result=o.result||0,e=parseFloat(e),o.aggregator){case"sum":o.result+=e;break;case"count":o.result++;break;case"avg":o.finilized?(o.count=o.count||0,o.result=(o.result*o.count+e)/(o.count+1)):(o.result+=e,o.count=o.count||0),o.count++;break;case"min":o.result=Math.min(o.result,e);break;case"max":o.result=Math.max(o.result,e);break;default:$.isFunction(o.aggregator)&&(o.result=o.aggregator.call(o.context,{previousResult:o.result,value:e,fieldName:t,item:i,iItem:n,items:r}))}},Aggregation.prototype.getResult=function(e,t,i){var n=this;(void 0!==n.result||i)&&(i&&void 0!==n.result&&(n.result=0,n.count=0),void 0===n.result||n.finilized||"avg"!==n.aggregator||(n.result=n.result/n.count,n.finilized=!0),e[t]=n.result)},ArrayOfFieldsets.prototype.compareVectorsEx=function(e,t){var i,n,r=this.fieldLength;for(i=0;i<r;i++)if(0!==(n=this.fieldCompare[i](e[i],t[i])))return{index:i,result:n};return{index:-1,result:0}},ArrayOfFieldsets.prototype.getIndexOfDifferences=function(e,t){return null===t||null===e?0:this.compareVectorsEx(e,t).index},ArrayOfFieldsets.prototype.compareVectors=function(e,t){var i=this.compareVectorsEx(e,t);return 0<(0<=i.index?this.fieldSortDirection[i.index]:1)?i.result:-i.result},ArrayOfFieldsets.prototype.getItem=function(e){return this.items[e]},ArrayOfFieldsets.prototype.getIndexLength=function(){return this.items.length},ArrayOfFieldsets.prototype.getIndexesOfSourceData=function(e){return this.indexesOfSourceData[e]},ArrayOfFieldsets.prototype.createDataIndex=function(e){var t,i,n,r,o,s,a,l,c,d=e.length,u=this.fieldLength,h=this.fieldNames,p=this.indexesOfSourceData,f=this.items;for(t=0;t<d;t++){for(a=e[t],i=new Array(u),r=0;r<u;r++)void 0!==(n=a[h[r]])&&("string"==typeof n&&this.trimByCollect&&(n=$.trim(n)),i[r]=n);if(l=0,(c=f.length-1)<0)f.push(i),p.push([t]);else if(0!==(o=this.compareVectors(i,f[c])))if(1===o||this.skipSort)f.push(i),p.push([t]);else if(1!==(o=this.compareVectors(f[0],i)))if(0!==o)for(;;){if(c-l<2){f.splice(c,0,i),p.splice(c,0,[t]);break}if(s=Math.floor((l+c)/2),0===(o=this.compareVectors(f[s],i))){p[s].push(t);break}1===o?c=s:l=s}else p[0].push(t);else f.unshift(i),p.unshift([t]);else p[c].push(t)}},jgrid.extend({pivotSetup:function(e,t){var i,n,r,o,s,a,l,c,d,u,h,p,f,g,m,v,b,y,w,x,C,k,S,D,T,_,j,A,F,N=this[0],I=$.isArray,O={},R={groupField:[],groupSummary:[],groupSummaryPos:[]},E={grouping:!0,groupingView:R},M=$.extend({totals:!1,useColSpanStyle:!1,trimByCollect:!0,skipSortByX:!1,skipSortByY:!1,caseSensitive:!1,footerTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1,defaultFormatting:!0,data:e},t||{}),P=e.length,L=M.xDimension,q=M.yDimension,z=M.aggregates,H=M.totalText||M.totals||M.rowTotals||M.totalHeader,B=I(L)?L.length:0,G=I(q)?q.length:0,W=I(z)?z.length:0,V=G-(1===W?1:0),U=[],Y=[],X=[],K=[],Z=["pivotInfos"],J=new Array(W),Q=new Array(G),ee=function(t,i,n){var r=new ArrayOfFieldsets(M.trimByCollect,M.caseSensitive,i,t);return $.isFunction(n)&&(r.compareVectorsEx=n),r.createDataIndex(e),r},te=function(e,t,i,n,r){var o,s,a;switch(e){case 1:o=q[n].totalText||"{0} {1} {2}",s="y"+r+"t"+n;break;case 2:o=M.totalText||"{0}",s="t";break;default:o=1<W?t.label||"{0}":$.isFunction(q[n].label)?q[n].label:A.getItem(r)[n],s="y"+r}return delete(a=$.extend({},t,{name:s+(1<W?"a"+i:""),label:$.isFunction(o)?o.call(N,2===e?{aggregate:t,iAggregate:i,pivotOptions:M}:1===e?{yIndex:A.getItem(r),aggregate:t,iAggregate:i,yLevel:n,pivotOptions:M}:{yData:A.getItem(r)[n],yIndex:A.getItem(r),yLevel:n,pivotOptions:M}):jgrid.template.apply(N,2===e?[String(o),t.aggregator,t.member,i]:[String(o),t.aggregator,t.member,A.getItem(r)[n],n])})).member,delete a.aggregator,a},ie=function(e,t,i){var n,r;for(n=0;n<W;n++)void 0===(r=z[n]).template&&void 0===r.formatter&&M.defaultFormatting&&(r.template="count"===r.aggregator?"integer":"number"),X.push(te(e,r,n,t,i))},ne=function(e,t,i){var n,r,o,a;for(n=V-1;t<=n;n--)if(Y[n]){for(r=0;r<=n;r++)(T=U[r].groupHeaders)[T.length-1].numberOfColumns+=W;for(o=(s=q[n]).totalHeader,a=s.headerOnTop,r=n+1;r<=V-1;r++)U[r].groupHeaders.push({titleText:a&&r===n+1||!a&&r===V-1?$.isFunction(o)?o.call(N,i,n):jgrid.template.call(N,String(o||""),i[n],n):"",startColumnName:"y"+(e-1)+"t"+n+(1===W?"":"a0"),numberOfColumns:W})}},re=function(e){var i=new Aggregation("count"===z[e].aggregator?"sum":z[e].aggregator,N,t);return i.groupInfo={iRows:[],rows:[],ys:[],iYs:[]},i},oe=function(){var e,t;for(e=V-1;0<=e;e--)if(Y[e])for(null==Q[e]&&(Q[e]=new Array(W)),t=0;t<W;t++)Q[e][t]=re(t)},se=function(e,t,i,n){var r,o,s,a=A.getIndexOfDifferences(t,i);if(null!==i)for(a=Math.max(a,0),r=V-1;a<=r;r--)o="y"+e+"t"+r+(1<W?"a"+n:""),Y[r]&&void 0===S[o]&&((s=Q[r][n]).getResult(S,o),S.pivotInfos[o]={colType:1,iA:n,a:z[n],level:r,iRows:s.groupInfo.iRows,rows:s.groupInfo.rows,ys:s.groupInfo.ys,iYs:s.groupInfo.iYs},t!==i&&(Q[r][n]=re(n)))},ae=function(t,i,n,r,o,s,a){var l,c,d;if(t!==i)for(l=V-1;0<=l;l--)Y[l]&&((c=Q[l][r]).calc(o[n.member],n.member,o,s,e),d=c.groupInfo,$.inArray(a,d.iYs)<0&&(d.iYs.push(a),d.ys.push(t)),$.inArray(s,d.iRows)<0&&(d.iRows.push(s),d.rows.push(o)))};if(0===B||0===W)throw"xDimension or aggregates options are not set!";for(j=ee(L,M.skipSortByX,M.compareVectorsByX),A=ee(q,M.skipSortByY,M.compareVectorsByY),t.xIndex=j,t.yIndex=A,n=0;n<B;n++)a={name:"x"+n,label:null!=(o=L[n]).label?$.isFunction(o.label)?o.label.call(N,o,n,M):o.label:o.dataName,frozen:M.frozenStaticCols},n<B-1&&!o.skipGrouping&&!o.additionalProperty&&(R.groupField.push(a.name),R.groupSummary.push(M.groupSummary),R.groupSummaryPos.push(M.groupSummaryPos)),delete(a=$.extend(a,o)).dataName,delete a.footerText,o.additionalProperty?Z.push(a.name):(X.push(a),E.sortname=a.name);for(B<2&&(E.grouping=!1),R.hideFirstGroupCol=!0,n=0;n<G;n++)s=q[n],Y.push(!!(s.totals||s.rowTotals||s.totalText||s.totalHeader));for(D=A.getItem(0),ie(0,G-1,0),F=A.getIndexLength(),y=1;y<F;y++){for(w=A.getItem(y),n=A.getIndexOfDifferences(w,D),r=V-1;n<=r;r--)Y[r]&&ie(1,r,y-1);D=w,ie(0,G-1,y)}for(n=V-1;0<=n;n--)Y[n]&&ie(1,n,F-1);for(H&&ie(2),D=A.getItem(0),r=0;r<V;r++)U.push({useColSpanStyle:M.useColSpanStyle,groupHeaders:[{titleText:$.isFunction(q[r].label)?q[r].label.call(N,{yData:D[r],yIndex:D,yLevel:r,pivotOptions:M}):D[r],startColumnName:1===W?"y0":"y0a0",numberOfColumns:W}]});for(y=1;y<F;y++){for(w=A.getItem(y),ne(y,n=A.getIndexOfDifferences(w,D),D),r=V-1;n<=r;r--)U[r].groupHeaders.push({titleText:$.isFunction(q[r].label)?q[r].label.call(N,{yData:w[r],yIndex:w,yLevel:r,pivotOptions:M}):w[r],startColumnName:"y"+y+(1===W?"":"a0"),numberOfColumns:W});for(r=0;r<n;r++)(T=U[r].groupHeaders)[T.length-1].numberOfColumns+=W;D=w}if(ne(F,0,D),H)for(n=0;n<V;n++)U[n].groupHeaders.push({titleText:n<V-1?"":M.totalHeader||"",startColumnName:"t"+(1===W?"":"a0"),numberOfColumns:W});for(v=j.getIndexLength(),d=0;d<v;d++){for(u=j.getItem(d),S={pivotInfos:h={iX:d,x:u}},n=0;n<B;n++)S["x"+n]=u[n];if(b=j.getIndexesOfSourceData(d),H)for(r=0;r<W;r++)J[r]=re(r);for(D=null,oe(),y=0;y<F;y++){for(w=A.getItem(y),x=A.getIndexesOfSourceData(y),r=0;r<W;r++){for(null!==D&&se(y-1,w,D,r),C=[],n=0;n<x.length;n++)_=x[n],0<=$.inArray(_,b)&&C.push(_);if(0<C.length){for(p=new Array(C.length),f=new Aggregation((k=z[r]).aggregator,N,t),l=0;l<C.length;l++)n=C[l],i=e[n],p[l]=i,f.calc(i[k.member],k.member,i,n,e),H&&((g=J[r]).calc(i[k.member],k.member,i,n,e),m=g.groupInfo,$.inArray(n,m.iYs)<0&&(m.iYs.push(y),m.ys.push(w)),$.inArray(n,m.iRows)<0&&(m.iRows.push(n),m.rows.push(i))),ae(w,D,k,r,i,n,y);c="y"+y+(1===W?"":"a"+r),f.getResult(S,c),h[c]={colType:0,iY:y,y:w,iA:r,a:k,iRows:C,rows:p}}}D=w}if(null!==D)for(r=0;r<W;r++)se(F-1,D,D,r);if(H)for(r=0;r<W;r++)c="t"+(1===W?"":"a"+r),(g=J[r]).getResult(S,c),m=g.groupInfo,h[c]={colType:2,iA:r,a:z[r],iRows:m.iRows,rows:m.rows,iYs:m.iYs,ys:m.ys};K.push(S)}if(M.footerTotals||M.colTotals){for(P=K.length,n=0;n<B;n++)O["x"+n]=L[n].footerText||"";for(n=B;n<X.length;n++){for(c=X[n].name,f=new Aggregation(M.footerAggregator||"sum",N,t),l=0;l<P;l++)S=K[l],f.calc(S[c],c,S,l,K);f.getResult(O,c)}}return t.colHeaders=U,{colModel:X,additionalProperties:Z,options:t,rows:K,groupOptions:E,groupHeaders:U,summary:O}},jqPivot:function(e,t,i,n){return this.each(function(){var r=this,o=$(r),s=$.fn.jqGrid;function a(){var n,a=s.pivotSetup.call(o,e,t),l=a.groupHeaders,c=0<function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i}(a.summary),d=a.groupOptions.groupingView,u=jgrid.from.call(r,a.rows);if(!t.skipSortByX)for(n=0;n<d.groupField.length;n++)u.orderBy(d.groupField[n],null!=i&&i.groupingView&&null!=i.groupingView.groupOrder&&"desc"===i.groupingView.groupOrder[n]?"d":"a","text","");if(t.data=e,s.call(o,$.extend(!0,{datastr:$.extend(u.select(),c?{userdata:a.summary}:{}),datatype:"jsonstring",footerrow:c,userDataOnFooter:c,colModel:a.colModel,additionalProperties:a.additionalProperties,pivotOptions:a.options,viewrecords:!0,sortname:t.xDimension[0].dataName},a.groupOptions,i||{})),l.length)for(n=0;n<l.length;n++)l[n]&&l[n].groupHeaders.length&&s.setGroupHeaders.call(o,l[n]);t.frozenStaticCols&&s.setFrozenColumns.call(o)}"string"==typeof e?$.ajax($.extend({url:e,dataType:"json",success:function(t){e=jgrid.getAccessor(t,n&&n.reader?n.reader:"rows"),a()}},n||{})):a()})}});var subGridFeedback=function(){var e=$.makeArray(arguments);return e[0]="subGrid"+e[0].charAt(0).toUpperCase()+e[0].substring(1),e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)},collapseOrExpand=function(e,t){return this.each(function(){if(this.grid&&null!=e&&!0===this.p.subGrid){var i=$(this).jqGrid("getInd",e,!0);$(i).find(">td."+t).trigger("click")}})};jgrid.extend({setSubGrid:function(){return this.each(function(){var e,t=this.p,i=$(this),n=t.subGridModel[0],r=function(e){return i.jqGrid("getIconRes",e)};if(t.subGridOptions=$.extend({commonIconClass:r("subgrid.common"),plusicon:r("subgrid.plus"),minusicon:r("subgrid.minus"),openicon:"rtl"===t.direction?r("subgrid.openRtl"):r("subgrid.openLtr"),expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,selectOnCollapse:!1,reloadOnExpand:!0},t.subGridOptions||{}),t.colNames.unshift(""),t.colModel.unshift({name:"subgrid",width:jgrid.cell_width?t.subGridWidth+t.cellLayout:t.subGridWidth,labelClasses:"jqgh_subgrid",sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0,frozen:!0}),n)for(n.align=$.extend([],n.align||[]),e=0;e<n.name.length;e++)n.align[e]=n.align[e]||"left"})},addSubGridCell:function(e,t,i,n){var r=this[0],o=r.p.subGridOptions,s=!$.isFunction(o.hasSubgrid)||o.hasSubgrid.call(r,{rowid:i,iRow:t,iCol:e,data:n});return null==r.p?"":"<td role='gridcell' class='"+base.getGuiStyles.call(this,"subgrid.tdStart",s?"ui-sgcollapsed sgcollapsed":"")+"' "+r.formatCol(e,t)+">"+(s?"<div class='"+base.getGuiStyles.call(this,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+base.getGuiStyles.call(this,"subgrid.button","sgbutton")+"'><span class='"+jgrid.mergeCssClasses(o.commonIconClass,o.plusicon)+"'></span></a></div>":"&nbsp;")+"</td>"},addSubGrid:function(e,t){return this.each(function(){var i,n,r,o=this,s=o.p,a=s.subGridModel[0],l=function(e,t){return base.getGuiStyles.call(o,"subgrid."+e,t||"")},c=l("thSubgrid","ui-th-subgrid ui-th-column ui-th-"+s.direction),d=l("rowSubTable","ui-subtblcell"),u=l("row","ui-subgrid ui-row-"+s.direction),h=l("tdWithIcon","subgrid-cell"),p=l("tdData","subgrid-data"),f=function(e,t,i){var n=a.align[i],r=$("<td"+(n?" style='text-align:"+n+";'":"")+"></td>").html(t);e.append(r)},g=function(e,t){var i=s.xmlReader.subgrid;$(i.root+" "+i.row,e).each(function(){var e,n,r=$("<tr class='"+d+"'></tr>");if(!0===i.repeatitems)$(i.cell,this).each(function(e){f(r,$(this).text()||"&#160;",e)});else if(e=a.mapping||a.name)for(n=0;n<e.length;n++)f(r,jgrid.getXmlData(this,e[n])||"&#160;",n);t.append(r)})},m=function(e,t){var i,n,r,o,l,c=s.jsonReader.subgrid,u=jgrid.getAccessor(e,c.root);if(null!=u)for(n=0;n<u.length;n++){if(l=u[n],i=$("<tr class='"+d+"'></tr>"),!0===c.repeatitems)for(c.cell&&(l=l[c.cell]),r=0;r<l.length;r++)f(i,l[r]||"&#160;",r);else if((o=a.mapping||a.name).length)for(r=0;r<o.length;r++)f(i,jgrid.getAccessor(l,o[r])||"&#160;",r);t.append(i)}},v=function(e,t,i){var n,r,d=l("legacyTable","ui-jqgrid-legacy-subgrid"+(!0===s.altRows&&$(o).jqGrid("isBootstrapGuiStyle")?" table-striped":"")),u=$("<table"+(d?" style='width:1px' role='presentation' class='"+d+"'":"")+"><thead></thead><tbody></tbody></table>"),h=$("<tr></tr>");for(o.grid.endReq.call(o),r=0;r<a.name.length;r++)n=$("<th class='"+c+"'></th>").html(a.name[r]).width(a.width[r]),h.append(n);return h.appendTo(u[0].tHead),i(e,$(u[0].tBodies[0])),$("#"+jqID(s.id+"_"+t)).append(u),!1},b=function(){var t,i=$(this).parent("tr")[0],n=i.nextSibling,r=i.id,l=s.id+"_"+r,c=function(e){return jgrid.mergeCssClasses(s.subGridOptions.commonIconClass,s.subGridOptions[e])},d=1;if($.each(s.colModel,function(){!0!==this.hidden&&"rn"!==this.name&&"cb"!==this.name||d++}),$(this).hasClass("sgcollapsed")){if(!0===s.subGridOptions.reloadOnExpand||!1===s.subGridOptions.reloadOnExpand&&!$(n).hasClass("ui-subgrid")){if(t=1<=e?"<td colspan='"+e+"'>&#160;</td>":"",!subGridFeedback.call(o,"beforeExpand",l,r))return;$(i).after("<tr role='row' class='"+u+"'>"+t+"<td class='"+h+"'><span class='"+c("openicon")+"'></span></td><td colspan='"+parseInt(s.colNames.length-d,10)+"' class='"+p+"'><div id='"+l+"' class='tablediv'></div></td></tr>"),$(o).triggerHandler("jqGridSubGridRowExpanded",[l,r]),$.isFunction(s.subGridRowExpanded)?s.subGridRowExpanded.call(o,l,r):function(e){var t,i,n=$(e).attr("id"),r={nd_:(new Date).getTime()};if(r[s.prmNames.subgridid]=n,a){if(a.params)for(i=0;i<a.params.length;i++)void 0!==(t=s.iColByName[a.params[i]])&&(r[s.colModel[t].name]=$(e.cells[t]).text().replace(/\&#160\;/gi,""));if(!o.grid.hDiv.loading)switch(o.grid.beginReq.call(o),s.subgridtype||(s.subgridtype=s.datatype),$.isFunction(s.subgridtype)?s.subgridtype.call(o,r):s.subgridtype=s.subgridtype.toLowerCase(),s.subgridtype){case"xml":case"json":$.ajax($.extend({type:s.mtype,url:$.isFunction(s.subGridUrl)?s.subGridUrl.call(o,r):s.subGridUrl,dataType:s.subgridtype,context:n,data:jgrid.serializeFeedback.call(o,s.serializeSubGridData,"jqGridSerializeSubGridData",r),success:function(e){v(e,this,"xml"===s.subgridtype?g:m)},error:function(e,t,i){var n=void 0===s.loadSubgridError?s.loadError:s.loadSubgridError;o.grid.endReq.call(o),$.isFunction(n)&&n.call(o,e,t,i),s.subGridOptions.noEmptySubgridOnError||v(null,this,"xml"===s.subgridtype?g:m)}},jgrid.ajaxOptions,s.ajaxSubgridOptions||{}))}}}(i)}else $(n).show();$(this).html("<div class='"+base.getGuiStyles.call(o,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+base.getGuiStyles.call(o,"subgrid.button","sgbutton")+"'><span class='"+c("minusicon")+"'></span></a></div>").removeClass("sgcollapsed").addClass("sgexpanded"),s.subGridOptions.selectOnExpand&&$(o).jqGrid("setSelection",r)}else if($(this).hasClass("sgexpanded")){if(!subGridFeedback.call(o,"beforeCollapse",l,r))return;!0===s.subGridOptions.reloadOnExpand?$(n).remove(".ui-subgrid"):$(n).hasClass("ui-subgrid")&&$(n).hide(),$(this).html("<div class='"+base.getGuiStyles.call(o,"subgrid.buttonDiv","sgbutton-div")+"'><a role='button' class='"+base.getGuiStyles.call(o,"subgrid.button","sgbutton")+"'><span class='"+c("plusicon")+"'></span></a></div>").removeClass("sgexpanded").addClass("sgcollapsed"),s.subGridOptions.selectOnCollapse&&$(o).jqGrid("setSelection",r)}return!1},y=1;if(o.grid){for(i=o.rows.length,void 0!==t&&0<t&&(i=(y=t)+1);y<i;)n=o.rows[y],$(n).hasClass("jqgrow")&&(r=$(n.cells[e])).hasClass("ui-sgcollapsed")&&(s.scroll&&r.off("click"),r.on("click",b)),y++;if(!0===s.subGridOptions.expandOnLoad){var w=s.iColByName.subgrid;$(o.rows).filter(".jqgrow").each(function(e,t){$(t.cells[w]).filter(".sgcollapsed").children(".sgbutton-div").children(".sgbutton").click()})}o.subGridXml=function(e,t){return v(e,t,g)},o.subGridJson=function(e,t){return v(e,t,m)}}})},expandSubGridRow:function(e){return collapseOrExpand.call(this,e,"sgcollapsed")},collapseSubGridRow:function(e){return collapseOrExpand.call(this,e,"sgexpanded")},toggleSubGridRow:function(e){return collapseOrExpand.call(this,e,"ui-sgcollapsed")}}),window.tableToGrid=function(e,t){$(e).each(function(){var e,i,n,r,o,s,a,l,c=$(this),d=[],u=[],h=[],p=[],f=[];if(!this.grid){for(c.width("99%"),e=c.width(),i=$("tr td:first-child input[type=checkbox]:first",c),n=$("tr td:first-child input[type=radio]:first",c),o=!(r=0<i.length)&&0<n.length,s=r||o,$("th",c).each(function(){0===d.length&&s?(d.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),u.push("__selection__")):(d.push({name:$(this).attr("id")||$.trim($.jgrid.stripHtml($(this).html())).split(" ").join("_"),index:$(this).attr("id")||$.trim($.jgrid.stripHtml($(this).html())).split(" ").join("_"),width:$(this).width()||150}),u.push($(this).html()))}),$("tbody > tr",c).each(function(){var e={},t=0;$("td",$(this)).each(function(){if(0===t&&s){var i=$("input",$(this)),n=i.attr("value");p.push(n||h.length),i.is(":checked")&&f.push(n),e[d[t].name]=i.attr("value")}else e[d[t].name]=$(this).html();t++}),0<t&&h.push(e)}),c.empty(),c.jqGrid($.extend({datatype:"local",width:e,colNames:u,colModel:d,multiselect:r},t||{})),a=0;a<h.length;a++)l=null,0<p.length&&(l=p[a])&&l.replace&&(l=encodeURIComponent(l).replace(/[.\-%]/g,"_")),null===l&&(l=$.jgrid.randId()),c.jqGrid("addRowData",l,h[a]);for(a=0;a<f.length;a++)c.jqGrid("setSelection",f[a])}})};var treeGridFeedback=function(){var e=$.makeArray(arguments);return e[0]="treeGrid"+e[0].charAt(0).toUpperCase()+e[0].substring(1),e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)},getNodeIcons=function(e,t){var i=t[e.treeReader.icon_field],n=e.treeIcons,r=n.plus+" tree-plus",o=n.minus+" tree-minus";return i&&"string"==typeof i&&2===(i=i.split(",")).length&&(o=i[0],r=i[1]),{expanded:o,collapsed:r,common:n.commonIconClass}};jgrid.extend({setTreeNode:function(){return this.each(function(){var e=$(this),t=this.p;if(this.grid&&t.treeGrid){var i=t.treeReader.expanded_field,n=t.treeReader.leaf_field;e.off("jqGridBeforeSelectRow.setTreeNode"),e.on("jqGridBeforeSelectRow.setTreeNode",function(r,o,s){if(null!=s){var a=$(s.target),l=a.closest("tr.jqgrow>td"),c=l.parent(),d=function(){var r=t.data[t._index[stripPref(t.idPrefix,o)]],s=r[i]?"collapse":"expand";r[n]||(base[s+"Row"].call(e,r,c),base[s+"Node"].call(e,r,c))};return a.is("div.treeclick")?d():t.ExpandColClick&&0<l.length&&0<a.closest("span.cell-wrapper",l).length&&d(),!0}})}})},setTreeGrid:function(){return this.each(function(){var e,t,i,n=this.p,r=[],o=["leaf_field","expanded_field","loaded"];if(n.treeGrid){for(t in n.treedatatype||$.extend(this.p,{treedatatype:n.datatype}),n.subGrid=!1,n.altRows=!1,n.pgbuttons=!1,n.pginput=!1,n.gridview=!0,null===n.rowTotal&&(n.rowNum=n.maxRowNum),n.rowList=[],n.treeIcons.plus="rtl"===n.direction?n.treeIcons.plusRtl:n.treeIcons.plusLtr,"nested"===n.treeGridModel?n.treeReader=$.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},n.treeReader):"adjacency"===n.treeGridModel&&(n.treeReader=$.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},n.treeReader)),n.colModel)if(n.colModel.hasOwnProperty(t))for(i in e=n.colModel[t].name,n.treeReader)n.treeReader.hasOwnProperty(i)&&n.treeReader[i]===e&&r.push(e);$.each(n.treeReader,function(e){var t=String(this);t&&-1===$.inArray(t,r)&&(0<=$.inArray(e,o)?n.additionalProperties.push({name:t,search:!1,convert:function(e){return!0===e||"true"===String(e).toLowerCase()||"1"===String(e)||e}}):n.additionalProperties.push(t))})}})},expandRow:function(e){this.each(function(){var t=$(this),i=this.p;if(this.grid&&i.treeGrid){var n=i.treeReader.expanded_field,r=e[i.localReader.id];if(treeGridFeedback.call(this,"beforeExpandRow",{rowid:r,item:e})){var o=base.getNodeChildren.call(t,e);$(o).each(function(){var e=i.idPrefix+getAccessor(this,i.localReader.id);$(base.getGridRowById.call(t,e)).css("display",""),this[n]&&base.expandRow.call(t,this)}),treeGridFeedback.call(this,"afterExpandRow",{rowid:r,item:e})}}})},collapseRow:function(e){this.each(function(){var t=$(this),i=this.p;if(this.grid&&i.treeGrid){var n=i.treeReader.expanded_field,r=e[i.localReader.id];if(treeGridFeedback.call(this,"beforeCollapseRow",{rowid:r,item:e})){var o=base.getNodeChildren.call(t,e);$(o).each(function(){var e=i.idPrefix+getAccessor(this,i.localReader.id);$(base.getGridRowById.call(t,e)).css("display","none"),this[n]&&base.collapseRow.call(t,this)}),treeGridFeedback.call(this,"afterCollapseRow",{rowid:r,item:e})}}})},getRootNodes:function(){var e=[];return this.each(function(){var t=this.p;if(this.grid&&t.treeGrid)switch(t.treeGridModel){case"nested":var i=t.treeReader.level_field;$(t.data).each(function(){parseInt(this[i],10)===parseInt(t.tree_root_level,10)&&e.push(this)});break;case"adjacency":var n=t.treeReader.parent_id_field;$(t.data).each(function(){null!==this[n]&&"null"!==String(this[n]).toLowerCase()||e.push(this)})}}),e},getNodeDepth:function(e){var t=null;return this.each(function(){var i=this.p;if(this.grid&&i.treeGrid)switch(i.treeGridModel){case"nested":var n=i.treeReader.level_field;t=parseInt(e[n],10)-parseInt(i.tree_root_level,10);break;case"adjacency":t=base.getNodeAncestors.call($(this),e).length}}),t},getNodeParent:function(e){var t=this[0];if(!t||!t.grid||null==t.p||!t.p.treeGrid||null==e)return null;var i=t.p,n=i.treeReader,r=e[n.parent_id_field];if("nested"===i.treeGridModel){var o=null,s=n.left_field,a=n.right_field,l=n.level_field,c=parseInt(e[s],10),d=parseInt(e[a],10),u=parseInt(e[l],10);return $(i.data).each(function(){if(parseInt(this[l],10)===u-1&&parseInt(this[s],10)<c&&parseInt(this[a],10)>d)return o=this,!1}),o}if(null===r||"null"===r)return null;var h=i._index[r];return void 0!==h?i.data[h]:null},getNodeChildren:function(e){var t=[];return this.each(function(){var i=this.p;if(this.grid&&i.treeGrid)switch(i.treeGridModel){case"nested":var n=i.treeReader.left_field,r=i.treeReader.right_field,o=i.treeReader.level_field,s=parseInt(e[n],10),a=parseInt(e[r],10),l=parseInt(e[o],10);$(i.data).each(function(){parseInt(this[o],10)===l+1&&parseInt(this[n],10)>s&&parseInt(this[r],10)<a&&t.push(this)});break;case"adjacency":var c=i.treeReader.parent_id_field,d=i.localReader.id;$(i.data).each(function(){String(this[c])===String(e[d])&&t.push(this)})}}),t},getFullTreeNode:function(e){var t=[];return this.each(function(){var i,n=this.p;if(this.grid&&n.treeGrid)switch(n.treeGridModel){case"nested":var r=n.treeReader.left_field,o=n.treeReader.right_field,s=n.treeReader.level_field,a=parseInt(e[r],10),l=parseInt(e[o],10),c=parseInt(e[s],10);$(n.data).each(function(){parseInt(this[s],10)>=c&&parseInt(this[r],10)>=a&&parseInt(this[r],10)<=l&&t.push(this)});break;case"adjacency":if(e){t.push(e);var d=n.treeReader.parent_id_field,u=n.localReader.id;$(n.data).each(function(){var e;for(i=t.length,e=0;e<i;e++)if(String(t[e][u])===String(this[d])){t.push(this);break}})}}}),t},getNodeAncestors:function(e){var t=[];return this.each(function(){var i=$(this),n=base.getNodeParent;if(this.grid&&this.p.treeGrid)for(var r=n.call(i,e);r;)t.push(r),r=n.call(i,r)}),t},isVisibleNode:function(e){var t=!0;return this.each(function(){var i=this.p;if(this.grid&&i.treeGrid){var n=base.getNodeAncestors.call($(this),e),r=i.treeReader.expanded_field;$(n).each(function(){if(!(t=t&&this[r]))return!1})}}),t},isNodeLoaded:function(e){var t;return this.each(function(){var i=this.p;if(this.grid&&i.treeGrid){var n=i.treeReader.leaf_field,r=i.treeReader.loaded;t=void 0!==e&&(void 0!==e[r]?e[r]:!!(e[n]||0<base.getNodeChildren.call($(this),e).length))}}),t},expandNode:function(e){return this.each(function(){var t,i,n,r=this,o=r.p;if(r.grid&&o.treeGrid){var s=o.treeReader;if(!e[s.expanded_field]){if(t=getAccessor(e,o.localReader.id),!treeGridFeedback.call(r,"beforeExpandNode",{rowid:t,item:e}))return;i=$("#"+o.idPrefix+jqID(t),r.grid.bDiv)[0],e[s.expanded_field]=!0,n=getNodeIcons(o,e),$("div.treeclick",i).removeClass(n.collapsed).addClass(n.common).addClass(n.expanded),"local"===o.treedatatype||base.isNodeLoaded.call($(r),o.data[o._index[t]])||r.grid.hDiv.loading||(o.treeANode=i.rowIndex,o.datatype=o.treedatatype,base.setGridParam.call($(r),{postData:"nested"===o.treeGridModel?{nodeid:t,n_level:e[s.level_field],n_left:e[s.left_field],n_right:e[s.right_field]}:{nodeid:t,n_level:e[s.level_field],parentid:e[s.parent_id_field]}}),$(r).trigger("reloadGrid"),e[s.loaded]=!0,base.setGridParam.call($(r),{postData:"nested"===o.treeGridModel?{nodeid:"",n_level:"",n_left:"",n_right:""}:{nodeid:"",n_level:"",parentid:""}})),treeGridFeedback.call(r,"afterExpandNode",{rowid:t,item:e})}}})},collapseNode:function(e){return this.each(function(){var t,i=this.p;if(this.grid&&i.treeGrid){var n=i.treeReader.expanded_field;if(e[n]){var r=getAccessor(e,i.localReader.id);if(!treeGridFeedback.call(this,"beforeCollapseNode",{rowid:r,item:e}))return;e[n]=!1,t=getNodeIcons(i,e),$("#"+i.idPrefix+jqID(r),this.grid.bDiv).find("div.treeclick").removeClass(t.expanded).addClass(t.common).addClass(t.collapsed),(!0===i.unloadNodeOnCollapse||$.isFunction(i.unloadNodeOnCollapse)&&i.unloadNodeOnCollapse.call(this,e))&&(e[i.treeReader.loaded]=!1,$(this).jqGrid("delTreeNode",r,!0)),treeGridFeedback.call(this,"afterCollapseNode",{rowid:r,item:e})}}})},SortTree:function(e,t,i,n){return this.each(function(){var r=this,o=r.p,s=$(r);if(r.grid&&o.treeGrid){var a,l,c,d=[],u=base.getRootNodes.call(s),h=jgrid.from.call(r,u);h.orderBy(e,t,i,n);var p=h.select();for(a=0,l=p.length;a<l;a++)c=p[a],d.push(c),base.collectChildrenSortTree.call(s,d,c,e,t,i,n);$.each(d,function(e){var t=getAccessor(this,o.localReader.id);$(r.rows[e]).after(s.find(">tbody>tr#"+jqID(t)))})}})},collectChildrenSortTree:function(e,t,i,n,r,o){return this.each(function(){var s=$(this);if(this.grid&&this.p.treeGrid){var a,l,c,d=base.getNodeChildren.call(s,t),u=jgrid.from.call(this,d);u.orderBy(i,n,r,o);var h=u.select();for(a=0,l=h.length;a<l;a++)c=h[a],e.push(c),base.collectChildrenSortTree.call(s,e,c,i,n,r,o)}})},setTreeRow:function(e,t){var i=!1;return this.each(function(){this.grid&&this.p.treeGrid&&(i=base.setRowData.call($(this),e,t))}),i},delTreeNode:function(e,t){return this.each(function(){var i,n,r,o,s,a=this.p,l=a.localReader.id,c=$(this),d=a.treeReader.left_field,u=a.treeReader.right_field;if(this.grid&&a.treeGrid){var h=a._index[e];if(void 0!==h){n=(i=parseInt(a.data[h][u],10))-parseInt(a.data[h][d],10)+1;var p=base.getFullTreeNode.call(c,a.data[h]);if(0<p.length)for(s=0;s<p.length;s++)t&&e===p[s][l]||base.delRowData.call(c,p[s][l]);if("nested"===a.treeGridModel){if((r=jgrid.from.call(this,a.data).greater(d,i,{stype:"integer"}).select()).length)for(o in r)r.hasOwnProperty(o)&&(r[o][d]=parseInt(r[o][d],10)-n);if((r=jgrid.from.call(this,a.data).greater(u,i,{stype:"integer"}).select()).length)for(o in r)r.hasOwnProperty(o)&&(r[o][u]=parseInt(r[o][u],10)-n)}}}})},addChildNode:function(e,t,i,n){return this.each(function(){if(i){var r,o,s,a,l,c,d,u=this.p,h=$(this),p=base.getInd,f=u.treeIcons.minus+" tree-minus",g=t,m=u.treeReader.expanded_field,v=u.treeReader.leaf_field,b=u.treeReader.level_field,y=u.treeReader.parent_id_field,w=u.treeReader.left_field,x=u.treeReader.right_field,C=u.treeReader.loaded;void 0===n&&(n=!1),null==e&&(e=jgrid.randId());var k,S,D=p.call(h,t);if(c=!1,null==t||""===t)g=t=null,r="last",a=u.tree_root_level;else{r="after",o=u._index[t],s=u.data[o],t=s[u.localReader.id],l=p.call(h,t),a=parseInt(s[b],10)+1;var T,_,j,A=base.getFullTreeNode.call(h,s);if(A.length)for(T=0;T<A.length;T++)j=A[T][u.localReader.id],l<(_=p.call(h,j))&&(l=_,g=j);s[v]&&(c=!0,s[m]=!0,$(this.rows[D]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(u.treeIcons.leaf+" tree-leaf").addClass(u.treeIcons.commonIconClass).addClass(f),u.data[o][v]=!1,s[C]=!0)}if(void 0===i[m]&&(i[m]=!1),void 0===i[C]&&(i[C]=!1),i[b]=a,void 0===i[v]&&(i[v]=!0),"adjacency"===u.treeGridModel&&(i[y]=t),"nested"===u.treeGridModel)if(null!==t){if(d=parseInt(s[x],10),(k=jgrid.from.call(this,u.data).greaterOrEquals(x,d,{stype:"integer"}).select()).length)for(S in k)k.hasOwnProperty(S)&&(k[S][w]=k[S][w]>d?parseInt(k[S][w],10)+2:k[S][w],k[S][x]=k[S][x]>=d?parseInt(k[S][x],10)+2:k[S][x]);i[w]=d,i[x]=d+1}else{if(d=parseInt(base.getCol.call(h,x,!1,"max"),10),(k=jgrid.from.call(this,u.data).greater(w,d,{stype:"integer"}).select()).length)for(S in k)k.hasOwnProperty(S)&&(k[S][w]=parseInt(k[S][w],10)+2);if((k=jgrid.from.call(this,u.data).greater(x,d,{stype:"integer"}).select()).length)for(S in k)k.hasOwnProperty(S)&&(k[S][x]=parseInt(k[S][x],10)+2);i[w]=d+1,i[x]=d+2}(null===t||base.isNodeLoaded.call(h,s)||c)&&base.addRowData.call(h,e,i,r,g),s&&!s[m]&&n&&$(this.rows[D]).find("div.treeclick").click()}})}});var namespace=".jqGrid",mouseDown="mousedown",mouseMove="mousemove",mouseUp="mouseup",getMouseCoordinates=function(e){var t=e.originalEvent.targetTouches;return t?{x:(t=t[0]).pageX,y:t.pageY}:{x:e.pageX,y:e.pageY}},jqDnR={drag:function(e){var t=e.data,i=t.e,n=t.dnr,r=t.ar,o=t.dnrAr,s=getMouseCoordinates(e);return"move"===n.k?i.css({left:n.X+s.x-n.pX,top:n.Y+s.y-n.pY}):(i.css({width:Math.max(s.x-n.pX+n.W,0),height:Math.max(s.y-n.pY+n.H,0)}),o&&r.css({width:Math.max(s.x-o.pX+o.W,0),height:Math.max(s.y-o.pY+o.H,0)})),!1},stop:function(){$(document).off(mouseMove,jqDnR.drag).off(mouseUp,jqDnR.stop)}},init=function(e,t,i,n){return e.each(function(){(t=t?$(t,e):e).on(mouseDown,{e:e,k:i},function(e){var t,i,r,o,s,a,l=e.data,c={},d=function(e,t){return parseInt(e.css(t),10)||!1},u=function(e){return d(i,e)},h=function(e){return d(o,e)},p=getMouseCoordinates(e);if(!$(e.target).hasClass("ui-jqdialog-titlebar-close")&&!$(e.target).parent().hasClass("ui-jqdialog-titlebar-close")){if(i=l.e,o=!!n&&$(n),"relative"!==i.css("position"))try{i.position(c)}catch(e){}if(r={X:c.left||u("left")||0,Y:c.top||u("top")||0,W:u("width")||i[0].scrollWidth||0,H:u("height")||i[0].scrollHeight||0,pX:p.x,pY:p.y,k:l.k},s=!(!o||"move"===l.k)&&{X:c.left||h("left")||0,Y:c.top||h("top")||0,W:o[0].offsetWidth||h("width")||0,H:o[0].offsetHeight||h("height")||0,pX:p.x,pY:p.y,k:l.k},0<(t=i.find("input.hasDatepicker")).length)try{t.datepicker("hide")}catch(e){}return a={e:i,dnr:r,ar:o,dnrAr:s},$(document).on(mouseMove,a,jqDnR.drag),$(document).on(mouseUp,a,jqDnR.stop),!1}})})};window.PointerEvent?(mouseDown+=namespace+" pointerdown"+namespace,mouseMove+=namespace+" pointermove"+namespace,mouseUp+=namespace+" pointerup"+namespace):window.MSPointerEvent?(mouseDown+=namespace+" mspointerdown"+namespace,mouseMove+=namespace+" mspointermove"+namespace,mouseUp+=namespace+" mspointerup"):(mouseDown+=namespace+" touchstart"+namespace,mouseMove+=namespace+" touchmove"+namespace,mouseUp+=namespace+" touchend"+namespace),$.jqDnR=jqDnR,$.fn.jqDrag=function(e){return init(this,e,"move")},$.fn.jqResize=function(e,t){return init(this,e,"resize",t)};var jqmHashLength=0,jqmHash,createdModals=[],setFocusOnFirstVisibleInput=function(e){try{$(":input:visible",e.w).first().focus()}catch(e){}},setFocus=function(e){setFocusOnFirstVisibleInput(e)},keyOrMouseEventHandler=function(e){var t=jqmHash[createdModals[createdModals.length-1]],i=!$(e.target).parents(".jqmID"+t.s)[0],n=$(e.target).offset(),r=void 0!==e.pageX?e.pageX:n.left,o=void 0!==e.pageY?e.pageY:n.top,s=function(){var e=!1;return $(".jqmID"+t.s).each(function(){var t=$(this),i=t.offset();if(i.top<=o&&o<=i.top+t.height()&&i.left<=r&&r<=i.left+t.width())return!(e=!0)}),e};return!("mousedown"===e.type||!s())||("mousedown"===e.type&&i&&(s()&&(i=!1),i&&!$(e.target).is(":input")&&setFocusOnFirstVisibleInput(t)),!i)},bindOrUnbindEvents=function(e){$(document)[e]("keypress keydown mousedown",keyOrMouseEventHandler)},registerHideOrShow=function(e,t,i){return e.each(function(){var e=this._jqm;$(t).each(function(){this[i]||(this[i]=[],$(this).click(function(){var e,t,i,n=["jqmShow","jqmHide"];for(e=0;e<n.length;e++)for(i in this[t=n[e]])this[t].hasOwnProperty(i)&&jqmHash[this[t][i]]&&jqmHash[this[t][i]].w[t](this);return!1})),this[i].push(e)})})};$.fn.jqm=function(e){var t={overlay:50,closeoverlay:!1,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:!1,ajaxText:"",target:!1,modal:!1,toTop:!1,onShow:!1,onHide:!1,onLoad:!1};return this.each(function(){if(this._jqm)return jqmHash[this._jqm].c=$.extend({},jqmHash[this._jqm].c,e),jqmHash[this._jqm].c;jqmHashLength++,this._jqm=jqmHashLength,jqmHash[jqmHashLength]={c:$.extend(t,$.jqm.params,e),a:!1,w:$(this).addClass("jqmID"+jqmHashLength),s:jqmHashLength},t.trigger&&$(this).jqmAddTrigger(t.trigger)})},$.fn.jqmAddClose=function(e){return registerHideOrShow(this,e,"jqmHide")},$.fn.jqmAddTrigger=function(e){return registerHideOrShow(this,e,"jqmShow")},$.fn.jqmShow=function(e){return this.each(function(){$.jqm.open(this._jqm,e)})},$.fn.jqmHide=function(e){return this.each(function(){$.jqm.close(this._jqm,e)})},$.jqm={hash:{},open:function(e,t){var i,n,r,o,s,a=jqmHash[e],l=a.c,c=a.w.parent().offset(),d="."+l.closeClass,u=parseInt(a.w.css("z-index"),10);return u=0<u?u:3e3,i=$("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":u-1,opacity:l.overlay/100}),a.a||(a.t=t,a.a=!0,a.w.css("z-index",u),$(a.w[0].ownerDocument).data("ui-dialog-overlays")&&a.w.addClass("ui-dialog"),l.modal?(createdModals[0]||setTimeout(function(){bindOrUnbindEvents("bind")},1),createdModals.push(e)):0<l.overlay?l.closeoverlay&&a.w.jqmAddClose(i):i=!1,a.o=!!i&&i.addClass(l.overlayClass).prependTo("body"),l.ajax?(n=l.target||a.w,r=l.ajax,n="string"==typeof n?$(n,a.w):$(n),r="@"===r.substr(0,1)?$(t).attr(r.substring(1)):r,n.html(l.ajaxText).load(r,function(){l.onLoad&&l.onLoad.call(this,a),d&&a.w.jqmAddClose($(d,a.w)),setFocus(a)})):d&&a.w.jqmAddClose($(d,a.w)),l.toTop&&a.o&&(c=a.w.parent().offset(),o=parseFloat(a.w.css("left")||0),s=parseFloat(a.w.css("top")||0),a.w.before('<span id="jqmP'+a.w[0]._jqm+'"></span>').insertAfter(a.o),a.w.css({top:c.top+s,left:c.left+o})),l.onShow?l.onShow(a):a.w.show(),setFocus(a)),!1},close:function(e){var t=jqmHash[e];return t.a&&(t.a=!1,createdModals[0]&&(createdModals.pop(),createdModals[0]||bindOrUnbindEvents("unbind")),t.c.toTop&&t.o&&$("#jqmP"+t.w[0]._jqm).after(t.w).remove(),t.c.onHide?t.c.onHide(t):(t.w.hide(),t.o&&t.o.remove())),!1},params:{}},jqmHash=$.jqm.hash,$.fmatter=$.fmatter||{};var fmatter=$.fmatter,getOptionByName=function(e,t){var i=e.formatoptions||{};return i.hasOwnProperty(t)?i[t]:(e.editoptions||{})[t]},encodeAttr=function(e){return String(e).replace(/\'/g,"&#39;")},parseCheckboxOptions=function(e){var t,i,n=e.colModel||e.cm,r=!1!==n.title?" title='"+encodeAttr(e.colName||n.name)+"'":"",o=function(e){return getOptionByName(n,e)},s=o("checkedClass"),a=o("uncheckedClass"),l=o("value"),c="string"==typeof l&&l.split(":")[0]||"Yes",d="string"==typeof l&&l.split(":")[1]||"No",u=function(e){return"<i class='"+encodeAttr(e)+"'"+r+"></i>"},h=o("disabled");void 0===h&&(h=jgrid.formatter.checkbox.disabled);var p=base.getIconRes.call(this,"checkbox.checked"),f=base.getIconRes.call(this,"checkbox.checkedClasses"),g=base.getIconRes.call(this,"checkbox.unchecked");return!0===h&&(s||a||p||g)?(t=u(s||p),i=u(a||g),s=f||s||p):(t="<input type='checkbox' checked='checked'"+(r+=!(s="")===h?" disabled='disabled'":"")+" />",i="<input type='checkbox'"+r+" />"),{checkedClasses:s,checked:t,unchecked:i,yes:c,no:d}},yesObject={1:1,x:1,true:1,yes:1,y:1,on:1},noObject={0:1,false:1,no:1,n:1,off:1};$.extend(!0,jgrid,{formatter:{date:{parseRe:/[#%\\\/:_;.,\t\s\-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO"},reformatAfterEdit:!0,userLocalTime:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0,defaultValue:!1},idName:"id"},cmTemplate:{integerStr:{formatter:"integer",align:"right",sorttype:"integer",searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},integer:{formatter:"integer",align:"right",sorttype:"integer",convertOnSave:function(e){var t=e.newValue;return isNaN(t)?t:parseInt(t,10)},searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},numberStr:{formatter:"number",align:"right",sorttype:"number",searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},number:{formatter:"number",align:"right",sorttype:"number",convertOnSave:function(e){var t=e.newValue;return isNaN(t)?t:parseFloat(t)},searchoptions:{sopt:["eq","ne","lt","le","gt","ge"]}},booleanCheckbox:{align:"center",formatter:"checkbox",sorttype:"boolean",edittype:"checkbox",editoptions:{value:"true:false",defaultValue:"false"},convertOnSave:function(e){var t=e.newValue,i=parseCheckboxOptions.call(this,e),n=String(t).toLowerCase();return yesObject[n]||n===i.yes.toLowerCase()?t=!0:(noObject[n]||n===i.no.toLowerCase())&&(t=!1),t},stype:"checkbox",searchoptions:{sopt:["eq"],value:"true:false"}},actions:function(){return{formatter:"actions",width:(null!=this.p&&(base.isInCommonIconClass.call(this,"fa")||base.isInCommonIconClass.call(this,"glyphicon"))?$(this).jqGrid("isBootstrapGuiStyle")?45:39:40)+(jgrid.cellWidth()?5:0),align:"center",label:"",autoResizable:!1,title:!1,frozen:!0,fixed:!0,hidedlg:!0,resizable:!1,sortable:!1,search:!1,editable:!1,viewable:!1}}}}),jgrid.cmTemplate.booleanCheckboxFa=jgrid.cmTemplate.booleanCheckbox,$.extend(fmatter,{isObject:function(e){return e&&("object"==typeof e||$.isFunction(e))||!1},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isValue:function(e){return this.isObject(e)||"string"==typeof e||this.isNumber(e)||"boolean"==typeof e},isEmpty:function(e){return!("string"!=typeof e&&this.isValue(e)||this.isValue(e)&&""!==$.trim(e).replace(/&nbsp;/gi,"").replace(/&#160;/gi,""))},NumberFormat:function(e,t){var i=fmatter.isNumber;if(i(e)||(e*=1),i(e)){var n,r=e<0,o=String(e),s=t.decimalSeparator||".";if(i(t.decimalPlaces)){var a=t.decimalPlaces;if(n=(o=String(Number(Math.round(e+"e"+a)+"e-"+a))).lastIndexOf("."),0<a)for(n<0?n=(o+=s).length-1:"."!==s&&(o=o.replace(".",s));o.length-1-n<a;)o+="0"}if(t.thousandsSeparator){var l=t.thousandsSeparator;n=-1<(n=o.lastIndexOf(s))?n:o.length;var c,d=void 0===t.decimalSeparator?"":o.substring(n),u=-1;for(c=n;0<c;c--)++u%3==0&&c!==n&&(!r||1<c)&&(d=l+d),d=o.charAt(c-1)+d;o=d}return o}return e}});var $FnFmatter=function(e,t,i,n,r){var o=t;i=$.extend({},getGridRes.call($(this),"formatter"),i);try{o=$.fn.fmatter[e].call(this,t,i,n,r)}catch(e){}return o};$.fn.fmatter=$FnFmatter,$FnFmatter.getCellBuilder=function(e,t,i){var n=null!=$.fn.fmatter[e]?$.fn.fmatter[e].getCellBuilder:null;return $.isFunction(n)?n.call(this,$.extend({},getGridRes.call($(this),"formatter"),t),i):null},$FnFmatter.defaultFormat=function(e,t){return fmatter.isValue(e)&&""!==e?e:t.defaultValue||"&#160;"};var defaultFormat=$FnFmatter.defaultFormat,formatCheckboxValue=function(e,t,i){if(void 0===e||fmatter.isEmpty(e)){var n=getOptionByName(i,"defaultValue");void 0===n&&(n=t.no),e=n}return e=String(e).toLowerCase(),yesObject[e]||e===t.yes.toLowerCase()?t.checked:t.unchecked};$FnFmatter.email=function(e,t){return fmatter.isEmpty(e)?defaultFormat(e,t):"<a href='mailto:"+encodeAttr(e)+"'>"+e+"</a>"},$FnFmatter.checkbox=function(e,t){var i=parseCheckboxOptions.call(this,t);return formatCheckboxValue(e,i,t.colModel)},$FnFmatter.checkbox.getCellBuilder=function(e){var t,i=e.colModel;return e.colName=e.colName||this.p.colNames[e.pos],t=parseCheckboxOptions.call(this,e),function(e){return formatCheckboxValue(e,t,i)}},$FnFmatter.checkbox.unformat=function(e,t,i){var n=parseCheckboxOptions.call(this,t),r=$(i);return(n.checkedClasses?jgrid.hasAllClasses(r.children("i,svg"),n.checkedClasses):r.children("input").is(":checked"))?n.yes:n.no},$FnFmatter.checkboxFontAwesome4=$FnFmatter.checkbox,$FnFmatter.checkboxFontAwesome4.getCellBuilder=$FnFmatter.checkbox.getCellBuilder,$FnFmatter.checkboxFontAwesome4.unformat=$FnFmatter.checkbox.unformat,$FnFmatter.link=function(e,t){var i=t.colModel,n="",r={target:t.target};return null!=i&&(r=$.extend({},r,i.formatoptions||{})),r.target&&(n="target="+r.target),fmatter.isEmpty(e)?defaultFormat(e,r):"<a "+n+" href='"+encodeAttr(e)+"'>"+e+"</a>"},$FnFmatter.showlink=function(e,t,i){var n,r,o,s=this,a=t.colModel,l={baseLinkUrl:t.baseLinkUrl,showAction:t.showAction,addParam:t.addParam||"",target:t.target,idName:t.idName,hrefDefaultValue:"#"},c="",d=function(n){return $.isFunction(n)?n.call(s,{cellValue:e,rowid:t.rowId,rowData:i,options:l}):n||""};return null!=a&&(l=$.extend({},l,a.formatoptions||{})),l.target&&(c="target="+d(l.target)),n=d(l.baseLinkUrl)+d(l.showAction),r=l.idName?encodeURIComponent(d(l.idName))+"="+encodeURIComponent(d(l.rowId)||t.rowId):"","object"==typeof(o=d(l.addParam))&&null!==o&&(o=(""!==r?"&":"")+$.param(o)),""==(n+=r||o?"?"+r+o:"")&&(n=d(l.hrefDefaultValue)),"string"==typeof e||fmatter.isNumber(e)||$.isFunction(l.cellValue)?"<a "+c+" href='"+encodeAttr(n)+"'>"+($.isFunction(l.cellValue)?d(l.cellValue):e)+"</a>":defaultFormat(e,l)},$FnFmatter.showlink.getCellBuilder=function(e){var t={baseLinkUrl:e.baseLinkUrl,showAction:e.showAction,addParam:e.addParam||"",target:e.target,idName:e.idName,hrefDefaultValue:"#"},i=e.colModel;return null!=i&&(t=$.extend({},t,i.formatoptions||{})),function(e,i,n){var r,o,s,a=this,l=i.rowId,c="",d=function(i){return $.isFunction(i)?i.call(a,{cellValue:e,rowid:l,rowData:n,options:t}):i||""};return t.target&&(c="target="+d(t.target)),r=d(t.baseLinkUrl)+d(t.showAction),o=t.idName?encodeURIComponent(d(t.idName))+"="+encodeURIComponent(d(l)||i.rowId):"","object"==typeof(s=d(t.addParam))&&null!==s&&(s=(""!==o?"&":"")+$.param(s)),""==(r+=o||s?"?"+o+s:"")&&(r=d(t.hrefDefaultValue)),"string"==typeof e||fmatter.isNumber(e)||$.isFunction(t.cellValue)?"<a "+c+" href='"+encodeAttr(r)+"'>"+($.isFunction(t.cellValue)?d(t.cellValue):e)+"</a>":defaultFormat(e,t)}},$FnFmatter.showlink.pageFinalization=function(e){var t,i,n,r=$(this),o=this.p,s=o.colModel[e],a=o.autoResizing.wrapperClassName,l=this.rows,c=l.length,d=function(e){var t=$(this).closest("tr.jqgrow>td"),i=t.parent(),n=t[0].cellIndex,s=o.colModel[n];if(0<i.length)return s.formatoptions.onClick.call(r[0],{iCol:n,iRow:i[0].rowIndex,rowid:i.attr("id"),cm:s,cmName:s.name,cellValue:$(this).text(),a:this,event:e})};if(null!=s.formatoptions&&$.isFunction(s.formatoptions.onClick))for(t=0;t<c;t++)i=l[t],$(i).hasClass("jqgrow")&&(n=i.cells[e],s.autoResizable&&null!=n&&$(n.firstChild).hasClass(a)&&(n=n.firstChild),null!=n&&$(n.firstChild).on("click",d))};var insertPrefixAndSuffix=function(e,t){return e=t.prefix?t.prefix+e:e,t.suffix?e+t.suffix:e},numberHelper=function(e,t,i){var n=t.colModel,r=$.extend({},t[i]);return null!=n&&(r=$.extend({},r,n.formatoptions||{})),fmatter.isEmpty(e)?insertPrefixAndSuffix(r.defaultValue,r):insertPrefixAndSuffix(fmatter.NumberFormat(e,r),r)};$FnFmatter.integer=function(e,t){return numberHelper(e,t,"integer")},$FnFmatter.number=function(e,t){return numberHelper(e,t,"number")},$FnFmatter.currency=function(e,t){return numberHelper(e,t,"currency")};var numberCellBuilder=function(e,t){var i=e.colModel,n=$.extend({},e[t]);null!=i&&(n=$.extend({},n,i.formatoptions||{}));var r=fmatter.NumberFormat,o=n.defaultValue?insertPrefixAndSuffix(n.defaultValue,n):"";return function(e){return fmatter.isEmpty(e)?o:insertPrefixAndSuffix(r(e,n),n)}};$FnFmatter.integer.getCellBuilder=function(e){return numberCellBuilder(e,"integer")},$FnFmatter.number.getCellBuilder=function(e){return numberCellBuilder(e,"number")},$FnFmatter.currency.getCellBuilder=function(e){return numberCellBuilder(e,"currency")},$FnFmatter.date=function(e,t,i,n){var r=t.colModel,o=$.extend({},t.date);return null!=r&&(o=$.extend({},o,r.formatoptions||{})),o.reformatAfterEdit||"edit"!==n?fmatter.isEmpty(e)?defaultFormat(e,o):jgrid.parseDate.call(this,o.srcformat,e,o.newformat,o):defaultFormat(e,o)},$FnFmatter.date.getCellBuilder=function(e,t){var i=$.extend({},e.date);null!=e.colModel&&(i=$.extend({},i,e.colModel.formatoptions||{}));var n=jgrid.parseDate,r=i.srcformat,o=i.newformat;return i.reformatAfterEdit||"edit"!==t?function(e){return fmatter.isEmpty(e)?defaultFormat(e,i):n.call(this,r,e,o,i)}:function(e){return defaultFormat(e,i)}},$FnFmatter.select=function(e,t){var i,n=[],r=t.colModel,o=$.extend({},r.editoptions||{},r.formatoptions||{}),s="function"==typeof o.value?o.value():o.value,a=o.separator||":",l=o.delimiter||";";if(s){var c,d=!0===o.multiple,u=[],h=function(e,t){if(0<t)return e};if(d&&(u=$.map(String(e).split(","),function(e){return $.trim(e)})),"string"==typeof s){var p,f,g=s.split(l);for(p=0;p<g.length;p++)if(2<(c=g[p].split(a)).length&&(c[1]=$.map(c,h).join(a)),f=$.trim(c[0]),o.defaultValue===f&&(i=c[1]),d)-1<$.inArray(f,u)&&n.push(c[1]);else if(f===$.trim(e)){n=[c[1]];break}}else fmatter.isObject(s)&&(i=s[o.defaultValue],n=d?$.map(u,function(e){return s[e]}):[void 0===s[e]?"":s[e]])}return""!==(e=n.join(", "))?e:void 0!==o.defaultValue?i:defaultFormat(e,o)},$FnFmatter.select.getCellBuilder=function(e){var t,i,n,r,o=e.colModel,s=$FnFmatter.defaultFormat,a=$.extend({},o.editoptions||{},o.formatoptions||{}),l="function"==typeof a.value?a.value():a.value,c=a.separator||":",d=a.delimiter||";",u=void 0!==a.defaultValue,h=!0===a.multiple,p={},f=function(e,t){if(0<t)return e};if("string"==typeof l)for(r=(n=l.split(d)).length-1;0<=r;r--)2<(i=n[r].split(c)).length&&(i[1]=$.map(i,f).join(c)),p[$.trim(i[0])]=i[1];else{if(!fmatter.isObject(l))return function(e){return e?String(e):s(e,a)};p=l}return u&&(t=p[a.defaultValue]),h?function(e){var i,n=[],r=$.map(String(e).split(","),function(e){return $.trim(e)});for(i=0;i<r.length;i++)e=r[i],p.hasOwnProperty(e)&&n.push(p[e]);return""!==(e=n.join(", "))?e:u?t:s(e,a)}:function(e){var i=p[String(e)];return""!==i&&void 0!==i?i:u?t:s(e,a)}},$FnFmatter.rowactions=function(e,t){var i,n,r,o,s=$(this).closest("tr.jqgrow>td"),a=s.parent(),l=a.attr("id"),c=$(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),d=$("#"+jgrid.jqID(c)),u=d[0],h=u.p,p=jgrid.getRelativeRect.call(u,a).top,f=h.colModel[s[0].cellIndex],g=$.extend(!0,{extraparam:{}},jgrid.actionsNav||{},h.actionsNavOptions||{},f.formatoptions||{});switch(void 0!==h.editOptions&&(g.editOptions=$.extend(!0,g.editOptions||{},h.editOptions)),void 0!==h.delOptions&&(g.delOptions=h.delOptions),a.hasClass("jqgrid-new-row")&&(g.extraparam[h.prmNames.oper]=h.prmNames.addoper),o={keys:g.keys,oneditfunc:g.onEdit,successfunc:g.onSuccess,url:g.url,extraparam:g.extraparam,aftersavefunc:g.afterSave,errorfunc:g.onError,afterrestorefunc:g.afterRestore,restoreAfterError:g.restoreAfterError,mtype:g.mtype},!h.multiselect&&l!==h.selrow||h.multiselect&&$.inArray(l,h.selarrrow)<0?d.jqGrid("setSelection",l,!0,e):jgrid.fullBoolFeedback.call(u,"onSelectRow","jqGridSelectRow",l,!0,e),t){case"edit":d.jqGrid("editRow",l,o);break;case"save":d.jqGrid("saveRow",l,o);break;case"cancel":d.jqGrid("restoreRow",l,g.afterRestore);break;case"del":g.delOptions=g.delOptions||{},void 0===g.delOptions.top&&(g.delOptions.top=p),d.jqGrid("delGridRow",l,g.delOptions);break;case"formedit":g.editOptions=g.editOptions||{},void 0===g.editOptions.top&&(g.editOptions.top=p,g.editOptions.recreateForm=!0),d.jqGrid("editGridRow",l,g.editOptions);break;default:if(null!=g.custom&&0<g.custom.length)for(n=g.custom.length,i=0;i<n;i++)(r=g.custom[i]).action===t&&$.isFunction(r.onClick)&&r.onClick.call(u,{rowid:l,event:e,action:t,options:r})}return e.stopPropagation&&e.stopPropagation(),!1},$FnFmatter.actions=function(e,t,i,n){var r,o,s,a=t.rowId,l="",c=$(this),d={},u=getGridRes.call(c,"edit")||{},h=$.extend({editbutton:!0,delbutton:!0,editformbutton:!1,commonIconClass:"ui-icon",editicon:"ui-icon-pencil",delicon:"ui-icon-trash",saveicon:"ui-icon-disk",cancelicon:"ui-icon-cancel",savetitle:u.bSubmit||"",canceltitle:u.bCancel||""},getGridRes.call(c,"nav")||{},jgrid.nav||{},this.p.navOptions||{},getGridRes.call(c,"actionsNav")||{},jgrid.actionsNav||{},this.p.actionsNavOptions||{},(t.colModel||{}).formatoptions||{}),p=[{action:"edit",actionName:"formedit",display:h.editformbutton},{action:"edit",display:!h.editformbutton&&h.editbutton},{action:"del",idPrefix:"Delete",display:h.delbutton},{action:"save",display:h.editformbutton||h.editbutton,hidden:!0},{action:"cancel",display:h.editformbutton||h.editbutton,hidden:!0}],f=function(e){var t,i=e.action,n=e.actionName||i,r=void 0!==e.idPrefix?e.idPrefix:i.charAt(0).toUpperCase()+i.substring(1);return"<div title='"+encodeAttr(h[i+"title"])+(e.hidden?"' style='display:none;":"")+"' class='"+encodeAttr(c.jqGrid("getGuiStyles","actionsButton","ui-pg-div ui-inline-"+i))+"' "+(null!==r?"id='j"+encodeAttr(r+"Button_"+a):"")+"' data-jqactionname=\""+n+'" '+(e.noHovering?"":'\' data-jqhovering="1" ')+"><span class='"+encodeAttr((t=i,jgrid.mergeCssClasses(h.commonIconClass,h[t+"icon"])))+"'></span></div>"},g=null!=h.custom?h.custom.length-1:-1;if(void 0===a||fmatter.isEmpty(a))return"";if($.isFunction(h.isDisplayButtons))try{d=h.isDisplayButtons.call(this,h,i,n)||{}}catch(e){}for(;0<=g;)p["first"===(s=h.custom[g--]).position?"unshift":"push"](s);for(r=0,g=p.length;r<g;r++)!1!==(o=$.extend({},p[r],d[p[r].action]||{})).display&&(l+=f(o));return"<div class='"+encodeAttr(c.jqGrid("getGuiStyles","actionsDiv","ui-jqgrid-actions"))+"'>"+l+"</div>"},$FnFmatter.actions.pageFinalization=function(e){var t,i,n,r,o=$(this),s=this.p,a=s.colModel[e],l=s.autoResizing.wrapperClassName,c=o.jqGrid("getGuiStyles","states.hover"),d=this.rows,u=this.grid.fbRows,h=d.length,p=(r=a.name,function(e,t){var i,n,a=0,l=s.colModel,c=l.length,d=s.iColByName[r];for(n=0;n<c&&!0===l[n].frozen;n++)a=n;null!=t&&null!=t.cells&&(i=$(t.cells[d]).children(".ui-jqgrid-actions"),l[d].frozen&&s.frozenColumns&&d<=a&&(i=i.add($(o[0].grid.fbRows[t.rowIndex].cells[d]).children(".ui-jqgrid-actions"))),e?(i.find(">.ui-inline-edit,>.ui-inline-del").show(),i.find(">.ui-inline-save,>.ui-inline-cancel").hide()):(i.find(">.ui-inline-edit,>.ui-inline-del").hide(),i.find(">.ui-inline-save,>.ui-inline-cancel").show()))}),f=function(e,t){var i=o.jqGrid("getGridRowById",t);return p(!0,i),!1},g=function(e,t){var i=o.jqGrid("getGridRowById",t);return p(!1,i),!1},m=function(e){1===$(e.target).closest("div.ui-pg-div").data("jqhovering")&&$(this).addClass(c)},v=function(e){1===$(e.target).closest("div.ui-pg-div").data("jqhovering")&&$(this).removeClass(c)},b=function(e){return $FnFmatter.rowactions.call(this,e,$(e.target).closest("div.ui-pg-div").data("jqactionname"))},y=function(e,t){t&&null!=e&&$(e.firstChild).hasClass(l)&&(e=e.firstChild),null!=e&&($(e.firstChild).on("click",b),$(e.firstChild).children("div.ui-pg-div").on("mouseover",m).on("mouseout",v))},w=(n=a.name,function(e,t){var i=s.iColByName[n];y(t.tr.cells[i],s.colModel[i].autoResizable)});for(null!=a.formatoptions&&a.formatoptions.editformbutton||(o.off("jqGridInlineAfterRestoreRow.jqGridFormatter jqGridInlineAfterSaveRow.jqGridFormatter",f),o.on("jqGridInlineAfterRestoreRow.jqGridFormatter jqGridInlineAfterSaveRow.jqGridFormatter",f),o.off("jqGridInlineEditRow.jqGridFormatter",g),o.on("jqGridInlineEditRow.jqGridFormatter",g),o.off("jqGridAfterAddRow.jqGridFormatter",w),o.on("jqGridAfterAddRow.jqGridFormatter",w)),t=0;t<h;t++)i=d[t],$(i).hasClass("jqgrow")&&(y(i.cells[e],a.autoResizable),null!=u&&null!=u[t]&&y(u[t].cells[e],a.autoResizable))},$.unformat=function(e,t,i,n){var r,o=t.colModel,s=o.formatter,a=this.p,l=o.formatoptions||{},c=o.unformat||$FnFmatter[s]&&$FnFmatter[s].unformat;if(e instanceof jQuery&&0<e.length&&(e=e[0]),a.treeGrid&&null!=e&&$(e.firstChild).hasClass("tree-wrap")&&($(e.lastChild).hasClass("cell-wrapper")||$(e.lastChild).hasClass("cell-wrapperleaf"))&&(e=e.lastChild),o.autoResizable&&null!=e&&$(e.firstChild).hasClass(a.autoResizing.wrapperClassName)&&(e=e.firstChild),void 0!==c&&$.isFunction(c))r=c.call(this,$(e).text(),t,e);else if(void 0!==s&&"string"==typeof s){var d=$(this),u=function(e,t){return void 0!==l[t]?l[t]:getGridRes.call(d,"formatter."+e+"."+t)},h=function(e,t){var i=u(e,"thousandsSeparator").replace(/([\.\*\_\'\(\)\{\}\+\?\\])/g,"\\$1");return t.replace(new RegExp(i,"g"),"")};switch(s){case"integer":r=h("integer",$(e).text());break;case"number":r=h("number",$(e).text()).replace(u("number","decimalSeparator"),".");break;case"currency":r=$(e).text();var p=u("currency","prefix"),f=u("currency","suffix");p&&p.length&&(r=r.substr(p.length)),f&&f.length&&(r=r.substr(0,r.length-f.length)),r=h("number",r).replace(u("number","decimalSeparator"),".");break;case"checkbox":r=$FnFmatter.checkbox.unformat(e,t,e);break;case"select":r=$.unformat.select(e,t,i,n);break;case"actions":return"";default:r=$(e).text()}}return void 0!==r?r:!0===n?$(e).text():jgrid.htmlDecode($(e).html())},$.unformat.select=function(e,t,i,n){var r=[],o=$(e).text(),s=t.colModel;if(!0===n)return o;var a=$.extend({},s.editoptions||{},s.formatoptions||{}),l=void 0===a.separator?":":a.separator,c=void 0===a.delimiter?";":a.delimiter;if(a.value){var d,u="function"==typeof a.value?a.value():a.value,h=!0===a.multiple,p=[],f=function(e,t){if(0<t)return e};if(h&&(p=o.split(","),p=$.map(p,function(e){return $.trim(e)})),"string"==typeof u){var g,m=u.split(c),v=0;for(g=0;g<m.length;g++)if(2<(d=m[g].split(l)).length&&(d[1]=$.map(d,f).join(l)),h)-1<$.inArray($.trim(d[1]),p)&&(r[v]=d[0],v++);else if($.trim(d[1])===$.trim(o)){r[0]=d[0];break}}else(fmatter.isObject(u)||$.isArray(u))&&(h||(p[0]=o),r=$.map(p,function(e){var t;if($.each(u,function(i,n){if(n===e)return t=i,!1}),void 0!==t)return t}));return r.join(", ")}return o||""},$.unformat.date=function(e,t){var i=$.extend(!0,{},getGridRes.call($(this),"formatter.date"),jgrid.formatter.date||{},t.formatoptions||{});return fmatter.isEmpty(e)?"":jgrid.parseDate.call(this,i.newformat,e,i.srcformat,i)}})},Nnp9:function(e,t,i){var n,r,o,s;s=function(e){return e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t}},r=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},Rl6D:function(e,t,i){var n,r,o,s;s=function(e){return e.fn.scrollParent=function(t){var i=this.css("position"),n="absolute"===i,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return(!n||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:e(this[0].ownerDocument||document)}},r=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},SDNg:function(e,t,i){var n,r,o,s;s=function(e){var t=/ui-corner-([a-z]){2,6}/g;return e.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,i=[];e.each(this.options.items,function(n,r){var o,s={};if(r)return"controlgroupLabel"===n?((o=t.element.find(r)).each(function(){var t=e(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),t._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(o.get()))):void(e.fn[n]&&(s=t["_"+n+"Options"]?t["_"+n+"Options"]("middle"):{classes:{}},t.element.find(r).each(function(){var r=e(this),o=r[n]("instance"),a=e.widget.extend({},s);if("button"!==n||!r.parent(".ui-spinner").length){o||(o=r[n]()[n]("instance")),o&&(a.classes=t._resolveClassesValues(a.classes,o)),r[n](a);var l=r[n]("widget");e.data(l[0],"ui-controlgroup-data",o||r[n]("instance")),i.push(l[0])}})))}),this.childWidgets=e(e.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var i=e(this).data("ui-controlgroup-data");i&&i[t]&&i[t]()})},_updateCornerClass:function(e,t){var i=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(e,null,i)},_buildSimpleOptions:function(e,t){var i="vertical"===this.options.direction,n={classes:{}};return n.classes[t]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[e],n},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:!!t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(i,n){var r={};return e.each(i,function(o){var s=n.options.classes[o]||"";s=e.trim(s.replace(t,"")),r[o]=(s+" "+i[o]).replace(/\s+/g," ")}),r},_setOption:function(e,t){"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"!==e?this.refresh():this._callChildMethod(t?"disable":"enable")},refresh:function(){var t,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),t=this.childWidgets,this.options.onlyVisible&&(t=t.filter(":visible")),t.length&&(e.each(["first","last"],function(e,n){var r=t[n]().data("ui-controlgroup-data");if(r&&i["_"+r.widgetName+"Options"]){var o=i["_"+r.widgetName+"Options"](1===t.length?"only":n);o.classes=i._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)}else i._updateCornerClass(t[n](),n)}),this._callChildMethod("refresh"))}})},r=[i("7t+N"),i("z1kw")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},UZ9c:function(e,t,i){var n,r,o,s;s=function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"},r=[i("7t+N")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},Up1f:function(e,t,i){var n,r,o,s;s=function(e){return function(){var t,i=Math.max,n=Math.abs,r=/left|center|right/,o=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,c=e.fn.position;function d(e,t,i){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?i/100:1)]}function u(t,i){return parseInt(e.css(t,i),10)||0}e.position={scrollbarWidth:function(){if(void 0!==t)return t;var i,n,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return e("body").append(r),i=o.offsetWidth,r.css("overflow","scroll"),i===(n=o.offsetWidth)&&(n=r[0].clientWidth),r.remove(),t=i-n},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),r=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:r,offset:!n&&!r?e(t).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return c.apply(this,arguments);t=e.extend({},t);var l,h,p,f,g,m,v,b,y=e(t.of),w=e.position.getWithinInfo(t.within),x=e.position.getScrollInfo(w),C=(t.collision||"flip").split(" "),k={};return m=9===(b=(v=y)[0]).nodeType?{width:v.width(),height:v.height(),offset:{top:0,left:0}}:e.isWindow(b)?{width:v.width(),height:v.height(),offset:{top:v.scrollTop(),left:v.scrollLeft()}}:b.preventDefault?{width:0,height:0,offset:{top:b.pageY,left:b.pageX}}:{width:v.outerWidth(),height:v.outerHeight(),offset:v.offset()},y[0].preventDefault&&(t.at="left top"),h=m.width,p=m.height,f=m.offset,g=e.extend({},f),e.each(["my","at"],function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=r.test(n[0])?n.concat(["center"]):o.test(n[0])?["center"].concat(n):["center","center"]),n[0]=r.test(n[0])?n[0]:"center",n[1]=o.test(n[1])?n[1]:"center",e=s.exec(n[0]),i=s.exec(n[1]),k[this]=[e?e[0]:0,i?i[0]:0],t[this]=[a.exec(n[0])[0],a.exec(n[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===t.at[0]?g.left+=h:"center"===t.at[0]&&(g.left+=h/2),"bottom"===t.at[1]?g.top+=p:"center"===t.at[1]&&(g.top+=p/2),l=d(k.at,h,p),g.left+=l[0],g.top+=l[1],this.each(function(){var r,o,s=e(this),a=s.outerWidth(),c=s.outerHeight(),m=u(this,"marginLeft"),v=u(this,"marginTop"),b=a+m+u(this,"marginRight")+x.width,S=c+v+u(this,"marginBottom")+x.height,$=e.extend({},g),D=d(k.my,s.outerWidth(),s.outerHeight());"right"===t.my[0]?$.left-=a:"center"===t.my[0]&&($.left-=a/2),"bottom"===t.my[1]?$.top-=c:"center"===t.my[1]&&($.top-=c/2),$.left+=D[0],$.top+=D[1],r={marginLeft:m,marginTop:v},e.each(["left","top"],function(i,n){e.ui.position[C[i]]&&e.ui.position[C[i]][n]($,{targetWidth:h,targetHeight:p,elemWidth:a,elemHeight:c,collisionPosition:r,collisionWidth:b,collisionHeight:S,offset:[l[0]+D[0],l[1]+D[1]],my:t.my,at:t.at,within:w,elem:s})}),t.using&&(o=function(e){var r=f.left-$.left,o=r+h-a,l=f.top-$.top,d=l+p-c,u={target:{element:y,left:f.left,top:f.top,width:h,height:p},element:{element:s,left:$.left,top:$.top,width:a,height:c},horizontal:o<0?"left":r>0?"right":"center",vertical:d<0?"top":l>0?"bottom":"middle"};h<a&&n(r+o)<h&&(u.horizontal="center"),p<c&&n(l+d)<p&&(u.vertical="middle"),i(n(r),n(o))>i(n(l),n(d))?u.important="horizontal":u.important="vertical",t.using.call(this,e,u)}),s.offset(e.extend($,{using:o}))})},e.ui.position={fit:{left:function(e,t){var n,r=t.within,o=r.isWindow?r.scrollLeft:r.offset.left,s=r.width,a=e.left-t.collisionPosition.marginLeft,l=o-a,c=a+t.collisionWidth-s-o;t.collisionWidth>s?l>0&&c<=0?(n=e.left+l+t.collisionWidth-s-o,e.left+=l-n):e.left=c>0&&l<=0?o:l>c?o+s-t.collisionWidth:o:l>0?e.left+=l:c>0?e.left-=c:e.left=i(e.left-a,e.left)},top:function(e,t){var n,r=t.within,o=r.isWindow?r.scrollTop:r.offset.top,s=t.within.height,a=e.top-t.collisionPosition.marginTop,l=o-a,c=a+t.collisionHeight-s-o;t.collisionHeight>s?l>0&&c<=0?(n=e.top+l+t.collisionHeight-s-o,e.top+=l-n):e.top=c>0&&l<=0?o:l>c?o+s-t.collisionHeight:o:l>0?e.top+=l:c>0?e.top-=c:e.top=i(e.top-a,e.top)}},flip:{left:function(e,t){var i,r,o=t.within,s=o.offset.left+o.scrollLeft,a=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=e.left-t.collisionPosition.marginLeft,d=c-l,u=c+t.collisionWidth-a-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];d<0?((i=e.left+h+p+f+t.collisionWidth-a-s)<0||i<n(d))&&(e.left+=h+p+f):u>0&&((r=e.left-t.collisionPosition.marginLeft+h+p+f-l)>0||n(r)<u)&&(e.left+=h+p+f)},top:function(e,t){var i,r,o=t.within,s=o.offset.top+o.scrollTop,a=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=e.top-t.collisionPosition.marginTop,d=c-l,u=c+t.collisionHeight-a-l,h="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];d<0?((r=e.top+h+p+f+t.collisionHeight-a-s)<0||r<n(d))&&(e.top+=h+p+f):u>0&&((i=e.top-t.collisionPosition.marginTop+h+p+f-l)>0||n(i)<u)&&(e.top+=h+p+f)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position},r=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},WLoA:function(e,t,i){var n,r,o,s;s=function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},r=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},WesT:function(e,t,i){var n,r,o,s;s=function(e){return e.ui.escapeSelector=(t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(e){return e.replace(t,"\\$1")});var t},r=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},XZtq:function(e,t,i){var n,r,o,s;s=function(e){var t={element:"body",position:null,type:"info",allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'};function i(i,n,r){n={content:{message:"object"==typeof n?n.message:n,title:n.title?n.title:"",icon:n.icon?n.icon:"",url:n.url?n.url:"#",target:n.target?n.target:"-"}};r=e.extend(!0,{},n,r),this.settings=e.extend(!0,{},t,r),this._defaults=t,"-"==this.settings.content.target&&(this.settings.content.target=this.settings.url_target),this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"},"number"==typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset}),this.init()}String.format=function(){for(var e=arguments[0],t=1;t<arguments.length;t++)e=e.replace(RegExp("\\{"+(t-1)+"\\}","gm"),arguments[t]);return e},e.extend(i.prototype,{init:function(){var e=this;this.buildNotify(),this.settings.content.icon&&this.setIcon(),"#"!=this.settings.content.url&&this.styleURL(),this.styleDismiss(),this.placement(),this.bind(),this.notify={$ele:this.$ele,update:function(t,i){var n={};for(var t in"string"==typeof t?n[t]=i:n=t,n)switch(t){case"type":this.$ele.removeClass("alert-"+e.settings.type),this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+e.settings.type),e.settings.type=n[t],this.$ele.addClass("alert-"+n[t]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+n[t]);break;case"icon":var r=this.$ele.find('[data-notify="icon"]');"class"==e.settings.icon_type.toLowerCase()?r.removeClass(e.settings.content.icon).addClass(n[t]):(r.is("img")||r.find("img"),r.attr("src",n[t]));break;case"progress":var o=e.settings.delay-e.settings.delay*(n[t]/100);this.$ele.data("notify-delay",o),this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",n[t]).css("width",n[t]+"%");break;case"url":this.$ele.find('[data-notify="url"]').attr("href",n[t]);break;case"target":this.$ele.find('[data-notify="url"]').attr("target",n[t]);break;default:this.$ele.find('[data-notify="'+t+'"]').html(n[t])}var s=this.$ele.outerHeight()+parseInt(e.settings.spacing)+parseInt(e.settings.offset.y);e.reposition(s)},close:function(){e.close()}}},buildNotify:function(){var t=this.settings.content;this.$ele=e(String.format(this.settings.template,this.settings.type,t.title,t.message,t.url,t.target)),this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align),this.settings.allow_dismiss||this.$ele.find('[data-notify="dismiss"]').css("display","none"),(this.settings.delay<=0&&!this.settings.showProgressbar||!this.settings.showProgressbar)&&this.$ele.find('[data-notify="progressbar"]').remove()},setIcon:function(){"class"==this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[data-notify="icon"]').is("img")?this.$ele.find('[data-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleDismiss:function(){this.$ele.find('[data-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+2})},styleURL:function(){this.$ele.find('[data-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:"0px",position:"absolute",top:"0px",width:"100%",zIndex:this.settings.z_index+1})},placement:function(){var t=this,i=this.settings.offset.y,n={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",zIndex:this.settings.z_index},r=!1,o=this.settings;switch(e('[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each(function(){return i=Math.max(i,parseInt(e(this).css(o.placement.from))+parseInt(e(this).outerHeight())+parseInt(o.spacing))}),1==this.settings.newest_on_top&&(i=this.settings.offset.y),n[this.settings.placement.from]=i+"px",this.settings.placement.align){case"left":case"right":n[this.settings.placement.align]=this.settings.offset.x+"px";break;case"center":n.left=0,n.right=0}this.$ele.css(n).addClass(this.settings.animate.enter),e.each(Array("webkit-","moz-","o-","ms-",""),function(e,i){t.$ele[0].style[i+"AnimationIterationCount"]=1}),e(this.settings.element).append(this.$ele),1==this.settings.newest_on_top&&(i=parseInt(i)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(i)),e.isFunction(t.settings.onShow)&&t.settings.onShow.call(this.$ele),this.$ele.one(this.animations.start,function(e){r=!0}).one(this.animations.end,function(i){e.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)}),setTimeout(function(){r||e.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)},600)},bind:function(){var t=this;if(this.$ele.find('[data-notify="dismiss"]').on("click",function(){t.close()}),this.$ele.mouseover(function(t){e(this).data("data-hover","true")}).mouseout(function(t){e(this).data("data-hover","false")}),this.$ele.data("data-hover","false"),this.settings.delay>0){t.$ele.data("notify-delay",t.settings.delay);var i=setInterval(function(){var e=parseInt(t.$ele.data("notify-delay"))-t.settings.timer;if("false"===t.$ele.data("data-hover")&&"pause"==t.settings.mouse_over||"pause"!=t.settings.mouse_over){var n=(t.settings.delay-e)/t.settings.delay*100;t.$ele.data("notify-delay",e),t.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",n).css("width",n+"%")}e<=-t.settings.timer&&(clearInterval(i),t.close())},t.settings.timer)}},close:function(){var t=this,i=parseInt(this.$ele.css(this.settings.placement.from)),n=!1;this.$ele.data("closing","true").addClass(this.settings.animate.exit),t.reposition(i),e.isFunction(t.settings.onClose)&&t.settings.onClose.call(this.$ele),this.$ele.one(this.animations.start,function(e){n=!0}).one(this.animations.end,function(i){e(this).remove(),e.isFunction(t.settings.onClosed)&&t.settings.onClosed.call(this)}),setTimeout(function(){n||(t.$ele.remove(),t.settings.onClosed&&t.settings.onClosed(t.$ele))},600)},reposition:function(t){var i=this,n='[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',r=this.$ele.nextAll(n);1==this.settings.newest_on_top&&(r=this.$ele.prevAll(n)),r.each(function(){e(this).css(i.settings.placement.from,t),t=parseInt(t)+parseInt(i.settings.spacing)+e(this).outerHeight()})}}),e.notify=function(e,t){return new i(this,e,t).notify},e.notifyDefaults=function(i){return t=e.extend(!0,{},t,i)},e.notifyClose=function(t){void 0===t||"all"==t?e("[data-notify]").find('[data-notify="dismiss"]').trigger("click"):e('[data-notify-position="'+t+'"]').find('[data-notify="dismiss"]').trigger("click")}},r=[i("7t+N")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},aYbc:function(e,t,i){var n,r,o;!function(s){"use strict";r=[i("7t+N"),i("JJ2Q")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}(function(e){e.widget("ui.multiselect",{options:{sortable:!0,searchable:!0,doubleClickable:!0,animated:"fast",show:"slideDown",hide:"slideUp",dividerLocation:.6,availableFirst:!1,nodeComparator:function(e,t){var i=e.text(),n=t.text();return i==n?0:i<n?-1:1}},_create:function(){this.element.hide(),this.id=this.element.attr("id"),this.container=e('<div class="ui-multiselect ui-helper-clearfix ui-widget"></div>').insertAfter(this.element),this.count=0,this.selectedContainer=e('<div class="selected"></div>').appendTo(this.container),this.availableContainer=e('<div class="available"></div>')[this.options.availableFirst?"prependTo":"appendTo"](this.container),this.selectedActions=e('<div class="actions ui-widget-header ui-helper-clearfix"><span class="count">0 '+e.ui.multiselect.locale.itemsCount+'</span><a href="#" class="remove-all">'+e.ui.multiselect.locale.removeAll+"</a></div>").appendTo(this.selectedContainer),this.availableActions=e('<div class="actions ui-widget-header ui-helper-clearfix"><input type="text" class="search empty ui-widget-content ui-corner-all"/><a href="#" class="add-all">'+e.ui.multiselect.locale.addAll+"</a></div>").appendTo(this.availableContainer),this.selectedList=e('<ul class="selected connected-list"><li class="ui-helper-hidden-accessible"></li></ul>').bind("selectstart",function(){return!1}).appendTo(this.selectedContainer),this.availableList=e('<ul class="available connected-list"><li class="ui-helper-hidden-accessible"></li></ul>').bind("selectstart",function(){return!1}).appendTo(this.availableContainer);var t=this;this.container.width(this.element.width()+1),this.selectedContainer.width(Math.floor(this.element.width()*this.options.dividerLocation)),this.availableContainer.width(Math.floor(this.element.width()*(1-this.options.dividerLocation))),this.selectedList.height(Math.max(this.element.height()-this.selectedActions.height(),1)),this.availableList.height(Math.max(this.element.height()-this.availableActions.height(),1)),this.options.animated||(this.options.show="show",this.options.hide="hide"),this._populateLists(this.element.find("option")),this.options.sortable&&this.selectedList.sortable({placeholder:"ui-state-highlight",axis:"y",update:function(i,n){t.selectedList.find("li").each(function(){e(this).data("optionLink")&&e(this).data("optionLink").remove().appendTo(t.element)})},receive:function(i,n){n.item.data("optionLink").prop("selected",!0),t.count+=1,t._updateCount(),t.selectedList.children(".ui-draggable").each(function(){e(this).removeClass("ui-draggable"),e(this).data("optionLink",n.item.data("optionLink")),e(this).data("idx",n.item.data("idx")),t._applyItemState(e(this),!0)}),setTimeout(function(){n.item.remove()},1)}}),this.options.searchable?this._registerSearchEvents(this.availableContainer.find("input.search")):e(".search").hide(),this.container.find(".remove-all").click(function(){return t._populateLists(t.element.find("option").prop("selected",!1)),!1}),this.container.find(".add-all").click(function(){var i=t.element.find("option").not(":selected");return t.availableList.children("li:hidden").length>1?t.availableList.children("li").each(function(t){e(this).is(":visible")&&e(i[t-1]).prop("selected",!0)}):i.prop("selected",!0),t._populateLists(t.element.find("option")),!1})},destroy:function(){this.element.show(),this.container.remove(),e.Widget.prototype.destroy.apply(this,arguments)},_populateLists:function(t){this.selectedList.children(".ui-element").remove(),this.availableList.children(".ui-element").remove(),this.count=0;var i=this;e(t.map(function(t){var n=e(this).is(":selected"),r=i._getOptionNode(this).appendTo(n?i.selectedList:i.availableList).show();return n&&(i.count+=1),i._applyItemState(r,n),r.data("idx",t),r[0]}));this._updateCount(),i._filter.apply(this.availableContainer.find("input.search"),[i.availableList])},_updateCount:function(){this.element.trigger("change"),this.selectedContainer.find("span.count").text(this.count+" "+e.ui.multiselect.locale.itemsCount)},_getOptionNode:function(t){t=e(t);var i=e('<li class="ui-state-default ui-element" title="'+(t.attr("title")||t.text())+'"><span class="ui-icon"/>'+t.text()+'<a href="#" class="action"><span class="ui-corner-all ui-icon"/></a></li>').hide();return i.data("optionLink",t),i},_cloneWithData:function(e){var t=e.clone(!1,!1);return t.data("optionLink",e.data("optionLink")),t.data("idx",e.data("idx")),t},_setSelected:function(t,i){if(t.data("optionLink").prop("selected",i),i){var n=this._cloneWithData(t);return t[this.options.hide](this.options.animated,function(){e(this).remove()}),n.appendTo(this.selectedList).hide()[this.options.show](this.options.animated),this._applyItemState(n,!0),n}var r=this.availableList.find("li"),o=this.options.nodeComparator,s=null,a=t.data("idx"),l=o(t,e(r[a]));if(l){for(;a>=0&&a<r.length;)if(l>0?a++:a--,l!=o(t,e(r[a]))){s=r[l>0?a:a+1];break}}else s=r[a];var c=this._cloneWithData(t);return s?c.insertBefore(e(s)):c.appendTo(this.availableList),t[this.options.hide](this.options.animated,function(){e(this).remove()}),c.hide()[this.options.show](this.options.animated),this._applyItemState(c,!1),c},_applyItemState:function(e,t){t?(this.options.sortable?e.children("span").addClass("ui-icon-arrowthick-2-n-s").removeClass("ui-helper-hidden").addClass("ui-icon"):e.children("span").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon"),e.find("a.action span").addClass("ui-icon-minus").removeClass("ui-icon-plus"),this._registerRemoveEvents(e.find("a.action"))):(e.children("span").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon"),e.find("a.action span").addClass("ui-icon-plus").removeClass("ui-icon-minus"),this._registerAddEvents(e.find("a.action"))),this._registerDoubleClickEvents(e),this._registerHoverEvents(e)},_filter:function(t){var i=e(this),n=t.children("li"),r=n.map(function(){return e(this).text().toLowerCase()}),o=e.trim(i.val().toLowerCase()),s=[];o?(n.hide(),r.each(function(e){this.indexOf(o)>-1&&s.push(e)}),e.each(s,function(){e(n[this]).show()})):n.show()},_registerDoubleClickEvents:function(t){this.options.doubleClickable&&t.dblclick(function(i){0===e(i.target).closest(".action").length&&t.find("a.action").click()})},_registerHoverEvents:function(t){t.removeClass("ui-state-hover"),t.mouseover(function(){e(this).addClass("ui-state-hover")}),t.mouseout(function(){e(this).removeClass("ui-state-hover")})},_registerAddEvents:function(t){var i=this;t.click(function(){i._setSelected(e(this).parent(),!0);return i.count+=1,i._updateCount(),!1}),this.options.sortable&&t.each(function(){e(this).parent().draggable({connectToSortable:i.selectedList,helper:function(){var t=i._cloneWithData(e(this)).width(e(this).width()-50);return t.width(e(this).width()),t},appendTo:i.container,containment:i.container,revert:"invalid"})})},_registerRemoveEvents:function(t){var i=this;t.click(function(){return i._setSelected(e(this).parent(),!1),i.count-=1,i._updateCount(),!1})},_registerSearchEvents:function(t){var i=this;t.focus(function(){e(this).addClass("ui-state-active")}).blur(function(){e(this).removeClass("ui-state-active")}).keypress(function(e){if(13==e.keyCode)return!1}).keyup(function(){i._filter.apply(this,[i.availableList])})}}),e.extend(e.ui.multiselect,{locale:{addAll:"Add all",removeAll:"Remove all",itemsCount:"items selected"}})})},"b4+h":function(e,t,i){var n,r,o,s;s=function(e){return function(){function t(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-“”’]*/g,"")}e.validator.addMethod("maxWords",function(e,i,n){return this.optional(i)||t(e).match(/\b\w+\b/g).length<=n},e.validator.format("Please enter {0} words or less.")),e.validator.addMethod("minWords",function(e,i,n){return this.optional(i)||t(e).match(/\b\w+\b/g).length>=n},e.validator.format("Please enter at least {0} words.")),e.validator.addMethod("rangeWords",function(e,i,n){var r=t(e),o=/\b\w+\b/g;return this.optional(i)||r.match(o).length>=n[0]&&r.match(o).length<=n[1]},e.validator.format("Please enter between {0} and {1} words."))}(),e.validator.addMethod("abaRoutingNumber",function(e){var t=0,i=e.split(""),n=i.length;if(9!==n)return!1;for(var r=0;r<n;r+=3)t+=3*parseInt(i[r],10)+7*parseInt(i[r+1],10)+parseInt(i[r+2],10);return 0!==t&&t%10==0},"Please enter a valid routing number."),e.validator.addMethod("accept",function(t,i,n){var r,o,s="string"==typeof n?n.replace(/\s/g,""):"image/*",a=this.optional(i);if(a)return a;if("file"===e(i).attr("type")&&(s=s.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*"),i.files&&i.files.length))for(o=new RegExp(".?("+s+")$","i"),r=0;r<i.files.length;r++)if(!i.files[r].type.match(o))return!1;return!0},e.validator.format("Please enter a value with a valid mimetype.")),e.validator.addMethod("alphanumeric",function(e,t){return this.optional(t)||/^\w+$/i.test(e)},"Letters, numbers, and underscores only please"),e.validator.addMethod("bankaccountNL",function(e,t){if(this.optional(t))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(e))return!1;var i,n=e.replace(/ /g,""),r=0,o=n.length;for(i=0;i<o;i++)r+=(o-i)*n.substring(i,i+1);return r%11==0},"Please specify a valid bank account number"),e.validator.addMethod("bankorgiroaccountNL",function(t,i){return this.optional(i)||e.validator.methods.bankaccountNL.call(this,t,i)||e.validator.methods.giroaccountNL.call(this,t,i)},"Please specify a valid bank or giro account number"),e.validator.addMethod("bic",function(e,t){return this.optional(t)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(e.toUpperCase())},"Please specify a valid BIC code"),e.validator.addMethod("cifES",function(e,t){"use strict";if(this.optional(t))return!0;var i,n,r,o,s=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi),a=e.substring(0,1),l=e.substring(1,8),c=e.substring(8,9),d=0,u=0;function h(e){return e%2==0}if(9!==e.length||!s.test(e))return!1;for(i=0;i<l.length;i++)n=parseInt(l[i],10),h(i)?u+=(n*=2)<10?n:n-9:d+=n;return r=(10-(d+u).toString().substr(-1)).toString(),r=parseInt(r,10)>9?"0":r,o="JABCDEFGHI".substr(r,1).toString(),a.match(/[ABEH]/)?c===r:a.match(/[KPQS]/)?c===o:c===r||c===o},"Please specify a valid CIF number."),e.validator.addMethod("cnhBR",function(e){if(11!==(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;var t,i,n,r,o,s=0,a=0;if(t=e.charAt(0),new Array(12).join(t)===e)return!1;for(r=0,o=9,0;r<9;++r,--o)s+=+e.charAt(r)*o;for((i=s%11)>=10&&(i=0,a=2),s=0,r=0,o=1,0;r<9;++r,++o)s+=+e.charAt(r)*o;return(n=s%11)>=10?n=0:n-=a,String(i).concat(n)===e.substr(-2)},"Please specify a valid CNH number"),e.validator.addMethod("cnpjBR",function(e,t){"use strict";if(this.optional(t))return!0;if(14!==(e=e.replace(/[^\d]+/g,"")).length)return!1;if("00000000000000"===e||"11111111111111"===e||"22222222222222"===e||"33333333333333"===e||"44444444444444"===e||"55555555555555"===e||"66666666666666"===e||"77777777777777"===e||"88888888888888"===e||"99999999999999"===e)return!1;for(var i=e.length-2,n=e.substring(0,i),r=e.substring(i),o=0,s=i-7,a=i;a>=1;a--)o+=n.charAt(i-a)*s--,s<2&&(s=9);var l=o%11<2?0:11-o%11;if(l!==parseInt(r.charAt(0),10))return!1;i+=1,n=e.substring(0,i),o=0,s=i-7;for(var c=i;c>=1;c--)o+=n.charAt(i-c)*s--,s<2&&(s=9);return(l=o%11<2?0:11-o%11)===parseInt(r.charAt(1),10)},"Please specify a CNPJ value number"),e.validator.addMethod("cpfBR",function(e,t){"use strict";if(this.optional(t))return!0;if(11!==(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;var i,n,r,o,s=0;if(i=parseInt(e.substring(9,10),10),n=parseInt(e.substring(10,11),10),r=function(e,t){var i=10*e%11;return 10!==i&&11!==i||(i=0),i===t},""===e||"00000000000"===e||"11111111111"===e||"22222222222"===e||"33333333333"===e||"44444444444"===e||"55555555555"===e||"66666666666"===e||"77777777777"===e||"88888888888"===e||"99999999999"===e)return!1;for(o=1;o<=9;o++)s+=parseInt(e.substring(o-1,o),10)*(11-o);if(r(s,i)){for(s=0,o=1;o<=10;o++)s+=parseInt(e.substring(o-1,o),10)*(12-o);return r(s,n)}return!1},"Please specify a valid CPF number"),e.validator.addMethod("creditcard",function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var i,n,r=0,o=0,s=!1;if((e=e.replace(/\D/g,"")).length<13||e.length>19)return!1;for(i=e.length-1;i>=0;i--)n=e.charAt(i),o=parseInt(n,10),s&&(o*=2)>9&&(o-=9),r+=o,s=!s;return r%10==0},"Please enter a valid credit card number."),e.validator.addMethod("creditcardtypes",function(e,t,i){if(/[^0-9\-]+/.test(e))return!1;e=e.replace(/\D/g,"");var n=0;return i.mastercard&&(n|=1),i.visa&&(n|=2),i.amex&&(n|=4),i.dinersclub&&(n|=8),i.enroute&&(n|=16),i.discover&&(n|=32),i.jcb&&(n|=64),i.unknown&&(n|=128),i.all&&(n=255),1&n&&(/^(5[12345])/.test(e)||/^(2[234567])/.test(e))?16===e.length:2&n&&/^(4)/.test(e)?16===e.length:4&n&&/^(3[47])/.test(e)?15===e.length:8&n&&/^(3(0[012345]|[68]))/.test(e)?14===e.length:16&n&&/^(2(014|149))/.test(e)?15===e.length:32&n&&/^(6011)/.test(e)?16===e.length:64&n&&/^(3)/.test(e)?16===e.length:64&n&&/^(2131|1800)/.test(e)?15===e.length:!!(128&n)},"Please enter a valid credit card number."),e.validator.addMethod("currency",function(e,t,i){var n,r="string"==typeof i,o=r?i:i[0],s=!!r||i[1];return o=o.replace(/,/g,""),n="^["+(o=s?o+"]":o+"]?")+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",n=new RegExp(n),this.optional(t)||n.test(e)},"Please specify a valid currency"),e.validator.addMethod("dateFA",function(e,t){return this.optional(t)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(e)},e.validator.messages.date),e.validator.addMethod("dateITA",function(e,t){var i,n,r,o,s,a=!1;return/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e)?(i=e.split("/"),n=parseInt(i[0],10),r=parseInt(i[1],10),o=parseInt(i[2],10),a=(s=new Date(Date.UTC(o,r-1,n,12,0,0,0))).getUTCFullYear()===o&&s.getUTCMonth()===r-1&&s.getUTCDate()===n):a=!1,this.optional(t)||a},e.validator.messages.date),e.validator.addMethod("dateNL",function(e,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)},e.validator.messages.date),e.validator.addMethod("extension",function(e,t,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(new RegExp("\\.("+i+")$","i"))},e.validator.format("Please enter a value with a valid extension.")),e.validator.addMethod("giroaccountNL",function(e,t){return this.optional(t)||/^[0-9]{1,7}$/.test(e)},"Please specify a valid giro account number"),e.validator.addMethod("greaterThan",function(t,i,n){var r=e(n);return this.settings.onfocusout&&r.not(".validate-greaterThan-blur").length&&r.addClass("validate-greaterThan-blur").on("blur.validate-greaterThan",function(){e(i).valid()}),t>r.val()},"Please enter a greater value."),e.validator.addMethod("greaterThanEqual",function(t,i,n){var r=e(n);return this.settings.onfocusout&&r.not(".validate-greaterThanEqual-blur").length&&r.addClass("validate-greaterThanEqual-blur").on("blur.validate-greaterThanEqual",function(){e(i).valid()}),t>=r.val()},"Please enter a greater value."),e.validator.addMethod("iban",function(e,t){if(this.optional(t))return!0;var i,n,r,o,s,a=e.replace(/ /g,"").toUpperCase(),l="",c=!0,d="";if(a.length<5)return!1;if(void 0!==(r={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"}[a.substring(0,2)])&&!new RegExp("^[A-Z]{2}\\d{2}"+r+"$","").test(a))return!1;for(i=a.substring(4,a.length)+a.substring(0,4),o=0;o<i.length;o++)"0"!==(n=i.charAt(o))&&(c=!1),c||(l+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(n));for(s=0;s<l.length;s++)d=(""+d+l.charAt(s))%97;return 1===d},"Please specify a valid IBAN"),e.validator.addMethod("integer",function(e,t){return this.optional(t)||/^-?\d+$/.test(e)},"A positive or negative non-decimal number please"),e.validator.addMethod("ipv4",function(e,t){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)},"Please enter a valid IP v4 address."),e.validator.addMethod("ipv6",function(e,t){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)},"Please enter a valid IP v6 address."),e.validator.addMethod("lessThan",function(t,i,n){var r=e(n);return this.settings.onfocusout&&r.not(".validate-lessThan-blur").length&&r.addClass("validate-lessThan-blur").on("blur.validate-lessThan",function(){e(i).valid()}),t<r.val()},"Please enter a lesser value."),e.validator.addMethod("lessThanEqual",function(t,i,n){var r=e(n);return this.settings.onfocusout&&r.not(".validate-lessThanEqual-blur").length&&r.addClass("validate-lessThanEqual-blur").on("blur.validate-lessThanEqual",function(){e(i).valid()}),t<=r.val()},"Please enter a lesser value."),e.validator.addMethod("lettersonly",function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)},"Letters only please"),e.validator.addMethod("letterswithbasicpunc",function(e,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(e)},"Letters or punctuation only please"),e.validator.addMethod("maxfiles",function(t,i,n){return!!this.optional(i)||!("file"===e(i).attr("type")&&i.files&&i.files.length>n)},e.validator.format("Please select no more than {0} files.")),e.validator.addMethod("maxsize",function(t,i,n){if(this.optional(i))return!0;if("file"===e(i).attr("type")&&i.files&&i.files.length)for(var r=0;r<i.files.length;r++)if(i.files[r].size>n)return!1;return!0},e.validator.format("File size must not exceed {0} bytes each.")),e.validator.addMethod("maxsizetotal",function(t,i,n){if(this.optional(i))return!0;if("file"===e(i).attr("type")&&i.files&&i.files.length)for(var r=0,o=0;o<i.files.length;o++)if((r+=i.files[o].size)>n)return!1;return!0},e.validator.format("Total size of all files must not exceed {0} bytes.")),e.validator.addMethod("mobileNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid mobile number"),e.validator.addMethod("mobileRU",function(e,t){var i=e.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||i.length>9&&/^((\+7|7|8)+([0-9]){10})$/.test(i)},"Please specify a valid mobile number"),e.validator.addMethod("mobileUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),e.validator.addMethod("netmask",function(e,t){return this.optional(t)||/^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(e)},"Please enter a valid netmask."),e.validator.addMethod("nieES",function(e,t){"use strict";if(this.optional(t))return!0;var i,n=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi),r=e.substr(e.length-1).toUpperCase();return!((e=e.toString().toUpperCase()).length>10||e.length<9||!n.test(e))&&(i=9===(e=e.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2")).length?e.substr(0,8):e.substr(0,9),"TRWAGMYFPDXBNJZSQVHLCKET".charAt(parseInt(i,10)%23)===r)},"Please specify a valid NIE number."),e.validator.addMethod("nifES",function(e,t){"use strict";return!!this.optional(t)||!!(e=e.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(e)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,0)%23)===e.charAt(8):!!/^[KLM]{1}/.test(e)&&e[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,1)%23))},"Please specify a valid NIF number."),e.validator.addMethod("nipPL",function(e){"use strict";if(10!==(e=e.replace(/[^0-9]/g,"")).length)return!1;for(var t=[6,5,7,2,3,4,5,6,7],i=0,n=0;n<9;n++)i+=t[n]*e[n];var r=i%11;return(10===r?0:r)===parseInt(e[9],10)},"Please specify a valid NIP number."),e.validator.addMethod("nisBR",function(e){var t,i,n,r,o,s=0;if(11!==(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;for(i=parseInt(e.substring(10,11),10),t=parseInt(e.substring(0,10),10),r=2;r<12;r++)o=r,10===r&&(o=2),11===r&&(o=3),s+=t%10*o,t=parseInt(t/10,10);return i===(n=(n=s%11)>1?11-n:0)},"Please specify a valid NIS/PIS number"),e.validator.addMethod("notEqualTo",function(t,i,n){return this.optional(i)||!e.validator.methods.equalTo.call(this,t,i,n)},"Please enter a different value, values must not be the same."),e.validator.addMethod("nowhitespace",function(e,t){return this.optional(t)||/^\S+$/i.test(e)},"No white space please"),e.validator.addMethod("pattern",function(e,t,i){return!!this.optional(t)||("string"==typeof i&&(i=new RegExp("^(?:"+i+")$")),i.test(e))},"Invalid format."),e.validator.addMethod("phoneNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid phone number."),e.validator.addMethod("phonePL",function(e,t){e=e.replace(/\s+/g,"");return this.optional(t)||/^(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-68]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}$/.test(e)},"Please specify a valid phone number"),e.validator.addMethod("phonesUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),e.validator.addMethod("phoneUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),e.validator.addMethod("phoneUS",function(e,t){return e=e.replace(/\s+/g,""),this.optional(t)||e.length>9&&e.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number"),e.validator.addMethod("postalcodeBR",function(e,t){return this.optional(t)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(e)},"Informe um CEP válido."),e.validator.addMethod("postalCodeCA",function(e,t){return this.optional(t)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postalcodeIT",function(e,t){return this.optional(t)||/^\d{5}$/.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postalcodeNL",function(e,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postcodeUK",function(e,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(e)},"Please specify a valid UK postcode"),e.validator.addMethod("require_from_group",function(t,i,n){var r=e(n[1],i.form),o=r.eq(0),s=o.data("valid_req_grp")?o.data("valid_req_grp"):e.extend({},this),a=r.filter(function(){return s.elementValue(this)}).length>=n[0];return o.data("valid_req_grp",s),e(i).data("being_validated")||(r.data("being_validated",!0),r.each(function(){s.element(this)}),r.data("being_validated",!1)),a},e.validator.format("Please fill at least {0} of these fields.")),e.validator.addMethod("skip_or_fill_minimum",function(t,i,n){var r=e(n[1],i.form),o=r.eq(0),s=o.data("valid_skip")?o.data("valid_skip"):e.extend({},this),a=r.filter(function(){return s.elementValue(this)}).length,l=0===a||a>=n[0];return o.data("valid_skip",s),e(i).data("being_validated")||(r.data("being_validated",!0),r.each(function(){s.element(this)}),r.data("being_validated",!1)),l},e.validator.format("Please either skip these fields or fill at least {0} of them.")),e.validator.addMethod("stateUS",function(e,t,i){var n,r=void 0===i,o=!r&&void 0!==i.caseSensitive&&i.caseSensitive,s=!r&&void 0!==i.includeTerritories&&i.includeTerritories,a=!r&&void 0!==i.includeMilitary&&i.includeMilitary;return n=s||a?s&&a?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":s?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",n=o?new RegExp(n):new RegExp(n,"i"),this.optional(t)||n.test(e)},"Please specify a valid state"),e.validator.addMethod("strippedminlength",function(t,i,n){return e(t).text().length>=n},e.validator.format("Please enter at least {0} characters")),e.validator.addMethod("time",function(e,t){return this.optional(t)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(e)},"Please enter a valid time, between 00:00 and 23:59"),e.validator.addMethod("time12h",function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)},"Please enter a valid time in 12-hour am/pm format"),e.validator.addMethod("url2",function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},e.validator.messages.url),e.validator.addMethod("vinUS",function(e){if(17!==e.length)return!1;var t,i,n,r,o,s,a=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],l=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],c=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],d=0;for(t=0;t<17;t++){if(r=c[t],n=e.slice(t,t+1),8===t&&(s=n),isNaN(n)){for(i=0;i<a.length;i++)if(n.toUpperCase()===a[i]){n=l[i],n*=r,isNaN(s)&&8===i&&(s=a[i]);break}}else n*=r;d+=n}return 10===(o=d%11)&&(o="X"),o===s},"The specified vehicle identification number (VIN) is invalid."),e.validator.addMethod("zipcodeUS",function(e,t){return this.optional(t)||/^\d{5}(-\d{4})?$/.test(e)},"The specified US ZIP Code is invalid"),e.validator.addMethod("ziprange",function(e,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(e)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"),e},r=[i("7t+N"),i("f9KE")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},f9KE:function(e,t,i){var n,r,o,s;s=function(e){var t;e.extend(e.fn,{validate:function(t){if(this.length){var i=e.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new e.validator(t,this[0]),e.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.submitButton=t.currentTarget,e(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(t){function n(){var n,r;return i.submitButton&&(i.settings.submitHandler||i.formSubmitted)&&(n=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(e(i.submitButton).val()).appendTo(i.currentForm)),!(i.settings.submitHandler&&!i.settings.debug)||(r=i.settings.submitHandler.call(i,i.currentForm,t),n&&n.remove(),void 0!==r&&r)}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,i,n;return e(this[0]).is("form")?t=this.validate().form():(n=[],t=!0,i=e(this[0].form).validate(),this.each(function(){(t=i.element(this)&&t)||(n=n.concat(i.errorList))}),i.errorList=n),t},rules:function(t,i){var n,r,o,s,a,l,c=this[0],d=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=c&&(!c.form&&d&&(c.form=this.closest("form")[0],c.name=this.attr("name")),null!=c.form)){if(t)switch(r=(n=e.data(c.form,"validator").settings).rules,o=e.validator.staticRules(c),t){case"add":e.extend(o,e.validator.normalizeRule(i)),delete o.messages,r[c.name]=o,i.messages&&(n.messages[c.name]=e.extend(n.messages[c.name],i.messages));break;case"remove":return i?(l={},e.each(i.split(/\s/),function(e,t){l[t]=o[t],delete o[t]}),l):(delete r[c.name],o)}return(s=e.validator.normalizeRules(e.extend({},e.validator.classRules(c),e.validator.attributeRules(c),e.validator.dataRules(c),e.validator.staticRules(c)),c)).required&&(a=s.required,delete s.required,s=e.extend({required:a},s)),s.remote&&(a=s.remote,delete s.remote,s=e.extend(s,{remote:a})),s}}}),e.extend(e.expr.pseudos||e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){var i=e(t).val();return null!==i&&!!e.trim(""+i)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,i){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=i,this.init()},e.validator.format=function(t,i){return 1===arguments.length?function(){var i=e.makeArray(arguments);return i.unshift(t),e.validator.format.apply(this,i)}:void 0===i?t:(arguments.length>2&&i.constructor!==Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return i})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,i){9===i.which&&""===this.elementValue(t)||-1!==e.inArray(i.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,i,n){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(n):e(t).addClass(i).removeClass(n)},unhighlight:function(t,i,n){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(n):e(t).removeClass(i).addClass(n)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t,i=this.currentForm,n=this.groups={};function r(t){var n=void 0!==e(this).attr("contenteditable")&&"false"!==e(this).attr("contenteditable");if(!this.form&&n&&(this.form=e(this).closest("form")[0],this.name=e(this).attr("name")),i===this.form){var r=e.data(this.form,"validator"),o="on"+t.type.replace(/^validate/,""),s=r.settings;s[o]&&!e(this).is(s.ignore)&&s[o].call(r,this,t)}}e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){n[i]=t})}),t=this.settings.rules,e.each(t,function(i,n){t[i]=e.validator.normalizeRule(n)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",r).on("click.validate","select, option, [type='radio'], [type='checkbox']",r),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var i,n,r=this.clean(t),o=this.validationTargetFor(r),s=this,a=!0;return void 0===o?delete this.invalid[r.name]:(this.prepareElement(o),this.currentElements=e(o),(n=this.groups[o.name])&&e.each(this.groups,function(e,t){t===n&&e!==o.name&&(r=s.validationTargetFor(s.clean(s.findByName(e))))&&r.name in s.invalid&&(s.currentElements.push(r),a=s.check(r)&&a)}),i=!1!==this.check(o),a=a&&i,this.invalid[o.name]=!i,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!i)),a},showErrors:function(t){if(t){var i=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,function(e,t){return{message:e,element:i.findByName(t)[0]}}),this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)void 0!==e[t]&&null!==e[t]&&!1!==e[t]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var n=this.name||e(this).attr("name"),r=void 0!==e(this).attr("contenteditable")&&"false"!==e(this).attr("contenteditable");return!n&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),r&&(this.form=e(this).closest("form")[0],this.name=n),this.form===t.currentForm&&(!(n in i||!t.objectLength(e(this).rules()))&&(i[n]=!0,!0))})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var i,n,r=e(t),o=t.type,s=void 0!==r.attr("contenteditable")&&"false"!==r.attr("contenteditable");return"radio"===o||"checkbox"===o?this.findByName(t.name).filter(":checked").val():"number"===o&&void 0!==t.validity?t.validity.badInput?"NaN":r.val():(i=s?r.text():r.val(),"file"===o?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(n=i.lastIndexOf("/"))>=0?i.substr(n+1):(n=i.lastIndexOf("\\"))>=0?i.substr(n+1):i:"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var i,n,r,o,s=e(t).rules(),a=e.map(s,function(e,t){return t}).length,l=!1,c=this.elementValue(t);for(n in"function"==typeof s.normalizer?o=s.normalizer:"function"==typeof this.settings.normalizer&&(o=this.settings.normalizer),o&&(c=o.call(t,c),delete s.normalizer),s){r={method:n,parameters:s[n]};try{if("dependency-mismatch"===(i=e.validator.methods[n].call(this,c,t,r.parameters))&&1===a){l=!0;continue}if(l=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,r),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+r.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+r.method+"' method."),e}}if(!l)return this.objectLength(s)&&this.successList.push(t),!0},customDataMessage:function(t,i){return e(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,i){"string"==typeof i&&(i={method:i});var n=this.findDefined(this.customMessage(t.name,i.method),this.customDataMessage(t,i.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[i.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),r=/\$?\{(\d+)\}/g;return"function"==typeof n?n=n.call(this,i.parameters,t):r.test(n)&&(n=e.validator.format(n.replace(r,"{$1}"),i.parameters)),n},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t);this.errorList.push({message:i,element:e,method:t.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,i;for(e=0;this.errorList[e];e++)i=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var n,r,o,s,a=this.errorsFor(t),l=this.idOrName(t),c=e(t).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(i)):(n=a=e("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(n=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement.call(this,n,e(t)):n.insertAfter(t),a.is("label")?a.attr("for",l):0===a.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(o=a.attr("id"),c?c.match(new RegExp("\\b"+this.escapeCssMeta(o)+"\\b"))||(c+=" "+o):c=o,e(t).attr("aria-describedby",c),(r=this.groups[t.name])&&(s=this,e.each(s.groups,function(t,i){i===r&&e("[name='"+s.escapeCssMeta(t)+"']",s.currentForm).attr("aria-describedby",a.attr("id"))})))),!i&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,t)),this.toShow=this.toShow.add(a)},errorsFor:function(t){var i=this.escapeCssMeta(this.idOrName(t)),n=e(t).attr("aria-describedby"),r="label[for='"+i+"'], label[for='"+i+"'] *";return n&&(r=r+", #"+this.escapeCssMeta(n).replace(/\s+/g,", #")),this.errors().filter(r)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,i){return!!e(t,i.form).length},function:function(e,t){return e(t)}},optional:function(t){var i=this.elementValue(t);return!e.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.submitButton&&e("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,i){return i="string"==typeof i&&i||"remote",e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:i})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:e.extend(this.classRuleSettings,t)},classRules:function(t){var i={},n=e(t).attr("class");return n&&e.each(n.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(i,e.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(e,t,i,n){/min|max|step/.test(i)&&(null===t||/number|range|text/.test(t))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?e[i]=n:t===i&&"range"!==t&&(e[i]=!0)},attributeRules:function(t){var i,n,r={},o=e(t),s=t.getAttribute("type");for(i in e.validator.methods)"required"===i?(""===(n=t.getAttribute(i))&&(n=!0),n=!!n):n=o.attr(i),this.normalizeAttributeRule(r,s,i,n);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(t){var i,n,r={},o=e(t),s=t.getAttribute("type");for(i in e.validator.methods)""===(n=o.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()))&&(n=!0),this.normalizeAttributeRule(r,s,i,n);return r},staticRules:function(t){var i={},n=e.data(t.form,"validator");return n.settings.rules&&(i=e.validator.normalizeRule(n.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return e.each(t,function(n,r){if(!1!==r){if(r.param||r.depends){var o=!0;switch(typeof r.depends){case"string":o=!!e(r.depends,i.form).length;break;case"function":o=r.depends.call(i,i)}o?t[n]=void 0===r.param||r.param:(e.data(i.form,"validator").resetElements(e(i)),delete t[n])}}else delete t[n]}),e.each(t,function(n,r){t[n]=e.isFunction(r)&&"normalizer"!==n?r(i):r}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var i;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};e.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,n){e.validator.methods[t]=i,e.validator.messages[t]=void 0!==n?n:e.validator.messages[t],i.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var r=e(i).val();return r&&r.length>0}return this.checkable(i)?this.getLength(t,i)>0:void 0!==t&&null!==t&&t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:(t=!1,function(e,i){return t||(t=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(i)||!/Invalid|NaN/.test(new Date(e).toString())}),dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,i,n){var r=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=n},maxlength:function(t,i,n){var r=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r<=n},rangelength:function(t,i,n){var r=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=n[0]&&r<=n[1]},min:function(e,t,i){return this.optional(t)||e>=i},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},step:function(t,i,n){var r,o=e(i).attr("type"),s="Step attribute on input type "+o+" is not supported.",a=new RegExp("\\b"+o+"\\b"),l=function(e){var t=(""+e).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0},c=function(e){return Math.round(e*Math.pow(10,r))},d=!0;if(o&&!a.test(["text","number","range"].join()))throw new Error(s);return r=l(n),(l(t)>r||c(t)%c(n)!=0)&&(d=!1),this.optional(i)||d},equalTo:function(t,i,n){var r=e(n);return this.settings.onfocusout&&r.not(".validate-equalTo-blur").length&&r.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){e(i).valid()}),t===r.val()},remote:function(t,i,n,r){if(this.optional(i))return"dependency-mismatch";r="string"==typeof r&&r||"remote";var o,s,a,l=this.previousValue(i,r);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[i.name][r],this.settings.messages[i.name][r]=l.message,n="string"==typeof n&&{url:n}||n,a=e.param(e.extend({data:t},n.data)),l.old===a?l.valid:(l.old=a,o=this,this.startRequest(i),(s={})[i.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:s,context:o.currentForm,success:function(e){var n,s,a,c=!0===e||"true"===e;o.settings.messages[i.name][r]=l.originalMessage,c?(a=o.formSubmitted,o.resetInternals(),o.toHide=o.errorsFor(i),o.formSubmitted=a,o.successList.push(i),o.invalid[i.name]=!1,o.showErrors()):(n={},s=e||o.defaultMessage(i,{method:r,parameters:t}),n[i.name]=l.message=s,o.invalid[i.name]=!0,o.showErrors(n)),l.valid=c,o.stopRequest(i,c)}},n)),"pending")}}});var i,n={};return e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,i){var r=e.port;"abort"===e.mode&&(n[r]&&n[r].abort(),n[r]=i)}):(i=e.ajax,e.ajax=function(t){var r=("mode"in t?t:e.ajaxSettings).mode,o=("port"in t?t:e.ajaxSettings).port;return"abort"===r?(n[o]&&n[o].abort(),n[o]=i.apply(this,arguments),n[o]):i.apply(this,arguments)}),e},r=[i("7t+N")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},mB2l:function(e,t,i){var n,r,o,s;s=function(e){return e.extend(e.expr[":"],{tabbable:function(t){var i=e.attr(t,"tabindex"),n=null!=i;return(!n||i>=0)&&e.ui.focusable(t,n)}})},r=[i("7t+N"),i("UZ9c"),i("taAx")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},mKWO:function(e,t,i){var n,r,o,s;s=function(e){return e.widget("ui.resizable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n,r=i&&"left"===i?"scrollLeft":"scrollTop";return t[r]>0||(t[r]=1,n=t[r]>0,t[r]=0,n)},_create:function(){var t,i=this.options,n=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),i.autoHide&&e(this.element).on("mouseenter",function(){i.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){i.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,i,n,r,o,s=this.options,a=this;if(this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},i=0;i<n.length;i++)r="ui-resizable-"+(t=e.trim(n[i])),o=e("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:s.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(o);this._renderAxis=function(t){var i,n,r,o;for(i in t=t||this.element,this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=e(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var i,n,r=!1;for(i in this.handles)((n=e(this.handles[i])[0])===t.target||e.contains(n,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(t){var i,n,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),o.containment&&(i+=e(o.containment).scrollLeft()||0,n+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,n,r=this.originalMousePosition,o=this.axis,s=t.pageX-r.left||0,a=t.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[t,s,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var i,n,r,o,s,a,l,c=this.options;return this._helper&&(r=(n=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:this.sizeDiff.height,o=n?0:this.sizeDiff.width,s={width:this.helper.width()-o,height:this.helper.height()-r},a=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,l=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,c.animate||this.element.css(e.extend(s,{top:l,left:a})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,n,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),n>o.minHeight&&(o.minHeight=n),i<o.maxWidth&&(o.maxWidth=i),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return o&&(e.width=t.minWidth),s&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),o&&c&&(e.left=a-t.minWidth),n&&c&&(e.left=a-t.maxWidth),s&&d&&(e.top=l-t.minHeight),r&&d&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],n=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)i[t]=parseFloat(n[t])||0,i[t]+=parseFloat(r[t])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,a=o?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-s},c=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,d=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,d&&c?{top:d,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};r&&r.length&&e(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,n,r,o,s,a,l=e(this).resizable("instance"),c=l.options,d=l.element,u=c.containment,h=u instanceof e?u.get(0):/parent/.test(u)?d.parent().get(0):u;h&&(l.containerElement=e(h),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,n){i[e]=l._num(t.css("padding"+n))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},n=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(h,"left")?h.scrollWidth:o,a=l._hasScroll(h)?h.scrollHeight:r,l.parentData={element:h,left:n.left,top:n.top,width:s,height:a}))},resize:function(t){var i,n,r,o,s=e(this).resizable("instance"),a=s.options,l=s.containerOffset,c=s.position,d=s._aspectRatio||t.shiftKey,u={top:0,left:0},h=s.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(u=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-u.left),d&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),d&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?l.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),i=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-u.left:s.offset.left-l.left)),n=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-u.top:s.offset.top-l.top)),i+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-i,d&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),n+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-n,d&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,n=t.containerOffset,r=t.containerPosition,o=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,c=s.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-r.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-r.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options;e(t.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var n=e(this).resizable("instance"),r=n.options,o=n.originalSize,s=n.originalPosition,a={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-s.top||0,left:n.position.left-s.left||0};e(r.alsoResize).each(function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),r={},o=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var i=(n[t]||0)+(a[t]||0);i&&i>=0&&(r[t]=i||null)}),t.css(r)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==e.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),n=i.options,r=i.size,o=i.originalSize,s=i.originalPosition,a=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,d=l[1]||1,u=Math.round((r.width-o.width)/c)*c,h=Math.round((r.height-o.height)/d)*d,p=o.width+u,f=o.height+h,g=n.maxWidth&&n.maxWidth<p,m=n.maxHeight&&n.maxHeight<f,v=n.minWidth&&n.minWidth>p,b=n.minHeight&&n.minHeight>f;n.grid=l,v&&(p+=c),b&&(f+=d),g&&(p-=c),m&&(f-=d),/^(se|s|e)$/.test(a)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.top=s.top-h):/^(sw)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.left=s.left-u):((f-d<=0||p-c<=0)&&(t=i._getPaddingPlusBorderDimensions(this)),f-d>0?(i.size.height=f,i.position.top=s.top-h):(f=d-t.height,i.size.height=f,i.position.top=s.top+o.height-f),p-c>0?(i.size.width=p,i.position.left=s.left-u):(p=c-t.width,i.size.width=p,i.position.left=s.left+o.width-p))}}),e.ui.resizable},r=[i("7t+N"),i("9V2q"),i("nYWQ"),i("zUl4"),i("UZ9c"),i("z1kw")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},nErl:function(e,t){(function(t){e.exports=t}).call(t,{})},nYWQ:function(e,t,i){var n,r,o,s;s=function(e){return e.fn.extend({disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(t+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var t},r=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},ne1m:function(e,t,i){var n,r,o,s;s=function(e){return e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")}},r=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},"o1P/":function(e,t,i){var n,r,o,s;s=function(e){var t;return e.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===e.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,i){var n="iconPosition"!==t,r=n?this.options.iconPosition:i,o="top"===r||"bottom"===r;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=e("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,i),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,i=void 0===e.icon?this.options.icon:e.icon;t||i||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),this.element[0].disabled=t,t&&this.element.blur())},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==e.uiBackCompat&&(e.widget("ui.button",e.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){"text"!==e?("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",t)}}),e.fn.button=(t=e.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?t.apply(this,arguments):(e.ui.checkboxradio||e.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),e.fn.buttonset=function(){return e.ui.controlgroup||e.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),e.ui.button},r=[i("7t+N"),i("SDNg"),i("yWuW"),i("WLoA"),i("z1kw")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},oKXF:function(e,t,i){var n;n=function(){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(e,t){"object"===(void 0===e?"undefined":r(e))&&(t=e,e=void 0),t=t||{};var i,n=o(e),s=n.source,d=n.id,u=n.path,h=c[d]&&u in c[d].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||h?(l("ignoring socket cache for %s",s),i=a(s,t)):(c[d]||(l("new io instance for %s",s),c[d]=a(s,t)),i=c[d]),n.query&&!t.query&&(t.query=n.query),i.socket(n.path,t)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=i(1),s=i(7),a=i(12),l=i(3)("socket.io-client");e.exports=t=n;var c=t.managers={};t.protocol=s.protocol,t.connect=n,t.Manager=i(12),t.Socket=i(37)},function(e,t,i){(function(t){"use strict";var n=i(2),r=i(3)("socket.io-client:url");e.exports=function(e,i){var o=e;i=i||t.location,null==e&&(e=i.protocol+"//"+i.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?i.protocol+e:i.host+e),/^(https?|wss?):\/\//.test(e)||(r("protocol-less url %s",e),e=void 0!==i?i.protocol+"//"+e:"https://"+e),r("parse %s",e),o=n(e)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";var s=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+s+":"+o.port,o.href=o.protocol+"://"+s+(i&&i.port===o.port?"":":"+o.port),o}}).call(t,function(){return this}())},function(e,t){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,r=e.indexOf("["),o=e.indexOf("]");-1!=r&&-1!=o&&(e=e.substring(0,r)+e.substring(r,o).replace(/:/g,";")+e.substring(o,e.length));for(var s=i.exec(e||""),a={},l=14;l--;)a[n[l]]=s[l]||"";return-1!=r&&-1!=o&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(e,t,i){(function(n){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e}(t=e.exports=i(5)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var i=this.useColors;if(e[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+e[0]+(i?"%c ":" ")+"+"+t.humanize(this.diff),i){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(o=++r)}),e.splice(o,0,n)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())}).call(t,i(4))},function(e,t){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(){f&&h&&(f=!1,h.length?p=h.concat(p):g=-1,p.length&&s())}function s(){if(!f){var e=r(o);f=!0;for(var t=p.length;t;){for(h=p,p=[];++g<t;)h&&h[g].run();g=-1,t=p.length}h=null,f=!1,function(e){if(d===clearTimeout)return clearTimeout(e);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}(e)}}function a(e,t){this.fun=e,this.array=t}function l(){}var c,d,u=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(e){c=i}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(e){d=n}}();var h,p=[],f=!1,g=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];p.push(new a(e,t)),1!==p.length||f||r(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=l,u.addListener=l,u.once=l,u.off=l,u.removeListener=l,u.removeAllListeners=l,u.emit=l,u.prependListener=l,u.prependOnceListener=l,u.listeners=function(e){return[]},u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e,t,i){function n(e){function i(){if(i.enabled){var e=i,r=+new Date,o=r-(n||r);e.diff=o,e.prev=n,e.curr=r,n=r;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(i,n){if("%%"===i)return i;l++;var r=t.formatters[n];if("function"==typeof r){var o=s[l];i=r.call(e,o),s.splice(l,1),l--}return i}),t.formatArgs.call(e,s),(i.log||t.log||console.log.bind(console)).apply(e,s)}}var n;return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=function(e){var i,n=0;for(i in e)n=(n<<5)-n+e.charCodeAt(i),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),i.destroy=r,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function r(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];var i,n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(i=0;i<t.instances.length;i++){var o=t.instances[i];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var i,n;for(i=0,n=t.skips.length;i<n;i++)if(t.skips[i].test(e))return!1;for(i=0,n=t.names.length;i<n;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=i(6),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){function i(e){return n(e,a,"day")||n(e,s,"hour")||n(e,o,"minute")||n(e,r,"second")||e+" ms"}function n(e,t,i){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+i:Math.ceil(e/t)+" "+i+"s"}var r=1e3,o=60*r,s=60*o,a=24*s,l=365.25*a;e.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return i*l;case"days":case"day":case"d":return i*a;case"hours":case"hour":case"hrs":case"hr":case"h":return i*s;case"minutes":case"minute":case"mins":case"min":case"m":return i*o;case"seconds":case"second":case"secs":case"sec":case"s":return i*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===n&&!1===isNaN(e))return t.long?i(e):function(e){return e>=a?Math.round(e/a)+"d":e>=s?Math.round(e/s)+"h":e>=o?Math.round(e/o)+"m":e>=r?Math.round(e/r)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,i){function n(){}function r(e){var i=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(i+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(i+=e.nsp+","),null!=e.id&&(i+=e.id),null!=e.data){var n=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===n)return f;i+=n}return c("encoded %j as %s",e,i),i}function o(){this.reconstructor=null}function s(e){var i=0,n={type:Number(e.charAt(0))};if(null==t.types[n.type])return l("unknown packet type "+n.type);if(t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type){for(var r="";"-"!==e.charAt(++i)&&(r+=e.charAt(i),i!=e.length););if(r!=Number(r)||"-"!==e.charAt(i))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===e.charAt(i+1))for(n.nsp="";++i;){if(","===(s=e.charAt(i)))break;if(n.nsp+=s,i===e.length)break}else n.nsp="/";var o=e.charAt(i+1);if(""!==o&&Number(o)==o){for(n.id="";++i;){var s;if(null==(s=e.charAt(i))||Number(s)!=s){--i;break}if(n.id+=e.charAt(i),i===e.length)break}n.id=Number(n.id)}if(e.charAt(++i)){var a=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(i));if(!(!1!==a&&(n.type===t.ERROR||h(a))))return l("invalid payload");n.data=a}return c("decoded %s as %j",e,n),n}function a(e){this.reconPack=e,this.buffers=[]}function l(e){return{type:t.ERROR,data:"parser error: "+e}}var c=i(3)("socket.io-parser"),d=i(8),u=i(9),h=i(10),p=i(11);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=n,t.Decoder=o;var f=t.ERROR+'"encode error"';n.prototype.encode=function(e,i){(c("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){u.removeBlobs(e,function(e){var i=u.deconstructPacket(e),n=r(i.packet),o=i.buffers;o.unshift(n),t(o)})}(e,i):i([r(e)])},d(o.prototype),o.prototype.add=function(e){var i;if("string"==typeof e)i=s(e),t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type?(this.reconstructor=new a(i),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",i)):this.emit("decoded",i);else{if(!p(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(i=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",i))}},o.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},a.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=u.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},a.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,i){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function i(){this.off(e,i),t.apply(this,arguments)}return i.fn=t,this.on(e,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var n,r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks["$"+e];if(i)for(var n=0,r=(i=i.slice(0)).length;n<r;++n)i[n].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,i){(function(e){var n=i(10),r=i(11),o=Object.prototype.toString,s="function"==typeof e.Blob||"[object BlobConstructor]"===o.call(e.Blob),a="function"==typeof e.File||"[object FileConstructor]"===o.call(e.File);t.deconstructPacket=function(e){var t=[],i=e.data,o=e;return o.data=function e(t,i){if(!t)return t;if(r(t)){var o={_placeholder:!0,num:i.length};return i.push(t),o}if(n(t)){for(var s=new Array(t.length),a=0;a<t.length;a++)s[a]=e(t[a],i);return s}if("object"==typeof t&&!(t instanceof Date)){for(var l in s={},t)s[l]=e(t[l],i);return s}return t}(i,t),o.attachments=t.length,{packet:o,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,i){if(!t)return t;if(t&&t._placeholder)return i[t.num];if(n(t))for(var r=0;r<t.length;r++)t[r]=e(t[r],i);else if("object"==typeof t)for(var o in t)t[o]=e(t[o],i);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var i=0,o=e;(function e(l,c,d){if(!l)return l;if(s&&l instanceof Blob||a&&l instanceof File){i++;var u=new FileReader;u.onload=function(){d?d[c]=this.result:o=this.result,--i||t(o)},u.readAsArrayBuffer(l)}else if(n(l))for(var h=0;h<l.length;h++)e(l[h],h,l);else if("object"==typeof l&&!r(l))for(var p in l)e(l[p],p,l)})(o),i||t(o)}}).call(t,function(){return this}())},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e,t){(function(t){e.exports=function(e){return i&&t.Buffer.isBuffer(e)||n&&(e instanceof t.ArrayBuffer||r(e))};var i="function"==typeof t.Buffer&&"function"==typeof t.Buffer.isBuffer,n="function"==typeof t.ArrayBuffer,r=n&&"function"==typeof t.ArrayBuffer.isView?t.ArrayBuffer.isView:function(e){return e.buffer instanceof t.ArrayBuffer}}).call(t,function(){return this}())},function(e,t,i){"use strict";function n(e,t){if(!(this instanceof n))return new n(e,t);e&&"object"===(void 0===e?"undefined":r(e))&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var i=t.parser||l;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=i(13),s=i(37),a=i(8),l=i(7),c=i(39),d=i(40),u=i(3)("socket.io-client:manager"),h=i(36),p=i(41),f=Object.prototype.hasOwnProperty;e.exports=n,n.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},n.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},n.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},a(n.prototype),n.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},n.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},n.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},n.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},n.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},n.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},n.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},n.prototype.open=n.prototype.connect=function(e,t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=o(this.uri,this.opts);var i=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var r=c(i,"open",function(){n.onopen(),e&&e()}),s=c(i,"error",function(t){if(u("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var i=new Error("Connection error");i.data=t,e(i)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;u("connect attempt will timeout after %d",a);var l=setTimeout(function(){u("connect attempt timed out after %d",a),r.destroy(),i.close(),i.emit("error","timeout"),n.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(r),this.subs.push(s),this},n.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(c(e,"data",d(this,"ondata"))),this.subs.push(c(e,"ping",d(this,"onping"))),this.subs.push(c(e,"pong",d(this,"onpong"))),this.subs.push(c(e,"error",d(this,"onerror"))),this.subs.push(c(e,"close",d(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",d(this,"ondecoded")))},n.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},n.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},n.prototype.ondata=function(e){this.decoder.add(e)},n.prototype.ondecoded=function(e){this.emit("packet",e)},n.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},n.prototype.socket=function(e,t){function i(){~h(r.connecting,n)||r.connecting.push(n)}var n=this.nsps[e];if(!n){n=new s(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",i),n.on("connect",function(){n.id=r.generateId(e)}),this.autoConnect&&i()}return n},n.prototype.destroy=function(e){var t=h(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},n.prototype.packet=function(e){u("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(i){for(var n=0;n<i.length;n++)t.engine.write(i[n],e.options);t.encoding=!1,t.processPacketQueue()}))},n.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},n.prototype.cleanup=function(){u("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},n.prototype.close=n.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},n.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},n.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var i=setTimeout(function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(i)}})}},n.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,i){e.exports=i(14),e.exports.parser=i(21)},function(e,t,i){(function(t){function n(e,i){if(!(this instanceof n))return new n(e,i);i=i||{},e&&"object"==typeof e&&(i=e,e=null),e?(e=c(e),i.hostname=e.host,i.secure="https"===e.protocol||"wss"===e.protocol,i.port=e.port,e.query&&(i.query=e.query)):i.host&&(i.hostname=c(i.host).host),this.secure=null!=i.secure?i.secure:t.location&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.agent=i.agent||!1,this.hostname=i.hostname||(t.location?location.hostname:"localhost"),this.port=i.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=i.query||{},"string"==typeof this.query&&(this.query=d.decode(this.query)),this.upgrade=!1!==i.upgrade,this.path=(i.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!i.forceJSONP,this.jsonp=!1!==i.jsonp,this.forceBase64=!!i.forceBase64,this.enablesXDR=!!i.enablesXDR,this.timestampParam=i.timestampParam||"t",this.timestampRequests=i.timestampRequests,this.transports=i.transports||["polling","websocket"],this.transportOptions=i.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=i.policyPort||843,this.rememberUpgrade=i.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=i.onlyBinaryUpgrades,this.perMessageDeflate=!1!==i.perMessageDeflate&&(i.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=i.pfx||null,this.key=i.key||null,this.passphrase=i.passphrase||null,this.cert=i.cert||null,this.ca=i.ca||null,this.ciphers=i.ciphers||null,this.rejectUnauthorized=void 0===i.rejectUnauthorized||i.rejectUnauthorized,this.forceNode=!!i.forceNode;var r="object"==typeof t&&t;r.global===r&&(i.extraHeaders&&Object.keys(i.extraHeaders).length>0&&(this.extraHeaders=i.extraHeaders),i.localAddress&&(this.localAddress=i.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}var r=i(15),o=i(8),s=i(3)("engine.io-client:socket"),a=i(36),l=i(21),c=i(2),d=i(30);e.exports=n,n.priorWebsocketSuccess=!1,o(n.prototype),n.protocol=l.protocol,n.Socket=n,n.Transport=i(20),n.transports=i(15),n.parser=i(21),n.prototype.createTransport=function(e){s('creating transport "%s"',e);var t=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}(this.query);t.EIO=l.protocol,t.transport=e;var i=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new r[e]({query:t,socket:this,agent:i.agent||this.agent,hostname:i.hostname||this.hostname,port:i.port||this.port,secure:i.secure||this.secure,path:i.path||this.path,forceJSONP:i.forceJSONP||this.forceJSONP,jsonp:i.jsonp||this.jsonp,forceBase64:i.forceBase64||this.forceBase64,enablesXDR:i.enablesXDR||this.enablesXDR,timestampRequests:i.timestampRequests||this.timestampRequests,timestampParam:i.timestampParam||this.timestampParam,policyPort:i.policyPort||this.policyPort,pfx:i.pfx||this.pfx,key:i.key||this.key,passphrase:i.passphrase||this.passphrase,cert:i.cert||this.cert,ca:i.ca||this.ca,ciphers:i.ciphers||this.ciphers,rejectUnauthorized:i.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:i.perMessageDeflate||this.perMessageDeflate,extraHeaders:i.extraHeaders||this.extraHeaders,forceNode:i.forceNode||this.forceNode,localAddress:i.localAddress||this.localAddress,requestTimeout:i.requestTimeout||this.requestTimeout,protocols:i.protocols||void 0})},n.prototype.open=function(){var e;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},n.prototype.setTransport=function(e){s("setting transport %s",e.name);var t=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},n.prototype.probe=function(e){function t(){if(h.onlyBinaryUpgrades){var t=!this.supportsBinary&&h.transport.supportsBinary;u=u||t}u||(s('probe transport "%s" opened',e),d.send([{type:"ping",data:"probe"}]),d.once("packet",function(t){if(!u)if("pong"===t.type&&"probe"===t.data){if(s('probe transport "%s" pong',e),h.upgrading=!0,h.emit("upgrading",d),!d)return;n.priorWebsocketSuccess="websocket"===d.name,s('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){u||"closed"!==h.readyState&&(s("changing transport and sending upgrade packet"),c(),h.setTransport(d),d.send([{type:"upgrade"}]),h.emit("upgrade",d),d=null,h.upgrading=!1,h.flush())})}else{s('probe transport "%s" failed',e);var i=new Error("probe error");i.transport=d.name,h.emit("upgradeError",i)}}))}function i(){u||(u=!0,c(),d.close(),d=null)}function r(t){var n=new Error("probe error: "+t);n.transport=d.name,i(),s('probe transport "%s" failed because of error: %s',e,t),h.emit("upgradeError",n)}function o(){r("transport closed")}function a(){r("socket closed")}function l(e){d&&e.name!==d.name&&(s('"%s" works - aborting "%s"',e.name,d.name),i())}function c(){d.removeListener("open",t),d.removeListener("error",r),d.removeListener("close",o),h.removeListener("close",a),h.removeListener("upgrading",l)}s('probing transport "%s"',e);var d=this.createTransport(e,{probe:1}),u=!1,h=this;n.priorWebsocketSuccess=!1,d.once("open",t),d.once("error",r),d.once("close",o),this.once("close",a),this.once("upgrading",l),d.open()},n.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},n.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else s('packet received with socket readyState "%s"',this.readyState)},n.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},n.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},n.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},n.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(e,t,i){return this.sendPacket("message",e,t,i),this},n.prototype.sendPacket=function(e,t,i,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof i&&(n=i,i=null),"closing"!==this.readyState&&"closed"!==this.readyState){(i=i||{}).compress=!1!==i.compress;var r={type:e,data:t,options:i};this.emit("packetCreate",r),this.writeBuffer.push(r),n&&this.once("flush",n),this.flush()}},n.prototype.close=function(){function e(){n.onClose("forced close"),s("socket closing - telling transport to close"),n.transport.close()}function t(){n.removeListener("upgrade",t),n.removeListener("upgradeError",t),e()}function i(){n.once("upgrade",t),n.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():e()}):this.upgrading?i():e()}return this},n.prototype.onError=function(e){s("socket error %j",e),n.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},n.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){s('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},n.prototype.filterUpgrades=function(e){for(var t=[],i=0,n=e.length;i<n;i++)~a(this.transports,e[i])&&t.push(e[i]);return t}}).call(t,function(){return this}())},function(e,t,i){(function(e){var n=i(16),r=i(18),o=i(33),s=i(34);t.polling=function(t){var i=!1,s=!1,a=!1!==t.jsonp;if(e.location){var l="https:"===location.protocol,c=location.port;c||(c=l?443:80),i=t.hostname!==location.hostname||c!==t.port,s=t.secure!==l}if(t.xdomain=i,t.xscheme=s,"open"in new n(t)&&!t.forceJSONP)return new r(t);if(!a)throw new Error("JSONP disabled");return new o(t)},t.websocket=s}).call(t,function(){return this}())},function(e,t,i){(function(t){var n=i(17);e.exports=function(e){var i=e.xdomain,r=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!i||n))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!r&&o)return new XDomainRequest}catch(e){}if(!i)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(t,function(){return this}())},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,i){(function(t){function n(){}function r(e){if(l.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,t.location){var i="https:"===location.protocol,n=location.port;n||(n=i?443:80),this.xd=e.hostname!==t.location.hostname||n!==e.port,this.xs=e.secure!==i}}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function s(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var a=i(16),l=i(19),c=i(8),d=i(31),u=i(3)("engine.io-client:polling-xhr");e.exports=r,e.exports.Request=o,d(r,l),r.prototype.supportsBinary=!0,r.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new o(e)},r.prototype.doWrite=function(e,t){var i="string"!=typeof e&&void 0!==e,n=this.request({method:"POST",data:e,isBinary:i}),r=this;n.on("success",t),n.on("error",function(e){r.onError("xhr post error",e)}),this.sendXhr=n},r.prototype.doPoll=function(){u("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var i=this.xhr=new a(e),n=this;try{u("xhr open %s: %s",this.method,this.uri),i.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&i.setRequestHeader(r,this.extraHeaders[r])}catch(e){}if("POST"===this.method)try{this.isBinary?i.setRequestHeader("Content-type","application/octet-stream"):i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{i.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in i&&(i.withCredentials=!0),this.requestTimeout&&(i.timeout=this.requestTimeout),this.hasXDR()?(i.onload=function(){n.onLoad()},i.onerror=function(){n.onError(i.responseText)}):i.onreadystatechange=function(){if(2===i.readyState)try{var e=i.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===e&&(i.responseType="arraybuffer")}catch(e){}4===i.readyState&&(200===i.status||1223===i.status?n.onLoad():setTimeout(function(){n.onError(i.status)},0))},u("xhr data %s",this.data),i.send(this.data)}catch(e){return void setTimeout(function(){n.onError(e)},0)}t.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,e)try{this.xhr.abort()}catch(e){}t.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return void 0!==t.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},o.requestsCount=0,o.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",s):t.addEventListener&&t.addEventListener("beforeunload",s,!1))}).call(t,function(){return this}())},function(e,t,i){function n(e){var t=e&&e.forceBase64;d&&!t||(this.supportsBinary=!1),r.call(this,e)}var r=i(20),o=i(30),s=i(21),a=i(31),l=i(32),c=i(3)("engine.io-client:polling");e.exports=n;var d=null!=new(i(16))({xdomain:!1}).responseType;a(n,r),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(e){function t(){c("paused"),i.readyState="paused",e()}var i=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(c("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){c("pre-pause polling complete"),--n||t()})),this.writable||(c("we are currently writing - waiting to pause"),n++,this.once("drain",function(){c("pre-pause writing complete"),--n||t()}))}else t()},n.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(e){var t=this;c("polling got data %s",e);s.decodePayload(e,this.socket.binaryType,function(e,i,n){return"opening"===t.readyState&&t.onOpen(),"close"===e.type?(t.onClose(),!1):void t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function e(){c("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},n.prototype.write=function(e){var t=this;this.writable=!1;var i=function(){t.writable=!0,t.emit("drain")};s.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,i)})},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",i="";return!1!==this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(i=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+i+this.path+e}},function(e,t,i){function n(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var r=i(21),o=i(8);e.exports=n,o(n.prototype),n.prototype.onError=function(e,t){var i=new Error(e);return i.type="TransportError",i.description=t,this.emit("error",i),this},n.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},n.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},n.prototype.onPacket=function(e){this.emit("packet",e)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,i){(function(e){function n(e,i){return i("b"+t.packets[e.type]+e.data.data)}function r(e,i,n){if(!i)return t.encodeBase64Packet(e,n);var r=e.data,o=new Uint8Array(r),s=new Uint8Array(1+r.byteLength);s[0]=m[e.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return n(s.buffer)}function o(e,i,n){if(!i)return t.encodeBase64Packet(e,n);if(g)return function(e,i,n){if(!i)return t.encodeBase64Packet(e,n);var r=new FileReader;return r.onload=function(){e.data=r.result,t.encodePacket(e,i,!0,n)},r.readAsArrayBuffer(e.data)}(e,i,n);var r=new Uint8Array(1);return r[0]=m[e.type],n(new y([r.buffer,e.data]))}function s(e,t,i){for(var n=new Array(e.length),r=u(e.length,i),o=function(e,i,r){t(i,function(t,i){n[e]=i,r(t,n)})},s=0;s<e.length;s++)o(s,e[s],r)}var a,l=i(22),c=i(23),d=i(24),u=i(25),h=i(26);e&&e.ArrayBuffer&&(a=i(28));var p="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),f="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),g=p||f;t.protocol=3;var m=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},v=l(m),b={type:"error",data:"parser error"},y=i(29);t.encodePacket=function(t,i,s,a){"function"==typeof i&&(a=i,i=!1),"function"==typeof s&&(a=s,s=null);var l=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&l instanceof ArrayBuffer)return r(t,i,a);if(y&&l instanceof e.Blob)return o(t,i,a);if(l&&l.base64)return n(t,a);var c=m[t.type];return void 0!==t.data&&(c+=s?h.encode(String(t.data),{strict:!1}):String(t.data)),a(""+c)},t.encodeBase64Packet=function(i,n){var r,o="b"+t.packets[i.type];if(y&&i.data instanceof e.Blob){var s=new FileReader;return s.onload=function(){var e=s.result.split(",")[1];n(o+e)},s.readAsDataURL(i.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(i.data))}catch(e){for(var a=new Uint8Array(i.data),l=new Array(a.length),c=0;c<a.length;c++)l[c]=a[c];r=String.fromCharCode.apply(null,l)}return o+=e.btoa(r),n(o)},t.decodePacket=function(e,i,n){if(void 0===e)return b;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),i);if(n&&!1===(e=function(e){try{e=h.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return b;var r=e.charAt(0);return Number(r)==r&&v[r]?e.length>1?{type:v[r],data:e.substring(1)}:{type:v[r]}:b}r=new Uint8Array(e)[0];var o=d(e,1);return y&&"blob"===i&&(o=new y([o])),{type:v[r],data:o}},t.decodeBase64Packet=function(e,t){var i=v[e.charAt(0)];if(!a)return{type:i,data:{base64:!0,data:e.substr(1)}};var n=a.decode(e.substr(1));return"blob"===t&&y&&(n=new y([n])),{type:i,data:n}},t.encodePayload=function(e,i,n){"function"==typeof i&&(n=i,i=null);var r=c(e);return i&&r?y&&!g?t.encodePayloadAsBlob(e,n):t.encodePayloadAsArrayBuffer(e,n):e.length?void s(e,function(e,n){t.encodePacket(e,!!r&&i,!1,function(e){n(null,function(e){return e.length+":"+e}(e))})},function(e,t){return n(t.join(""))}):n("0:")},t.decodePayload=function(e,i,n){if("string"!=typeof e)return t.decodePayloadAsBinary(e,i,n);var r;if("function"==typeof i&&(n=i,i=null),""===e)return n(b,0,1);for(var o,s,a="",l=0,c=e.length;l<c;l++){var d=e.charAt(l);if(":"===d){if(""===a||a!=(o=Number(a)))return n(b,0,1);if(a!=(s=e.substr(l+1,o)).length)return n(b,0,1);if(s.length){if(r=t.decodePacket(s,i,!1),b.type===r.type&&b.data===r.data)return n(b,0,1);if(!1===n(r,l+o,c))return}l+=o,a=""}else a+=d}return""!==a?n(b,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,i){return e.length?void s(e,function(e,i){t.encodePacket(e,!0,!0,function(e){return i(null,e)})},function(e,t){var n=t.reduce(function(e,t){var i;return e+(i="string"==typeof t?t.length:t.byteLength).toString().length+i+2},0),r=new Uint8Array(n),o=0;return t.forEach(function(e){var t="string"==typeof e,i=e;if(t){for(var n=new Uint8Array(e.length),s=0;s<e.length;s++)n[s]=e.charCodeAt(s);i=n.buffer}r[o++]=t?0:1;var a=i.byteLength.toString();for(s=0;s<a.length;s++)r[o++]=parseInt(a[s]);r[o++]=255;for(n=new Uint8Array(i),s=0;s<n.length;s++)r[o++]=n[s]}),i(r.buffer)}):i(new ArrayBuffer(0))},t.encodePayloadAsBlob=function(e,i){s(e,function(e,i){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);e=n.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),s=new Uint8Array(o.length+1);for(r=0;r<o.length;r++)s[r]=parseInt(o[r]);if(s[o.length]=255,y){var a=new y([t.buffer,s.buffer,e]);i(null,a)}})},function(e,t){return i(new y(t))})},t.decodePayloadAsBinary=function(e,i,n){"function"==typeof i&&(n=i,i=null);for(var r=e,o=[];r.byteLength>0;){for(var s=new Uint8Array(r),a=0===s[0],l="",c=1;255!==s[c];c++){if(l.length>310)return n(b,0,1);l+=s[c]}r=d(r,2+l.length),l=parseInt(l);var u=d(r,0,l);if(a)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(e){var h=new Uint8Array(u);u="";for(c=0;c<h.length;c++)u+=String.fromCharCode(h[c])}o.push(u),r=d(r,l)}var p=o.length;o.forEach(function(e,r){n(t.decodePacket(e,i,!0),r,p)})}}).call(t,function(){return this}())},function(e,t){e.exports=Object.keys||function(e){var t=[],i=Object.prototype.hasOwnProperty;for(var n in e)i.call(e,n)&&t.push(n);return t}},function(e,t,i){(function(t){var n=i(10),r=Object.prototype.toString,o="function"==typeof t.Blob||"[object BlobConstructor]"===r.call(t.Blob),s="function"==typeof t.File||"[object FileConstructor]"===r.call(t.File);e.exports=function e(i){if(!i||"object"!=typeof i)return!1;if(n(i)){for(var r=0,a=i.length;r<a;r++)if(e(i[r]))return!0;return!1}if("function"==typeof t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(i)||"function"==typeof t.ArrayBuffer&&i instanceof ArrayBuffer||o&&i instanceof Blob||s&&i instanceof File)return!0;if(i.toJSON&&"function"==typeof i.toJSON&&1===arguments.length)return e(i.toJSON(),!0);for(var l in i)if(Object.prototype.hasOwnProperty.call(i,l)&&e(i[l]))return!0;return!1}}).call(t,function(){return this}())},function(e,t){e.exports=function(e,t,i){var n=e.byteLength;if(t=t||0,i=i||n,e.slice)return e.slice(t,i);if(t<0&&(t+=n),i<0&&(i+=n),i>n&&(i=n),t>=n||t>=i||0===n)return new ArrayBuffer(0);for(var r=new Uint8Array(e),o=new Uint8Array(i-t),s=t,a=0;s<i;s++,a++)o[a]=r[s];return o.buffer}},function(e,t){function i(){}e.exports=function(e,t,n){function r(e,i){if(r.count<=0)throw new Error("after called too many times");--r.count,e?(o=!0,t(e),t=n):0!==r.count||o||t(null,i)}var o=!1;return n=n||i,r.count=e,0===e?t():r}},function(e,t,i){var n;(function(e,r){!function(o){function s(e){for(var t,i,n=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(i=e.charCodeAt(r++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),r--):n.push(t);return n}function a(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function l(e,t){return m(e>>t&63|128)}function c(e,t){if(0==(4294967168&e))return m(e);var i="";return 0==(4294965248&e)?i=m(e>>6&31|192):0==(4294901760&e)?(a(e,t)||(e=65533),i=m(e>>12&15|224),i+=l(e,6)):0==(4292870144&e)&&(i=m(e>>18&7|240),i+=l(e,12),i+=l(e,6)),i+m(63&e|128)}function d(){if(g>=f)throw Error("Invalid byte index");var e=255&p[g];if(g++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function u(e){var t,i;if(g>f)throw Error("Invalid byte index");if(g==f)return!1;if(t=255&p[g],g++,0==(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|d())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if((i=(15&t)<<12|d()<<6|d())>=2048)return a(i,e)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&((i=(7&t)<<18|d()<<12|d()<<6|d())>=65536&&i<=1114111))return i;throw Error("Invalid UTF-8 detected")}var h=("object"==typeof e&&e&&e.exports,"object"==typeof r&&r);h.global!==h&&h.window;var p,f,g,m=String.fromCharCode,v={version:"2.1.2",encode:function(e,t){for(var i=!1!==(t=t||{}).strict,n=s(e),r=n.length,o=-1,a="";++o<r;)a+=c(n[o],i);return a},decode:function(e,t){var i=!1!==(t=t||{}).strict;p=s(e),f=p.length,g=0;for(var n,r=[];!1!==(n=u(i));)r.push(n);return function(e){for(var t,i=e.length,n=-1,r="";++n<i;)(t=e[n])>65535&&(r+=m((t-=65536)>>>10&1023|55296),t=56320|1023&t),r+=m(t);return r}(r)}};void 0===(n=function(){return v}.call(t,i,t,e))||(e.exports=n)}()}).call(t,i(27)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),n=0;n<e.length;n++)i[e.charCodeAt(n)]=n;t.encode=function(t){var i,n=new Uint8Array(t),r=n.length,o="";for(i=0;i<r;i+=3)o+=e[n[i]>>2],o+=e[(3&n[i])<<4|n[i+1]>>4],o+=e[(15&n[i+1])<<2|n[i+2]>>6],o+=e[63&n[i+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,n,r,o,s,a=.75*e.length,l=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var d=new ArrayBuffer(a),u=new Uint8Array(d);for(t=0;t<l;t+=4)n=i[e.charCodeAt(t)],r=i[e.charCodeAt(t+1)],o=i[e.charCodeAt(t+2)],s=i[e.charCodeAt(t+3)],u[c++]=n<<2|r>>4,u[c++]=(15&r)<<4|o>>2,u[c++]=(3&o)<<6|63&s;return d}}()},function(e,t){(function(t){function i(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.buffer instanceof ArrayBuffer){var n=i.buffer;if(i.byteLength!==n.byteLength){var r=new Uint8Array(i.byteLength);r.set(new Uint8Array(n,i.byteOffset,i.byteLength)),n=r.buffer}e[t]=n}}}function n(e,t){t=t||{};var n=new o;i(e);for(var r=0;r<e.length;r++)n.append(e[r]);return t.type?n.getBlob(t.type):n.getBlob()}function r(e,t){return i(e),new Blob(e,t||{})}var o=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,s=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),a=s&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),l=o&&o.prototype.append&&o.prototype.getBlob;e.exports=s?a?t.Blob:r:l?n:void 0}).call(t,function(){return this}())},function(e,t){t.encode=function(e){var t="";for(var i in e)e.hasOwnProperty(i)&&(t.length&&(t+="&"),t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t},t.decode=function(e){for(var t={},i=e.split("&"),n=0,r=i.length;n<r;n++){var o=i[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t){e.exports=function(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t){"use strict";function i(e){var t="";do{t=o[e%s]+t,e=Math.floor(e/s)}while(e>0);return t}function n(){var e=i(+new Date);return e!==r?(l=0,r=e):e+"."+i(l++)}for(var r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,a={},l=0,c=0;c<s;c++)a[o[c]]=c;n.encode=i,n.decode=function(e){var t=0;for(c=0;c<e.length;c++)t=t*s+a[e.charAt(c)];return t},e.exports=n},function(e,t,i){(function(t){function n(){}function r(e){o.call(this,e),this.query=this.query||{},a||(t.___eio||(t.___eio=[]),a=t.___eio),this.index=a.length;var i=this;a.push(function(e){i.onData(e)}),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",function(){i.script&&(i.script.onerror=n)},!1)}var o=i(19),s=i(31);e.exports=r;var a,l=/\n/g,c=/\\n/g;s(r,o),r.prototype.supportsBinary=!1,r.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},r.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var i=document.getElementsByTagName("script")[0];i?i.parentNode.insertBefore(t,i):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},r.prototype.doWrite=function(e,t){function i(){n(),t()}function n(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(e){r.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+r.iframeId+'">';o=document.createElement(e)}catch(e){(o=document.createElement("iframe")).name=r.iframeId,o.src="javascript:0"}o.id=r.iframeId,r.form.appendChild(o),r.iframe=o}var r=this;if(!this.form){var o,s=document.createElement("form"),a=document.createElement("textarea"),d=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=d,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),n(),e=e.replace(c,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&i()}:this.iframe.onload=i}}).call(t,function(){return this}())},function(e,t,i){(function(t){function n(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=u&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(h=r),o.call(this,e)}var r,o=i(20),s=i(21),a=i(30),l=i(31),c=i(32),d=i(3)("engine.io-client:websocket"),u=t.WebSocket||t.MozWebSocket;if("undefined"==typeof window)try{r=i(35)}catch(e){}var h=u;h||"undefined"!=typeof window||(h=r),e.exports=n,l(n,o),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,i={agent:this.agent,perMessageDeflate:this.perMessageDeflate};i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(i.headers=this.extraHeaders),this.localAddress&&(i.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new h(e,t):new h(e):new h(e,t,i)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},n.prototype.write=function(e){var i=this;this.writable=!1;for(var n=e.length,r=0,o=n;r<o;r++)!function(e){s.encodePacket(e,i.supportsBinary,function(r){if(!i.usingBrowserWebSocket){var o={};if(e.options&&(o.compress=e.options.compress),i.perMessageDeflate)("string"==typeof r?t.Buffer.byteLength(r):r.length)<i.perMessageDeflate.threshold&&(o.compress=!1)}try{i.usingBrowserWebSocket?i.ws.send(r):i.ws.send(r,o)}catch(e){d("websocket closed before onclose event")}--n||(i.emit("flush"),setTimeout(function(){i.writable=!0,i.emit("drain")},0))})}(e[r])},n.prototype.onClose=function(){o.prototype.onClose.call(this)},n.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",i="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(i=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),(e=a.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+i+this.path+e},n.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===n.prototype.name)}}).call(t,function(){return this}())},function(e,t){},function(e,t){var i=[].indexOf;e.exports=function(e,t){if(i)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t,i){"use strict";function n(e,t,i){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},i&&i.query&&(this.query=i.query),this.io.autoConnect&&this.open()}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=i(7),s=i(8),a=i(38),l=i(39),c=i(40),d=i(3)("socket.io-client:socket"),u=i(30),h=i(23);e.exports=n;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=s.prototype.emit;s(n.prototype),n.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[l(e,"open",c(this,"onopen")),l(e,"packet",c(this,"onpacket")),l(e,"close",c(this,"onclose"))]}},n.prototype.open=n.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},n.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},n.prototype.emit=function(e){if(p.hasOwnProperty(e))return f.apply(this,arguments),this;var t=a(arguments),i={type:(void 0!==this.flags.binary?this.flags.binary:h(t))?o.BINARY_EVENT:o.EVENT,data:t,options:{}};return i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(d("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),this.flags={},this},n.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},n.prototype.onopen=function(){if(d("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===r(this.query)?u.encode(this.query):this.query;d("sending connect packet with query %s",e),this.packet({type:o.CONNECT,query:e})}else this.packet({type:o.CONNECT})},n.prototype.onclose=function(e){d("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},n.prototype.onpacket=function(e){var t=e.nsp===this.nsp,i=e.type===o.ERROR&&"/"===e.nsp;if(t||i)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},n.prototype.onevent=function(e){var t=e.data||[];d("emitting event %j",t),null!=e.id&&(d("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?f.apply(this,t):this.receiveBuffer.push(t)},n.prototype.ack=function(e){var t=this,i=!1;return function(){if(!i){i=!0;var n=a(arguments);d("sending ack %j",n),t.packet({type:h(n)?o.BINARY_ACK:o.ACK,id:e,data:n})}}},n.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(d("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):d("bad ack %s",e.id)},n.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},n.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)f.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},n.prototype.ondisconnect=function(){d("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},n.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},n.prototype.close=n.prototype.disconnect=function(){return this.connected&&(d("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},n.prototype.compress=function(e){return this.flags.compress=e,this},n.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=function(e,t){for(var i=[],n=(t=t||0)||0;n<e.length;n++)i[n-t]=e[n];return i}},function(e,t){"use strict";e.exports=function(e,t,i){return e.on(t,i),{destroy:function(){e.removeListener(t,i)}}}},function(e,t){var i=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}},function(e,t){function i(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=i,i.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),i=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-i:e+i}return 0|Math.min(e,this.max)},i.prototype.reset=function(){this.attempts=0},i.prototype.setMin=function(e){this.ms=e},i.prototype.setMax=function(e){this.max=e},i.prototype.setJitter=function(e){this.jitter=e}}])},e.exports=n()},r8HW:function(e,t,i){var n,r,o,s;s=function(e){e.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var n=e.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(i)))},_drop:function(i,n){var r=n||e.ui.ddmanager.current,o=!1;return!(!r||(r.currentItem||r.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===r.options.scope&&n.accept.call(n.element[0],r.currentItem||r.element)&&t(r,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,i))return o=!0,!1}),!o&&(!!this.accept.call(this.element[0],r.currentItem||r.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",i,this.ui(r)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var t=e.ui.intersect=function(){function e(e,t,i){return e>=t&&e<t+i}return function(t,i,n,r){if(!i.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,a=o+t.helperProportions.width,l=s+t.helperProportions.height,c=i.offset.left,d=i.offset.top,u=c+i.proportions().width,h=d+i.proportions().height;switch(n){case"fit":return c<=o&&a<=u&&d<=s&&l<=h;case"intersect":return c<o+t.helperProportions.width/2&&a-t.helperProportions.width/2<u&&d<s+t.helperProportions.height/2&&l-t.helperProportions.height/2<h;case"pointer":return e(r.pageY,d,i.proportions().height)&&e(r.pageX,c,i.proportions().width);case"touch":return(s>=d&&s<=h||l>=d&&l<=h||s<d&&l>h)&&(o>=c&&o<=u||a>=c&&a<=u||o<c&&a>u);default:return!1}}}();return e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var n,r,o=e.ui.ddmanager.droppables[t.options.scope]||[],s=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<o.length;n++)if(!(o[n].options.disabled||t&&!o[n].accept.call(o[n].element[0],t.currentItem||t.element))){for(r=0;r<a.length;r++)if(a[r]===o[n].element[0]){o[n].proportions().height=0;continue e}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===s&&o[n]._activate.call(o[n],i),o[n].offset=o[n].element.offset(),o[n].proportions({width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight}))}},drop:function(i,n){var r=!1;return e.each((e.ui.ddmanager.droppables[i.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t(i,this,this.options.tolerance,n)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),r},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(i,n){i.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(i,n),e.each(e.ui.ddmanager.droppables[i.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,o,s,a=t(i,this,this.options.tolerance,n),l=!a&&this.isover?"isout":a&&!this.isover?"isover":null;l&&(this.options.greedy&&(o=this.options.scope,(s=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===o})).length&&((r=e(s[0]).droppable("instance")).greedyChild="isover"===l)),r&&"isover"===l&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,n),r&&"isout"===l&&(r.isout=!1,r.isover=!0,r._over.call(r,n)))}})},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),e.ui.droppable},r=[i("7t+N"),i("F8S1"),i("9V2q"),i("UZ9c"),i("z1kw")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},taAx:function(e,t,i){var n,r,o,s;s=function(e){return e.ui.focusable=function(t,i){var n,r,o,s,a,l=t.nodeName.toLowerCase();return"area"===l?(r=(n=t.parentNode).name,!(!t.href||!r||"map"!==n.nodeName.toLowerCase())&&((o=e("img[usemap='#"+r+"']")).length>0&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(l)?(s=!t.disabled)&&(a=e(t).closest("fieldset")[0])&&(s=!a.disabled):s="a"===l&&t.href||i,s&&e(t).is(":visible")&&function(e){var t=e.css("visibility");for(;"inherit"===t;)e=e.parent(),t=e.css("visibility");return"hidden"!==t}(e(t)))},e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}}),e.ui.focusable},r=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},vfPe:function(e,t,i){var n,r,o,s;s=function(e){return e.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):e(this[0].form)}},r=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},xgXc:function(e,t,i){var n,r,o,s;!function(){"use strict";var e,t,i,n,r,o,a;o=864e5,a=3600,e=function(e,t){return"string"==typeof e&&"string"==typeof t&&e.toLowerCase()===t.toLowerCase()},t=function(e,i,n){var r=n||"0",o=e.toString();return o.length<i?t(r+o,i):o},i=function(e){var t,n;for(e=e||{},t=1;t<arguments.length;t++)if(n=arguments[t])for(var r in n)n.hasOwnProperty(r)&&("object"==typeof n[r]?i(e[r],n[r]):e[r]=n[r]);return e},n=function(e,t){for(var i=0;i<t.length;i++)if(t[i].toLowerCase()===e.toLowerCase())return i;return-1},r={dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function(e){var t=e%10,i={1:"st",2:"nd",3:"rd"};return 1!==Math.floor(e%100/10)&&i[t]?i[t]:"th"}},separators:/[ \-+\/\.T:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g},(s=function(e){var t=this,n=i(r,e);t.dateSettings=n.dateSettings,t.separators=n.separators,t.validParts=n.validParts,t.intParts=n.intParts,t.tzParts=n.tzParts,t.tzClip=n.tzClip}).prototype={constructor:s,getMonth:function(e){var t;return 0===(t=n(e,this.dateSettings.monthsShort)+1)&&(t=n(e,this.dateSettings.months)+1),t},parseDate:function(t,i){var n,r,o,s,a,l,c,d,u,h,p=this,f=!1,g=!1,m=p.dateSettings,v={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(!t)return null;if(t instanceof Date)return t;if("U"===i)return(o=parseInt(t))?new Date(1e3*o):t;switch(typeof t){case"number":return new Date(t);case"string":break;default:return null}if(!(n=i.match(p.validParts))||0===n.length)throw new Error("Invalid date format definition.");for(r=t.replace(p.separators,"\0").split("\0"),o=0;o<r.length;o++)switch(s=r[o],a=parseInt(s),n[o]){case"y":case"Y":if(!a)return null;u=s.length,v.year=2===u?parseInt((70>a?"20":"19")+s):a,f=!0;break;case"m":case"n":case"M":case"F":if(isNaN(a)){if(!((l=p.getMonth(s))>0))return null;v.month=l}else{if(!(a>=1&&12>=a))return null;v.month=a}f=!0;break;case"d":case"j":if(!(a>=1&&31>=a))return null;v.day=a,f=!0;break;case"g":case"h":if(h=r[c=n.indexOf("a")>-1?n.indexOf("a"):n.indexOf("A")>-1?n.indexOf("A"):-1],c>-1)d=e(h,m.meridiem[0])?0:e(h,m.meridiem[1])?12:-1,a>=1&&12>=a&&d>-1?v.hour=a+d-1:a>=0&&23>=a&&(v.hour=a);else{if(!(a>=0&&23>=a))return null;v.hour=a}g=!0;break;case"G":case"H":if(!(a>=0&&23>=a))return null;v.hour=a,g=!0;break;case"i":if(!(a>=0&&59>=a))return null;v.min=a,g=!0;break;case"s":if(!(a>=0&&59>=a))return null;v.sec=a,g=!0}if(!0===f&&v.year&&v.month&&v.day)v.date=new Date(v.year,v.month-1,v.day,v.hour,v.min,v.sec,0);else{if(!0!==g)return null;v.date=new Date(0,0,0,v.hour,v.min,v.sec,0)}return v.date},guessDate:function(e,t){if("string"!=typeof e)return e;var i,n,r,o,s,a,l=e.replace(this.separators,"\0").split("\0"),c=t.match(this.validParts),d=new Date,u=0;if(!/^[djmn]/g.test(c[0]))return e;for(r=0;r<l.length;r++){if(u=2,s=l[r],a=parseInt(s.substr(0,2)),isNaN(a))return null;switch(r){case 0:"m"===c[0]||"n"===c[0]?d.setMonth(a-1):d.setDate(a);break;case 1:"m"===c[0]||"n"===c[0]?d.setDate(a):d.setMonth(a-1);break;case 2:if(n=d.getFullYear(),u=4>(i=s.length)?i:4,!(n=parseInt(4>i?n.toString().substr(0,4-i)+s:s.substr(0,4))))return null;d.setFullYear(n);break;case 3:d.setHours(a);break;case 4:d.setMinutes(a);break;case 5:d.setSeconds(a)}(o=s.substr(u)).length>0&&l.splice(r+1,0,o)}return d},parseFormat:function(e,i){var n,r=this,s=r.dateSettings,l=/\\?(.?)/gi,c=function(e,t){return n[e]?n[e]():t};return n={d:function(){return t(n.j(),2)},D:function(){return s.daysShort[n.w()]},j:function(){return i.getDate()},l:function(){return s.days[n.w()]},N:function(){return n.w()||7},w:function(){return i.getDay()},z:function(){var e=new Date(n.Y(),n.n()-1,n.j()),t=new Date(n.Y(),0,1);return Math.round((e-t)/o)},W:function(){var e=new Date(n.Y(),n.n()-1,n.j()-n.N()+3),i=new Date(e.getFullYear(),0,4);return t(1+Math.round((e-i)/o/7),2)},F:function(){return s.months[i.getMonth()]},m:function(){return t(n.n(),2)},M:function(){return s.monthsShort[i.getMonth()]},n:function(){return i.getMonth()+1},t:function(){return new Date(n.Y(),n.n(),0).getDate()},L:function(){var e=n.Y();return e%4==0&&e%100!=0||e%400==0?1:0},o:function(){var e=n.n(),t=n.W();return n.Y()+(12===e&&9>t?1:1===e&&t>9?-1:0)},Y:function(){return i.getFullYear()},y:function(){return n.Y().toString().slice(-2)},a:function(){return n.A().toLowerCase()},A:function(){var e=n.G()<12?0:1;return s.meridiem[e]},B:function(){var e=i.getUTCHours()*a,n=60*i.getUTCMinutes(),r=i.getUTCSeconds();return t(Math.floor((e+n+r+a)/86.4)%1e3,3)},g:function(){return n.G()%12||12},G:function(){return i.getHours()},h:function(){return t(n.g(),2)},H:function(){return t(n.G(),2)},i:function(){return t(i.getMinutes(),2)},s:function(){return t(i.getSeconds(),2)},u:function(){return t(1e3*i.getMilliseconds(),6)},e:function(){return/\((.*)\)/.exec(String(i))[1]||"Coordinated Universal Time"},I:function(){return new Date(n.Y(),0)-Date.UTC(n.Y(),0)!=new Date(n.Y(),6)-Date.UTC(n.Y(),6)?1:0},O:function(){var e=i.getTimezoneOffset(),n=Math.abs(e);return(e>0?"-":"+")+t(100*Math.floor(n/60)+n%60,4)},P:function(){var e=n.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return(String(i).match(r.tzParts)||[""]).pop().replace(r.tzClip,"")||"UTC"},Z:function(){return 60*-i.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(l,c)},r:function(){return"D, d M Y H:i:s O".replace(l,c)},U:function(){return i.getTime()/1e3||0}},c(e,e)},formatDate:function(e,t){var i,n,r,o,s,a=this,l="";if("string"==typeof e&&!(e=a.parseDate(e,t)))return null;if(e instanceof Date){for(r=t.length,i=0;r>i;i++)"S"!==(s=t.charAt(i))&&"\\"!==s&&(i>0&&"\\"===t.charAt(i-1)?l+=s:(o=a.parseFormat(s,e),i!==r-1&&a.intParts.test(s)&&"S"===t.charAt(i+1)&&(n=parseInt(o)||0,o+=a.dateSettings.ordinal(n)),l+=o));return l}return""}}}();var a;a=function(e){"use strict";var t={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeekShort:["ن","ث","ع","خ","ج","س","ح"],dayOfWeek:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت","الأحد"]},ro:{months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],dayOfWeekShort:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],dayOfWeek:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeekShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],dayOfWeek:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},is:{months:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],dayOfWeekShort:["Sun","Mán","Þrið","Mið","Fim","Fös","Lau"],dayOfWeek:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeekShort:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeekShort:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],dayOfWeek:["یک‌شنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنج‌شنبه","جمعه","شنبه","یک‌شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeekShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeekShort:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"],dayOfWeek:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeekShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayOfWeek:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeekShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayOfWeek:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeekShort:["zo","ma","di","wo","do","vr","za"],dayOfWeek:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeekShort:["Paz","Pts","Sal","Çar","Per","Cum","Cts"],dayOfWeek:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeekShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayOfWeek:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeekShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],dayOfWeek:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeekShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayOfWeek:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัส","ศุกร์","เสาร์","อาทิตย์"]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeekShort:["nd","pn","wt","śr","cz","pt","sb"],dayOfWeek:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},km:{months:["មករា​","កុម្ភៈ","មិនា​","មេសា​","ឧសភា​","មិថុនា​","កក្កដា​","សីហា​","កញ្ញា​","តុលា​","វិច្ឆិកា","ធ្នូ​"],dayOfWeekShort:["អាទិ​","ច័ន្ទ​","អង្គារ​","ពុធ​","ព្រហ​​","សុក្រ​","សៅរ៍"],dayOfWeek:["អាទិត្យ​","ច័ន្ទ​","អង្គារ​","ពុធ​","ព្រហស្បតិ៍​","សុក្រ​","សៅរ៍"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayOfWeek:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]},da:{months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeekShort:["日","月","火","水","木","金","土"],dayOfWeek:["日曜","月曜","火曜","水曜","木曜","金曜","土曜"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeekShort:["CN","T2","T3","T4","T5","T6","T7"],dayOfWeek:["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeekShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"],dayOfWeek:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeekShort:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeekShort:["Va","Hé","Ke","Sze","Cs","Pé","Szo"],dayOfWeek:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeekShort:["B","Be","Ça","Ç","Ca","C","Ş"],dayOfWeek:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ca:{months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeekShort:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],dayOfWeek:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},et:{months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeekShort:["P","E","T","K","N","R","L"],dayOfWeek:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeekShort:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."],dayOfWeek:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeekShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayOfWeek:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"],dayOfWeek:["Domingo","Luns","Martes","Mércores","Xoves","Venres","Sábado"]},hr:{months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ko:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},lt:{months:["Sausio","Vasario","Kovo","Balandžio","Gegužės","Birželio","Liepos","Rugpjūčio","Rugsėjo","Spalio","Lapkričio","Gruodžio"],dayOfWeekShort:["Sek","Pir","Ant","Tre","Ket","Pen","Šeš"],dayOfWeek:["Sekmadienis","Pirmadienis","Antradienis","Trečiadienis","Ketvirtadienis","Penktadienis","Šeštadienis"]},lv:{months:["Janvāris","Februāris","Marts","Aprīlis ","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeekShort:["Sv","Pr","Ot","Tr","Ct","Pk","St"],dayOfWeek:["Svētdiena","Pirmdiena","Otrdiena","Trešdiena","Ceturtdiena","Piektdiena","Sestdiena"]},mk:{months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],dayOfWeekShort:["нед","пон","вто","сре","чет","пет","саб"],dayOfWeek:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота"]},mn:{months:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],dayOfWeekShort:["Дав","Мяг","Лха","Пүр","Бсн","Бям","Ням"],dayOfWeek:["Даваа","Мягмар","Лхагва","Пүрэв","Баасан","Бямба","Ням"]},"pt-BR":{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},sk:{months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],dayOfWeekShort:["Ne","Po","Ut","St","Št","Pi","So"],dayOfWeek:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"]},sq:{months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"],dayOfWeekShort:["Die","Hën","Mar","Mër","Enj","Pre","Shtu"],dayOfWeek:["E Diel","E Hënë","E Martē","E Mërkurë","E Enjte","E Premte","E Shtunë"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sre","čet","Pet","Sub"],dayOfWeek:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota"]},sr:{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],dayOfWeekShort:["нед","пон","уто","сре","чет","пет","суб"],dayOfWeek:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayOfWeek:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"]},"zh-TW":{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},zh:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},ug:{months:["1-ئاي","2-ئاي","3-ئاي","4-ئاي","5-ئاي","6-ئاي","7-ئاي","8-ئاي","9-ئاي","10-ئاي","11-ئاي","12-ئاي"],dayOfWeek:["يەكشەنبە","دۈشەنبە","سەيشەنبە","چارشەنبە","پەيشەنبە","جۈمە","شەنبە"]},he:{months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],dayOfWeekShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],dayOfWeek:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת","ראשון"]},hy:{months:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],dayOfWeekShort:["Կի","Երկ","Երք","Չոր","Հնգ","Ուրբ","Շբթ"],dayOfWeek:["Կիրակի","Երկուշաբթի","Երեքշաբթի","Չորեքշաբթի","Հինգշաբթի","Ուրբաթ","Շաբաթ"]},kg:{months:["Үчтүн айы","Бирдин айы","Жалган Куран","Чын Куран","Бугу","Кулжа","Теке","Баш Оона","Аяк Оона","Тогуздун айы","Жетинин айы","Бештин айы"],dayOfWeekShort:["Жек","Дүй","Шей","Шар","Бей","Жум","Ише"],dayOfWeek:["Жекшемб","Дүйшөмб","Шейшемб","Шаршемб","Бейшемби","Жума","Ишенб"]},rm:{months:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],dayOfWeekShort:["Du","Gli","Ma","Me","Gie","Ve","So"],dayOfWeek:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"]},ka:{months:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომბერი","ნოემბერი","დეკემბერი"],dayOfWeekShort:["კვ","ორშ","სამშ","ოთხ","ხუთ","პარ","შაბ"],dayOfWeek:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი"]}},ownerDocument:document,contentWindow:window,value:"",rtl:!1,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,openOnFocus:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,minDateTime:!1,maxDateTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",touchMovedThreshold:5,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onGetWeekOfYear:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],allowDates:[],allowDateRe:null,disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1},i=null,n=null,r="en",o={meridiem:["AM","PM"]},a=function(){var a=t.i18n[r],l={days:a.dayOfWeek,daysShort:a.dayOfWeekShort,months:a.months,monthsShort:e.map(a.months,function(e){return e.substring(0,3)})};"function"==typeof s&&(i=n=new s({dateSettings:e.extend({},o,l)}))},l={moment:{default_options:{format:"YYYY/MM/DD HH:mm",formatDate:"YYYY/MM/DD",formatTime:"HH:mm"},formatter:{parseDate:function(e,t){if(d(t))return n.parseDate(e,t);var i=moment(e,t);return!!i.isValid()&&i.toDate()},formatDate:function(e,t){return d(t)?n.formatDate(e,t):moment(e).format(t)},formatMask:function(e){return e.replace(/Y{4}/g,"9999").replace(/Y{2}/g,"99").replace(/M{2}/g,"19").replace(/D{2}/g,"39").replace(/H{2}/g,"29").replace(/m{2}/g,"59").replace(/s{2}/g,"59")}}}};e.datetimepicker={setLocale:function(e){var i=t.i18n[e]?e:"en";r!==i&&(r=i,a())},setDateFormatter:function(n){if("string"==typeof n&&l.hasOwnProperty(n)){var r=l[n];e.extend(t,r.default_options),i=r.formatter}else i=n}};var c={RFC_2822:"D, d M Y H:i:s O",ATOM:"Y-m-dTH:i:sP",ISO_8601:"Y-m-dTH:i:sO",RFC_822:"D, d M y H:i:s O",RFC_850:"l, d-M-y H:i:s T",RFC_1036:"D, d M y H:i:s O",RFC_1123:"D, d M Y H:i:s O",RSS:"D, d M Y H:i:s O",W3C:"Y-m-dTH:i:sP"},d=function(e){return-1!==Object.values(c).indexOf(e)};function u(e,t,i){this.date=e,this.desc=t,this.style=i}e.extend(e.datetimepicker,c),a(),window.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var i=/(-([a-z]))/g;return"float"===t&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,function(e,t,i){return i.toUpperCase()})),e.currentStyle[t]||null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var i,n;for(i=t||0,n=this.length;i<n;i+=1)if(this[i]===e)return i;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},e.fn.xdsoftScroller=function(t,i){return this.each(function(){var n,r,o,s,a,l=e(this),c=function(e){var t,i={x:0,y:0};return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type?(t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],i.x=t.clientX,i.y=t.clientY):"mousedown"!==e.type&&"mouseup"!==e.type&&"mousemove"!==e.type&&"mouseover"!==e.type&&"mouseout"!==e.type&&"mouseenter"!==e.type&&"mouseleave"!==e.type||(i.x=e.clientX,i.y=e.clientY),i},d=100,u=!1,h=0,p=0,f=0,g=!1,m=0,v=function(){};"hide"!==i?(e(this).hasClass("xdsoft_scroller_box")||(n=l.children().eq(0),r=l[0].clientHeight,o=n[0].offsetHeight,s=e('<div class="xdsoft_scrollbar"></div>'),a=e('<div class="xdsoft_scroller"></div>'),s.append(a),l.addClass("xdsoft_scroller_box").append(s),v=function(e){var t=c(e).y-h+m;t<0&&(t=0),t+a[0].offsetHeight>f&&(t=f-a[0].offsetHeight),l.trigger("scroll_element.xdsoft_scroller",[d?t/d:0])},a.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(n){r||l.trigger("resize_scroll.xdsoft_scroller",[i]),h=c(n).y,m=parseInt(a.css("margin-top"),10),f=s[0].offsetHeight,"mousedown"===n.type||"touchstart"===n.type?(t.ownerDocument&&e(t.ownerDocument.body).addClass("xdsoft_noselect"),e([t.ownerDocument.body,t.contentWindow]).on("touchend mouseup.xdsoft_scroller",function i(){e([t.ownerDocument.body,t.contentWindow]).off("touchend mouseup.xdsoft_scroller",i).off("mousemove.xdsoft_scroller",v).removeClass("xdsoft_noselect")}),e(t.ownerDocument.body).on("mousemove.xdsoft_scroller",v)):(g=!0,n.stopPropagation(),n.preventDefault())}).on("touchmove",function(e){g&&(e.preventDefault(),v(e))}).on("touchend touchcancel",function(){g=!1,m=0}),l.on("scroll_element.xdsoft_scroller",function(e,t){r||l.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:t<0||isNaN(t)?0:t,a.css("margin-top",d*t),setTimeout(function(){n.css("marginTop",-parseInt((n[0].offsetHeight-r)*t,10))},10)}).on("resize_scroll.xdsoft_scroller",function(e,t,i){var c,u;r=l[0].clientHeight,o=n[0].offsetHeight,u=(c=r/o)*s[0].offsetHeight,c>1?a.hide():(a.show(),a.css("height",parseInt(u>10?u:10,10)),d=s[0].offsetHeight-a[0].offsetHeight,!0!==i&&l.trigger("scroll_element.xdsoft_scroller",[t||Math.abs(parseInt(n.css("marginTop"),10))/(o-r)]))}),l.on("mousewheel",function(e){var t=Math.abs(parseInt(n.css("marginTop"),10));return(t-=20*e.deltaY)<0&&(t=0),l.trigger("scroll_element.xdsoft_scroller",[t/(o-r)]),e.stopPropagation(),!1}),l.on("touchstart",function(e){u=c(e),p=Math.abs(parseInt(n.css("marginTop"),10))}),l.on("touchmove",function(e){if(u){e.preventDefault();var t=c(e);l.trigger("scroll_element.xdsoft_scroller",[(p-(t.y-u.y))/(o-r)])}}),l.on("touchend touchcancel",function(){u=!1,p=0})),l.trigger("resize_scroll.xdsoft_scroller",[i])):l.find(".xdsoft_scrollbar").hide()})},e.fn.datetimepicker=function(n,o){var s,a,l=this,c=48,d=57,h=96,p=105,f=17,g=46,m=13,v=27,b=8,y=37,w=38,x=39,C=40,k=9,S=116,$=65,D=67,T=86,_=90,j=89,A=!1,F=e.isPlainObject(n)||!n?e.extend(!0,{},t,n):e.extend(!0,{},t),N=0;return s=function(t){var o,s,a,l,N,I,O=e('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),R=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),E=e('<div class="xdsoft_datepicker active"></div>'),M=e('<div class="xdsoft_monthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),P=e('<div class="xdsoft_calendar"></div>'),L=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),q=L.find(".xdsoft_time_box").eq(0),z=e('<div class="xdsoft_time_variant"></div>'),H=e('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),B=e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),G=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),W=!1,V=0;F.id&&O.attr("id",F.id),F.style&&O.attr("style",F.style),F.weeks&&O.addClass("xdsoft_showweeks"),F.rtl&&O.addClass("xdsoft_rtl"),O.addClass("xdsoft_"+F.theme),O.addClass(F.className),M.find(".xdsoft_month span").after(B),M.find(".xdsoft_year span").after(G),M.find(".xdsoft_month,.xdsoft_year").on("touchstart mousedown.xdsoft",function(t){var i,n,r=e(this).find(".xdsoft_select").eq(0),o=0,s=0,a=r.is(":visible");for(M.find(".xdsoft_select").hide(),N.currentTime&&(o=N.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),r[a?"hide":"show"](),i=r.find("div.xdsoft_option"),n=0;n<i.length&&i.eq(n).data("value")!==o;n+=1)s+=i[0].offsetHeight;return r.xdsoftScroller(F,s/(r.children()[0].offsetHeight-r[0].clientHeight)),t.stopPropagation(),!1});var U=function(e){var t=e.originalEvent,i=t.touches?t.touches[0]:t;this.touchStartPosition=this.touchStartPosition||i;var n=Math.abs(this.touchStartPosition.clientX-i.clientX),r=Math.abs(this.touchStartPosition.clientY-i.clientY);Math.sqrt(n*n+r*r)>F.touchMovedThreshold&&(this.touchMoved=!0)};function Y(){var e,i=!1;return F.startDate?i=N.strToDate(F.startDate):(i=F.value||(t&&t.val&&t.val()?t.val():""))?(i=N.strToDateTime(i),F.yearOffset&&(i=new Date(i.getFullYear()-F.yearOffset,i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))):F.defaultDate&&(i=N.strToDateTime(F.defaultDate),F.defaultTime&&(e=N.strtotime(F.defaultTime),i.setHours(e.getHours()),i.setMinutes(e.getMinutes()))),i&&N.isValidDate(i)?O.data("changed",!0):i="",i||0}function X(n){var r=function(e,t){var i=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(i).test(t)},o=function(e,t){if(!(e="string"==typeof e||e instanceof String?n.ownerDocument.getElementById(e):e))return!1;if(e.createTextRange){var i=e.createTextRange();return i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select(),!0}return!!e.setSelectionRange&&(e.setSelectionRange(t,t),!0)};n.mask&&t.off("keydown.xdsoft"),!0===n.mask&&(i.formatMask?n.mask=i.formatMask(n.format):n.mask=n.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===e.type(n.mask)&&(r(n.mask,t.val())||(t.val(n.mask.replace(/[0-9]/g,"_")),o(t[0],0)),t.on("paste.xdsoft",function(i){var s=(i.clipboardData||i.originalEvent.clipboardData||window.clipboardData).getData("text"),a=this.value,l=this.selectionStart;return a=a.substr(0,l)+s+a.substr(l+s.length),l+=s.length,r(n.mask,a)?(this.value=a,o(this,l)):""===e.trim(a)?this.value=n.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft"),i.preventDefault(),!1}),t.on("keydown.xdsoft",function(i){var s,a=this.value,l=i.which,u=this.selectionStart,F=this.selectionEnd,N=u!==F;if(l>=c&&l<=d||l>=h&&l<=p||l===b||l===g){for(s=l===b||l===g?"_":String.fromCharCode(h<=l&&l<=p?l-c:l),l===b&&u&&!N&&(u-=1);;){var I=n.mask.substr(u,1),O=u<n.mask.length,R=u>0;if(!(/[^0-9_]/.test(I)&&O&&R))break;u+=l!==b||N?1:-1}if(N){var E=F-u,M=n.mask.replace(/[0-9]/g,"_"),P=M.substr(u,E).substr(1);a=a.substr(0,u)+(s+P)+a.substr(u+E)}else a=a.substr(0,u)+s+a.substr(u+1);if(""===e.trim(a))a=M;else if(u===n.mask.length)return i.preventDefault(),!1;for(u+=l===b?0:1;/[^0-9_]/.test(n.mask.substr(u,1))&&u<n.mask.length&&u>0;)u+=l===b?0:1;r(n.mask,a)?(this.value=a,o(this,u)):""===e.trim(a)?this.value=n.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft")}else if(-1!==[$,D,T,_,j].indexOf(l)&&A||-1!==[v,w,C,y,x,S,f,k,m].indexOf(l))return!0;return i.preventDefault(),!1}))}M.find(".xdsoft_select").xdsoftScroller(F).on("touchstart mousedown.xdsoft",function(e){var t=e.originalEvent;this.touchMoved=!1,this.touchStartPosition=t.touches?t.touches[0]:t,e.stopPropagation(),e.preventDefault()}).on("touchmove",".xdsoft_option",U).on("touchend mousedown.xdsoft",".xdsoft_option",function(){if(!this.touchMoved){void 0!==N.currentTime&&null!==N.currentTime||(N.currentTime=N.now());var t=N.currentTime.getFullYear();N&&N.currentTime&&N.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),O.trigger("xchange.xdsoft"),F.onChangeMonth&&e.isFunction(F.onChangeMonth)&&F.onChangeMonth.call(O,N.currentTime,O.data("input")),t!==N.currentTime.getFullYear()&&e.isFunction(F.onChangeYear)&&F.onChangeYear.call(O,N.currentTime,O.data("input"))}}),O.getValue=function(){return N.getCurrentTime()},O.setOptions=function(n){var r={};F=e.extend(!0,{},F,n),n.allowTimes&&e.isArray(n.allowTimes)&&n.allowTimes.length&&(F.allowTimes=e.extend(!0,[],n.allowTimes)),n.weekends&&e.isArray(n.weekends)&&n.weekends.length&&(F.weekends=e.extend(!0,[],n.weekends)),n.allowDates&&e.isArray(n.allowDates)&&n.allowDates.length&&(F.allowDates=e.extend(!0,[],n.allowDates)),n.allowDateRe&&"[object String]"===Object.prototype.toString.call(n.allowDateRe)&&(F.allowDateRe=new RegExp(n.allowDateRe)),n.highlightedDates&&e.isArray(n.highlightedDates)&&n.highlightedDates.length&&(e.each(n.highlightedDates,function(t,n){var o,s=e.map(n.split(","),e.trim),a=new u(i.parseDate(s[0],F.formatDate),s[1],s[2]),l=i.formatDate(a.date,F.formatDate);void 0!==r[l]?(o=r[l].desc)&&o.length&&a.desc&&a.desc.length&&(r[l].desc=o+"\n"+a.desc):r[l]=a}),F.highlightedDates=e.extend(!0,[],r)),n.highlightedPeriods&&e.isArray(n.highlightedPeriods)&&n.highlightedPeriods.length&&(r=e.extend(!0,[],F.highlightedDates),e.each(n.highlightedPeriods,function(t,n){var o,s,a,l,c,d,h;if(e.isArray(n))o=n[0],s=n[1],a=n[2],h=n[3];else{var p=e.map(n.split(","),e.trim);o=i.parseDate(p[0],F.formatDate),s=i.parseDate(p[1],F.formatDate),a=p[2],h=p[3]}for(;o<=s;)l=new u(o,a,h),c=i.formatDate(o,F.formatDate),o.setDate(o.getDate()+1),void 0!==r[c]?(d=r[c].desc)&&d.length&&l.desc&&l.desc.length&&(r[c].desc=d+"\n"+l.desc):r[c]=l}),F.highlightedDates=e.extend(!0,[],r)),n.disabledDates&&e.isArray(n.disabledDates)&&n.disabledDates.length&&(F.disabledDates=e.extend(!0,[],n.disabledDates)),n.disabledWeekDays&&e.isArray(n.disabledWeekDays)&&n.disabledWeekDays.length&&(F.disabledWeekDays=e.extend(!0,[],n.disabledWeekDays)),!F.open&&!F.opened||F.inline||t.trigger("open.xdsoft"),F.inline&&(W=!0,O.addClass("xdsoft_inline"),t.after(O).hide()),F.inverseButton&&(F.next="xdsoft_prev",F.prev="xdsoft_next"),F.datepicker?E.addClass("active"):E.removeClass("active"),F.timepicker?L.addClass("active"):L.removeClass("active"),F.value&&(N.setCurrentTime(F.value),t&&t.val&&t.val(N.str)),isNaN(F.dayOfWeekStart)?F.dayOfWeekStart=0:F.dayOfWeekStart=parseInt(F.dayOfWeekStart,10)%7,F.timepickerScrollbar||q.xdsoftScroller(F,"hide"),F.minDate&&/^[\+\-](.*)$/.test(F.minDate)&&(F.minDate=i.formatDate(N.strToDateTime(F.minDate),F.formatDate)),F.maxDate&&/^[\+\-](.*)$/.test(F.maxDate)&&(F.maxDate=i.formatDate(N.strToDateTime(F.maxDate),F.formatDate)),F.minDateTime&&/^\+(.*)$/.test(F.minDateTime)&&(F.minDateTime=N.strToDateTime(F.minDateTime).dateFormat(F.formatDate)),F.maxDateTime&&/^\+(.*)$/.test(F.maxDateTime)&&(F.maxDateTime=N.strToDateTime(F.maxDateTime).dateFormat(F.formatDate)),H.toggle(F.showApplyButton),M.find(".xdsoft_today_button").css("visibility",F.todayButton?"visible":"hidden"),M.find("."+F.prev).css("visibility",F.prevButton?"visible":"hidden"),M.find("."+F.next).css("visibility",F.nextButton?"visible":"hidden"),X(F),F.validateOnBlur&&t.off("blur.xdsoft").on("blur.xdsoft",function(){if(F.allowBlank&&(!e.trim(e(this).val()).length||"string"==typeof F.mask&&e.trim(e(this).val())===F.mask.replace(/[0-9]/g,"_")))e(this).val(null),O.data("xdsoft_datetime").empty();else{var t=i.parseDate(e(this).val(),F.format);if(t)e(this).val(i.formatDate(t,F.format));else{var n=+[e(this).val()[0],e(this).val()[1]].join(""),r=+[e(this).val()[2],e(this).val()[3]].join("");!F.datepicker&&F.timepicker&&n>=0&&n<24&&r>=0&&r<60?e(this).val([n,r].map(function(e){return e>9?e:"0"+e}).join(":")):e(this).val(i.formatDate(N.now(),F.format))}O.data("xdsoft_datetime").setCurrentTime(e(this).val())}O.trigger("changedatetime.xdsoft"),O.trigger("close.xdsoft")}),F.dayOfWeekStartPrev=0===F.dayOfWeekStart?6:F.dayOfWeekStart-1,O.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},O.data("options",F).on("touchstart mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),G.hide(),B.hide(),!1}),q.append(z),q.xdsoftScroller(F),O.on("afterOpen.xdsoft",function(){q.xdsoftScroller(F)}),O.append(E).append(L),!0!==F.withoutCopyright&&O.append(R),E.append(M).append(P).append(H),e(F.parentID).append(O),N=new function(){var t=this;t.now=function(e){var i,n,r=new Date;return!e&&F.defaultDate&&(i=t.strToDateTime(F.defaultDate),r.setFullYear(i.getFullYear()),r.setMonth(i.getMonth()),r.setDate(i.getDate())),r.setFullYear(r.getFullYear()),!e&&F.defaultTime&&(n=t.strtotime(F.defaultTime),r.setHours(n.getHours()),r.setMinutes(n.getMinutes()),r.setSeconds(n.getSeconds()),r.setMilliseconds(n.getMilliseconds())),r},t.isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t.setCurrentTime=function(e,i){"string"==typeof e?t.currentTime=t.strToDateTime(e):t.isValidDate(e)?t.currentTime=e:e||i||!F.allowBlank||F.inline?t.currentTime=t.now():t.currentTime=null,O.trigger("xchange.xdsoft")},t.empty=function(){t.currentTime=null},t.getCurrentTime=function(){return t.currentTime},t.nextMonth=function(){void 0!==t.currentTime&&null!==t.currentTime||(t.currentTime=t.now());var i,n=t.currentTime.getMonth()+1;return 12===n&&(t.currentTime.setFullYear(t.currentTime.getFullYear()+1),n=0),i=t.currentTime.getFullYear(),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),n+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(n),F.onChangeMonth&&e.isFunction(F.onChangeMonth)&&F.onChangeMonth.call(O,N.currentTime,O.data("input")),i!==t.currentTime.getFullYear()&&e.isFunction(F.onChangeYear)&&F.onChangeYear.call(O,N.currentTime,O.data("input")),O.trigger("xchange.xdsoft"),n},t.prevMonth=function(){void 0!==t.currentTime&&null!==t.currentTime||(t.currentTime=t.now());var i=t.currentTime.getMonth()-1;return-1===i&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),i=11),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),i+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(i),F.onChangeMonth&&e.isFunction(F.onChangeMonth)&&F.onChangeMonth.call(O,N.currentTime,O.data("input")),O.trigger("xchange.xdsoft"),i},t.getWeekOfYear=function(t){if(F.onGetWeekOfYear&&e.isFunction(F.onGetWeekOfYear)){var i=F.onGetWeekOfYear.call(O,t);if(void 0!==i)return i}var n=new Date(t.getFullYear(),0,1);return 4!==n.getDay()&&n.setMonth(0,1+(4-n.getDay()+7)%7),Math.ceil(((t-n)/864e5+n.getDay()+1)/7)},t.strToDateTime=function(e){var n,r,o=[];return e&&e instanceof Date&&t.isValidDate(e)?e:((o=/^([+-]{1})(.*)$/.exec(e))&&(o[2]=i.parseDate(o[2],F.formatDate)),o&&o[2]?(n=o[2].getTime()-6e4*o[2].getTimezoneOffset(),r=new Date(t.now(!0).getTime()+parseInt(o[1]+"1",10)*n)):r=e?i.parseDate(e,F.format):t.now(),t.isValidDate(r)||(r=t.now()),r)},t.strToDate=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var n=e?i.parseDate(e,F.formatDate):t.now(!0);return t.isValidDate(n)||(n=t.now(!0)),n},t.strtotime=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var n=e?i.parseDate(e,F.formatTime):t.now(!0);return t.isValidDate(n)||(n=t.now(!0)),n},t.str=function(){var e=F.format;return F.yearOffset&&(e=(e=e.replace("Y",t.currentTime.getFullYear()+F.yearOffset)).replace("y",String(t.currentTime.getFullYear()+F.yearOffset).substring(2,4))),i.formatDate(t.currentTime,e)},t.currentTime=this.now()},H.on("touchend click",function(e){e.preventDefault(),O.data("changed",!0),N.setCurrentTime(Y()),t.val(N.str()),O.trigger("close.xdsoft")}),M.find(".xdsoft_today_button").on("touchend mousedown.xdsoft",function(){O.data("changed",!0),N.setCurrentTime(0,!0),O.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){var e,i,n=N.getCurrentTime();n=new Date(n.getFullYear(),n.getMonth(),n.getDate()),e=N.strToDate(F.minDate),n<(e=new Date(e.getFullYear(),e.getMonth(),e.getDate()))||(i=N.strToDate(F.maxDate),n>(i=new Date(i.getFullYear(),i.getMonth(),i.getDate()))||(t.val(N.str()),t.trigger("change"),O.trigger("close.xdsoft")))}),M.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var t=e(this),i=0,n=!1;!function e(r){t.hasClass(F.next)?N.nextMonth():t.hasClass(F.prev)&&N.prevMonth(),F.monthChangeSpinner&&(n||(i=setTimeout(e,r||100)))}(500),e([F.ownerDocument.body,F.contentWindow]).on("touchend mouseup.xdsoft",function t(){clearTimeout(i),n=!0,e([F.ownerDocument.body,F.contentWindow]).off("touchend mouseup.xdsoft",t)})}),L.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var t=e(this),i=0,n=!1,r=110;!function e(o){var s=q[0].clientHeight,a=z[0].offsetHeight,l=Math.abs(parseInt(z.css("marginTop"),10));t.hasClass(F.next)&&a-s-F.timeHeightInTimePicker>=l?z.css("marginTop","-"+(l+F.timeHeightInTimePicker)+"px"):t.hasClass(F.prev)&&l-F.timeHeightInTimePicker>=0&&z.css("marginTop","-"+(l-F.timeHeightInTimePicker)+"px"),q.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(z[0].style.marginTop,10)/(a-s))]),r=r>10?10:r-10,n||(i=setTimeout(e,o||r))}(500),e([F.ownerDocument.body,F.contentWindow]).on("touchend mouseup.xdsoft",function t(){clearTimeout(i),n=!0,e([F.ownerDocument.body,F.contentWindow]).off("touchend mouseup.xdsoft",t)})}),o=0,O.on("xchange.xdsoft",function(s){clearTimeout(o),o=setTimeout(function(){void 0!==N.currentTime&&null!==N.currentTime||(N.currentTime=N.now());for(var o,s,a,l,c,d,u,h,p,f,g="",m=new Date(N.currentTime.getFullYear(),N.currentTime.getMonth(),1,12,0,0),v=0,b=N.now(),y=!1,w=!1,x=!1,C=!1,k=[],S=!0,$="";m.getDay()!==F.dayOfWeekStart;)m.setDate(m.getDate()-1);for(g+="<table><thead><tr>",F.weeks&&(g+="<th></th>"),o=0;o<7;o+=1)g+="<th>"+F.i18n[r].dayOfWeekShort[(o+F.dayOfWeekStart)%7]+"</th>";for(g+="</tr></thead>",g+="<tbody>",!1!==F.maxDate&&(y=N.strToDate(F.maxDate),y=new Date(y.getFullYear(),y.getMonth(),y.getDate(),23,59,59,999)),!1!==F.minDate&&(w=N.strToDate(F.minDate),w=new Date(w.getFullYear(),w.getMonth(),w.getDate())),!1!==F.minDateTime&&(x=N.strToDate(F.minDateTime),x=new Date(x.getFullYear(),x.getMonth(),x.getDate(),x.getHours(),x.getMinutes(),x.getSeconds())),!1!==F.maxDateTime&&(C=N.strToDate(F.maxDateTime),C=new Date(C.getFullYear(),C.getMonth(),C.getDate(),C.getHours(),C.getMinutes(),C.getSeconds())),!1!==C&&(f=31*(12*C.getFullYear()+C.getMonth())+C.getDate());v<N.currentTime.countDaysInMonth()||m.getDay()!==F.dayOfWeekStart||N.currentTime.getMonth()===m.getMonth();){k=[],v+=1,a=m.getDay(),l=m.getDate(),c=m.getFullYear(),j=m.getMonth(),d=N.getWeekOfYear(m),p="",k.push("xdsoft_date"),u=F.beforeShowDay&&e.isFunction(F.beforeShowDay.call)?F.beforeShowDay.call(O,m):null,F.allowDateRe&&"[object RegExp]"===Object.prototype.toString.call(F.allowDateRe)&&(F.allowDateRe.test(i.formatDate(m,F.formatDate))||k.push("xdsoft_disabled")),F.allowDates&&F.allowDates.length>0&&-1===F.allowDates.indexOf(i.formatDate(m,F.formatDate))&&k.push("xdsoft_disabled");var D=31*(12*m.getFullYear()+m.getMonth())+m.getDate();(!1!==y&&m>y||!1!==x&&m<x||!1!==w&&m<w||!1!==C&&D>f||u&&!1===u[0])&&k.push("xdsoft_disabled"),-1!==F.disabledDates.indexOf(i.formatDate(m,F.formatDate))&&k.push("xdsoft_disabled"),-1!==F.disabledWeekDays.indexOf(a)&&k.push("xdsoft_disabled"),t.is("[disabled]")&&k.push("xdsoft_disabled"),u&&""!==u[1]&&k.push(u[1]),N.currentTime.getMonth()!==j&&k.push("xdsoft_other_month"),(F.defaultSelect||O.data("changed"))&&i.formatDate(N.currentTime,F.formatDate)===i.formatDate(m,F.formatDate)&&k.push("xdsoft_current"),i.formatDate(b,F.formatDate)===i.formatDate(m,F.formatDate)&&k.push("xdsoft_today"),0!==m.getDay()&&6!==m.getDay()&&-1===F.weekends.indexOf(i.formatDate(m,F.formatDate))||k.push("xdsoft_weekend"),void 0!==F.highlightedDates[i.formatDate(m,F.formatDate)]&&(s=F.highlightedDates[i.formatDate(m,F.formatDate)],k.push(void 0===s.style?"xdsoft_highlighted_default":s.style),p=void 0===s.desc?"":s.desc),F.beforeShowDay&&e.isFunction(F.beforeShowDay)&&k.push(F.beforeShowDay(m)),S&&(g+="<tr>",S=!1,F.weeks&&(g+="<th>"+d+"</th>")),g+='<td data-date="'+l+'" data-month="'+j+'" data-year="'+c+'" class="xdsoft_date xdsoft_day_of_week'+m.getDay()+" "+k.join(" ")+'" title="'+p+'"><div>'+l+"</div></td>",m.getDay()===F.dayOfWeekStartPrev&&(g+="</tr>",S=!0),m.setDate(l+1)}g+="</tbody></table>",P.html(g),M.find(".xdsoft_label span").eq(0).text(F.i18n[r].months[N.currentTime.getMonth()]),M.find(".xdsoft_label span").eq(1).text(N.currentTime.getFullYear()+F.yearOffset),$="",j="";var T=0;if(!1!==F.minTime){var _=N.strtotime(F.minTime);T=60*_.getHours()+_.getMinutes()}var j,A=1440;(!1!==F.maxTime&&(_=N.strtotime(F.maxTime),A=60*_.getHours()+_.getMinutes()),!1!==F.minDateTime&&(_=N.strToDateTime(F.minDateTime),i.formatDate(N.currentTime,F.formatDate)===i.formatDate(_,F.formatDate)&&(j=60*_.getHours()+_.getMinutes())>T&&(T=j)),!1!==F.maxDateTime)&&(_=N.strToDateTime(F.maxDateTime),i.formatDate(N.currentTime,F.formatDate)===i.formatDate(_,F.formatDate)&&(j=60*_.getHours()+_.getMinutes())<A&&(A=j));if(h=function(n,r){var o,s=N.now(),a=F.allowTimes&&e.isArray(F.allowTimes)&&F.allowTimes.length;s.setHours(n),n=parseInt(s.getHours(),10),s.setMinutes(r),r=parseInt(s.getMinutes(),10),k=[];var l=60*n+r;(t.is("[disabled]")||l>=A||l<T)&&k.push("xdsoft_disabled"),(o=new Date(N.currentTime)).setHours(parseInt(N.currentTime.getHours(),10)),a||o.setMinutes(Math[F.roundTime](N.currentTime.getMinutes()/F.step)*F.step),(F.initTime||F.defaultSelect||O.data("changed"))&&o.getHours()===parseInt(n,10)&&(!a&&F.step>59||o.getMinutes()===parseInt(r,10))&&(F.defaultSelect||O.data("changed")?k.push("xdsoft_current"):F.initTime&&k.push("xdsoft_init_time")),parseInt(b.getHours(),10)===parseInt(n,10)&&parseInt(b.getMinutes(),10)===parseInt(r,10)&&k.push("xdsoft_today"),$+='<div class="xdsoft_time '+k.join(" ")+'" data-hour="'+n+'" data-minute="'+r+'">'+i.formatDate(s,F.formatTime)+"</div>"},F.allowTimes&&e.isArray(F.allowTimes)&&F.allowTimes.length)for(v=0;v<F.allowTimes.length;v+=1)h(N.strtotime(F.allowTimes[v]).getHours(),j=N.strtotime(F.allowTimes[v]).getMinutes());else for(v=0,o=0;v<(F.hours12?12:24);v+=1)for(o=0;o<60;o+=F.step){var I=60*v+o;I<T||I>=A||h((v<10?"0":"")+v,j=(o<10?"0":"")+o)}for(z.html($),n="",v=parseInt(F.yearStart,10);v<=parseInt(F.yearEnd,10);v+=1)n+='<div class="xdsoft_option '+(N.currentTime.getFullYear()===v?"xdsoft_current":"")+'" data-value="'+v+'">'+(v+F.yearOffset)+"</div>";for(G.children().eq(0).html(n),v=parseInt(F.monthStart,10),n="";v<=parseInt(F.monthEnd,10);v+=1)n+='<div class="xdsoft_option '+(N.currentTime.getMonth()===v?"xdsoft_current":"")+'" data-value="'+v+'">'+F.i18n[r].months[v]+"</div>";B.children().eq(0).html(n),e(O).trigger("generate.xdsoft")},10),s.stopPropagation()}).on("afterOpen.xdsoft",function(){var e,t,i,n;F.timepicker&&(z.find(".xdsoft_current").length?e=".xdsoft_current":z.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e?(t=q[0].clientHeight,(i=z[0].offsetHeight)-t<(n=z.find(e).index()*F.timeHeightInTimePicker+1)&&(n=i-t),q.trigger("scroll_element.xdsoft_scroller",[parseInt(n,10)/(i-t)])):q.trigger("scroll_element.xdsoft_scroller",[0]))}),s=0,P.on("touchend click.xdsoft","td",function(i){i.stopPropagation(),s+=1;var n=e(this),r=N.currentTime;if(void 0!==r&&null!==r||(N.currentTime=N.now(),r=N.currentTime),n.hasClass("xdsoft_disabled"))return!1;r.setDate(1),r.setFullYear(n.data("year")),r.setMonth(n.data("month")),r.setDate(n.data("date")),O.trigger("select.xdsoft",[r]),t.val(N.str()),F.onSelectDate&&e.isFunction(F.onSelectDate)&&F.onSelectDate.call(O,N.currentTime,O.data("input"),i),O.data("changed",!0),O.trigger("xchange.xdsoft"),O.trigger("changedatetime.xdsoft"),(s>1||!0===F.closeOnDateSelect||!1===F.closeOnDateSelect&&!F.timepicker)&&!F.inline&&O.trigger("close.xdsoft"),setTimeout(function(){s=0},200)}),z.on("touchstart","div",function(e){this.touchMoved=!1}).on("touchmove","div",U).on("touchend click.xdsoft","div",function(t){if(!this.touchMoved){t.stopPropagation();var i=e(this),n=N.currentTime;if(void 0!==n&&null!==n||(N.currentTime=N.now(),n=N.currentTime),i.hasClass("xdsoft_disabled"))return!1;n.setHours(i.data("hour")),n.setMinutes(i.data("minute")),O.trigger("select.xdsoft",[n]),O.data("input").val(N.str()),F.onSelectTime&&e.isFunction(F.onSelectTime)&&F.onSelectTime.call(O,N.currentTime,O.data("input"),t),O.data("changed",!0),O.trigger("xchange.xdsoft"),O.trigger("changedatetime.xdsoft"),!0!==F.inline&&!0===F.closeOnTimeSelect&&O.trigger("close.xdsoft")}}),E.on("mousewheel.xdsoft",function(e){return!F.scrollMonth||(e.deltaY<0?N.nextMonth():N.prevMonth(),!1)}),t.on("mousewheel.xdsoft",function(e){return!F.scrollInput||(!F.datepicker&&F.timepicker?((a=z.find(".xdsoft_current").length?z.find(".xdsoft_current").eq(0).index():0)+e.deltaY>=0&&a+e.deltaY<z.children().length&&(a+=e.deltaY),z.children().eq(a).length&&z.children().eq(a).trigger("mousedown"),!1):F.datepicker&&!F.timepicker?(E.trigger(e,[e.deltaY,e.deltaX,e.deltaY]),t.val&&t.val(N.str()),O.trigger("changedatetime.xdsoft"),!1):void 0)}),O.on("changedatetime.xdsoft",function(t){if(F.onChangeDateTime&&e.isFunction(F.onChangeDateTime)){var i=O.data("input");F.onChangeDateTime.call(O,N.currentTime,i,t),delete F.value,i.trigger("change")}}).on("generate.xdsoft",function(){F.onGenerate&&e.isFunction(F.onGenerate)&&F.onGenerate.call(O,N.currentTime,O.data("input")),W&&(O.trigger("afterOpen.xdsoft"),W=!1)}).on("click.xdsoft",function(e){e.stopPropagation()}),a=0,I=function(e,t){do{if(!(e=e.parentNode)||!1===t(e))break}while("HTML"!==e.nodeName)},l=function(){var t,i,n,r,o,s,a,l,c,d,u,h,p;if(t=(l=O.data("input")).offset(),i=l[0],d="top",n=t.top+i.offsetHeight-1,r=t.left,o="absolute",c=e(F.contentWindow).width(),h=e(F.contentWindow).height(),p=e(F.contentWindow).scrollTop(),F.ownerDocument.documentElement.clientWidth-t.left<E.parent().outerWidth(!0)){var f=E.parent().outerWidth(!0)-i.offsetWidth;r-=f}"rtl"===l.parent().css("direction")&&(r-=O.outerWidth()-l.outerWidth()),F.fixed?(n-=p,r-=e(F.contentWindow).scrollLeft(),o="fixed"):(a=!1,I(i,function(e){return null!==e&&("fixed"===F.contentWindow.getComputedStyle(e).getPropertyValue("position")?(a=!0,!1):void 0)}),a?(o="fixed",n+O.outerHeight()>h+p?(d="bottom",n=h+p-t.top):n-=p):n+O[0].offsetHeight>h+p&&(n=t.top-O[0].offsetHeight+1),n<0&&(n=0),r+i.offsetWidth>c&&(r=c-i.offsetWidth)),s=O[0],I(s,function(e){if("relative"===F.contentWindow.getComputedStyle(e).getPropertyValue("position")&&c>=e.offsetWidth)return r-=(c-e.offsetWidth)/2,!1}),(u={position:o,left:r,top:"",bottom:""})[d]=n,O.css(u)},O.on("open.xdsoft",function(t){var i=!0;F.onShow&&e.isFunction(F.onShow)&&(i=F.onShow.call(O,N.currentTime,O.data("input"),t)),!1!==i&&(O.show(),l(),e(F.contentWindow).off("resize.xdsoft",l).on("resize.xdsoft",l),F.closeOnWithoutClick&&e([F.ownerDocument.body,F.contentWindow]).on("touchstart mousedown.xdsoft",function t(){O.trigger("close.xdsoft"),e([F.ownerDocument.body,F.contentWindow]).off("touchstart mousedown.xdsoft",t)}))}).on("close.xdsoft",function(t){var i=!0;M.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),F.onClose&&e.isFunction(F.onClose)&&(i=F.onClose.call(O,N.currentTime,O.data("input"),t)),!1===i||F.opened||F.inline||O.hide(),t.stopPropagation()}).on("toggle.xdsoft",function(){O.is(":visible")?O.trigger("close.xdsoft"):O.trigger("open.xdsoft")}).data("input",t),V=0,O.data("xdsoft_datetime",N),O.setOptions(F),N.setCurrentTime(Y()),t.data("xdsoft_datetimepicker",O).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function(){t.is(":disabled")||t.data("xdsoft_datetimepicker").is(":visible")&&F.closeOnInputClick||F.openOnFocus&&(clearTimeout(V),V=setTimeout(function(){t.is(":disabled")||(W=!0,N.setCurrentTime(Y(),!0),F.mask&&X(F),O.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(t){var i,n=t.which;return-1!==[m].indexOf(n)&&F.enterLikeTab?(i=e("input:visible,textarea:visible,button:visible,a:visible"),O.trigger("close.xdsoft"),i.eq(i.index(this)+1).focus(),!1):-1!==[k].indexOf(n)?(O.trigger("close.xdsoft"),!0):void 0}).on("blur.xdsoft",function(){O.trigger("close.xdsoft")})},a=function(t){var i=t.data("xdsoft_datetimepicker");i&&(i.data("xdsoft_datetime",null),i.remove(),t.data("xdsoft_datetimepicker",null).off(".xdsoft"),e(F.contentWindow).off("resize.xdsoft"),e([F.contentWindow,F.ownerDocument.body]).off("mousedown.xdsoft touchstart"),t.unmousewheel&&t.unmousewheel())},e(F.ownerDocument).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){e.keyCode===f&&(A=!0)}).on("keyup.xdsoftctrl",function(e){e.keyCode===f&&(A=!1)}),this.each(function(){var t,r=e(this).data("xdsoft_datetimepicker");if(r){if("string"===e.type(n))switch(n){case"show":e(this).select().focus(),r.trigger("open.xdsoft");break;case"hide":r.trigger("close.xdsoft");break;case"toggle":r.trigger("toggle.xdsoft");break;case"destroy":a(e(this));break;case"reset":this.value=this.defaultValue,this.value&&r.data("xdsoft_datetime").isValidDate(i.parseDate(this.value,F.format))||r.data("changed",!1),r.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":r.data("input").trigger("blur.xdsoft");break;default:r[n]&&e.isFunction(r[n])&&(l=r[n](o))}else r.setOptions(n);return 0}"string"!==e.type(n)&&(!F.lazyInit||F.open||F.inline?s(e(this)):(t=e(this)).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function e(){t.is(":disabled")||t.data("xdsoft_datetimepicker")||(clearTimeout(N),N=setTimeout(function(){t.data("xdsoft_datetimepicker")||s(t),t.off("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",e).trigger("open.xdsoft")},100))}))}),l},e.fn.datetimepicker.defaults=t},r=[i("7t+N"),i("5xbe")],void 0===(o="function"==typeof(n=a)?n.apply(t,r):n)||(e.exports=o),function(s){r=[i("7t+N")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}(function(e){var t,i,n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice;if(e.event.fixHooks)for(var s=n.length;s;)e.event.fixHooks[n[--s]]=e.event.mouseHooks;var a=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],l,!1);else this.onmousewheel=l;e.data(this,"mousewheel-line-height",a.getLineHeight(this)),e.data(this,"mousewheel-page-height",a.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],l,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(n){var r,s=n||window.event,l=o.call(arguments,1),u=0,h=0,p=0,f=0,g=0;if((n=e.event.fix(s)).type="mousewheel","detail"in s&&(p=-1*s.detail),"wheelDelta"in s&&(p=s.wheelDelta),"wheelDeltaY"in s&&(p=s.wheelDeltaY),"wheelDeltaX"in s&&(h=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(h=-1*p,p=0),u=0===p?h:p,"deltaY"in s&&(u=p=-1*s.deltaY),"deltaX"in s&&(h=s.deltaX,0===p&&(u=-1*h)),0!==p||0!==h){if(1===s.deltaMode){var m=e.data(this,"mousewheel-line-height");u*=m,p*=m,h*=m}else if(2===s.deltaMode){var v=e.data(this,"mousewheel-page-height");u*=v,p*=v,h*=v}if(r=Math.max(Math.abs(p),Math.abs(h)),(!i||r<i)&&(i=r,d(s,r)&&(i/=40)),d(s,r)&&(u/=40,h/=40,p/=40),u=Math[u>=1?"floor":"ceil"](u/i),h=Math[h>=1?"floor":"ceil"](h/i),p=Math[p>=1?"floor":"ceil"](p/i),a.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();f=n.clientX-b.left,g=n.clientY-b.top}return n.deltaX=h,n.deltaY=p,n.deltaFactor=i,n.offsetX=f,n.offsetY=g,n.deltaMode=0,l.unshift(n,u,h,p),t&&clearTimeout(t),t=setTimeout(c,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function c(){i=null}function d(e,t){return a.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})},yWuW:function(e,t,i){var n,r,o,s;s=function(e){return e.widget("ui.checkboxradio",[e.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,i,n=this,r=this._super()||{};return this._readType(),i=this.element.labels(),this.label=e(i[i.length-1]),this.label.length||e.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){n.originalLabel+=3===this.nodeType?e(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(r.disabled=t),r},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||e.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,i="input[name='"+e.ui.escapeSelector(t)+"']";return t?(this.form.length?e(this.form[0].elements).filter(i):e(i).filter(function(){return 0===e(this).form().length})).not(this.element):e([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=e(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if("label"!==e||t){if(this._super(e,t),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(t){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=e("<span>"),this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]),e.ui.checkboxradio},r=[i("7t+N"),i("WesT"),i("6b8n"),i("HPGu"),i("z1kw")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},z1kw:function(e,t,i){var n,r,o,s;s=function(e){var t,i=0,n=Array.prototype.slice;return e.cleanData=(t=e.cleanData,function(i){var n,r,o;for(o=0;null!=(r=i[o]);o++)try{(n=e._data(r,"events"))&&n.remove&&e(r).triggerHandler("remove")}catch(e){}t(i)}),e.widget=function(t,i,n){var r,o,s,a={},l=t.split(".")[0],c=l+"-"+(t=t.split(".")[1]);return n||(n=i,i=e.Widget),e.isArray(n)&&(n=e.extend.apply(null,[{}].concat(n))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},r=e[l][t],o=e[l][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),(s=new i).options=e.widget.extend({},s.options),e.each(n,function(t,n){e.isFunction(n)?a[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function r(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=n.apply(this,arguments),this._super=i,this._superApply=o,t}}():a[t]=n}),o.prototype=e.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||t},a,{constructor:o,namespace:l,widgetName:t,widgetFullName:c}),r?(e.each(r._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete r._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,r,o=n.call(arguments,1),s=0,a=o.length;s<a;s++)for(i in o[s])r=o[s][i],o[s].hasOwnProperty(i)&&void 0!==r&&(e.isPlainObject(r)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],r):e.widget.extend({},r):t[i]=r);return t},e.widget.bridge=function(t,i){var r=i.prototype.widgetFullName||t;e.fn[t]=function(o){var s="string"==typeof o,a=n.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each(function(){var i,n=e.data(this,r);return"instance"===o?(l=n,!1):n?e.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,a))!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(a.length&&(o=e.widget.extend.apply(null,[o].concat(a))),this.each(function(){var t=e.data(this,r);t?(t.option(o||{}),t._init&&t._init()):e.data(this,r,new i(o,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,i){t._removeClass(i,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,r,o,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},t=(n=t.split(".")).shift(),n.length){for(r=s[t]=e.widget.extend({},this.options[t]),o=0;o<n.length-1;o++)r[n[o]]=r[n[o]]||{},r=r[n[o]];if(t=n.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,n,r;for(i in t)r=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&r&&r.length&&(n=e(r.get()),this._removeClass(r,i),n.addClass(this._classes({element:n,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var i=[],n=this;function r(r,o){var s,a;for(a=0;a<r.length;a++)s=n.classesElementLookup[r[a]]||e(),s=t.add?e(e.unique(s.get().concat(t.element.get()))):e(s.not(t.element).get()),n.classesElementLookup[r[a]]=s,i.push(r[a]),o&&t.classes[r[a]]&&i.push(t.classes[r[a]])}return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&r(t.keys.match(/\S+/g)||[],!0),t.extra&&r(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,function(n,r){-1!==e.inArray(t.target,r)&&(i.classesElementLookup[n]=e(r.not(t.target).get()))})},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,n){n="boolean"==typeof n?n:i;var r="string"==typeof e||null===e,o={extra:r?t:i,keys:r?e:t,element:r?this.element:e,add:n};return o.element.toggleClass(this._classes(o),n),this},_on:function(t,i,n){var r,o=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=r=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),e.each(n,function(n,s){function a(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,d=l[2];d?r.on(c,d,a):i.on(c,a)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,n){var r,o,s=this.options[t];if(n=n||{},(i=e.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(e.isFunction(s)&&!1===s.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,r,o){var s;"string"==typeof r&&(r={effect:r});var a=r?!0===r||"number"==typeof r?i:r.effect||i:t;"number"==typeof(r=r||{})&&(r={duration:r}),s=!e.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),s&&e.effects&&e.effects.effect[a]?n[t](r):a!==t&&n[a]?n[a](r.duration,r.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}}),e.widget},r=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},zUl4:function(e,t,i){var n,r,o,s;s=function(e){return e.ui.plugin={add:function(t,i,n){var r,o=e.ui[t].prototype;for(r in n)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([i,n[r]])},call:function(e,t,i,n){var r,o=e.plugins[t];if(o&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)e.options[o[r][0]]&&o[r][1].apply(e.element,i)}}},r=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)},zkIY:function(e,t,i){var n,r,o,s;s=function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())},r=[i("7t+N"),i("UZ9c")],void 0===(o="function"==typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}},[2]);